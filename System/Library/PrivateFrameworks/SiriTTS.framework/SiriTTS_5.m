uint64_t MvToEqWordRecUpdFieldsFnc(uint64_t a1, uint64_t a2, _WORD *a3, uint64_t a4)
{
  _QWORD *v8;
  uint64_t v9;
  unsigned __int16 v10;
  unsigned __int16 v11;
  const char *v12;
  unsigned __int16 *v13;
  uint64_t v14;
  _WORD *v15;
  int v16;
  _WORD *v17;
  const char *v18;
  int v19;
  int v20;
  char *v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  size_t v26;
  __int16 v27;
  __int16 v28;
  char *i;
  char *v30;
  char *__src;
  char *__s;
  int v34;
  int v35;
  int v36;
  unsigned int v37;

  v36 = 0;
  v37 = 0;
  v34 = 0;
  v35 = 0;
  v8 = *(_QWORD **)a4;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(*(_QWORD *)a4 + 8) + 168))(a1, a2, (unsigned __int16)*a3, 0, 1, &v37, (char *)&v36 + 2);
  if ((v9 & 0x80000000) == 0)
  {
    v10 = **(_WORD **)(a4 + 16);
    if (v10)
    {
      v11 = 0;
      v12 = "-*";
      do
      {
        v13 = (unsigned __int16 *)(*(_QWORD *)(a4 + 136) + 16 * v11);
        *(_QWORD *)(a4 + 144) = v13;
        if (*v13 == (unsigned __int16)*a3)
        {
          v14 = (*(uint64_t (**)(uint64_t, uint64_t))(v8[1] + 160))(a1, a2);
          if ((v14 & 0x80000000) != 0)
            return v14;
          v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t, int *))(v8[1] + 160))(a1, a2, (unsigned __int16)*a3, 2, 1, *(_QWORD *)(a4 + 144) + 14, &v36);
          if ((v9 & 0x80000000) != 0)
            return v9;
          if (v37 <= 0xA && ((1 << v37) & 0x610) != 0)
          {
            __s = 0;
            v15 = *(_WORD **)(a4 + 112);
            v16 = (unsigned __int16)*v15;
            if (*v15)
            {
              v17 = *(_WORD **)(a4 + 128);
              if (v16 == *(unsigned __int8 *)(v8[14] + (unsigned __int16)*v17))
              {
                if (**(_WORD **)(a4 + 120))
                {
                  __src = 0;
                  ++*v17;
                  *(_BYTE *)(*(unsigned __int16 *)(*(_QWORD *)(a4 + 144) + 12) + *(_QWORD *)(a4 + 176) - 1) = 45;
                  v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v8[1] + 176))(a1, a2, (unsigned __int16)*a3, 3, &__s, (char *)&v36 + 2);
                  if ((v14 & 0x80000000) != 0)
                    return v14;
                  v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v8[1] + 176))(a1, a2, **(unsigned __int16 **)(a4 + 120), 3, &__src, (char *)&v36 + 2);
                  if ((v14 & 0x80000000) != 0)
                    return v14;
                  v18 = v12;
                  v19 = strlen(__s);
                  v20 = strlen(__src);
                  v21 = (char *)heap_Realloc(*(uint64_t **)(*v8 + 8), *(_QWORD *)(a4 + 184), (v19 + v20 + 2));
                  if (!v21)
                  {
                    log_OutPublic(*(_QWORD *)(*v8 + 32), (uint64_t)"FE_NORMOUT", 43000, 0, v22, v23, v24, v25, __src);
                    return 2340429834;
                  }
                  *(_QWORD *)(a4 + 184) = v21;
                  strcpy(v21, __src);
                  v26 = strlen(*(const char **)(a4 + 184));
                  if (*((_DWORD *)v8 + 27))
                    v27 = 61;
                  else
                    v27 = 45;
                  *(_WORD *)(*(_QWORD *)(a4 + 184) + v26) = v27;
                  strcat(*(char **)(a4 + 184), __s);
                  v28 = strlen(*(const char **)(a4 + 184));
                  v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, int *))(v8[1] + 160))(a1, a2, **(unsigned __int16 **)(a4 + 120), 3, (unsigned __int16)(v28 + 1), *(_QWORD *)(a4 + 184), &v36);
                  if ((v14 & 0x80000000) != 0)
                    return v14;
                  v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t, int *))(v8[1] + 160))(a1, a2, **(unsigned __int16 **)(a4 + 120), 2, 1, *(_QWORD *)(a4 + 144) + 14, &v36);
                  if ((v14 & 0x80000000) != 0)
                    return v14;
                  v12 = v18;
                  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, int *))(v8[1] + 184))(a1, a2, **(unsigned __int16 **)(a4 + 144), 8, &v34) & 0x80000000) == 0&& (unsigned __int16)v34 == 1)
                  {
                    v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(v8[1] + 168))(a1, a2, **(unsigned __int16 **)(a4 + 144), 8, 1, (char *)&v34 + 2, (char *)&v36 + 2);
                    if ((v14 & 0x80000000) != 0)
                      return v14;
                    v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(v8[1] + 160))(a1, a2, **(unsigned __int16 **)(a4 + 120), 8, 1, (char *)&v34 + 2, &v36);
                    if ((v14 & 0x80000000) != 0)
                      return v14;
                  }
                  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, int *))(v8[1] + 184))(a1, a2, **(unsigned __int16 **)(a4 + 144), 14, &v34) & 0x80000000) == 0&& (unsigned __int16)v34 == 1)
                  {
                    v14 = MvToEqWordRecUpdNLU(a1, a2, v8, a4);
                    if ((v14 & 0x80000000) != 0)
                      return v14;
                  }
                  v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(v8[1] + 192))(a1, a2, (unsigned __int16)*a3);
                  if ((v14 & 0x80000000) != 0)
                    return v14;
                  *a3 = **(_WORD **)(a4 + 120);
                }
              }
            }
            v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v8[1] + 176))(a1, a2, (unsigned __int16)*a3, 3, &__s, (char *)&v36 + 2);
            if ((v9 & 0x80000000) != 0)
              return v9;
            if (*__s && strstr(__s, v12))
            {
              v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(v8[1] + 168))(a1, a2, (unsigned __int16)*a3, 1, 1, (char *)&v35 + 2, (char *)&v36 + 2);
              if ((v14 & 0x80000000) != 0)
                return v14;
              v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(v8[1] + 168))(a1, a2, (unsigned __int16)*a3, 2, 1, &v35, (char *)&v36 + 2);
              if ((v9 & 0x80000000) != 0)
                return v9;
              for (i = (char *)(*(_QWORD *)(a4 + 176) + HIWORD(v35)); ; i = v30 + 1)
              {
                v30 = strchr(i, 45);
                if (!v30 || (unint64_t)v30 >= *(_QWORD *)(a4 + 176) + (unint64_t)(unsigned __int16)v35)
                  break;
                *v30 = 95;
              }
            }
            ++**(_WORD **)(a4 + 112);
            **(_WORD **)(a4 + 120) = *a3;
          }
          v10 = **(_WORD **)(a4 + 16);
          v11 = v10;
        }
        ++v11;
      }
      while (v11 < v10);
    }
  }
  return v9;
}

uint64_t fe_normout_ProcessEnd(uint64_t a1, int a2)
{
  uint64_t result;

  LODWORD(result) = safeh_HandleCheck(a1, a2, 62387, 120);
  if ((int)result >= 0)
    return result;
  else
    return 2340429832;
}

uint64_t fe_normout_GetInterface(unsigned int a1, _QWORD *a2)
{
  uint64_t result;

  if (a1 > 1)
    return 2340429825;
  result = 0;
  *a2 = &IFeNormout;
  return result;
}

uint64_t fe_normout_check_if_word_in_prompt(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4, _DWORD *a5)
{
  uint64_t result;
  unsigned __int16 v10;
  unsigned __int16 v11;
  unsigned __int16 v13;
  unsigned int v14;
  int v15;
  int v16;

  v15 = 0;
  v16 = 0;
  v14 = 11;
  v13 = -1;
  *a5 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 8) + 104))(a2, a3, 1, 0, (char *)&v16 + 2);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 8) + 152))(a2, a3, 2, HIWORD(v16), &v15);
    if ((result & 0x80000000) == 0)
    {
      if ((_WORD)v15)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 8) + 104))(a2, a3, 2, HIWORD(v16), &v16);
        if ((result & 0x80000000) == 0)
        {
          v10 = v16;
          if ((_WORD)v16)
          {
            v11 = 0;
            while (1)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(a1 + 8) + 168))(a2, a3, v10, 0, 1, &v14, (char *)&v15 + 2);
              if ((result & 0x80000000) != 0)
                break;
              if (v14 <= 0xA && ((1 << v14) & 0x610) != 0)
              {
                if (a4 == v11)
                {
                  result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(*(_QWORD *)(a1 + 8) + 168))(a2, a3, (unsigned __int16)v16, 1, 1, &v13, (char *)&v15 + 2);
                  if ((result & 0x80000000) != 0)
                    return result;
                }
                ++v11;
              }
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 8) + 120))(a2, a3, (unsigned __int16)v16, &v16);
              if ((result & 0x80000000) != 0)
                return result;
              v10 = v16;
              if (!(_WORD)v16 || a4 < v11)
              {
                if (v13 != 0xFFFF)
                  return (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 8) + 312))(a2, a3);
                return result;
              }
            }
          }
        }
      }
    }
  }
  return result;
}

uint64_t MvToEqWordRecUpdNLU(uint64_t a1, uint64_t a2, _QWORD *a3, uint64_t a4)
{
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  char *v14;
  uint64_t v15;
  char *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  char *v21;
  char v22;
  int v23;
  uint64_t v24;
  uint64_t v25;
  __int16 v26;
  __int16 v27;
  char *v28;
  __int16 v29;
  uint64_t (*v30)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD, char *, char *);
  __int16 v31;
  char v32;
  char v33;
  size_t v34;
  const char *v35;
  char *v36;
  __int16 v37;
  unsigned int v39;
  int v40;
  char *v41;
  unsigned __int16 v42;
  char *v43;
  unsigned __int16 v44;
  char *v45;
  unsigned __int16 __n[8];
  unsigned __int16 v47[5];
  char *__s;
  char *v49;

  v49 = 0;
  __s = 0;
  memset(v47, 0, sizeof(v47));
  *(_QWORD *)&__n[1] = 0;
  __n[0] = 0;
  v45 = 0;
  v44 = 0;
  v43 = 0;
  v42 = 0;
  v41 = 0;
  v39 = 0;
  v40 = 0;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a3[1] + 176))(a1, a2, **(unsigned __int16 **)(a4 + 144), 14, &v49, &v40);
  if ((v8 & 0x80000000) != 0)
    return v8;
  if (!hlp_NLUStrFind(v49, "POS", (uint64_t *)&v47[1], v47))
  {
    if (!hlp_NLUStrFind(v49, "PUNC", (uint64_t *)&v41, (unsigned __int16 *)&v40 + 1))
      return v8;
    v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned int *))(a3[1] + 184))(a1, a2, **(unsigned __int16 **)(a4 + 120), 14, &v39);
    v24 = a3[1];
    v25 = **(unsigned __int16 **)(a4 + 120);
    if (v23 < 0 || (unsigned __int16)v39 != 1)
    {
      v30 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD, char *, char *))(v24 + 160);
      v31 = strlen(v49);
      return v30(a1, a2, v25, 14, (unsigned __int16)(v31 + 1), v49, (char *)&v39 + 2);
    }
    (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, int *))(v24 + 176))(a1, a2, v25, 14, &__s, &v40);
    v26 = strlen(__s);
    v27 = strlen(v49);
    v28 = (char *)heap_Calloc(*(_QWORD **)(*a3 + 8), 1, (unsigned __int16)(v26 + v27 + 2));
    if (v28)
    {
      v21 = v28;
      strcpy(v28, __s);
      hlp_NLUStrRemoveKeyVal(__s, "BND");
      hlp_NLUStrJoin(v21, v49);
      v29 = strlen(v21);
      v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(a3[1] + 160))(a1, a2, **(unsigned __int16 **)(a4 + 120), 14, (unsigned __int16)(v29 + 1), v21, (char *)&v39 + 2);
LABEL_32:
      heap_Free(*(_QWORD **)(*a3 + 8), (uint64_t)v21);
      return v8;
    }
    goto LABEL_18;
  }
  hlp_NLUStrFind(v49, "BNDSHAPE", (uint64_t *)&v45, &v44);
  hlp_NLUStrFind(v49, "BND", (uint64_t *)&v43, &v42);
  hlp_NLUStrFind(v49, "PUNC", (uint64_t *)&v41, (unsigned __int16 *)&v40 + 1);
  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned int *))(a3[1] + 184))(a1, a2, **(unsigned __int16 **)(a4 + 120), 14, &v39) & 0x80000000) != 0)return v8;
  if ((unsigned __int16)v39 != 1)
    return v8;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a3[1] + 176))(a1, a2, **(unsigned __int16 **)(a4 + 120), 14, &__s, &v40);
  if (!hlp_NLUStrFind(__s, "POS", (uint64_t *)&__n[1], __n))
    return v8;
  v9 = heap_Calloc(*(_QWORD **)(*a3 + 8), 1, __n[0] + (unint64_t)v47[0] + 2);
  if (!v9)
  {
LABEL_18:
    v8 = 2340429834;
    log_OutPublic(*(_QWORD *)(*a3 + 32), (uint64_t)"FE_NORMOUT", 43000, 0, v10, v11, v12, v13, v39);
    return v8;
  }
  v14 = (char *)v9;
  v15 = (unsigned __int16)(strlen(__s) + v47[0] + v44 + v42 + HIWORD(v40) + 24);
  v16 = (char *)heap_Calloc(*(_QWORD **)(*a3 + 8), 1, v15);
  v21 = v16;
  if (v16)
  {
    strcpy(v16, __s);
    strncpy(v14, *(const char **)&__n[1], __n[0]);
    if (!*((_DWORD *)a3 + 27))
      *(_WORD *)&v14[strlen(v14)] = 45;
    strncat(v14, *(const char **)&v47[1], v47[0]);
    hlp_NLUStrSet(v21, "POS", v14);
    if (v45)
    {
      v22 = v45[v44];
      v45[v44] = 0;
      hlp_NLUStrSet(v21, "BNDSHAPE", v45);
      v45[v44] = v22;
    }
    else
    {
      hlp_NLUStrRemoveKeyVal(v21, "BNDSHAPE");
    }
    if (v43)
    {
      v32 = v43[v44];
      v43[v44] = 0;
      hlp_NLUStrSet(v21, "BND", v43);
      v43[v44] = v32;
    }
    else
    {
      hlp_NLUStrRemoveKeyVal(v21, "BND");
    }
    if (v41)
    {
      v33 = v41[HIWORD(v40)];
      v41[HIWORD(v40)] = 0;
      hlp_NLUStrSet(v21, "PUNC", v41);
      v41[HIWORD(v40)] = v33;
    }
    else
    {
      hlp_NLUStrRemoveKeyVal(v21, "PUNC");
    }
    hlp_NLUStrRemoveKeyVal(v49, "POS");
    hlp_NLUStrRemoveKeyVal(v49, "PHR");
    hlp_NLUStrRemoveKeyVal(v49, "PUNC");
    hlp_NLUStrRemoveKeyVal(v49, "BNDSHAPE");
    hlp_NLUStrRemoveKeyVal(v49, "BND");
    if (!*v49)
      goto LABEL_29;
    v34 = strlen(v49);
    v35 = (const char *)heap_Realloc(*(uint64_t **)(*a3 + 8), (uint64_t)v21, v34 + v15);
    if (v35)
    {
      v36 = (char *)v35;
      hlp_NLUStrJoin(v35, v49);
      v21 = v36;
LABEL_29:
      v37 = strlen(v21);
      v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(a3[1] + 160))(a1, a2, **(unsigned __int16 **)(a4 + 120), 14, (unsigned __int16)(v37 + 1), v21, (char *)&v39 + 2);
      goto LABEL_31;
    }
  }
  v8 = 2340429834;
  log_OutPublic(*(_QWORD *)(*a3 + 32), (uint64_t)"FE_NORMOUT", 43000, 0, v17, v18, v19, v20, v39);
LABEL_31:
  heap_Free(*(_QWORD **)(*a3 + 8), (uint64_t)v14);
  if (v21)
    goto LABEL_32;
  return v8;
}

uint64_t fe_normout_ObjOpen(uint64_t a1, uint64_t a2, _WORD *a3, int a4, uint64_t a5)
{
  uint64_t fecfg;
  uint64_t inited;
  uint64_t Object;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t *v16;
  _QWORD *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  const char *v25;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t *v30;

  v29 = 0;
  v30 = 0;
  fecfg = 2340429834;
  v27 = 0;
  v28 = 0;
  if (!a5)
    return 2340429831;
  *(_QWORD *)a5 = 0;
  *(_DWORD *)(a5 + 8) = 0;
  inited = InitRsrcFunction(a3, a4, &v30);
  if ((inited & 0x80000000) != 0)
    return inited;
  inited = objc_GetObject(v30[6], (uint64_t)"LINGDB", &v29);
  if ((inited & 0x80000000) != 0)
    return inited;
  Object = objc_GetObject(v30[6], (uint64_t)"FE_DEPES", &v28);
  v9 = v30[6];
  if ((Object & 0x80000000) != 0)
  {
    v25 = "LINGDB";
LABEL_15:
    objc_ReleaseObject(v9, (uint64_t)v25);
    return Object;
  }
  v10 = objc_GetObject(v9, (uint64_t)"FE_DCTLKP", &v27);
  if ((v10 & 0x80000000) != 0)
  {
    Object = v10;
    objc_ReleaseObject(v30[6], (uint64_t)"LINGDB");
    v9 = v30[6];
    v25 = "FE_DEPES";
    goto LABEL_15;
  }
  v11 = heap_Alloc(v30[1], 120);
  v16 = v30;
  if (v11)
  {
    v17 = (_QWORD *)v11;
    *(_QWORD *)v11 = v30;
    *(_QWORD *)(v11 + 8) = *(_QWORD *)(v29 + 8);
    v18 = v28;
    *(_QWORD *)(v11 + 32) = *(_QWORD *)(v28 + 8);
    *(_OWORD *)(v11 + 16) = *(_OWORD *)(v18 + 16);
    v19 = v27;
    *(_QWORD *)(v11 + 56) = *(_QWORD *)(v27 + 8);
    *(_OWORD *)(v11 + 40) = *(_OWORD *)(v19 + 16);
    *(_QWORD *)(v11 + 112) = 0;
    *(_QWORD *)(v11 + 96) = 0;
    *(_OWORD *)(v11 + 64) = 0u;
    *(_OWORD *)(v11 + 80) = 0u;
    v20 = heap_Alloc(v16[1], 128);
    v17[14] = v20;
    if (v20)
    {
      fecfg = fe_normout_get_fecfg((uint64_t)v17);
      if ((fecfg & 0x80000000) != 0)
        fe_normout_ObjClose(*(_QWORD **)a5, *(_QWORD *)(a5 + 8));
      *(_QWORD *)a5 = v17;
      *(_DWORD *)(a5 + 8) = 62387;
    }
    else
    {
      log_OutPublic(*(_QWORD *)(*v17 + 32), (uint64_t)"FE_NORMOUT", 43000, 0, v21, v22, v23, v24, v27);
      objc_ReleaseObject(v30[6], (uint64_t)"LINGDB");
      objc_ReleaseObject(v30[6], (uint64_t)"FE_DEPES");
      objc_ReleaseObject(v30[6], (uint64_t)"FE_DCTLKP");
      heap_Free(*(_QWORD **)(*v17 + 8), (uint64_t)v17);
    }
  }
  else
  {
    log_OutPublic(v30[4], (uint64_t)"FE_NORMOUT", 43000, 0, v12, v13, v14, v15, v27);
    objc_ReleaseObject(v30[6], (uint64_t)"LINGDB");
    objc_ReleaseObject(v30[6], (uint64_t)"FE_DEPES");
    objc_ReleaseObject(v30[6], (uint64_t)"FE_DCTLKP");
  }
  return fecfg;
}

uint64_t oneword_crosstoken(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, const char *a6, int a7, int a8, const char *a9, char *a10, const char *a11, uint64_t *a12, uint64_t *a13, uint64_t *a14, uint64_t *a15, uint64_t *a16, uint64_t *a17, uint64_t *a18, uint64_t *a19, const char **a20,const char **a21,const char **a22,const char **a23)
{
  unint64_t *v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  const char *v40;
  uint64_t v41;
  int v42;
  _BOOL4 v43;
  size_t v45;
  int v46;
  const char **v47;
  int v48;
  unint64_t v49;
  uint64_t v50;
  unsigned int v51;
  uint64_t v52;
  int v53;
  unsigned __int16 v54;
  unsigned __int16 v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  unsigned __int16 v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  const char *v68;
  unsigned __int16 v69;
  uint64_t v70;
  uint64_t v71;
  uint64_t v72;
  const char *v73;
  unsigned __int16 v74;
  char *v75;
  const char *v76;
  uint64_t v77;
  uint64_t v78;
  uint64_t v79;
  uint64_t v80;
  uint64_t v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  uint64_t v86;
  char *v87;
  uint64_t v88;
  int v89;
  char *v90;
  const char *v91;
  size_t v92;
  char *v93;
  const char *v94;
  size_t v95;
  size_t v96;
  __int16 v97;
  const char *v98;
  unsigned __int16 v99;
  uint64_t v100;
  char *v101;
  char *v102;
  unsigned __int16 i;
  uint64_t v104;
  int v105;
  unsigned __int16 j;
  uint64_t v107;
  int v108;
  uint64_t v109;
  unsigned int v111;
  int v112;
  uint64_t v114;
  uint64_t v115;
  int v117;
  int v118;
  unsigned __int16 v119;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  char *__s2;
  unsigned __int16 v125;
  char __s[128];
  uint64_t v127;

  v28 = (unint64_t *)a12;
  v127 = *MEMORY[0x1E0C80C00];
  strcpy(__s, "cross_token");
  v29 = (unsigned __int16)(2 * strlen(*a20)) | 1u;
  if (*(unsigned __int16 *)a16 < v29)
  {
    v30 = heap_Realloc(*(uint64_t **)(a1 + 8), *a12, v29);
    if (!v30)
    {
      v86 = 2310021130;
      v109 = *(_QWORD *)(a1 + 32);
      goto LABEL_104;
    }
    *a12 = v30;
    *a16 = v29;
  }
  if (*(unsigned __int16 *)a17 < v29)
  {
    v35 = heap_Realloc(*(uint64_t **)(a1 + 8), *a13, v29);
    if (!v35)
    {
      v86 = 2310021130;
      v109 = *(_QWORD *)(a1 + 32);
      goto LABEL_104;
    }
    *a13 = v35;
    *a17 = v29;
  }
  v36 = a2;
  v37 = a1;
  if (*(unsigned __int16 *)a18 < v29)
  {
    v38 = heap_Realloc(*(uint64_t **)(a1 + 8), *a14, v29);
    if (!v38)
    {
LABEL_101:
      v86 = 2310021130;
      v109 = *(_QWORD *)(v37 + 32);
LABEL_104:
      log_OutPublic(v109, (uint64_t)"FE_ONEWORD", 34000, 0, v31, v32, v33, v34, v111);
      return v86;
    }
    *a14 = v38;
    *a18 = v29;
  }
  if (*(unsigned __int16 *)a19 < v29)
  {
    v39 = heap_Realloc(*(uint64_t **)(a1 + 8), *a15, v29);
    if (v39)
    {
      *a15 = v39;
      *a19 = v29;
      goto LABEL_13;
    }
    goto LABEL_101;
  }
LABEL_13:
  v114 = a3;
  v115 = a4;
  v112 = a5;
  v125 = 0;
  v123 = 0;
  __s2 = 0;
  v122 = 0;
  strcpy((char *)*a12, *a20);
  strcpy((char *)*a13, *a21);
  strcpy((char *)*a14, *a22);
  strcpy((char *)*a15, *a23);
  v40 = (const char *)*a12;
  if (*(_BYTE *)*a12)
  {
    v41 = 0;
    v42 = 0;
    v43 = 0;
    do
    {
      if (!strncmp(&v40[v41], "◄", 3uLL))
      {
        v43 = !v43;
      }
      else if (v40[v41] == 126 && v43)
      {
        v45 = strlen(&v40[v41]);
        memmove((void *)&v40[v41 + 1], &v40[v41], v45 + 1);
        *(_WORD *)(*a12 + v41) = -24126;
        v40 = (const char *)*a12;
        v43 = 1;
      }
      v41 = (unsigned __int16)++v42;
    }
    while (strlen(v40) > (unsigned __int16)v42);
  }
  v46 = 0;
  v47 = a20;
  **a20 = 0;
  **a21 = 0;
  **a22 = 0;
  while (1)
  {
    strcpy(__s, "cross_token");
    v119 = strlen(__s);
    v48 = (unsigned __int16)v46;
    if ((_WORD)v46)
    {
      *(_WORD *)&(*v47)[strlen(*v47)] = 32;
      *(_WORD *)&(*a21)[strlen(*a21)] = 32;
      *(_WORD *)&(*a22)[strlen(*a22)] = 32;
    }
    v49 = *v28;
    v50 = (unsigned __int16)v46;
    v51 = *(unsigned __int8 *)(*v28 + (unsigned __int16)v46);
    if (*(_BYTE *)(*v28 + (unsigned __int16)v46))
    {
      v52 = (unsigned __int16)v46;
      while ((v51 > 0x20 || ((1 << v51) & 0x100002600) == 0) && v51 != 95)
      {
        v52 = (unsigned __int16)++v46;
        v51 = *(unsigned __int8 *)(v49 + (unsigned __int16)v46);
        if (!*(_BYTE *)(v49 + (unsigned __int16)v46))
        {
          v117 = 1;
          goto LABEL_34;
        }
      }
      v117 = 0;
LABEL_34:
      v118 = v46;
      v53 = (unsigned __int16)v46;
    }
    else
    {
      v118 = v46;
      v117 = 1;
      v53 = (unsigned __int16)v46;
      v52 = (unsigned __int16)v46;
    }
    *(_BYTE *)(v49 + v52) = 0;
    v54 = Utf8_LengthInUtf8chars(*v28, v53);
    v55 = Utf8_LengthInUtf8chars(*v28, v48);
    *(_BYTE *)(*a13 + v54) = 0;
    *(_BYTE *)(*a14 + v54) = 0;
    *(_BYTE *)(*a15 + v54) = 0;
    log_OutText(*(_QWORD *)(v37 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v56, v57, v58, (uint64_t)__s);
    v59 = (unsigned __int16)strlen((const char *)(*v28 + v50));
    v60 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unint64_t, uint64_t))(v115 + 120))(v36, v114, 0, *v28 + v50, v59);
    if ((v60 & 0x80000000) != 0)
      return v60;
    log_OutText(*(_QWORD *)(v37 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L2: %s", v61, v62, v63, (uint64_t)__s);
    v64 = strlen((const char *)(*a13 + v55));
    v60 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD))(v115 + 120))(v36, v114, 1, *a13 + v55, v64);
    if ((v60 & 0x80000000) != 0)
      return v60;
    log_OutText(*(_QWORD *)(v37 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L3: %s", v65, v66, v67, (uint64_t)__s);
    v68 = (const char *)(*a14 + v55);
    v69 = strlen(v68);
    v60 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, const char *, _QWORD))(v115 + 120))(v36, v114, 2, v68, v69);
    if ((v60 & 0x80000000) != 0)
      return v60;
    log_OutText(*(_QWORD *)(v37 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L4: %s", v70, v71, v72, (uint64_t)__s);
    v73 = (const char *)(*a15 + v55);
    v74 = strlen(v73);
    v60 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, const char *, _QWORD))(v115 + 136))(v36, v114, 3, v73, v74);
    if ((v60 & 0x80000000) != 0)
      return v60;
    v75 = (char *)a6;
    if (strcmp(a6, "normal") && strlen(a6) + v119 + 2 <= 0x7F)
    {
      __strcat_chk();
      __strcat_chk();
    }
    v47 = a20;
    v28 = (unint64_t *)a12;
    if (((*(uint64_t (**)(uint64_t, uint64_t, char *))(v115 + 80))(v36, v114, __s) & 0x80000000) != 0)
    {
      __s[v119] = 0;
      v60 = (*(uint64_t (**)(uint64_t, uint64_t, char *))(v115 + 80))(v36, v114, __s);
      if ((v60 & 0x80000000) != 0)
        return v60;
    }
    else if (!a7)
    {
      if (!v112)
      {
        a7 = *(unsigned __int8 *)a6;
        v76 = a6;
LABEL_51:
        strncpy(a10, v76, 0x14uLL);
        goto LABEL_52;
      }
      v76 = a9;
      a7 = a8;
      if (a9)
        goto LABEL_51;
      a7 = 0;
    }
LABEL_52:
    v60 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char **, unsigned __int16 *))(v115 + 128))(v36, v114, 0, &__s2, &v125);
    if ((v60 & 0x80000000) != 0)
      return v60;
    __s2[v125] = 0;
    log_OutText(*(_QWORD *)(v37 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v77, v78, v79, (uint64_t)__s);
    v60 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t *, unsigned __int16 *))(v115 + 128))(v36, v114, 1, &v123, &v125);
    if ((v60 & 0x80000000) != 0)
      return v60;
    *(_BYTE *)(v123 + v125) = 0;
    log_OutText(*(_QWORD *)(v37 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O2: %s", v80, v81, v82, (uint64_t)__s);
    v86 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t *, unsigned __int16 *))(v115 + 128))(v36, v114, 2, &v122, &v125);
    if ((v86 & 0x80000000) != 0)
      return v86;
    *(_BYTE *)(v122 + v125) = 0;
    log_OutText(*(_QWORD *)(v37 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O3: %s", v83, v84, v85, (uint64_t)__s);
    v87 = __s2;
    if (*__s2)
    {
      v88 = 0;
      v89 = 0;
      do
      {
        v90 = &v87[v88];
        if (v87[v88] == 126)
        {
          v91 = &v87[v88 + 1];
          v92 = strlen(v91);
          memmove(v90, v91, v92 + 1);
          --v89;
        }
        else if (!strncmp(&v87[v88], "¡", 2uLL))
        {
          v93 = &v87[(unsigned __int16)v89 + 1];
          v94 = &v87[(unsigned __int16)v89 + 2];
          v95 = strlen(v94);
          memmove(v93, v94, v95 + 1);
          __s2[v88] = 126;
        }
        v88 = (unsigned __int16)++v89;
        v87 = __s2;
        v96 = strlen(__s2);
      }
      while (v96 > (unsigned __int16)v89);
      v97 = v96;
      v75 = (char *)a6;
    }
    else
    {
      v97 = 0;
    }
    v98 = *a20;
    v99 = v97 + strlen(*a20) + 2;
    if (v99 >= 0x81u)
    {
      v100 = heap_Realloc(*(uint64_t **)(v37 + 8), (uint64_t)v98, v99);
      if (!v100)
        goto LABEL_101;
      v98 = (const char *)v100;
      *a20 = (const char *)v100;
      v87 = __s2;
    }
    if (strlen(v87) != 3)
    {
      v101 = (char *)v98;
      v102 = v87;
LABEL_72:
      strcat(v101, v102);
      goto LABEL_73;
    }
    v121 = 0;
    utf8_Utf8ToUtf32_Tolerant((uint64_t)v87, 3u, (uint64_t)&v121 + 4, 1u, &v121);
    if (HIDWORD(v121) != 8230)
    {
      v102 = __s2;
      v101 = (char *)*a20;
      goto LABEL_72;
    }
    *(_WORD *)&(*a20)[strlen(*a20)] = 46;
LABEL_73:
    for (i = 0; ; ++i)
    {
      v104 = i;
      v105 = *(unsigned __int8 *)(v123 + i);
      if (v105 != 32 && v105 != 126)
        break;
    }
    if (!*(_BYTE *)(v123 + i))
      goto LABEL_83;
    while (v105 != 32 && v105 != 126)
      LOBYTE(v105) = *(_BYTE *)(v123 + ++i);
    *(_BYTE *)(v123 + i) = 0;
    if (*(_BYTE *)(v123 + v104))
      strcat((char *)*a21, (const char *)(v123 + v104));
    else
LABEL_83:
      *(_WORD *)&(*a21)[strlen(*a21)] = 42;
    if (a11 && strstr(v75, "latin"))
      strcpy((char *)*a21, a11);
    for (j = 0; ; ++j)
    {
      v107 = j;
      v108 = *(unsigned __int8 *)(v122 + j);
      if (v108 != 32 && v108 != 126)
        break;
    }
    if (!*(_BYTE *)(v122 + j))
      goto LABEL_97;
    while (v108 != 32 && v108 != 126)
      LOBYTE(v108) = *(_BYTE *)(v122 + ++j);
    *(_BYTE *)(v122 + j) = 0;
    if (*(_BYTE *)(v122 + v107))
      strcat((char *)*a22, (const char *)(v122 + v107));
    else
LABEL_97:
      *(_WORD *)&(*a22)[strlen(*a22)] = 42;
    v46 = v118 + 1;
    if (v117)
      return v86;
  }
}

uint64_t crf_mde_seg_fv_new(uint64_t a1, unsigned int a2, uint64_t *a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  _WORD *v12;
  uint64_t v13;
  uint64_t v14;
  unsigned int v16;

  v6 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 16 * a2);
  *a3 = v6;
  if (!v6)
  {
LABEL_7:
    v14 = 2310021130;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 35000, 0, v7, v8, v9, v10, v16);
    return v14;
  }
  *((_DWORD *)a3 + 3) = a2;
  if (a2)
  {
    v11 = 0;
    do
    {
      v12 = (_WORD *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 65);
      v13 = *a3;
      *(_QWORD *)(*a3 + v11) = v12;
      if (!v12)
        goto LABEL_7;
      *(_DWORD *)(v13 + v11 + 8) = 65;
      *v12 = 45;
      v11 += 16;
    }
    while (16 * a2 != v11);
  }
  v14 = 0;
  *((_DWORD *)a3 + 2) = a2;
  return v14;
}

_QWORD *crf_mde_seg_fv_dealloc(_QWORD *result, uint64_t a2)
{
  uint64_t v3;
  _QWORD *v4;
  unint64_t v5;
  uint64_t v6;
  unint64_t i;

  if (a2)
  {
    v3 = *(_QWORD *)a2;
    if (v3)
    {
      v4 = result;
      v5 = *(unsigned int *)(a2 + 8);
      if ((_DWORD)v5)
      {
        v6 = 0;
        for (i = 0; i < v5; ++i)
        {
          if (*(_QWORD *)(v3 + v6))
          {
            heap_Free((_QWORD *)v4[1], *(_QWORD *)(v3 + v6));
            v3 = *(_QWORD *)a2;
            *(_QWORD *)(*(_QWORD *)a2 + v6) = 0;
            v5 = *(unsigned int *)(a2 + 8);
          }
          v6 += 16;
        }
      }
      result = heap_Free((_QWORD *)v4[1], v3);
      *(_QWORD *)a2 = 0;
    }
  }
  return result;
}

uint64_t crf_mde_seg_fv_add(uint64_t a1, _QWORD *a2, unsigned int a3, char *__s)
{
  unsigned int v8;
  uint64_t v9;
  uint64_t v10;
  char *v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unsigned int v18;

  v8 = strlen(__s);
  v9 = *a2 + 16 * a3;
  if (*(_DWORD *)(v9 + 8) >= v8)
  {
    v11 = *(char **)v9;
    goto LABEL_5;
  }
  v10 = v8 + 1;
  v11 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)v9, v10);
  if (v11)
  {
    v16 = *a2 + 16 * a3;
    *(_QWORD *)v16 = v11;
    *(_DWORD *)(v16 + 8) = v10;
LABEL_5:
    strcpy(v11, __s);
    return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 35000, 0, v12, v13, v14, v15, v18);
  return 2310021130;
}

uint64_t crf_mde_seg_get_features(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, unsigned int a5, __int16 a6, uint64_t a7, uint64_t a8, unsigned __int8 a9, _QWORD *a10, unsigned int a11, unsigned int a12)
{
  uint64_t v14;
  const char *v15;
  char *v16;
  const char *v17;
  uint64_t result;
  int v19;
  char __s[513];
  uint64_t v27;

  v27 = *MEMORY[0x1E0C80C00];
  if (a9)
  {
    v14 = 0;
    while (2)
    {
      v15 = *(const char **)(a8 + 8 * v14);
      v16 = &byte_1EA937E58;
      v17 = "char";
      while (strcmp(v15, v17))
      {
        v17 = (const char *)*((_QWORD *)v16 + 1);
        v16 += 24;
        if (!v17)
          goto LABEL_9;
      }
      BYTE2(v19) = *v16;
      LOWORD(v19) = a6;
      result = (*((uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, _QWORD, uint64_t, int, char *))v16
                - 1))(a1, a2, a3, a4, a5, a11, a12, a7, v19, __s);
      if ((result & 0x80000000) != 0)
        return result;
      result = crf_mde_seg_fv_add(a1, a10, v14, __s);
      if ((result & 0x80000000) != 0)
        return result;
LABEL_9:
      if (++v14 != a9)
        continue;
      break;
    }
  }
  return 0;
}

uint64_t crf_mde_seg_set_padding_features(uint64_t a1, unsigned int a2, int a3, _QWORD *a4, int a5)
{
  unsigned int v9;
  __int16 v10;
  uint64_t result;
  char v12[3];
  __int16 v13;
  char __s[1024];
  uint64_t v15;

  v15 = *MEMORY[0x1E0C80C00];
  if (!a3)
    return 0;
  v9 = 0;
  if (a5 == 1)
    v10 = 62;
  else
    v10 = 60;
  while (1)
  {
    if (v9)
    {
      strcpy(__s, "-");
    }
    else
    {
      v13 = v10;
      LH_itoa(a2, v12, 0xAu);
      __strcat_chk();
      __strcpy_chk();
    }
    result = crf_mde_seg_fv_add(a1, a4, v9, __s);
    if ((result & 0x80000000) != 0)
      break;
    if (a3 == ++v9)
      return 0;
  }
  return result;
}

uint64_t crf_mde_seg_fe_char(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unsigned __int16 a9, char a10, char *a11)
{
  unsigned int v11;
  const char *v12;
  unsigned __int16 v13;
  size_t v14;

  v11 = a10 + a9;
  if (v11 >= a3)
  {
    *a11 = 45;
    v14 = 1;
  }
  else
  {
    v12 = *(const char **)(a2 + 8 * v11);
    v13 = strlen(v12);
    if ((v13 & 0xFE00) != 0)
      v14 = 512;
    else
      v14 = v13;
    strncpy(a11, v12, v14);
  }
  a11[v14] = 0;
  return 0;
}

uint64_t crf_mde_seg_fe_isvowel(int a1, uint64_t a2, unsigned int a3, int a4, int a5, int a6, int a7, char *__s, unsigned __int16 a9, char a10, _WORD *a11)
{
  uint64_t v11;
  unsigned __int16 v14;
  unsigned __int16 v15;
  unsigned __int16 v16;
  const char *v17;
  unsigned __int16 v18;

  v11 = a10 + a9;
  if (v11 >= a3)
  {
    v17 = "-";
  }
  else if (__s && (v14 = strlen(__s)) != 0)
  {
    v15 = v14;
    v16 = 0;
    v17 = "0";
    while (1)
    {
      v18 = Utf8_LengthInBytes((unsigned __int8 *)&__s[v16], 1);
      if (!strncmp(*(const char **)(a2 + 8 * v11), &__s[v16], v18))
        break;
      v16 += v18;
      if (v16 >= v15)
        goto LABEL_11;
    }
    v17 = "1";
  }
  else
  {
    v17 = "0";
  }
LABEL_11:
  *a11 = *(unsigned __int8 *)v17;
  return 0;
}

uint64_t crf_mde_seg_fe_char_count(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unsigned __int16 a9, char a10, char *a11)
{
  unsigned __int16 v11;
  size_t v12;
  char __s[5];

  if (a10 + a9 >= a3)
  {
    *(_WORD *)a11 = 45;
  }
  else
  {
    LH_itoa(a9, __s, 0xAu);
    v11 = strlen(__s);
    if ((v11 & 0xFE00) != 0)
      v12 = 512;
    else
      v12 = v11;
    strncpy(a11, __s, v12);
    a11[v12] = 0;
  }
  return 0;
}

uint64_t crf_mde_seg_fe_char_revcount(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unsigned __int16 a9, char a10, char *a11)
{
  int v11;
  unsigned __int16 v12;
  size_t v13;
  char __s[5];

  v11 = a10 + a9;
  if (v11 < 0 || v11 >= a3)
  {
    *(_WORD *)a11 = 45;
  }
  else
  {
    LH_itoa(~a9 + a3, __s, 0xAu);
    v12 = strlen(__s);
    if ((v12 & 0xFE00) != 0)
      v13 = 512;
    else
      v13 = v12;
    strncpy(a11, __s, v13);
    a11[v13] = 0;
  }
  return 0;
}

uint64_t crf_mde_seg_fe_morpheme(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t a5, int a6, int a7, uint64_t a8, unsigned __int16 a9, char a10, char *a11)
{
  unsigned int v11;
  const char *v12;
  unsigned __int16 v13;
  size_t v14;
  __int16 v15;

  v11 = a10 + a9;
  if (v11 >= a3)
  {
    if (a6 == 1 && (v11 & 0x80000000) != 0)
    {
      a11[2] = 83;
      v15 = 20307;
    }
    else
    {
      if (a7 != 1 || (int)v11 < (int)a3)
      {
        *a11 = 45;
        v14 = 1;
        goto LABEL_14;
      }
      a11[2] = 83;
      v15 = 20293;
    }
    *(_WORD *)a11 = v15;
    v14 = 3;
  }
  else
  {
    v12 = *(const char **)(a2 + 8 * v11);
    v13 = strlen(v12);
    if ((v13 & 0xFE00) != 0)
      v14 = 512;
    else
      v14 = v13;
    strncpy(a11, v12, v14);
  }
LABEL_14:
  a11[v14] = 0;
  return 0;
}

uint64_t crf_mde_seg_fe_punc(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unsigned __int16 a9, char a10, _BYTE *a11)
{
  unsigned int v11;
  uint64_t v12;

  v11 = a10 + a9;
  if (v11 >= a3)
  {
    *a11 = 45;
    v12 = 1;
  }
  else if (*(_DWORD *)(a4 + 4 * v11) == 1)
  {
    a11[2] = 83;
    *(_WORD *)a11 = 17753;
    v12 = 3;
  }
  else
  {
    *(_WORD *)a11 = 20302;
    v12 = 2;
  }
  a11[v12] = 0;
  return 0;
}

uint64_t crf_mde_utils_add2Str(uint64_t a1, const char **a2, _WORD *a3, char *__s)
{
  size_t v8;
  uint64_t v9;
  char *v10;
  size_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unsigned int v19;

  v8 = strlen(__s);
  v9 = (unsigned __int16)*a3;
  v10 = (char *)*a2;
  v11 = strlen(*a2);
  if (v8 >= v9 - v11)
  {
    if ((unsigned __int16)(v8 - v9 + v11) <= 0x80u)
      v12 = 128;
    else
      v12 = (unsigned __int16)(v8 - v9 + v11);
    v13 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v10, v9 + v12 + 1);
    if (!v13)
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v14, v15, v16, v17, v19);
      return 2310021130;
    }
    v10 = (char *)v13;
    *a2 = (const char *)v13;
    *a3 += v12;
  }
  if (*v10)
    strcat(v10, __s);
  else
    strcpy(v10, __s);
  return 0;
}

uint64_t hlp_Write2WordRec(uint64_t a1, uint64_t a2, uint64_t a3, unsigned __int16 *a4, __int16 a5, __int16 a6, int a7, const char *a8, char *__s, char *a10, char *a11, int a12, int a13)
{
  uint64_t result;
  __int16 v19;
  __int16 v20;
  __int16 v21;
  __int16 v22;
  unsigned __int16 v23;
  int v24;
  __int16 v25;
  __int16 v26;
  __int16 v27;

  v27 = a5;
  v26 = a6;
  v25 = 0;
  v24 = 8;
  v23 = 0;
  if (a7)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1 + 80))(a2, a3, *a4, &v23);
    goto LABEL_3;
  }
  if (!a13)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1 + 88))(a2, a3, *a4, &v23);
LABEL_3:
    if ((result & 0x80000000) != 0)
      return result;
    goto LABEL_7;
  }
  v23 = *a4;
LABEL_7:
  result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, __int16 *))(a1 + 160))(a2, a3, v23, 0, 1, &v24, &v25);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a1 + 160))(a2, a3, v23, 1, 1, &v27, &v25);
    if ((result & 0x80000000) == 0)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a1 + 160))(a2, a3, v23, 2, 1, &v26, &v25);
      if ((result & 0x80000000) == 0)
      {
        v19 = strlen(__s);
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1 + 160))(a2, a3, v23, 3, (unsigned __int16)(v19 + 1), __s, &v25);
        if ((result & 0x80000000) == 0)
        {
          v20 = strlen(a8);
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a1 + 160))(a2, a3, v23, 5, (unsigned __int16)(v20 + 1), a8, &v25);
          if ((result & 0x80000000) == 0)
          {
            v21 = strlen(a10);
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1 + 160))(a2, a3, v23, 6, (unsigned __int16)(v21 + 1), a10, &v25);
            if ((result & 0x80000000) == 0)
            {
              v22 = strlen(a11);
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1 + 160))(a2, a3, v23, 9, (unsigned __int16)(v22 + 1), a11, &v25);
              if ((result & 0x80000000) == 0)
              {
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1 + 160))(a2, a3, v23, 7, 1, &a12, &v25);
                if ((result & 0x80000000) == 0)
                  *a4 = v23;
              }
            }
          }
        }
      }
    }
  }
  return result;
}

uint64_t crf_mde_utils_POS_dctlkp(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, char **a7)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  const char *v14;
  char *v15;
  size_t v16;
  char *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unsigned int v26;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _BYTE *, _BYTE *, _BYTE *))(a2 + 96))(a3, a4, a5, a6, &__c[3], &__c[1], __c);
  if ((v13 & 0x80000000) == 0)
  {
    if (*(_WORD *)&__c[1]
      || (log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s dct look up %s : no result", v10, v11, v12, a5), *(_WORD *)&__c[1]))
    {
      v14 = **(const char ***)&__c[3];
      v15 = strchr(**(char ***)&__c[3], __c[0]);
      if (v15)
      {
        *v15 = 0;
        v14 = **(const char ***)&__c[3];
      }
      v16 = strlen(v14);
      v17 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v16 + 1);
      *a7 = v17;
      if (v17)
      {
        strcpy(v17, **(const char ***)&__c[3]);
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s POS dct look up %s : adding %s %s %s", v22, v23, v24, a5);
      }
      else
      {
        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v18, v19, v20, v21, v26);
        return 2310021130;
      }
    }
  }
  return v13;
}

uint64_t crf_mde_utils_write_morphemes(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, unsigned __int16 *a11, unsigned __int16 a12, __int16 a13, unsigned __int16 *a14, const char *a15, _WORD *a16)
{
  unsigned __int16 v18;
  uint64_t v19;
  int v20;
  const char **v21;
  const char *v22;
  char *v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  char *v28;
  unint64_t v29;
  uint64_t v30;
  unint64_t v31;
  unsigned __int16 v32;
  unsigned __int16 v33;
  uint64_t v34;
  unsigned __int16 v35;
  uint64_t v36;
  unsigned __int16 v37;
  int v38;
  unsigned __int16 v39;
  const char *v40;
  __int16 v41;
  unsigned int v42;
  int v43;
  __int16 v44;
  unsigned __int16 v45;
  int v46;
  unsigned __int16 v47;
  unsigned __int16 v48;
  __int16 v49;
  unsigned __int16 v50;
  _BOOL4 v52;
  unsigned __int16 v53;
  uint64_t v54;
  char *v55;
  __int16 v56;
  __int16 v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  __int16 v62;
  unsigned __int16 *v63;
  uint64_t v64;
  unint64_t v65;
  uint64_t v66;
  unint64_t v67;
  const char *v68;
  uint64_t v69;
  int v70;
  unsigned int __s;
  int v73;
  uint64_t v75;
  __int16 v76;
  _BOOL4 v77;
  int v78;
  uint64_t v80;
  unsigned __int16 v82;
  unsigned __int16 v85;
  char *v86;
  char v87[24];
  uint64_t v88;

  v88 = *MEMORY[0x1E0C80C00];
  v86 = 0;
  v85 = *a11;
  v18 = strlen(a15);
  strcpy(v87, "normal");
  v19 = *a14;
  if (*a14)
  {
    v20 = 0;
    v21 = (const char **)*((_QWORD *)a14 + 1);
    do
    {
      v22 = *v21;
      v21 += 6;
      v20 += strlen(v22) + 1;
      --v19;
    }
    while (v19);
  }
  else
  {
    LOWORD(v20) = 0;
  }
  v23 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (unsigned __int16)v20 + 1);
  if (!v23)
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v24, v25, v26, v27, __s);
    return 2310021130;
  }
  v28 = v23;
  v80 = a1;
  strcpy(v23, **((const char ***)a14 + 1));
  if (*a14 >= 2u)
  {
    *(_WORD *)&v28[strlen(v28)] = 95;
    if (*a14 >= 2u)
    {
      v29 = 1;
      v30 = 48;
      do
      {
        strcat(v28, *(const char **)(*((_QWORD *)a14 + 1) + v30));
        v31 = *a14;
        if ((int)v29 + 1 < v31)
        {
          *(_WORD *)&v28[strlen(v28)] = 95;
          v31 = *a14;
        }
        ++v29;
        v30 += 48;
      }
      while (v29 < v31);
    }
  }
  v32 = strlen(v28);
  *a16 = a13 + a12 + v32;
  v33 = Utf8_LengthInBytes((unsigned __int8 *)&a15[(unsigned __int16)(a13 + a12 + v32)], 1);
  v34 = (unsigned __int16)*a16;
  if (v18 > v34)
  {
    v35 = v33;
    do
    {
      if (!(*(unsigned int (**)(uint64_t, uint64_t, const char *))(a4 + 128))(a5, a6, &a15[v34]))
        break;
      v36 = (unsigned __int16)*a16;
      if (!strncmp(&a15[v36], "_", v35))
        break;
      *a16 = v36 + v35;
      v35 = Utf8_LengthInBytes((unsigned __int8 *)&a15[(unsigned __int16)(v36 + v35)], 1);
      v34 = (unsigned __int16)*a16;
    }
    while (v18 > v34);
  }
  v78 = a13 + a12;
  v37 = Utf8_LengthInBytes((unsigned __int8 *)&a15[v78], 1);
  v38 = a12 - v37 + a13;
  v82 = v32;
  if (v38 >= 0
    && (v39 = v37,
        v40 = &a15[v38],
        (*(unsigned int (**)(uint64_t, uint64_t, const char *))(a4 + 128))(a5, a6, v40)))
  {
    v41 = 0;
    v42 = v39;
    LOWORD(v43) = v39;
    do
    {
      v44 = v43;
      if (!strncmp(v40, "_", v42))
        break;
      v45 = Utf8_LengthInBytes((unsigned __int8 *)&a15[v78 - (unsigned __int16)v43], 1);
      v43 = (unsigned __int16)v43 + v45;
      v46 = a12 - v43 + a13;
      if (v46 < 0)
      {
        v41 = v44;
        break;
      }
      v42 = v45;
      v40 = &a15[v46];
      v41 = v44;
    }
    while ((*(unsigned int (**)(uint64_t, uint64_t, const char *))(a4 + 128))(a5, a6, v40));
  }
  else
  {
    v41 = 0;
  }
  v75 = a6;
  v47 = v82;
  if (!v82)
  {
    v49 = 0;
    v48 = 0;
LABEL_48:
    if (a2 == 1 && a3)
    {
      v61 = v80;
      v54 = crf_mde_utils_POS_dctlkp(v80, a4, a5, v75, a3, *(_QWORD *)(*((_QWORD *)a14 + 1) + 48 * v48), &v86);
      if ((v54 & 0x80000000) != 0)
        return v54;
      v55 = v86;
      v62 = *a16 - a13;
      if (v86)
      {
        LOWORD(v73) = 0;
        v60 = hlp_Write2WordRec(a7, a9, a10, &v85, a12 - v41 + v49, v62, v48, v86, &byte_1DEBD87CE, &byte_1DEBD87CE, v87, v73, 1);
        v63 = a11;
        if ((v60 & 0x80000000) != 0)
          goto LABEL_72;
        heap_Free(*(_QWORD **)(v80 + 8), (uint64_t)v55);
        goto LABEL_56;
      }
      LOWORD(v73) = 0;
      v64 = hlp_Write2WordRec(a7, a9, a10, &v85, a12 - v41 + v49, v62, v48, "*", &byte_1DEBD87CE, &byte_1DEBD87CE, v87, v73, 1);
      v60 = v64;
    }
    else
    {
      LOWORD(v73) = 0;
      v64 = hlp_Write2WordRec(a7, a9, a10, &v85, a12 - v41 + v49, *a16 - a13, v48, &byte_1DEBD87CE, &byte_1DEBD87CE, &byte_1DEBD87CE, v87, v73, 1);
      v60 = v64;
      v61 = v80;
    }
    v63 = a11;
    if ((v64 & 0x80000000) != 0)
    {
LABEL_67:
      *v63 = v85;
      goto LABEL_68;
    }
LABEL_56:
    v65 = (unsigned __int16)(v78 + v82);
    v66 = (unsigned __int16)(a13 + a12);
    if (v65 > (unsigned __int16)(a13 + a12) && v82)
    {
      v67 = 0;
      v68 = &a15[v66];
      v69 = v66 + 1;
      do
      {
        v70 = v28[v67];
        if (v68[v67] != v70)
          v68[v67] = v70;
        if (v69 + v67 >= v65)
          break;
        ++v67;
      }
      while (v67 < v82);
    }
    goto LABEL_67;
  }
  v48 = 0;
  v49 = 0;
  v50 = 0;
  v52 = a2 == 1 && a3 != 0;
  v76 = a12 - v41;
  v77 = v52;
  while (1)
  {
    v53 = Utf8_LengthInBytes((unsigned __int8 *)&v28[v50], 1);
    if (!strncmp(&v28[v50], "_", v53))
      break;
LABEL_44:
    v50 += v53;
    if (v50 >= v47)
      goto LABEL_48;
  }
  if (!v77)
  {
    LOWORD(v73) = 0;
    v59 = hlp_Write2WordRec(a7, a9, a10, &v85, v76 + v49, v50 + a12, v48, &byte_1DEBD87CE, &byte_1DEBD87CE, &byte_1DEBD87CE, v87, v73, 1);
    goto LABEL_42;
  }
  v54 = crf_mde_utils_POS_dctlkp(v80, a4, a5, v75, a3, *(_QWORD *)(*((_QWORD *)a14 + 1) + 48 * v48), &v86);
  if ((v54 & 0x80000000) != 0)
    return v54;
  v55 = v86;
  v56 = v76 + v49;
  v57 = v50 + a12;
  if (!v86)
  {
    LOWORD(v73) = 0;
    v59 = hlp_Write2WordRec(a7, a9, a10, &v85, v56, v57, v48, "*", &byte_1DEBD87CE, &byte_1DEBD87CE, v87, v73, 1);
LABEL_42:
    if ((v59 & 0x80000000) != 0)
    {
      v60 = v59;
      v61 = v80;
      v63 = a11;
      goto LABEL_67;
    }
    goto LABEL_43;
  }
  LOWORD(v73) = 0;
  v58 = hlp_Write2WordRec(a7, a9, a10, &v85, v56, v57, v48, v86, &byte_1DEBD87CE, &byte_1DEBD87CE, v87, v73, 1);
  if ((v58 & 0x80000000) == 0)
  {
    heap_Free(*(_QWORD **)(v80 + 8), (uint64_t)v55);
    v86 = 0;
LABEL_43:
    ++v48;
    v49 = v50 + 1;
    v47 = v82;
    goto LABEL_44;
  }
  v60 = v58;
  v61 = v80;
  v63 = a11;
LABEL_72:
  *v63 = v85;
  heap_Free(*(_QWORD **)(v61 + 8), (uint64_t)v55);
LABEL_68:
  heap_Free(*(_QWORD **)(v61 + 8), (uint64_t)v28);
  return v60;
}

uint64_t crf_mde_utils_adddctres(uint64_t a1, uint64_t a2, const char *a3, char *__s, const char *a5, int a6)
{
  _QWORD *v12;
  size_t v13;
  char *v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  char *v19;
  char *v20;
  unsigned __int16 i;
  unsigned int v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unsigned __int16 v28;
  uint64_t v29;
  uint64_t v30;
  _QWORD *v31;
  uint64_t v32;
  uint64_t v33;
  unsigned __int16 v34;
  uint64_t v35;
  char *v36;
  const char *v37;
  char *v38;
  size_t v39;
  char *v40;
  size_t v41;
  char *v42;
  size_t v43;
  char *v44;
  uint64_t v45;
  size_t v46;
  char *v47;
  size_t v48;
  char *v49;
  size_t v50;
  char *v51;
  uint64_t v52;
  unsigned int v54;

  v12 = *(_QWORD **)(a1 + 8);
  v13 = strlen(__s);
  v14 = (char *)heap_Calloc(v12, 1, v13 + 1);
  if (v14)
  {
    v19 = v14;
    strcpy(v14, __s);
    v20 = strchr(__s, 92);
    for (i = 1; v20; ++i)
    {
      *v20 = 0;
      v20 = strchr(v20 + 1, 92);
    }
    v22 = *(unsigned __int16 *)(a2 + 24);
    if (*(_WORD *)(a2 + 24))
    {
      if (*(unsigned __int16 *)(a2 + 8) + i >= v22)
      {
        v23 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(a2 + 16), 32 * (v22 + i) + 160);
        if (!v23)
          goto LABEL_33;
        *(_QWORD *)(a2 + 16) = v23;
        v28 = i + *(_WORD *)(a2 + 24) + 5;
        *(_WORD *)(a2 + 24) = v28;
        v29 = *(unsigned __int16 *)(a2 + 8);
        if (v29 < v28)
        {
          v30 = v28;
          v31 = (_QWORD *)(v23 + 32 * v29 + 8);
          v32 = v30 - v29;
          do
          {
            *((_DWORD *)v31 - 2) = 0;
            v31[1] = 0;
            v31[2] = 0;
            *v31 = 0;
            v31 += 4;
            --v32;
          }
          while (v32);
        }
      }
    }
    else
    {
      if (i >= 5u)
        v34 = i + 1;
      else
        v34 = 5;
      v35 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 32 * v34);
      *(_QWORD *)(a2 + 16) = v35;
      if (!v35)
        goto LABEL_33;
      *(_WORD *)(a2 + 24) = v34;
    }
    v36 = strchr(v19, 92);
    v37 = v19;
    if (v36)
    {
      v38 = v36;
      v37 = v19;
      do
      {
        *v38 = 0;
        v39 = strlen(v37);
        v40 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v39 + 1);
        *(_QWORD *)(*(_QWORD *)(a2 + 16) + 32 * *(unsigned __int16 *)(a2 + 8) + 8) = v40;
        if (!v40)
          goto LABEL_33;
        strcpy(v40, v37);
        v41 = strlen(a3);
        v42 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v41 + 1);
        *(_QWORD *)(*(_QWORD *)(a2 + 16) + 32 * *(unsigned __int16 *)(a2 + 8) + 16) = v42;
        if (!v42)
          goto LABEL_33;
        strcpy(v42, a3);
        if (a5)
        {
          v43 = strlen(a5);
          if (v43)
          {
            v44 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v43 + 1);
            *(_QWORD *)(*(_QWORD *)(a2 + 16) + 32 * *(unsigned __int16 *)(a2 + 8) + 24) = v44;
            if (!v44)
              goto LABEL_33;
            strcpy(v44, a5);
          }
        }
        v45 = *(unsigned __int16 *)(a2 + 8);
        *(_DWORD *)(*(_QWORD *)(a2 + 16) + 32 * v45) = a6;
        *(_WORD *)(a2 + 8) = v45 + 1;
        v37 = v38 + 1;
        v38 = strchr(v38 + 1, 92);
      }
      while (v38);
    }
    v46 = strlen(v37);
    v47 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v46 + 1);
    *(_QWORD *)(*(_QWORD *)(a2 + 16) + 32 * *(unsigned __int16 *)(a2 + 8) + 8) = v47;
    if (v47)
    {
      strcpy(v47, v37);
      v48 = strlen(a3);
      v49 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v48 + 1);
      *(_QWORD *)(*(_QWORD *)(a2 + 16) + 32 * *(unsigned __int16 *)(a2 + 8) + 16) = v49;
      if (v49)
      {
        strcpy(v49, a3);
        if (!a5)
          goto LABEL_32;
        v50 = strlen(a5);
        if (!v50)
          goto LABEL_32;
        v51 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v50 + 1);
        *(_QWORD *)(*(_QWORD *)(a2 + 16) + 32 * *(unsigned __int16 *)(a2 + 8) + 24) = v51;
        if (v51)
        {
          strcpy(v51, a5);
LABEL_32:
          v33 = 0;
          v52 = *(unsigned __int16 *)(a2 + 8);
          *(_DWORD *)(*(_QWORD *)(a2 + 16) + 32 * v52) = a6;
          *(_WORD *)(a2 + 8) = v52 + 1;
          *(_DWORD *)(a2 + 28) = 1;
          *(_DWORD *)(a2 + 40) = 1;
LABEL_34:
          heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v19);
          return v33;
        }
      }
    }
LABEL_33:
    v33 = 2310021130;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v24, v25, v26, v27, v54);
    goto LABEL_34;
  }
  v33 = 2310021130;
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v15, v16, v17, v18, v54);
  return v33;
}

uint64_t crf_mde_utils_sysdctlkp(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  const char *v13;
  char *v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  unint64_t v21;
  int v22;
  char *v23;
  char *v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  char *v28;
  char *v29;
  char *v30;
  char *v31;
  const char *v32;
  char *v33;
  char *v34;
  const char *v35;
  char *v36;
  char *v37;
  BOOL v38;
  size_t v39;
  char *v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  const char *v45;
  uint64_t v46;
  char *v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  int v51;
  char *v52;
  char *v53;
  uint64_t v54;
  const char *v55;
  char *v56;
  char *v57;
  uint64_t v58;
  unsigned int v60;
  char *v61;
  int v66;
  char *__s1;
  unsigned __int8 v68;
  unsigned __int16 v69;
  char **v70;

  v70 = 0;
  v68 = 0;
  __s1 = 0;
  v69 = -1;
  v13 = "xps";
  if (((*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, char ***, unsigned __int16 *, unsigned __int8 *))(a2 + 96))(a3, a4, "fecfg", "mde_affixtags", &v70, &v69, &v68) & 0x80000000) == 0)
  {
    if (v69)
    {
      v13 = *v70;
      v14 = strchr(*v70, v68);
      if (v14)
      {
        *v14 = 0;
        v13 = *v70;
      }
    }
  }
  if ((paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"sysdctlookup", &__s1) & 0x80000000) == 0
    && !strcmp(__s1, "no"))
  {
    return 0;
  }
  v69 = 0;
  v66 = 7352935;
  if (a5)
  {
    __strcat_chk();
    v15 = (*(uint64_t (**)(uint64_t, uint64_t, int *, uint64_t, char ***, unsigned __int16 *, unsigned __int8 *, _QWORD))(a2 + 232))(a3, a4, &v66, a9, &v70, &v69, &v68, 0);
  }
  else
  {
    v60 = 0;
    v15 = (*(uint64_t (**)(uint64_t, uint64_t, int *, uint64_t, char ***, unsigned __int16 *, unsigned __int8 *, uint64_t))(a2 + 240))(a3, a4, &v66, a9, &v70, &v69, &v68, a7);
  }
  v19 = v15;
  v20 = a9;
  if ((v15 & 0x80000000) == 0)
  {
    if (v69
      || (log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P look up %s : no result", v16, v17, v18, a9), v69))
    {
      v61 = (char *)v13;
      v21 = 0;
      v22 = 0;
      do
      {
        v23 = v70[v21];
        v24 = strchr(v23, v68);
        if (!v24)
          goto LABEL_35;
        *v24 = 0;
        v28 = strchr(v24 + 1, v68);
        if (!v28)
          goto LABEL_35;
        *v28 = 0;
        v29 = strchr(v28 + 1, v68);
        if (!v29)
          goto LABEL_35;
        *v29 = 0;
        v30 = v29 + 1;
        v31 = strchr(v29 + 1, v68);
        v32 = v31;
        if (v31)
        {
          *v31 = 0;
          v32 = v31 + 1;
          v33 = strchr(v31 + 1, v68);
          if (v33)
          {
            *v33 = 0;
            v34 = strchr(v33 + 1, v68);
            if (v34)
            {
              *v34 = 0;
              v35 = v34 + 1;
              v36 = strchr(v34 + 1, v68);
              if (v36)
              {
                *v36 = 0;
                v37 = strchr(v36 + 1, v68);
                if (v37)
                  *v37 = 0;
              }
              if (!strcmp(v35, "0") || !strcmp(v35, "2"))
                goto LABEL_35;
            }
          }
        }
        v38 = !v23 || *v30 == 0;
        if (v38 || (v39 = strlen(v23)) == 0)
        {
LABEL_35:
          if (!v22)
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P look up %s : found entry, but discarded (mde field))", v25, v26, v27, v20);
          v22 = 1;
        }
        else
        {
          v40 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v39 + 1);
          if (!v40 || (v45 = v40, strcpy(v40, v23), (v46 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 256)) == 0))
          {
            log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v41, v42, v43, v44, v60);
            return 2310021130;
          }
          v47 = (char *)v46;
          if (strlen(v30) == 1 && strstr(v61, v30))
          {
            strcpy(v47, v30);
            v51 = 2;
          }
          else
          {
            strcpy(v47, v30);
            if (a8)
            {
              v52 = v47;
              while (1)
              {
                v53 = strchr(v30, 92);
                if (v53)
                {
                  strncpy(v52, v30, (unsigned __int16)((_WORD)v53 - (_WORD)v30));
                  v52[(unsigned __int16)((_WORD)v53 - (_WORD)v30)] = 0;
                }
                else
                {
                  strcpy(v52, v30);
                }
                v69 = -1;
                v54 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, char *, char ***, unsigned __int16 *, unsigned __int8 *))(a2 + 96))(a3, a4, a8, v52, &v70, &v69, &v68);
                if ((v54 & 0x80000000) != 0)
                  return v54;
                if (v69 == 1)
                {
                  v55 = *v70;
                  v56 = strchr(*v70, v68);
                  if (v56)
                  {
                    *v56 = 0;
                    v55 = *v70;
                  }
                  strcpy(v52, v55);
                }
                if (!v53)
                  break;
                v57 = &v52[strlen(v52)];
                *(_WORD *)v57 = 92;
                v52 = v57 + 1;
                v30 = v53 + 1;
              }
            }
            v51 = 1;
          }
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P look up %s : adding %s %s %s", v48, v49, v50, a9);
          v58 = crf_mde_utils_adddctres(a1, a10, v45, v47, v32, v51);
          heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v45);
          v20 = a9;
          heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v47);
          v19 = 0;
          if ((v58 & 0x80000000) != 0)
            return v58;
        }
        ++v21;
      }
      while (v21 < v69);
    }
  }
  return v19;
}

uint64_t crf_mde_utils_dctlkp(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, int a8)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  const char *v15;
  char *v16;
  char *v17;
  char *v18;
  char *v19;
  size_t v20;
  char *v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  char *v26;
  char *v27;
  size_t v28;
  char *v29;
  const char *v30;
  char *v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  size_t v35;
  char *v36;
  const char *v37;
  uint64_t v38;
  uint64_t v39;
  unsigned int v41;
  _BYTE __c[11];

  memset(__c, 0, sizeof(__c));
  v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _BYTE *, _BYTE *, _BYTE *))(a2 + 96))(a3, a4, a5, a6, &__c[3], &__c[1], __c);
  if ((v13 & 0x80000000) != 0)
    return v13;
  if (!*(_WORD *)&__c[1])
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s dct look up %s : no result", v10, v11, v12, a5);
    if (!*(_WORD *)&__c[1])
      return v13;
  }
  v14 = 0;
  v15 = 0;
  v16 = 0;
  while (1)
  {
    v17 = *(char **)(*(_QWORD *)&__c[3] + 8 * v14);
    v18 = strchr(v17, __c[0]);
    if (v18)
    {
      *v18 = 0;
      v19 = v18 + 1;
      v17 = *(char **)(*(_QWORD *)&__c[3] + 8 * v14);
    }
    else
    {
      v19 = v16;
    }
    v20 = strlen(v17);
    v21 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v20 + 1);
    if (!v21)
    {
LABEL_27:
      v13 = 2310021130;
      v38 = *(_QWORD *)(a1 + 32);
      v39 = 34000;
      goto LABEL_29;
    }
    v26 = v21;
    strcpy(v21, *(const char **)(*(_QWORD *)&__c[3] + 8 * v14));
    v27 = strchr(v19, __c[0]);
    if (!v27)
    {
      v16 = v19;
      if (v15)
        goto LABEL_13;
LABEL_28:
      v13 = 2310021130;
      v38 = *(_QWORD *)(a1 + 32);
      v39 = 34008;
LABEL_29:
      log_OutPublic(v38, (uint64_t)"FE_ONEWORD", v39, 0, v22, v23, v24, v25, v41);
      return v13;
    }
    *v27 = 0;
    v16 = v27 + 1;
    v15 = v19;
    if (!v19)
      goto LABEL_28;
LABEL_13:
    v28 = strlen(v15);
    v29 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v28 + 1);
    if (!v29)
      goto LABEL_27;
    v30 = v29;
    strcpy(v29, v15);
    v31 = strchr(v16, __c[0]);
    if (v31)
      *v31 = 0;
    if (v16 && *v16 != __c[0] && (v35 = strlen(v16)) != 0)
    {
      v36 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v35 + 1);
      if (!v36)
        goto LABEL_27;
      v37 = v36;
      strcpy(v36, v16);
    }
    else
    {
      v37 = 0;
    }
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s dct look up %s : adding %s %s %s", v32, v33, v34, a5);
    v13 = crf_mde_utils_adddctres(a1, a7, v30, v26, v37, a8);
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v30);
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v26);
    if ((v13 & 0x80000000) != 0)
      break;
    if (v37)
      heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v37);
    if (++v14 >= (unint64_t)*(unsigned __int16 *)&__c[1])
      return 0;
  }
  if (v37)
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v37);
  return v13;
}

uint64_t crf_mde_utils_dynstr_add(uint64_t a1, uint64_t a2, const char *a3, int a4)
{
  uint64_t v8;
  char *v9;
  unsigned __int16 v10;
  unsigned __int16 v11;
  unsigned int v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unsigned int v19;

  v8 = 2310021120;
  v9 = *(char **)a2;
  v10 = strlen(*(const char **)a2);
  v11 = strlen(a3);
  v12 = *(unsigned __int16 *)(a2 + 8);
  if (v10 + v11 + 2 >= v12)
  {
    v13 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v9, v11 + v12 + *(unsigned __int16 *)(a2 + 10));
    if (!v13)
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v14, v15, v16, v17, v19);
      return 2310021130;
    }
    v9 = (char *)v13;
    *(_QWORD *)a2 = v13;
    *(_WORD *)(a2 + 8) += v11 + *(_WORD *)(a2 + 10);
  }
  if (a4 == 1)
  {
    strcat(v9, a3);
    return 0;
  }
  if (a4 == 2)
  {
    strcpy(v9, a3);
    return 0;
  }
  return v8;
}

_QWORD *crf_mde_utils_dynstr_free(_QWORD *result, uint64_t a2)
{
  uint64_t v3;

  v3 = *(_QWORD *)a2;
  if (v3)
  {
    result = heap_Free((_QWORD *)result[1], v3);
    *(_QWORD *)a2 = 0;
  }
  *(_DWORD *)(a2 + 8) = 0;
  return result;
}

uint64_t crf_mde_utils_dynstr_init(uint64_t a1, uint64_t a2, unsigned int a3, __int16 a4)
{
  __int16 v5;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  _BYTE *v13;
  uint64_t result;
  unsigned int v15;

  v5 = a3;
  v8 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, a3);
  *(_QWORD *)a2 = v8;
  if (v8)
  {
    v13 = (_BYTE *)v8;
    result = 0;
    *(_WORD *)(a2 + 8) = v5;
    *(_WORD *)(a2 + 10) = a4;
    *v13 = 0;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v9, v10, v11, v12, v15);
    return 2310021130;
  }
  return result;
}

uint64_t crf_mde_utils_CRF_MDE_SEGPAT_T_init(uint64_t a1, uint64_t *a2, unsigned int a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t result;
  unsigned int v14;

  v6 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 80 * a3);
  *a2 = v6;
  if (v6)
  {
    if (a3)
    {
      v11 = 0;
      v12 = 80 * a3;
      while (1)
      {
        result = crf_mde_utils_dynstr_init(a1, *a2 + v11, 0x20u, 16);
        if ((result & 0x80000000) != 0)
          break;
        result = crf_mde_utils_dynstr_init(a1, *a2 + v11 + 32, 0x20u, 16);
        if ((result & 0x80000000) != 0)
          break;
        result = crf_mde_utils_dynstr_init(a1, *a2 + v11 + 48, 0x20u, 16);
        if ((result & 0x80000000) != 0)
          break;
        result = crf_mde_utils_dynstr_init(a1, *a2 + v11 + 16, 0x20u, 16);
        if ((result & 0x80000000) != 0)
          break;
        result = crf_mde_utils_dynstr_init(a1, *a2 + v11 + 64, 0x20u, 16);
        if ((result & 0x80000000) != 0)
          break;
        v11 += 80;
        if (v12 == v11)
          return 0;
      }
    }
    else
    {
      return 0;
    }
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v7, v8, v9, v10, v14);
    return 2310021130;
  }
  return result;
}

_QWORD *crf_mde_utils_CRF_MDE_SEGPAT_T_free(_QWORD *result, uint64_t *a2, unsigned int a3)
{
  uint64_t v4;
  _QWORD *v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;

  v4 = *a2;
  if (v4)
  {
    v5 = result;
    if (a3)
    {
      v6 = 0;
      v7 = 80 * a3;
      do
      {
        v8 = *a2;
        v9 = *(_QWORD *)(*a2 + v6);
        if (v9)
        {
          heap_Free((_QWORD *)v5[1], v9);
          *(_QWORD *)(v8 + v6) = 0;
        }
        v10 = *a2;
        *(_DWORD *)(v8 + v6 + 8) = 0;
        v11 = v10 + v6;
        v12 = *(_QWORD *)(v10 + v6 + 32);
        if (v12)
        {
          heap_Free((_QWORD *)v5[1], v12);
          *(_QWORD *)(v11 + 32) = 0;
          v10 = *a2;
        }
        *(_DWORD *)(v11 + 40) = 0;
        v13 = v10 + v6;
        v14 = *(_QWORD *)(v10 + v6 + 48);
        if (v14)
        {
          heap_Free((_QWORD *)v5[1], v14);
          *(_QWORD *)(v13 + 48) = 0;
          v10 = *a2;
        }
        *(_DWORD *)(v13 + 56) = 0;
        v15 = v10 + v6;
        v16 = *(_QWORD *)(v10 + v6 + 16);
        if (v16)
        {
          heap_Free((_QWORD *)v5[1], v16);
          *(_QWORD *)(v15 + 16) = 0;
          v10 = *a2;
        }
        *(_DWORD *)(v15 + 24) = 0;
        v17 = v10 + v6;
        v18 = *(_QWORD *)(v10 + v6 + 64);
        if (v18)
        {
          heap_Free((_QWORD *)v5[1], v18);
          *(_QWORD *)(v17 + 64) = 0;
        }
        *(_DWORD *)(v17 + 72) = 0;
        v6 += 80;
      }
      while (v7 != v6);
      v4 = *a2;
    }
    result = heap_Free((_QWORD *)v5[1], v4);
    *a2 = 0;
  }
  return result;
}

uint64_t crf_mde_utils_do_validation(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, unsigned __int16 a13, int a14, const char *a15, char **a16, _WORD *a17)
{
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  unsigned __int16 *v21;
  uint64_t v22;
  unint64_t i;
  uint64_t v24;
  uint64_t v25;
  _DWORD *v26;
  int v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t *v30;
  uint64_t *v31;
  uint64_t v32;
  uint64_t v33;
  unint64_t v34;
  uint64_t *v35;
  uint64_t v36;
  char *v37;
  char *v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  const char *v43;
  void *v44;
  const char *v45;
  size_t v46;
  uint64_t v47;
  const char *v48;
  char *v49;
  char *v50;
  unsigned int v51;
  unsigned __int16 v52;
  uint64_t v53;
  uint64_t v54;
  unsigned __int16 *v55;
  unint64_t j;
  uint64_t v57;
  uint64_t v58;
  int v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  __int16 v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  const char *v69;
  unint64_t v70;
  uint64_t v71;
  _QWORD *v72;
  size_t v73;
  char *v74;
  unint64_t v75;
  _QWORD *v76;
  const char *v77;
  unint64_t v78;
  size_t v79;
  char *v80;
  uint64_t v81;
  uint64_t v82;
  const char **v83;
  unsigned __int16 *v84;
  uint64_t v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v88;
  unsigned __int16 *v89;
  uint64_t v90;
  int v91;
  int v92;
  _DWORD *v93;
  int v94;
  unint64_t v95;
  uint64_t v96;
  unint64_t v97;
  uint64_t v98;
  _WORD *v99;
  _WORD *v100;
  size_t v101;
  uint64_t v102;
  char *v103;
  uint64_t v104;
  uint64_t v105;
  uint64_t v106;
  uint64_t v107;
  uint64_t v108;
  uint64_t v109;
  uint64_t v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  unsigned __int16 *v115;
  uint64_t v116;
  __int16 *v117;
  unsigned __int16 v118;
  __int16 v119;
  unsigned int v120;
  uint64_t v121;
  uint64_t v122;
  const char *v123;
  char *v124;
  unint64_t v125;
  uint64_t v126;
  uint64_t v127;
  uint64_t v128;
  unint64_t v129;
  unsigned __int16 v130;
  _QWORD *v131;
  uint64_t v132;
  const char **v133;
  uint64_t v134;
  uint64_t v135;
  uint64_t v136;
  uint64_t v137;
  uint64_t v138;
  const char *v139;
  uint64_t v140;
  uint64_t v141;
  const char *v142;
  uint64_t v143;
  uint64_t v144;
  uint64_t v145;
  const char *v146;
  uint64_t v147;
  unsigned __int16 v148;
  uint64_t v149;
  uint64_t v150;
  const char *v151;
  int v152;
  unsigned int v153;
  const char **v154;
  uint64_t v155;
  const char *v156;
  uint64_t v157;
  uint64_t v158;
  uint64_t v159;
  uint64_t v160;
  uint64_t v161;
  uint64_t *v162;
  char *v163;
  uint64_t v164;
  uint64_t v165;
  uint64_t v166;
  uint64_t v167;
  uint64_t v168;
  uint64_t v169;
  unsigned int v171;
  uint64_t v172;
  uint64_t v173;
  unsigned __int16 *v174;
  unint64_t v175;
  __int16 v176;
  uint64_t v177;
  uint64_t v178;
  uint64_t v179;
  uint64_t v181;
  unsigned int v183;
  BOOL v184;
  uint64_t v186;
  uint64_t v187;
  uint64_t v188;
  uint64_t v192;
  unsigned int v193;
  uint64_t v195;
  unsigned __int8 v196;
  __int16 v197;
  char **v198;
  uint64_t v199;
  uint64_t v200[2];

  v183 = a7;
  v17 = a4;
  v18 = a13;
  if (a13)
  {
    v19 = 0;
    v20 = a1;
    do
    {
      v21 = *(unsigned __int16 **)(a12 + 8 * v19);
      if (*((_DWORD *)v21 + 8) == 5)
      {
        v22 = v20;
        log_OutText(*(_QWORD *)(v20 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"skip nbest[%d] as contains split umlaut", a6, a7, a8, v19);
        v20 = v22;
      }
      else if (*v21)
      {
        v195 = 0;
        for (i = 0; i < *v21; ++i)
        {
          v24 = *((_QWORD *)v21 + 1);
          if (!*(_WORD *)(v24 + 48 * i + 8))
          {
            v25 = v24 + 48 * i;
            v27 = *(_DWORD *)(v25 + 40);
            v26 = (_DWORD *)(v25 + 40);
            if (!v27)
            {
              *v26 = 1;
              v28 = v20;
              v29 = crf_mde_utils_sysdctlkp(v20, a2, a3, a4, a5, a6, v183, a8, *(_QWORD *)(v24 + 48 * i), v24 + 48 * i);
              if ((v29 & 0x80000000) != 0)
                return v29;
              v30 = (uint64_t *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8) + 48 * i);
              v29 = crf_mde_utils_dctlkp(v28, a2, a3, a4, a9, *v30, (uint64_t)v30, 1);
              if ((v29 & 0x80000000) != 0)
                return v29;
              if (a10)
              {
                v31 = (uint64_t *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8) + 48 * i);
                v29 = crf_mde_utils_dctlkp(a1, a2, a3, a4, a10, *v31, (uint64_t)v31, 2);
                if ((v29 & 0x80000000) != 0)
                  return v29;
              }
              v21 = *(unsigned __int16 **)(a12 + 8 * v19);
              v32 = *((_QWORD *)v21 + 1);
              if (*(_WORD *)(v32 + 48 * i + 8))
              {
                v33 = 0;
                v34 = 0;
                *(_DWORD *)(v32 + 48 * i + 32) = 0;
                do
                {
                  v35 = (uint64_t *)(v32 + 48 * i);
                  v36 = v35[2] + v33;
                  if (*(_QWORD *)(v36 + 16))
                  {
                    v37 = strstr(*(char **)(v36 + 16), "◈");
                    if (v37)
                    {
                      v38 = v37;
                      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"segment %s has phon with special umlaut character=%s", a6, a7, a8, *v35);
                      v42 = *(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8);
                      if (*(_DWORD *)(v42 + 48 * i + 36) == 1)
                      {
                        v43 = "umlauted segment; modified to=%s";
                      }
                      else
                      {
                        v44 = *(void **)(*(_QWORD *)(v42 + 48 * i + 16) + v33 + 16);
                        v45 = v38 + 3;
                        v46 = strlen(v45);
                        memcpy(v44, v45, v46);
                        v38 = (char *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8)
                                                             + 48 * i
                                                             + 16)
                                                 + v33
                                                 + 16)
                                     + strlen(v45));
                        v43 = "non-umlauted segment; modified to=%s";
                      }
                      *v38 = 0;
                      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)v43, v39, v40, v41, *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8) + 48 * i + 16) + v33 + 16));
                    }
                  }
                  v21 = *(unsigned __int16 **)(a12 + 8 * v19);
                  v32 = *((_QWORD *)v21 + 1);
                  v47 = *(_QWORD *)(v32 + 48 * i + 16) + v33;
                  v48 = *(const char **)(v47 + 24);
                  if (v48)
                  {
                    v49 = strstr(*(char **)(v47 + 24), "force");
                    if (v49)
                    {
                      v50 = v49;
                      v51 = (unsigned __int16)strlen(v48);
                      if (v51 < 7)
                      {
                        v52 = 5;
                      }
                      else if (v50[5] == 44)
                      {
                        v52 = 6;
                      }
                      else
                      {
                        v52 = 5;
                      }
                      if (!strcmp(v48, "force")
                        || (memmove(v50, &v50[v52], (int)(v51 - v52 + 1)),
                            v53 = a12,
                            v48 = *(const char **)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8)
                                                             + 48 * i
                                                             + 16)
                                                 + v33
                                                 + 24),
                            !*v48))
                      {
                        heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v48);
                        v53 = a12;
                        *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8) + 48 * i + 16) + v33 + 24) = 0;
                      }
                      v21 = *(unsigned __int16 **)(v53 + 8 * v19);
                      v32 = *((_QWORD *)v21 + 1);
                      *(_DWORD *)(v32 + 48 * i + 32) = 1;
                    }
                  }
                  ++v34;
                  v33 += 32;
                }
                while (v34 < *(unsigned __int16 *)(v32 + 48 * i + 8));
                v54 = 0;
                v20 = a1;
                do
                {
                  v55 = *(unsigned __int16 **)(a12 + 8 * v54);
                  if (*v55)
                  {
                    for (j = 0; j < *v55; ++j)
                    {
                      if ((v19 != v54 || i != j) && *((_DWORD *)v55 + 8) != 5)
                      {
                        v57 = *((_QWORD *)v55 + 1);
                        if (!*(_WORD *)(v57 + 48 * j + 8))
                        {
                          v58 = *((_QWORD *)v21 + 1);
                          v59 = strcmp(*(const char **)(v58 + 48 * i), *(const char **)(v57 + 48 * j));
                          v20 = a1;
                          if (!v59)
                          {
                            *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v54) + 8) + 48 * j + 16) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 32 * *(unsigned __int16 *)(v58 + 48 * i + 8));
                            v55 = *(unsigned __int16 **)(a12 + 8 * v54);
                            v61 = *((_QWORD *)v55 + 1);
                            if (!*(_QWORD *)(v61 + 48 * j + 16))
                            {
LABEL_221:
                              v122 = 2310021130;
                              v169 = *(_QWORD *)(a1 + 32);
                              goto LABEL_217;
                            }
                            v21 = *(unsigned __int16 **)(a12 + 8 * v19);
                            v62 = *((_QWORD *)v21 + 1);
                            v63 = v62 + 48 * i;
                            v64 = *(_WORD *)(v63 + 8);
                            v65 = v61 + 48 * j;
                            *(_WORD *)(v65 + 24) = v64;
                            *(_WORD *)(v65 + 8) = v64;
                            *(_DWORD *)(v65 + 28) = 1;
                            *(_DWORD *)(v65 + 40) = 1;
                            if (*(_WORD *)(v63 + 8))
                            {
                              v66 = 0;
                              v67 = 0;
                              v20 = a1;
                              while (1)
                              {
                                v192 = v67;
                                v68 = *(_QWORD *)(v62 + 48 * i + 16) + v66;
                                *(_DWORD *)(*(_QWORD *)(v61 + 48 * j + 16) + v66) = *(_DWORD *)v68;
                                v69 = *(const char **)(v68 + 8);
                                if (v69)
                                {
                                  v70 = i;
                                  v71 = v20;
                                  v72 = *(_QWORD **)(v20 + 8);
                                  v73 = strlen(v69);
                                  *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v54) + 8) + 48 * j + 16)
                                            + v66
                                            + 8) = heap_Calloc(v72, 1, v73 + 1);
                                  v74 = *(char **)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v54) + 8)
                                                             + 48 * j
                                                             + 16)
                                                 + v66
                                                 + 8);
                                  if (!v74)
                                    break;
                                  v75 = v70;
                                  strcpy(v74, *(const char **)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8)+ 48 * v70+ 16)+ v66+ 8));
                                  v21 = *(unsigned __int16 **)(a12 + 8 * v19);
                                  v20 = v71;
                                  i = v75;
                                }
                                v76 = *(_QWORD **)(v20 + 8);
                                v77 = *(const char **)(*(_QWORD *)(*((_QWORD *)v21 + 1) + 48 * i + 16) + v66 + 16);
                                v78 = i;
                                v71 = v20;
                                v79 = strlen(v77);
                                *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v54) + 8) + 48 * j + 16)
                                          + v66
                                          + 16) = heap_Calloc(v76, 1, v79 + 1);
                                v80 = *(char **)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v54) + 8) + 48 * j + 16)
                                               + v66
                                               + 16);
                                if (!v80)
                                  break;
                                strcpy(v80, *(const char **)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v19) + 8)+ 48 * v78+ 16)+ v66+ 16));
                                v21 = *(unsigned __int16 **)(a12 + 8 * v19);
                                v62 = *((_QWORD *)v21 + 1);
                                v81 = v62 + 48 * v78;
                                v55 = *(unsigned __int16 **)(a12 + 8 * v54);
                                v61 = *((_QWORD *)v55 + 1);
                                *(_DWORD *)(v61 + 48 * j + 32) = *(_DWORD *)(v81 + 32);
                                v20 = a1;
                                v67 = v192 + 1;
                                v66 += 32;
                                i = v78;
                                if (v192 + 1 >= (unint64_t)*(unsigned __int16 *)(v81 + 8))
                                  goto LABEL_43;
                              }
                              v122 = 2310021130;
                              v169 = *(_QWORD *)(v71 + 32);
LABEL_217:
                              log_OutPublic(v169, (uint64_t)"FE_ONEWORD", 34000, 0, v60, a6, a7, a8, v171);
                              return v122;
                            }
                            v20 = a1;
                          }
                        }
                      }
LABEL_43:
                      ;
                    }
                  }
                  ++v54;
                  v18 = a13;
                }
                while (v54 != a13);
              }
              else
              {
                v82 = 0;
                v83 = (const char **)(v32 + 48 * i);
                do
                {
                  v84 = *(unsigned __int16 **)(a12 + 8 * v82);
                  if (*v84)
                  {
                    v85 = 0;
                    v86 = 48 * *v84;
                    do
                    {
                      if (v19 != v82 || v195 != v85)
                      {
                        v87 = *((_QWORD *)v84 + 1);
                        if (!strcmp(*v83, *(const char **)(v87 + v85)))
                          *(_DWORD *)(v87 + v85 + 40) = 1;
                      }
                      v85 += 48;
                    }
                    while (v86 != v85);
                  }
                  ++v82;
                }
                while (v82 != a13);
                v20 = a1;
                v18 = a13;
              }
            }
          }
          v195 += 48;
        }
      }
      ++v19;
    }
    while (v19 != v18);
    v88 = 0;
    v17 = a4;
    do
    {
      v89 = *(unsigned __int16 **)(a12 + 8 * v88);
      v90 = *v89;
      if (*v89)
      {
        v91 = 0;
        v92 = 0;
        v93 = (_DWORD *)(*((_QWORD *)v89 + 1) + 32);
        do
        {
          if (!*((_WORD *)v93 - 12))
          {
            *(v93 - 1) = 0;
            v92 = 1;
          }
          v94 = *v93;
          v93 += 12;
          if (v94 == 1)
            v91 = 1;
          --v90;
        }
        while (v90);
        if (v92 == 1)
        {
          *((_DWORD *)v89 + 8) = 2;
          if (v91 == 1)
          {
            v95 = 0;
            *((_DWORD *)v89 + 8) = 1;
            do
            {
              v96 = *((_QWORD *)v89 + 1);
              if (*(_WORD *)(v96 + 48 * v95 + 8))
              {
                v97 = 0;
                v98 = 8;
                do
                {
                  if (**(_DWORD **)(v96 + 48 * v95 + 16) == 2)
                  {
                    *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8) + 48 * v95 + 16) + v98) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 2);
                    v99 = *(_WORD **)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8) + 48 * v95 + 16) + v98);
                    if (!v99)
                      goto LABEL_221;
                    *v99 = 42;
                    v89 = *(unsigned __int16 **)(a12 + 8 * v88);
                  }
                  ++v97;
                  v96 = *((_QWORD *)v89 + 1);
                  v98 += 32;
                }
                while (v97 < *(unsigned __int16 *)(v96 + 48 * v95 + 8));
              }
              else
              {
                *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8) + 48 * v95 + 16) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 32);
                if (!*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8) + 48 * v95 + 16)
                  || (*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8) + 48 * v95 + 16) + 8) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 2),
                      (v100 = *(_WORD **)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8) + 48 * v95 + 16)
                                        + 8)) == 0))
                {
                  v122 = 2310021130;
                  v169 = *(_QWORD *)(a1 + 32);
                  goto LABEL_217;
                }
                *v100 = 42;
                v101 = strlen(*(const char **)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8) + 48 * v95));
                *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8) + 48 * v95 + 16) + 16) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v101 + 1);
                v102 = *(_QWORD *)(*(_QWORD *)(a12 + 8 * v88) + 8);
                v103 = *(char **)(*(_QWORD *)(v102 + 48 * v95 + 16) + 16);
                if (!v103)
                  goto LABEL_221;
                strcpy(v103, *(const char **)(v102 + 48 * v95));
                v89 = *(unsigned __int16 **)(a12 + 8 * v88);
                v104 = *((_QWORD *)v89 + 1) + 48 * v95;
                **(_DWORD **)(v104 + 16) = 0;
                *(_WORD *)(v104 + 8) = 1;
              }
              ++v95;
            }
            while (v95 < *v89);
          }
        }
      }
      ++v88;
      v18 = a13;
    }
    while (v88 != a13);
  }
  v106 = a1;
  v105 = a12;
  v29 = crf_mde_dump(a1, (uint64_t)"After mlex lookup", a12, v18, a14, a16, a17, a8);
  if ((v29 & 0x80000000) != 0)
    return v29;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"get pattern combinations for valid/partial segmentations:", v107, v108, v109, 0);
  if (!(_DWORD)v18)
    return crf_mde_dump(v106, (uint64_t)"results after mlex/pattern validation", v105, v18, a14, a16, a17, v112);
  v113 = 0;
  while (1)
  {
    v114 = *(_QWORD *)(v106 + 32);
    if (*(_DWORD *)(*(_QWORD *)(v105 + 8 * v113) + 32) <= 1u)
      break;
    log_OutText(v114, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"skip invalid nbest[%d]", v110, v111, v112, v113);
LABEL_183:
    if (++v113 == v18)
      return crf_mde_dump(v106, (uint64_t)"results after mlex/pattern validation", v105, v18, a14, a16, a17, v112);
  }
  log_OutText(v114, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"doing valid nbest[%d]", v110, v111, v112, v113);
  v115 = *(unsigned __int16 **)(v105 + 8 * v113);
  v199 = 0;
  v200[0] = 0;
  v198 = 0;
  v197 = -1;
  v116 = *v115;
  if (*v115)
  {
    v117 = (__int16 *)(*((_QWORD *)v115 + 1) + 8);
    v118 = 1;
    do
    {
      v119 = *v117;
      v117 += 24;
      v118 *= v119;
      --v116;
    }
    while (v116);
  }
  else
  {
    v118 = 1;
  }
  v196 = 0;
  v120 = v118;
  v121 = crf_mde_utils_CRF_MDE_SEGPAT_T_init(v106, v200, v118);
  if ((v121 & 0x80000000) != 0
    || (v121 = crf_mde_utils_CRF_MDE_SEGPAT_T_init(v106, &v199, v120), (v121 & 0x80000000) != 0))
  {
    v122 = v121;
    goto LABEL_180;
  }
  v197 = -1;
  v122 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, char ***, __int16 *, unsigned __int8 *))(a2 + 96))(a3, v17, "fecfg", "mde_addpos", &v198, &v197, &v196);
  v184 = 1;
  if ((v122 & 0x80000000) == 0 && v197)
  {
    v123 = *v198;
    v124 = strchr(*v198, v196);
    if (v124)
    {
      *v124 = 0;
      v123 = *v198;
    }
    v184 = strcmp(v123, "YES") && strcmp(v123, "yes");
  }
  if (!*v115)
  {
LABEL_180:
    crf_mde_utils_CRF_MDE_SEGPAT_T_free((_QWORD *)v106, v200, v120);
    crf_mde_utils_CRF_MDE_SEGPAT_T_free((_QWORD *)v106, &v199, v120);
    if ((v122 & 0x80000000) != 0)
      return v122;
    v105 = a12;
    v159 = *(_QWORD *)(a12 + 8 * v113);
    if (!*(_WORD *)(v159 + 16))
      *(_DWORD *)(v159 + 32) = 3;
    goto LABEL_183;
  }
  v125 = 0;
  LOWORD(v126) = 0;
  v127 = v199;
  v179 = v200[0] + 64;
  v172 = v200[0];
  v173 = v200[0] + 32;
  v193 = v120;
  v174 = v115;
  do
  {
    v128 = *((_QWORD *)v115 + 1);
    v181 = v128 + 48 * v125;
    if (*(_WORD *)(v181 + 8))
    {
      v129 = 0;
      v130 = 0;
      v131 = (_QWORD *)(v128 + 48 * v125 + 16);
      v176 = v126;
      v178 = (unsigned __int16)v126;
      v175 = v125;
      do
      {
        if ((_WORD)v126)
        {
          v132 = v178;
          v133 = (const char **)v179;
          while (1)
          {
            v186 = v132;
            v134 = v127;
            v135 = v127 + 80 * v130;
            v136 = a1;
            v137 = crf_mde_utils_dynstr_add(a1, v135 + 32, *(v133 - 4), 2);
            if ((v137 & 0x80000000) != 0)
            {
LABEL_176:
              v122 = v137;
              v106 = v136;
LABEL_178:
              v18 = a13;
              v17 = a4;
              goto LABEL_179;
            }
            v138 = crf_mde_utils_dynstr_add(a1, v135 + 32, a15, 1);
            if ((v138 & 0x80000000) != 0)
              goto LABEL_177;
            if (*(_DWORD *)(*v131 + 32 * v129) == 2)
            {
              v138 = crf_mde_utils_dynstr_add(a1, v135 + 32, *(const char **)v181, 1);
              if ((v138 & 0x80000000) != 0)
                goto LABEL_177;
              v136 = a1;
              if (v184)
                goto LABEL_128;
              v137 = crf_mde_utils_dynstr_add(a1, v135 + 32, "_", 1);
              if ((v137 & 0x80000000) != 0)
                goto LABEL_176;
              v139 = *(const char **)(*v131 + 32 * v129 + 8);
            }
            else
            {
              v139 = *(const char **)(*v131 + 32 * v129 + 8);
              v136 = a1;
            }
            v137 = crf_mde_utils_dynstr_add(v136, v135 + 32, v139, 1);
            if ((v137 & 0x80000000) != 0)
              goto LABEL_176;
LABEL_128:
            v140 = v127 + 80 * v130 + 48;
            v137 = crf_mde_utils_dynstr_add(v136, v140, *(v133 - 2), 2);
            if ((v137 & 0x80000000) != 0)
              goto LABEL_176;
            v137 = crf_mde_utils_dynstr_add(v136, v140, a15, 1);
            if ((v137 & 0x80000000) != 0)
              goto LABEL_176;
            v137 = crf_mde_utils_dynstr_add(v136, v140, *(const char **)(*v131 + 32 * v129 + 8), 1);
            if ((v137 & 0x80000000) != 0)
              goto LABEL_176;
            v137 = crf_mde_utils_dynstr_add(v136, v135, *(v133 - 8), 2);
            if ((v137 & 0x80000000) != 0)
              goto LABEL_176;
            v137 = crf_mde_utils_dynstr_add(v136, v135, a15, 1);
            if ((v137 & 0x80000000) != 0)
              goto LABEL_176;
            v137 = crf_mde_utils_dynstr_add(v136, v135, *(const char **)(*v131 + 32 * v129 + 16), 1);
            if ((v137 & 0x80000000) != 0)
              goto LABEL_176;
            v127 = v134;
            v141 = v134 + 80 * v130 + 64;
            v137 = crf_mde_utils_dynstr_add(v136, v141, *v133, 2);
            if ((v137 & 0x80000000) != 0)
              goto LABEL_176;
            v138 = crf_mde_utils_dynstr_add(v136, v141, a15, 1);
            if ((v138 & 0x80000000) != 0)
            {
LABEL_177:
              v122 = v138;
              v106 = a1;
              goto LABEL_178;
            }
            v142 = *(const char **)(*v131 + 32 * v129 + 24);
            v120 = v193;
            if (!v142)
              v142 = "*";
            v143 = crf_mde_utils_dynstr_add(a1, v141, v142, 1);
            if ((v143 & 0x80000000) != 0)
            {
              v122 = v143;
              v106 = a1;
              v18 = a13;
              v17 = a4;
              goto LABEL_180;
            }
            ++v130;
            v133 += 10;
            v132 = v186 - 1;
            if (v186 == 1)
              goto LABEL_154;
          }
        }
        if (*(_DWORD *)(*v131 + 32 * v129) == 2)
        {
          v106 = a1;
          v144 = crf_mde_utils_dynstr_add(a1, v127 + 80 * v130 + 32, *(const char **)v181, 2);
          if ((v144 & 0x80000000) != 0
            || !v184
            && ((v144 = crf_mde_utils_dynstr_add(a1, v127 + 80 * v130 + 32, "_", 1), (v144 & 0x80000000) != 0)
             || (v144 = crf_mde_utils_dynstr_add(a1, v127 + 80 * v130 + 32, *(const char **)(*v131 + 32 * v129 + 8), 1), (v144 & 0x80000000) != 0)))
          {
LABEL_186:
            v122 = v144;
            v18 = a13;
            v17 = a4;
            goto LABEL_179;
          }
        }
        else
        {
          v106 = a1;
          v144 = crf_mde_utils_dynstr_add(a1, v127 + 80 * v130 + 32, *(const char **)(*v131 + 32 * v129 + 8), 2);
          if ((v144 & 0x80000000) != 0)
            goto LABEL_186;
        }
        v144 = crf_mde_utils_dynstr_add(v106, v127 + 80 * v130 + 48, *(const char **)(*v131 + 32 * v129 + 8), 2);
        if ((v144 & 0x80000000) != 0)
          goto LABEL_186;
        v145 = crf_mde_utils_dynstr_add(v106, v127 + 80 * v130, *(const char **)(*v131 + 32 * v129 + 16), 2);
        if ((v145 & 0x80000000) != 0)
        {
          v122 = v145;
          v18 = a13;
          v17 = a4;
          goto LABEL_179;
        }
        v146 = *(const char **)(*v131 + 32 * v129 + 24);
        if (!v146)
          v146 = "*";
        v147 = crf_mde_utils_dynstr_add(v106, v127 + 80 * v130 + 64, v146, 2);
        v120 = v193;
        if ((v147 & 0x80000000) != 0)
        {
          v122 = v147;
          v18 = a13;
          v17 = a4;
          goto LABEL_180;
        }
        ++v130;
LABEL_154:
        ++v129;
        v125 = v175;
        LOWORD(v126) = v176;
      }
      while (v129 < *(unsigned __int16 *)(v181 + 8));
      if (v130)
      {
        v126 = 0;
        v148 = 0;
        v149 = 0;
        v187 = v130;
        v106 = a1;
        v17 = a4;
        while (1)
        {
          v177 = v126;
          v150 = v127;
          v151 = *(const char **)(v127 + 80 * v149 + 32);
          if (v148)
          {
            v152 = 0;
            v153 = v148;
            v154 = (const char **)v173;
            v155 = v148;
            do
            {
              v156 = *v154;
              v154 += 10;
              if (!strcmp(v156, v151))
                v152 = 1;
              --v155;
            }
            while (v155);
            v106 = a1;
            if (v152)
            {
              v127 = v150;
              v126 = v177;
              goto LABEL_170;
            }
          }
          else
          {
            v153 = 0;
          }
          v157 = crf_mde_utils_dynstr_add(v106, v172 + 80 * v153 + 32, v151, 2);
          if ((v157 & 0x80000000) != 0)
          {
            v122 = v157;
            v18 = a13;
LABEL_179:
            v120 = v193;
            goto LABEL_180;
          }
          v158 = crf_mde_utils_dynstr_add(v106, v172 + 80 * (unsigned __int16)v177 + 48, *(const char **)(v150 + 80 * v149 + 48), 2);
          if ((v158 & 0x80000000) != 0
            || (v158 = crf_mde_utils_dynstr_add(v106, v172 + 80 * (unsigned __int16)v177, *(const char **)(v150 + 80 * v149), 2), (v158 & 0x80000000) != 0)|| (v158 = crf_mde_utils_dynstr_add(v106, v172 + 80 * (unsigned __int16)v177 + 64, *(const char **)(v150 + 80 * v149 + 64), 2), (v158 & 0x80000000) != 0))
          {
            v122 = v158;
            v18 = a13;
            goto LABEL_179;
          }
          v127 = v150;
          v126 = (v177 + 1);
          v148 = v177 + 1;
LABEL_170:
          ++v149;
          v125 = v175;
          if (v149 == v187)
            goto LABEL_173;
        }
      }
      LOWORD(v126) = 0;
      v106 = a1;
      v17 = a4;
    }
    else
    {
      LOWORD(v126) = 0;
    }
LABEL_173:
    ++v125;
    v115 = v174;
    v18 = a13;
    v120 = v193;
  }
  while (v125 < *v174);
  if (!(_WORD)v126)
  {
    v122 = 0;
    goto LABEL_180;
  }
  v188 = (unsigned __int16)v126;
  v160 = heap_Calloc(*(_QWORD **)(v106 + 8), 1, 80 * (unsigned __int16)v126);
  *((_QWORD *)v174 + 3) = v160;
  if (!v160)
  {
    v122 = 2310021130;
    v169 = *(_QWORD *)(v106 + 32);
    goto LABEL_217;
  }
  v161 = 0;
  v122 = 0;
  v174[8] = 0;
  v162 = (uint64_t *)v173;
  while (1)
  {
    if (a11)
    {
      log_OutText(*(_QWORD *)(v106 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"   check pattern %s", a6, a7, a8, *v162);
      v197 = -1;
      v122 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, uint64_t, char ***, __int16 *, unsigned __int8 *))(a2 + 96))(a3, v17, "mde_segpatterns", *v162, &v198, &v197, &v196);
      if ((v122 & 0x80000000) != 0)
        return v122;
    }
    if (v197)
    {
      v163 = strchr(*v198, v196);
      if (v163)
        *v163 = 0;
      log_OutText(*(_QWORD *)(v106 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"     Found Solution %d %s : Valid, PRON=%s POS=%s", v164, v165, v166, v161);
      v167 = crf_mde_utils_dynstr_init(v106, *((_QWORD *)v174 + 3) + 80 * v174[8] + 16, 0x20u, 16);
      if ((v167 & 0x80000000) != 0)
      {
        v122 = v167;
        goto LABEL_179;
      }
      v168 = crf_mde_utils_dynstr_add(v106, *((_QWORD *)v174 + 3) + 80 * v174[8] + 16, *v198, 2);
      if ((v168 & 0x80000000) != 0)
        goto LABEL_211;
      v168 = crf_mde_utils_dynstr_init(v106, *((_QWORD *)v174 + 3) + 80 * v174[8] + 32, 0x20u, 16);
      if ((v168 & 0x80000000) != 0
        || (v168 = crf_mde_utils_dynstr_add(v106, *((_QWORD *)v174 + 3) + 80 * v174[8] + 32, (const char *)*v162, 2),
            (v168 & 0x80000000) != 0)
        || (v168 = crf_mde_utils_dynstr_init(v106, *((_QWORD *)v174 + 3) + 80 * v174[8] + 48, 0x20u, 16),
            (v168 & 0x80000000) != 0)
        || (v168 = crf_mde_utils_dynstr_add(v106, *((_QWORD *)v174 + 3) + 80 * v174[8] + 48, (const char *)v162[2], 2),
            (v168 & 0x80000000) != 0)
        || (v168 = crf_mde_utils_dynstr_init(v106, *((_QWORD *)v174 + 3) + 80 * v174[8], 0x20u, 16),
            (v168 & 0x80000000) != 0)
        || (v168 = crf_mde_utils_dynstr_add(v106, *((_QWORD *)v174 + 3) + 80 * v174[8], (const char *)*(v162 - 4), 2),
            (v168 & 0x80000000) != 0)
        || (v168 = crf_mde_utils_dynstr_init(v106, *((_QWORD *)v174 + 3) + 80 * v174[8] + 64, 0x20u, 16),
            (v168 & 0x80000000) != 0)
        || (v168 = crf_mde_utils_dynstr_add(v106, *((_QWORD *)v174 + 3) + 80 * v174[8] + 64, (const char *)v162[4], 2),
            (v168 & 0x80000000) != 0))
      {
LABEL_211:
        v122 = v168;
        goto LABEL_179;
      }
      v122 = 0;
      ++v174[8];
      v120 = v193;
    }
    else
    {
      log_OutText(*(_QWORD *)(v106 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"     pattern [%d] %s : Invalid", a6, a7, a8, v161);
    }
    ++v161;
    v162 += 10;
    if (v188 == v161)
      goto LABEL_180;
  }
}

uint64_t crf_mde_dump(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, char **a6, _WORD *a7, uint64_t a8)
{
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unsigned __int16 *v18;
  uint64_t v19;
  int v20;
  int *v21;
  int v22;
  uint64_t result;
  uint64_t v24;
  unint64_t v25;
  unint64_t v26;
  unsigned int v27;
  unsigned __int16 *v28;
  unint64_t v29;
  const char *v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  _DWORD *v34;
  char *v35;
  uint64_t v36;
  unint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;

  if (!a5)
    return 0;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s:", (uint64_t)a6, (uint64_t)a7, a8, a2);
  if (!a4)
    return 0;
  v14 = 0;
  while (1)
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"nbest[%d]", v11, v12, v13, v14);
    strcpy(*a6, "MSD: ");
    v18 = *(unsigned __int16 **)(a3 + 8 * v14);
    v19 = *v18;
    if (*v18)
    {
      v20 = 0;
      v21 = (int *)(*((_QWORD *)v18 + 1) + 28);
      do
      {
        v22 = *v21;
        v21 += 12;
        if (!v22)
          v20 = 1;
        --v19;
      }
      while (v19);
      if (v20 != 1)
        break;
      result = crf_mde_utils_add2Str(a1, (const char **)a6, a7, " !! ");
      if ((result & 0x80000000) != 0)
        return result;
      v18 = *(unsigned __int16 **)(a3 + 8 * v14);
      if (*v18)
        break;
    }
LABEL_18:
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s", v15, v16, v17, (uint64_t)*a6);
    v27 = *(_DWORD *)(*(_QWORD *)(a3 + 8 * v14) + 32) - 1;
    if (v27 <= 4)
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)off_1EA93F158[v27], v11, v12, v13, 0);
    v28 = *(unsigned __int16 **)(a3 + 8 * v14);
    if (*v28)
    {
      v29 = 0;
      do
      {
        v30 = "   ";
        if (!*(_DWORD *)(*((_QWORD *)v28 + 1) + 48 * v29 + 28))
          v30 = "!! ";
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s %s", v11, v12, v13, (uint64_t)v30);
        v28 = *(unsigned __int16 **)(a3 + 8 * v14);
        v31 = *((_QWORD *)v28 + 1);
        if (*(_WORD *)(v31 + 48 * v29 + 8))
        {
          v32 = 0;
          v33 = 0;
          do
          {
            v34 = (_DWORD *)(*(_QWORD *)(v31 + 48 * v29 + 16) + v32);
            v35 = " ISAffix";
            if (*v34 != 2)
              v35 = &byte_1DEBD87CE;
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"     %s%s%s%s%s%s%s", v11, v12, v13, (uint64_t)v35);
            v28 = *(unsigned __int16 **)(a3 + 8 * v14);
            ++v33;
            v31 = *((_QWORD *)v28 + 1);
            v32 += 32;
          }
          while (v33 < *(unsigned __int16 *)(v31 + 48 * v29 + 8));
        }
        ++v29;
      }
      while (v29 < *v28);
    }
    if (v28[8])
    {
      v36 = 0;
      v37 = 0;
      do
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"    solution[%d]", v11, v12, v13, v37);
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"      segpat:%s", v38, v39, v40, *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a3 + 8 * v14) + 24) + v36 + 32));
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"      segpatPOS:%s", v41, v42, v43, *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a3 + 8 * v14) + 24) + v36 + 48));
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"      wordPOS:%s", v44, v45, v46, *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a3 + 8 * v14) + 24) + v36 + 16));
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"      pron:%s", v47, v48, v49, *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a3 + 8 * v14) + 24) + v36));
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"      feat:%s", v50, v51, v52, *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a3 + 8 * v14) + 24) + v36 + 64));
        ++v37;
        v36 += 80;
      }
      while (v37 < *(unsigned __int16 *)(*(_QWORD *)(a3 + 8 * v14) + 16));
    }
    if (++v14 == a4)
      return 0;
  }
  v24 = 0;
  v25 = 0;
  while (1)
  {
    result = crf_mde_utils_add2Str(a1, (const char **)a6, a7, *(char **)(*((_QWORD *)v18 + 1) + v24));
    if ((result & 0x80000000) != 0)
      return result;
    v18 = *(unsigned __int16 **)(a3 + 8 * v14);
    v26 = *v18;
    if ((int)v25 + 1 < v26)
    {
      result = crf_mde_utils_add2Str(a1, (const char **)a6, a7, " | ");
      if ((result & 0x80000000) != 0)
        return result;
      v18 = *(unsigned __int16 **)(a3 + 8 * v14);
      v26 = *v18;
    }
    ++v25;
    v24 += 48;
    if (v25 >= v26)
      goto LABEL_18;
  }
}

char *dynamic_strcat(const char **a1, const char *a2, size_t *a3, uint64_t *a4)
{
  char *v8;
  size_t v9;
  size_t v10;
  size_t v11;
  uint64_t v12;

  v8 = (char *)*a1;
  v9 = strlen(*a1);
  v10 = strlen(a2) + v9;
  if (v10 < *a3)
    goto LABEL_4;
  v11 = v10 + 128;
  v12 = heap_Realloc(a4, (uint64_t)v8, (v10 + 128));
  v8 = (char *)v12;
  if (v12)
  {
    *a1 = (const char *)v12;
    *a3 = v11;
LABEL_4:
    strcat(v8, a2);
  }
  return v8;
}

char *dynamic_strncat(const char **a1, const char *a2, uint64_t a3, _QWORD *a4, uint64_t *a5)
{
  char *v10;
  size_t v11;
  size_t v12;
  uint64_t v13;

  v10 = (char *)*a1;
  v11 = strlen(*a1) + a3;
  if (v11 < *a4)
    goto LABEL_4;
  v12 = v11 + 128;
  v13 = heap_Realloc(a5, (uint64_t)v10, (v11 + 128));
  v10 = (char *)v13;
  if (v13)
  {
    *a1 = (const char *)v13;
    *a4 = v12;
LABEL_4:
    strncat(v10, a2, a3);
  }
  return v10;
}

uint64_t fe_oneword_ObjOpen(uint64_t a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5)
{
  uint64_t v5;
  uint64_t inited;
  _QWORD *v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  _QWORD *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t Object;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  BOOL v31;
  _BOOL4 v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  _QWORD *v43;
  int v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  _BYTE *v51;
  _BYTE *v52;
  _BYTE *v53;
  uint64_t v55;
  unsigned int v56;
  __int128 v57;
  uint64_t (*v58)(const char *, const char *);
  uint64_t (*v59)(uint64_t, uint64_t, _QWORD *);
  uint64_t (*v60)();
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;

  v66 = 0;
  v67 = 0;
  v65 = 0;
  v5 = 2310021130;
  v63 = 0;
  v64 = 0;
  v61 = 0;
  v62 = 0;
  if (!a5)
    return 2310021127;
  *(_QWORD *)a5 = 0;
  *(_DWORD *)(a5 + 8) = 0;
  inited = InitRsrcFunction(a3, a4, &v67);
  if ((inited & 0x80000000) != 0)
    return inited;
  v12 = (_QWORD *)heap_Calloc(*(_QWORD **)(v67 + 8), 1, 2288);
  v17 = v67;
  if (!v12)
  {
    log_OutPublic(*(_QWORD *)(v67 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v13, v14, v15, v16, v56);
    return v5;
  }
  v18 = (uint64_t)v12;
  v12[2] = a3;
  v12[3] = a4;
  v12[4] = a1;
  v12[5] = a2;
  *v12 = v17;
  v12[1] = a1;
  v19 = (_QWORD *)heap_Calloc(*(_QWORD **)(v67 + 8), 1, 1040);
  *(_QWORD *)(v18 + 48) = v19;
  if (!v19)
  {
LABEL_52:
    v38 = v67;
LABEL_53:
    log_OutPublic(*(_QWORD *)(v38 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v20, v21, v22, v23, v56);
LABEL_64:
    fe_oneword_ObjClose(*(uint64_t **)a5, *(_QWORD *)(a5 + 8));
    *(_QWORD *)a5 = 0;
    *(_DWORD *)(a5 + 8) = 0;
    return v5;
  }
  *v19 = a3;
  v19[1] = a4;
  Object = objc_GetObject(*(_QWORD *)(v67 + 48), (uint64_t)"LINGDB", &v66);
  if ((Object & 0x80000000) != 0)
    goto LABEL_63;
  *(_QWORD *)(v18 + 56) = *(_QWORD *)(v66 + 8);
  Object = objc_GetObject(*(_QWORD *)(v67 + 48), (uint64_t)"FE_DCTLKP", &v65);
  if ((Object & 0x80000000) != 0)
    goto LABEL_63;
  v25 = v65;
  *(_QWORD *)(v18 + 80) = *(_QWORD *)(v65 + 8);
  *(_OWORD *)(v18 + 64) = *(_OWORD *)(v25 + 16);
  Object = objc_GetObject(*(_QWORD *)(v67 + 48), (uint64_t)"FE_DEPES", &v64);
  if ((Object & 0x80000000) != 0)
    goto LABEL_63;
  v26 = v64;
  *(_QWORD *)(v18 + 104) = *(_QWORD *)(v64 + 8);
  *(_OWORD *)(v18 + 88) = *(_OWORD *)(v26 + 16);
  Object = objc_GetObject(*(_QWORD *)(v67 + 48), (uint64_t)"CLMOBJECT", &v63);
  if ((Object & 0x80000000) != 0
    || (v27 = v63,
        *(_QWORD *)(v18 + 128) = *(_QWORD *)(v63 + 8),
        *(_OWORD *)(v18 + 112) = *(_OWORD *)(v27 + 16),
        Object = objc_GetObject(*(_QWORD *)(v67 + 48), (uint64_t)"PHONMAP", &v62),
        (Object & 0x80000000) != 0))
  {
LABEL_63:
    v5 = Object;
    goto LABEL_64;
  }
  v28 = v62;
  *(_QWORD *)(v18 + 152) = *(_QWORD *)(v62 + 8);
  *(_OWORD *)(v18 + 136) = *(_OWORD *)(v28 + 16);
  inited = checkStatCOMP(*(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), (_DWORD *)(v18 + 2000));
  if ((inited & 0x80000000) != 0)
    return inited;
  inited = checkSkipCrosstoken(*(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), (_DWORD *)(v18 + 936));
  if ((inited & 0x80000000) != 0)
    return inited;
  inited = checkFeOneWordCLM(*(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), (_DWORD *)(v18 + 940));
  if ((inited & 0x80000000) != 0)
    return inited;
  inited = checkParaDCT(*(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), (_DWORD *)(v18 + 1996));
  if ((inited & 0x80000000) != 0)
    return inited;
  inited = oneword_posparser_Open(v18);
  if ((inited & 0x80000000) != 0)
    return inited;
  v29 = *(_QWORD *)(v18 + 2176);
  if (v29)
    heap_Free(*(_QWORD **)(*(_QWORD *)v18 + 8), v29);
  *(_QWORD *)(v18 + 2176) = 0;
  inited = hlp_setKeyword(*(_QWORD *)v18, *(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), (uint64_t)"feoneword_latinPOStag", (char **)(v18 + 2176));
  if ((inited & 0x80000000) != 0)
    return inited;
  v30 = *(_QWORD *)(v18 + 2184);
  if (v30)
    heap_Free(*(_QWORD **)(*(_QWORD *)v18 + 8), v30);
  *(_QWORD *)(v18 + 2184) = 0;
  inited = hlp_setKeyword(*(_QWORD *)v18, *(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), (uint64_t)"feoneword_latin2enx", (char **)(v18 + 2184));
  if ((inited & 0x80000000) != 0)
    return inited;
  *(_DWORD *)(v18 + 2168) = 0;
  inited = crf_mde_seg_load(*(_WORD **)(v18 + 16), *(_QWORD *)(v18 + 24), *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), *(_QWORD *)v18, *(_QWORD *)(v18 + 8), *(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), v18 + 2016, (_DWORD *)(v18 + 2168));
  if ((inited & 0x80000000) != 0)
    return inited;
  *(_DWORD *)(v18 + 2192) = 0;
  if (!*(_DWORD *)(v18 + 2168))
  {
    Object = com_mosynt_UseMosynt(*(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), (_BOOL4 *)(v18 + 2192));
    if ((Object & 0x80000000) != 0)
      goto LABEL_63;
    if (*(_DWORD *)(v18 + 2192))
    {
      LODWORD(v57) = 1;
      Object = hlp_GetParams((uint64_t *)v18, (_DWORD *)(v18 + 2248), &v57);
      if ((Object & 0x80000000) != 0)
        goto LABEL_63;
      Object = wgram_LoadData(a3, a4, *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), (_QWORD *)(v18 + 2232));
      if ((Object & 0x80000000) != 0)
        goto LABEL_63;
      Object = kbsymtab_LoadData(a3, a4, *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), (uint64_t *)(v18 + 2200), v57);
      if ((Object & 0x80000000) != 0)
        goto LABEL_63;
      Object = fst_LoadData(a3, a4, (uint64_t *)(v18 + 2240));
      if ((Object & 0x80000000) != 0)
        goto LABEL_63;
      Object = kblex_InitLex(*(_WORD **)(v18 + 16), *(_QWORD *)(v18 + 24), *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), v18 + 1228, *(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), 0, (_QWORD *)(v18 + 2208));
      if ((Object & 0x80000000) != 0)
        goto LABEL_63;
      Object = kblex_InitLex(*(_WORD **)(v18 + 16), *(_QWORD *)(v18 + 24), *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), v18 + 1228, *(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), 1u, (_QWORD *)(v18 + 2216));
      if ((Object & 0x80000000) != 0)
        goto LABEL_63;
      Object = kblex_InitLex(*(_WORD **)(v18 + 16), *(_QWORD *)(v18 + 24), *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), v18 + 1228, *(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), 2u, (_QWORD *)(v18 + 2224));
      if ((Object & 0x80000000) != 0)
        goto LABEL_63;
    }
  }
  *(_QWORD *)a5 = v18;
  *(_DWORD *)(a5 + 8) = 62340;
  Object = (*(uint64_t (**)(_QWORD, _QWORD, char *, uint64_t *))(*(_QWORD *)(v18 + 80) + 88))(*(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), (char *)&v61 + 4, &v61);
  if ((Object & 0x80000000) != 0)
    goto LABEL_63;
  v31 = (_DWORD)v61 == 1 && HIDWORD(v61) == 1;
  v32 = v31;
  *(_DWORD *)(v18 + 560) = v32;
  *(_OWORD *)(v18 + 160) = 0u;
  *(_OWORD *)(v18 + 176) = 0u;
  *(_OWORD *)(v18 + 192) = 0u;
  *(_OWORD *)(v18 + 208) = 0u;
  *(_WORD *)(v18 + 224) = 0;
  *(_OWORD *)(v18 + 232) = 0u;
  *(_OWORD *)(v18 + 248) = 0u;
  *(_QWORD *)(v18 + 264) = 0;
  *(_BYTE *)(v18 + 556) = 1;
  *(_QWORD *)(v18 + 568) = 0;
  Object = paramc_ParamGet(*(_QWORD *)(*(_QWORD *)v18 + 40), (uint64_t)"langcode", (_QWORD *)(v18 + 1208), 0);
  if ((Object & 0x80000000) != 0)
    goto LABEL_63;
  v33 = heap_Alloc(*(_QWORD *)(*(_QWORD *)v18 + 8), 128);
  *(_QWORD *)(v18 + 160) = v33;
  if (!v33)
    goto LABEL_66;
  *(_QWORD *)(v18 + 192) = 128;
  v34 = heap_Alloc(*(_QWORD *)(*(_QWORD *)v18 + 8), 128);
  *(_QWORD *)(v18 + 168) = v34;
  if (!v34)
    goto LABEL_66;
  *(_QWORD *)(v18 + 200) = 128;
  v35 = heap_Alloc(*(_QWORD *)(*(_QWORD *)v18 + 8), 128);
  *(_QWORD *)(v18 + 176) = v35;
  if (!v35)
    goto LABEL_66;
  *(_QWORD *)(v18 + 208) = 128;
  v36 = heap_Alloc(*(_QWORD *)(*(_QWORD *)v18 + 8), 128);
  *(_QWORD *)(v18 + 184) = v36;
  if (!v36)
    goto LABEL_66;
  *(_QWORD *)(v18 + 216) = 128;
  v37 = heap_Alloc(*(_QWORD *)(*(_QWORD *)v18 + 8), 128);
  *(_QWORD *)(v18 + 232) = v37;
  v38 = *(_QWORD *)v18;
  if (!v37)
    goto LABEL_53;
  v39 = heap_Alloc(*(_QWORD *)(v38 + 8), 128);
  *(_QWORD *)(v18 + 240) = v39;
  v38 = *(_QWORD *)v18;
  if (!v39)
    goto LABEL_53;
  v40 = heap_Alloc(*(_QWORD *)(v38 + 8), 128);
  *(_QWORD *)(v18 + 248) = v40;
  v38 = *(_QWORD *)v18;
  if (!v40)
    goto LABEL_53;
  v41 = heap_Alloc(*(_QWORD *)(v38 + 8), 128);
  *(_QWORD *)(v18 + 256) = v41;
  v38 = *(_QWORD *)v18;
  if (!v41)
    goto LABEL_53;
  v42 = heap_Alloc(*(_QWORD *)(v38 + 8), 128);
  *(_QWORD *)(v18 + 264) = v42;
  if (!v42)
  {
LABEL_66:
    v38 = *(_QWORD *)v18;
    goto LABEL_53;
  }
  strcpy((char *)(v18 + 300), "normal");
  Object = oneword_GetMdeSettings(v18);
  if ((Object & 0x80000000) != 0)
    goto LABEL_63;
  Object = hlp_GetPart(v18);
  if ((Object & 0x80000000) != 0)
    goto LABEL_63;
  v43 = *(_QWORD **)(*(_QWORD *)v18 + 8);
  *(_QWORD *)&v57 = ssftmap_ElemCopyString;
  *((_QWORD *)&v57 + 1) = ssftmap_ElemFreeString;
  v58 = ssftmap_ElemCompareKeysString;
  v59 = stringmap_loc_ElemCopyPtr;
  v60 = stringmap_loc_ElemFreeNoOp;
  Object = ssftmap_ObjOpen(v43, 0, &v57, (uint64_t *)(v18 + 568));
  if ((Object & 0x80000000) != 0)
    goto LABEL_63;
  *(_QWORD *)(v18 + 856) = heap_Alloc;
  *(_QWORD *)(v18 + 864) = heap_Calloc;
  *(_QWORD *)(v18 + 872) = heap_Realloc;
  *(_QWORD *)(v18 + 880) = heap_Free;
  v44 = OOCAllocator_Con(v18 + 888, (_OWORD *)(v18 + 856), *(_QWORD *)(*(_QWORD *)v18 + 8));
  v45 = LH_ERROR_to_VERROR(v44);
  v50 = *(_QWORD *)v18;
  if ((v45 & 0x80000000) != 0)
  {
    v55 = v45;
    log_OutPublic(*(_QWORD *)(v50 + 32), (uint64_t)"FE_ONEWORD", 34004, 0, v46, v47, v48, v49, v56);
    v5 = v55;
    goto LABEL_64;
  }
  v51 = (_BYTE *)heap_Alloc(*(_QWORD *)(v50 + 8), 64);
  *(_QWORD *)(v18 + 2256) = v51;
  if (!v51)
    goto LABEL_52;
  *v51 = 0;
  v52 = (_BYTE *)heap_Alloc(*(_QWORD *)(*(_QWORD *)v18 + 8), 64);
  *(_QWORD *)(v18 + 2264) = v52;
  if (!v52)
    goto LABEL_52;
  *v52 = 0;
  v53 = (_BYTE *)heap_Alloc(*(_QWORD *)(*(_QWORD *)v18 + 8), 16);
  *(_QWORD *)(v18 + 2280) = v53;
  if (!v53)
    goto LABEL_52;
  *v53 = 0;
  v5 = hlp_common_ObjOpenReopen(v18);
  if ((v5 & 0x80000000) != 0)
    goto LABEL_64;
  return v5;
}

uint64_t checkStatCOMP(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t v5;
  const char *v7;
  char *v8;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  *a4 = 0;
  v5 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a3 + 96))(a1, a2, "fecfg", "usecompound", &__c[3], &__c[1], __c);
  if ((v5 & 0x80000000) == 0 && *(unsigned __int16 *)&__c[1] == 1 && *(_QWORD *)&__c[3] != 0)
  {
    v7 = **(const char ***)&__c[3];
    v8 = strchr(**(char ***)&__c[3], __c[0]);
    if (v8)
    {
      *v8 = 0;
      v7 = **(const char ***)&__c[3];
    }
    if (!strcmp("yes", v7) || !strcmp("YES", v7))
      *a4 = 1;
  }
  return v5;
}

uint64_t checkFeOneWordCLM(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t v5;
  const char *v7;
  char *v8;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  *a4 = 0;
  v5 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a3 + 96))(a1, a2, "fecfg", "feoneword_clm", &__c[3], &__c[1], __c);
  if ((v5 & 0x80000000) == 0 && *(unsigned __int16 *)&__c[1] == 1 && *(_QWORD *)&__c[3] != 0)
  {
    v7 = **(const char ***)&__c[3];
    v8 = strchr(**(char ***)&__c[3], __c[0]);
    if (v8)
    {
      *v8 = 0;
      v7 = **(const char ***)&__c[3];
    }
    if (!strcmp("yes", v7) || !strcmp("YES", v7))
      *a4 = 1;
  }
  return v5;
}

uint64_t checkParaDCT(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t v5;
  const char *v7;
  char *v8;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  *a4 = 0;
  v5 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a3 + 96))(a1, a2, "fecfg", "feoneword_parallel", &__c[3], &__c[1], __c);
  if ((v5 & 0x80000000) == 0 && *(unsigned __int16 *)&__c[1] == 1 && *(_QWORD *)&__c[3] != 0)
  {
    v7 = **(const char ***)&__c[3];
    v8 = strchr(**(char ***)&__c[3], __c[0]);
    if (v8)
    {
      *v8 = 0;
      v7 = **(const char ***)&__c[3];
    }
    if (!strcmp("yes", v7) || !strcmp("YES", v7))
      *a4 = 1;
  }
  return v5;
}

uint64_t hlp_setKeyword(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, char **a6)
{
  int v8;
  uint64_t result;
  const char *v11;
  char *v12;
  size_t v13;
  char *v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unsigned int v19;
  _BYTE __c[11];

  memset(__c, 0, sizeof(__c));
  *a6 = 0;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, uint64_t, _BYTE *, _BYTE *, _BYTE *))(a4 + 96))(a2, a3, "fecfg", a5, &__c[3], &__c[1], __c);
  result = 0;
  if ((v8 & 0x80000000) == 0 && *(unsigned __int16 *)&__c[1] == 1 && *(_QWORD *)&__c[3] != 0)
  {
    v11 = **(const char ***)&__c[3];
    v12 = strchr(**(char ***)&__c[3], __c[0]);
    if (v12)
    {
      *v12 = 0;
      v11 = **(const char ***)&__c[3];
    }
    v13 = strlen(v11);
    v14 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v13 + 1);
    *a6 = v14;
    if (v14)
    {
      strcpy(v14, **(const char ***)&__c[3]);
      return 0;
    }
    else
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v15, v16, v17, v18, v19);
      return 2310021130;
    }
  }
  return result;
}

uint64_t hlp_GetParams(uint64_t *a1, _DWORD *a2, _DWORD *a3)
{
  uint64_t CfgParamVal;
  uint64_t v7;
  char *__s1;

  __s1 = 0;
  CfgParamVal = com_mosynt_GetCfgParamVal(a1[8], a1[9], a1[10], (uint64_t)"mosynt_usesubmorphana", "yes", &__s1);
  if ((CfgParamVal & 0x80000000) != 0)
    return CfgParamVal;
  *a2 = strcmp(__s1, "yes") == 0;
  v7 = com_mosynt_GetCfgParamVal(a1[8], a1[9], a1[10], (uint64_t)"mosynt_enablegraphsymcache", "yes", &__s1);
  if ((v7 & 0x80000000) == 0)
    *a3 = strcmp(__s1, "yes") == 0;
  return v7;
}

uint64_t hlp_GetPart(uint64_t a1)
{
  uint64_t v2;
  const char *v3;
  char *v4;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  __c[0] = 0;
  *(_WORD *)&__c[1] = -1;
  v2 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "nrpart_g2p", &__c[3], &__c[1], __c);
  if ((v2 & 0x80000000) == 0 && *(_WORD *)&__c[1])
  {
    v3 = **(const char ***)&__c[3];
    v4 = strchr(**(char ***)&__c[3], __c[0]);
    if (v4)
    {
      *v4 = 0;
      v3 = **(const char ***)&__c[3];
    }
    *(_BYTE *)(a1 + 556) = atoi(v3);
  }
  return v2;
}

uint64_t stringmap_loc_ElemCopyPtr(uint64_t a1, uint64_t a2, _QWORD *a3)
{
  *a3 = a1;
  return 0;
}

uint64_t hlp_common_ObjOpenReopen(uint64_t a1)
{
  uint64_t DTData;
  uint64_t v3;
  uint64_t v4;
  uint64_t *v5;
  char *v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  char *v11;
  uint64_t v12;
  uint64_t v13;
  size_t v14;
  char *v16;
  _BOOL4 v17;
  unsigned int v19;
  char *v20;
  const char **v21;
  char *__s1;
  char __s[4];
  int v24;
  __int16 v25;
  char v26;
  char v27;
  __int16 v28;

  v28 = -1;
  __s1 = 0;
  v20 = 0;
  *(_BYTE *)(a1 + 272) = 0;
  *(_DWORD *)(a1 + 276) = 0;
  DTData = hlp_LoadDTData(a1);
  if ((DTData & 0x80000000) != 0)
    return DTData;
  v27 = 0;
  v21 = 0;
  DTData = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, const char ***, __int16 *, char *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "esctn", &v21, &v28, &v27);
  if ((DTData & 0x80000000) != 0)
    return DTData;
  if (v28)
  {
    v3 = *(_QWORD *)(a1 + 1216);
    v4 = strlen(*v21) + 1;
    v5 = *(uint64_t **)(*(_QWORD *)a1 + 8);
    if (v3)
    {
      v6 = (char *)heap_Realloc(v5, v3, v4);
      if (v6)
      {
LABEL_6:
        *(_QWORD *)(a1 + 1216) = v6;
        strcpy(v6, *v21);
        *(_BYTE *)(strlen(*v21) + *(_QWORD *)(a1 + 1216) - 1) = 124;
        goto LABEL_7;
      }
    }
    else
    {
      v6 = (char *)heap_Alloc((uint64_t)v5, v4);
      if (v6)
        goto LABEL_6;
    }
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v7, v8, v9, v10, v19);
    return 2310021130;
  }
LABEL_7:
  *(_DWORD *)(a1 + 1224) = 1;
  v25 = 0;
  v26 = 0;
  v24 = 7352935;
  v11 = (char *)(a1 + 1327);
  v12 = -223;
  while (1)
  {
    LH_itoa(v12 + 256, __s, 0xAu);
    strlen(__s);
    __memcpy_chk();
    v28 = -1;
    v13 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, int *, const char ***, __int16 *, char *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", &v24, &v21, &v28, &v27);
    if ((v13 & 0x80000000) != 0)
      break;
    if (v28)
    {
      *v11 = 0;
      v14 = strlen(*v21);
      strncat(v11, *v21, v14 - 1);
    }
    else
    {
      *(_DWORD *)(a1 + 1224) = 0;
    }
    if (!__CFADD__(v12++, 1))
    {
      v11 += 3;
      if (*(_DWORD *)(a1 + 1224))
        continue;
    }
    *(_DWORD *)(a1 + 2272) = 0;
    if ((com_mosynt_GetCfgParamVal(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (uint64_t)"feoneword_enable_POIenhancement", "no", &__s1) & 0x80000000) == 0)*(_DWORD *)(a1 + 2272) = strcmp(__s1, "yes") == 0;
    if ((paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"enablePOIenhancement", &v20) & 0x80000000) == 0)
    {
      v16 = v20;
      v17 = !strcmp(v20, "yes") || strcmp(v16, "YES") == 0;
      *(_DWORD *)(a1 + 2272) = v17;
    }
    *(_DWORD *)(a1 + 2276) = 1;
    if ((com_mosynt_GetCfgParamVal(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (uint64_t)"feoneword_MW_replace_spaces_with_underscores", "yes", &__s1) & 0x80000000) == 0)*(_DWORD *)(a1 + 2276) = strcmp(__s1, "yes") == 0;
    return v13;
  }
  return v13;
}

uint64_t fe_oneword_ObjClose(uint64_t *a1, int a2)
{
  uint64_t result;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;

  result = safeh_HandleCheck((uint64_t)a1, a2, 62340, 2288);
  if ((result & 0x80000000) != 0)
    return 2310021128;
  if (a1)
  {
    if (a1[7])
      objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"LINGDB");
    if (a1[10])
      objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"FE_DCTLKP");
    if (a1[13])
      objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"FE_DEPES");
    if (a1[19])
      objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"PHONMAP");
    if (a1[16])
      objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"CLMOBJECT");
    oneword_posparser_Close((uint64_t)a1, v4, v5, v6, v7, v8, v9, v10);
    v11 = a1[272];
    if (v11)
      heap_Free(*(_QWORD **)(*a1 + 8), v11);
    a1[272] = 0;
    v12 = a1[273];
    if (v12)
      heap_Free(*(_QWORD **)(*a1 + 8), v12);
    a1[273] = 0;
    if (*((_DWORD *)a1 + 542) == 1)
    {
      crf_mde_seg_unload(*a1, a1[1], (uint64_t)(a1 + 252));
      *((_DWORD *)a1 + 542) = 0;
    }
    v13 = a1[20];
    if (v13)
      heap_Free(*(_QWORD **)(*a1 + 8), v13);
    a1[20] = 0;
    a1[24] = 0;
    v14 = a1[21];
    if (v14)
      heap_Free(*(_QWORD **)(*a1 + 8), v14);
    a1[21] = 0;
    a1[25] = 0;
    v15 = a1[22];
    if (v15)
      heap_Free(*(_QWORD **)(*a1 + 8), v15);
    a1[22] = 0;
    a1[26] = 0;
    v16 = a1[23];
    if (v16)
      heap_Free(*(_QWORD **)(*a1 + 8), v16);
    a1[23] = 0;
    a1[27] = 0;
    v17 = a1[29];
    if (v17)
      heap_Free(*(_QWORD **)(*a1 + 8), v17);
    a1[29] = 0;
    v18 = a1[30];
    if (v18)
      heap_Free(*(_QWORD **)(*a1 + 8), v18);
    a1[30] = 0;
    v19 = a1[31];
    if (v19)
      heap_Free(*(_QWORD **)(*a1 + 8), v19);
    a1[31] = 0;
    v20 = a1[32];
    if (v20)
      heap_Free(*(_QWORD **)(*a1 + 8), v20);
    a1[32] = 0;
    v21 = a1[33];
    if (v21)
      heap_Free(*(_QWORD **)(*a1 + 8), v21);
    a1[33] = 0;
    v22 = a1[152];
    if (v22)
      heap_Free(*(_QWORD **)(*a1 + 8), v22);
    a1[152] = 0;
    if (a1[71])
    {
      hlp_UnLoadDTData(a1);
      ssftmap_ObjClose(a1[71]);
    }
    if (a1[275])
      kbsymtab_UnloadData((_WORD *)a1[2], a1[3], (_WORD *)a1[4], a1[5], a1 + 275);
    if (a1[279])
      wgram_UnloadData((_WORD *)a1[2], a1[3], (_WORD *)a1[4], a1[5], a1 + 279);
    if (a1[280])
      fst_UnloadData((_WORD *)a1[2], a1[3], a1 + 280);
    v23 = a1[276];
    if (v23)
      kblex_FinishLex((_WORD *)a1[2], a1[3], (_WORD *)a1[4], a1[5], v23);
    v24 = a1[277];
    if (v24)
      kblex_FinishLex((_WORD *)a1[2], a1[3], (_WORD *)a1[4], a1[5], v24);
    v25 = a1[278];
    if (v25)
      kblex_FinishLex((_WORD *)a1[2], a1[3], (_WORD *)a1[4], a1[5], v25);
    v26 = a1[6];
    if (v26)
      heap_Free(*(_QWORD **)(*a1 + 8), v26);
    v27 = a1[282];
    if (v27)
      heap_Free(*(_QWORD **)(*a1 + 8), v27);
    v28 = a1[283];
    if (v28)
      heap_Free(*(_QWORD **)(*a1 + 8), v28);
    v29 = a1[285];
    if (v29)
    {
      heap_Free(*(_QWORD **)(*a1 + 8), v29);
      a1[285] = 0;
    }
    heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)a1);
    return 0;
  }
  return result;
}

uint64_t hlp_UnLoadDTData(uint64_t *a1)
{
  unsigned __int8 v2;
  unint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t result;
  uint64_t v7;
  uint64_t *v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t *v19;
  _QWORD v20[101];

  v20[100] = *MEMORY[0x1E0C80C00];
  v19 = 0;
  bzero(v20, 0x320uLL);
  if ((ssftmap_IteratorOpen(a1[71], 0, 1, (uint64_t)&v19) & 0x80000000) != 0)
    return ssftmap_Clear(a1[71]);
  v17 = 0;
  v18 = 0;
  v2 = 0;
  while ((ssftmap_IteratorNext(v19, &v18, &v17) & 0x80000000) == 0)
  {
    if (v2)
    {
      v3 = 0;
      v4 = v2;
      do
        v5 = v20[v3++];
      while (v3 < v2 && v5 != v17);
      if (v5 == v17)
        continue;
    }
    else
    {
      v4 = 0;
    }
    ++v2;
    v20[v4] = v17;
  }
  ssftmap_IteratorClose((uint64_t)v19);
  result = ssftmap_Clear(a1[71]);
  if (v2)
  {
    v7 = v2;
    v8 = v20;
    do
    {
      v9 = *v8++;
      OOC_PlacementDeleteObject((uint64_t)(a1 + 111), *(_QWORD *)(v9 + 16));
      ssftriff_reader_ReleaseChunkData(*(_QWORD **)v9, v10, v11, v12, v13, v14, v15, v16);
      result = (uint64_t)heap_Free(*(_QWORD **)(*a1 + 8), v9);
      --v7;
    }
    while (v7);
  }
  return result;
}

uint64_t fe_oneword_ObjReopen(uint64_t a1, int a2)
{
  uint64_t result;
  BOOL v4;
  _BOOL4 v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  int *v15;
  int v16;
  int v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int v24;
  int v25;
  int v26;

  v26 = 0;
  v25 = 0;
  result = safeh_HandleCheck(a1, a2, 62340, 2288);
  if ((result & 0x80000000) != 0)
    return 2310021128;
  if (!a1)
    return result;
  result = (*(uint64_t (**)(_QWORD, _QWORD, int *, int *))(*(_QWORD *)(a1 + 80) + 88))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), &v26, &v25);
  if ((result & 0x80000000) != 0)
    return result;
  v4 = v25 == 1 && v26 == 1;
  v5 = v4;
  *(_DWORD *)(a1 + 560) = v5;
  *(_BYTE *)(a1 + 556) = 1;
  result = checkStatCOMP(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (_DWORD *)(a1 + 2000));
  if ((result & 0x80000000) != 0)
    return result;
  result = checkSkipCrosstoken(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (_DWORD *)(a1 + 936));
  if ((result & 0x80000000) != 0)
    return result;
  result = checkFeOneWordCLM(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (_DWORD *)(a1 + 940));
  if ((result & 0x80000000) != 0)
    return result;
  result = checkParaDCT(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (_DWORD *)(a1 + 1996));
  if ((result & 0x80000000) != 0)
    return result;
  result = oneword_posparser_Reopen(a1, v6, v7, v8, v9, v10, v11, v12);
  if ((result & 0x80000000) != 0)
    return result;
  v13 = *(_QWORD *)(a1 + 2176);
  if (v13)
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v13);
  *(_QWORD *)(a1 + 2176) = 0;
  result = hlp_setKeyword(*(_QWORD *)a1, *(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (uint64_t)"feoneword_latinPOStag", (char **)(a1 + 2176));
  if ((result & 0x80000000) != 0)
    return result;
  v14 = *(_QWORD *)(a1 + 2184);
  if (v14)
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v14);
  *(_QWORD *)(a1 + 2184) = 0;
  result = hlp_setKeyword(*(_QWORD *)a1, *(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (uint64_t)"feoneword_latin2enx", (char **)(a1 + 2184));
  if ((result & 0x80000000) != 0)
    return result;
  if (*(_DWORD *)(a1 + 2168) == 1)
    crf_mde_seg_unload(*(_QWORD *)a1, *(_QWORD *)(a1 + 8), a1 + 2016);
  *(_DWORD *)(a1 + 2168) = 0;
  result = crf_mde_seg_load(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), *(_QWORD *)a1, *(_QWORD *)(a1 + 8), *(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), a1 + 2016, (_DWORD *)(a1 + 2168));
  if ((result & 0x80000000) != 0)
    return result;
  v15 = (int *)(a1 + 2192);
  v16 = *(_DWORD *)(a1 + 2192);
  result = com_mosynt_UseMosynt(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), (_BOOL4 *)(a1 + 2192));
  if ((result & 0x80000000) != 0)
    return result;
  v17 = *v15;
  if (v16 != 1)
  {
    if (v17 == 1)
    {
      v24 = 1;
      goto LABEL_57;
    }
    goto LABEL_64;
  }
  if (v17 != 1)
  {
    if (v17)
      goto LABEL_64;
    if (*(_QWORD *)(a1 + 2200))
    {
      result = kbsymtab_UnloadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), (uint64_t *)(a1 + 2200));
      *(_QWORD *)(a1 + 2200) = 0;
      if ((result & 0x80000000) != 0)
        return result;
    }
    if (*(_QWORD *)(a1 + 2232))
    {
      result = wgram_UnloadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), (uint64_t *)(a1 + 2232));
      *(_QWORD *)(a1 + 2232) = 0;
      if ((result & 0x80000000) != 0)
        return result;
    }
    if (*(_QWORD *)(a1 + 2240))
    {
      result = fst_UnloadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), (uint64_t *)(a1 + 2240));
      *(_QWORD *)(a1 + 2240) = 0;
      if ((result & 0x80000000) != 0)
        return result;
    }
    v18 = *(_QWORD *)(a1 + 2208);
    if (v18)
    {
      kblex_FinishLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), v18);
      *(_QWORD *)(a1 + 2208) = 0;
    }
    v19 = *(_QWORD *)(a1 + 2216);
    if (v19)
    {
      kblex_FinishLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), v19);
      *(_QWORD *)(a1 + 2216) = 0;
    }
    v20 = *(_QWORD *)(a1 + 2224);
    if (v20)
    {
      kblex_FinishLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), v20);
      *(_QWORD *)(a1 + 2224) = 0;
    }
    if (*v15 != 1)
    {
LABEL_64:
      strcpy((char *)(a1 + 300), "normal");
      result = oneword_GetMdeSettings(a1);
      if ((result & 0x80000000) == 0)
      {
        result = hlp_GetPart(a1);
        if ((result & 0x80000000) == 0)
        {
          hlp_UnLoadDTData((uint64_t *)a1);
          return hlp_common_ObjOpenReopen(a1);
        }
      }
      return result;
    }
  }
  v24 = 1;
  if (!*(_QWORD *)(a1 + 2200)
    || (result = kbsymtab_UnloadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), (uint64_t *)(a1 + 2200)), *(_QWORD *)(a1 + 2200) = 0, (result & 0x80000000) == 0))
  {
    if (!*(_QWORD *)(a1 + 2232)
      || (result = wgram_UnloadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), (uint64_t *)(a1 + 2232)), *(_QWORD *)(a1 + 2232) = 0, (result & 0x80000000) == 0))
    {
      if (!*(_QWORD *)(a1 + 2240)
        || (result = fst_UnloadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), (uint64_t *)(a1 + 2240)),
            *(_QWORD *)(a1 + 2240) = 0,
            (result & 0x80000000) == 0))
      {
        v21 = *(_QWORD *)(a1 + 2208);
        if (v21)
        {
          kblex_FinishLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), v21);
          *(_QWORD *)(a1 + 2208) = 0;
        }
        v22 = *(_QWORD *)(a1 + 2216);
        if (v22)
        {
          kblex_FinishLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), v22);
          *(_QWORD *)(a1 + 2216) = 0;
        }
        v23 = *(_QWORD *)(a1 + 2224);
        if (v23)
        {
          kblex_FinishLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), v23);
          *(_QWORD *)(a1 + 2224) = 0;
        }
LABEL_57:
        result = hlp_GetParams((uint64_t *)a1, (_DWORD *)(a1 + 2248), &v24);
        if ((result & 0x80000000) != 0)
          return result;
        result = wgram_LoadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), (_QWORD *)(a1 + 2232));
        if ((result & 0x80000000) != 0)
          return result;
        result = kbsymtab_LoadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), (uint64_t *)(a1 + 2200), v24);
        if ((result & 0x80000000) != 0)
          return result;
        result = fst_LoadData(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), (uint64_t *)(a1 + 2240));
        if ((result & 0x80000000) != 0)
          return result;
        result = kblex_InitLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), a1 + 1228, *(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), 0, (_QWORD *)(a1 + 2208));
        if ((result & 0x80000000) != 0)
          return result;
        result = kblex_InitLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), a1 + 1228, *(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), 1u, (_QWORD *)(a1 + 2216));
        if ((result & 0x80000000) != 0)
          return result;
        result = kblex_InitLex(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), a1 + 1228, *(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), 2u, (_QWORD *)(a1 + 2224));
        if ((result & 0x80000000) != 0)
          return result;
        goto LABEL_64;
      }
    }
  }
  return result;
}

uint64_t fe_oneword_ProcessStart(uint64_t a1, int a2)
{
  uint64_t result;

  result = safeh_HandleCheck(a1, a2, 62340, 2288);
  if ((result & 0x80000000) != 0)
    return 2310021128;
  if (*(_DWORD *)(a1 + 2004))
    return oneword_posparser_Start(a1);
  return result;
}

uint64_t fe_oneword_MosyntGetMosyntParamVal(_QWORD *a1, uint64_t a2, char *__src, char *__dst, int a5)
{
  uint64_t TermSubstr;
  int v12;
  int v13;
  unsigned __int8 v14;
  __int16 v15;
  uint64_t *v16;

  v16 = 0;
  v15 = -1;
  v14 = 0;
  v12 = 0;
  strcpy(__dst, __src);
  TermSubstr = (*(uint64_t (**)(_QWORD, _QWORD, const char *, uint64_t, uint64_t **, __int16 *, unsigned __int8 *))(a1[10] + 96))(a1[8], a1[9], "fecfg", a2, &v16, &v15, &v14);
  if ((TermSubstr & 0x80000000) == 0)
  {
    if (v15)
    {
      v13 = 0;
      TermSubstr = mosynt_GetTermSubstr(*v16, &v13, v14, &v12, __dst, a5);
      if ((TermSubstr & 0x80000000) == 0 && !v12)
        strcpy(__dst, __src);
    }
  }
  return TermSubstr;
}

const char *hlp_FindWordSep(const char *a1, unsigned int a2, unsigned int a3)
{
  size_t v6;
  unint64_t v7;
  unint64_t v8;
  const char *result;
  const char *v10;
  int v11;
  int v12;

  v6 = strlen(a1);
  v7 = a3;
  if (v6 < a3)
    v7 = v6;
  if (v7 <= a2)
    return 0;
  v8 = v7 - a2;
  result = &a1[a2];
  v10 = result;
  while (1)
  {
    v12 = *(unsigned __int8 *)v10++;
    v11 = v12;
    if (v12 == 95 || v11 == 32)
      break;
    result = v10;
    if (!--v8)
      return 0;
  }
  return result;
}

uint64_t hlp_ShouldAddAsVariant(const char *a1, char *a2, char *__s2)
{
  uint64_t result;
  char *v6;
  char *v7;
  char *v8;
  int v9;
  size_t v10;
  BOOL v11;

  result = strcmp(a1, __s2);
  if ((_DWORD)result)
  {
    v6 = a2;
    while (1)
    {
      v7 = strstr(v6, __s2);
      if (!v7)
        break;
      v8 = v7;
      if (v7 == a2 || *(v7 - 1) != 18)
      {
        v10 = strlen(__s2);
        if (v6[v10])
          v11 = v6[v10] == 18;
        else
          v11 = 1;
        v9 = !v11;
      }
      else
      {
        v9 = 1;
      }
      v6 = &v8[strlen(__s2)];
      if (!v9)
        return 0;
    }
    return 1;
  }
  return result;
}

uint64_t fe_oneword_SplitMW(_QWORD *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t v7;
  unsigned __int16 v8;
  uint64_t v9;
  uint64_t v10;
  unsigned __int16 v11;
  uint64_t WordDctBeforOrAfter;
  char *PhonWordSep;
  _BYTE *v14;
  __int16 v15;
  __int16 v16;
  const char *WordSep;
  size_t v18;
  uint64_t v19;
  uint64_t v20;
  char *v21;
  unint64_t v22;
  unsigned int v23;
  size_t v24;
  char *v25;
  size_t v26;
  int v27;
  char *v28;
  size_t v29;
  size_t v30;
  _BOOL4 v32;
  char *v33;
  char *v34;
  int v35;
  int v36;
  char *v37;
  char *v38;
  char v39;
  uint64_t v40;
  _BOOL4 v41;
  uint64_t v42;
  char *v43;
  char *v44;
  BOOL v45;
  int v46;
  uint64_t v47;
  BOOL v48;
  _BOOL4 v49;
  const char *v50;
  unsigned __int16 v51;
  int *v52;
  int *v53;
  const char *v54;
  const char *v55;
  char v57;
  char *v58;
  const char *v59;
  _BOOL4 v60;
  int v61;
  char *__s1;
  const char *v63;
  char *__s2;
  unsigned int v65;
  char *v66;
  int v67[2];
  uint64_t v68;
  uint64_t v69;
  char *__s;
  __int16 v71;
  int v72;
  char *v73;
  char *v74;
  const char *v75;
  unsigned __int8 v76;
  __int16 v77;
  int v78;
  int v79;
  const char *v80;
  char *v81;
  char *v82;
  char *v83;
  int v84;
  uint64_t v85;
  unsigned __int16 v86;
  int v87;
  char v88[9];

  v87 = 0;
  v86 = 0;
  v85 = 0;
  v84 = 0;
  v82 = 0;
  v83 = 0;
  v80 = 0;
  v81 = 0;
  v78 = 0;
  v79 = 0;
  v77 = 0;
  v76 = 0;
  v75 = 0;
  v73 = 0;
  v74 = 0;
  v72 = 0;
  v71 = 0;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1[7] + 104))(a2, a3, 1, 0, (char *)&v87 + 2);
  if ((v6 & 0x80000000) != 0)
    return v6;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, const char **, char *))(a1[7] + 176))(a2, a3, HIWORD(v87), 0, &v80, (char *)&v84 + 2);
  if ((v6 & 0x80000000) != 0)
    return v6;
  v7 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1[7] + 104))(a2, a3, 2, HIWORD(v87), &v87);
  if ((v7 & 0x80000000) == 0)
  {
    v8 = v87;
    if ((_WORD)v87)
    {
      v65 = 0;
      v9 = 0;
      v10 = 0;
      v11 = 0;
      while (1)
      {
        WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, char *))(a1[7] + 168))(a2, a3, v8, 0, 1, (char *)&v85 + 4, (char *)&v84 + 2);
        if ((WordDctBeforOrAfter & 0x80000000) != 0)
        {
LABEL_117:
          v7 = WordDctBeforOrAfter;
LABEL_118:
          if (!v10)
            goto LABEL_120;
          goto LABEL_119;
        }
        if (HIDWORD(v85) == 4)
        {
          if (v10)
            *(_BYTE *)v10 = 0;
          if (v9)
            *(_BYTE *)v9 = 0;
          WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v87, 3, &v83, (char *)&v84 + 2);
          if ((WordDctBeforOrAfter & 0x80000000) != 0)
            goto LABEL_117;
          PhonWordSep = oneword_FindPhonWordSep(v83, (char *)&v76);
          if (PhonWordSep)
          {
            v14 = PhonWordSep;
            WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a1[7] + 168))(a2, a3, (unsigned __int16)v87, 1, 1, (char *)&v79 + 2, (char *)&v84 + 2);
            if ((WordDctBeforOrAfter & 0x80000000) != 0)
              goto LABEL_117;
            WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a1[7] + 168))(a2, a3, (unsigned __int16)v87, 2, 1, (char *)&v78 + 2, (char *)&v84 + 2);
            if ((WordDctBeforOrAfter & 0x80000000) != 0)
              goto LABEL_117;
            v15 = (__int16)v80;
            v16 = HIWORD(v78);
            WordSep = hlp_FindWordSep(v80, HIWORD(v79), HIWORD(v78));
            if (WordSep)
              break;
          }
        }
LABEL_112:
        v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1[7] + 120))(a2, a3, (unsigned __int16)v87, &v87);
        if ((v7 & 0x80000000) == 0)
        {
          v8 = v87;
          if ((_WORD)v87)
            continue;
        }
        goto LABEL_118;
      }
      __s = 0;
      LOWORD(v78) = v16;
      HIWORD(v78) = (_WORD)WordSep - v15;
      WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1[7] + 160))(a2, a3, (unsigned __int16)v87, 2, 1, (char *)&v78 + 2, &v84);
      if ((WordDctBeforOrAfter & 0x80000000) != 0)
        goto LABEL_117;
      v77 = HIWORD(v78) + 1;
      v68 = (uint64_t)v14;
      if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a1[7] + 184))(a2, a3, (unsigned __int16)v87, 11, &v71) & 0x80000000) != 0|| v71 != 1|| ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v87, 11, &__s, (char *)&v84 + 2) & 0x80000000) != 0)
      {
LABEL_67:
        *v14 = 0;
        v42 = v76;
        WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v87, 5, &v81, (char *)&v84 + 2);
        if ((WordDctBeforOrAfter & 0x80000000) != 0)
          goto LABEL_117;
        v43 = v81;
        v44 = strchr(v81, 92);
        if (v44)
        {
          *v44 = 0;
          v43 = v44 + 1;
        }
        WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v87, 6, &v82, (char *)&v84 + 2);
        if ((WordDctBeforOrAfter & 0x80000000) != 0)
          goto LABEL_117;
        WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v87, 9, &v74, (char *)&v84 + 2);
        if ((WordDctBeforOrAfter & 0x80000000) != 0)
          goto LABEL_117;
        WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v87, 4, &v73, (char *)&v84 + 2);
        if ((WordDctBeforOrAfter & 0x80000000) != 0)
          goto LABEL_117;
        WordDctBeforOrAfter = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a1[7] + 168))(a2, a3, (unsigned __int16)v87, 7, 1, (char *)&v72 + 2, (char *)&v84 + 2);
        if ((WordDctBeforOrAfter & 0x80000000) != 0)
          goto LABEL_117;
        *(_QWORD *)v67 = v10;
        v45 = (*(int (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a1[7] + 184))(a2, a3, (unsigned __int16)v87, 17, &v71) >= 0&& v71 == 1;
        v46 = v45;
        if (v45)
        {
          v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, (unsigned __int16)v87, 17, 1, &v72, (char *)&v84 + 2);
          if ((v47 & 0x80000000) != 0)
            goto LABEL_122;
        }
        v75 = 0;
        v48 = (*(int (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a1[7] + 184))(a2, a3, (unsigned __int16)v87, 12, &v71) >= 0&& v71 == 1;
        v49 = v48;
        if (v48)
        {
          v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v87, 12, &v75, (char *)&v84 + 2);
          if ((v47 & 0x80000000) != 0)
            goto LABEL_122;
        }
        v50 = (const char *)(v68 + v42);
        v51 = v87;
        v86 = v87;
        if ((_WORD)v87)
        {
          v52 = &v72;
          if (!v46)
            v52 = 0;
          v69 = (uint64_t)v52;
          while (1)
          {
            v11 = v51;
            v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, v51, 1, 1, &v79, (char *)&v84 + 2);
            if ((v47 & 0x80000000) != 0)
              break;
            v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, uint64_t *, char *))(a1[7] + 168))(a2, a3, v86, 0, 1, &v85, (char *)&v84 + 2);
            if ((v47 & 0x80000000) != 0)
              break;
            if (HIWORD(v78) + 1 < (unsigned __int16)v79
              || (unsigned __int16)v79 >= HIWORD(v78) && (_DWORD)v85 == 16)
            {
              v55 = v75;
              if (!v49)
                v55 = 0;
              WordDctBeforOrAfter = hlp_CreateWordDctBeforOrAfter((uint64_t)a1, a2, a3, 1, v86, (uint64_t)&v77, (uint64_t)&v78, v50, (char *)v9, v43, v82, v74, v73, (uint64_t)&v72 + 2, v69, v55);
              goto LABEL_111;
            }
            v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1[7] + 120))(a2, a3, v86, &v86);
            if ((v47 & 0x80000000) != 0)
              break;
            v51 = v86;
            if (!v86)
              goto LABEL_103;
          }
LABEL_122:
          v7 = v47;
          v10 = *(_QWORD *)v67;
          if (!*(_QWORD *)v67)
          {
LABEL_120:
            if (v9)
              heap_Free(*(_QWORD **)(*a1 + 8), v9);
            return v7;
          }
LABEL_119:
          heap_Free(*(_QWORD **)(*a1 + 8), v10);
          goto LABEL_120;
        }
LABEL_103:
        v53 = &v72;
        if (!v46)
          v53 = 0;
        v54 = v75;
        if (!v49)
          v54 = 0;
        WordDctBeforOrAfter = hlp_CreateWordDctBeforOrAfter((uint64_t)a1, a2, a3, 0, v11, (uint64_t)&v77, (uint64_t)&v78, v50, (char *)v9, v43, v82, v74, v73, (uint64_t)&v72 + 2, (uint64_t)v53, v54);
LABEL_111:
        v10 = *(_QWORD *)v67;
        if ((WordDctBeforOrAfter & 0x80000000) != 0)
          goto LABEL_117;
        goto LABEL_112;
      }
      if (v10 | v9)
      {
        v21 = __s;
        v22 = strlen(__s) + 1;
        v23 = v65;
        if (v22 <= v65)
          goto LABEL_26;
        v10 = heap_Realloc(*(uint64_t **)(*a1 + 8), v10, v22);
        v24 = strlen(__s);
        v20 = heap_Realloc(*(uint64_t **)(*a1 + 8), v9, v24 + 1);
      }
      else
      {
        v18 = strlen(__s);
        v10 = heap_Alloc(*(_QWORD *)(*a1 + 8), v18 + 1);
        v19 = strlen(__s) + 1;
        v20 = heap_Alloc(*(_QWORD *)(*a1 + 8), v19);
      }
      v9 = v20;
      v21 = __s;
      v23 = strlen(__s) + 1;
LABEL_26:
      v7 = 2310021130;
      if (!v10 || !v9)
        goto LABEL_118;
      v25 = v83;
      v65 = v23;
      if (v83 && v21 && strlen(v21) + 1 <= v23)
      {
        v88[0] = 0;
        *(_BYTE *)v10 = 0;
        *(_BYTE *)v9 = 0;
        v26 = strlen(v25);
        v27 = oneword_CountPhoneticWords(v25, &v25[v26]);
        v28 = oneword_FindPhonWordSep(v25, v88);
        v66 = (char *)v10;
        v63 = v25;
        if (v28)
        {
          v59 = &v28[v88[0]];
        }
        else
        {
          v59 = 0;
          v28 = &v25[strlen(v25)];
        }
        v57 = *v28;
        v58 = v28;
        *v28 = 0;
        v29 = strlen(v21);
        if (v29)
        {
          v30 = v29;
          v32 = v27 == 2 && v59 != 0;
          v60 = v32;
          v61 = v27;
          __s1 = (char *)v9;
          do
          {
            v33 = strchr(v21, 18);
            if (v33)
              v34 = v33;
            else
              v34 = &v21[v30];
            v35 = oneword_CountPhoneticWords(v21, v34);
            v36 = *v34;
            if (v27 == v35)
            {
              *v34 = 0;
              v37 = oneword_FindPhonWordSep(v21, v88);
              if (v37)
              {
                v38 = v37;
                __s2 = &v37[v88[0]];
              }
              else
              {
                v88[0] = 0;
                __s2 = 0;
                v38 = &v21[strlen(v21)];
              }
              v39 = *v38;
              *v38 = 0;
              if (hlp_ShouldAddAsVariant(v63, v66, v21))
              {
                if (*v66)
                  *(_WORD *)&v66[strlen(v66)] = 18;
                strcat(v66, v21);
              }
              *v38 = v39;
              v40 = v88[0];
              v9 = (uint64_t)__s1;
              if (v38[v88[0]])
              {
                v41 = v60;
                if (!__s2)
                  v41 = 0;
                if (!v41 || hlp_ShouldAddAsVariant(v59, __s1, __s2))
                {
                  if (*__s1)
                  {
                    *(_WORD *)&__s1[strlen(__s1)] = 18;
                    v40 = v88[0];
                  }
                  strcat(__s1, &v38[v40]);
                }
              }
              *v34 = v36;
              v14 = (_BYTE *)v68;
              v27 = v61;
            }
            if (!v36)
              break;
            v21 = v34 + 1;
            v30 = strlen(v34 + 1);
          }
          while (v30);
        }
        *v58 = v57;
        v10 = (uint64_t)v66;
      }
      else
      {
        *(_BYTE *)v10 = 0;
        *(_BYTE *)v9 = 0;
      }
      strcpy(__s, (const char *)v10);
      goto LABEL_67;
    }
  }
  return v7;
}

uint64_t hlp_CreateWordDctBeforOrAfter(uint64_t a1, uint64_t a2, uint64_t a3, int a4, uint64_t a5, uint64_t a6, uint64_t a7, const char *a8, char *__s, char *a10, char *a11, char *a12, char *a13, uint64_t a14, uint64_t a15, const char *a16)
{
  uint64_t v22;
  uint64_t result;
  __int16 v24;
  size_t v25;
  __int16 v26;
  __int16 v27;
  __int16 v28;
  __int16 v29;
  __int16 v30;
  int v31;
  int v32;

  v31 = 0;
  v22 = 88;
  if (!a4)
    v22 = 80;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, int *))(*(_QWORD *)(a1 + 56) + v22))(a2, a3, a5, &v31);
  if ((result & 0x80000000) == 0)
  {
    v32 = 4;
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56)
                                                                                                 + 160))(a2, a3, (unsigned __int16)v31, 0, 1, &v32, (char *)&v31 + 2);
    if ((result & 0x80000000) == 0)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 1, 1, a6, (char *)&v31 + 2);
      if ((result & 0x80000000) == 0)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 2, 1, a7, (char *)&v31 + 2);
        if ((result & 0x80000000) == 0)
        {
          v24 = strlen(a8);
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 3, (unsigned __int16)(v24 + 1), a8, (char *)&v31 + 2);
          if ((result & 0x80000000) == 0)
          {
            if (!__s
              || (v25 = strlen(__s)) == 0
              || (result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 11, (unsigned __int16)(v25 + 1), __s, (char *)&v31 + 2), (result & 0x80000000) == 0))
            {
              v26 = strlen(a10);
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 5, (unsigned __int16)(v26 + 1), a10, (char *)&v31 + 2);
              if ((result & 0x80000000) == 0)
              {
                v27 = strlen(a11);
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 6, (unsigned __int16)(v27 + 1), a11, (char *)&v31 + 2);
                if ((result & 0x80000000) == 0)
                {
                  v28 = strlen(a12);
                  result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 9, (unsigned __int16)(v28 + 1), a12, (char *)&v31 + 2);
                  if ((result & 0x80000000) == 0)
                  {
                    v29 = strlen(a13);
                    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 4, (unsigned __int16)(v29 + 1), a13, (char *)&v31 + 2);
                    if ((result & 0x80000000) == 0)
                    {
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 7, 1, a14, (char *)&v31 + 2);
                      if ((result & 0x80000000) == 0)
                      {
                        if (!a15)
                        {
                          if (!a16)
                            return result;
                          goto LABEL_19;
                        }
                        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 17, 1, a15, (char *)&v31 + 2);
                        if (a16 && (result & 0x80000000) == 0)
                        {
LABEL_19:
                          v30 = strlen(a16);
                          return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v31, 12, (unsigned __int16)(v30 + 1), a16, (char *)&v31 + 2);
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

uint64_t fe_oneword_MosyntCleanup()
{
  uint64_t v0;
  uint64_t v1;
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t result;
  _BOOL4 v7;
  unsigned __int16 v8;
  unsigned int v9;
  BOOL v10;
  int v11;
  __int16 v13;
  char *v14;
  _BOOL4 v15;
  __int16 v16;
  char *v17;
  char *v18;
  __int16 v19;
  __int16 v20;
  uint64_t v21;
  unsigned __int16 v22;
  unsigned __int16 v23;
  int v24;
  uint64_t v25;
  __int16 v26;
  int v27;
  uint64_t v28;
  char *v29;
  char *v30;
  char *__s1;
  char *__s;
  int v33;
  int v34;
  int v35;
  unsigned __int16 v36;
  unsigned __int16 v37;
  char v38[10];
  char v39[200];
  char __dst[200];
  char v41[20];
  char v42[5000];
  char v43[5000];
  char v44[5000];
  char v45[5000];
  uint64_t v46;

  v0 = MEMORY[0x1E0C80A78]();
  v2 = v1;
  v4 = v3;
  v5 = v0;
  v46 = *MEMORY[0x1E0C80C00];
  v37 = 0;
  v36 = 0;
  v34 = 0;
  v35 = 0;
  v33 = 0;
  __s1 = 0;
  __s = 0;
  v29 = 0;
  v30 = 0;
  v28 = 0;
  v27 = 0;
  v26 = 0;
  v25 = 0;
  v24 = 0;
  result = paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)v0 + 40), (uint64_t)"langcode", &v28);
  if ((result & 0x80000000) == 0)
  {
    result = fe_oneword_MosyntGetMosyntParamVal((_QWORD *)v5, (uint64_t)"mosynt_defaultpos_stressed", "XN()", __dst, 200);
    if ((result & 0x80000000) == 0)
    {
      result = fe_oneword_MosyntGetMosyntParamVal((_QWORD *)v5, (uint64_t)"mosynt_defaultpos_unstressed", "XX()", v39, 200);
      if ((result & 0x80000000) == 0)
      {
        result = fe_oneword_MosyntGetMosyntParamVal((_QWORD *)v5, (uint64_t)"mosynt_usepkupos", "no", v38, 10);
        if ((result & 0x80000000) == 0)
        {
          v7 = *(_DWORD *)v38 != 7562617;
          result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(v5 + 56) + 104))(v4, v2, 1, 0, &v37);
          if ((result & 0x80000000) == 0)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, char *))(*(_QWORD *)(v5 + 56) + 176))(v4, v2, v37, 0, &v25, (char *)&v34 + 2);
            if ((result & 0x80000000) == 0)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(v5 + 56) + 104))(v4, v2, 2, v37, &v36);
              if ((result & 0x80000000) == 0)
              {
                v8 = v36;
                if (v36)
                {
                  v22 = 0;
                  v23 = 0;
                  while (1)
                  {
                    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(v5 + 56) + 168))(v4, v2, v8, 0, 1, &v35, (char *)&v34 + 2);
                    if ((result & 0x80000000) != 0)
                      break;
                    v9 = v35;
                    if (v35 == 8)
                    {
                      v35 = 9;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(v5 + 56) + 160))(v4, v2, v36, 0, 1, &v35, &v34);
                      if ((result & 0x80000000) != 0)
                        return result;
                      v9 = v35;
                    }
                    v10 = v9 > 0xA;
                    v11 = (1 << v9) & 0x610;
                    if (v10 || v11 == 0)
                    {
                      v15 = 0;
                    }
                    else
                    {
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(v5 + 56) + 176))(v4, v2, v36, 3, &__s, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = mosynt_SubstAllSubstrOcc(__s, "¡", "~", v45, 5000);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = mosynt_SubstAllSubstrOcc(v45, "[SVOX]", &byte_1DEBD87CE, __s, 5000);
                      if ((result & 0x80000000) != 0)
                        return result;
                      v13 = strlen(__s);
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(v5 + 56) + 160))(v4, v2, v36, 3, (unsigned __int16)(v13 + 1), __s, &v34);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(v5 + 56) + 168))(v4, v2, v36, 1, 1, (char *)&v27 + 2, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(v5 + 56) + 168))(v4, v2, v36, 2, 1, &v27, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(v5 + 56) + 176))(v4, v2, v36, 5, &v30, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(v5 + 56) + 176))(v4, v2, v36, 6, &__s1, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                      if (v35 == 9)
                      {
                        v14 = __s1;
                        if (!strcmp(__s1, "Y"))
                        {
                          v22 = v27;
                          v23 = HIWORD(v27);
                        }
                        else if (strcmp(v14, "X")
                               && (HIWORD(v27) < v23 || (unsigned __int16)v27 < v22))
                        {
                          HIWORD(v27) = v23;
                          LOWORD(v27) = v22;
                        }
                      }
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(v5 + 56) + 176))(v4, v2, v36, 9, &v29, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                      if (!strcmp(v29, "normal"))
                      {
                        __strcpy_chk();
                        v16 = strlen(v41);
                        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(v5 + 56) + 160))(v4, v2, v36, 9, (unsigned __int16)(v16 + 1), v41, &v34);
                        if ((result & 0x80000000) != 0)
                          return result;
                      }
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(v5 + 56) + 160))(v4, v2, v36, 1, 1, (char *)&v27 + 2, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(v5 + 56) + 160))(v4, v2, v36, 2, 1, &v27, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                      v33 = 0;
                      result = mosynt_GetTermSubstr((uint64_t)__s1, &v33, 0x21u, &v24, v42, 5000);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = mosynt_GetTermSubstr((uint64_t)__s1, &v33, 0x21u, &v24, v44, 5000);
                      if ((result & 0x80000000) != 0)
                        return result;
                      v15 = strcmp(__s1, "Y") == 0;
                      v26 = 0;
                      if (!v44[0])
                      {
                        v26 = 1;
                        v17 = v30;
                        if (!strcmp(v30, "*")
                          || (com_mosynt_GetBacktrans2POS(*(_QWORD *)(v5 + 64), *(_QWORD *)(v5 + 72), *(_QWORD *)(v5 + 80), v17, 0x1388u, v44), !v44[0]))
                        {
                          v18 = __s;
                          if (!strchr(__s, 39))
                            strstr(v18, "'2");
                          __strcpy_chk();
                        }
                      }
                      if (!v42[0])
                        strcpy(v42, "*");
                      if (v44[0] - 48 > 9)
                      {
                        __strcpy_chk();
                      }
                      else
                      {
                        result = mosynt_NumPOSListToPOSList(*(_QWORD *)(v5 + 48), *(uint64_t **)(v5 + 2200), v44, (uint64_t)v43, 5000);
                        if ((result & 0x80000000) != 0)
                          return result;
                      }
                      if (v7)
                      {
                        v19 = strlen(v43);
                        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(v5 + 56) + 160))(v4, v2, v36, 5, (unsigned __int16)(v19 + 1), v43, &v34);
                        if ((result & 0x80000000) != 0)
                          return result;
                      }
                      v20 = strlen(v42);
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(v5 + 56) + 160))(v4, v2, v36, 6, (unsigned __int16)(v20 + 1), v42, &v34);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, char *))(*(_QWORD *)(v5 + 56) + 160))(v4, v2, v36, 17, 1, &v26, (char *)&v34 + 2);
                      if ((result & 0x80000000) != 0)
                        return result;
                    }
                    v21 = v36;
                    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(v5 + 56) + 120))(v4, v2, v36, &v36);
                    if ((result & 0x80000000) == 0)
                    {
                      if (!v15
                        || (result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)(v5 + 56) + 192))(v4, v2, v21), (result & 0x80000000) == 0))
                      {
                        v8 = v36;
                        if (v36)
                          continue;
                      }
                    }
                    return result;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

uint64_t fe_oneword_Process(uint64_t a1, int a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v9;
  _BOOL4 v10;
  uint64_t v11;
  _BOOL4 v12;
  _BOOL4 v13;
  int Str;
  _BOOL4 v15;
  int v16;
  unsigned __int8 v17;
  unsigned int v18;
  unsigned int v19;
  uint64_t DTData;
  _BOOL4 v21;
  int v22;
  int v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  int v29;
  int v30;
  int v31;
  uint64_t v32;
  int v33;
  char *v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  unsigned __int16 v40;
  unsigned __int16 v41;
  char *v42;
  uint64_t v43;
  int v44;
  uint64_t v45;
  int *v46;
  int v47;
  char *v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  char *v55;
  char *v56;
  uint64_t v57;
  int v58;
  uint64_t v59;
  int v60;
  int v61;
  uint64_t v62;
  __int16 v63;
  __int16 v64;
  __int16 v65;
  __int16 v66;
  char *v67;
  char *v68;
  char *v69;
  size_t v70;
  uint64_t v71;
  uint64_t v72;
  int v73;
  int v74;
  uint64_t v75;
  int v76;
  uint64_t v77;
  int v78;
  uint64_t v79;
  uint64_t v80;
  uint64_t v81;
  uint64_t v82;
  uint64_t v83;
  const char *v84;
  uint64_t v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  uint64_t v91;
  unsigned __int16 v92;
  int v93;
  int v94;
  unsigned __int16 v95;
  unsigned __int16 v96;
  uint64_t v97;
  int v98;
  unsigned int v99;
  uint64_t v100;
  uint64_t v101;
  _BOOL4 v103;
  int v104;
  _WORD *v105;
  __int16 v106;
  _DWORD *v107;
  unint64_t v108;
  uint64_t v109;
  int v110;
  __int16 v113;
  char *v114;
  __int16 v115;
  unsigned __int16 v116;
  uint64_t v117;
  uint64_t v118;
  uint64_t v119;
  unsigned __int16 v120;
  int v121;
  char *v122;
  char *v123;
  char *v124;
  unsigned __int16 v125;
  int v126;
  const char *v127;
  __int16 v128;
  int v129;
  char v130;
  char *v131;
  uint64_t v132;
  char **v133;
  unsigned int v134;
  size_t v135;
  uint64_t v136;
  size_t v137;
  uint64_t v138;
  size_t v139;
  uint64_t v140;
  char *v141;
  char *v142;
  char *v143;
  unsigned __int16 i;
  unsigned int v145;
  BOOL v146;
  __int16 v147;
  __int16 v148;
  char *v149;
  __int16 v150;
  char *v151;
  unsigned __int16 v152;
  unsigned __int16 v153;
  __int16 v154;
  __int16 v155;
  __int16 v156;
  __int16 v157;
  uint64_t v158;
  char **v159;
  unsigned int v160;
  uint64_t v161;
  uint64_t v162;
  int v163;
  char *v164;
  uint64_t v165;
  __int16 v166;
  unsigned __int16 v167;
  uint64_t v168;
  uint64_t v169;
  uint64_t v170;
  int v171;
  uint64_t v172;
  const char *v173;
  size_t v174;
  unsigned __int16 v175;
  uint64_t v176;
  uint64_t v177;
  uint64_t v178;
  uint64_t v179;
  uint64_t v180;
  uint64_t v181;
  unsigned __int16 v182;
  uint64_t v183;
  uint64_t v184;
  uint64_t v185;
  uint64_t v186;
  unsigned __int16 v187;
  char *v188;
  const char *v189;
  size_t v190;
  size_t v191;
  size_t v192;
  __int16 v193;
  uint64_t v194;
  char *v195;
  uint64_t v196;
  __int16 v197;
  unsigned __int16 v198;
  unsigned __int16 v199;
  unsigned __int16 v200;
  int v201;
  _BYTE *v203;
  __int16 v205;
  size_t v207;
  __int16 v208;
  const char *v209;
  _BOOL4 v210;
  int v211;
  uint64_t v212;
  const char *v213;
  unsigned int v214;
  uint64_t v215;
  char *v216;
  uint64_t v217;
  uint64_t v218;
  uint64_t v219;
  uint64_t v220;
  uint64_t v221;
  uint64_t v222;
  uint64_t v223;
  uint64_t v224;
  uint64_t v225;
  uint64_t v226;
  uint64_t v227;
  __int16 v228;
  int v229;
  char *v230;
  char *v231;
  char *v232;
  uint64_t v233;
  uint64_t v234;
  uint64_t v235;
  char *v236;
  char *v237;
  size_t v238;
  uint64_t v239;
  uint64_t v240;
  uint64_t v241;
  __int16 v242;
  unsigned int v243;
  char *v244;
  char *v245;
  char *v246;
  char *v247;
  char *v248;
  int v249;
  int v250;
  char *v251;
  unsigned __int16 v252;
  int v253;
  const char **v254;
  int v255;
  size_t *v256;
  unsigned __int16 v257;
  unint64_t v258;
  unsigned int v259;
  int __dst;
  int __dsta;
  unint64_t __dstb;
  uint64_t v263;
  char *__s2;
  char __s2a;
  const char *__s2b;
  const char *__s2c;
  uint64_t v268;
  uint64_t v269;
  uint64_t *v270;
  uint64_t v271;
  char *v272;
  char *v273;
  char *v274;
  char *v275;
  _BYTE __c[11];
  int v277;
  __int16 v278;
  char *v279;
  __int16 v280;
  uint64_t v281;
  int v282;
  int v283;
  uint64_t v284;
  char *__src;
  char *v286;
  int v287;
  int v288;
  int v289;
  unsigned __int16 v290;
  unsigned __int16 v291;
  int v292;
  char *v293;
  char *__s;
  const char *v295[16];
  char *v296[16];
  char *__s1[2];
  __int128 v298;
  __int128 v299;
  __int128 v300;
  __int128 v301;
  __int128 v302;
  __int128 v303;
  __int128 v304;
  __int128 v305;
  __int128 v306;
  __int128 v307;
  __int128 v308;
  __int128 v309;
  __int128 v310;
  __int128 v311;
  __int128 v312;
  uint64_t v313;

  v313 = *MEMORY[0x1E0C80C00];
  v293 = 0;
  __s = 0;
  v9 = 2310021130;
  v291 = 0;
  v288 = 0;
  __src = 0;
  v286 = 0;
  v283 = 0;
  v280 = 0;
  v278 = 0;
  v277 = 1601400688;
  *(_WORD *)&__c[1] = -1;
  v274 = 0;
  v275 = 0;
  if ((safeh_HandleCheck(a1, a2, 62340, 2288) & 0x80000000) != 0)
    return 2310021128;
  v292 = 0;
  v290 = 0;
  v289 = 0;
  v287 = 0;
  v284 = 0;
  v282 = 0;
  v281 = 0;
  v279 = 0;
  *(_QWORD *)&__c[3] = 0;
  __c[0] = 0;
  v273 = 0;
  *a5 = 1;
  v10 = (paramc_ParamGet(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"clmvariants", &v273, 0) & 0x80000000) == 0
     && LH_stricmp(v273, "no") != 0;
  *(_DWORD *)(a1 + 844) = v10;
  v12 = (paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"clcmlextramaintrans", &v273) & 0x80000000) == 0
     && LH_stricmp(v273, "no")
     && *(_DWORD *)(a1 + 852) != 0;
  *(_DWORD *)(a1 + 848) = v12;
  __s1[0] = 0;
  LODWORD(v296[0]) = 0;
  if (((*(uint64_t (**)(_QWORD, _QWORD, char **))(*(_QWORD *)(a1 + 128) + 96))(*(_QWORD *)(a1 + 112), *(_QWORD *)(a1 + 120), v296) & 0x80000000) != 0|| (v13 = 0, !LODWORD(v296[0])))
  {
    Str = paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"clm", __s1);
    v15 = 1;
    if ((Str & 0x80000000) == 0 && __s1[0])
      v15 = strcmp(__s1[0], "yes") == 0;
    v13 = v15 && *(_DWORD *)(a1 + 1204) == 1 || *(_DWORD *)(a1 + 940) == 1;
  }
  if ((paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"clcpppipelinemode", &v273) & 0x80000000) == 0
    && v273
    && *v273)
  {
    fe_oneword_ResetCarryOverSentenceParams(a1);
  }
  v16 = *(unsigned __int8 *)(a1 + 1201);
  *(_BYTE *)(a1 + 1201) = 1;
  if ((paramc_ParamGet(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"numberoutputtranscriptions", &v273, 0) & 0x80000000) == 0
    && v273)
  {
    v17 = atoi(v273);
    if (v16 == v17)
    {
      v18 = v17;
      *(_BYTE *)(a1 + 1201) = v16;
      v19 = *(unsigned __int8 *)(a1 + 1200);
    }
    else
    {
      *(_BYTE *)(a1 + 1201) = v17;
      hlp_UnLoadDTData((uint64_t *)a1);
      DTData = hlp_LoadDTData(a1);
      if ((DTData & 0x80000000) != 0)
        return DTData;
      v18 = *(unsigned __int8 *)(a1 + 1200);
      v19 = *(unsigned __int8 *)(a1 + 1201);
    }
    if (v18 >= v19)
      LOBYTE(v18) = v19;
    *(_BYTE *)(a1 + 1200) = v18;
  }
  v21 = (paramc_ParamGet(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"norichtranscription", &v273, 0) & 0x80000000) == 0
     && LH_stricmp(v273, "false") != 0;
  *(_DWORD *)(a1 + 840) = v21;
  v22 = paramc_ParamGet(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"fecfg", &v273, 0);
  if (*(_DWORD *)(a1 + 840)
    && (v22 & 0x80000000) == 0
    && LH_stricmp(v273, "mpthree")
    && LH_stricmp(v273, "mpthreeml")
    && LH_stricmp(v273, "vadvde"))
  {
    *(_DWORD *)(a1 + 840) = 0;
  }
  if (ssftmap_GetSize(*(_QWORD *)(a1 + 568)))
  {
    __s1[0] = 0;
    v296[0] = 0;
    v295[0] = 0;
    v271 = 0;
    v272 = 0;
    v270 = 0;
    if ((paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"decisiontreescorepruning", __s1) & 0x80000000) != 0)
      __s1[0] = 0;
    if ((paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"decisiontreehistogrampruning", v296) & 0x80000000) != 0)
      v296[0] = 0;
    if ((paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"decisiontreevariantpruning", v295) & 0x80000000) != 0)
      v295[0] = 0;
    if ((paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"numberoutputtranscriptions", &v272) & 0x80000000) != 0)
      v272 = 0;
    if ((ssftmap_IteratorOpen(*(_QWORD *)(a1 + 568), 0, 1, (uint64_t)&v270) & 0x80000000) == 0)
    {
      v268 = 0;
      v269 = 0;
      while ((ssftmap_IteratorNext(v270, &v269, &v268) & 0x80000000) == 0)
      {
        if (!__s1[0]
          || (LODWORD(v271) = 1,
              HIDWORD(v271) = atoi(__s1[0]),
              v23 = LexDT_SetParamList(*(_QWORD *)(v268 + 16), (uint64_t)&v271, 1u),
              v24 = LH_ERROR_to_VERROR(v23),
              (v24 & 0x80000000) == 0))
        {
          if (!v296[0]
            || (LODWORD(v271) = 2,
                HIDWORD(v271) = atoi(v296[0]),
                v29 = LexDT_SetParamList(*(_QWORD *)(v268 + 16), (uint64_t)&v271, 1u),
                v24 = LH_ERROR_to_VERROR(v29),
                (v24 & 0x80000000) == 0))
          {
            if (!v295[0]
              || (LODWORD(v271) = 5,
                  HIDWORD(v271) = atoi(v295[0]),
                  v30 = LexDT_SetParamList(*(_QWORD *)(v268 + 16), (uint64_t)&v271, 1u),
                  v24 = LH_ERROR_to_VERROR(v30),
                  (v24 & 0x80000000) == 0))
            {
              if (!v272)
                continue;
              LODWORD(v271) = 0;
              HIDWORD(v271) = atoi(v272);
              v31 = LexDT_SetParamList(*(_QWORD *)(v268 + 16), (uint64_t)&v271, 1u);
              v24 = LH_ERROR_to_VERROR(v31);
              if ((v24 & 0x80000000) == 0)
                continue;
            }
          }
        }
        v11 = v24;
        log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34004, 0, v25, v26, v27, v28, v243);
        return v11;
      }
      ssftmap_IteratorClose((uint64_t)v270);
    }
  }
  if (*(_DWORD *)(a1 + 2004))
  {
    DTData = oneword_posparser_Process((_QWORD *)a1, a3, a4);
    if ((DTData & 0x80000000) != 0)
      return DTData;
  }
  v32 = a1 + 56;
  v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 104))(a3, a4, 1, 0, (char *)&v292 + 2);
  if ((v11 & 0x80000000) != 0)
    return v11;
  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, HIWORD(v292), 0, &v280) & 0x80000000) != 0)return v11;
  if (v280 != 1)
    return v11;
  v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, HIWORD(v292), 0, &__s, &v290);
  if ((v11 & 0x80000000) != 0 || v290 < 2u)
    return v11;
  v33 = strlen(__s);
  v34 = (char *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), (v33 + 1));
  v293 = v34;
  if (!v34)
  {
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v35, v36, v37, v38, v243);
    return 2310021130;
  }
  strcpy(v34, __s);
  v311 = 0u;
  v312 = 0u;
  v309 = 0u;
  v310 = 0u;
  v307 = 0u;
  v308 = 0u;
  v305 = 0u;
  v306 = 0u;
  v303 = 0u;
  v304 = 0u;
  v301 = 0u;
  v302 = 0u;
  v299 = 0u;
  v300 = 0u;
  *(_OWORD *)__s1 = 0u;
  v298 = 0u;
  HIWORD(v288) = 128;
  v39 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(*(_QWORD *)v32 + 176))(a3, a4, HIWORD(v292), 1, &v284, (char *)&v283 + 2);
  if ((v39 & 0x80000000) != 0)
    goto LABEL_95;
  HIWORD(v288) = 0;
  v40 = HIWORD(v283);
  if (HIWORD(v283))
  {
    v41 = 0;
    do
    {
      if (*(_DWORD *)(v284 + 32 * v41) == 34)
      {
        v42 = strchr(*(char **)(v284 + 32 * v41 + 24), 20);
        if (v42)
        {
          *v42 = 0;
          v41 = HIWORD(v288);
          v40 = HIWORD(v283);
        }
      }
      HIWORD(v288) = ++v41;
    }
    while (v41 < v40);
    v43 = v284;
    v44 = *(_DWORD *)(v284 + 12);
    *(_WORD *)(a1 + 224) = 0;
    __s2 = (char *)(a1 + 224);
    v45 = (unsigned __int16)v283;
    if ((unsigned __int16)v283 < v40)
    {
      v46 = (int *)(v43 + 32 * (unsigned __int16)v283 + 12);
      do
      {
        v47 = *v46;
        v46 += 8;
        if (v47 != v44)
          break;
        LOWORD(v283) = ++v45;
      }
      while (v40 != v45);
    }
  }
  else
  {
    v44 = *(_DWORD *)(v284 + 12);
    *(_WORD *)(a1 + 224) = 0;
    __s2 = (char *)(a1 + 224);
  }
  v39 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t *, _QWORD))(*(_QWORD *)(a1 + 104) + 112))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), &v281, 0);
  if ((v39 & 0x80000000) != 0
    || (*(_DWORD *)(a1 + 932) = 0,
        v39 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 104))(a3, a4, 3, HIWORD(v292), &v292), (v39 & 0x80000000) != 0)|| (*(_WORD *)&__c[1] = -1, v39 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "normal", &__c[3], &__c[1], __c), (v39 & 0x80000000) != 0))
  {
LABEL_95:
    v55 = 0;
    v56 = 0;
    v9 = v39;
    goto LABEL_96;
  }
  strcpy((char *)v296, "normal");
  if (*(_WORD *)&__c[1])
  {
    v48 = strchr(**(char ***)&__c[3], __c[0]);
    if (v48)
      *v48 = 0;
    __strcpy_chk();
  }
  if (*(_DWORD *)(a1 + 560) == 1)
  {
    v49 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, 352);
    if (!v49)
    {
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v50, v51, v52, v53, v243);
      v55 = 0;
      v56 = 0;
      goto LABEL_96;
    }
    v255 = v44;
    v54 = v284;
    *(_DWORD *)(v49 + 12) = *(_DWORD *)(v284 + 12);
    *(_DWORD *)v49 = 0x4000;
    *(_DWORD *)(v49 + 44) = *(_DWORD *)(v54 + 12);
    *(_DWORD *)(v49 + 32) = 36;
    *(_QWORD *)(v49 + 56) = "normal";
    __dst = 10;
    v263 = v49;
    v257 = 2;
  }
  else
  {
    v255 = v44;
    __dst = 0;
    v263 = 0;
    v257 = 0;
  }
  v57 = 78;
  v58 = 1;
  while ((_WORD)v292)
  {
    v59 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v60 = v282;
    if ((v282 - 5) <= 2)
    {
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 1, 1, &v288, &v290);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, &v290);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 4, &v286, &v290);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      if (!strcmp(v286, "phon"))
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 3, &__src, &v290);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
      }
      v61 = v282;
      if (v282 == 5)
      {
        v280 = 0;
        v275 = 0;
        if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, (unsigned __int16)v292, 6, &v280) & 0x80000000) == 0&& v280 == 1)
        {
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 6, &v275, &v290);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
        }
        v61 = v282;
      }
      if (v61 == 6)
      {
        v280 = 0;
        v274 = 0;
        if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, (unsigned __int16)v292, 7, &v280) & 0x80000000) == 0&& v280 == 1)
        {
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 7, &v274, &v290);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
        }
      }
      v62 = *(_QWORD *)v32;
      if (v58)
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(v62 + 72))(a3, a4, 2, HIWORD(v292), &v291);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
      }
      else
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(v62 + 80))(a3, a4, v291, &v291);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
      }
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 0, 1, &v282, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 1, 1, &v288, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 2, 1, &v287, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v63 = strlen(v286);
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 4, (unsigned __int16)(v63 + 1), v286, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      if (!strcmp(v286, "phon"))
      {
        if (__src)
        {
          v64 = strlen(__src);
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 3, (unsigned __int16)(v64 + 1), __src, (char *)&v289 + 2);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
        }
      }
      v60 = v282;
      if (v282 == 5 && v275)
      {
        v65 = strlen(v275);
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 9, (unsigned __int16)(v65 + 1), v275, (char *)&v289 + 2);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        v60 = v282;
      }
      v58 = 0;
      if (v60 == 6 && v274)
      {
        v66 = strlen(v274);
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 19, (unsigned __int16)(v66 + 1), v274, (char *)&v289 + 2);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        v58 = 0;
        v60 = v282;
      }
    }
    if (*(_DWORD *)(a1 + 560) != 1)
      goto LABEL_162;
    if (v60 != 5)
      goto LABEL_162;
    v67 = v286;
    if (!v286)
      goto LABEL_162;
    if (!strcmp(v286, "phon") || !strcmp(v67, "prompt") || !strcmp(v67, "internal-nuance-system-norm"))
    {
LABEL_159:
      v72 = 78;
LABEL_160:
      v73 = __dst;
      goto LABEL_161;
    }
    v68 = *(char **)(a1 + 1216);
    if (!v68)
    {
      v56 = 0;
      v55 = 0;
      v9 = 2310021126;
      goto LABEL_273;
    }
    v69 = strstr(v68, v67);
    if (!strcmp(v67, "latin"))
      goto LABEL_176;
    if (!strcmp(v67, (const char *)v296))
      goto LABEL_159;
    if (!v69 || (v70 = strlen(v67), v69[v70] != 124))
    {
LABEL_176:
      v72 = 76;
      goto LABEL_160;
    }
    v71 = (unsigned __int16)v70;
    if (!(_WORD)v70)
      goto LABEL_159;
    LODWORD(v72) = 78;
    v73 = __dst;
    do
    {
      v74 = *v67++;
      if (v74 == 95)
        v72 = 76;
      else
        v72 = v72;
      --v71;
    }
    while (v71);
LABEL_161:
    if (v57 != v72)
    {
      v76 = (unsigned __int16)v288;
      if ((_WORD)v288)
      {
        if (v257 >= (unsigned __int16)v73)
        {
          v78 = v73;
          v77 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), v263, 32 * (unsigned __int16)v73 + 352);
          if (!v77)
          {
LABEL_492:
            v196 = *(_QWORD *)a1;
LABEL_493:
            log_OutPublic(*(_QWORD *)(v196 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v79, v80, v81, v82, v243);
            goto LABEL_494;
          }
          __dst = v78 + 10;
          v76 = (unsigned __int16)v288;
        }
        else
        {
          v77 = v263;
        }
        v263 = v77;
        v83 = v77 + 32 * v257;
        *(_DWORD *)v83 = 36;
        *(_DWORD *)(v83 + 12) = *(_DWORD *)(v284 + 12) + v76;
        v84 = "normal";
        if (v72 == 76)
          v84 = "latin";
        *(_QWORD *)(v83 + 24) = v84;
        ++v257;
      }
      else if (v72 == 76)
      {
        *(_QWORD *)(v263 + 56) = "latin";
        v72 = 76;
      }
      else
      {
        *(_QWORD *)(v263 + 56) = "normal";
      }
      goto LABEL_163;
    }
LABEL_162:
    v72 = v57;
LABEL_163:
    v75 = (unsigned __int16)v292;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)v292, &v292);
    if ((v59 & 0x80000000) == 0)
    {
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)v32 + 192))(a3, a4, v75);
      v57 = v72;
      if ((v59 & 0x80000000) == 0)
        continue;
    }
    goto LABEL_271;
  }
  if (*(_DWORD *)(a1 + 560) == 1)
  {
    v85 = *(_QWORD *)(a1 + 64);
    v86 = *(_QWORD *)(a1 + 72);
    v87 = v257;
    v88 = a3;
    v89 = a4;
    v90 = v263;
  }
  else
  {
    v90 = v284;
    v87 = HIWORD(v283);
    v85 = *(_QWORD *)(a1 + 64);
    v86 = *(_QWORD *)(a1 + 72);
    v88 = a3;
    v89 = a4;
  }
  v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(_QWORD *)(a1 + 80) + 56))(v85, v86, v88, v89, v90, v87);
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 104))(a3, a4, 3, HIWORD(v292), &v292);
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)v32 + 104))(a3, a4, 2, HIWORD(v292), &v291);
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, v291, 1, 1, (char *)&v287 + 2, &v290);
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  if (HIWORD(v287))
  {
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)v32 + 88))(a3, a4, v291, &v291);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 0, 1, &v282, &v290);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 1, 1, &v288, &v290);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, &v290);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 0, 1, &v282, (char *)&v289 + 2);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 1, 1, &v288, (char *)&v289 + 2);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 2, 1, &v287, (char *)&v289 + 2);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)v292, &v292);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
  }
  LOWORD(v288) = 0;
  while (1)
  {
    v91 = *(_QWORD *)v32;
    if (!(_WORD)v292)
      break;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t))(v91 + 168))(a3, a4);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 1, 1, &v288, &v290);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v92 = v291;
    v93 = (unsigned __int16)v288;
    v94 = HIWORD(v287);
    if ((unsigned __int16)v288 > HIWORD(v287) && v291)
    {
      while (1)
      {
        v95 = v92;
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)v32 + 120))(a3, a4, v92, &v291);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        if (!v291)
        {
          v96 = strlen(__s);
          v94 = v96;
          HIWORD(v287) = v96;
          v93 = (unsigned __int16)v288;
          goto LABEL_209;
        }
        v59 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        v94 = HIWORD(v287);
        v93 = (unsigned __int16)v288;
        if ((unsigned __int16)v288 > HIWORD(v287))
        {
          v92 = v291;
          if (v291)
            continue;
        }
        goto LABEL_209;
      }
    }
    v95 = v291;
LABEL_209:
    if (v93 != v94)
      v291 = v95;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, &v290);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, v291, 0, 1, (char *)&v281 + 4, &v290);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    if (HIDWORD(v281) == 5 && (unsigned __int16)v288 == HIWORD(v287))
    {
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)v32 + 88))(a3, a4, v291, &v291);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 0, 1, &v282, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 1, 1, &v288, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 2, 1, &v287, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)v32 + 120))(a3, a4, v291, &v291);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
    }
    else
    {
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)v32 + 80))(a3, a4, v291, &v291);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 0, 1, &v282, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 1, 1, &v288, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, v291, 2, 1, &v287, (char *)&v289 + 2);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
    }
    v97 = (unsigned __int16)v292;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)v292, &v292);
    if ((v59 & 0x80000000) == 0)
    {
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)v32 + 192))(a3, a4, v97);
      if ((v59 & 0x80000000) == 0)
        continue;
    }
    goto LABEL_271;
  }
  v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(v91 + 104))(a3, a4, 2, HIWORD(v292), &v292);
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  v98 = (unsigned __int16)v292;
  *(_WORD *)(a1 + 280) = v292;
  LOWORD(v289) = v98;
  if (v98)
  {
    LOWORD(v99) = 0;
    while (1)
    {
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v98, 0, 1, (char *)&v281 + 4, &v290);
      if ((v59 & 0x80000000) != 0)
        break;
      v100 = *(_QWORD *)v32;
      v101 = (unsigned __int16)v289;
      if (HIDWORD(v281) != 5)
        goto LABEL_252;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(v100 + 168))(a3, a4, (unsigned __int16)v289, 1, 1, &v288, &v290);
      if ((v59 & 0x80000000) != 0)
        break;
      v99 = (unsigned __int16)v288 <= (unsigned __int16)v99
          ? (unsigned __int16)v99
          : (unsigned __int16)v288;
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v289, 2, 1, &v287, &v290);
      if ((v59 & 0x80000000) != 0)
        break;
      v100 = *(_QWORD *)v32;
      v101 = (unsigned __int16)v289;
      if (v99 < (unsigned __int16)v287)
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(v100 + 176))(a3, a4, (unsigned __int16)v289, 4, &v286, &v290);
        if ((v59 & 0x80000000) != 0)
          break;
        if (!strcmp(v286, "phon"))
        {
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v289, 3, &__src, &v290);
          if ((v59 & 0x80000000) != 0)
            break;
          v59 = oneword_ConvertPhon(a1, (uint64_t)__s, (uint64_t)__src, (unsigned __int16)v288, (unsigned __int16)v287, a3, a4, (uint64_t)&v292, v284, &v283, (unsigned __int16 *)&v283 + 1, v255);
          if ((v59 & 0x80000000) != 0)
            break;
        }
        else
        {
          v280 = 0;
          v103 = (*(int (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)(a1 + 56) + 184))(a3, a4, (unsigned __int16)v289, 9, &v280) >= 0&& v280 == 1;
          v59 = oneword_G2PLookup(a1, (const char **)&v293, v99, &v287, v286, a3, a4, (unsigned __int16 *)&v292, v284, &v283, (unsigned __int16 *)&v283 + 1, v255, v103);
          if ((unsigned __int16)v287 > v99)
            LOWORD(v99) = v287;
          if ((v59 & 0x80000000) != 0)
            break;
        }
        LOWORD(v289) = v292;
      }
      else
      {
LABEL_252:
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, int *))(v100 + 120))(a3, a4, v101, &v289);
        if ((v59 & 0x80000000) != 0)
          break;
      }
      if ((_WORD)v292)
      {
        LOWORD(v98) = v289;
        if ((_WORD)v289)
          continue;
      }
      goto LABEL_259;
    }
LABEL_271:
    v56 = 0;
    v55 = 0;
LABEL_272:
    v9 = v59;
    goto LABEL_273;
  }
LABEL_259:
  v104 = *(__int16 *)__s2;
  if (*(_WORD *)__s2)
  {
    v105 = (_WORD *)(a1 + 280);
    v106 = HIWORD(v283);
    if ((unsigned __int16)v283 < HIWORD(v283))
    {
      v107 = (_DWORD *)(v284 + 32 * (unsigned __int16)v283 + 12);
      v108 = HIWORD(v283) - (unint64_t)(unsigned __int16)v283;
      do
      {
        *v107 += v104;
        v107 += 8;
        --v108;
      }
      while (v108);
      LOWORD(v283) = v106;
    }
    LOWORD(v295[0]) = 0;
    LOWORD(v272) = 0;
    if (!*v105)
    {
      v110 = 0;
      goto LABEL_276;
    }
LABEL_265:
    v109 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
    if ((v109 & 0x80000000) != 0)
      goto LABEL_268;
    while (1)
    {
      v110 = LOWORD(v295[0]);
LABEL_276:
      if (v110 > (__int16)strlen(__s) || !*v105)
        break;
      v109 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
      if ((v109 & 0x80000000) != 0)
        goto LABEL_268;
      if ((HIDWORD(v281) & 0xFFFFFFFC) == 4 || (HIDWORD(v281) - 9) <= 1)
      {
        v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)*v105, 2, 1, &v272, &v290);
        if ((v109 & 0x80000000) != 0)
          goto LABEL_268;
        v113 = *(_WORD *)__s2;
        LOWORD(v295[0]) += *(_WORD *)__s2;
        LOWORD(v272) = (_WORD)v272 + v113;
        v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char **, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)*v105, 1, 1, v295, (char *)&v289 + 2);
        if ((v109 & 0x80000000) != 0)
          goto LABEL_268;
        v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)*v105, 2, 1, &v272, (char *)&v289 + 2);
        if ((v109 & 0x80000000) != 0)
          goto LABEL_268;
      }
      v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)*v105, a1 + 280);
      if ((v109 & 0x80000000) != 0)
        goto LABEL_268;
      if (*v105)
      {
        v109 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
        if ((v109 & 0x80000000) != 0)
          goto LABEL_268;
        if (LOWORD(v295[0]) > (__int16)strlen(__s))
        {
          while (*v105)
          {
            v109 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            if (HIDWORD(v281) != 17)
              break;
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)*v105, a1 + 280);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
          }
          goto LABEL_265;
        }
      }
    }
    LOWORD(v104) = *(_WORD *)__s2;
  }
  LODWORD(v281) = v281 + (__int16)v104;
  v59 = (*(uint64_t (**)(_QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 104))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96));
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  v114 = v293;
  *(_DWORD *)(v284 + 16) = strlen(v293);
  v115 = strlen(v114);
  v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, HIWORD(v292), 0, (unsigned __int16)(v115 + 1), v114, (char *)&v289 + 2);
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 104))(a3, a4, 2, HIWORD(v292), &v292);
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  v116 = v292;
  if ((_WORD)v292)
  {
    v117 = 0;
    do
    {
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, v116, 0, 1, (char *)&v281 + 4, &v290);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      if (HIDWORD(v281) > 3)
      {
        v118 = (unsigned __int16)v292;
      }
      else
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)v32 + 192))(a3, a4, (unsigned __int16)v292);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        LOWORD(v292) = v117;
        v118 = v117;
      }
      v119 = *(_QWORD *)v32;
      if ((_WORD)v118)
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(v119 + 120))(a3, a4, (unsigned __int16)v118, &v292);
        v117 = v118;
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
      }
      else
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(v119 + 104))(a3, a4, 2, HIWORD(v292), &v292);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
      }
      v116 = v292;
    }
    while ((_WORD)v292);
  }
  LOWORD(v283) = 0;
  v120 = strlen(v293);
  v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 104))(a3, a4, 2, HIWORD(v292), &v292);
  if ((v59 & 0x80000000) != 0)
    goto LABEL_271;
  v258 = 0;
  v249 = 0;
  v253 = 0;
  __s2a = 0;
  __dsta = v120;
  while (2)
  {
    if (!(_WORD)v292)
    {
      if (v253 && v249 && (_BYTE)v258)
      {
        v158 = v258;
        v159 = __s1;
        do
        {
          v160 = *(unsigned __int16 *)v159;
          v159 = (char **)((char *)v159 + 2);
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)v32 + 192))(a3, a4, v160);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
        }
        while (--v158);
      }
      if (*(_BYTE *)(a1 + 1200))
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 104))(a3, a4, 2, HIWORD(v292), &v292);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        v254 = (const char **)(a1 + 168);
        v256 = (size_t *)(a1 + 200);
        while ((_WORD)v292)
        {
          v59 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
          if (HIDWORD(v281) == 9)
          {
            v280 = 0;
            if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, (unsigned __int16)v292, 11, &v280) & 0x80000000) != 0)
            {
              v280 = 0;
            }
            else if (v280)
            {
              goto LABEL_490;
            }
            v271 = 0;
            v272 = 0;
            LOWORD(v268) = 0;
            v270 = 0;
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 1, 1, &v288, &v290);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, &v290);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            v161 = (unsigned __int16)v287;
            v162 = (unsigned __int16)v288;
            v163 = (unsigned __int16)v287 - (unsigned __int16)v288;
            v164 = *(char **)(a1 + 160);
            if (v163 >= *(unsigned __int16 *)(a1 + 192))
            {
              v165 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 160), (v163 + 1));
              if (!v165)
                goto LABEL_492;
              v164 = (char *)v165;
              *(_QWORD *)(a1 + 160) = v165;
              v161 = (unsigned __int16)v287;
              v162 = (unsigned __int16)v288;
              *(_QWORD *)(a1 + 192) = (unsigned __int16)v287 - (unint64_t)(unsigned __int16)v288 + 1;
            }
            strncpy(v164, &v293[v162], v161 - v162);
            *(_BYTE *)(*(_QWORD *)(a1 + 160) - (unsigned __int16)v288 + (unsigned __int16)v287) = 0;
            v166 = strlen(*(const char **)(a1 + 160));
            (*(void (**)(_QWORD, _QWORD, char *, _QWORD, _QWORD))(*(_QWORD *)(a1 + 80) + 112))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), v286, *(_QWORD *)(a1 + 160), (unsigned __int16)(v166 + 1));
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 176))(a3, a4, (unsigned __int16)v292, 3, &__src, &v290);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 9, &v270, &v290);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            **(_BYTE **)(a1 + 168) = 0;
            if (*(_BYTE *)(a1 + 1200))
            {
              v259 = 0;
              v252 = 3;
              do
              {
                LH_itoa(++v259, (char *)&v269, 0xAu);
                strcpy((char *)v295, "multi_trans_");
                __strcat_chk();
                v167 = strlen(__src);
                v109 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char *, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, __src, v167);
                if ((v109 & 0x80000000) != 0)
                  goto LABEL_268;
                v109 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, uint64_t *))(*(_QWORD *)(a1 + 104)
                                                                                             + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, &v272, &v268);
                if ((v109 & 0x80000000) != 0)
                  goto LABEL_268;
                v272[(unsigned __int16)v268] = 0;
                HIWORD(v288) = 0;
                __s2b = v272;
                if (*v272)
                {
                  v171 = 0;
                  v172 = 0;
                  do
                  {
                    v173 = &__s2b[v172];
                    if (__s2b[v172] == 126)
                    {
                      v174 = strlen(v173);
                      memmove((void *)&__s2b[v172 + 1], v173, v174 + 1);
                      *(_WORD *)&v272[HIWORD(v288)] = -24126;
                      v171 = HIWORD(v288);
                      __s2b = v272;
                    }
                    HIWORD(v288) = ++v171;
                    v172 = (unsigned __int16)v171;
                  }
                  while (strlen(__s2b) > (unsigned __int16)v171);
                }
                if (*(_BYTE *)v270)
                {
                  v109 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, uint64_t *, uint64_t *))(*(_QWORD *)(a1 + 104)
                                                                                                  + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 2, &v271, &v268);
                  if ((v109 & 0x80000000) != 0)
                    goto LABEL_268;
                  *(_BYTE *)(v271 + (unsigned __int16)v268) = 0;
                  HIWORD(v288) = 0;
                  if ((_WORD)v268)
                  {
                    v175 = 0;
                    do
                    {
                      *(_BYTE *)(v271 + v175) = *(_BYTE *)v270;
                      v175 = HIWORD(v288) + 1;
                      HIWORD(v288) = v175;
                    }
                    while ((unsigned __int16)v268 > v175);
                  }
                }
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v168, v169, v170, (uint64_t)v295);
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L2: %s", v176, v177, v178, (uint64_t)v295);
                if (*(_BYTE *)v270)
                  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L3: %s", v179, v180, v181, (uint64_t)v295);
                v182 = strlen(*(const char **)(a1 + 160));
                v109 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 1, *(_QWORD *)(a1 + 160), v182);
                if ((v109 & 0x80000000) != 0)
                  goto LABEL_268;
                v109 = (*(uint64_t (**)(_QWORD, _QWORD, const char **))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), v295);
                if ((v109 & 0x80000000) != 0)
                  goto LABEL_268;
                v109 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, uint64_t *))(*(_QWORD *)(a1 + 104)
                                                                                             + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, &v272, &v268);
                if ((v109 & 0x80000000) != 0)
                  goto LABEL_268;
                v272[(unsigned __int16)v268] = 0;
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v183, v184, v185, (uint64_t)v295);
                __s2c = v272;
                if (*v272)
                {
                  v186 = 0;
                  v187 = 0;
                  do
                  {
                    v188 = (char *)&__s2c[v186];
                    if (__s2c[v186] == 126)
                    {
                      v189 = &__s2c[v186 + 1];
                      v190 = strlen(v189);
                      memmove(v188, v189, v190 + 1);
                    }
                    else if (!strncmp(&__s2c[v186], "¡", 2uLL))
                    {
                      v191 = strlen(&__s2c[v187 + 2]);
                      memmove((void *)&__s2c[v187 + 1], &__s2c[v187 + 2], v191 + 1);
                      v272[v186] = 126;
                    }
                    v186 = ++v187;
                    __s2c = v272;
                    v192 = strlen(v272);
                  }
                  while (v192 > v187);
                  v193 = v192;
                }
                else
                {
                  v193 = 0;
                }
                if (strcmp(__src, __s2c))
                {
                  v252 += v193 + 1;
                  if (*v256 < v252)
                  {
                    v194 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 168), v252);
                    if (!v194)
                      goto LABEL_492;
                    *v254 = (const char *)v194;
                    *v256 = v252;
                    __s2c = v272;
                  }
                  v195 = dynamic_strcat(v254, __s2c, v256, *(uint64_t **)(*(_QWORD *)a1 + 8));
                  v196 = *(_QWORD *)a1;
                  if (!v195)
                    goto LABEL_493;
                  if (!dynamic_strcat(v254, "\x12", v256, *(uint64_t **)(v196 + 8)))
                    goto LABEL_492;
                }
              }
              while (v259 < *(unsigned __int8 *)(a1 + 1200));
            }
            if (**v254)
            {
              (*v254)[strlen(*v254) - 1] = 0;
              v197 = strlen(*v254);
              v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 11, (unsigned __int16)(v197 + 1), *v254, (char *)&v289 + 2);
              if ((v109 & 0x80000000) != 0)
                goto LABEL_268;
            }
          }
LABEL_490:
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)v292, &v292);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
        }
      }
      if (*(_DWORD *)(a1 + 1204) && *(_DWORD *)(a1 + 848) && *(unsigned __int8 *)(a1 + 1201) >= 2u)
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 104))(a3, a4, 2, HIWORD(v292), &v292);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        v198 = 0;
        v199 = 0;
        v200 = 0;
        v201 = 0;
        while ((_WORD)v292)
        {
          v59 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
          if (HIDWORD(v281) == 9 || HIDWORD(v281) == 4)
          {
            v295[0] = 0;
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 1, 1, &v288, &v290);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, &v290);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 9, v295, &v290);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            if ((unsigned __int16)v288 != v199)
            {
              if (!v201)
              {
                if (v199 | v200)
                {
                  v109 = hlp_GenXtraMainVarMW(a1, a3, a4, v198, v199, v200, (uint64_t)v293);
                  if ((v109 & 0x80000000) != 0)
                    goto LABEL_268;
                }
              }
              v201 = 0;
            }
            if (!LH_stricmp((char *)v295[0], *(char **)(a1 + 1208))
              || !*v295[0]
              || !strcmp(v295[0], "normal"))
            {
              v201 = 1;
            }
            v199 = v288;
            v200 = v287;
          }
          v198 = v292;
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)v292, &v292);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
        }
        if (!v201)
        {
          if (v199 | v200)
          {
            v59 = hlp_GenXtraMainVarMW(a1, a3, a4, v198, v199, v200, (uint64_t)v293);
            if ((v59 & 0x80000000) != 0)
              goto LABEL_271;
          }
        }
      }
      v203 = *(_BYTE **)(a1 + 2184);
      if (v203 && strlen(*(const char **)(a1 + 2184)) == 3 && *v203 == 101 && v203[1] == 110)
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 104))(a3, a4, 2, HIWORD(v292), &v292);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        while ((_WORD)v292)
        {
          v59 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
          if (HIDWORD(v281) <= 0xA && ((1 << SBYTE4(v281)) & 0x610) != 0)
          {
            v295[0] = 0;
            v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 9, v295, &v290);
            if ((v109 & 0x80000000) != 0)
              goto LABEL_268;
            if (!strcmp(v295[0], "latin"))
            {
              v205 = strlen(*(const char **)(a1 + 2184));
              v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 160))(a3, a4, (unsigned __int16)v292, 9, (unsigned __int16)(v205 + 1), *(_QWORD *)(a1 + 2184), (char *)&v289 + 2);
              if ((v109 & 0x80000000) != 0)
                goto LABEL_268;
            }
          }
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)v292, &v292);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
        }
      }
      if (v13)
      {
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 104))(a3, a4, 2, HIWORD(v292), &v292);
        if ((v59 & 0x80000000) == 0)
        {
          v56 = 0;
          v55 = 0;
          while (1)
          {
            if (!(_WORD)v292)
              goto LABEL_611;
            v59 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
            if ((v59 & 0x80000000) != 0)
              goto LABEL_272;
            if (HIDWORD(v281) <= 0xA && ((1 << SBYTE4(v281)) & 0x610) != 0)
            {
              v295[0] = 0;
              v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 3, &__src, &v290);
              if ((v59 & 0x80000000) != 0)
                goto LABEL_272;
              v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 9, v295, &v290);
              if ((v59 & 0x80000000) != 0)
                goto LABEL_272;
              v280 = 0;
              v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, (unsigned __int16)v292, 12, &v280);
              if ((v59 & 0x80000000) != 0)
                goto LABEL_272;
              if (v280 != 1)
              {
                if (v295[0] && ((v207 = strlen(v295[0]), v207 == 3) || !v207))
                {
                  v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 12, (unsigned __int16)(v207 + 1), v295[0], (char *)&v289 + 2);
                }
                else
                {
                  v208 = strlen(*(const char **)(a1 + 1208));
                  v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 160))(a3, a4, (unsigned __int16)v292, 12, (unsigned __int16)(v208 + 1), *(_QWORD *)(a1 + 1208), (char *)&v289 + 2);
                }
                if ((v59 & 0x80000000) != 0)
                  goto LABEL_272;
              }
              if (LH_stricmp((char *)v295[0], *(char **)(a1 + 1208)))
              {
                v209 = v295[0];
                if (*v295[0])
                {
                  if (strcmp(v295[0], "normal"))
                  {
                    if (strcmp(v209, "latin"))
                    {
                      v210 = hlp_checkDoClmForForeignLanguage(a1, v209);
                      if (v210 || *(_DWORD *)(a1 + 844))
                      {
                        v211 = strlen(__src);
                        v212 = 0;
                        LOWORD(v271) = v292;
                        v213 = v295[0];
                        do
                        {
                          v214 = v213[v212];
                          if (v214 > 0x60)
                            LOBYTE(v214) = v214 - 32;
                          *((_BYTE *)&v272 + v212++) = v214;
                        }
                        while (v212 != 3);
                        v215 = (4 * v211 + 4);
                        BYTE3(v272) = 0;
                        v216 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)v56, v215);
                        v56 = v216;
                        if (!v216)
                        {
LABEL_618:
                          log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v217, v218, v219, v220, v243);
                          goto LABEL_619;
                        }
                        *v216 = 0;
                        if (!v210 && *(_DWORD *)(a1 + 844))
                        {
                          LOWORD(v270) = 1;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t *))(*(_QWORD *)v32 + 80))(a3, a4, (unsigned __int16)v292, &v271);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 1, 1, &v288, &v290);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, &v290);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          HIDWORD(v281) = 16;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 0, 1, (char *)&v281 + 4, (char *)&v289 + 2);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 1, 1, &v288, (char *)&v289 + 2);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 2, 1, &v287, (char *)&v289 + 2);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 5, 1, "*", (char *)&v289 + 2);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 6, 1, "*", (char *)&v289 + 2);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t **, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 7, 1, &v270, (char *)&v289 + 2);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 12, 4, "map", (char *)&v289 + 2);
                          if ((v59 & 0x80000000) != 0)
                            goto LABEL_272;
                        }
                        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Phon before %s CLM %s", v218, v219, v220, (uint64_t)&v272);
                        if (((*(uint64_t (**)(_QWORD, _QWORD, char **, char *, char *, _QWORD, _QWORD, uint64_t))(*(_QWORD *)(a1 + 128) + 64))(*(_QWORD *)(a1 + 112), *(_QWORD *)(a1 + 120), &v272, __src, v56, 0, 0, v215) & 0x80000000) != 0&& *(_DWORD *)(a1 + 940))
                        {
                          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"CLM failed for %s", v222, v223, v224, (uint64_t)__src);
                        }
                        else
                        {
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 9, 1, &byte_1DEBD87CE, (char *)&v289 + 2);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                        }
                        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Phon after %s CLM %s", v225, v226, v227, (uint64_t)&v272);
                        v228 = strlen(v56);
                        v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a3, a4, (unsigned __int16)v271, 3, (unsigned __int16)(v228 + 1), v56, (char *)&v289 + 2);
                        if ((v221 & 0x80000000) != 0)
                        {
LABEL_617:
                          v9 = v221;
LABEL_619:
                          v59 = v9;
                          goto LABEL_272;
                        }
                        v280 = 0;
                        if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, (unsigned __int16)v292, 11, &v280) & 0x80000000) == 0&& v280 == 1)
                        {
                          v221 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 11, &__src, &v290);
                          if ((v221 & 0x80000000) != 0)
                            goto LABEL_617;
                          if (*__src)
                          {
                            v229 = strlen(__src);
                            v230 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)v55, (4 * v229 + 4));
                            v55 = v230;
                            if (!v230)
                              goto LABEL_618;
                            *v230 = 0;
                            v231 = __src;
                            if (__src)
                            {
                              while (1)
                              {
                                v232 = strchr(v231, 18);
                                v236 = v232;
                                if (v232)
                                  *v232 = 0;
                                if (*v55)
                                  *(_WORD *)&v55[strlen(v55)] = 18;
                                *(_WORD *)v56 = 95;
                                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Phon before %s CLM %s", v233, v234, v235, (uint64_t)&v272);
                                v237 = __src;
                                v238 = strlen(__src);
                                if (4 * v238 + 4 > v215)
                                {
                                  v215 = (4 * v238 + 4);
                                  v56 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)v56, v215);
                                  if (!v56)
                                    goto LABEL_618;
                                  v237 = __src;
                                }
                                if (((*(uint64_t (**)(_QWORD, _QWORD, char **, char *, char *, _QWORD, _QWORD, uint64_t))(*(_QWORD *)(a1 + 128) + 64))(*(_QWORD *)(a1 + 112), *(_QWORD *)(a1 + 120), &v272, v237, v56, 0, 0, v215) & 0x80000000) != 0)log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"CLM failed for %s", v239, v240, v241, (uint64_t)__src);
                                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Phon after %s CLM %s", v239, v240, v241, (uint64_t)&v272);
                                strcat(v55, v56);
                                if (!v236)
                                  break;
                                *v236 = 18;
                                v231 = v236 + 1;
                                __src = v231;
                              }
                              __src = 0;
                            }
                            v242 = strlen(v55);
                            v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v271, 11, (unsigned __int16)(v242 + 1), v55, (char *)&v289 + 2);
                            if ((v59 & 0x80000000) != 0)
                              goto LABEL_272;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
            v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)v292, &v292);
            if ((v59 & 0x80000000) != 0)
              goto LABEL_272;
          }
        }
        goto LABEL_271;
      }
      v56 = 0;
      v55 = 0;
LABEL_611:
      v59 = fe_oneword_SplitMW((_QWORD *)a1, a3, a4);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_272;
      if (*(_DWORD *)(a1 + 2192))
      {
        v59 = fe_oneword_MosyntCleanup();
        if ((v59 & 0x80000000) != 0)
          goto LABEL_272;
      }
      DTData = fe_oneword_TreatNLUMarkup(a1, a3, a4);
      if ((DTData & 0x80000000) == 0)
      {
        v9 = fe_oneword_ProcessPinyinMarkup((_QWORD *)a1, a3, a4);
        v11 = v9;
        if ((v9 & 0x80000000) == 0)
          goto LABEL_273;
        return v11;
      }
      return DTData;
    }
    v59 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 1, 1, &v288, &v290);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, &v290);
    if ((v59 & 0x80000000) != 0)
      goto LABEL_271;
    v121 = HIDWORD(v281);
    switch(HIDWORD(v281))
    {
      case 4:
LABEL_320:
        v295[0] = 0;
        v280 = 0;
        if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, (unsigned __int16)v292, 11, &v280) & 0x80000000) == 0&& v280 == 1)
        {
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 11, v295, &v290);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
          v122 = (char *)v295[0];
          v123 = strstr((char *)v295[0], "\x12;_");
          if (v123)
          {
            *v123 = 0;
            v122 = (char *)v295[0];
          }
          v124 = strstr(v122, ";_");
          if (v124)
            *v124 = 0;
        }
LABEL_327:
        v250 = (unsigned __int16)v288;
        if ((unsigned __int16)v288 == __dsta)
        {
          v253 = 1;
          v250 = __dsta;
          __dstb = v258;
        }
        else
        {
          __dstb = 0;
          if (v253 && v249)
          {
            v249 = 0;
            v253 = 0;
            __s2a = 0;
            if ((_BYTE)v258)
            {
              v132 = v258;
              v133 = __s1;
              while (1)
              {
                v134 = *(unsigned __int16 *)v133;
                v133 = (char **)((char *)v133 + 2);
                v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)v32 + 192))(a3, a4, v134);
                if ((v59 & 0x80000000) != 0)
                  goto LABEL_271;
                if (!--v132)
                {
                  __dstb = 0;
                  v253 = 0;
                  __s2a = 0;
                  v249 = 0;
                  v250 = (unsigned __int16)v288;
                  break;
                }
              }
            }
          }
          else
          {
            v249 = 0;
            v253 = 0;
            __s2a = 0;
          }
        }
        v125 = v283;
        if ((unsigned __int16)v283 < HIWORD(v283))
        {
          while ((__int16)(*(_DWORD *)(v284 + 32 * v125 + 12) - v255) < (__int16)(v288 + 1))
          {
            v126 = *(_DWORD *)(v284 + 32 * v125);
            if (v126 == 14)
            {
              v129 = *(_DWORD *)(v284 + 32 * v125 + 24);
              if (v129 != 64)
              {
                v278 = v129;
                *(_WORD *)&__c[1] = -1;
                v59 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, int *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", &v277, &__c[3], &__c[1], __c);
                if ((v59 & 0x80000000) != 0)
                  goto LABEL_271;
                if (*(_WORD *)&__c[1])
                  v130 = ***(_BYTE ***)&__c[3];
                else
                  v130 = v278;
                __s2a = v130;
              }
            }
            else if (v126 == 37)
            {
              v127 = *(const char **)(v284 + 32 * v125 + 24);
              v128 = strlen(v127);
              v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 10, (unsigned __int16)(v128 + 1), v127, (char *)&v289 + 2);
              if ((v59 & 0x80000000) != 0)
                goto LABEL_271;
            }
            v125 = v283 + 1;
            LOWORD(v283) = v125;
            if (HIWORD(v283) <= v125)
              break;
          }
        }
        if (__s2a)
        {
          v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 5, &v279, &v290);
          if ((v59 & 0x80000000) != 0)
            goto LABEL_271;
          v131 = v279;
          if (strchr(v279, __s2a))
          {
            v249 = 1;
          }
          else
          {
            *((_WORD *)__s1 + __dstb) = v292;
            __dstb = (__dstb + 1);
          }
          *v131 = __s2a;
          v279[1] = 0;
        }
        v258 = __dstb;
        if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, (unsigned __int16)v292, 21, &v280) & 0x80000000) != 0)
        {
          v280 = 0;
        }
        else if (v280)
        {
LABEL_360:
          v121 = HIDWORD(v281);
          __dsta = v250;
          break;
        }
        v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 21, 6, "OTHER", (char *)&v289 + 2);
        if ((v59 & 0x80000000) != 0)
          goto LABEL_271;
        goto LABEL_360;
      case 0xA:
        goto LABEL_327;
      case 9:
        goto LABEL_320;
    }
    if (v121 != 9)
      goto LABEL_427;
    v295[0] = 0;
    LOWORD(v271) = 0;
    v272 = 0;
    LOWORD(v270) = 0;
    LOWORD(v269) = 0;
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 3, &__src, &v290);
    if ((v109 & 0x80000000) != 0)
      goto LABEL_268;
    if (!strchr(__src, 32))
    {
LABEL_427:
      v59 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, (unsigned __int16)v292, &v292);
      if ((v59 & 0x80000000) != 0)
        goto LABEL_271;
      continue;
    }
    break;
  }
  v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, &v290);
  if ((v109 & 0x80000000) != 0)
    goto LABEL_268;
  v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t *, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 7, 1, &v271, &v290);
  if ((v109 & 0x80000000) != 0)
    goto LABEL_268;
  v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 9, &v272, &v290);
  if ((v109 & 0x80000000) != 0)
    goto LABEL_268;
  v280 = 0;
  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)v32 + 184))(a3, a4, (unsigned __int16)v292, 8, &v280) & 0x80000000) == 0&& v280 == 1)
  {
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t **, unsigned __int16 *))(*(_QWORD *)v32 + 168))(a3, a4, (unsigned __int16)v292, 8, 1, &v270, &v290);
    if ((v109 & 0x80000000) != 0)
      goto LABEL_268;
  }
  v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 5, &v279, &v290);
  if ((v109 & 0x80000000) != 0)
    goto LABEL_268;
  v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, unsigned __int16 *))(*(_QWORD *)v32 + 176))(a3, a4, (unsigned __int16)v292, 6, v295, &v290);
  if ((v109 & 0x80000000) != 0)
    goto LABEL_268;
  v135 = strlen(__src);
  if (v135 - 128 <= 0xFFFFFFFFFFFFFF7ELL)
  {
    v136 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 240), (v135 + 1));
    if (!v136)
      goto LABEL_492;
    *(_QWORD *)(a1 + 240) = v136;
  }
  v137 = strlen(v279);
  if (v137 - 128 <= 0xFFFFFFFFFFFFFF7ELL)
  {
    v138 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 248), (v137 + 1));
    if (!v138)
      goto LABEL_492;
    *(_QWORD *)(a1 + 248) = v138;
  }
  v139 = strlen(v295[0]);
  if (v139 - 128 <= 0xFFFFFFFFFFFFFF7ELL)
  {
    v140 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 256), (v139 + 1));
    if (!v140)
      goto LABEL_492;
    *(_QWORD *)(a1 + 256) = v140;
  }
  strcpy(*(char **)(a1 + 240), __src);
  strcpy(*(char **)(a1 + 248), v279);
  strcpy(*(char **)(a1 + 256), v295[0]);
  v141 = *(char **)(a1 + 248);
  v142 = *(char **)(a1 + 256);
  v244 = *(char **)(a1 + 240);
  v143 = strchr(v244, 32);
  v251 = v141;
  v247 = strchr(v141, 32);
  v248 = v142;
  v245 = v143;
  v246 = strchr(v142, 32);
  HIWORD(v288) = v288;
  if (!v143)
  {
LABEL_422:
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 2, 1, &v287, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      goto LABEL_268;
    v155 = strlen(v244);
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 3, (unsigned __int16)(v155 + 1), v244, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      goto LABEL_268;
    v156 = strlen(v251);
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 5, (unsigned __int16)(v156 + 1), v251, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      goto LABEL_268;
    v157 = strlen(v248);
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 6, (unsigned __int16)(v157 + 1), v248, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      goto LABEL_268;
    LOWORD(v269) = 0;
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t **, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 8, 1, &v270, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      goto LABEL_268;
    goto LABEL_427;
  }
  while (1)
  {
    for (i = HIWORD(v288); ; HIWORD(v288) = ++i)
    {
      v145 = v293[i];
      v146 = v145 > 0x20 || ((1 << v145) & 0x100002601) == 0;
      if (!v146 || v145 == 95)
        break;
    }
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 2, 1, (char *)&v288 + 2, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    ++HIWORD(v288);
    *v245 = 0;
    v147 = strlen(v244);
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 3, (unsigned __int16)(v147 + 1), v244, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    if (v247)
      *v247 = 0;
    v148 = strlen(v251);
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 5, (unsigned __int16)(v148 + 1), v251, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    v149 = v251;
    if (v247)
      v149 = v247 + 1;
    v251 = v149;
    if (v246)
      *v246 = 0;
    v150 = strlen(v248);
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 6, (unsigned __int16)(v150 + 1), v248, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    v151 = v248;
    if (v246)
      v151 = v246 + 1;
    v248 = v151;
    LOWORD(v269) = 0;
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 8, 1, &v269, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    v152 = v292;
    if ((_WORD)v292 && HIWORD(v288) > (unsigned __int16)v288)
    {
      while (1)
      {
        v153 = v152;
        v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 120))(a3, a4, v152, &v292);
        if ((v109 & 0x80000000) != 0)
          goto LABEL_268;
        if (!(_WORD)v292)
          goto LABEL_412;
        v109 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)v32 + 168))(a3, a4);
        if ((v109 & 0x80000000) != 0)
          goto LABEL_268;
        v152 = v292;
        if (!(_WORD)v292 || HIWORD(v288) <= (unsigned __int16)v288)
          goto LABEL_412;
      }
    }
    v153 = v292;
LABEL_412:
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)v32 + 80))(a3, a4, v153, &v292);
    if ((v109 & 0x80000000) != 0)
      break;
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 1, 1, (char *)&v288 + 2, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 0, 1, (char *)&v281 + 4, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 7, 1, &v271, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    v154 = strlen(v272);
    v109 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)v32 + 160))(a3, a4, (unsigned __int16)v292, 9, (unsigned __int16)(v154 + 1), v272, (char *)&v289 + 2);
    if ((v109 & 0x80000000) != 0)
      break;
    v244 = v245 + 1;
    v245 = strchr(v245 + 1, 32);
    if (v251)
      v247 = strchr(v251, 32);
    if (v248)
      v246 = strchr(v248, 32);
    if (!v245)
      goto LABEL_422;
  }
LABEL_268:
  v9 = v109;
LABEL_494:
  v56 = 0;
  v55 = 0;
LABEL_273:
  if (v263)
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v263);
LABEL_96:
  if (v293)
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v293);
  if (v56)
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v56);
  if (v55)
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v55);
  return v9;
}

uint64_t fe_oneword_ResetCarryOverSentenceParams(uint64_t result)
{
  _BYTE *v1;
  _BYTE *v2;

  v1 = *(_BYTE **)(result + 2256);
  if (v1 && *v1)
    *v1 = 0;
  v2 = *(_BYTE **)(result + 2264);
  if (v2)
  {
    if (*v2)
      *v2 = 0;
  }
  return result;
}

uint64_t hlp_LoadDTData(uint64_t a1)
{
  uint64_t Str;
  char *v3;
  const char *v4;
  char *v5;
  char v6;
  int v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t *v25;
  unsigned int v26;
  int v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  char *v36;
  char *v37;
  char *v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  unsigned int v53;
  unsigned int v54;
  int v55;
  uint64_t v56;
  _QWORD *v57;
  int v58;
  char v59;
  char *__s;
  uint64_t v61;
  int v62[2];
  _BYTE __c[11];
  uint64_t v64;
  char __dst[256];
  _OWORD v66[16];
  _OWORD v67[16];
  uint64_t v68;

  v68 = *MEMORY[0x1E0C80C00];
  memset(v67, 0, sizeof(v67));
  memset(v66, 0, sizeof(v66));
  *(_QWORD *)&__c[3] = 0;
  v64 = 0;
  __c[0] = 0;
  v61 = 0;
  *(_QWORD *)v62 = 0;
  __s = 0;
  v59 = 0;
  v58 = 0;
  v56 = 0;
  v57 = 0;
  v55 = 0;
  *(_WORD *)&__c[1] = -1;
  Str = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "dtlhp2lhtts", &__c[3], &__c[1], __c);
  if ((Str & 0x80000000) != 0)
    return Str;
  *(_DWORD *)(a1 + 576) = *(_WORD *)&__c[1] != 0;
  *(_WORD *)&__c[1] = -1;
  Str = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "dtcharsetutf8", &__c[3], &__c[1], __c);
  if ((Str & 0x80000000) != 0)
    return Str;
  if (*(_WORD *)&__c[1])
    __strcpy_chk();
  else
    *(_BYTE *)(a1 + 584) = 0;
  *(_WORD *)&__c[1] = -1;
  Str = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "phonlhp2lhtts", &__c[3], &__c[1], __c);
  if ((Str & 0x80000000) != 0)
    return Str;
  *(_DWORD *)(a1 + 580) = *(_WORD *)&__c[1] == 0;
  *(_WORD *)&__c[1] = -1;
  Str = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "extramaintrans", &__c[3], &__c[1], __c);
  if ((Str & 0x80000000) != 0)
    return Str;
  *(_DWORD *)(a1 + 852) = *(_WORD *)&__c[1]
                       || strstr("eng,ena,enu,dun,frc,frf,ged,iti,ptb,ptp,sws,spe,spm", *(const char **)(a1 + 1208));
  *(_DWORD *)(a1 + 1204) = (paramc_ParamGet(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"mlset", &__s, 0) & 0x80000000) == 0
                        && strlen(__s) >= 4
                        && (paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"extclccfg", &v64) & 0x80000000) != 0;
  *(_WORD *)&__c[1] = -1;
  Str = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "lidenx", &__c[3], &__c[1], __c);
  if ((Str & 0x80000000) != 0)
    return Str;
  *(_DWORD *)(a1 + 928) = *(_WORD *)&__c[1] != 0;
  *(_DWORD *)(a1 + 932) = 0;
  *(_WORD *)&__c[1] = -1;
  Str = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "lidenxchars", &__c[3], &__c[1], __c);
  if ((Str & 0x80000000) != 0)
    return Str;
  if (*(_WORD *)&__c[1])
  {
    v3 = strchr(**(char ***)&__c[3], __c[0]);
    if (v3)
      *v3 = 0;
    __strcpy_chk();
  }
  else
  {
    *(_BYTE *)(a1 + 944) = 0;
  }
  *(_WORD *)&__c[1] = -1;
  Str = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "dpsmultitrans", &__c[3], &__c[1], __c);
  if ((Str & 0x80000000) != 0)
    return Str;
  if (*(_WORD *)&__c[1])
  {
    v4 = **(const char ***)&__c[3];
    v5 = strchr(**(char ***)&__c[3], __c[0]);
    if (v5)
    {
      *v5 = 0;
      v4 = **(const char ***)&__c[3];
    }
    v6 = atoi(v4);
  }
  else
  {
    v6 = 0;
  }
  *(_BYTE *)(a1 + 1200) = v6;
  Str = paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"langcode", v62);
  if ((Str & 0x80000000) != 0)
    return Str;
  Str = paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"fecfg", &v61);
  if ((Str & 0x80000000) != 0)
    return Str;
  LOBYTE(v67[0]) = 0;
  __strcat_chk();
  __strcat_chk();
  __strcat_chk();
  __strcat_chk();
  v7 = brokeraux_ComposeBrokerString(*(_QWORD *)a1, (const char *)v67, 0, 1, *(char **)v62, 0, 0, (char *)v66, 0x100uLL);
  if (v7 < 0)
    return v7 | 0x89B02000;
  if ((ssftriff_reader_ObjOpen(*(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), 2, (const char *)v66, "DETR", 1031, (uint64_t *)&v57) & 0x80000000) != 0)return 0;
  while (2)
  {
    if ((ssftriff_reader_OpenChunk((uint64_t)v57, &v58, (unsigned int *)&v55, &v56, v8, v9, v10, v11) & 0x80000000) != 0)
      return ssftriff_reader_ObjClose(v57, v12, v13, v14, v15, v16, v17, v18);
    v54 = 256;
    Str = ssftriff_reader_ReadStringZ((uint64_t)v57, v56, v55, 0, __dst, &v54);
    if ((Str & 0x80000000) != 0)
      return Str;
    v19 = heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), 24);
    if (!v19)
    {
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v21, v22, v23, v24, v53);
      return 2310021130;
    }
    v25 = (uint64_t *)v19;
    Str = ssftriff_reader_DetachChunkData((uint64_t)v57, v25, v25 + 1, v20, v21, v22, v23, v24);
    if ((Str & 0x80000000) != 0)
      return Str;
    v26 = v54;
    if ((v54 & 3) != 0)
    {
      v26 = v54 - (v54 | 0xFFFFFFFC);
      v54 = v26;
    }
    PNEW_LexDT_Con(a1 + 888, a1 + 888, 0, (_DWORD *)(v25[1] + v26), 0, v25 + 2);
    v28 = LH_ERROR_to_VERROR(v27);
    if ((v28 & 0x80000000) != 0)
    {
      v47 = v28;
      ssftriff_reader_ReleaseChunkData((_QWORD *)*v25, v29, v30, v31, v32, v33, v34, v35);
      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v25);
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34004, 0, v49, v50, v51, v52, v53);
    }
    else
    {
      v36 = __dst;
      do
      {
        v37 = strchr(v36, 44);
        v38 = v37;
        if (v37)
          *v37 = 0;
        v39 = ssftmap_Insert(*(_QWORD *)(a1 + 568), (uint64_t)v36, (uint64_t)v25);
        if ((v39 & 0x80000000) != 0)
        {
          v47 = v39;
          ssftriff_reader_ReleaseChunkData((_QWORD *)*v25, v40, v41, v42, v43, v44, v45, v46);
          heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v25);
          return v47;
        }
        v36 = v38 + 1;
      }
      while (v38);
      v47 = ssftriff_reader_CloseChunk((uint64_t)v57);
      if ((v47 & 0x80000000) == 0)
        continue;
    }
    break;
  }
  return v47;
}

uint64_t hlp_GenXtraMainVarMW(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5, unsigned int a6, uint64_t a7)
{
  unsigned int v9;
  uint64_t v10;
  char *v17;
  unsigned __int16 v18;
  uint64_t v19;
  char v20[128];
  uint64_t v21;

  v21 = *MEMORY[0x1E0C80C00];
  v18 = a4;
  if (a5 >= a6)
    return 0;
  v9 = a6 - a5;
  if ((int)(a6 - a5) > 127)
    return 0;
  __strncpy_chk();
  v17 = &v20[v9];
  *v17 = 0;
  if (oneword_CountOrthographicWords(v20, (int)v17, 0x23u, 0x23u) < 2)
    return hlp_GenXtraMainVar(a1, a2, a3, a4, a5, a6, a7, &v18);
  oneword_ReplaceAllCharactersInOrthography(v20, (int)v17, 0x23u, 32);
  v10 = 0;
  v19 = 0;
  do
  {
    oneword_FindNextWord((size_t)v20, 5u, v9, (unsigned int *)&v19 + 1, (unsigned int *)&v19);
    if (HIDWORD(v19) < v9)
    {
      v10 = hlp_GenXtraMainVar(a1, a2, a3, v18, (unsigned __int16)(WORD2(v19) + a5), (unsigned __int16)(v19 + a5), a7, &v18);
      if ((v10 & 0x80000000) != 0)
        break;
    }
    HIDWORD(v19) = v19;
  }
  while (v19 < v9);
  return v10;
}

BOOL hlp_checkDoClmForForeignLanguage(uint64_t a1, const char *a2)
{
  char *v4;
  int Str;
  char *__s1;
  int v8[3];
  uint64_t v9;

  v9 = *MEMORY[0x1E0C80C00];
  __s1 = 0;
  v8[0] = 7171171;
  __strcat_chk();
  if ((paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)v8, &__s1) & 0x80000000) != 0
    || (v4 = __s1) == 0)
  {
    __s1 = 0;
    Str = paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"noclmset", &__s1);
    v4 = __s1;
    if (Str < 0 || !__s1)
    {
      if (!__s1)
        return 1;
    }
    else
    {
      if (strstr(__s1, a2))
        v4 = "no";
      else
        v4 = "yes";
      __s1 = v4;
    }
  }
  return strcmp(v4, "yes") == 0;
}

uint64_t fe_oneword_TreatNLUMarkup(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t v7;
  int v8;
  unint64_t v9;
  uint64_t v10;
  int v12;
  _DWORD *v13;
  unint64_t v14;
  int v15;
  uint64_t v16;
  const char *v18;
  char *v19;
  char *v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  const char *v25;
  char *v26;
  unsigned int v27;
  uint64_t v28;
  char *v29;
  const char *v30;
  uint64_t v31;
  _BOOL4 v32;
  BOOL v33;
  int v34;
  int v35;
  int v36;
  __int16 v37;
  unsigned __int16 v38;
  const char *v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  char *v46;
  char *v47;
  char *v48;
  int v49;
  unsigned int v50;
  char *v51;
  size_t v52;
  char *v53;
  char *v54;
  int v55;
  char *v56;
  char *v57;
  int v58;
  int v59;
  int v60;
  int v61;
  char *v62;
  unsigned int v63;
  char *v64;
  char *v65;
  int v66;
  char *v67;
  int v68;
  uint64_t v69;
  int v70;
  unsigned int v71;
  int v72;
  uint64_t v73;
  const char *v76;
  int v77;
  char *v78;
  char *v79;
  char *v80;
  int v81;
  char *v82;
  int v83;
  __int16 v84;
  uint64_t v85;
  unsigned __int16 v86;
  __int16 v88;
  __int16 v89;
  unsigned __int16 v90;
  _BYTE *v91;
  uint64_t v92;
  int v93;
  char *v94;
  char *v95;
  unsigned int v96;
  unsigned int v97;
  char *v98;
  char *v99;
  int v100;
  char *v101;
  int v102;
  char *v103;
  char *v104;
  char *v105;
  char *v106;
  __int16 v107;
  uint64_t v108;
  unsigned int v109;
  unint64_t v110;
  uint64_t v111;
  uint64_t v112;
  int v113;
  int v114;
  char *v115;
  char *v116;
  unsigned int v118;
  unint64_t v119;
  uint64_t v120;
  uint64_t v121;
  uint64_t v122;
  int v123;
  unsigned __int16 v124;
  uint64_t v125;
  int v126;
  uint64_t v127;
  char *__dst;
  uint64_t v129;
  int v130;
  unsigned __int16 v131;
  unsigned __int16 v132;
  int v133;
  int v134;
  int v135;

  v134 = 0;
  v135 = 0;
  v133 = 0;
  v130 = 0;
  __dst = 0;
  v129 = 0;
  v127 = 0;
  v126 = 0;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 1, 0, (char *)&v135 + 2);
  if ((v6 & 0x80000000) == 0
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, HIWORD(v135), 0, &v126) & 0x80000000) == 0&& (unsigned __int16)v126 == 1)
  {
    v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, int *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, HIWORD(v135), 0, &v129, &v134);
    if ((v6 & 0x80000000) == 0 && (unsigned __int16)v134 >= 2u)
    {
      v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, HIWORD(v135), 1, &v127, (char *)&v126 + 2);
      if ((v7 & 0x80000000) != 0)
        return v7;
      v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, HIWORD(v135), &v135);
      if ((v6 & 0x80000000) == 0)
      {
        v132 = 0;
        v131 = 0;
        LOWORD(v8) = v135;
        if (!(_WORD)v135)
        {
          v19 = 0;
          v120 = 0;
          v121 = 0;
          LODWORD(v9) = 0;
LABEL_264:
          v109 = HIWORD(v126);
          if (v9 < HIWORD(v126))
          {
            v110 = v9;
            v111 = 32 * v9;
            do
            {
              if (*(_DWORD *)(v127 + v111) == 51)
              {
                v112 = *(_QWORD *)(a1 + 2264);
                if (v112)
                  v113 = strlen(*(const char **)(a1 + 2264));
                else
                  v113 = 0;
                v114 = strlen(*(const char **)(v127 + v111 + 24));
                v115 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), v112, (v113 + v114 + 2));
                if (!v115)
                  goto LABEL_282;
                *(_QWORD *)(a1 + 2264) = v115;
                hlp_NLUStrOverride(v115, *(char **)(v127 + v111 + 24), 0);
                v109 = HIWORD(v126);
              }
              ++v110;
              v111 += 32;
            }
            while (v110 < v109);
          }
          v116 = v19;
          v46 = (char *)v120;
          v79 = (char *)v121;
          goto LABEL_285;
        }
        v9 = 0;
        v120 = 0;
        v121 = 0;
        v122 = 0;
        while (1)
        {
          v10 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v8, 0, 1, &v130, &v134);
          if ((v10 & 0x80000000) != 0)
          {
LABEL_275:
            v6 = v10;
LABEL_276:
            v79 = (char *)v121;
            goto LABEL_277;
          }
          if ((v130 - 9) >= 6 && v130 != 4)
            goto LABEL_181;
          v10 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v135, 1, 1, &v132, &v134);
          if ((v10 & 0x80000000) != 0)
            goto LABEL_275;
          v10 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v135, 2, 1, &v131, &v134);
          if ((v10 & 0x80000000) != 0)
            goto LABEL_275;
          if (v9 >= HIWORD(v126))
          {
LABEL_25:
            v15 = *(_DWORD *)(v127 + 16);
          }
          else
          {
            v12 = *(_DWORD *)(v127 + 12);
            v13 = (_DWORD *)(v127 + 32 * v9);
            v14 = HIWORD(v126) - (unint64_t)v9;
            while (1)
            {
              v15 = v13[3] - v12;
              v16 = (unsigned __int16)(*((_WORD *)v13 + 6) - v12);
              if (*v13 == 1 && v16 >= v131)
                break;
              v13 += 8;
              if (!--v14)
                goto LABEL_25;
            }
            v33 = *((_WORD *)v13 + 6) == (_WORD)v12 || (_DWORD)v16 == *(_DWORD *)(v127 + 16);
            if (!v33 && *(_BYTE *)(v129 + v16) != 32)
            {
              LODWORD(v125) = v16 - 1;
              utf8_GetPreviousValidUtf8Offset(v129, (unsigned int *)&v125);
              v34 = utf8_determineUTF8CharLength(*(unsigned __int8 *)(v129 + v16));
              v35 = v125;
              v36 = *(unsigned __int8 *)(v129 + v125);
              if (v36 != 95 && v36 != 32)
                v35 = v34 + v15;
              v15 = v35;
            }
          }
          LOWORD(v133) = 0;
          v18 = *(const char **)(a1 + 2264);
          if (v18 && *v18)
          {
            LOWORD(v133) = strlen(v18) + 1;
            v19 = (char *)v122;
            v20 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), v122, (unsigned __int16)v133);
            if (!v20)
              goto LABEL_282;
            v25 = v20;
            v26 = strcpy(v20, *(const char **)(a1 + 2264));
            **(_BYTE **)(a1 + 2264) = 0;
            v122 = (uint64_t)v26;
          }
          else
          {
            v25 = 0;
          }
          v27 = HIWORD(v126);
          if (v9 < HIWORD(v126))
          {
            v28 = 32 * v9;
            v9 = v9;
            while (v15 << 16 > (*(_DWORD *)(v127 + v28 + 12) - *(_DWORD *)(v127 + 12)) << 16)
            {
              if (*(_DWORD *)(v127 + v28) == 51)
              {
                LOWORD(v133) = strlen(*(const char **)(v127 + v28 + 24)) + v133 + 1;
                v19 = (char *)v122;
                v29 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), v122, (unsigned __int16)v133);
                if (!v29)
                  goto LABEL_282;
                v30 = v29;
                if (v25)
                {
                  v31 = v127;
                  v32 = *(_DWORD *)(v127 + v28 + 12) + 1 == *(_DWORD *)(v127 + 16) + *(_DWORD *)(v127 + 12);
                }
                else
                {
                  v32 = 0;
                  *v29 = 0;
                  v31 = v127;
                }
                hlp_NLUStrOverride(v29, *(char **)(v31 + v28 + 24), v32);
                v27 = HIWORD(v126);
                v122 = (uint64_t)v30;
                v25 = v30;
              }
              else
              {
                v30 = v25;
              }
              ++v9;
              v28 += 32;
              if (v9 >= v27)
                goto LABEL_53;
            }
            v30 = v25;
LABEL_53:
            v9 = (unsigned __int16)v9;
            v25 = v30;
          }
          if (!v25)
            break;
          v37 = 2 * strlen(v25);
          v38 = v37 + 2;
          LOWORD(v133) = v37 + 2;
          v39 = *(const char **)(a1 + 2256);
          if (*v39)
          {
            v38 = v37 + strlen(v39) + 3;
            LOWORD(v133) = v38;
          }
          v40 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), v122, v38);
          if (!v40)
          {
            v19 = (char *)v122;
LABEL_282:
            v46 = (char *)v120;
            goto LABEL_283;
          }
          v19 = (char *)v40;
          v119 = v9;
          v41 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), v120, (unsigned __int16)v133);
          if (!v41)
          {
            v6 = 2310021130;
            log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v42, v43, v44, v45, v118);
            v79 = (char *)v121;
            v46 = (char *)v120;
            goto LABEL_286;
          }
          v46 = (char *)v41;
          __dst = v19;
          v47 = v19;
          do
          {
            if ((*v47 | 0x20) == 0x72 && v47[1] == 95)
            {
              strcpy(v46, *(const char **)(a1 + 2256));
              LOWORD(v133) = (unsigned __int16)hlp_NLUStrKeyLen(__dst);
              if (v19 < __dst)
              {
                v48 = v19;
                do
                {
                  v49 = (unsigned __int16)v133;
                  if (v49 == hlp_NLUStrKeyLen(v48)
                    && !strncmp(__dst + 2, v48 + 2, (unsigned __int16)v133 - 2))
                  {
                    v50 = *v48;
                    if (v50 > 0x64)
                    {
                      if (v50 == 101)
                      {
LABEL_77:
                        if (v48[1] == 95)
                          hlp_NLUStrRemoveI(v46, v48);
                        goto LABEL_66;
                      }
                      if (v50 == 115)
                      {
LABEL_74:
                        if (v48[1] == 95)
                          hlp_NLUStrAddI(v46, v48);
                      }
                    }
                    else
                    {
                      if (v50 == 69)
                        goto LABEL_77;
                      if (v50 == 83)
                        goto LABEL_74;
                    }
                  }
LABEL_66:
                  v48 = hlp_NLUStrNext(v48);
                }
                while (v48 < __dst);
              }
              v51 = v46;
              do
              {
                if (*v51)
                  *v51 = 69;
                v51 = hlp_NLUStrNext(v51);
              }
              while (v51);
              LOWORD(v133) = strlen(v46);
              v52 = strlen(__dst);
              memmove(&__dst[(unsigned __int16)v133 + 1], __dst, v52 + 1);
              strncpy(__dst, v46, (unsigned __int16)v133);
              __dst[(unsigned __int16)v133] = 59;
              __dst += (unsigned __int16)v133 + 1;
              v47 = hlp_NLUStrStrip(__dst);
            }
            else
            {
              v47 = hlp_NLUStrNext(v47);
            }
            __dst = v47;
          }
          while (v47);
          __dst = v19;
          v53 = v19;
          while (2)
          {
            if ((*v53 | 0x20) == 0x65 && v53[1] == 95)
            {
              v54 = hlp_NLUStrNext(v53);
              LOWORD(v133) = (unsigned __int16)hlp_NLUStrLength(__dst);
              if (v54)
              {
                while (1)
                {
                  if ((*v54 | 0x20) == 0x73 && v54[1] == 95)
                  {
                    v55 = (unsigned __int16)v133;
                    if (v55 == hlp_NLUStrLength(v54)
                      && !strncmp(__dst + 2, v54 + 2, (unsigned __int16)v133 - 2))
                    {
                      break;
                    }
                  }
                  v54 = hlp_NLUStrNext(v54);
                  if (!v54)
                    goto LABEL_95;
                }
                hlp_NLUStrStrip(v54);
                v53 = hlp_NLUStrStrip(__dst);
                goto LABEL_97;
              }
LABEL_95:
              v53 = __dst;
            }
            v53 = hlp_NLUStrNext(v53);
LABEL_97:
            __dst = v53;
            if (v53)
              continue;
            break;
          }
          __dst = v19;
          v56 = v19;
LABEL_100:
          while (2)
          {
            if ((*v56 | 0x20) != 0x73 || v56[1] != 95)
              goto LABEL_117;
            v57 = hlp_NLUStrNext(v56);
            LOWORD(v133) = (unsigned __int16)hlp_NLUStrLength(__dst);
            if (v57)
            {
              v58 = 0;
              do
              {
                if (v58)
                {
                  v59 = *v57;
                  if ((v59 | 0x20) != 0x65)
                    goto LABEL_110;
                  if (v57[1] == 95)
                  {
                    v60 = (unsigned __int16)v133;
                    if (v60 == hlp_NLUStrLength(v57)
                      && !strncmp(__dst + 2, v57 + 2, (unsigned __int16)v133 - 2))
                    {
                      hlp_NLUStrStrip(v57);
                      hlp_NLUStrStrip(__dst);
                      v56 = __dst;
                      if (!__dst)
                        goto LABEL_120;
                      goto LABEL_100;
                    }
                  }
                }
                v59 = *v57;
LABEL_110:
                if (v59)
                {
                  if (v57[1] == 95)
                  {
                    v61 = (unsigned __int16)v133;
                    if (v61 == hlp_NLUStrLength(v57)
                      && !strncmp(__dst + 2, v57 + 2, (unsigned __int16)v133 - 2))
                    {
                      v58 = 1;
                    }
                  }
                }
                v57 = hlp_NLUStrNext(v57);
              }
              while (v57);
            }
            v56 = __dst;
LABEL_117:
            v56 = hlp_NLUStrNext(v56);
            __dst = v56;
            if (v56)
              continue;
            break;
          }
LABEL_120:
          __dst = v19;
          v62 = v19;
          while (2)
          {
            if ((*v62 | 0x20) != 0x65
              || v62[1] != 95
              || (v63 = hlp_NLUStrSearchI(*(char **)(a1 + 2256), v62), v62 = __dst, v63))
            {
              v64 = v62;
              goto LABEL_125;
            }
            LOWORD(v133) = (unsigned __int16)hlp_NLUStrLength(__dst);
            v64 = __dst;
            if (v19 >= __dst)
              goto LABEL_137;
            v66 = 0;
            v67 = v19;
            do
            {
              if ((*v67 | 0x20) == 0x73 && v67[1] == 95)
              {
                v68 = (unsigned __int16)v133;
                if (v68 == hlp_NLUStrLength(v67)
                  && !strncmp(__dst + 2, v67 + 2, (unsigned __int16)v133 - 2))
                {
                  v66 = 1;
                }
              }
              v67 = hlp_NLUStrNext(v67);
              v64 = __dst;
            }
            while (v67 < __dst);
            if (v66)
LABEL_125:
              v65 = hlp_NLUStrNext(v64);
            else
LABEL_137:
              v65 = hlp_NLUStrStrip(v64);
            v62 = v65;
            __dst = v65;
            if (v65)
              continue;
            break;
          }
          hlp_NLUStrJoin(v19, &byte_1DEBD87CE);
          HIWORD(v134) = v135;
          v123 = v132;
          v69 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 120))(a2, a3);
          v6 = v69;
          if ((v69 & 0x80000000) != 0)
            goto LABEL_284;
          if (HIWORD(v134))
          {
            v6 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a2, a3);
            if ((v6 & 0x80000000) != 0)
              goto LABEL_284;
            v70 = HIWORD(v134);
            if (HIWORD(v134))
            {
              v71 = v132;
              v72 = v123;
              while (1)
              {
                if (v71 >= (unsigned __int16)v15)
                  goto LABEL_185;
                v73 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v70, 0, 1, &v130, &v134);
                if ((v73 & 0x80000000) != 0)
                  break;
                if ((v130 - 9) < 6 || v130 == 4)
                  v72 = v132;
                v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, HIWORD(v134), (char *)&v134 + 2);
                if ((v6 & 0x80000000) != 0)
                  goto LABEL_284;
                if (!HIWORD(v134))
                {
                  v70 = 0;
                  goto LABEL_185;
                }
                v6 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a2, a3);
                if ((v6 & 0x80000000) != 0)
                  goto LABEL_284;
                v70 = HIWORD(v134);
                if (!HIWORD(v134))
                  goto LABEL_185;
                v71 = v132;
              }
LABEL_274:
              v6 = v73;
LABEL_284:
              v116 = v19;
              v79 = (char *)v121;
              goto LABEL_285;
            }
          }
          else
          {
            v70 = 0;
          }
          v72 = v123;
LABEL_185:
          v8 = (unsigned __int16)v135;
          if ((_WORD)v135 && (unsigned __int16)v135 != v70)
          {
            v86 = 0;
            while (1)
            {
              v73 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v8, 0, 1, &v130, &v134);
              if ((v73 & 0x80000000) != 0)
                goto LABEL_274;
              if ((v130 - 9) < 6 || v130 == 4)
                break;
LABEL_255:
              v6 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 120))(a2, a3);
              if ((v6 & 0x80000000) != 0)
                goto LABEL_284;
              v8 = (unsigned __int16)v135;
              if (!(_WORD)v135 || (unsigned __int16)v135 == HIWORD(v134))
                goto LABEL_258;
            }
            if (v86)
            {
              v73 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v86, 1, 1, &v133, &v134);
              if ((v73 & 0x80000000) != 0)
                goto LABEL_274;
            }
            v73 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v135, 1, 1, &v132, &v134);
            if ((v73 & 0x80000000) != 0)
              goto LABEL_274;
            v73 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v135, 2, 1, &v131, &v134);
            if ((v73 & 0x80000000) != 0)
              goto LABEL_274;
            if (v86 && (unsigned __int16)v133 == v132)
            {
              v73 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(*(_QWORD *)(a1 + 56)
                                                                                                 + 176))(a2, a3, v86, 14, &__dst, &v134);
              if ((v73 & 0x80000000) != 0)
                goto LABEL_274;
              v88 = strlen(__dst);
              v73 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v135, 14, (unsigned __int16)(v88 + 1), __dst, (char *)&v133 + 2);
              if ((v73 & 0x80000000) != 0)
                goto LABEL_274;
LABEL_254:
              v86 = v135;
              goto LABEL_255;
            }
            v89 = strlen(v19);
            v90 = v89 + 1;
            LOWORD(v133) = v89 + 1;
            v91 = *(_BYTE **)(a1 + 2256);
            if (*v91)
            {
              v90 = v89 + strlen(*(const char **)(a1 + 2256)) + 2;
              LOWORD(v133) = v90;
            }
            v92 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)v91, v90);
            if (v92)
            {
              *(_QWORD *)(a1 + 2256) = v92;
              v93 = strlen(v19);
              v94 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), v121, (unsigned __int16)v133 + v93 + 1);
              if (v94)
              {
                v79 = v94;
                v95 = strcpy(v94, v19);
                while (1)
                {
                  v96 = *v95;
                  if (v96 > 0x64)
                  {
                    if (v96 != 101)
                    {
                      if (v96 != 115)
                        goto LABEL_225;
LABEL_214:
                      if (v95[1] != 95)
                        goto LABEL_225;
                      v97 = hlp_NLUStrSearchI(*(char **)(a1 + 2256), v95);
                      if (v132 == v123)
                        hlp_NLUStrAddI(*(char **)(a1 + 2256), v95);
                      if (!v97)
                        goto LABEL_225;
                      goto LABEL_224;
                    }
                  }
                  else if (v96 != 69)
                  {
                    if (v96 != 83)
                      goto LABEL_225;
                    goto LABEL_214;
                  }
                  if (v95[1] != 95)
                    goto LABEL_225;
                  if (v132 == v72)
                    hlp_NLUStrRemoveI(*(const char **)(a1 + 2256), v95);
                  if (!hlp_NLUStrSearchI(*(char **)(a1 + 2256), v95))
                  {
LABEL_225:
                    v98 = hlp_NLUStrNext(v95);
                    goto LABEL_226;
                  }
LABEL_224:
                  v98 = hlp_NLUStrStrip(v95);
LABEL_226:
                  v95 = v98;
                  if (!v98)
                  {
                    hlp_NLUStrJoin(v79, *(const char **)(a1 + 2256));
                    __dst = v79;
                    v99 = v79;
                    do
                    {
                      if ((*v99 | 0x20) != 0x69)
                        goto LABEL_240;
                      if (v99[1] != 95)
                        goto LABEL_240;
                      LOWORD(v133) = (unsigned __int16)hlp_NLUStrLength(v99);
                      v99 = __dst;
                      if (v79 >= __dst)
                        goto LABEL_240;
                      v100 = 0;
                      v101 = v79;
                      do
                      {
                        if (*v101)
                        {
                          if (v101[1] == 95)
                          {
                            v102 = (unsigned __int16)v133;
                            if (v102 == hlp_NLUStrLength(v101)
                              && !strncmp(__dst + 2, v101 + 2, (unsigned __int16)v133 - 2))
                            {
                              v100 = 1;
                            }
                          }
                        }
                        v101 = hlp_NLUStrNext(v101);
                        v99 = __dst;
                      }
                      while (v101 < __dst);
                      if (v100)
                        v99 = hlp_NLUStrStrip(__dst);
                      else
LABEL_240:
                        v99 = hlp_NLUStrNext(v99);
                      __dst = v99;
                    }
                    while (v99);
                    hlp_NLUStrJoin(v79, &byte_1DEBD87CE);
                    if (v132 == v72)
                    {
                      v125 = 0;
                      v124 = 0;
                      v103 = hlp_NLUStrFind(v79, "PUNC", &v125, &v124);
                      if (!v103)
                        goto LABEL_252;
                      v104 = v103;
                      if (!strstr(v103, ":DASH"))
                        goto LABEL_252;
LABEL_250:
                      if (*(_BYTE *)(v131 + v129 - 1) == 44)
                        goto LABEL_252;
LABEL_251:
                      hlp_NLUStrStrip(v104);
                      goto LABEL_252;
                    }
                    v125 = 0;
                    v124 = 0;
                    v105 = hlp_NLUStrFind(v79, "BND", &v125, &v124);
                    if (v105)
                      hlp_NLUStrStrip(v105);
                    v106 = hlp_NLUStrFind(v79, "PUNC", &v125, &v124);
                    if (v106)
                    {
                      v104 = v106;
                      if (strstr(v106, ":DASH"))
                        goto LABEL_250;
                      goto LABEL_251;
                    }
LABEL_252:
                    v107 = strlen(v79);
                    v108 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v135, 14, (unsigned __int16)(v107 + 1), v79, (char *)&v133 + 2);
                    if ((v108 & 0x80000000) == 0)
                    {
                      v121 = (uint64_t)v79;
                      goto LABEL_254;
                    }
                    v6 = v108;
                    v116 = v19;
LABEL_285:
                    v19 = v116;
                    if (v116)
LABEL_286:
                      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v19);
                    if (v46)
                      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v46);
                    if (v79)
                      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v79);
                    return v6;
                  }
                }
              }
            }
LABEL_283:
            v6 = 2310021130;
            log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v21, v22, v23, v24, v118);
            goto LABEL_284;
          }
LABEL_258:
          v120 = (uint64_t)v46;
          v9 = v119;
LABEL_259:
          v122 = (uint64_t)v19;
          if (!v8)
            goto LABEL_264;
        }
        v10 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56)
                                                                                                 + 168))(a2, a3, (unsigned __int16)v135, 0, 1, &v130, &v134);
        if ((v10 & 0x80000000) != 0)
          goto LABEL_275;
        if ((v130 - 9) >= 6 && v130 != 4)
          goto LABEL_181;
        v76 = *(const char **)(a1 + 2256);
        if (!*v76)
          goto LABEL_181;
        v77 = strlen(v76);
        v78 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), v121, (v77 + 1));
        if (v78)
        {
          v79 = v78;
          v80 = strcpy(v78, *(const char **)(a1 + 2256));
          __dst = v80;
          do
          {
            if ((*v80 | 0x20) != 0x69)
              goto LABEL_177;
            if (v80[1] != 95)
              goto LABEL_177;
            LOWORD(v133) = (unsigned __int16)hlp_NLUStrLength(v80);
            v80 = __dst;
            if (v79 >= __dst)
              goto LABEL_177;
            v81 = 0;
            v82 = v79;
            do
            {
              if (*v82)
              {
                if (v82[1] == 95)
                {
                  v83 = (unsigned __int16)v133;
                  if (v83 == hlp_NLUStrLength(v82)
                    && !strncmp(__dst + 2, v82 + 2, (unsigned __int16)v133 - 2))
                  {
                    v81 = 1;
                  }
                }
              }
              v82 = hlp_NLUStrNext(v82);
              v80 = __dst;
            }
            while (v82 < __dst);
            if (v81)
              v80 = hlp_NLUStrStrip(__dst);
            else
LABEL_177:
              v80 = hlp_NLUStrNext(v80);
            __dst = v80;
          }
          while (v80);
          hlp_NLUStrJoin(v79, &byte_1DEBD87CE);
          v84 = strlen(v79);
          v85 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v135, 14, (unsigned __int16)(v84 + 1), v79, (char *)&v133 + 2);
          if ((v85 & 0x80000000) == 0)
          {
            v121 = (uint64_t)v79;
LABEL_181:
            v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, (unsigned __int16)v135, &v135);
            if ((v6 & 0x80000000) != 0)
              goto LABEL_276;
            v8 = (unsigned __int16)v135;
            v19 = (char *)v122;
            goto LABEL_259;
          }
          v6 = v85;
LABEL_277:
          v46 = (char *)v120;
          v116 = (char *)v122;
          goto LABEL_285;
        }
        v19 = (char *)v122;
        goto LABEL_282;
      }
    }
  }
  return v6;
}

uint64_t fe_oneword_ProcessPinyinMarkup(_QWORD *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  int v9;
  int v10;
  int v11;
  _DWORD *v12;
  uint64_t v13;
  int v14;
  void *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unsigned int v31;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  size_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  char *v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  unsigned int v46;
  __int16 ChineseUTFCharNum;
  __int16 v48;
  unsigned __int16 v49;
  uint64_t v50;
  int v51;
  unsigned __int16 v52;
  _DWORD *v53;
  uint64_t v54;
  uint64_t v55;
  const char *v56;
  size_t v57;
  unsigned int v59;
  unsigned int v60;
  uint64_t (*v61)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, uint64_t, __int16 *);
  uint64_t *v62;
  unsigned __int16 *v63;
  void *__src;
  unsigned __int16 v65;
  int v66;
  _QWORD **v67;
  char *__s;
  const char *v69;
  int v70;
  int v71;
  __int16 v72;
  int v73;

  v66 = 0;
  v65 = 0;
  __src = 0;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1[7] + 104))(a2, a3, 1, 0, (char *)&v66 + 2);
  if ((v6 & 0x80000000) != 0)
    return v6;
  v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, void **, unsigned __int16 *))(a1[7] + 176))(a2, a3, HIWORD(v66), 1, &__src, &v65);
  if ((v7 & 0x80000000) == 0)
  {
    v8 = v65;
    if (v65)
    {
      v9 = 0;
      LOWORD(v10) = 0;
      v11 = 0;
      v12 = (char *)__src + 12;
      v13 = v65;
      do
      {
        v14 = *(v12 - 3);
        if (v14 == 99)
        {
          *v12 -= v11;
          v9 = 1;
        }
        else if (v14 == 0x4000)
        {
          v11 = (unsigned __int16)*v12;
          v10 = v12[1] + *v12;
        }
        v12 += 8;
        --v13;
      }
      while (v13);
    }
    else
    {
      v11 = 0;
      LOWORD(v10) = 0;
      v9 = 0;
    }
    if (*(_BYTE *)a1[285] || v9 != 0)
    {
      v16 = (void *)heap_Calloc(*(_QWORD **)(*a1 + 8), 1, 32 * v8);
      if (v16)
      {
        v21 = (uint64_t)v16;
        memcpy(v16, __src, 32 * v65);
        v22 = v65;
        if (*(_BYTE *)a1[285])
        {
          ++v65;
          v23 = heap_Realloc(*(uint64_t **)(*a1 + 8), v21, 32 * (unsigned __int16)(v22 + 1));
          if (!v23)
          {
            v7 = 2310021130;
            log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v24, v25, v26, v27, v59);
            goto LABEL_84;
          }
          v28 = v23;
          v22 = v65;
          if (v65)
          {
            v29 = 0;
            v30 = 32 * v65;
            v31 = 1;
            while (1)
            {
              if (v29)
              {
                if (*(_DWORD *)(v23 + v29) == 1 && v31 < v65)
                  break;
              }
              v29 += 32;
              ++v31;
              if (v30 == v29)
                goto LABEL_32;
            }
            v33 = v23 + v29;
            memmove((void *)(v23 + v29 + 32), (const void *)(v23 + v29), v30 - v29 - 32);
            *(_DWORD *)v33 = 99;
            *(_QWORD *)(v33 + 12) = (*(_DWORD *)(v33 + 44) - v11);
            v22 = v65;
          }
LABEL_32:
          v21 = v28;
        }
        if (*((_DWORD *)a1 + 499))
        {
          v34 = HIWORD(v66);
          v73 = 0;
          v72 = 0;
          v70 = 0;
          v71 = 0;
          __s = 0;
          v69 = 0;
          v67 = 0;
          v35 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a1[7] + 176))(a2, a3, HIWORD(v66), 0, &__s, &v73);
          if ((v35 & 0x80000000) != 0)
          {
            v7 = v35;
            v41 = 0;
          }
          else
          {
            v36 = strlen(__s);
            v41 = (char *)heap_Calloc(*(_QWORD **)(*a1 + 8), 1, v36 + 1);
            v42 = *a1;
            if (v41)
            {
              v43 = ssftstring_ObjOpen(*(_QWORD **)(v42 + 8), &v67);
              if ((v43 & 0x80000000) == 0)
              {
                v43 = ssftstring_Reserve((uint64_t)v67, 30);
                if ((v43 & 0x80000000) == 0)
                {
                  if ((_DWORD)v22)
                  {
                    v44 = 0;
                    do
                    {
                      if (*(_DWORD *)(v21 + 32 * v44) == 99)
                      {
                        v43 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a1[7] + 104))(a2, a3, 2, v34, (char *)&v73 + 2);
                        if ((v43 & 0x80000000) != 0)
                          goto LABEL_64;
                        v45 = v21 + 32 * v44;
                        v62 = (uint64_t *)(v45 + 24);
                        v63 = (unsigned __int16 *)(v45 + 12);
                        while (HIWORD(v73))
                        {
                          v43 = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a2, a3);
                          if ((v43 & 0x80000000) == 0)
                          {
                            v43 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1[7] + 168))(a2, a3, HIWORD(v73), 1, 1, &v70, &v73);
                            if ((v43 & 0x80000000) == 0)
                            {
                              v43 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1[7] + 168))(a2, a3, HIWORD(v73), 2, 1, (char *)&v70 + 2, &v73);
                              if ((v43 & 0x80000000) == 0)
                              {
                                strncpy(v41, &__s[(unsigned __int16)v70], HIWORD(v70) - (unint64_t)(unsigned __int16)v70);
                                v41[HIWORD(v70) - (unsigned __int16)v70] = 0;
                                if (v71 != 9 && v71 != 4)
                                  goto LABEL_60;
                                if (!utf8_IsChineseLetter(v41))
                                  goto LABEL_60;
                                v46 = *v63;
                                if (v46 >= HIWORD(v70) || v46 < (unsigned __int16)v70)
                                  goto LABEL_60;
                                v43 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, int *))(a1[7] + 176))(a2, a3, HIWORD(v73), 3, &v69, &v73);
                                if ((v43 & 0x80000000) != 0)
                                  goto LABEL_64;
                                ChineseUTFCharNum = utf8_GetChineseUTFCharNum((uint64_t)__s, *v63);
                                v48 = utf8_GetChineseUTFCharNum((uint64_t)__s, (unsigned __int16)v70);
                                if (*v62)
                                {
                                  v43 = hlpProcessWordPhon(a1, v69, (unsigned __int16)(ChineseUTFCharNum - v48 + 1), *v62, (uint64_t)v67);
                                  if ((v43 & 0x80000000) != 0)
                                    goto LABEL_64;
                                }
                                else
                                {
                                  v43 = hlpProcessWordPhon(a1, v69, (unsigned __int16)(ChineseUTFCharNum - v48 + 1), a1[285], (uint64_t)v67);
                                  if ((v43 & 0x80000000) != 0)
                                    goto LABEL_64;
                                  *(_BYTE *)a1[285] = 0;
                                }
                                if (!ssftstring_Size((uint64_t)v67)
                                  || (v61 = *(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, uint64_t, __int16 *))(a1[7] + 160),
                                      v60 = HIWORD(v73),
                                      v49 = ssftstring_Size((uint64_t)v67) + 1,
                                      v50 = ssftstring_CStr((uint64_t)v67),
                                      v43 = v61(a2, a3, v60, 3, v49, v50, &v72),
                                      (v43 & 0x80000000) == 0))
                                {
LABEL_60:
                                  v43 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1[7] + 120))(a2, a3, HIWORD(v73), (char *)&v73 + 2);
                                  if ((v43 & 0x80000000) == 0)
                                    continue;
                                }
                              }
                            }
                          }
                          goto LABEL_64;
                        }
                      }
                      ++v44;
                    }
                    while (v44 != v22);
                  }
                  v43 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(a1[7] + 160))(a2, a3, v34, 1, v22, v21, &v72);
                }
              }
LABEL_64:
              v7 = v43;
            }
            else
            {
              v7 = 2310021130;
              log_OutPublic(*(_QWORD *)(v42 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v37, v38, v39, v40, v59);
            }
          }
          if (v67)
            ssftstring_ObjClose(v67);
          if (v41)
            heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v41);
          if ((v7 & 0x80000000) != 0)
            goto LABEL_84;
          LODWORD(v22) = v65;
        }
        if ((_DWORD)v22)
        {
          v51 = 0;
          v52 = 0;
          do
          {
            v53 = (_DWORD *)(v21 + 32 * v52);
            if (*v53 == 99)
            {
              v54 = (v51 + 1);
              if ((unsigned __int16)v22 > v54)
                memmove(v53, (const void *)(v21 + 32 * v54), 32 * ((unsigned __int16)v22 - (int)v54));
              v55 = v21 + 32 * v52;
              if (*(_DWORD *)(v55 + 12) >= (unsigned __int16)v10)
              {
                v56 = *(const char **)(v55 + 24);
                v57 = strlen(v56);
                memcpy((void *)a1[285], v56, v57 + 1);
              }
              LOWORD(v22) = --v65;
            }
            else
            {
              ++v52;
            }
            v51 = v52;
          }
          while (v52 < (unsigned __int16)v22);
        }
        v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, uint64_t, int *))(a1[7] + 160))(a2, a3, HIWORD(v66), 1, (unsigned __int16)v22, v21, &v66);
LABEL_84:
        heap_Free(*(_QWORD **)(*a1 + 8), v21);
        return v7;
      }
      v7 = 2310021130;
      log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v17, v18, v19, v20, v59);
    }
  }
  return v7;
}

uint64_t fe_oneword_ProcessEnd(uint64_t a1, int a2)
{
  uint64_t v3;
  uint64_t v4;

  v3 = safeh_HandleCheck(a1, a2, 62340, 2288);
  if ((v3 & 0x80000000) != 0)
    return 2310021128;
  v4 = v3;
  fe_oneword_ResetCarryOverSentenceParams(a1);
  if (*(_DWORD *)(a1 + 2004))
    return oneword_posparser_End(a1);
  return v4;
}

uint64_t fe_oneword_ResourceTypes(uint64_t a1, int a2, _QWORD *a3)
{
  uint64_t result;

  if ((safeh_HandleCheck(a1, a2, 62340, 2288) & 0x80000000) != 0)
    return 2310021128;
  result = 0;
  *a3 = &fe_oneword_ResourceTypes_SZ_CONTENT_TYPES;
  return result;
}

uint64_t fe_oneword_ResourceUnload(_QWORD *a1, int a2, uint64_t a3, uint64_t a4)
{
  if ((safeh_HandleCheck((uint64_t)a1, a2, 62340, 2288) & 0x80000000) != 0)
    return 2310021128;
  else
    return (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, uint64_t))(a1[10] + 248))(a1[8], a1[9], a3, a4);
}

uint64_t fe_oneword_GetInterface(unsigned int a1, _QWORD *a2)
{
  uint64_t result;

  if (a1 > 1)
    return 2310021121;
  result = 0;
  *a2 = &IFeOneword;
  return result;
}

uint64_t hlpProcessWordPhon(_QWORD *a1, const char *a2, unsigned int a3, uint64_t a4, uint64_t a5)
{
  uint64_t appended;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  char *v14;
  char *v15;
  unsigned int v16;
  int v17;
  char *v18;
  char *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  BOOL v23;
  const char *v24;
  const char *v25;
  size_t v26;
  int v27;
  uint64_t v28;
  char *v29;
  char *v30;
  char *v31;
  const char *v32;
  uint64_t v33;
  char *v34;
  size_t v35;
  char **v37;
  unsigned __int8 __c;
  __int16 __c_1;

  appended = ssftstring_Clear(a5);
  if ((appended & 0x80000000) != 0)
    return appended;
  __c = 0;
  v37 = 0;
  __c_1 = -1;
  appended = (*(uint64_t (**)(_QWORD, _QWORD, const char *, uint64_t, char ***, __int16 *, unsigned __int8 *))(a1[10] + 96))(a1[8], a1[9], "parallel", a4, &v37, &__c_1, &__c);
  if ((appended & 0x80000000) != 0)
    return appended;
  if (!__c_1)
  {
    log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"[PINYIN] ERROR [lhp for tagpyt=%s not found]", v11, v12, v13, a4);
    return 7;
  }
  v14 = *v37;
  while (1)
  {
    v15 = strchr(v14, __c);
    if (!v15)
      break;
    *v15 = 0;
  }
  if (a3 < 2)
  {
    v16 = 0;
    goto LABEL_26;
  }
  v16 = 0;
  v17 = 1;
  while (1)
  {
    v18 = strstr((char *)&a2[v16], "{SEP");
    v19 = strchr((char *)&a2[v16], 46);
    if (v18)
      v23 = v19 == 0;
    else
      v23 = 0;
    if (v23)
    {
      v25 = v18 + 6;
      goto LABEL_22;
    }
    v24 = v19;
    if (v18 || !v19)
      break;
    v25 = v19 + 1;
LABEL_22:
    v27 = strlen(a2);
    v16 = v27 - strlen(v25);
    if (++v17 >= a3)
      goto LABEL_26;
  }
  if (v18 && v19)
  {
    v26 = strlen(v18);
    if (v26 <= strlen(v24))
      v25 = v24 + 1;
    else
      v25 = v18 + 6;
    goto LABEL_22;
  }
  log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"[PINYIN] ERROR [word phon (%s not found)]", v20, v21, v22, (uint64_t)a2);
LABEL_26:
  appended = ssftstring_AppendCStrN(a5, a2, v16);
  if ((appended & 0x80000000) != 0)
    return appended;
  v28 = ssftstring_AppendCStr(a5, v14);
  if ((v28 & 0x80000000) != 0)
    return v28;
  v29 = (char *)&a2[v16];
  v30 = strstr(v29, "{SEP");
  v31 = strchr(v29, 46);
  v32 = v31;
  if (v30 && !v31)
  {
LABEL_30:
    v33 = a5;
    v34 = v30;
    return ssftstring_AppendCStr(v33, v34);
  }
  if (!v30 && v31)
  {
LABEL_36:
    v33 = a5;
    v34 = (char *)v32;
    return ssftstring_AppendCStr(v33, v34);
  }
  if (v30 && v31)
  {
    v35 = strlen(v30);
    if (v35 > strlen(v32))
      goto LABEL_30;
    goto LABEL_36;
  }
  return v28;
}

uint64_t hlp_GenXtraMainVar(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5, unsigned int a6, uint64_t a7, _WORD *a8)
{
  uint64_t v8;
  unsigned int v9;
  char *v15;
  size_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t appended;
  _BYTE *v23;
  size_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  __int16 v29;
  uint64_t (*v30)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, int *);
  const char *v31;
  __int16 v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  unsigned __int16 v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  unsigned __int16 v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  unsigned __int16 v44;
  uint64_t v46;
  int v47[2];
  unsigned __int8 v48;
  unsigned __int16 v49;
  int v50;
  uint64_t v51;
  __int16 v52;
  __int16 v53;
  char __s[128];
  char v55[128];
  uint64_t v56;

  v8 = 0;
  v56 = *MEMORY[0x1E0C80C00];
  v48 = 32;
  v53 = a5;
  v52 = a6;
  v50 = 0;
  if (a5 < a6)
  {
    v9 = a6 - a5;
    if ((int)(a6 - a5) > 127)
      return 0;
    v51 = 0;
    __strncpy_chk();
    v15 = &__s[v9];
    *v15 = 0;
    oneword_ReplaceAllCharactersInOrthography(__s, (int)v15, 0x23u, 45);
    v8 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 144))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "normal", __s, 128);
    if ((v8 & 0x80000000) == 0)
    {
      **(_BYTE **)(a1 + 240) = 0;
      **(_BYTE **)(a1 + 248) = 0;
      **(_BYTE **)(a1 + 256) = 0;
      **(_BYTE **)(a1 + 264) = 0;
      v16 = strlen(__s);
      if (v16)
      {
        if (v16 == 1)
        {
          appended = oneword_TranscribeAcronym(a1, "normal", __s, &v48, v55);
        }
        else
        {
          v28 = mde_stemafx_Main(a1, "normal", __s, v17, v18, v19, v20, v21);
          if ((v28 & 0x80000000) != 0)
            return v28;
          strcpy(v55, "one_word");
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v33, v34, v35, (uint64_t)v55);
          v36 = strlen(*(const char **)(a1 + 160));
          v28 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, *(_QWORD *)(a1 + 160), v36);
          if ((v28 & 0x80000000) != 0)
            return v28;
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L3: %s", v37, v38, v39, (uint64_t)v55);
          v40 = strlen(*(const char **)(a1 + 168));
          v28 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 2, *(_QWORD *)(a1 + 168), v40);
          if ((v28 & 0x80000000) != 0)
            return v28;
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L4: %s", v41, v42, v43, (uint64_t)v55);
          v44 = strlen(*(const char **)(a1 + 176));
          v28 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 3, *(_QWORD *)(a1 + 176), v44);
          if ((v28 & 0x80000000) != 0)
            return v28;
          if ((ssftmap_FindReadOnly(*(_QWORD *)(a1 + 568), (uint64_t)"normal", &v51) & 0x80000000) != 0)
          {
            v46 = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), v55);
            if ((v46 & 0x80000000) != 0)
            {
              v8 = v46;
              goto LABEL_31;
            }
            *(_QWORD *)v47 = 0;
            v49 = 0;
            appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 104) + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, v47, &v49);
            if ((appended & 0x80000000) == 0)
            {
              *(_BYTE *)(*(_QWORD *)v47 + v49) = 0;
              appended = oneword_AppendPhon(a1, *(char **)v47, &byte_1DEBD87CE, (uint64_t)&byte_1DEBD87CE, 0, 1);
            }
          }
          else
          {
            appended = dt_Main(a1, 0, a2, a3, *(_QWORD *)(v51 + 16), "normal");
            v8 = 0;
            if ((appended & 0x1FFF) == 0x10A)
              goto LABEL_9;
          }
        }
        v8 = appended;
        if ((appended & 0x80000000) != 0)
          goto LABEL_31;
LABEL_9:
        v23 = *(_BYTE **)(a1 + 240);
        if (!*v23)
          goto LABEL_31;
        v23[strlen(*(const char **)(a1 + 240)) - 3] = 0;
        v24 = strlen(*(const char **)(a1 + 240));
        if (oneword_CountPhoneticWords((char *)(*(_QWORD *)(a1 + 240) + 3), (char *)(*(_QWORD *)(a1 + 240) + v24)) != 1)
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Mismatch between number of ortographic words (%d) and phonetic words (%d) in DT(%s)", v25, v26, v27, 1);
          goto LABEL_31;
        }
        v47[0] = 16;
        v28 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 80))(a2, a3, a4, (char *)&v50 + 2);
        if ((v28 & 0x80000000) == 0)
        {
          v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v50), 0, 1, v47, &v50);
          if ((v28 & 0x80000000) == 0)
          {
            v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v50), 1, 1, &v53, &v50);
            if ((v28 & 0x80000000) == 0)
            {
              v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v50), 2, 1, &v52, &v50);
              if ((v28 & 0x80000000) == 0)
              {
                v29 = strlen((const char *)(*(_QWORD *)(a1 + 240) + 3));
                v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, uint64_t, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v50), 3, (unsigned __int16)(v29 + 1), *(_QWORD *)(a1 + 240) + 3, &v50);
                if ((v28 & 0x80000000) == 0)
                {
                  v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v50), 5, 2, "*", &v50);
                  if ((v28 & 0x80000000) == 0)
                  {
                    v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v50), 6, 2, "*", &v50);
                    if ((v28 & 0x80000000) == 0)
                    {
                      v49 = 1;
                      v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v50), 7, 1, &v49, &v50);
                      if ((v28 & 0x80000000) == 0)
                      {
                        v30 = *(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, int *))(*(_QWORD *)(a1 + 56) + 160);
                        v31 = *(const char **)(a1 + 1208);
                        v32 = strlen(v31);
                        v8 = v30(a2, a3, HIWORD(v50), 9, (unsigned __int16)(v32 + 1), v31, &v50);
                        if ((v8 & 0x80000000) != 0)
                          return v8;
                        if (a8)
                          *a8 = HIWORD(v50);
LABEL_31:
                        if ((v8 & 0x1FFF) == 0x10A || (v8 & 0x1FFF) == 4)
                          return 0;
                        return v8;
                      }
                    }
                  }
                }
              }
            }
          }
        }
        return v28;
      }
    }
  }
  return v8;
}

uint64_t fe_oneword_ClassOpen(_WORD *a1, uint64_t a2, uint64_t a3)
{
  uint64_t result;
  uint64_t v7;

  v7 = 0;
  if (!a3)
    return 2310021127;
  *(_QWORD *)a3 = 0;
  *(_DWORD *)(a3 + 8) = 0;
  result = InitRsrcFunction(a1, a2, &v7);
  if ((result & 0x80000000) == 0)
  {
    *(_QWORD *)a3 = a1;
    *(_QWORD *)(a3 + 8) = a2;
  }
  return result;
}

uint64_t fe_oneword_ClassClose()
{
  return 0;
}

uint64_t fe_oneword_ResourceLoad(_QWORD *a1, int a2, char *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  _BOOL4 v18;
  uint64_t v19;
  _BOOL8 v20;
  char *v22;
  unsigned int v23;
  uint64_t v24;
  uint64_t v25;
  unsigned int v26;
  unsigned int v27;
  uint64_t v28;
  uint64_t v29;

  v28 = 0;
  v29 = 0;
  v27 = 0;
  v13 = 2310021127;
  if ((safeh_HandleCheck((uint64_t)a1, a2, 62340, 2288) & 0x80000000) != 0)
    return 2310021128;
  *(_QWORD *)a7 = 0;
  *(_DWORD *)(a7 + 8) = 0;
  if (!a3)
    goto LABEL_14;
  if (a4)
  {
    v18 = a6 != 0;
    if (a5 || !(_DWORD)a6)
    {
      if (!a5)
        goto LABEL_16;
      goto LABEL_12;
    }
LABEL_14:
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 40001, 0, v14, v15, v16, v17, v26);
    return v13;
  }
  if (!a5 || !(_DWORD)a6)
    goto LABEL_14;
  v18 = 1;
LABEL_12:
  if (v18)
  {
    v19 = 0;
    LODWORD(v20) = 0;
    v28 = a5;
    v27 = a6;
LABEL_19:
    v24 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(a1[10] + 224))(a1[8], a1[9], a5, a6, v19, a7, a4);
    goto LABEL_20;
  }
LABEL_16:
  v22 = strstr(a3, ";loader=broker");
  v20 = v22 != 0;
  v23 = brk_DataOpenEx(*(_QWORD *)(*a1 + 24), a4, v20, (uint64_t)&v29);
  if ((v23 & 0x80000000) != 0)
  {
    if (v22)
      v13 = 0;
    else
      v13 = v23;
    if ((v13 & 0x80000000) == 0)
      return v13;
    goto LABEL_26;
  }
  v24 = brk_DataMapEx(*(_QWORD *)(*a1 + 24), v29, 0, (uint64_t)&v27, (uint64_t)&v28);
  if ((v24 & 0x80000000) == 0)
  {
    a5 = v28;
    v19 = v29;
    a6 = v27;
    goto LABEL_19;
  }
LABEL_20:
  v13 = v24;
  if ((v24 & 0x80000000) == 0)
    return v13;
LABEL_26:
  if (v20)
  {
    v25 = v29;
    if (v29)
    {
      if (v28)
      {
        brk_DataUnmap(*(_QWORD *)(*a1 + 24), v29, v28);
        v28 = 0;
        v25 = v29;
      }
      brk_DataClose(*(_QWORD *)(*a1 + 24), v25);
    }
  }
  return v13;
}

uint64_t oneword_Lid(_QWORD *a1, _DWORD *a2)
{
  const char *v4;
  unsigned __int16 v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  unsigned __int16 v9;
  int v10;
  unsigned int v11;
  unsigned int v12;
  unsigned int v13;
  uint64_t v14;
  uint64_t v15;
  char v16;
  char v17;
  uint64_t v18;
  uint64_t v19;
  const char *v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  char v24;
  char v25;
  uint64_t v27;
  char v28;
  __int16 v29;
  uint64_t v30;
  char v31;
  char v32;
  char v33;
  char v34;

  v30 = 0;
  v29 = -1;
  v28 = 0;
  v4 = (const char *)a1[20];
  v5 = strlen(v4);
  v9 = v5;
  v10 = v5;
  if (!v5)
  {
    v18 = 0;
LABEL_18:
    if (*((_DWORD *)a1 + 233))
    {
      *a2 = 1;
      v19 = *(_QWORD *)(*a1 + 32);
      v20 = "LID found ENX context";
    }
    else
    {
      if (v10)
      {
        v21 = 0;
        v22 = (v10 - 1);
        do
        {
          v23 = a1[20];
          v24 = v21 ? *(_BYTE *)(v23 + (v21 - 1)) : 95;
          v31 = v24;
          v32 = *(_BYTE *)(v23 + v21);
          v25 = v22 == v21 ? 95 : *(_BYTE *)(v23 + v21 + 1);
          v33 = v25;
          v34 = 0;
          v18 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t *, __int16 *, char *))(a1[10] + 96))(a1[8], a1[9], "lidenx", &v31, &v30, &v29, &v28);
          if ((v18 & 0x80000000) != 0)
            return v18;
          if (v29)
          {
            *a2 = 1;
            log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"LID found ENX trigram", v6, v7, v8, v27);
            goto LABEL_22;
          }
        }
        while (v9 != ++v21);
      }
      *a2 = 0;
      v19 = *(_QWORD *)(*a1 + 32);
      v20 = "LID default to LNG";
    }
    log_OutText(v19, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)v20, v6, v7, v8, v27);
    return v18;
  }
  v11 = 0;
  v12 = v5;
  do
  {
    v13 = v4[v11];
    if (v13 >= 0x7B)
    {
      *a2 = 0;
      log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"LID found diacritic", v6, v7, v8, v27);
      v18 = 0;
LABEL_37:
      *((_DWORD *)a1 + 233) = 0;
      return v18;
    }
    if (strchr((char *)a1 + 944, v13))
    {
      *a2 = 1;
      log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"LID found ENX character", v6, v7, v8, v27);
      v18 = 0;
LABEL_22:
      *((_DWORD *)a1 + 233) = 1;
      return v18;
    }
    ++v11;
  }
  while (v11 < v12);
  v14 = 0;
  while (1)
  {
    v15 = a1[20];
    v16 = v14 ? *(_BYTE *)(v15 + (v14 - 1)) : 95;
    v31 = v16;
    v32 = *(_BYTE *)(v15 + v14);
    v17 = v10 - 1 == v14 ? 95 : *(_BYTE *)(v15 + v14 + 1);
    v33 = v17;
    v34 = 0;
    v18 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t *, __int16 *, char *))(a1[10] + 96))(a1[8], a1[9], "lidlng", &v31, &v30, &v29, &v28);
    if ((v18 & 0x80000000) != 0)
      return v18;
    if (v29)
    {
      *a2 = 0;
      log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"LID found LNG trigram", v6, v7, v8, v27);
      goto LABEL_37;
    }
    if (v9 == ++v14)
      goto LABEL_18;
  }
}

uint64_t oneword_NonDctDpsMde(_QWORD *a1, unsigned int a2, uint64_t a3, const char *a4, uint64_t a5, unsigned __int16 *a6, uint64_t a7, uint64_t a8)
{
  uint64_t v11;
  unsigned __int16 v16;
  uint64_t result;
  int v18;
  unsigned int v19;
  int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  BOOL v24;
  const char *v26;
  char v27;
  unsigned __int16 v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  __int16 v32;
  char *v33;
  char *v34;
  __int16 v35;
  int v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  unsigned __int16 *v40;
  __int16 v41;
  unsigned __int16 v42;
  int v43;
  char *v44;
  int v45;
  int v46;
  unsigned __int16 v47;
  char __s[128];
  uint64_t v49;

  v11 = a5;
  v49 = *MEMORY[0x1E0C80C00];
  v47 = a5;
  v45 = 0;
  v46 = 0;
  v44 = 0;
  v43 = 0;
  v42 = 0;
  strcpy(__s, "nondctbased_mde");
  v16 = strlen(__s);
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, int *, int *))(a1[7] + 168))(a7, a8, v11, 0, 1, &v46, &v45);
  if ((result & 0x80000000) == 0)
  {
    if ((_DWORD)v11)
    {
      v40 = a6;
      v18 = v46;
      if (v46 != 3)
      {
        v19 = a2 + 128;
        v37 = v16;
        v38 = v16 + 2;
        v39 = a3 - a2;
        v20 = 1;
        while (1)
        {
          if (!v18)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1[7] + 168))(a7, a8, (unsigned __int16)v11, 1, 1, &v43, &v45);
            if ((result & 0x80000000) != 0)
              return result;
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(a1[7] + 168))(a7, a8, v47, 2, 1, &v42, &v45);
            if ((result & 0x80000000) != 0)
              return result;
            v24 = (unsigned __int16)v43 + 1 < v42 && v19 > (unsigned __int16)v43;
            if (v24 && v19 > v42)
            {
              v26 = (const char *)(v39 + (unsigned __int16)v43);
              v27 = *(_BYTE *)(v39 + v42);
              *(_BYTE *)(v39 + v42) = 0;
              log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v21, v22, v23, (uint64_t)__s);
              v28 = strlen(v26);
              result = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, const char *, _QWORD))(a1[13] + 120))(a1[11], a1[12], 0, v26, v28);
              if ((result & 0x80000000) != 0)
                return result;
              *(_BYTE *)(v39 + v42) = v27;
              if (strcmp(a4, "normal") && v38 + strlen(a4) <= 0x7F)
              {
                __strcat_chk();
                __strcat_chk();
              }
              if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(a1[13] + 80))(a1[11], a1[12], __s) & 0x80000000) != 0)
              {
                __s[v37] = 0;
                if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(a1[13] + 80))(a1[11], a1[12], __s) & 0x80000000) != 0)
                  return 0;
              }
              result = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, char *))(a1[13] + 128))(a1[11], a1[12], 0, &v44, (char *)&v43 + 2);
              if ((result & 0x80000000) != 0)
                return result;
              v44[HIWORD(v43)] = 0;
              log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v29, v30, v31, (uint64_t)__s);
              v32 = (__int16)v44;
              v33 = strchr(v44, 43);
              if (v33)
                break;
            }
          }
LABEL_15:
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1[7] + 120))(a7, a8, v47, &v47);
          if ((result & 0x80000000) == 0)
          {
            if (v47)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a7, a8);
              if ((result & 0x80000000) == 0)
              {
                LOWORD(v11) = v47;
                if (v47)
                {
                  v18 = v46;
                  if (v46 != 3)
                    continue;
                }
              }
            }
          }
          return result;
        }
        v34 = v33;
        v35 = v43;
        v36 = v20;
        while (1)
        {
          v41 = v35 + (_WORD)v34 - v32;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, char *))(a1[7] + 160))(a7, a8, v47, 2, 1, &v41, (char *)&v45 + 2);
          if ((result & 0x80000000) != 0)
            break;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1[7] + 80))(a7, a8, v47, &v47);
          if ((result & 0x80000000) != 0)
            break;
          v46 = 0;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(a1[7] + 160))(a7, a8, v47, 0, 1, &v46, (char *)&v45 + 2);
          if ((result & 0x80000000) != 0)
            break;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, char *))(a1[7] + 160))(a7, a8, v47, 1, 1, &v41, (char *)&v45 + 2);
          if ((result & 0x80000000) != 0)
            break;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(a1[7] + 160))(a7, a8, v47, 2, 1, &v42, (char *)&v45 + 2);
          if ((result & 0x80000000) != 0)
            break;
          v35 = v41;
          LOWORD(v43) = v41;
          if (v36)
            *v40 = v47;
          v32 = (_WORD)v34 + 1;
          v44 = v34 + 1;
          v34 = strchr(v34 + 1, 43);
          v36 = 0;
          v20 = 0;
          if (!v34)
            goto LABEL_15;
        }
      }
    }
  }
  return result;
}

uint64_t oneword_DpsMde(_QWORD *a1, const char *a2, const char *a3, uint64_t a4, const char *a5, __int16 a6, unsigned __int16 a7, uint64_t a8, uint64_t a9, uint64_t a10, _WORD *a11)
{
  unsigned __int16 v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  unsigned __int16 v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unsigned __int16 v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  char *v30;
  char *v31;
  char *v32;
  unsigned __int8 v33;
  char *v34;
  uint64_t v35;
  char *v36;
  char *v37;
  unint64_t v38;
  const char *v39;
  const char **v40;
  const char **v41;
  const char *v42;
  const char *v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  char *v48;
  char *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  char *v54;
  char *v55;
  char *v56;
  const char *v57;
  char *v58;
  const char *v59;
  char *v60;
  char *v61;
  const char *v62;
  char *v63;
  char *v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  size_t v69;
  size_t v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  const char *v76;
  int v77;
  char *v78;
  const char *v79;
  __int16 v80;
  uint64_t v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  const char *v85;
  const char *v86;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  const char *v91;
  __int16 v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  char *v97;
  uint64_t v99;
  char v100;
  unint64_t v101;
  char *v102;
  char *v103;
  char *__s2;
  uint64_t v105;
  const char *v106;
  uint64_t v107;
  unsigned __int16 v108;
  char *__dst;
  char *v110;
  __int16 v111;
  __int16 v112;
  int v113;
  _BYTE __c[15];
  unsigned __int16 v115;
  __int16 v116;
  _OWORD v117[5];
  _QWORD v118[10];
  _QWORD v119[10];
  _QWORD v120[11];
  char __s[128];
  uint64_t v122;

  v122 = *MEMORY[0x1E0C80C00];
  v116 = a6;
  v115 = a7;
  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = 0;
  __c[0] = 0;
  v113 = 8;
  v112 = 0;
  v111 = 1;
  __dst = 0;
  v110 = 0;
  v108 = 0;
  strcpy(__s, "dctbased_mde");
  v16 = strlen(__s);
  log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v17, v18, v19, (uint64_t)__s);
  v20 = strlen(a2);
  v21 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, const char *, _QWORD))(a1[13] + 120))(a1[11], a1[12], 0, a2, v20);
  if ((v21 & 0x80000000) != 0)
    return v21;
  log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L2: %s", v22, v23, v24, (uint64_t)__s);
  v25 = strlen(a3);
  v21 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, const char *, _QWORD))(a1[13] + 120))(a1[11], a1[12], 1, a3, v25);
  if ((v21 & 0x80000000) != 0)
    return v21;
  if (strcmp(a5, "normal") && strlen(a5) + v16 + 2 <= 0x7F)
  {
    __strcat_chk();
    __strcat_chk();
  }
  if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(a1[13] + 80))(a1[11], a1[12], __s) & 0x80000000) != 0)
  {
    __s[v16] = 0;
    if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(a1[13] + 80))(a1[11], a1[12], __s) & 0x80000000) != 0)
      return 0;
  }
  v21 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, unsigned __int16 *))(a1[13] + 128))(a1[11], a1[12], 0, &v110, &v108);
  if ((v21 & 0x80000000) != 0)
    return v21;
  v110[v108] = 0;
  log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v26, v27, v28, (uint64_t)__s);
  v29 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, char **, unsigned __int16 *))(a1[13] + 128))(a1[11], a1[12], 1, &__dst, &v108);
  if ((v29 & 0x80000000) == 0)
  {
    __s2 = (char *)a5;
    memset(v120, 0, 80);
    memset(v118, 0, sizeof(v118));
    memset(v119, 0, sizeof(v119));
    memset(v117, 0, sizeof(v117));
    v30 = v110;
    if (*v110 == 123)
    {
      *v110 = 0;
      v120[0] = v30 + 1;
      v120[1] = "0";
      v119[0] = "0";
      v119[1] = v30 + 1;
      v31 = strchr(v110 + 1, 125);
      if (v31)
      {
        *v31 = 0;
        v30 = v31 + 1;
        v32 = strchr(v31 + 1, 123);
        v105 = 2;
        if (!v32)
        {
          v33 = 0;
LABEL_21:
          v100 = 1;
LABEL_24:
          v107 = 0;
          v38 = v33;
          v101 = v33;
          v103 = (char *)a3;
          while (!(_DWORD)v38)
          {
LABEL_37:
            ++v107;
            v38 = v101;
            if (v107 == v105)
              return v29;
          }
          v39 = (const char *)v119[v107];
          v40 = (const char **)v117;
          v41 = (const char **)v118;
          while (1)
          {
            if (strcmp(v39, "0") || strcmp(*v40, "0"))
            {
              v42 = (const char *)v120[v107];
              if (!strcmp(v42, "0"))
              {
                strcpy(__dst, v30);
              }
              else
              {
                strcpy(__dst, v42);
                strcat(__dst, v30);
              }
              v43 = *v41;
              if (strcmp(*v41, "0"))
                strcat(__dst, v43);
              log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P look up %s", v44, v45, v46, (uint64_t)__dst);
              v29 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, char *, _BYTE *, _BYTE *, _BYTE *, _QWORD))(a1[10] + 152))(a1[8], a1[9], a4, __dst, &__c[3], &__c[1], __c, *((unsigned __int8 *)a1 + 556));
              if ((v29 & 0x80000000) != 0)
                return v29;
              if (*(_WORD *)&__c[1])
                break;
            }
            ++v40;
            ++v41;
            if (!--v38)
              goto LABEL_37;
          }
          v47 = 0;
          v102 = 0;
          while (1)
          {
            v48 = *(char **)(*(_QWORD *)&__c[3] + 8 * v47);
            v49 = strchr(v48, __c[0]);
            if (!v49)
              break;
            *v49 = 0;
            v54 = strchr(v49 + 1, __c[0]);
            v55 = v54;
            if (!v54)
              goto LABEL_50;
            *v54 = 0;
            v55 = v54 + 1;
            v56 = strchr(v54 + 1, __c[0]);
            v57 = v56;
            if (!v56)
              goto LABEL_51;
            *v56 = 0;
            v57 = v56 + 1;
            v58 = strchr(v56 + 1, __c[0]);
            v59 = v58;
            if (!v58)
              goto LABEL_52;
            *v58 = 0;
            v59 = v58 + 1;
            v60 = strchr(v58 + 1, __c[0]);
            if (!v60)
              goto LABEL_52;
            *v60 = 0;
            v106 = v60 + 1;
            v61 = strchr(v60 + 1, __c[0]);
            v62 = v61;
            if (v61)
            {
              *v61 = 0;
              v62 = v61 + 1;
              v63 = strchr(v61 + 1, __c[0]);
              if (v63)
              {
                *v63 = 0;
                v102 = v63 + 1;
                v64 = strchr(v63 + 1, __c[0]);
                if (v64)
                  *v64 = 0;
              }
            }
LABEL_53:
            v65 = *(_QWORD *)(*a1 + 32);
            if (!v48)
            {
              v29 = 2310021127;
              log_OutPublic(v65, (uint64_t)"FE_ONEWORD", 34001, 0, v50, v51, v52, v53, v99);
              return v29;
            }
            log_OutText(v65, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P Validating %s", v51, v52, v53, (uint64_t)v48);
            if (v55 && *v55 && !strstr(v55, __s2))
            {
              v86 = "G2P Domain validation not OK";
              goto LABEL_77;
            }
            if (v62 && !strcmp(v62, "0"))
            {
              v86 = "G2P MDE usage validation not OK";
LABEL_77:
              log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)v86, v66, v67, v68, v99);
              goto LABEL_93;
            }
            *a11 = v116 + strlen(v103);
            v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1[7] + 88))(a9, a10, v115, &v115);
            if ((v21 & 0x80000000) != 0)
              return v21;
            v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, __int16 *))(a1[7] + 160))(a9, a10, v115, 0, 1, &v113, &v112);
            if ((v21 & 0x80000000) != 0)
              return v21;
            v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a1[7] + 160))(a9, a10, v115, 1, 1, &v116, &v112);
            if ((v21 & 0x80000000) != 0)
              return v21;
            v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, _WORD *, __int16 *))(a1[7] + 160))(a9, a10, v115, 2, 1, a11, &v112);
            if ((v21 & 0x80000000) != 0)
              return v21;
            if ((v100 & 1) == 0)
            {
              v69 = strlen(v48);
              v70 = strlen(v32);
              if (v70 + v69 - 124 <= 0xFFFFFFFFFFFFFF7ELL)
              {
                v71 = heap_Realloc(*(uint64_t **)(*a1 + 8), a1[30], (v70 + v69 + 5));
                if (!v71)
                {
                  log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v72, v73, v74, v75, v99);
                  return 2310021130;
                }
                a1[30] = v71;
              }
            }
            v76 = (const char *)v119[v107];
            v77 = strcmp(v76, "0");
            v78 = (char *)a1[30];
            if (v77)
            {
              strcpy(v78, v76);
              v78 = (char *)(a1[30] + strlen((const char *)a1[30]));
            }
            *(_DWORD *)v78 = 8689634;
            strcat((char *)a1[30], v48);
            *(_DWORD *)(a1[30] + strlen((const char *)a1[30])) = 8689634;
            v79 = *v40;
            if (strcmp(*v40, "0"))
              strcat((char *)a1[30], v79);
            v80 = strlen((const char *)a1[30]);
            v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(a1[7] + 160))(a9, a10, v115, 3, (unsigned __int16)(v80 + 1), a1[30], &v112);
            if ((v21 & 0x80000000) != 0)
              return v21;
            if (v57)
            {
              if (*v57)
              {
                v81 = (unsigned __int16)(strlen(v57) + 1);
                v82 = a9;
                v83 = a10;
                v84 = v115;
                v85 = v57;
              }
              else
              {
                v82 = a9;
                v83 = a10;
                v84 = v115;
                v81 = 2;
                v85 = "*";
              }
              v21 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const char *, __int16 *))(a1[7] + 160))(v82, v83, v84, 5, v81, v85, &v112);
              if ((v21 & 0x80000000) != 0)
                return v21;
            }
            if (v59)
            {
              if (*v59)
              {
                v87 = (unsigned __int16)(strlen(v59) + 1);
                v88 = a9;
                v89 = a10;
                v90 = v115;
                v91 = v59;
              }
              else
              {
                v88 = a9;
                v89 = a10;
                v90 = v115;
                v87 = 2;
                v91 = "*";
              }
              v21 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const char *, __int16 *))(a1[7] + 160))(v88, v89, v90, 6, v87, v91, &v112);
              if ((v21 & 0x80000000) != 0)
                return v21;
            }
            v92 = v106 ? (unsigned __int16)LH_atou(v106) : 1;
            v111 = v92;
            v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a1[7] + 160))(a9, a10, v115, 7, 1, &v111, &v112);
            if ((v21 & 0x80000000) != 0)
              return v21;
            if (v102)
            {
              v93 = (unsigned __int16)(strlen(v102) + 1);
              v94 = a9;
              v95 = a10;
              v96 = v115;
              v97 = v102;
            }
            else
            {
              v94 = a9;
              v95 = a10;
              v96 = v115;
              v93 = 1;
              v97 = &byte_1DEBD87CE;
            }
            v29 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, __int16 *))(a1[7] + 160))(v94, v95, v96, 9, v93, v97, &v112);
            if ((v29 & 0x80000000) != 0)
              return v29;
LABEL_93:
            if (++v47 >= (unint64_t)*(unsigned __int16 *)&__c[1])
              return v29;
          }
          v55 = 0;
LABEL_50:
          v57 = 0;
LABEL_51:
          v59 = 0;
LABEL_52:
          v106 = 0;
          v62 = 0;
          goto LABEL_53;
        }
LABEL_16:
        v33 = 0;
        while (*v32 != 125)
        {
          v35 = v33;
          v118[v33] = v32 + 1;
          *v32 = 0;
          v36 = strchr(v32 + 1, 43);
          if (!v36)
            return v29;
          ++v33;
          *v36 = 0;
          v37 = v36 + 1;
          *((_QWORD *)v117 + v35) = v37;
          v32 = strchr(v37, 44);
          if (!v32)
          {
            v32 = strchr(*((char **)v117 + v33 - 1), 125);
            if (!v32)
              goto LABEL_21;
          }
        }
        v100 = 0;
        *v32 = 0;
        goto LABEL_24;
      }
    }
    else
    {
      v120[0] = "0";
      v119[0] = "0";
      v34 = strchr(v110, 123);
      if (v34)
      {
        v32 = v34;
        v105 = 1;
        goto LABEL_16;
      }
    }
  }
  return v29;
}

uint64_t crf_mde_seg_get_broker_string(uint64_t a1, char **a2, char **a3)
{
  uint64_t Str;
  char *v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  size_t v13;
  char *v14;
  unsigned int v16;
  char *v17;
  char *__s;
  _OWORD v19[8];
  uint64_t v20;

  v20 = *MEMORY[0x1E0C80C00];
  v17 = &byte_1DEBD87CE;
  __s = 0;
  memset(v19, 0, sizeof(v19));
  Str = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", &__s);
  if ((Str & 0x80000000) != 0)
    return Str;
  Str = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"fecfg", &v17);
  if ((Str & 0x80000000) != 0)
    return Str;
  __strcat_chk();
  __strcat_chk();
  __strcat_chk();
  __strcat_chk();
  v7 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 1024);
  *a2 = v7;
  if (v7
    && (v12 = brokeraux_ComposeBrokerString(a1, (const char *)v19, 1, 1, __s, 0, 0, v7, 0x400uLL),
        v13 = strlen(__s),
        v14 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v13 + 1),
        (*a3 = v14) != 0))
  {
    strcpy(v14, __s);
  }
  else
  {
    v12 = 2310021130;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v8, v9, v10, v11, v16);
  }
  return v12;
}

uint64_t getUmlautMap(uint64_t a1, char *__s, uint64_t *a3, unsigned __int16 *a4)
{
  char *v6;
  char *v8;
  unsigned __int16 i;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t j;
  char *v17;
  char *v18;
  char *v19;
  const char *v20;
  size_t v21;
  char *v22;
  size_t v23;
  char *v24;
  BOOL v25;
  uint64_t v26;
  unsigned int v28;

  v6 = __s;
  v8 = strchr(__s, 44);
  for (i = 1; v8; v8 = strchr(v8 + 1, 44))
    ++i;
  v10 = 16 * i;
  v11 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v10);
  *a3 = v11;
  if (v11)
  {
    if (i)
    {
      for (j = 0; v10 != j; j += 16)
      {
        v17 = strchr(v6, 44);
        v18 = v17;
        if (v17)
          *v17 = 0;
        v19 = strchr(v6, 59);
        if (v19)
        {
          *v19 = 0;
          v20 = v19 + 1;
          v21 = strlen(v6);
          *(_QWORD *)(*a3 + j) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v21 + 1);
          v22 = *(char **)(*a3 + j);
          if (!v22)
            goto LABEL_18;
          strcpy(v22, v6);
          v23 = strlen(v20);
          *(_QWORD *)(*a3 + j + 8) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v23 + 1);
          v24 = *(char **)(*a3 + j + 8);
          if (!v24)
            goto LABEL_18;
          strcpy(v24, v20);
          if (v18)
            v25 = (_DWORD)v10 - 16 == (_DWORD)j;
          else
            v25 = 1;
          if (!v25)
            v6 = v18 + 1;
        }
      }
    }
    v26 = 0;
    *a4 = i;
  }
  else
  {
LABEL_18:
    v26 = 2310021130;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v12, v13, v14, v15, v28);
  }
  return v26;
}

uint64_t crf_mde_seg_load(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, _DWORD *a11)
{
  uint64_t *v17;
  uint64_t broker_string;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t fecfgparam_string;
  char *v23;
  uint64_t UmlautMap;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  int v29;
  const char *v30;
  uint64_t v31;
  uint64_t v32;
  int v34;
  const char *v35;
  uint64_t v36;
  _QWORD *v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  _QWORD *v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  _QWORD *v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  _QWORD *v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  char *__s;
  int v60;
  char *v61;

  v61 = 0;
  v60 = 0;
  __s = 0;
  *(_DWORD *)(a10 + 144) = log_GetLogLevel(*(_QWORD *)(a5 + 32)) > 4;
  *a11 = 0;
  v17 = (uint64_t *)(a10 + 32);
  broker_string = crf_mde_seg_get_broker_string(a5, (char **)(a10 + 32), &v61);
  if ((broker_string & 0x80000000) != 0)
    goto LABEL_16;
  if ((crf_Init_ReadOnly_ReferenceCnt(a1, a2, a3, a4, (_QWORD *)(a10 + 40), 2, *(_QWORD *)(a10 + 32), (uint64_t)"CRPH", 1031, 0, (uint64_t)crf_set_nbest_callback) & 0x80000000) != 0)
  {
    log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"no CRF MDE model found", v19, v20, v21, *v17);
    v31 = 0;
    goto LABEL_18;
  }
  broker_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mdesegsep", (char **)(a10 + 64), 0, "STR");
  if ((broker_string & 0x80000000) != 0
    || (broker_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"orthtrigger", (char **)(a10 + 72), 0, "STR"), (broker_string & 0x80000000) != 0)|| (broker_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mdemorphesep", (char **)(a10 + 80), 0, "STR"), (broker_string & 0x80000000) != 0)
    || (broker_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mdesegbypassonewordcrosstoken", 0, (_DWORD *)(a10 + 52), "BOOL"), (broker_string & 0x80000000) != 0)|| (broker_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mdesegpostsegdictlookup", 0, (_DWORD *)(a10 + 56), "BOOL"), (broker_string & 0x80000000) != 0)
    || (broker_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mdeskipwordswiththischar", (char **)(a10 + 88), 0, "STR"), (broker_string & 0x80000000) != 0))
  {
LABEL_16:
    v31 = broker_string;
    goto LABEL_18;
  }
  fecfgparam_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mdesegumlautmap", &__s, 0, "STR");
  v23 = __s;
  if ((fecfgparam_string & 0x80000000) != 0)
    goto LABEL_55;
  if (!__s
    || (UmlautMap = getUmlautMap(a5, __s, (uint64_t *)(a10 + 96), (unsigned __int16 *)(a10 + 104)),
        (UmlautMap & 0x80000000) == 0))
  {
    fecfgparam_string = crf_mde_seg_parse_params(a5, *(_QWORD *)(a10 + 40), a10);
    if ((fecfgparam_string & 0x80000000) != 0)
      goto LABEL_55;
    v29 = *(_DWORD *)(a10 + 12);
    if (v29 == 1)
    {
      v30 = "SEG_Char";
    }
    else
    {
      if (v29 != 2)
      {
        v31 = 2310021127;
        v36 = *(_QWORD *)(a5 + 32);
        goto LABEL_41;
      }
      v30 = "SEG_Morpheme";
    }
    log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"set mde param, type: %s", v26, v27, v28, (uint64_t)v30);
    v34 = *(_DWORD *)(a10 + 16);
    if (v34 == 1)
    {
      v35 = "ANN_BI";
LABEL_34:
      log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"set mde param, type: %s", v26, v27, v28, (uint64_t)v35);
      *(_DWORD *)(a10 + 48) = 1;
      *a11 = 1;
      v37 = (_QWORD *)(a10 + 112);
      fecfgparam_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mde_tag_mappings_dic", (char **)(a10 + 112), 0, "STR");
      if ((fecfgparam_string & 0x80000000) == 0)
      {
        if (*v37)
        {
          fecfgparam_string = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a9 + 72))(a7, a8, *v37, &v60);
          if ((fecfgparam_string & 0x80000000) != 0)
            goto LABEL_55;
          if (*v37 && !v60)
          {
            v31 = 2310021127;
            log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_ONEWORD", 34009, "%s%s", v38, v39, v40, v41, "message");
            goto LABEL_56;
          }
        }
        v42 = (_QWORD *)(a10 + 120);
        fecfgparam_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mde_morpheme_dic", (char **)(a10 + 120), 0, "STR");
        if ((fecfgparam_string & 0x80000000) == 0)
        {
          if (*v42)
          {
            fecfgparam_string = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a9 + 72))(a7, a8, *v42, &v60);
            if ((fecfgparam_string & 0x80000000) != 0)
              goto LABEL_55;
            if (*v42 && !v60)
            {
              v31 = 2310021127;
              log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_ONEWORD", 34010, "%s%s", v43, v44, v45, v46, "message");
              goto LABEL_56;
            }
          }
          v47 = (_QWORD *)(a10 + 128);
          fecfgparam_string = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mde_affix_dic", (char **)(a10 + 128), 0, "STR");
          if ((fecfgparam_string & 0x80000000) == 0)
          {
            if (!*v47)
            {
LABEL_58:
              v52 = (_QWORD *)(a10 + 136);
              v31 = crf_mde_seg_get_fecfgparam_string(a5, a7, a8, a9, (uint64_t)"mde_seg_patterns_dic", (char **)(a10 + 136), 0, "STR");
              if ((v31 & 0x80000000) == 0)
              {
                if (*v52)
                {
                  v31 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a9 + 72))(a7, a8, *v52, &v60);
                  if ((v31 & 0x80000000) == 0 && *v52 && !v60)
                  {
                    v31 = 2310021127;
                    log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_ONEWORD", 34012, "%s%s", v53, v54, v55, v56, "message");
                  }
                }
              }
LABEL_56:
              if (!v23)
                goto LABEL_18;
              goto LABEL_57;
            }
            fecfgparam_string = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a9 + 72))(a7, a8, *v47, &v60);
            if ((fecfgparam_string & 0x80000000) == 0)
            {
              if (*v47 && !v60)
              {
                v31 = 2310021127;
                log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_ONEWORD", 34011, "%s%s", v48, v49, v50, v51, "message");
                goto LABEL_56;
              }
              goto LABEL_58;
            }
          }
        }
      }
LABEL_55:
      v31 = fecfgparam_string;
      goto LABEL_56;
    }
    if (v34 == 2)
    {
      v35 = "ANN_BMES";
      goto LABEL_34;
    }
    v31 = 2310021127;
    v36 = *(_QWORD *)(a5 + 32);
LABEL_41:
    log_OutPublic(v36, (uint64_t)"FE_ONEWORD", 34006, "%s%s", v25, v26, v27, v28, "message");
    goto LABEL_56;
  }
  v31 = UmlautMap;
LABEL_57:
  heap_Free(*(_QWORD **)(a5 + 8), (uint64_t)v23);
LABEL_18:
  if (*v17)
  {
    heap_Free(*(_QWORD **)(a5 + 8), *v17);
    *v17 = 0;
  }
  if (v61)
    heap_Free(*(_QWORD **)(a5 + 8), (uint64_t)v61);
  if ((v31 & 0x80000000) != 0 && *(_DWORD *)(a10 + 48) == 1)
  {
    v32 = *(_QWORD *)(a10 + 40);
    if (v32)
    {
      crf_Deinit_ReadOnly_DereferenceCnt(a5, a6, v32);
      *(_QWORD *)(a10 + 40) = 0;
    }
  }
  return v31;
}

uint64_t crf_set_nbest_callback(_QWORD *a1, uint64_t a2, _DWORD *a3)
{
  uint64_t result;
  __int128 v6;
  __int128 v7;

  v6 = 0u;
  v7 = 0u;
  result = crf_mde_seg_parse_params((uint64_t)a1, a2, (uint64_t)&v6);
  if ((result & 0x80000000) == 0)
  {
    if (a3)
      *a3 = DWORD1(v7);
    crf_free_conf(a1, (uint64_t)&v6);
    return 0;
  }
  return result;
}

uint64_t crf_mde_seg_get_fecfgparam_string(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, char **a6, _DWORD *a7, char *__s1)
{
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  char *v22;
  int v23;
  char *v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unsigned int v29;
  _BYTE __c[11];

  *(_WORD *)&__c[1] = -1;
  if (!strcmp(__s1, "BOOL"))
    *a7 = 0;
  if (!strcmp(__s1, "STR"))
    *a6 = 0;
  *(_QWORD *)&__c[3] = 0;
  __c[0] = 0;
  v16 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, uint64_t, _BYTE *, _BYTE *, _BYTE *))(a4 + 96))(a2, a3, "fecfg", a5, &__c[3], &__c[1], __c);
  if ((v16 & 0x80001FFF) == 0x8000000A)
  {
LABEL_6:
    v21 = 2310021130;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v17, v18, v19, v20, v29);
    return v21;
  }
  v21 = v16;
  if ((v16 & 0x80000000) != 0)
    return 0;
  if (*(_WORD *)&__c[1])
  {
    v22 = strchr(**(char ***)&__c[3], __c[0]);
    if (v22)
      *v22 = 0;
    if (!strcmp(__s1, "STR"))
    {
      v23 = strlen(**(const char ***)&__c[3]);
      v24 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v23 + 1));
      *a6 = v24;
      if (v24)
      {
        strcpy(v24, **(const char ***)&__c[3]);
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"set mde seg param %s = %s", v25, v26, v27, a5);
        return v21;
      }
      goto LABEL_6;
    }
    if (!strcmp(__s1, "BOOL"))
    {
      *a7 = 0;
      *a7 = strcmp(**(const char ***)&__c[3], "1") == 0;
    }
  }
  return v21;
}

uint64_t crf_mde_seg_parse_params(uint64_t a1, uint64_t a2, uint64_t a3)
{
  _WORD *v3;
  unint64_t v6;
  uint64_t v7;
  const char *v8;
  char *v9;
  uint64_t v10;
  uint64_t v11;
  unsigned __int16 v12;
  int v13;
  unsigned __int16 v14;
  _BOOL4 v15;
  uint64_t result;
  int v17;
  BOOL v18;
  const char *v19;
  unsigned int v20;
  unsigned int v21;
  unsigned __int8 v22;
  _BOOL4 v23;
  uint64_t v24;
  const char *v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  int v31;
  unsigned int v32;
  unsigned int v33;
  unsigned int v34;
  uint64_t v35;
  int v36;
  unsigned int v37;
  uint64_t v38;
  const char *v39;
  unsigned __int16 v40;
  char *v41;
  uint64_t v42;
  uint64_t v43;
  unsigned __int16 v44;
  int v45;
  uint64_t v46;
  uint64_t v47;
  unsigned __int16 v48;
  _BOOL4 v49;
  int v50;
  _BYTE *v51;
  unsigned int v52;
  uint64_t v53;
  char **v54;
  int *v55;
  int *v56;
  int *v57;

  *(_WORD *)(a3 + 10) = 0;
  v3 = (_WORD *)(a3 + 10);
  *(_DWORD *)(a3 + 12) = 0;
  v57 = (int *)(a3 + 12);
  *(_DWORD *)(a3 + 16) = 0;
  v56 = (int *)(a3 + 16);
  *(_DWORD *)(a3 + 20) = 1;
  v55 = (int *)(a3 + 20);
  if (!*(_DWORD *)(a2 + 40))
    return 0;
  v6 = 0;
  v53 = a2;
  v54 = (char **)(a3 + 24);
  while (1)
  {
    v7 = *(_QWORD *)(a2 + 32);
    v8 = *(const char **)(v7 + 16 * v6);
    if (!strcmp(v8, "features"))
      break;
    if (!strcmp(v8, "settings"))
    {
      v39 = *(const char **)(v7 + 16 * v6 + 8);
      v40 = strlen(v39);
      v41 = (char *)heap_Alloc(*(_QWORD *)(a1 + 8), v40 + 1);
      if (!v41)
        goto LABEL_77;
      v42 = (uint64_t)v41;
      strcpy(v41, v39);
      if (v40)
      {
        v43 = 0;
        v44 = 0;
        v45 = 0;
        v46 = v40;
        v47 = -(uint64_t)v40;
        v48 = 0;
LABEL_46:
        v49 = 0;
        while (2)
        {
          ++v43;
          while (v49)
          {
            if (*(_BYTE *)(v42 + v43 - 1) != 32)
            {
              v49 = 1;
              goto LABEL_57;
            }
            *(_BYTE *)(v42 + v43 - 1) = 0;
            if (!v45)
            {
              v45 = 1;
              v44 = v48;
              if (v47 + v43)
                goto LABEL_46;
              goto LABEL_62;
            }
            crf_mde_seg_set_param_value(a1, v42, v44, v48, v3, v57, v56, v55);
            v45 = 0;
            v49 = 0;
            ++v43;
            if (v47 + v43 == 1)
              goto LABEL_63;
          }
          v50 = *(unsigned __int8 *)(v42 + v43 - 1);
          v18 = v50 == 32;
          v49 = v50 != 32;
          if (!v18)
            v48 = v43 - 1;
LABEL_57:
          if (v47 + v43)
            continue;
          break;
        }
        if (v45 == 1)
LABEL_62:
          crf_mde_seg_set_param_value(a1, v42, v44, v48, v3, v57, v56, v55);
LABEL_63:
        v51 = (_BYTE *)v42;
        do
        {
          if (!*v51)
            *v51 = 32;
          ++v51;
          --v46;
        }
        while (v46);
      }
      heap_Free(*(_QWORD **)(a1 + 8), v42);
    }
    else if (!strcmp(v8, "featureparam"))
    {
      v9 = *(char **)(v7 + 16 * v6 + 8);
      v10 = (unsigned __int16)strlen(v9);
      if (v10)
      {
        v11 = 0;
        v12 = 0;
        v13 = 0;
        v14 = 0;
LABEL_8:
        v15 = 0;
        while (2)
        {
          ++v11;
          while (v15)
          {
            if (v9[v11 - 1] != 32)
            {
              v15 = 1;
              goto LABEL_20;
            }
            v9[v11 - 1] = 0;
            if (!v13)
            {
              v13 = 1;
              v12 = v14;
              if (v11 != v10)
                goto LABEL_8;
              goto LABEL_71;
            }
            result = crf_mde_seg_set_featureparam_value(a1, (uint64_t)v9, v12, v14, v54);
            if ((result & 0x80000000) != 0)
              return result;
            v13 = 0;
            v15 = 0;
            if (++v11 - v10 == 1)
              goto LABEL_72;
          }
          v17 = v9[v11 - 1];
          v18 = v17 == 32;
          v15 = v17 != 32;
          if (!v18)
            v14 = v11 - 1;
LABEL_20:
          if (v11 != v10)
            continue;
          break;
        }
        if (v13 != 1)
          goto LABEL_72;
LABEL_71:
        result = crf_mde_seg_set_featureparam_value(a1, (uint64_t)v9, v12, v14, v54);
        if ((result & 0x80000000) != 0)
          return result;
        do
        {
LABEL_72:
          if (!*v9)
            *v9 = 32;
          ++v9;
          --v10;
        }
        while (v10);
      }
    }
LABEL_68:
    ++v6;
    a2 = v53;
    if (v6 >= *(unsigned int *)(v53 + 40))
      return 0;
  }
  v19 = *(const char **)(v7 + 16 * v6 + 8);
  v20 = strlen(v19);
  v21 = v20;
  *(_BYTE *)(a3 + 8) = 0;
  v22 = 0;
  if (v20)
  {
    v23 = 0;
    v24 = v20;
    v25 = v19;
    do
    {
      if (v23)
      {
        v23 = *(unsigned __int8 *)v25 != 32;
      }
      else if (*v25 == 32)
      {
        v23 = 0;
      }
      else
      {
        *(_BYTE *)(a3 + 8) = ++v22;
        v23 = 1;
      }
      ++v25;
      --v24;
    }
    while (v24);
  }
  v26 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * v22 + 8);
  *(_QWORD *)a3 = v26;
  if (v26)
  {
    v31 = 0;
    v32 = 0;
    v33 = 0;
    v34 = 0;
    do
    {
      v35 = v34;
      v36 = v19[v34];
      if (v36 == 32)
      {
        LOBYTE(v36) = 0;
        v37 = 0;
        v31 = 0;
        v38 = *(_QWORD *)(*(_QWORD *)a3 + 8 * v33++);
      }
      else
      {
        if (v31)
        {
          v38 = *(_QWORD *)(*(_QWORD *)a3 + 8 * v33);
        }
        else
        {
          *(_QWORD *)(*(_QWORD *)a3 + 8 * v33) = heap_Alloc(*(_QWORD *)(a1 + 8), 64);
          v38 = *(_QWORD *)(*(_QWORD *)a3 + 8 * v33);
          if (!v38)
            goto LABEL_77;
          LOBYTE(v36) = v19[v35];
        }
        v37 = v32 + 1;
        v31 = 1;
      }
      *(_BYTE *)(v38 + v32) = v36;
      v34 = v35 + 1;
      v32 = v37;
    }
    while ((int)v35 + 1 <= v21);
    goto LABEL_68;
  }
LABEL_77:
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v27, v28, v29, v30, v52);
  return 2310021130;
}

uint64_t crf_mde_seg_unload(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t Only_DereferenceCnt;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  unint64_t v14;
  uint64_t v15;
  _QWORD *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;

  v6 = *(_QWORD *)(a3 + 32);
  if (v6)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v6);
    *(_QWORD *)(a3 + 32) = 0;
  }
  if (*(_DWORD *)(a3 + 48) == 1 && (v7 = *(_QWORD *)(a3 + 40)) != 0)
  {
    Only_DereferenceCnt = crf_Deinit_ReadOnly_DereferenceCnt(a1, a2, v7);
    if ((Only_DereferenceCnt & 0x80000000) != 0)
      return Only_DereferenceCnt;
    *(_QWORD *)(a3 + 40) = 0;
    *(_DWORD *)(a3 + 48) = 0;
  }
  else
  {
    Only_DereferenceCnt = 0;
  }
  crf_free_conf((_QWORD *)a1, a3);
  v9 = *(_QWORD *)(a3 + 64);
  if (v9)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v9);
    *(_QWORD *)(a3 + 64) = 0;
  }
  v10 = *(_QWORD *)(a3 + 72);
  if (v10)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v10);
    *(_QWORD *)(a3 + 72) = 0;
  }
  v11 = *(_QWORD *)(a3 + 80);
  if (v11)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v11);
    *(_QWORD *)(a3 + 80) = 0;
  }
  v12 = *(_QWORD *)(a3 + 88);
  if (v12)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v12);
    *(_QWORD *)(a3 + 88) = 0;
  }
  if (*(_WORD *)(a3 + 104))
  {
    v13 = 0;
    v14 = 0;
    v15 = *(_QWORD *)(a3 + 96);
    do
    {
      heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(v15 + v13));
      v16 = (_QWORD *)(*(_QWORD *)(a3 + 96) + v13);
      *v16 = 0;
      heap_Free(*(_QWORD **)(a1 + 8), v16[1]);
      v15 = *(_QWORD *)(a3 + 96);
      *(_QWORD *)(v15 + v13 + 8) = 0;
      ++v14;
      v13 += 16;
    }
    while (v14 < *(unsigned __int16 *)(a3 + 104));
    heap_Free(*(_QWORD **)(a1 + 8), v15);
    *(_QWORD *)(a3 + 96) = 0;
    *(_WORD *)(a3 + 104) = 0;
  }
  v17 = *(_QWORD *)(a3 + 112);
  if (v17)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v17);
    *(_QWORD *)(a3 + 112) = 0;
  }
  v18 = *(_QWORD *)(a3 + 120);
  if (v18)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v18);
    *(_QWORD *)(a3 + 120) = 0;
  }
  v19 = *(_QWORD *)(a3 + 128);
  if (v19)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v19);
    *(_QWORD *)(a3 + 128) = 0;
  }
  v20 = *(_QWORD *)(a3 + 136);
  if (v20)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v20);
    *(_QWORD *)(a3 + 136) = 0;
  }
  return Only_DereferenceCnt;
}

_QWORD *crf_free_conf(_QWORD *result, uint64_t a2)
{
  _QWORD *v3;
  uint64_t v4;
  unint64_t v5;
  uint64_t v6;

  v3 = result;
  v4 = *(_QWORD *)a2;
  if (v4)
  {
    if (*(_BYTE *)(a2 + 8))
    {
      v5 = 0;
      do
        heap_Free((_QWORD *)v3[1], *(_QWORD *)(*(_QWORD *)a2 + 8 * v5++));
      while (v5 < *(unsigned __int8 *)(a2 + 8));
      v4 = *(_QWORD *)a2;
    }
    result = heap_Free((_QWORD *)v3[1], v4);
    *(_QWORD *)a2 = 0;
    *(_BYTE *)(a2 + 8) = 0;
  }
  v6 = *(_QWORD *)(a2 + 24);
  if (v6)
  {
    result = heap_Free((_QWORD *)v3[1], v6);
    *(_QWORD *)(a2 + 24) = 0;
  }
  return result;
}

uint64_t crf_mde_getStrForCrossToken(uint64_t a1, char *__s, const char **a3, const char *a4, const char *a5, const char *a6)
{
  unsigned __int16 v12;
  unsigned __int16 v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unsigned __int16 v17;
  uint64_t v18;
  char *v19;
  size_t v20;
  char *v21;
  const char *v22;
  size_t v23;
  size_t v24;
  uint64_t v26;
  const char *v27;
  uint64_t v28;
  char *__s2;

  v12 = strlen(__s);
  __s2 = (char *)a4;
  v13 = strlen(a4);
  if (a5)
  {
    v14 = (unsigned __int16)strlen(a5);
    v28 = (unsigned __int16)strlen(a6);
  }
  else
  {
    v14 = 0;
    v28 = 0;
  }
  v26 = a1;
  v27 = a6;
  if (v12)
  {
    v15 = 0;
    v16 = 0;
    v17 = 0;
    do
    {
      if (v13 + v15 < v12 && !strncmp(&__s[v15], __s2, v13))
      {
        strncat((char *)a3[v17++], &__s[v16], v15 - v16);
        v16 = (unsigned __int16)(v13 + v15);
      }
      ++v15;
    }
    while (v12 != v15);
  }
  else
  {
    v17 = 0;
    v16 = 0;
  }
  strncat((char *)a3[v17], &__s[v16], v12 - (unsigned __int16)v16);
  if (a5 && v17 != 0xFFFF)
  {
    v18 = 0;
    do
    {
      v19 = (char *)*a3;
      if (*(_DWORD *)(*(_QWORD *)(v26 + 8) + v18 + 28))
      {
        strcat(v19, a5);
        v20 = strlen(*a3);
        memmove((void *)&(*a3)[v14], *a3, v20 + v14);
        v21 = (char *)*a3;
        v22 = a5;
        v23 = v14;
      }
      else
      {
        strcat(v19, v27);
        v24 = strlen(*a3);
        memmove((void *)&(*a3)[v28], *a3, v24 + v28);
        v21 = (char *)*a3;
        v22 = v27;
        v23 = v28;
      }
      memcpy(v21, v22, v23);
      v18 += 48;
      ++a3;
    }
    while (48 * (unsigned __int16)(v17 + 1) != v18);
  }
  return 0;
}

uint64_t crf_mde_seg_label(uint64_t a1, char *__s, uint64_t a3, const char *a4, unsigned int a5, int a6, _WORD *a7, unsigned __int16 *a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, int a15, uint64_t a16, unsigned __int8 a17, uint64_t a18, uint64_t a19, uint64_t a20,int a21,char *a22,uint64_t *a23,uint64_t *a24,uint64_t *a25,uint64_t *a26,uint64_t *a27,uint64_t *a28,uint64_t *a29,uint64_t *a30,char *a31,char *a32,char *a33,_BYTE *a34,char *a35,int a36)
{
  int v42;
  int v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  __int16 v49;
  uint64_t v50;
  const char *v51;
  char *v52;
  uint64_t v53;
  uint64_t v54;
  unsigned __int8 *v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  const char **v60;
  const char **v61;
  const char **v62;
  unsigned __int16 **v63;
  _QWORD *v64;
  uint64_t k;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t *v70;
  int v71;
  unsigned __int16 v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  unsigned int v76;
  unsigned __int16 v77;
  uint64_t v78;
  uint64_t v79;
  unsigned __int16 v80;
  uint64_t v81;
  unsigned __int16 *v82;
  unint64_t v83;
  unsigned __int16 *v84;
  uint64_t v85;
  uint64_t v86;
  unint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  uint64_t v91;
  int v93;
  int v94;
  int v95;
  int v96;
  uint64_t v97;
  unsigned __int16 v98;
  unsigned __int16 v99;
  unsigned __int16 v100;
  uint64_t v101;
  uint64_t v102;
  unsigned __int16 *v103;
  unsigned __int16 v104;
  uint64_t v105;
  uint64_t v106;
  uint64_t v107;
  uint64_t v108;
  uint64_t v109;
  uint64_t v110;
  unsigned int v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  uint64_t v116;
  uint64_t v117;
  uint64_t v118;
  unint64_t v119;
  __int16 v120;
  unsigned __int16 v121;
  uint64_t v122;
  unsigned __int16 v123;
  int v124;
  const char *v125;
  const char *v126;
  unsigned __int16 v127;
  uint64_t v128;
  unsigned int v129;
  unsigned __int16 v130;
  unsigned __int16 v131;
  uint64_t v132;
  unsigned __int16 v133;
  unsigned __int16 v134;
  int v135;
  const char *v136;
  const char *v137;
  unsigned __int16 v138;
  char *v139;
  unsigned int v140;
  unsigned __int16 v141;
  uint64_t v142;
  size_t v143;
  char *v144;
  unsigned __int16 v145;
  char *v146;
  const char *v147;
  size_t v148;
  __int16 v149;
  unsigned __int16 v150;
  int v151;
  char *v152;
  int v153;
  int v154;
  __int16 v155;
  unsigned __int16 *v156;
  const char *v157;
  uint64_t v158;
  uint64_t v159;
  unsigned __int16 *v160;
  size_t v161;
  char *v162;
  unsigned __int16 *v163;
  uint64_t v164;
  __int16 v165;
  __int16 v166;
  unint64_t v167;
  unint64_t v168;
  uint64_t v169;
  uint64_t v170;
  uint64_t features;
  uint64_t v172;
  uint64_t i;
  int v174;
  int v175;
  unsigned int v176;
  unsigned __int16 v177;
  uint64_t v178;
  unsigned __int16 v179;
  uint64_t v180;
  unsigned __int16 *v181;
  unsigned int v182;
  unsigned int v183;
  unsigned int v184;
  unsigned __int16 *v185;
  unsigned int v186;
  __int16 v187;
  unsigned int v188;
  uint64_t v189;
  int v190;
  unsigned __int16 v191;
  unsigned int v192;
  unsigned __int16 v193;
  unsigned int v194;
  unsigned __int16 v195;
  unsigned __int16 v196;
  uint64_t v197;
  unsigned int v198;
  int v200;
  size_t v201;
  char *v202;
  unsigned __int16 *v203;
  unsigned __int16 v204;
  int v205;
  int v206;
  const char *v207;
  int v208;
  size_t v209;
  char *v210;
  uint64_t v211;
  int v212;
  unsigned __int16 v213;
  unsigned __int16 *v214;
  uint64_t v215;
  unint64_t v216;
  unint64_t v217;
  __int16 v218;
  int v219;
  int v220;
  unsigned __int16 *v221;
  uint64_t v222;
  unsigned __int16 v223;
  uint64_t v224;
  unsigned __int16 v225;
  unsigned int v226;
  uint64_t v227;
  unsigned __int16 *v228;
  unsigned int v229;
  unsigned int v230;
  unsigned __int16 *v232;
  int v233;
  uint64_t v234;
  unsigned __int16 v235;
  unsigned __int16 *v236;
  uint64_t v237;
  uint64_t v238;
  uint64_t v239;
  _BOOL4 v240;
  int v241;
  unsigned __int16 v242;
  unsigned __int16 *v243;
  uint64_t v244;
  unint64_t v245;
  unint64_t v246;
  int v247;
  int v248;
  char *v249;
  char *v250;
  int v251;
  unsigned __int16 v252;
  int v253;
  unsigned int v254;
  unsigned __int16 v255;
  unsigned __int16 j;
  unsigned __int16 *v257;
  unsigned int v258;
  unsigned int v259;
  uint64_t v260;
  uint64_t v261;
  uint64_t v262;
  uint64_t v263;
  uint64_t v264;
  uint64_t v265;
  uint64_t v266;
  uint64_t v267;
  uint64_t v268;
  uint64_t v269;
  uint64_t v270;
  uint64_t v271;
  uint64_t v272;
  uint64_t v273;
  uint64_t v274;
  uint64_t v275;
  uint64_t v276;
  uint64_t v277;
  unint64_t v278;
  uint64_t v279;
  uint64_t v280;
  uint64_t v281;
  int v282;
  int v283;
  const char *v284;
  int v285;
  unsigned __int16 v286;
  unsigned int v287;
  uint64_t v288;
  uint64_t v289;
  uint64_t v290;
  uint64_t v291;
  uint64_t v292;
  uint64_t v293;
  uint64_t v294;
  unint64_t v295;
  uint64_t v296;
  int v297;
  int v298;
  unsigned __int16 v299;
  int v300;
  unsigned __int16 v301;
  unsigned int v302;
  unint64_t v303;
  int v304;
  unsigned __int16 v305;
  unsigned int v306;
  int v307;
  unsigned __int16 v308;
  unsigned int v309;
  int v310;
  unsigned __int16 v311;
  unsigned int v312;
  unint64_t v313;
  uint64_t v314;
  uint64_t v315;
  uint64_t v316;
  uint64_t v317;
  uint64_t v318;
  uint64_t v319;
  uint64_t v320;
  uint64_t v321;
  uint64_t v322;
  uint64_t v323;
  unsigned __int16 *v324;
  int v325;
  const char **v326;
  const char *v327;
  char *v328;
  char *v329;
  __int16 v330;
  int v331;
  const char **v332;
  uint64_t v333;
  const char **v334;
  const char **v335;
  const char **v336;
  _BYTE *v337;
  _BYTE *v338;
  _BYTE *v339;
  unsigned int v340;
  unsigned int v341;
  int v342;
  int v343;
  int v344;
  char *v345;
  int v346;
  char v347;
  __int16 v348;
  uint64_t v349;
  int v350;
  int v351;
  int v352;
  const char *v353;
  int v354;
  int v355;
  int v356;
  uint64_t v357;
  unsigned __int16 v358;
  int v359;
  int v360;
  _WORD *v361;
  unsigned __int16 *v362;
  int v363;
  __int16 v364;
  uint64_t v365;
  uint64_t v366;
  unsigned __int16 v367;
  uint64_t v368;
  unsigned __int16 v369;
  uint64_t v370;
  uint64_t v371;
  int v372;
  uint64_t v373;
  unsigned __int16 v374;
  unsigned int v375;
  char *v376;
  int v377;
  int v378;
  unsigned __int16 v379;
  unsigned __int16 v380;
  uint64_t v381;
  unsigned __int16 v382;
  uint64_t v384;
  int v385;
  uint64_t v386;
  unsigned __int16 v388;
  _BYTE __c[11];
  char *__s1[2];
  int v391;
  char *v392;
  _BYTE *v393;
  uint64_t v394;
  unsigned int v395;
  uint64_t v396;
  char *v397;
  uint64_t v398[2];
  char v399[24];
  char v400[8];
  uint64_t v401;
  uint64_t v402;

  v402 = *MEMORY[0x1E0C80C00];
  v398[0] = 0;
  v398[1] = 0;
  v396 = 0;
  v397 = 0;
  v395 = 0;
  v385 = strlen(__s);
  v42 = strlen(a4);
  v392 = 0;
  v393 = 0;
  v391 = 0;
  __s1[1] = 0;
  *(_QWORD *)&__c[3] = 0;
  __s1[0] = 0;
  __c[0] = 0;
  v394 = 0;
  *(_WORD *)&__c[1] = -1;
  v43 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a12 + 96))(a13, a14, "fecfg", "mde_morphweight", &__c[3], &__c[1], __c);
  if ((v43 & 0x80001FFF) == 0x8000000A)
    goto LABEL_2;
  v49 = 0;
  if (v43 < 0)
  {
    v50 = a3;
  }
  else
  {
    v50 = a3;
    if (*(_WORD *)&__c[1])
    {
      v51 = **(const char ***)&__c[3];
      v52 = strchr(**(char ***)&__c[3], __c[0]);
      if (v52)
      {
        *v52 = 0;
        v51 = **(const char ***)&__c[3];
      }
      v49 = atoi(v51);
    }
  }
  v372 = a5;
  v53 = crf_mde_utils_dynstr_init(a1, (uint64_t)__s1, (unsigned __int16)(v42 + 16), 16);
  if ((v53 & 0x80000000) != 0)
  {
    v48 = v53;
    goto LABEL_15;
  }
  v48 = crf_mde_utils_dynstr_add(a1, (uint64_t)__s1, a4, 2);
  if ((v48 & 0x80000000) != 0)
  {
LABEL_15:
    v376 = 0;
    v379 = 0;
    v59 = 0;
    v373 = 0;
    v374 = 0;
    v60 = 0;
    v61 = 0;
    v62 = 0;
    v368 = 0;
    v63 = 0;
    v381 = 0;
    v382 = 0;
    v64 = 0;
    v380 = v42;
    goto LABEL_16;
  }
  v364 = v49;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Doing CRF MDE segmentation for token \"%s\"", v45, v46, v47, (uint64_t)__s1[0]);
  v54 = *(_QWORD *)(v50 + 88);
  v55 = (unsigned __int8 *)__s1[0];
  if (v54 && strstr(__s1[0], *(const char **)(v50 + 88)))
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"found \"%s\" in token, skip CRF MDE segmentation", v56, v57, v58, v54);
    return v48;
  }
  v363 = a6;
  v362 = a8;
  if (*(_QWORD *)(v50 + 96))
  {
    v388 = 0;
    v93 = Utf8_LengthInBytes(v55, 1);
    if ((_WORD)v42)
    {
      v94 = v93;
      v95 = 0;
      v96 = 0;
      do
      {
        v95 += isUmlaut(&__s1[0][(unsigned __int16)v96], (unsigned __int16)v94, *(unsigned __int8 ***)(v50 + 96), *(unsigned __int16 *)(v50 + 104), &v388);
        v96 += v94;
        v94 = Utf8_LengthInBytes((unsigned __int8 *)&__s1[0][(unsigned __int16)v96], 1);
      }
      while ((unsigned __int16)v96 < (unsigned __int16)v42);
      if ((_WORD)v95)
      {
        v401 = 0;
        *(_QWORD *)v400 = 0;
        v365 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 4 * (unsigned __int16)v95);
        if (!v365)
          goto LABEL_2;
        v97 = crf_mde_utils_dynstr_init(a1, (uint64_t)v400, (unsigned __int16)(v42 + 16), 16);
        if ((v97 & 0x80000000) != 0)
        {
          v48 = v97;
        }
        else
        {
          v361 = a7;
          v98 = Utf8_LengthInBytes((unsigned __int8 *)__s1[0], 1);
          v99 = 0;
          v100 = 0;
          do
          {
            if (isUmlaut(&__s1[0][v100], v98, *(unsigned __int8 ***)(v50 + 96), *(unsigned __int16 *)(v50 + 104), &v388))
            {
              v101 = v388;
              __strcpy_chk();
              v102 = crf_mde_utils_dynstr_add(a1, (uint64_t)v400, v399, 1);
              if ((v102 & 0x80000000) != 0)
                return v102;
              v103 = (unsigned __int16 *)(v365 + 4 * v99);
              *v103 = v100;
              v103[1] = strlen(*(const char **)(*(_QWORD *)(v50 + 96) + 16 * v101 + 8));
              ++v99;
            }
            else
            {
              __strncpy_chk();
              v399[v98] = 0;
              v102 = crf_mde_utils_dynstr_add(a1, (uint64_t)v400, v399, 1);
              if ((v102 & 0x80000000) != 0)
                return v102;
            }
            v100 += v98;
            v98 = Utf8_LengthInBytes((unsigned __int8 *)&__s1[0][v100], 1);
          }
          while (v100 < (unsigned __int16)v42);
          crf_mde_utils_dynstr_free((_QWORD *)a1, (uint64_t)__s1);
          v104 = strlen(*(const char **)v400);
          v105 = crf_mde_utils_dynstr_init(a1, (uint64_t)__s1, (unsigned __int16)(v104 + 16), 16);
          if ((v105 & 0x80000000) == 0)
          {
            v105 = crf_mde_utils_dynstr_add(a1, (uint64_t)__s1, *(const char **)v400, 2);
            if ((v105 & 0x80000000) == 0)
            {
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"expanded umlaut token \"%s\"", v45, v46, v47, (uint64_t)__s1[0]);
              crf_mde_utils_dynstr_free((_QWORD *)a1, (uint64_t)v400);
              if (v99)
              {
                v109 = 0;
                v110 = v365 + 2;
                do
                {
                  v110 += 4;
                  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"umlaut[%d] pos=%d len=%d", v106, v107, v108, v109++);
                }
                while (v99 != v109);
              }
              v59 = v365;
              goto LABEL_104;
            }
          }
          v48 = v105;
          LOWORD(v42) = v104;
          LOWORD(v95) = v99;
        }
        v374 = 0;
        v376 = 0;
        v60 = 0;
        v61 = 0;
        v62 = 0;
        v368 = 0;
        v63 = 0;
        v381 = 0;
        v382 = 0;
        v373 = 0;
        v64 = 0;
        v379 = v95;
        v380 = v42;
LABEL_223:
        v59 = v365;
        goto LABEL_16;
      }
    }
    v361 = a7;
    v59 = 0;
    v99 = 0;
    v104 = v42;
LABEL_104:
    v379 = v99;
    v55 = (unsigned __int8 *)__s1[0];
    goto LABEL_106;
  }
  v361 = a7;
  v59 = 0;
  v379 = 0;
  v104 = v42;
LABEL_106:
  v111 = strlen((const char *)v55) + a5 == (unsigned __int16)v385;
  v112 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 16 * *(unsigned __int16 *)(v50 + 10) + 8 * v104);
  if (!v112)
    goto LABEL_2;
  v64 = (_QWORD *)v112;
  v48 = crf_mde_seg_fv_new(a1, *(unsigned __int8 *)(v50 + 8), v398);
  v380 = v104;
  if ((v48 & 0x80000000) != 0)
  {
    v374 = 0;
    v376 = 0;
    v60 = 0;
    v61 = 0;
    v62 = 0;
    v368 = 0;
    v63 = 0;
    v381 = 0;
    v382 = 0;
    v373 = 0;
    goto LABEL_16;
  }
  v365 = v59;
  if (*(_DWORD *)(v50 + 144) == 1)
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"szSent %s", v45, v46, v47, (uint64_t)__s);
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"word %s", v113, v114, v115, (uint64_t)__s1[0]);
    if (*(_BYTE *)(v50 + 8))
    {
      v119 = 0;
      do
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"FEAT[%d] %s", v116, v117, v118, v119++);
      while (v119 < *(unsigned __int8 *)(v50 + 8));
    }
  }
  if (v104)
  {
    v120 = 0;
    v121 = 0;
    do
    {
      v122 = v121;
      v123 = Utf8_LengthInBytes((unsigned __int8 *)&__s1[0][v121], 1);
      v124 = *(_DWORD *)(v50 + 12);
      if (v124 == 1
        || v124 == 2
        && ((v125 = *(const char **)(v50 + 80)) != 0 && !strncmp(&__s1[0][v122], v125, v123)
         || (v126 = *(const char **)(v50 + 64)) != 0 && !strncmp(&__s1[0][v122], v126, v123)))
      {
        ++v120;
      }
      v121 = v122 + v123;
    }
    while ((unsigned __int16)(v122 + v123) < v104);
  }
  else
  {
    v120 = 0;
  }
  v127 = v120 + 1;
  v128 = (unsigned __int16)(v120 + 1);
  v381 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * v128);
  if (!v381)
    goto LABEL_2;
  if (*(_DWORD *)(v50 + 12) == 2)
  {
    v373 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 4 * v128);
    v129 = v372;
    if (!v373)
      goto LABEL_2;
  }
  else
  {
    v373 = 0;
    v127 = 0;
    v129 = v372;
  }
  v359 = v363 + v129;
  v360 = v363 + v129 + v42;
  if (!v104)
  {
    v376 = 0;
    v141 = 0;
    v142 = v381;
    goto LABEL_189;
  }
  v369 = v127;
  v382 = 0;
  v130 = 0;
  v131 = 0;
  v357 = v129;
  v377 = v104;
  while (1)
  {
    v132 = v131;
    v133 = Utf8_LengthInBytes((unsigned __int8 *)&__s1[0][v131], 1);
    v134 = v133;
    v135 = *(_DWORD *)(v50 + 12);
    if (v135 != 1)
      break;
    if (v133)
    {
      v138 = v133;
LABEL_144:
      v139 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v138 + 1);
      *(_QWORD *)(v381 + 8 * v382) = v139;
      if (!v139)
        goto LABEL_2;
      strncpy(v139, &__s1[0][v130], v138);
      if (*(_DWORD *)(v50 + 12) == 2)
        *(_DWORD *)(v373 + 4 * v382) = 0;
      ++v382;
      v130 = v132 + v134;
      v104 = v380;
    }
LABEL_148:
    v131 = v132 + v134;
    v140 = (unsigned __int16)(v132 + v134);
    if (v140 >= v104)
    {
      if (v140 == v130)
      {
        v376 = 0;
        v142 = v381;
        v141 = v382;
        v127 = v369;
        goto LABEL_189;
      }
      v143 = (unsigned __int16)(v131 - v130);
      v144 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v143 + 1);
      *(_QWORD *)(v381 + 8 * v382) = v144;
      if (!v144)
        goto LABEL_2;
      strncpy(v144, &__s1[0][v130], v143);
      if (*(_DWORD *)(v50 + 12) == 2)
      {
        v145 = v377 + v372;
        if (v377 + v372 < (unsigned __int16)v385
          && (v146 = &__s[v357 + v104], TOK_IS_PUNCT((unsigned __int8 *)v146)))
        {
          v147 = *(const char **)(v50 + 72);
          v142 = v381;
          if (v147 && (v148 = strlen(*(const char **)(v50 + 72)), !strncmp(v146, v147, v148)))
          {
            v153 = 0;
            v376 = 0;
          }
          else
          {
            v378 = (unsigned __int16)(v377 + v372);
            do
              v149 = v145++;
            while (v145 < (unsigned __int16)v385
                 && TOK_IS_PUNCT((unsigned __int8 *)&__s[v145]));
            if (TOK_IS_PUNCT((unsigned __int8 *)&__s[v145]))
              v150 = v145;
            else
              v150 = v149;
            v151 = v150 - v378;
            v152 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v151 + 2);
            if (!v152)
              goto LABEL_2;
            v376 = strncpy(v152, &__s[v378], v151 + 1);
            v376[v151 + 1] = 0;
            v153 = 1;
          }
        }
        else
        {
          v153 = 0;
          v376 = 0;
          v142 = v381;
        }
        v127 = v369;
        *(_DWORD *)(v373 + 4 * v382) = v153;
      }
      else
      {
        v376 = 0;
        v142 = v381;
        v127 = v369;
      }
      v141 = v382 + 1;
LABEL_189:
      v382 = v141;
      v166 = v141;
      LODWORD(v167) = *(unsigned __int16 *)(v50 + 10);
      if (*(_WORD *)(v50 + 10))
      {
        v168 = 0;
        do
        {
          v169 = crf_mde_seg_set_padding_features(a1, (unsigned __int16)v168, *(unsigned __int8 *)(v50 + 8), v398, 1);
          if ((v169 & 0x80000000) != 0)
            goto LABEL_219;
          v169 = crf_mde_seg_concat_strings(a1, v398, &v397);
          if ((v169 & 0x80000000) != 0)
            goto LABEL_219;
          v64[v168] = v397;
          v397 = 0;
          ++v168;
          v167 = *(unsigned __int16 *)(v50 + 10);
        }
        while (v168 < v167);
      }
      if (v382)
      {
        v358 = v166;
        v170 = 0;
        while (1)
        {
          features = crf_mde_seg_get_features(a1, v142, v382, v373, v127, v170, *(_QWORD *)(v50 + 24), *(_QWORD *)v50, *(_BYTE *)(v50 + 8), v398, v372 == 0, v111);
          if ((features & 0x80000000) != 0)
            break;
          features = crf_mde_seg_concat_strings(a1, v398, &v397);
          if ((features & 0x80000000) != 0)
            break;
          v167 = *(unsigned __int16 *)(v50 + 10);
          v64[v170 + v167] = v397;
          v397 = 0;
          if (v382 == ++v170)
            goto LABEL_199;
        }
        v48 = features;
        v374 = 0;
        v60 = 0;
        v61 = 0;
        v62 = 0;
        v368 = 0;
        v63 = 0;
        goto LABEL_221;
      }
LABEL_199:
      if ((_DWORD)v167)
      {
        v172 = 0;
        while (1)
        {
          v169 = crf_mde_seg_set_padding_features(a1, (unsigned __int16)v172, *(unsigned __int8 *)(v50 + 8), v398, 0);
          if ((v169 & 0x80000000) != 0)
            break;
          v169 = crf_mde_seg_concat_strings(a1, v398, &v397);
          if ((v169 & 0x80000000) != 0)
            break;
          v167 = *(unsigned __int16 *)(v50 + 10);
          v64[v382 + v172 + v167] = v397;
          v397 = 0;
          if (++v172 >= v167)
            goto LABEL_204;
        }
LABEL_219:
        v48 = v169;
        v374 = 0;
        v60 = 0;
        v61 = 0;
        v62 = 0;
        v368 = 0;
        v63 = 0;
        v177 = v166;
LABEL_222:
        v382 = v177;
        goto LABEL_223;
      }
LABEL_204:
      if (*(_DWORD *)(v50 + 144) == 1 && v382)
      {
        for (i = 0; i != v382; ++i)
        {
          v174 = *(_DWORD *)(v50 + 12);
          if (v174 == 1)
          {
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"token[%d] %s", v45, v46, v47, i);
          }
          else if (v174 == 2)
          {
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"token[%d] %s punc = %d", v45, v46, v47, i);
          }
        }
        LODWORD(v167) = *(unsigned __int16 *)(v50 + 10);
      }
      v48 = crf_Process(*(_QWORD *)(v50 + 40), v64, v382 + 2 * v167, &v396, &v395);
      v59 = v365;
      if ((v48 & 0x80000000) == 0)
      {
        if (*(_DWORD *)(v50 + 144) == 1)
        {
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"results : %d best", v45, v46, v47, *(unsigned int *)(v50 + 20));
          if (!v395)
            goto LABEL_290;
          v175 = 0;
          do
          {
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s ==> _%s_", v45, v46, v47, v64[(unsigned __int16)v175++]);
            v176 = v395;
          }
          while (v395 > (unsigned __int16)v175);
          v59 = v365;
        }
        else
        {
          v176 = v395;
        }
        if (v176)
        {
          v178 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * *(_DWORD *)(v50 + 20) * v382);
          if (v178)
          {
            v63 = (unsigned __int16 **)v178;
            v358 = v166;
            if (*(_DWORD *)(v50 + 20))
            {
              v179 = 0;
              do
              {
                v180 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 40 * v382);
                v63[v179] = (unsigned __int16 *)v180;
                if (!v180)
                  goto LABEL_2;
                *((_QWORD *)v63[v179] + 1) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 48 * v382);
                v181 = v63[v179];
                if (!*((_QWORD *)v181 + 1))
                  goto LABEL_2;
                *v181 = 0;
                *((_DWORD *)v181 + 8) = 0;
              }
              while (*(_DWORD *)(v50 + 20) > ++v179);
            }
            v48 = crf_mde_utils_dynstr_init(a1, (uint64_t)&v393, 2 * (v380 & 0x7FFFu), 128);
            if ((v48 & 0x80000000) != 0)
              goto LABEL_295;
            v182 = *(_DWORD *)(v50 + 20);
            if (v182)
            {
              v183 = 0;
              v184 = v395;
              do
              {
                v185 = v63[(unsigned __int16)v183];
                *v185 = 0;
                if (v184)
                {
                  v186 = 0;
                  v187 = 0;
                  v188 = *(unsigned __int16 *)(v50 + 10);
                  v189 = v396;
                  do
                  {
                    if (v188 <= (unsigned __int16)v186 && v188 + v382 > v186)
                    {
                      v190 = *(unsigned __int8 *)(*(_QWORD *)(v189 + 8 * (unsigned __int16)v186) + 2 * v183);
                      if (v190 == 83 || v190 == 66)
                        *v185 = ++v187;
                    }
                    ++v186;
                  }
                  while (v184 > (unsigned __int16)v186);
                }
                else
                {
                  v187 = 0;
                }
                *v185 = v187 + 1;
                v191 = v183 + 1;
                v183 = (unsigned __int16)(v183 + 1);
              }
              while (v182 > v191);
              v192 = 0;
              v193 = 0;
              while (1)
              {
                bzero(v393, (unsigned __int16)v394);
                v370 = v193;
                *v63[v193] = 0;
                if (v395)
                  break;
LABEL_272:
                v209 = strlen(v393);
                if (v209)
                {
                  *(_QWORD *)(*((_QWORD *)v63[v370] + 1) + 48 * *v63[v370]) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v209 + 1);
                  v210 = *(char **)(*((_QWORD *)v63[v370] + 1) + 48 * *v63[v370]);
                  if (!v210)
                    goto LABEL_2;
                  strcpy(v210, v393);
                  ++*v63[v370];
                }
                v193 = v370 + 1;
                v192 = (unsigned __int16)(v370 + 1);
                if (*(_DWORD *)(v50 + 20) <= v192)
                  goto LABEL_276;
              }
              v194 = 0;
              v195 = 0;
              v196 = 0;
              v197 = 2 * v192;
              while (1)
              {
                v198 = *(unsigned __int16 *)(v50 + 10);
                if (v198 <= v196 && v198 + v382 > v194)
                {
                  v200 = *(unsigned __int8 *)(*(_QWORD *)(v396 + 8 * v196) + v197);
                  if (v200 == 83 || v200 == 66)
                  {
                    v201 = strlen(v393);
                    if (v201)
                    {
                      *(_QWORD *)(*((_QWORD *)v63[v370] + 1) + 48 * *v63[v370]) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v201 + 1);
                      v202 = *(char **)(*((_QWORD *)v63[v370] + 1) + 48 * *v63[v370]);
                      if (!v202)
                        goto LABEL_2;
                      strcpy(v202, v393);
                      v203 = v63[v370];
                      v204 = *v203;
                      *(_DWORD *)(*((_QWORD *)v203 + 1) + 48 * *v203 + 28) = 1;
                      *v203 = v204 + 1;
                      bzero(v393, (unsigned __int16)v394);
                    }
                  }
                  v205 = *v393 ? 1 : 2;
                  v48 = crf_mde_utils_dynstr_add(a1, (uint64_t)&v393, *(const char **)(v381 + 8 * v195), v205);
                  if ((v48 & 0x80000000) != 0)
                    goto LABEL_295;
                  ++v195;
                  if (v194 + 1 < (unsigned __int16)v395)
                  {
                    v206 = *(unsigned __int8 *)(*(_QWORD *)(v396 + 8 * (v194 + 1)) + v197);
                    if (v206 != 66 && v206 != 83)
                    {
                      v207 = *(const char **)(v50 + 80);
                      if (v207)
                      {
                        v208 = *v393 ? 1 : 2;
                        v48 = crf_mde_utils_dynstr_add(a1, (uint64_t)&v393, v207, v208);
                        if ((v48 & 0x80000000) != 0)
                          goto LABEL_295;
                      }
                    }
                  }
                }
                v194 = ++v196;
                if (v395 <= v196)
                  goto LABEL_272;
              }
            }
LABEL_276:
            v392 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 1024);
            if (!v392)
            {
              v48 = 2310021130;
              log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v211, v45, v46, v47, v340);
LABEL_295:
              v374 = 0;
              v60 = 0;
              v61 = 0;
              v62 = 0;
              v368 = 0;
LABEL_221:
              v177 = v358;
              goto LABEL_222;
            }
            HIWORD(v391) = 1024;
            if (*(_DWORD *)(v50 + 144) == 1)
            {
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Segmentation results:", v45, v46, v47, 0);
              if (*(_DWORD *)(a3 + 20))
              {
                v212 = 0;
                v213 = 0;
                while (1)
                {
                  *v392 = 0;
                  __sprintf_chk(v400, 0, 0x40uLL, "nbest[%d] ", v212);
                  v48 = crf_mde_utils_add2Str(a1, (const char **)&v392, (_WORD *)&v391 + 1, v400);
                  if ((v48 & 0x80000000) != 0)
                    goto LABEL_389;
                  v214 = v63[v213];
                  if (*v214)
                  {
                    v215 = 0;
                    v216 = 0;
                    do
                    {
                      v48 = crf_mde_utils_add2Str(a1, (const char **)&v392, (_WORD *)&v391 + 1, *(char **)(*((_QWORD *)v214 + 1) + v215));
                      if ((v48 & 0x80000000) != 0)
                        goto LABEL_389;
                      v214 = v63[v213];
                      v217 = *v214;
                      if ((int)v216 + 1 < v217)
                      {
                        v48 = crf_mde_utils_add2Str(a1, (const char **)&v392, (_WORD *)&v391 + 1, " | ");
                        if ((v48 & 0x80000000) != 0)
                          goto LABEL_389;
                        v214 = v63[v213];
                        v217 = *v214;
                      }
                      ++v216;
                      v215 += 48;
                    }
                    while (v216 < v217);
                  }
                  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s", v45, v46, v47, (uint64_t)v392);
                  v212 = ++v213;
                  v375 = *(_DWORD *)(a3 + 20);
                  if (v375 <= v213)
                    goto LABEL_297;
                }
              }
            }
            else
            {
              v375 = *(_DWORD *)(a3 + 20);
LABEL_297:
              if (v375)
              {
                v351 = 0;
                v354 = 0;
                v219 = 0;
                v349 = *(_QWORD *)(a3 + 96);
                while (1)
                {
                  v220 = v351;
                  v350 = v219;
                  if (v349)
                  {
                    v221 = v63[(unsigned __int16)v219];
                    v371 = *v221;
                    if (*v221)
                    {
                      v222 = 0;
                      v223 = 0;
                      v224 = *((_QWORD *)v221 + 1);
                      do
                      {
                        v225 = strlen(*(const char **)(v224 + 48 * v222));
                        if (v379)
                        {
                          v226 = v225 + v223;
                          v228 = (unsigned __int16 *)(v365 + 2);
                          v227 = v379;
                          do
                          {
                            v229 = *(v228 - 1);
                            if (v229 >= v223)
                            {
                              v230 = *v228 + v229;
                              if (v226 > v229 && v230 > v226)
                              {
                                *((_DWORD *)v221 + 8) = 5;
                                v220 = 1;
                              }
                              if (v230 < v226)
                                *(_DWORD *)(v224 + 48 * v222 + 36) = 1;
                            }
                            v228 += 2;
                            --v227;
                          }
                          while (v227);
                        }
                        v223 += v225;
                        ++v222;
                      }
                      while (v222 != v371);
                    }
                  }
                  v351 = v220;
                  if (v375 <= (unsigned __int16)(v350 + 1))
                    break;
                  v232 = v63[(unsigned __int16)v350];
                  v233 = *v232;
                  v234 = 48 * *v232 + 48;
                  v235 = v350 + 1;
                  do
                  {
                    v236 = v63[v235];
                    if (v233 == *v236)
                    {
                      v237 = 0;
                      while (1)
                      {
                        v238 = v237 + 48;
                        if (v234 == v237 + 48)
                          break;
                        v239 = *((_QWORD *)v236 + 1);
                        v240 = *(_DWORD *)(v239 + v237 + 28) != 1
                            || strcmp(*(const char **)(*((_QWORD *)v232 + 1) + v237), *(const char **)(v239 + v237)) == 0;
                        v237 = v238;
                        if (!v240)
                          goto LABEL_326;
                      }
                      *((_DWORD *)v236 + 8) = 4;
                      v354 = 1;
                    }
LABEL_326:
                    ++v235;
                  }
                  while (v375 > v235);
                  v219 = v350 + 1;
                }
LABEL_329:
                if ((v354 == 1 || v351 == 1) && *(_DWORD *)(a3 + 144) == 1)
                {
                  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Segmentation results (remove duplicates):", v45, v46, v47, 0);
                  if (*(_DWORD *)(a3 + 20))
                  {
                    v241 = 0;
                    v242 = 0;
                    while (1)
                    {
                      *v392 = 0;
                      __sprintf_chk(v400, 0, 0x40uLL, "nbest[%d] ", v241);
                      v48 = crf_mde_utils_add2Str(a1, (const char **)&v392, (_WORD *)&v391 + 1, v400);
                      if ((v48 & 0x80000000) != 0)
                        goto LABEL_389;
                      v243 = v63[v242];
                      if (*v243)
                      {
                        v244 = 0;
                        v245 = 0;
                        do
                        {
                          v48 = crf_mde_utils_add2Str(a1, (const char **)&v392, (_WORD *)&v391 + 1, *(char **)(*((_QWORD *)v243 + 1) + v244));
                          if ((v48 & 0x80000000) != 0)
                            goto LABEL_389;
                          v243 = v63[v242];
                          v246 = *v243;
                          if ((int)v245 + 1 < v246)
                          {
                            v48 = crf_mde_utils_add2Str(a1, (const char **)&v392, (_WORD *)&v391 + 1, " | ");
                            if ((v48 & 0x80000000) != 0)
                              goto LABEL_389;
                            v243 = v63[v242];
                            v246 = *v243;
                          }
                          ++v245;
                          v244 += 48;
                        }
                        while (v245 < v246);
                      }
                      v247 = *((_DWORD *)v243 + 8);
                      if (v247 == 4)
                      {
                        v48 = crf_mde_utils_add2Str(a1, (const char **)&v392, (_WORD *)&v391 + 1, " MDE_Duplicate");
                        if ((v48 & 0x80000000) != 0)
                          goto LABEL_389;
                        v247 = *((_DWORD *)v63[v242] + 8);
                      }
                      if (v247 == 5)
                      {
                        v48 = crf_mde_utils_add2Str(a1, (const char **)&v392, (_WORD *)&v391 + 1, " MDE_UmlautSplit");
                        if ((v48 & 0x80000000) != 0)
                          goto LABEL_389;
                      }
                      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s", v45, v46, v47, (uint64_t)v392);
                      v241 = ++v242;
                      v375 = *(_DWORD *)(a3 + 20);
                      if (v375 <= v242)
                        goto LABEL_350;
                    }
                  }
                  v375 = 0;
                }
LABEL_350:
                v248 = *(_DWORD *)(a3 + 56);
                if (v248 == 1)
                {
                  if (!*(_QWORD *)(a3 + 120))
                    goto LABEL_353;
                }
                else if (v248 || *(_QWORD *)(a3 + 120))
                {
LABEL_353:
                  if (a21 == 1)
                  {
                    v249 = strchr(a22, 95);
                    if (v249)
                      v250 = v249 + 1;
                    else
                      v250 = a22;
                    v353 = v250;
                    v251 = *v250;
                  }
                  else
                  {
                    v353 = 0;
                    v251 = 32;
                  }
                  v352 = v251;
                  v48 = crf_mde_utils_do_validation(a1, a12, a13, a14, a15, a16, a17, *(_QWORD *)(a3 + 112), *(_QWORD *)(a3 + 120), *(_QWORD *)(a3 + 128), *(_QWORD *)(a3 + 136), (uint64_t)v63, v375, *(_DWORD *)(a3 + 144), *(const char **)(a3 + 64), &v392, (_WORD *)&v391 + 1);
                  if ((v48 & 0x80000000) == 0)
                  {
                    v254 = *(_DWORD *)(a3 + 20);
                    if (v254)
                    {
                      v255 = 0;
                      for (j = 0; j < v254; ++j)
                      {
                        v257 = v63[j];
                        v258 = *((_DWORD *)v257 + 8);
                        if (v258 < 2 || v258 == 3 && !*(_QWORD *)(a3 + 136))
                        {
                          v259 = *v257;
                          if (v259 > v255)
                            v255 = v259;
                        }
                      }
                      v374 = v255;
                      if (v255)
                      {
                        v260 = v255;
                        v368 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 2 * v255);
                        if (!v368)
                        {
                          v48 = 2310021130;
                          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v261, v262, v263, v264, v341);
                          goto LABEL_390;
                        }
                        v265 = 8 * v260;
                        v62 = (const char **)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * v260);
                        if (!v62)
                        {
                          v48 = 2310021130;
                          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v266, v267, v268, v269, v341);
                          v60 = 0;
                          v61 = 0;
                          goto LABEL_391;
                        }
                        v61 = (const char **)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * v260);
                        if (!v61)
                        {
                          v48 = 2310021130;
                          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v270, v271, v272, v273, v341);
                          v60 = 0;
                          goto LABEL_391;
                        }
                        v60 = (const char **)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * v260);
                        if (v60)
                        {
                          v278 = 0;
                          while (1)
                          {
                            v279 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 128);
                            v62[v278 / 8] = (const char *)v279;
                            if (!v279)
                              break;
                            v280 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 128);
                            v61[v278 / 8] = (const char *)v280;
                            if (!v280)
                              break;
                            v281 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 128);
                            v60[v278 / 8] = (const char *)v281;
                            if (!v281)
                              break;
                            *v62[v278 / 8] = 0;
                            *v61[v278 / 8] = 0;
                            *v60[v278 / 8] = 0;
                            v278 += 8;
                            if (v265 == v278)
                            {
                              v347 = 0;
                              goto LABEL_394;
                            }
                          }
                        }
                        v48 = 2310021130;
                        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v274, v275, v276, v277, v341);
LABEL_464:
                        v382 = v358;
                        goto LABEL_392;
                      }
                    }
                    v374 = 0;
                    v368 = 0;
                    v62 = 0;
                    v61 = 0;
                    v60 = 0;
                    v347 = 1;
LABEL_394:
                    v282 = strlen(__s1[0]);
                    v283 = v359 + v282;
                    v356 = Utf8_LengthInBytes((unsigned __int8 *)&__s[(unsigned __int16)(v359 + v282)], 1);
                    v343 = (unsigned __int16)v283;
                    v344 = (unsigned __int16)v385;
                    if ((unsigned __int16)v385 > (unsigned __int16)v283
                      && (v284 = &__s[(unsigned __int16)v283],
                          (*(unsigned int (**)(uint64_t, uint64_t, const char *))(a12 + 128))(a13, a14, v284)))
                    {
                      v360 = v283;
                      do
                      {
                        if (!strncmp(v284, "_", (unsigned __int16)v356))
                          break;
                        v285 = v360 + v356;
                        v356 = Utf8_LengthInBytes((unsigned __int8 *)&__s[(unsigned __int16)(v360 + v356)], 1);
                        v343 = (unsigned __int16)v285;
                        v360 = v285;
                        if ((unsigned __int16)v385 <= (unsigned __int16)v285)
                          break;
                        v284 = &__s[(unsigned __int16)v285];
                      }
                      while ((*(unsigned int (**)(uint64_t, uint64_t, const char *))(a12 + 128))(a13, a14, v284));
                    }
                    else
                    {
                      LOWORD(v360) = v283;
                    }
                    if (*(_DWORD *)(a3 + 20))
                    {
                      v366 = 0;
                      v367 = 0;
                      v355 = 0;
                      v286 = 0;
                      v346 = a36;
                      v345 = a35;
                      while (1)
                      {
                        v386 = v286;
                        v287 = *((_DWORD *)v63[v286] + 8);
                        if (v287 < 2 || v287 == 3 && !*(_QWORD *)(a3 + 136))
                        {
                          *a31 = 0;
                          *a32 = 0;
                          *a33 = 0;
                          v288 = (uint64_t)v63[v386];
                          if (*(_WORD *)(v288 + 16))
                          {
                            v289 = 0;
                            v290 = v386;
                            v348 = v386 + 1;
                            while (1)
                            {
                              v384 = v289;
                              v291 = 5 * v289;
                              crf_mde_getStrForCrossToken(v288, *(char **)(*(_QWORD *)(v288 + 24) + 80 * v289), v61, *(const char **)(a3 + 64), "◄", "◖");
                              crf_mde_getStrForCrossToken((uint64_t)v63[v290], *(char **)(*((_QWORD *)v63[v290] + 3) + 16 * v291 + 48), v62, *(const char **)(a3 + 64), 0, 0);
                              crf_mde_getStrForCrossToken((uint64_t)v63[v290], *(char **)(*((_QWORD *)v63[v290] + 3) + 16 * v291 + 64), v60, *(const char **)(a3 + 64), 0, 0);
                              if (*v63[v290])
                              {
                                v295 = 0;
                                v296 = v368;
                                do
                                {
                                  v297 = strlen(v62[v295]);
                                  *(_WORD *)(v296 + 2 * v295) = Utf8_LengthInUtf8chars((unint64_t)v62[v295], v297);
                                  v298 = strlen(v61[v295]);
                                  v299 = Utf8_LengthInUtf8chars((unint64_t)v61[v295], v298);
                                  v300 = strlen(v60[v295]);
                                  v296 = v368;
                                  v301 = Utf8_LengthInUtf8chars((unint64_t)v60[v295], v300);
                                  v302 = *(unsigned __int16 *)(v368 + 2 * v295);
                                  if (v299 > v302)
                                  {
                                    *(_WORD *)(v368 + 2 * v295) = v299;
                                    v302 = v299;
                                  }
                                  if (v302 < v301)
                                    *(_WORD *)(v368 + 2 * v295) = v301;
                                  ++v295;
                                }
                                while (v295 < *v63[v386]);
                                if (*v63[v386])
                                {
                                  v303 = 0;
                                  do
                                  {
                                    v304 = strlen(v62[v303]);
                                    v305 = Utf8_LengthInUtf8chars((unint64_t)v62[v303], v304);
                                    if (*(unsigned __int16 *)(v368 + 2 * v303) > v305)
                                    {
                                      v306 = v305;
                                      do
                                      {
                                        *(_WORD *)&v62[v303][strlen(v62[v303])] = 126;
                                        ++v306;
                                      }
                                      while (v306 < *(unsigned __int16 *)(v368 + 2 * v303));
                                    }
                                    v307 = strlen(v61[v303]);
                                    v308 = Utf8_LengthInUtf8chars((unint64_t)v61[v303], v307);
                                    if (*(unsigned __int16 *)(v368 + 2 * v303) > v308)
                                    {
                                      v309 = v308;
                                      do
                                      {
                                        *(_WORD *)&v61[v303][strlen(v61[v303])] = 126;
                                        ++v309;
                                      }
                                      while (v309 < *(unsigned __int16 *)(v368 + 2 * v303));
                                    }
                                    v310 = strlen(v60[v303]);
                                    v311 = Utf8_LengthInUtf8chars((unint64_t)v60[v303], v310);
                                    if (*(unsigned __int16 *)(v368 + 2 * v303) > v311)
                                    {
                                      v312 = v311;
                                      do
                                      {
                                        *(_WORD *)&v60[v303][strlen(v60[v303])] = 126;
                                        ++v312;
                                      }
                                      while (v312 < *(unsigned __int16 *)(v368 + 2 * v303));
                                    }
                                    ++v303;
                                  }
                                  while (v303 < *v63[v386]);
                                }
                              }
                              *a31 = 0;
                              *a32 = 0;
                              *a33 = 0;
                              if (*v63[v386])
                              {
                                v313 = 0;
                                do
                                {
                                  strcat(a31, v61[v313]);
                                  strcat(a32, v62[v313]);
                                  strcat(a33, v60[v313++]);
                                }
                                while (v313 < *v63[v386]);
                              }
                              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"crosstoken call nbest[%d] solution[%d] segpat:%s patPOS:%s pos:%s pron:%s feat:%s", v292, v293, v294, v366);
                              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"crosstoken call phon:%s", v314, v315, v316, (uint64_t)a31);
                              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"crosstoken call pos :%s", v317, v318, v319, (uint64_t)a32);
                              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"crosstoken call cgn :%s", v320, v321, v322, (uint64_t)a33);
                              *a34 = 0;
                              strcpy(v399, "normal");
                              v323 = oneword_crosstoken(a1, a18, a19, a20, a21, a22, 0, v352, v353, v399, 0, a23, a24, a25, a26, a27, a28, a29, a30,
                                       (const char **)&a31,
                                       (const char **)&a32,
                                       (const char **)&a33,
                                       (const char **)&a34);
                              if ((v323 & 0x80000000) != 0)
                                break;
                              HIWORD(v342) = WORD1(a31);
                              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"write to lingdb nbest[%d] solution[%d] pos:%s pron:%s cgn:%s", v45, v46, v47, v366);
                              v324 = v63[v386];
                              v325 = *((_DWORD *)v324 + 8);
                              if (v346)
                              {
                                if (v325 == 3 && !*(_QWORD *)(a3 + 136))
                                  v326 = (const char **)&a32;
                                else
                                  v326 = (const char **)(*((_QWORD *)v324 + 3) + 80 * v384 + 16);
                                v327 = *v326;
                                v328 = a31;
                                v329 = a33;
                                v330 = v348 + *v324 * v364;
                                v331 = *(_DWORD *)(a3 + 52);
                              }
                              else
                              {
                                if (v325 == 3 && !*(_QWORD *)(a3 + 136))
                                  v332 = (const char **)&a32;
                                else
                                  v332 = (const char **)(*((_QWORD *)v324 + 3) + 80 * v384 + 16);
                                v327 = *v332;
                                v328 = a31;
                                v329 = a33;
                                v330 = v348 + *v324 * v364;
                                v331 = 1;
                              }
                              LOWORD(v342) = v330;
                              v48 = hlp_Write2WordRec(a9, a10, a11, v362, v372, (unsigned __int16)v360 - (unsigned __int16)v363, v367, v327, v328, v329, v345, v342, v331);
                              if ((v48 & 0x80000000) != 0)
                                goto LABEL_458;
                              if ((v347 & 1) == 0)
                              {
                                v333 = v374;
                                v334 = v60;
                                v335 = v61;
                                v336 = v62;
                                do
                                {
                                  v337 = *v336++;
                                  *v337 = 0;
                                  v338 = *v335++;
                                  *v338 = 0;
                                  v339 = *v334++;
                                  *v339 = 0;
                                  --v333;
                                }
                                while (v333);
                              }
                              ++v367;
                              v290 = v386;
                              v289 = v384 + 1;
                              v288 = (uint64_t)v63[v386];
                              if (v384 + 1 >= (unint64_t)*(unsigned __int16 *)(v288 + 16))
                                goto LABEL_450;
                            }
                            v48 = v323;
                            goto LABEL_458;
                          }
LABEL_450:
                          v355 = 1;
                        }
                        v286 = v386 + 1;
                        v366 = (unsigned __int16)(v386 + 1);
                        if (*(_DWORD *)(a3 + 20) <= (unsigned __int16)(v386 + 1))
                          goto LABEL_455;
                      }
                    }
                    v355 = 0;
LABEL_455:
                    if (v344 != v343)
                      v360 = v359 + strlen(__s1[0]);
LABEL_458:
                    if (v355 != 1)
                      goto LABEL_464;
                    v59 = v365;
                    v50 = a3;
LABEL_460:
                    v165 = v360;
                    goto LABEL_182;
                  }
                  goto LABEL_389;
                }
                if (v375)
                {
                  v355 = 0;
                  v252 = 0;
                  v50 = a3;
                  do
                  {
                    v48 = crf_mde_utils_write_morphemes(a1, *(_DWORD *)(a3 + 56), *(_QWORD *)(a3 + 120), a12, a13, a14, a9, v47, a10, a11, v362, v372, v363, v63[v252], __s, &v391);
                    if ((v48 & 0x80000000) != 0)
                    {
                      v368 = 0;
                      v62 = 0;
                      v61 = 0;
                      v60 = 0;
                      v374 = 0;
                      goto LABEL_458;
                    }
                    if ((unsigned __int16)v391 == (unsigned __int16)v385)
                      v253 = v385;
                    else
                      v253 = v360;
                    v360 = v253;
                    ++v252;
                    v355 = 1;
                  }
                  while (*(_DWORD *)(a3 + 20) > v252);
                  v374 = 0;
                  v60 = 0;
                  v61 = 0;
                  v62 = 0;
                  v368 = 0;
                  v59 = v365;
                  goto LABEL_460;
                }
LABEL_389:
                v374 = 0;
LABEL_390:
                v60 = 0;
                v61 = 0;
                v62 = 0;
                v368 = 0;
LABEL_391:
                v382 = v358;
LABEL_392:
                v59 = v365;
                v50 = a3;
                goto LABEL_16;
              }
            }
            v375 = 0;
            v354 = 0;
            v351 = 0;
            goto LABEL_329;
          }
LABEL_2:
          v48 = 2310021130;
          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v44, v45, v46, v47, v340);
          return v48;
        }
      }
LABEL_290:
      v374 = 0;
      v60 = 0;
      v61 = 0;
      v62 = 0;
      v368 = 0;
      v63 = 0;
      v218 = v166;
LABEL_291:
      v382 = v218;
      goto LABEL_16;
    }
  }
  if (v135 != 2)
    goto LABEL_148;
  v136 = *(const char **)(v50 + 80);
  if (!v136 || strncmp(&__s1[0][v132], v136, v133))
  {
    v137 = *(const char **)(v50 + 64);
    if (!v137 || strncmp(&__s1[0][v132], v137, v134))
      goto LABEL_148;
  }
  v138 = v132 - v130;
  if ((_WORD)v132 != v130 && strcmp(a22, "prompt") && strcmp(a22, "internal-nuance-system-norm"))
    goto LABEL_144;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Error Parsing For Morpheme - character=%d, word=%s", v45, v46, v47, v132);
  v154 = *(_DWORD *)(v50 + 56);
  if (!v154)
  {
    v59 = v365;
    v155 = v363;
    v156 = v362;
    v157 = __s;
    if (!*(_QWORD *)(v50 + 120))
      goto LABEL_173;
LABEL_185:
    v374 = 0;
    v376 = 0;
    v60 = 0;
    v61 = 0;
    v62 = 0;
    v368 = 0;
    v63 = 0;
    goto LABEL_16;
  }
  v59 = v365;
  v155 = v363;
  v156 = v362;
  v157 = __s;
  if (v154 != 1 || !*(_QWORD *)(v50 + 120))
    goto LABEL_185;
LABEL_173:
  v158 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * *(unsigned int *)(v50 + 20));
  if (!v158)
    goto LABEL_2;
  v63 = (unsigned __int16 **)v158;
  v159 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 40);
  *v63 = (unsigned __int16 *)v159;
  if (!v159)
    goto LABEL_2;
  *((_QWORD *)*v63 + 1) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 48);
  v160 = *v63;
  if (!*((_QWORD *)*v63 + 1))
    goto LABEL_2;
  *v160 = 0;
  *((_DWORD *)v160 + 8) = 0;
  v161 = strlen(__s1[0]);
  *(_QWORD *)(*((_QWORD *)*v63 + 1) + 48 * **v63) = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v161 + 1);
  v162 = *(char **)(*((_QWORD *)*v63 + 1) + 48 * **v63);
  if (!v162)
    goto LABEL_2;
  strcpy(v162, __s1[0]);
  v163 = *v63;
  *v163 = **v63 + 1;
  v48 = crf_mde_utils_write_morphemes(a1, 0, 0, a12, a13, a14, a9, v164, a10, a11, v156, v372, v155, v163, v157, &v391);
  if ((v48 & 0x80000000) != 0)
  {
    v374 = 0;
    v376 = 0;
    v60 = 0;
    v61 = 0;
    v62 = 0;
    v368 = 0;
    v218 = 1;
    goto LABEL_291;
  }
  v374 = 0;
  v376 = 0;
  v60 = 0;
  v61 = 0;
  v62 = 0;
  v368 = 0;
  if ((unsigned __int16)v391 == (unsigned __int16)v385)
    v165 = v385;
  else
    v165 = v360;
  v382 = 1;
LABEL_182:
  *v361 = v165 - v363;
LABEL_16:
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"CRF MDE segmentation for token \"%s\" : %s", v45, v46, v47, (uint64_t)__s1[0]);
  crf_mde_seg_fv_dealloc((_QWORD *)a1, (uint64_t)v398);
  if (v392)
  {
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v392);
    v392 = 0;
  }
  if (v379)
    heap_Free(*(_QWORD **)(a1 + 8), v59);
  if (v374)
  {
    for (k = 0; k != v374; ++k)
    {
      if (v62)
      {
        v66 = (uint64_t)v62[k];
        if (v66)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v66);
          v62[k] = 0;
        }
      }
      if (v61)
      {
        v67 = (uint64_t)v61[k];
        if (v67)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v67);
          v61[k] = 0;
        }
      }
      if (v60)
      {
        v68 = (uint64_t)v60[k];
        if (v68)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v68);
          v60[k] = 0;
        }
      }
    }
    if (v368)
      heap_Free(*(_QWORD **)(a1 + 8), v368);
    if (v62)
      heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v62);
    if (v61)
      heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v61);
    if (v60)
      heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v60);
  }
  crf_mde_utils_dynstr_free((_QWORD *)a1, (uint64_t)__s1);
  if (v393)
  {
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v393);
    v393 = 0;
  }
  if (v376)
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v376);
  if (v381)
  {
    if (v382)
    {
      v69 = v382;
      v70 = (uint64_t *)v381;
      do
      {
        if (*v70)
        {
          heap_Free(*(_QWORD **)(a1 + 8), *v70);
          *v70 = 0;
        }
        ++v70;
        --v69;
      }
      while (v69);
    }
    heap_Free(*(_QWORD **)(a1 + 8), v381);
    heap_Free(*(_QWORD **)(a1 + 8), v373);
  }
  if (v64)
  {
    v71 = *(unsigned __int16 *)(v50 + 10);
    if (2 * v71 + v380)
    {
      v72 = 0;
      do
      {
        v73 = v72;
        v74 = v64[v72];
        if (v74)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v74);
          v64[v73] = 0;
          v71 = *(unsigned __int16 *)(v50 + 10);
        }
        v72 = v73 + 1;
      }
      while (v380 + 2 * v71 > (unsigned __int16)(v73 + 1));
    }
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v64);
  }
  v75 = v396;
  if (v396)
  {
    v76 = v395;
    if (v395)
    {
      v77 = 0;
      do
      {
        v78 = v77;
        v79 = *(_QWORD *)(v396 + 8 * v77);
        if (v79)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v79);
          *(_QWORD *)(v396 + 8 * v78) = 0;
          v76 = v395;
        }
        v77 = v78 + 1;
      }
      while (v76 > (unsigned __int16)(v78 + 1));
      v75 = v396;
    }
    heap_Free(*(_QWORD **)(a1 + 8), v75);
    v396 = 0;
  }
  if (v63)
  {
    if (*(_DWORD *)(v50 + 20))
    {
      v80 = 0;
      do
      {
        v81 = v80;
        v82 = v63[v80];
        if (*v82)
        {
          v83 = 0;
          do
          {
            heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(*((_QWORD *)v82 + 1) + 48 * v83));
            *(_QWORD *)(*((_QWORD *)v63[v81] + 1) + 48 * v83) = 0;
            v84 = v63[v81];
            v85 = *((_QWORD *)v84 + 1);
            if (*(_WORD *)(v85 + 48 * v83 + 8))
            {
              v86 = 0;
              v87 = 0;
              do
              {
                v88 = *(_QWORD *)(*(_QWORD *)(v85 + 48 * v83 + 16) + v86 + 8);
                if (v88)
                {
                  heap_Free(*(_QWORD **)(a1 + 8), v88);
                  *(_QWORD *)(*(_QWORD *)(*((_QWORD *)v63[v81] + 1) + 48 * v83 + 16) + v86 + 8) = 0;
                  v84 = v63[v81];
                }
                v85 = *((_QWORD *)v84 + 1);
                v89 = *(_QWORD *)(v85 + 48 * v83 + 16);
                v90 = *(_QWORD *)(v89 + v86 + 16);
                if (v90)
                {
                  heap_Free(*(_QWORD **)(a1 + 8), v90);
                  *(_QWORD *)(*(_QWORD *)(*((_QWORD *)v63[v81] + 1) + 48 * v83 + 16) + v86 + 16) = 0;
                  v84 = v63[v81];
                  v85 = *((_QWORD *)v84 + 1);
                  v89 = *(_QWORD *)(v85 + 48 * v83 + 16);
                }
                v91 = *(_QWORD *)(v89 + v86 + 24);
                if (v91)
                {
                  heap_Free(*(_QWORD **)(a1 + 8), v91);
                  *(_QWORD *)(*(_QWORD *)(*((_QWORD *)v63[v81] + 1) + 48 * v83 + 16) + v86 + 24) = 0;
                  v84 = v63[v81];
                  v85 = *((_QWORD *)v84 + 1);
                }
                ++v87;
                v86 += 32;
              }
              while (v87 < *(unsigned __int16 *)(v85 + 48 * v83 + 8));
            }
            heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(v85 + 48 * v83 + 16));
            *(_QWORD *)(*((_QWORD *)v63[v81] + 1) + 48 * v83++ + 16) = 0;
            v82 = v63[v81];
          }
          while (v83 < *v82);
        }
        heap_Free(*(_QWORD **)(a1 + 8), *((_QWORD *)v82 + 1));
        *((_QWORD *)v63[v81] + 1) = 0;
        crf_mde_utils_CRF_MDE_SEGPAT_T_free((_QWORD *)a1, (uint64_t *)v63[v81] + 3, v63[v81][8]);
        heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v63[v81]);
        v63[v81] = 0;
        v80 = v81 + 1;
      }
      while (*(_DWORD *)(v50 + 20) > (unsigned __int16)(v81 + 1));
    }
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v63);
  }
  return v48;
}

uint64_t isUmlaut(const char *a1, int a2, unsigned __int8 **a3, unsigned int a4, _WORD *a5)
{
  uint64_t v9;
  uint64_t v10;
  unsigned __int16 v11;

  if (!a4)
    return 0;
  v9 = 0;
  v10 = a4;
  while (1)
  {
    v11 = Utf8_LengthInBytes(*a3, 1);
    if (a2 == v11 && !strncmp(a1, (const char *)*a3, v11))
      break;
    ++v9;
    a3 += 2;
    if (v10 == v9)
      return 0;
  }
  *a5 = v9;
  return 1;
}

uint64_t crf_mde_seg_concat_strings(uint64_t a1, uint64_t *a2, char **a3)
{
  unsigned int v6;
  int v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  unsigned int v15;
  unsigned __int8 v16;
  unsigned int v17;
  unsigned int v19;

  v6 = *((_DWORD *)a2 + 2);
  if (v6)
  {
    v7 = 0;
    LODWORD(v8) = 0;
    v9 = *a2;
    do
      v8 = v8 + strlen(*(const char **)(v9 + 16 * v7++)) + 2;
    while (v6 > v7);
  }
  else
  {
    v8 = 0;
  }
  v10 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v8);
  *a3 = (char *)v10;
  if (v10)
  {
    if (*((_DWORD *)a2 + 2))
    {
      v15 = 0;
      v16 = 0;
      do
      {
        strcat(*a3, *(const char **)(*a2 + 16 * v16));
        v17 = *((_DWORD *)a2 + 2);
        if (v17 - 1 > v15)
        {
          *(_WORD *)&(*a3)[strlen(*a3)] = 32;
          v17 = *((_DWORD *)a2 + 2);
        }
        v15 = ++v16;
      }
      while (v17 > v16);
    }
    return 0;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v11, v12, v13, v14, v19);
    return 2310021130;
  }
}

uint64_t crf_mde_seg_set_param_value(uint64_t a1, uint64_t a2, unsigned int a3, unsigned int a4, _WORD *a5, int *a6, int *a7, int *a8)
{
  const char *v15;
  uint64_t result;
  int v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  int v21;

  v15 = (const char *)(a2 + a3);
  if (!strcmp(v15, "nbest"))
  {
    *a8 = atoi((const char *)(a2 + a4));
    return log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"set mde param, %s: %s", v18, v19, v20, (uint64_t)v15);
  }
  if (!strcmp(v15, "padding"))
  {
    *a5 = atoi((const char *)(a2 + a4));
    return log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"set mde param, %s: %s", v18, v19, v20, (uint64_t)v15);
  }
  if (!strcmp(v15, "annotation"))
  {
    result = strcmp((const char *)(a2 + a4), "BMES");
    if ((_DWORD)result)
    {
      result = strcmp((const char *)(a2 + a4), "BI");
      if ((_DWORD)result)
        return result;
      v21 = 1;
    }
    else
    {
      v21 = 2;
    }
    *a7 = v21;
    return result;
  }
  result = strcmp(v15, "type");
  if (!(_DWORD)result)
  {
    result = strcmp((const char *)(a2 + a4), "char");
    if (!(_DWORD)result)
    {
      v17 = 1;
      goto LABEL_18;
    }
    result = strcmp((const char *)(a2 + a4), "morpheme");
    if (!(_DWORD)result)
    {
      v17 = 2;
LABEL_18:
      *a6 = v17;
    }
  }
  return result;
}

uint64_t crf_mde_seg_set_featureparam_value(uint64_t a1, uint64_t a2, unsigned int a3, unsigned int a4, char **a5)
{
  const char *v9;
  const char *v10;
  size_t v11;
  char *v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  unsigned int v21;

  v9 = (const char *)(a2 + a3);
  if (strcmp(v9, "isvowel"))
    return 0;
  v10 = (const char *)(a2 + a4);
  v11 = strlen(v10);
  v12 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v11 + 1);
  *a5 = v12;
  if (v12)
  {
    strcpy(v12, v10);
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"set mde featureparam, %s: %s", v17, v18, v19, (uint64_t)v9);
    return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v13, v14, v15, v16, v21);
  return 2310021130;
}

uint64_t oneword_posparser_Open(uint64_t a1)
{
  _OWORD *v2;
  uint64_t result;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  const char *v11;
  char *v12;
  uint64_t v13;
  uint64_t v14;
  _QWORD *v15;
  uint64_t *v16;
  __int128 v17[2];
  _QWORD *(*v18)(_QWORD *, _QWORD *);
  int v19;
  uint64_t v20;
  unsigned __int8 v21;
  __int16 v22;

  v20 = 0;
  *(_DWORD *)(a1 + 2004) = 0;
  *(_QWORD *)&v17[0] = 0;
  v21 = 0;
  v19 = 0;
  v22 = -1;
  v2 = (_OWORD *)(a1 + 64);
  result = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, __int128 *, __int16 *, unsigned __int8 *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "arwpospredictiononly", v17, &v22, &v21);
  if ((result & 0x80000000) != 0 || !v22)
  {
    if ((result & 0x80000000) != 0)
      return result;
    return oneword_posparser_Close(a1, v4, v5, v6, v7, v8, v9, v10);
  }
  v11 = **(const char ***)&v17[0];
  v12 = strchr(**(char ***)&v17[0], v21);
  if (v12)
  {
    *v12 = 0;
    v11 = **(const char ***)&v17[0];
  }
  if (strcmp(v11, "1"))
    return oneword_posparser_Close(a1, v4, v5, v6, v7, v8, v9, v10);
  v19 = 1;
  result = posparser_Open(*(_QWORD *)a1, (uint64_t *)(a1 + 2008));
  if ((result & 0x80000000) == 0)
  {
    *(_OWORD *)(*(_QWORD *)(a1 + 2008) + 8) = *v2;
    v13 = *(_QWORD *)(a1 + 2008);
    *(_QWORD *)(v13 + 24) = *(_QWORD *)(a1 + 80);
    *(_QWORD *)(v13 + 32) = *(_QWORD *)(a1 + 56);
    *(_QWORD *)(v13 + 56) = *(_QWORD *)(a1 + 104);
    *(_OWORD *)(v13 + 40) = *(_OWORD *)(a1 + 88);
    result = paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"langcode", &v20);
    if ((result & 0x80000000) == 0)
    {
      __strcpy_chk();
      *(_DWORD *)(*(_QWORD *)(a1 + 2008) + 243) = 7565168;
      v14 = *(_QWORD *)(a1 + 2008);
      result = getPosparserIGTreesAndDict(*(_QWORD *)a1, *(_WORD **)(a1 + 16), *(_QWORD *)(a1 + 24), *(_QWORD *)(v14 + 8), *(_QWORD *)(v14 + 16), *(_QWORD *)(v14 + 24), (_DWORD *)(v14 + 232), (uint64_t *)(v14 + 216), (uint64_t *)(v14 + 224), (_DWORD *)(v14 + 236), v14 + 240, &v19);
      if ((result & 0x80000000) == 0)
      {
        if (v19)
        {
          *(_DWORD *)(a1 + 2004) = 1;
          v15 = *(_QWORD **)(*(_QWORD *)a1 + 8);
          v16 = (uint64_t *)(*(_QWORD *)(a1 + 2008) + 256);
          v17[0] = xmmword_1EA93F190;
          v17[1] = *(_OWORD *)off_1EA93F1A0;
          v18 = ssftmap_ElemFreeString;
          result = ssftmap_ObjOpen(v15, 0, v17, v16);
          if ((result & 0x80000000) == 0)
            return posparser_getPosMap(*(_QWORD **)(a1 + 2008));
          return result;
        }
        return oneword_posparser_Close(a1, v4, v5, v6, v7, v8, v9, v10);
      }
    }
  }
  return result;
}

uint64_t oneword_posparser_Close(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  _QWORD *v9;
  uint64_t v10;

  v9 = *(_QWORD **)(a1 + 2008);
  if (v9)
  {
    if (v9[32])
    {
      v10 = ssftmap_ObjClose(v9[32]);
      v9 = *(_QWORD **)(a1 + 2008);
      if ((v10 & 0x80000000) != 0)
        goto LABEL_10;
    }
    else
    {
      v10 = 0;
    }
    if (v9[27] && v9[28])
    {
      v10 = freePosparserIGTrees(*(_QWORD *)a1, v9 + 27, v9 + 28, a4, a5, a6, a7, a8);
      v9 = *(_QWORD **)(a1 + 2008);
    }
  }
  else
  {
    v10 = 0;
  }
LABEL_10:
  posparser_Close(v9);
  *(_QWORD *)(a1 + 2008) = 0;
  *(_DWORD *)(a1 + 2004) = 0;
  return v10;
}

uint64_t oneword_posparser_Reopen(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t result;

  result = oneword_posparser_Close(a1, a2, a3, a4, a5, a6, a7, a8);
  if ((result & 0x80000000) == 0)
    return oneword_posparser_Open(a1);
  return result;
}

uint64_t oneword_posparser_Start(uint64_t a1)
{
  uint64_t result;

  result = posparser_ProcessStart(*(char **)(a1 + 2008));
  if ((result & 0x80000000) == 0 && !*(_DWORD *)(*(_QWORD *)(a1 + 2008) + 248))
  {
    posparser_ProcessEnd(*(_QWORD **)(a1 + 2008));
    result = 0;
    *(_DWORD *)(a1 + 2004) = 0;
  }
  return result;
}

uint64_t oneword_posparser_End(uint64_t a1)
{
  posparser_ProcessEnd(*(_QWORD **)(a1 + 2008));
  return 0;
}

uint64_t oneword_posparser_Process(_QWORD *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  unsigned int v7;
  char *v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  const char *v13;
  uint64_t v14;
  char *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  __int16 v22;
  uint64_t v23;
  unsigned int v24;
  uint64_t v25;
  unint64_t v26;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  unsigned __int16 v32;
  int v33;
  __n128 v34;
  unsigned int v35;
  unsigned __int16 v36;
  char *v37;
  void *__src;
  __int16 v39;
  int v40;
  uint64_t v41;
  char *v42;
  char *__s;
  __int16 v44;
  unsigned __int16 v45;
  unsigned __int16 v46;
  __n128 v47;
  __int128 v48;
  int v49;
  unsigned __int16 v50;
  int v51;
  int v52;

  v45 = 0;
  v44 = 0;
  v42 = 0;
  __s = 0;
  v41 = 0;
  v40 = 0;
  v39 = 0;
  v37 = 0;
  __src = 0;
  v36 = 0;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1[7] + 104))(a2, a3, 1, 0, &v45);
  if ((v6 & 0x80000000) != 0)
    goto LABEL_22;
  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a1[7] + 184))(a2, a3, v45, 0, &v44) & 0x80000000) != 0)
    return v6;
  if (v44 != 1)
    return v6;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a1[7] + 176))(a2, a3, v45, 0, &__s, &v40);
  if ((v6 & 0x80000000) != 0 || (unsigned __int16)v40 < 2u)
    return v6;
  v7 = strlen(__s);
  v8 = (char *)heap_Calloc(*(_QWORD **)(*a1 + 8), 1, v7 + 1);
  v42 = v8;
  if (!v8)
    goto LABEL_34;
  v13 = v8;
  strcpy(v8, __s);
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, void **, unsigned __int16 *))(a1[7] + 176))(a2, a3, v45, 1, &__src, &v36);
  if ((v14 & 0x80000000) == 0)
  {
    v15 = (char *)heap_Alloc(*(_QWORD *)(*a1 + 8), 32 * v36);
    v37 = v15;
    if (v15)
    {
      v16 = (uint64_t)v15;
      memcpy(v15, __src, 32 * v36);
      v17 = v45;
      v51 = 0;
      v52 = 0;
      v50 = 0;
      v49 = 0;
      v18 = v36;
      v46 = v36;
      v47 = 0u;
      v48 = 0u;
      v47.n128_u32[0] = 1;
      if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(a1[7] + 184))(a2, a3, v45, 3, (char *)&v52 + 2) & 0x80000000) != 0|| HIWORD(v52) != 1|| ((*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, int *))(a1[7] + 104))(a2, a3, 3, v17, &v52) & 0x80000000) != 0)
      {
LABEL_15:
        v21 = v16;
      }
      else
      {
        v19 = 0;
        v20 = 32 * v18 + 32;
        while ((_WORD)v52)
        {
          v20 += 32;
          --v19;
          if (((*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 120))(a2, a3) & 0x80000000) != 0)
            goto LABEL_15;
        }
        if (v19)
        {
          v21 = heap_Realloc(*(uint64_t **)(*a1 + 8), v16, v20);
          if (!v21)
          {
            log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 54000, 0, v28, v29, v30, v31, v35);
            v18 = v36;
            goto LABEL_17;
          }
        }
        else
        {
          v21 = v16;
        }
        if (((*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, int *))(a1[7] + 104))(a2, a3, 3, v17, &v52) & 0x80000000) == 0)
        {
          v32 = v52;
          if ((_WORD)v52)
          {
            do
            {
              if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, v32, 1, 1, &v51, (char *)&v51 + 2) & 0x80000000) != 0)break;
              if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(a1[7] + 168))(a2, a3, (unsigned __int16)v52, 2, 1, &v50, (char *)&v51 + 2) & 0x80000000) != 0)break;
              if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, (unsigned __int16)v52, 0, 1, &v49, (char *)&v51 + 2) & 0x80000000) != 0)break;
              v47.n128_u32[0] = 59;
              v47.n128_u32[1] = (unsigned __int16)v51;
              v33 = *(_DWORD *)(v21 + 12) + (unsigned __int16)v51;
              v47.n128_u32[2] = v50;
              v47.n128_u32[3] = v33;
              LODWORD(v48) = v50 - (unsigned __int16)v51;
              DWORD2(v48) = v49;
              v34 = posPInsertTOKMarker(v21, &v46, &v47);
              if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *, __n128))(a1[7] + 120))(a2, a3, (unsigned __int16)v52, &v52, v34) & 0x80000000) != 0)break;
              v32 = v52;
            }
            while ((_WORD)v52);
            v18 = v46;
          }
        }
      }
      v37 = (char *)v21;
      v36 = v18;
      v16 = v21;
LABEL_17:
      v14 = posparser_ExtractWords((_DWORD *)a1[251], v16, v18, v13, v7, &v41, (unsigned __int16 *)&v40 + 1);
      if ((v14 & 0x80000000) == 0)
      {
        v14 = posparser_Process((unsigned __int16 *)a1[251], a2, a3, v41, HIWORD(v40), 0, v45, &v42, (uint64_t *)&v37, &v36);
        if ((v14 & 0x80000000) == 0)
        {
          v22 = strlen(v42);
          v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, _QWORD, char *, __int16 *))(a1[7] + 160))(a2, a3, v45, 0, (unsigned __int16)(v22 + 1), v42, &v39);
          if ((v14 & 0x80000000) == 0)
            v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1[7] + 160))(a2, a3, v45, 1, v36, v37, &v39);
        }
      }
      goto LABEL_21;
    }
LABEL_34:
    v6 = 2310021130;
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 54000, 0, v9, v10, v11, v12, v35);
    return v6;
  }
LABEL_21:
  v6 = v14;
LABEL_22:
  if (v42)
    heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v42);
  v23 = (uint64_t)v37;
  if (v37)
  {
    v24 = v36;
    if (v36)
    {
      v25 = 0;
      v26 = 0;
      do
      {
        if (*(_DWORD *)&v37[v25] == 58)
        {
          heap_Free(*(_QWORD **)(*a1 + 8), *(_QWORD *)&v37[v25 + 24]);
          *(_QWORD *)&v37[v25 + 24] = 0;
          v24 = v36;
        }
        ++v26;
        v25 += 32;
      }
      while (v26 < v24);
      v23 = (uint64_t)v37;
    }
    heap_Free(*(_QWORD **)(*a1 + 8), v23);
  }
  if (v41)
    posparser_FreeWords((_QWORD *)a1[251], v41, HIWORD(v40));
  return v6;
}

uint64_t dt_Main(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, char *__s2)
{
  uint64_t v10;
  const char **v12;
  char *v13;
  int v14;
  uint64_t v15;
  int v16;
  int v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  int v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  int Word;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  int v36;
  uint64_t v37;
  char v38;
  uint64_t appended;
  uint64_t v40;
  int v41;
  int v42;
  int v43;
  unsigned __int16 v44;
  char *v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  _BOOL4 IsEmpty;
  char v52;
  __int16 v53;
  char v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  const char *v59;
  unsigned __int16 v60;
  char *v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  int v70;
  unint64_t v71;
  uint64_t v72;
  unsigned __int16 v73;
  const char *v74;
  const char *v75;
  size_t v76;
  const char *v77;
  unint64_t v78;
  uint64_t v79;
  uint64_t v80;
  unsigned int v81;
  unsigned int v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v88;
  unsigned int v89;
  unsigned __int16 v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t v97;
  unsigned __int16 v98;
  unint64_t v99;
  uint64_t v100;
  char *v101;
  char *v102;
  size_t v103;
  char *v104;
  __int16 v105;
  size_t *v106;
  uint64_t v107;
  _BOOL4 v108;
  int v109;
  uint64_t v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  int v116;
  uint64_t v117;
  unsigned int v119;
  int v120;
  _BOOL4 v121;
  size_t *v122;
  unsigned __int16 v123;
  unsigned __int16 v124;
  uint64_t v125;
  uint64_t v126;
  char v127;
  char *__s1;
  uint64_t v129;
  unsigned int v130;
  unsigned int v131;
  unsigned int v132;
  unsigned __int16 v133;
  char *v134;
  char *__s;
  unsigned __int16 v136;
  int v137;
  _OWORD v138[2];
  _OWORD v139[2];
  char v140[128];
  uint64_t v141;

  LODWORD(v10) = a2;
  v141 = *MEMORY[0x1E0C80C00];
  memset(v139, 0, sizeof(v139));
  v137 = 0;
  v136 = 0;
  v134 = 0;
  __s = 0;
  v133 = 0;
  v132 = 0;
  memset(v138, 0, sizeof(v138));
  v12 = (const char **)(a1 + 168);
  **(_BYTE **)(a1 + 168) = 0;
  *(_BYTE *)(*(_QWORD *)(a1 + 160) + 127) = 0;
  v13 = (char *)(a1 + 584);
  if (!strstr((char *)(a1 + 584), __s2))
  {
    v14 = strlen(*(const char **)(a1 + 160));
    v15 = utf8_Utf8ToDepes(*(_QWORD *)(a1 + 160), v14 + 1, 0, *(_QWORD *)(a1 + 160), v14 + 1, &v132, 0);
    if ((v15 & 0x80000000) != 0)
      return v15;
  }
  v130 = v10;
  v16 = strlen(*(const char **)(a1 + 160));
  v17 = Transcription_Con((uint64_t)v139, a1 + 888, *(_BYTE **)(a1 + 160), v16 + 1, 4, 1);
  v18 = LH_ERROR_to_VERROR(v17);
  if ((v18 & 0x80000000) != 0)
  {
    v40 = v18;
    goto LABEL_99;
  }
  __s1 = v13;
  v23 = PtrQueue_Con((uint64_t)v138, a1 + 888, 5u, 5);
  v28 = LH_ERROR_to_VERROR(v23);
  if ((v28 & 0x80000000) != 0)
  {
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34004, 0, v24, v25, v26, v27, v119);
    appended = v28;
    goto LABEL_93;
  }
  Word = _LexDT_FindWord(a5, (uint64_t)v139, (uint64_t)v138);
  v30 = LH_ERROR_to_VERROR(Word);
  v35 = v30;
  v10 = v10;
  if ((v30 & 0x80000000) != 0)
  {
    v36 = v30 & 0x1FFF;
    v37 = *(_QWORD *)(*(_QWORD *)a1 + 32);
    if (v36 != 266)
    {
      log_OutPublic(v37, (uint64_t)"FE_ONEWORD", 34004, 0, v31, v32, v33, v34, v119);
      goto LABEL_27;
    }
    log_OutPublic(v37, (uint64_t)"FE_ONEWORD", 34005, 0, v31, v32, v33, v34, v119);
  }
  if (PtrQueue_IsEmpty((uint64_t)v138))
  {
    v38 = 1;
    appended = v35;
    if (!(_DWORD)v10)
      goto LABEL_93;
LABEL_32:
    if (**v12)
      v52 = 0;
    else
      v52 = v38;
    if ((v52 & 1) == 0)
    {
      if (dynamic_strcat(v12, ";_", (size_t *)(a1 + 200), *(uint64_t **)(*(_QWORD *)a1 + 8)))
      {
        v53 = strlen(*(const char **)(a1 + 168));
        appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 160))(a3, a4, v10, 11, (unsigned __int16)(v53 + 1), *(_QWORD *)(a1 + 168), (char *)&v137 + 2);
      }
      else
      {
LABEL_88:
        appended = 2310021130;
      }
    }
    goto LABEL_93;
  }
  v136 = 0;
  v125 = a4;
  v126 = a3;
  if (!(_DWORD)v10)
    goto LABEL_29;
  v41 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 184))(a3, a4, v10, 11, &v136);
  v42 = v136;
  if ((v41 & 0x80000000) == 0 && v136 == 1)
  {
    v35 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(*(_QWORD *)(a1 + 56) + 176))(a3, a4, v10, 11, &__s, &v137);
    if ((v35 & 0x80000000) == 0)
    {
      v42 = v136;
      goto LABEL_19;
    }
LABEL_27:
    appended = v35;
    goto LABEL_93;
  }
LABEL_19:
  if (v42)
  {
    v43 = v28;
    v28 = (uint64_t)__s;
    if (__s)
    {
      appended = 2310021130;
      v44 = strlen(__s) + 3;
      v45 = *(char **)(a1 + 168);
      if (*(_QWORD *)(a1 + 200) < (unint64_t)v44)
      {
        v46 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)v45, v44);
        if (!v46)
        {
          log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v47, v48, v49, v50, v119);
          LODWORD(v28) = v43;
          goto LABEL_93;
        }
        v45 = (char *)v46;
        *v12 = (const char *)v46;
        *(_QWORD *)(a1 + 200) = v44;
        v28 = (uint64_t)__s;
      }
      strcpy(v45, (const char *)v28);
      v123 = v44;
      LODWORD(v28) = v43;
      a4 = v125;
      v10 = v130;
      if (!dynamic_strcat(v12, "\x12", (size_t *)(a1 + 200), *(uint64_t **)(*(_QWORD *)a1 + 8)))
        goto LABEL_93;
      goto LABEL_30;
    }
    LODWORD(v28) = v43;
    a4 = v125;
  }
LABEL_29:
  **v12 = 0;
  v123 = 3;
LABEL_30:
  IsEmpty = PtrQueue_IsEmpty((uint64_t)v138);
  v38 = 1;
  appended = v35;
  if (IsEmpty)
  {
    if (!(_DWORD)v10)
      goto LABEL_93;
    goto LABEL_32;
  }
  v54 = 0;
  v120 = v28;
  v121 = v10 == 0;
  v122 = (size_t *)(a1 + 200);
  do
  {
    v127 = v54;
    v55 = PtrQueue_Item((uint64_t)v138);
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"DT: %s", v56, v57, v58, *(_QWORD *)(v55 + 8));
    strcpy(v140, "dtpostproc");
    v124 = strlen(v140);
    v129 = v55;
    if (*(_DWORD *)(a1 + 576) && !*(_DWORD *)(a1 + 840))
    {
      v131 = 0;
      v77 = *(const char **)(v55 + 8);
      v78 = (unsigned __int16)(2 * strlen(v77)) | 1u;
      v79 = *(_QWORD *)(a1 + 176);
      if (*(_QWORD *)(a1 + 208) < v78)
      {
        v80 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 176), v78);
        if (!v80)
        {
LABEL_91:
          appended = 2310021130;
          log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v63, v64, v65, v66, v119);
          goto LABEL_92;
        }
        v79 = v80;
        *(_QWORD *)(a1 + 176) = v80;
        *(_QWORD *)(a1 + 208) = v78;
        v77 = *(const char **)(v129 + 8);
      }
      appended = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, const char *, unint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 152) + 72))(*(_QWORD *)(a1 + 136), *(_QWORD *)(a1 + 144), 1, v77, v78, v79, 0);
      v81 = strlen(*(const char **)(a1 + 176));
      v82 = (unsigned __int16)Utf8_DepesLengthInBytesUtf8(*(unsigned __int8 **)(a1 + 176), v81);
      v83 = *(_QWORD *)(a1 + 160);
      if (v82 >= *(unsigned __int16 *)(a1 + 192))
      {
        v84 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 160), v82 + 1);
        if (!v84)
          goto LABEL_101;
        v83 = v84;
        *(_QWORD *)(a1 + 160) = v84;
        *(_QWORD *)(a1 + 192) = v82 + 1;
        v10 = v130;
      }
      if (!strstr(__s1, __s2))
      {
        v89 = strlen(*(const char **)(a1 + 176));
        appended = utf8_DepesToUtf8(*(_QWORD *)(a1 + 176), v89, 0, v83, v82, &v131, 0);
        if ((appended & 0x80000000) != 0)
          goto LABEL_93;
        v83 = *(_QWORD *)(a1 + 160);
      }
      *(_BYTE *)(v83 + v131) = 0;
      a3 = v126;
      goto LABEL_61;
    }
    v59 = *(const char **)(v55 + 8);
    v60 = strlen(v59) + 1;
    v61 = *(char **)(a1 + 160);
    if (*(_QWORD *)(a1 + 192) < (unint64_t)v60)
    {
      v62 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)v61, v60);
      if (!v62)
        goto LABEL_91;
      v61 = (char *)v62;
      *(_QWORD *)(a1 + 160) = v62;
      *(_QWORD *)(a1 + 192) = v60;
      v59 = *(const char **)(v129 + 8);
    }
    strcpy(v61, v59);
    appended = 0;
    v70 = *(_DWORD *)(a1 + 840);
    if (!v70 && v60)
    {
      v71 = 0;
      v72 = 1;
      v73 = v60;
      do
      {
        v74 = *(const char **)(a1 + 160);
        v75 = &v74[v71];
        if (v74[v71] == 126)
        {
          v76 = strlen(v74);
          memmove((void *)(v75 + 1), v75, v76 + v72);
          *(_WORD *)(*(_QWORD *)(a1 + 160) + v71) = -24126;
          ++v73;
        }
        ++v71;
        --v72;
      }
      while (v71 < v73);
      appended = 0;
      a4 = v125;
      a3 = v126;
      v10 = v130;
LABEL_61:
      v70 = *(_DWORD *)(a1 + 840);
    }
    if (v70)
    {
      v134 = *(char **)(a1 + 160);
    }
    else
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v67, v68, v69, (uint64_t)v140);
      v90 = strlen(*(const char **)(a1 + 160));
      v91 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, *(_QWORD *)(a1 + 160), v90);
      if ((v91 & 0x80000000) != 0)
        goto LABEL_90;
      if (strcmp(__s2, "normal"))
      {
        __strcat_chk();
        __strcat_chk();
      }
      if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), v140) & 0x80000000) != 0)
      {
        v140[v124] = 0;
        v91 = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), v140);
        if ((v91 & 0x80000000) != 0)
        {
LABEL_90:
          appended = v91;
LABEL_92:
          PDELETE_Transcription(a1 + 888, v129);
          goto LABEL_93;
        }
      }
      appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 104)
                                                                                                + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, &v134, &v133);
      if ((appended & 0x80000000) != 0)
        goto LABEL_92;
      v134[v133] = 0;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v92, v93, v94, (uint64_t)v140);
      v98 = v133;
      if (v133)
      {
        v99 = 0;
        v100 = 1;
        do
        {
          v101 = v134;
          v102 = &v134[v99];
          if (!strncmp(&v134[v99], "¡", 2uLL))
          {
            v103 = strlen(v101);
            memmove(v102 + 1, v102 + 2, v103 + v100);
            v134[v99] = 126;
            v98 = v133;
          }
          ++v99;
          --v100;
        }
        while (v99 < v98);
      }
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v95, v96, v97, (uint64_t)v140);
      LODWORD(v28) = v120;
      a4 = v125;
      a3 = v126;
      v10 = v130;
    }
    if ((v127 & 1) != 0)
    {
      if ((_DWORD)v10)
      {
        v104 = v134;
        v105 = strlen(v134);
        v106 = (size_t *)(a1 + 200);
        v123 += v105 + 1;
        if (*v122 < v123)
        {
          v107 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 168), v123);
          if (!v107)
          {
LABEL_101:
            appended = 2310021130;
            log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v85, v86, v87, v88, v119);
            goto LABEL_93;
          }
          *v12 = (const char *)v107;
          v106 = (size_t *)(a1 + 200);
          *v122 = v123;
          v104 = v134;
        }
        if (!dynamic_strcat(v12, v104, v106, *(uint64_t **)(*(_QWORD *)a1 + 8))
          || !dynamic_strcat(v12, "\x12", v122, *(uint64_t **)(*(_QWORD *)a1 + 8)))
        {
          goto LABEL_88;
        }
      }
    }
    else
    {
      appended = oneword_AppendPhon(a1, v134, "*", (uint64_t)"*", 0, v121);
      if ((appended & 0x80000000) != 0)
        goto LABEL_92;
    }
    PtrQueue_Remove((uint64_t)v138);
    PDELETE_Transcription(a1 + 888, v129);
    v108 = PtrQueue_IsEmpty((uint64_t)v138);
    v54 = 1;
  }
  while (!v108);
  v38 = 0;
  if ((_DWORD)v10)
    goto LABEL_32;
LABEL_93:
  v109 = Transcription_Des((uint64_t)v139);
  v110 = LH_ERROR_to_VERROR(v109);
  if ((appended & 0x80000000) == 0)
  {
    v115 = v110;
    if ((v110 & 0x80000000) != 0)
    {
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34004, 0, v111, v112, v113, v114, v119);
      appended = v115;
    }
  }
  if ((v28 & 0x80000000) == 0)
  {
    v116 = (*(uint64_t (**)(_OWORD *))(*(_QWORD *)&v138[0] + 16))(v138);
    v117 = LH_ERROR_to_VERROR(v116);
    if ((appended & 0x80000000) == 0)
    {
      v40 = v117;
      if ((v117 & 0x80000000) != 0)
      {
LABEL_99:
        log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34004, 0, v19, v20, v21, v22, v119);
        return v40;
      }
    }
  }
  return appended;
}

uint64_t mde_stemafx_Main(uint64_t a1, const char *a2, char *__s, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  size_t v11;
  uint64_t v12;
  int v13;
  int v14;
  unsigned int v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  int v20;
  uint64_t v22;
  int v23;

  v23 = 0;
  if (*(_BYTE *)(a1 + 286) == 1
    && (v11 = strlen(__s), v11 >= *(unsigned __int8 *)(a1 + 282))
    && v11 <= *(unsigned __int8 *)(a1 + 283)
    && (*(_BYTE *)(a1 + 284) != 1
     || (v14 = *__s, (v14 - 65) < 0x1A)
     || (v15 = v14 - 128, v15 <= 0x25) && ((1 << v15) & 0x200605C001) != 0))
  {
    v16 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 104))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a2, __s, 128);
    if ((v16 & 0x80000000) != 0)
      return v16;
    **(_BYTE **)(a1 + 160) = 0;
    **(_BYTE **)(a1 + 168) = 0;
    **(_BYTE **)(a1 + 176) = 0;
    v12 = hlp_MdeRecurse(a1, __s, 0, &v23, 0, 0, a2);
    if ((v12 & 0x80000000) == 0 && !v23)
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Mde stem affix failed", v17, v18, v19, v22);
      strcpy(*(char **)(a1 + 160), __s);
      **(_BYTE **)(a1 + 168) = 0;
      **(_BYTE **)(a1 + 176) = 0;
      if ((unsigned __int16)strlen(__s))
      {
        v20 = 0;
        while (dynamic_strcat((const char **)(a1 + 168), " ", (size_t *)(a1 + 200), *(uint64_t **)(*(_QWORD *)a1 + 8))
             && dynamic_strcat((const char **)(a1 + 176), " ", (size_t *)(a1 + 208), *(uint64_t **)(*(_QWORD *)a1 + 8)))
        {
          v20 += utf8_determineUTF8CharLength(__s[(unsigned __int16)v20]);
          if ((unsigned __int16)strlen(__s) <= (unsigned __int16)v20)
            return v12;
        }
        return 2310021130;
      }
    }
  }
  else
  {
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Mde stem affix cfg settings do not apply on %s", a6, a7, a8, (uint64_t)__s);
    v12 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 104))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a2, __s, 128);
    if ((v12 & 0x80000000) == 0)
    {
      strcpy(*(char **)(a1 + 160), __s);
      **(_BYTE **)(a1 + 168) = 0;
      **(_BYTE **)(a1 + 176) = 0;
      if ((unsigned __int16)strlen(__s))
      {
        v13 = 0;
        while (dynamic_strcat((const char **)(a1 + 168), " ", (size_t *)(a1 + 200), *(uint64_t **)(*(_QWORD *)a1 + 8))
             && dynamic_strcat((const char **)(a1 + 176), " ", (size_t *)(a1 + 208), *(uint64_t **)(*(_QWORD *)a1 + 8)))
        {
          v13 += utf8_determineUTF8CharLength(__s[(unsigned __int16)v13]);
          if ((unsigned __int16)strlen(__s) <= (unsigned __int16)v13)
            return v12;
        }
        return 2310021130;
      }
    }
  }
  return v12;
}

uint64_t hlp_MdeRecurse(uint64_t a1, const char *a2, unsigned int a3, _DWORD *a4, int a5, char *a6, const char *a7)
{
  unsigned int v11;
  const char **v13;
  int v14;
  int v15;
  char *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  char *v21;
  char *v22;
  unsigned __int16 v23;
  const char *v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  int v29;
  uint64_t v30;
  char v31;
  uint64_t v32;
  char *v33;
  char v34;
  const char *v35;
  int v36;
  uint64_t v37;
  _DWORD *v38;
  char *v39;
  int v40;
  _DWORD *v41;
  char v42;
  char *v43;
  const char *v44;
  const char *v45;
  uint64_t v46;
  char *v47;
  size_t v48;
  size_t v49;
  char *v50;
  _QWORD *v51;
  uint64_t v52;
  char *v53;
  char v54;
  _DWORD *v55;
  const char *v56;
  char v57;
  uint64_t v58;
  char *v59;
  char *v60;
  char *v61;
  char *v62;
  unsigned __int16 v63;
  const char *v64;
  int v65;
  int v66;
  int v67;
  uint64_t v68;
  int v69;
  signed int v70;
  int v71;
  signed int v72;
  signed int v73;
  int v74;
  size_t v75;
  size_t v76;
  int v77;
  int v78;
  size_t v79;
  int v80;
  size_t v81;
  int v82;
  size_t v83;
  int v84;
  uint64_t v85;
  int v86;
  int v87;
  uint64_t v88;
  int v89;
  uint64_t v90;
  int v91;
  int v92;
  uint64_t v93;
  int v94;
  int v95;
  size_t v96;
  int v97;
  size_t v98;
  int v99;
  size_t v100;
  uint64_t v101;
  char *v102;
  char *v103;
  char *v104;
  char *v105;
  const char *v106;
  char *v107;
  unsigned __int16 v108;
  const char *v109;
  int v110;
  int v111;
  int v112;
  int v113;
  signed int v114;
  int v115;
  signed int v116;
  signed int v117;
  int v118;
  size_t v119;
  size_t v120;
  int v121;
  int v122;
  size_t v123;
  int v124;
  size_t v125;
  int v126;
  size_t v127;
  int v128;
  uint64_t v129;
  int v130;
  int v131;
  uint64_t v132;
  int v133;
  uint64_t v134;
  int v135;
  int v136;
  uint64_t v137;
  int v138;
  int v139;
  size_t v140;
  int v141;
  size_t v142;
  int v143;
  size_t v144;
  int v145;
  int v146;
  char *v147;
  uint64_t v148;
  uint64_t v149;
  uint64_t v150;
  uint64_t v151;
  uint64_t v152;
  const char *v153;
  uint64_t v154;
  uint64_t v155;
  uint64_t v156;
  uint64_t v157;
  unsigned __int16 v158;
  int v159;
  char *v160;
  char *v161;
  size_t v162;
  char v163;
  uint64_t v164;
  char v165;
  _DWORD *v166;
  uint64_t v167;
  char *v168;
  char *v169;
  const char *v170;
  char *v171;
  int v172;
  int v173;
  int v174;
  uint64_t v175;
  int v176;
  signed int v177;
  int v178;
  signed int v179;
  signed int v180;
  int v181;
  size_t v182;
  size_t v183;
  int v184;
  int v185;
  size_t v186;
  int v187;
  size_t v188;
  int v189;
  size_t v190;
  int v191;
  uint64_t v192;
  int v193;
  int v194;
  uint64_t v195;
  int v196;
  uint64_t v197;
  int v198;
  int v199;
  uint64_t v200;
  int v201;
  int v202;
  size_t v203;
  int v204;
  size_t v205;
  int v206;
  size_t v207;
  int v208;
  char *v209;
  const char *v210;
  uint64_t v211;
  uint64_t v212;
  uint64_t v213;
  uint64_t v214;
  unsigned __int16 v215;
  int v216;
  _QWORD *v218;
  unsigned int v219;
  uint64_t v220;
  unsigned int v221;
  unsigned int v222;
  unsigned int v223;
  unsigned __int8 v224;
  const char *v225;
  uint64_t v226;
  char v227;
  unsigned __int16 v228;
  char v229;
  char *__s;
  char *__sa;
  int v232;
  const char **v233;
  char *v234;
  uint64_t v235;
  char *v236;
  _DWORD *v237;
  _DWORD *v238;
  _DWORD *v239;
  uint64_t v240;
  uint64_t v241;
  const char *v242;
  const char *v243;
  const char *v244;
  size_t *v245;
  size_t *v246;
  const char **v247;
  char *v248;
  unsigned int v249;
  unsigned int v250;
  size_t *v251;
  size_t *v252;
  const char **v253;
  char v254;
  size_t *v255;
  const char **v256;
  char v258;
  const char **v259;
  __int16 v260;
  __int16 v261;
  int v262;
  uint64_t v263;
  uint64_t v264[2];

  v11 = a3;
  v263 = 0;
  v264[0] = 0;
  v262 = 0;
  v261 = 0;
  v260 = 10801;
  if (a3 != (unsigned __int16)strlen(a2))
  {
    v30 = 0;
    v31 = 32;
    v32 = 32;
    goto LABEL_15;
  }
  v249 = v11;
  v13 = (const char **)(a1 + 168);
  v14 = strlen(*(const char **)(a1 + 168));
  v15 = strlen(a7);
  v16 = (char *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), (v14 + v15 + 6));
  if (!v16)
  {
    v30 = 2310021130;
LABEL_169:
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v17, v18, v19, v20, v219);
    return v30;
  }
  v21 = v16;
  v237 = a4;
  strcpy(v16, "mde_");
  v243 = a7;
  v22 = strcat(v16, a7);
  *(_WORD *)&v21[strlen(v22)] = 95;
  v23 = strlen(v21);
  v24 = *v13;
  if ((unsigned __int16)strlen(*v13))
  {
    v28 = 0;
    do
    {
      v29 = v24[v28];
      if (v29 != 32 && v29 != 126)
      {
        v21[v23] = v29;
        v24 = *v13;
        ++v23;
      }
      ++v28;
    }
    while ((unsigned __int16)strlen(v24) > (unsigned __int16)v28);
  }
  v21[v23] = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Checking %s", v25, v26, v27, (uint64_t)v21);
  LOWORD(v262) = -1;
  v30 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t *, int *, char *))(*(_QWORD *)(a1 + 80)
                                                                                                  + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v21, v264, &v262, (char *)&v261 + 1);
  if ((v30 & 0x80000000) != 0)
    goto LABEL_278;
  if ((_WORD)v262)
  {
LABEL_11:
    *a4 = 1;
LABEL_12:
    v31 = 32;
    v32 = 32;
    a7 = v243;
    goto LABEL_13;
  }
  strcpy(v21, "mde_");
  v153 = *v13;
  if ((unsigned __int16)strlen(*v13))
  {
    v157 = 0;
    v158 = 4;
    do
    {
      v159 = v153[v157];
      if (v159 != 32 && v159 != 126)
      {
        v21[v158] = v159;
        v153 = *v13;
        ++v158;
      }
      ++v157;
    }
    while ((unsigned __int16)strlen(v153) > (unsigned __int16)v157);
  }
  else
  {
    v158 = 4;
  }
  v21[v158] = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Checking %s", v154, v155, v156, (uint64_t)v21);
  LOWORD(v262) = -1;
  v30 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t *, int *, char *))(*(_QWORD *)(a1 + 80)
                                                                                                  + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v21, v264, &v262, (char *)&v261 + 1);
  if ((v30 & 0x80000000) != 0)
  {
LABEL_278:
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v21);
    return v30;
  }
  if ((_WORD)v262)
    goto LABEL_11;
  if (*a4)
    goto LABEL_12;
  a7 = v243;
  if (!a6)
  {
    v31 = 32;
    v32 = 32;
    goto LABEL_13;
  }
  if (!*(_DWORD *)(a1 + 288))
    goto LABEL_186;
  v160 = strchr(a6, 95);
  if (!v160)
    goto LABEL_186;
  v161 = v160;
  v236 = a6;
  v162 = strlen(v160) + 1;
  memmove(a6 + 1, v161, v162);
  *a6 = 64;
  v248 = strchr(a6, 95);
  if (!v248)
  {
    v31 = 32;
    v32 = 32;
    a7 = v243;
    goto LABEL_13;
  }
  a7 = v243;
  if (*a4)
  {
LABEL_186:
    v31 = 32;
    v32 = 32;
    goto LABEL_13;
  }
  v256 = (const char **)(a1 + 160);
  v252 = (size_t *)(a1 + 192);
  v246 = (size_t *)(a1 + 200);
  v233 = (const char **)(a1 + 176);
  __sa = (char *)(a1 + 208);
  v32 = 32;
  v163 = 1;
  v31 = 32;
  while (1)
  {
    v242 = v248 + 1;
    v254 = v163;
    if ((v163 & 1) == 0)
    {
      LOBYTE(v260) = v248[1];
      v32 = v248[2];
      v31 = v248[3];
      *((_WORD *)v248 + 1) = 42;
      v242 = (const char *)&v260;
    }
    LOWORD(v262) = 0;
    v164 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t *, int *, char *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "mdeafx", a6, v264, &v262, (char *)&v261 + 1);
    if ((v164 & 0x80000000) != 0)
      goto LABEL_277;
    if ((v254 & 1) == 0)
    {
      v248[2] = v32;
      v248[3] = v31;
    }
    v164 = hlp_saveLookupResults(*(_QWORD **)(*(_QWORD *)a1 + 8), v264[0], (unsigned __int16)v262, &v263, (unsigned __int16 *)&v262 + 1);
    if ((v164 & 0x80000000) != 0)
    {
LABEL_277:
      v30 = v164;
      goto LABEL_278;
    }
    v165 = v254;
    v166 = a4;
    if (HIWORD(v262))
    {
      if (!*a4)
        break;
    }
    v30 = 0;
LABEL_202:
    if ((v165 & 1) == 0)
    {
      a4 = v166;
LABEL_13:
      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v21);
      v11 = v249;
LABEL_15:
      if (*(unsigned __int8 *)(a1 + 285) == a5)
        goto LABEL_274;
      v33 = a6;
      v34 = a5;
      v35 = a2;
      v36 = strlen(a2);
      if (v11 >= (unsigned __int16)v36)
        goto LABEL_274;
      v244 = a7;
      v227 = v31;
      __s = (char *)&a2[v11];
      v224 = v34 + 1;
      v259 = (const char **)(a1 + 160);
      v253 = (const char **)(a1 + 168);
      v255 = (size_t *)(a1 + 192);
      v251 = (size_t *)(a1 + 200);
      v245 = (size_t *)(a1 + 208);
      v247 = (const char **)(a1 + 176);
      v37 = (unsigned __int16)v36;
      v38 = a4;
      v39 = v33;
      v40 = v36;
      while (2)
      {
        if (*v38)
          goto LABEL_274;
        v41 = v38;
        v42 = v35[v37];
        v35[v37] = 0;
        if (v11)
        {
          v258 = v42;
          v43 = strchr(v39, 95);
          if (v43)
          {
            v44 = v43;
            v240 = v37;
            v232 = v40;
            v45 = v35;
            v46 = v32;
            v47 = &v39[strlen(__s)];
            v48 = strlen(v44);
            memmove(v47, v44, v48 + 1);
            v49 = strlen(__s);
            memcpy(v39, __s, v49);
            v234 = v39;
            v50 = strchr(v39, 95);
            if (v50)
            {
              v38 = v41;
              v32 = v46;
              if (!*v41)
              {
                v53 = v50;
                v250 = v11;
                v225 = v50 + 1;
                v54 = 1;
                v35 = v45;
                v40 = v232;
                while (1)
                {
                  v55 = v38;
                  v56 = v225;
                  v229 = v54;
                  if ((v54 & 1) == 0)
                  {
                    LOBYTE(v260) = v53[1];
                    v32 = v53[2];
                    v227 = v53[3];
                    *((_WORD *)v53 + 1) = 42;
                    v56 = (const char *)&v260;
                  }
                  LOWORD(v262) = 0;
                  v30 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t *, int *, char *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "mdeafx", v39, v264, &v262, (char *)&v261 + 1);
                  v51 = *(_QWORD **)(*(_QWORD *)a1 + 8);
                  if ((v30 & 0x80000000) != 0)
                    goto LABEL_275;
                  v52 = hlp_saveLookupResults(v51, v264[0], (unsigned __int16)v262, &v263, (unsigned __int16 *)&v262 + 1);
                  if ((v52 & 0x80000000) != 0)
                    return v52;
                  v57 = v229;
                  if ((v229 & 1) == 0)
                  {
                    v53[2] = v32;
                    v53[3] = v227;
                  }
                  v38 = v55;
                  if (HIWORD(v262) && !*v55)
                  {
                    v58 = 0;
                    v238 = v55;
                    v221 = v32;
                    while (1)
                    {
                      v220 = v58;
                      v59 = *(char **)(v263 + 8 * v58);
                      v60 = strchr(v59, HIBYTE(v261));
                      v61 = v60;
                      if (v60)
                      {
                        *v60 = 0;
                        v61 = v60 + 1;
                        v62 = strchr(v60 + 1, HIBYTE(v261));
                        if (v62)
                          *v62 = 0;
                      }
                      v63 = strlen(*v259);
                      if (v63)
                      {
                        if (!dynamic_strcat(v259, "+", v255, *(uint64_t **)(*(_QWORD *)a1 + 8))
                          || !dynamic_strcat(v253, "~", v251, *(uint64_t **)(*(_QWORD *)a1 + 8))
                          || !dynamic_strcat(v247, "~", v245, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                        {
                          goto LABEL_273;
                        }
                      }
                      v64 = __s;
                      if (v61)
                      {
                        if (*v61)
                          v64 = v61;
                        else
                          v64 = __s;
                      }
                      v65 = (__int16)strlen(v64);
                      v66 = (__int16)strlen(v59);
                      v67 = (__int16)strlen(v56);
                      if (v66 > v67)
                        v67 = v66;
                      if (v65 > v67)
                        LOWORD(v67) = v65;
                      v68 = hlp_Realloc((uint64_t *)a1, (unsigned __int16)(v67 + v63 + 4));
                      if ((v68 & 0x80000000) != 0)
                        goto LABEL_188;
                      if (!dynamic_strcat(v259, v64, v255, *(uint64_t **)(*(_QWORD *)a1 + 8))
                        || !dynamic_strcat(v253, v59, v251, *(uint64_t **)(*(_QWORD *)a1 + 8))
                        || !dynamic_strcat(v247, v56, v245, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                      {
                        goto LABEL_273;
                      }
                      v69 = strlen(v64);
                      v70 = Utf8_LengthInUtf8chars((unint64_t)v64, v69) << 16;
                      if (v70 >= (int)(strlen(v59) << 16)
                        && (v71 = strlen(v64),
                            v72 = Utf8_LengthInUtf8chars((unint64_t)v64, v71) << 16,
                            v72 >= (int)(strlen(v56) << 16)))
                      {
                        v84 = strlen(v64);
                        v85 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v64, v84);
                        if (strlen(v59) != v85)
                        {
                          v86 = 0;
                          while (dynamic_strcat(v253, "~", v251, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                          {
                            ++v86;
                            v87 = strlen(v64);
                            v88 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v64, v87);
                            if (v88 - strlen(v59) <= (unsigned __int16)v86)
                              goto LABEL_86;
                          }
                          goto LABEL_273;
                        }
LABEL_86:
                        v89 = strlen(v64);
                        v90 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v64, v89);
                        if (strlen(v56) != v90)
                        {
                          v91 = 0;
                          while (dynamic_strcat(v247, "~", v245, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                          {
                            ++v91;
                            v92 = strlen(v64);
                            v93 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v64, v92);
                            if (v93 - strlen(v56) <= (unsigned __int16)v91)
                              goto LABEL_99;
                          }
                          goto LABEL_273;
                        }
                      }
                      else
                      {
                        v73 = strlen(v59) << 16;
                        v74 = strlen(v64);
                        if (v73 >= (int)(Utf8_LengthInUtf8chars((unint64_t)v64, v74) << 16)
                          && (v75 = strlen(v59), (_DWORD)v75 << 16 >= (signed int)(strlen(v56) << 16)))
                        {
                          v94 = strlen(v64);
                          if (v75 != (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v64, v94))
                          {
                            v95 = 0;
                            while (dynamic_strcat(v259, "~", v255, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                            {
                              ++v95;
                              v96 = strlen(v59);
                              v97 = strlen(v64);
                              if (v96 - (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v64, v97) <= (unsigned __int16)v95)
                                goto LABEL_95;
                            }
                            goto LABEL_273;
                          }
LABEL_95:
                          v98 = strlen(v59);
                          if (v98 != strlen(v56))
                          {
                            v99 = 0;
                            while (dynamic_strcat(v247, "~", v245, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                            {
                              ++v99;
                              v100 = strlen(v59);
                              if (v100 - strlen(v56) <= (unsigned __int16)v99)
                                goto LABEL_99;
                            }
                            goto LABEL_273;
                          }
                        }
                        else
                        {
                          v76 = strlen(v56);
                          v77 = strlen(v64);
                          if (v76 != (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v64, v77))
                          {
                            v78 = 0;
                            while (dynamic_strcat(v259, "~", v255, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                            {
                              ++v78;
                              v79 = strlen(v56);
                              v80 = strlen(v64);
                              if (v79 - (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v64, v80) <= (unsigned __int16)v78)
                                goto LABEL_77;
                            }
                            goto LABEL_273;
                          }
LABEL_77:
                          v81 = strlen(v56);
                          if (v81 != strlen(v59))
                          {
                            v82 = 0;
                            while (dynamic_strcat(v253, "~", v251, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                            {
                              ++v82;
                              v83 = strlen(v56);
                              if (v83 - strlen(v59) <= (unsigned __int16)v82)
                                goto LABEL_99;
                            }
                            goto LABEL_273;
                          }
                        }
                      }
LABEL_99:
                      v37 = v240;
                      v35[v240] = v258;
                      v39 = v234;
                      v30 = hlp_MdeRecurse(a1, v35, (unsigned __int16)v240, v238, v224, v234, v244);
                      if ((v30 & 0x80000000) != 0)
                        goto LABEL_274;
                      v38 = v238;
                      if (!*v238)
                      {
                        (*v259)[v63] = 0;
                        (*v253)[v63] = 0;
                        (*v247)[v63] = 0;
                      }
                      v58 = v220 + 1;
                      v32 = v221;
                      if (v220 + 1 >= (unint64_t)HIWORD(v262))
                      {
                        v57 = v229;
                        goto LABEL_46;
                      }
                      v57 = v229;
                      if (*v238)
                        goto LABEL_46;
                    }
                  }
                  v30 = 0;
LABEL_46:
                  if ((v57 & 1) != 0)
                  {
                    v54 = 0;
                    if (!*v38)
                      continue;
                  }
                  v11 = v250;
                  goto LABEL_24;
                }
              }
              v35 = v45;
              v40 = v232;
LABEL_24:
              v42 = v258;
              goto LABEL_34;
            }
            v32 = v46;
            v35 = v45;
            v40 = v232;
          }
          v42 = v258;
        }
        else
        {
          LOWORD(v262) = 0;
          v30 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, uint64_t *, int *, char *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "mdestem", v35, v264, &v262, (char *)&v261 + 1);
          v51 = *(_QWORD **)(*(_QWORD *)a1 + 8);
          if ((v30 & 0x80000000) != 0)
            goto LABEL_275;
          v52 = hlp_saveLookupResults(v51, v264[0], (unsigned __int16)v262, &v263, (unsigned __int16 *)&v262 + 1);
          if ((v52 & 0x80000000) != 0)
            return v52;
          if (HIWORD(v262))
          {
            v38 = v41;
            if (!*v41)
            {
              v258 = v42;
              v101 = 0;
              v239 = v41;
              v241 = v37;
              v222 = v32;
              while (1)
              {
                v235 = v101;
                v102 = *(char **)(v263 + 8 * v101);
                v103 = strchr(v102, HIBYTE(v261));
                v104 = v103;
                if (v103)
                {
                  *v103 = 0;
                  v104 = v103 + 1;
                  v105 = strchr(v103 + 1, HIBYTE(v261));
                  v106 = v105;
                  if (v105)
                  {
                    *v105 = 0;
                    v106 = v105 + 1;
                    v107 = strchr(v105 + 1, HIBYTE(v261));
                    if (v107)
                      *v107 = 0;
                  }
                }
                else
                {
                  v106 = 0;
                }
                v108 = strlen(*v259);
                if (v108)
                {
                  if (!dynamic_strcat(v259, "+", v255, *(uint64_t **)(*(_QWORD *)a1 + 8))
                    || !dynamic_strcat(v253, "~", v251, *(uint64_t **)(*(_QWORD *)a1 + 8))
                    || !dynamic_strcat(v247, "~", v245, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                  {
                    goto LABEL_273;
                  }
                }
                if (v104)
                  v109 = v104;
                else
                  v109 = &byte_1DEBD87CE;
                if (!v106 || !*v106)
                  v106 = v35;
                v110 = (__int16)strlen(v106);
                v111 = (__int16)strlen(v102);
                v112 = (__int16)strlen(v109);
                if (v111 > v112)
                  v112 = v111;
                if (v110 > v112)
                  LOWORD(v112) = v110;
                v68 = hlp_Realloc((uint64_t *)a1, (unsigned __int16)(v112 + v108 + 4));
                if ((v68 & 0x80000000) != 0)
                {
LABEL_188:
                  v30 = v68;
                  goto LABEL_274;
                }
                if (!dynamic_strcat(v259, v106, v255, *(uint64_t **)(*(_QWORD *)a1 + 8))
                  || !dynamic_strcat(v253, v102, v251, *(uint64_t **)(*(_QWORD *)a1 + 8))
                  || !dynamic_strcat(v247, v109, v245, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                {
                  goto LABEL_273;
                }
                v113 = strlen(v106);
                v114 = Utf8_LengthInUtf8chars((unint64_t)v106, v113) << 16;
                if (v114 >= (int)(strlen(v102) << 16)
                  && (v115 = strlen(v106),
                      v116 = Utf8_LengthInUtf8chars((unint64_t)v106, v115) << 16,
                      v116 >= (int)(strlen(v109) << 16)))
                {
                  v128 = strlen(v106);
                  v129 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v106, v128);
                  if (strlen(v102) != v129)
                  {
                    v130 = 0;
                    while (dynamic_strcat(v253, "~", v251, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                    {
                      ++v130;
                      v131 = strlen(v106);
                      v132 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v106, v131);
                      if (v132 - strlen(v102) <= (unsigned __int16)v130)
                        goto LABEL_147;
                    }
                    goto LABEL_273;
                  }
LABEL_147:
                  v133 = strlen(v106);
                  v134 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v106, v133);
                  if (strlen(v109) != v134)
                  {
                    v135 = 0;
                    while (dynamic_strcat(v247, "~", v245, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                    {
                      ++v135;
                      v136 = strlen(v106);
                      v137 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v106, v136);
                      if (v137 - strlen(v109) <= (unsigned __int16)v135)
                        goto LABEL_160;
                    }
                    goto LABEL_273;
                  }
                }
                else
                {
                  v117 = strlen(v102) << 16;
                  v118 = strlen(v106);
                  if (v117 >= (int)(Utf8_LengthInUtf8chars((unint64_t)v106, v118) << 16)
                    && (v119 = strlen(v102), (_DWORD)v119 << 16 >= (signed int)(strlen(v109) << 16)))
                  {
                    v138 = strlen(v106);
                    if (v119 != (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v106, v138))
                    {
                      v139 = 0;
                      while (dynamic_strcat(v259, "~", v255, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                      {
                        ++v139;
                        v140 = strlen(v102);
                        v141 = strlen(v106);
                        if (v140 - (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v106, v141) <= (unsigned __int16)v139)
                          goto LABEL_156;
                      }
                      goto LABEL_273;
                    }
LABEL_156:
                    v142 = strlen(v102);
                    if (v142 != strlen(v109))
                    {
                      v143 = 0;
                      while (dynamic_strcat(v247, "~", v245, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                      {
                        ++v143;
                        v144 = strlen(v102);
                        if (v144 - strlen(v109) <= (unsigned __int16)v143)
                          goto LABEL_160;
                      }
                      goto LABEL_273;
                    }
                  }
                  else
                  {
                    v120 = strlen(v109);
                    v121 = strlen(v106);
                    if (v120 != (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v106, v121))
                    {
                      v122 = 0;
                      while (dynamic_strcat(v259, "~", v255, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                      {
                        ++v122;
                        v123 = strlen(v109);
                        v124 = strlen(v106);
                        if (v123 - (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v106, v124) <= (unsigned __int16)v122)
                          goto LABEL_138;
                      }
                      goto LABEL_273;
                    }
LABEL_138:
                    v125 = strlen(v109);
                    if (v125 != strlen(v102))
                    {
                      v126 = 0;
                      while (dynamic_strcat(v253, "~", v251, *(uint64_t **)(*(_QWORD *)a1 + 8)))
                      {
                        ++v126;
                        v127 = strlen(v109);
                        if (v127 - strlen(v102) <= (unsigned __int16)v126)
                          goto LABEL_160;
                      }
                      goto LABEL_273;
                    }
                  }
                }
LABEL_160:
                v35[v241] = v258;
                v145 = strlen(v35);
                v146 = strlen(v109);
                v147 = (char *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), (v145 + v146 + 1));
                if (!v147)
                {
                  log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v148, v149, v150, v151, v219);
                  hlp_freeLookupResults(*(_QWORD **)(*(_QWORD *)a1 + 8), &v263, (_WORD *)&v262 + 1);
                  return 2310021130;
                }
                v152 = (uint64_t)v147;
                *(_WORD *)v147 = 95;
                strcat(v147, v109);
                v30 = hlp_MdeRecurse(a1, v35, (unsigned __int16)v241, v239, v224, v152, v244);
                heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v152);
                if ((v30 & 0x80000000) != 0)
                  goto LABEL_274;
                v37 = v241;
                v38 = v239;
                if (!*v239)
                {
                  (*v259)[v108] = 0;
                  (*v253)[v108] = 0;
                  (*v247)[v108] = 0;
                }
                v101 = v235 + 1;
                v11 = 0;
                v32 = v222;
                if (v235 + 1 >= (unint64_t)HIWORD(v262) || *v239)
                {
                  v39 = 0;
                  goto LABEL_24;
                }
              }
            }
            v30 = 0;
            goto LABEL_34;
          }
          v30 = 0;
        }
        v38 = v41;
LABEL_34:
        v35[v37] = v42;
        --v40;
        --v37;
        if (v11 >= (unsigned __int16)v40)
          goto LABEL_274;
        continue;
      }
    }
    v163 = 0;
    a4 = v166;
    if (*v166)
      goto LABEL_13;
  }
  v167 = 0;
  v223 = v32;
  while (1)
  {
    v226 = v167;
    v168 = *(char **)(v263 + 8 * v167);
    v169 = strchr(v168, HIBYTE(v261));
    v170 = v169;
    if (v169)
    {
      *v169 = 0;
      v170 = v169 + 1;
      v171 = strchr(v169 + 1, HIBYTE(v261));
      if (v171)
        *v171 = 0;
    }
    v228 = strlen(*v256);
    if (v228
      && (!dynamic_strcat(v256, "+", v252, *(uint64_t **)(*(_QWORD *)a1 + 8))
       || !dynamic_strcat((const char **)(a1 + 168), "~", v246, *(uint64_t **)(*(_QWORD *)a1 + 8))
       || !dynamic_strcat(v233, "~", (size_t *)__sa, *(uint64_t **)(*(_QWORD *)a1 + 8))))
    {
      goto LABEL_273;
    }
    if (v170)
    {
      if (!*v170)
        v170 = "@";
    }
    else
    {
      v170 = "@";
    }
    v172 = (__int16)strlen(v170);
    v173 = (__int16)strlen(v168);
    v174 = (__int16)strlen(v242);
    if (v173 > v174)
      v174 = v173;
    if (v172 > v174)
      LOWORD(v174) = v172;
    v175 = hlp_Realloc((uint64_t *)a1, (unsigned __int16)(v174 + v228 + 4));
    if ((v175 & 0x80000000) != 0)
    {
      v30 = v175;
      v218 = *(_QWORD **)(*(_QWORD *)a1 + 8);
      goto LABEL_283;
    }
    if (!dynamic_strcat(v256, v170, v252, *(uint64_t **)(*(_QWORD *)a1 + 8))
      || !dynamic_strcat((const char **)(a1 + 168), v168, v246, *(uint64_t **)(*(_QWORD *)a1 + 8))
      || !dynamic_strcat(v233, v242, (size_t *)__sa, *(uint64_t **)(*(_QWORD *)a1 + 8)))
    {
      goto LABEL_273;
    }
    v176 = strlen(v170);
    v177 = Utf8_LengthInUtf8chars((unint64_t)v170, v176) << 16;
    if (v177 >= (int)(strlen(v168) << 16)
      && (v178 = strlen(v170),
          v179 = Utf8_LengthInUtf8chars((unint64_t)v170, v178) << 16,
          v179 >= (int)(strlen(v242) << 16)))
    {
      v191 = strlen(v170);
      v192 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v170, v191);
      if (strlen(v168) != v192)
      {
        v193 = 0;
        while (dynamic_strcat((const char **)(a1 + 168), "~", v246, *(uint64_t **)(*(_QWORD *)a1 + 8)))
        {
          ++v193;
          v194 = strlen(v170);
          v195 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v170, v194);
          if (v195 - strlen(v168) <= (unsigned __int16)v193)
            goto LABEL_243;
        }
        goto LABEL_273;
      }
LABEL_243:
      v196 = strlen(v170);
      v197 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v170, v196);
      if (strlen(v242) != v197)
      {
        v198 = 0;
        while (dynamic_strcat(v233, "~", (size_t *)__sa, *(uint64_t **)(*(_QWORD *)a1 + 8)))
        {
          ++v198;
          v199 = strlen(v170);
          v200 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v170, v199);
          if (v200 - strlen(v242) <= (unsigned __int16)v198)
            goto LABEL_256;
        }
        goto LABEL_273;
      }
    }
    else
    {
      v180 = strlen(v168) << 16;
      v181 = strlen(v170);
      if (v180 >= (int)(Utf8_LengthInUtf8chars((unint64_t)v170, v181) << 16)
        && (v182 = strlen(v168), (_DWORD)v182 << 16 >= (signed int)(strlen(v242) << 16)))
      {
        v201 = strlen(v170);
        if (v182 != (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v170, v201))
        {
          v202 = 0;
          while (dynamic_strcat(v256, "~", v252, *(uint64_t **)(*(_QWORD *)a1 + 8)))
          {
            ++v202;
            v203 = strlen(v168);
            v204 = strlen(v170);
            if (v203 - (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v170, v204) <= (unsigned __int16)v202)
              goto LABEL_252;
          }
          goto LABEL_273;
        }
LABEL_252:
        v205 = strlen(v168);
        if (v205 != strlen(v242))
        {
          v206 = 0;
          while (dynamic_strcat(v233, "~", (size_t *)__sa, *(uint64_t **)(*(_QWORD *)a1 + 8)))
          {
            ++v206;
            v207 = strlen(v168);
            if (v207 - strlen(v242) <= (unsigned __int16)v206)
              goto LABEL_256;
          }
          goto LABEL_273;
        }
      }
      else
      {
        v183 = strlen(v242);
        v184 = strlen(v170);
        if (v183 != (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v170, v184))
        {
          v185 = 0;
          while (dynamic_strcat(v256, "~", v252, *(uint64_t **)(*(_QWORD *)a1 + 8)))
          {
            ++v185;
            v186 = strlen(v242);
            v187 = strlen(v170);
            if (v186 - (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v170, v187) <= (unsigned __int16)v185)
              goto LABEL_234;
          }
          goto LABEL_273;
        }
LABEL_234:
        v188 = strlen(v242);
        if (v188 != strlen(v168))
        {
          v189 = 0;
          while (dynamic_strcat((const char **)(a1 + 168), "~", v246, *(uint64_t **)(*(_QWORD *)a1 + 8)))
          {
            ++v189;
            v190 = strlen(v242);
            if (v190 - strlen(v168) <= (unsigned __int16)v189)
              goto LABEL_256;
          }
LABEL_273:
          v30 = 2310021130;
          goto LABEL_274;
        }
      }
    }
LABEL_256:
    v208 = strlen(*(const char **)(a1 + 168));
    v209 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)v21, (v208 + 4));
    if (!v209)
    {
      v30 = 2310021130;
      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v21);
      hlp_freeLookupResults(*(_QWORD **)(*(_QWORD *)a1 + 8), &v263, (_WORD *)&v262 + 1);
      goto LABEL_169;
    }
    v21 = v209;
    strcpy(v209, "mde_");
    v210 = *v13;
    if ((unsigned __int16)strlen(*v13))
    {
      v214 = 0;
      v215 = 4;
      do
      {
        v216 = v210[v214];
        if (v216 != 32 && v216 != 126)
        {
          v21[v215] = v216;
          v210 = *v13;
          ++v215;
        }
        ++v214;
      }
      while ((unsigned __int16)strlen(v210) > (unsigned __int16)v214);
    }
    else
    {
      v215 = 4;
    }
    v21[v215] = 0;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Checking %s", v211, v212, v213, (uint64_t)v21);
    LOWORD(v262) = -1;
    v30 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t *, int *, char *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v21, v264, &v262, (char *)&v261 + 1);
    if ((v30 & 0x80000000) != 0)
      break;
    a7 = v243;
    a6 = v236;
    v166 = v237;
    v32 = v223;
    v165 = v254;
    if ((_WORD)v262)
    {
      *v237 = 1;
    }
    else if (!*v237)
    {
      (*v256)[v228] = 0;
      (*v13)[v228] = 0;
      (*v233)[v228] = 0;
    }
    v167 = v226 + 1;
    if (v226 + 1 >= (unint64_t)HIWORD(v262) || *v237)
      goto LABEL_202;
  }
  v218 = *(_QWORD **)(*(_QWORD *)a1 + 8);
LABEL_283:
  heap_Free(v218, (uint64_t)v21);
LABEL_274:
  v51 = *(_QWORD **)(*(_QWORD *)a1 + 8);
LABEL_275:
  hlp_freeLookupResults(v51, &v263, (_WORD *)&v262 + 1);
  return v30;
}

uint64_t hlp_saveLookupResults(_QWORD *a1, uint64_t a2, unsigned int a3, uint64_t *a4, unsigned __int16 *a5)
{
  uint64_t result;
  uint64_t v11;
  unsigned __int16 v12;
  int v13;
  uint64_t v14;
  uint64_t v15;
  char *v16;

  hlp_freeLookupResults(a1, a4, a5);
  result = 0;
  if (a2 && a3)
  {
    v11 = heap_Alloc((uint64_t)a1, 8 * a3);
    *a4 = v11;
    if (v11)
    {
      v12 = 0;
      *a5 = 0;
      while (1)
      {
        v13 = strlen(*(const char **)(a2 + 8 * v12));
        v14 = heap_Alloc((uint64_t)a1, (v13 + 1));
        v15 = *a5;
        *(_QWORD *)(*a4 + 8 * v15) = v14;
        v16 = *(char **)(*a4 + 8 * v15);
        if (!v16)
          break;
        strcpy(v16, *(const char **)(a2 + 8 * v15));
        v12 = *a5 + 1;
        *a5 = v12;
        if (a3 <= v12)
          return 0;
      }
    }
    hlp_freeLookupResults(a1, a4, a5);
    return 2310021130;
  }
  return result;
}

uint64_t hlp_Realloc(uint64_t *a1, unsigned int a2)
{
  unint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unsigned int v13;

  v3 = a2;
  if (a1[24] < (unint64_t)a2)
  {
    v4 = heap_Realloc(*(uint64_t **)(*a1 + 8), a1[20], a2);
    if (!v4)
      goto LABEL_10;
    a1[20] = v4;
    a1[24] = v3;
  }
  if (a1[25] >= v3)
    goto LABEL_7;
  v9 = heap_Realloc(*(uint64_t **)(*a1 + 8), a1[21], v3);
  if (!v9)
  {
LABEL_10:
    v11 = 2310021130;
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v5, v6, v7, v8, v13);
    return v11;
  }
  a1[21] = v9;
  a1[25] = v3;
LABEL_7:
  if (a1[26] >= v3)
    return 0;
  v10 = heap_Realloc(*(uint64_t **)(*a1 + 8), a1[22], v3);
  if (!v10)
    goto LABEL_10;
  v11 = 0;
  a1[22] = v10;
  a1[26] = v3;
  return v11;
}

_QWORD *hlp_freeLookupResults(_QWORD *result, uint64_t *a2, _WORD *a3)
{
  uint64_t v5;
  _QWORD *v6;
  unint64_t v7;

  v5 = *a2;
  if (v5)
  {
    v6 = result;
    if (*a3)
    {
      v7 = 0;
      do
        heap_Free(v6, *(_QWORD *)(*a2 + 8 * v7++));
      while (v7 < (unsigned __int16)*a3);
      v5 = *a2;
    }
    result = heap_Free(v6, v5);
  }
  *a3 = 0;
  *a2 = 0;
  return result;
}

uint64_t hlp_WriteWordRec(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, ...)
{
  uint64_t v5;
  int v6;
  int v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  int v15;
  __int16 v16;
  __int16 v17;
  unsigned __int16 v18;
  unsigned __int16 v19;
  unsigned __int16 v20;
  unsigned __int16 v21;
  unsigned __int16 v22;
  unsigned int v23;
  uint64_t result;
  __int16 v25;
  __int16 v26;
  __int16 v27;
  __int16 v28;
  __int16 v29;
  __int16 v30;
  int v31;
  unsigned __int16 v32;
  char __s[5000];
  char v34[5000];
  char v35[5000];
  uint64_t v36;
  va_list va;

  va_start(va, a5);
  v5 = MEMORY[0x1E0C80A78]();
  v7 = v6;
  v9 = v8;
  v11 = v10;
  v13 = v12;
  v14 = v5;
  v36 = *MEMORY[0x1E0C80C00];
  v32 = v8;
  v31 = v15;
  v30 = v16;
  v29 = v17;
  v28 = 0;
  __strcpy_chk();
  __strcpy_chk();
  __strcpy_chk();
  __strcat_chk();
  __strcat_chk();
  if (!v7)
    goto LABEL_11;
  v18 = strlen(v35);
  v19 = strlen(v34);
  v20 = strlen(__s);
  v21 = v19 <= v18 ? v18 : v19;
  v22 = v20 <= v21 ? v21 : v20;
  v23 = v22;
  result = mosynt_PadWithChar((uint64_t)v35, 5000, 126, v22);
  if ((result & 0x80000000) == 0)
  {
    result = mosynt_PadWithChar((uint64_t)v34, 5000, 32, v23);
    if ((result & 0x80000000) == 0)
    {
      result = mosynt_PadWithChar((uint64_t)__s, 5000, 32, v23);
      if ((result & 0x80000000) == 0)
      {
LABEL_11:
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, unsigned __int16 *))(*(_QWORD *)(v14 + 56) + 88))(v13, v11, v9, &v32);
        if ((result & 0x80000000) == 0)
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, __int16 *))(*(_QWORD *)(v14 + 56) + 160))(v13, v11, v32, 0, 1, &v31, &v28);
          if ((result & 0x80000000) == 0)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*(_QWORD *)(v14 + 56) + 160))(v13, v11, v32, 1, 1, &v30, &v28);
            if ((result & 0x80000000) == 0)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*(_QWORD *)(v14 + 56) + 160))(v13, v11, v32, 2, 1, &v29, &v28);
              if ((result & 0x80000000) == 0)
              {
                v25 = strlen(v35);
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(*(_QWORD *)(v14 + 56) + 160))(v13, v11, v32, 3, (unsigned __int16)(v25 + 1), v35, &v28);
                if ((result & 0x80000000) == 0)
                {
                  v26 = strlen(v34);
                  result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(*(_QWORD *)(v14 + 56) + 160))(v13, v11, v32, 5, (unsigned __int16)(v26 + 1), v34, &v28);
                  if ((result & 0x80000000) == 0)
                  {
                    v27 = strlen(__s);
                    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(*(_QWORD *)(v14 + 56) + 160))(v13, v11, v32, 6, (unsigned __int16)(v27 + 1), __s, &v28);
                    if ((result & 0x80000000) == 0)
                    {
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t *, __int16 *))(*(_QWORD *)(v14 + 56) + 160))(v13, v11, v32, 7, 1, (uint64_t *)va, &v28);
                      if ((result & 0x80000000) == 0)
                        return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(*(_QWORD *)(v14 + 56) + 160))(v13, v11, v32, 9, 1, &byte_1DEBD87CE, &v28);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

uint64_t mde_MosyntMorphAna(uint64_t a1, _BYTE *a2, uint64_t a3, const char *a4, uint64_t a5, unsigned int a6, unsigned int a7, uint64_t a8, uint64_t a9, uint64_t a10, unsigned __int16 *a11, int a12, _DWORD *a13)
{
  uint64_t result;
  int v19;
  unsigned __int8 *v20;
  char *v21;
  _BYTE *v22;
  int v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  _BYTE v27[2248];
  uint64_t v28;

  v28 = *MEMORY[0x1E0C80C00];
  v26 = 0;
  bzero(v27, 0x8C8uLL);
  *a13 = 0;
  **(_BYTE **)(a1 + 240) = 0;
  **(_BYTE **)(a1 + 248) = 0;
  **(_BYTE **)(a1 + 256) = 0;
  result = mosynt_StartWordAnalysis(*(_QWORD *)(a1 + 48), *(_QWORD *)(a1 + 2200), *(_QWORD *)(a1 + 2208), *(_QWORD *)(a1 + 2216), *(_QWORD *)(a1 + 2224), *(_QWORD *)(a1 + 2232), *(_QWORD *)(a1 + 2240), (uint64_t)v27);
  if ((result & 0x80000000) == 0)
  {
    result = mosynt_WordAnalysis();
    if ((result & 0x80000000) == 0)
    {
      v19 = HIDWORD(v26);
      *a13 = HIDWORD(v26);
      if (v19)
      {
        *a11 = strlen(a4) + a6;
        HIDWORD(v26) = 1;
        v20 = a2 + 15000;
        v21 = a2 + 5000;
        v22 = a2 + 10000;
        v23 = 1;
        while (1)
        {
          result = mosynt_GetReading(*(_QWORD *)(a1 + 48), (uint64_t)v27, 0, (_DWORD *)&v26 + 1, v20, 5000, v21, 5000, &v26);
          if ((result & 0x80000000) != 0)
            return result;
          result = mosynt_SubstAllSubstrOcc(v21, "~", "¡", v22, 5000);
          if ((result & 0x80000000) != 0)
            return result;
          __strcpy_chk();
          if (!HIDWORD(v26))
            return mosynt_FinishWordAnalysis(*(_QWORD *)(a1 + 48), (uint64_t)v27);
          if (a12)
            break;
          if (v23)
          {
            if ((_DWORD)v26)
            {
              v23 = 1;
              goto LABEL_13;
            }
            hlp_WriteWordRec(a1, a9, a10, a7, 1, 8, a6, *a11, v21, &byte_1DEBD87CE, &byte_1DEBD87CE, &byte_1DEBD87CE);
LABEL_12:
            v23 = 0;
LABEL_13:
            if (!HIDWORD(v26))
              return mosynt_FinishWordAnalysis(*(_QWORD *)(a1 + 48), (uint64_t)v27);
          }
        }
        v24 = a10;
        v25 = a9;
        if (v23)
        {
          hlp_WriteWordRec(a1, a9, a10, a7, 1, 4, a6, *a11, v21, "Y", "Y", &byte_1DEBD87CE);
          v25 = a9;
          v24 = a10;
        }
        hlp_WriteWordRec(a1, v25, v24, a7, 0, 8, a6, *a11, v21, "N", "*", v20);
        goto LABEL_12;
      }
      return mosynt_FinishWordAnalysis(*(_QWORD *)(a1 + 48), (uint64_t)v27);
    }
  }
  return result;
}

uint64_t mde_Main(uint64_t a1, const char *a2, char *__s, const char *a4, __int16 a5, uint64_t a6, uint64_t a7, uint64_t a8, _WORD *a9)
{
  size_t v17;
  uint64_t result;
  int v19;
  __int16 v20;
  __int16 v21;
  __int16 v22;
  __int16 v23;
  __int16 v24;
  int v25;
  int v26;
  unsigned __int16 v27;
  __int16 v28;

  v28 = a5;
  v27 = a6;
  v25 = 8;
  v26 = 0;
  v24 = 0;
  v23 = 1;
  if (*(_BYTE *)(a1 + 286) == 1
    || (v17 = strlen(__s), v17 < *(unsigned __int8 *)(a1 + 282))
    || v17 > *(unsigned __int8 *)(a1 + 283)
    || *(_BYTE *)(a1 + 284) == 1
    && (v19 = *__s, (v19 - 65) >= 0x1A)
    && (v19 != 195 || __s[1] - 132 > 0x18 || ((1 << (__s[1] + 124)) & 0x104202F) == 0))
  {
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Mde cfg settings do not apply on %s", a6, a7, a8, (uint64_t)a2);
    return 0;
  }
  else
  {
    **(_BYTE **)(a1 + 240) = 0;
    **(_BYTE **)(a1 + 248) = 0;
    **(_BYTE **)(a1 + 256) = 0;
    result = hlp_MdeRecurse_0(a1, a2, a4, 0, &v26, 0);
    if ((result & 0x80000000) == 0)
    {
      if (v26)
      {
        *a9 = strlen(__s) + a5;
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 88))(a7, a8, a6, &v27);
        if ((result & 0x80000000) == 0)
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a7, a8, v27, 0, 1, &v25, &v24);
          if ((result & 0x80000000) == 0)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a7, a8, v27, 1, 1, &v28, &v24);
            if ((result & 0x80000000) == 0)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, _WORD *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a7, a8, v27, 2, 1, a9, &v24);
              if ((result & 0x80000000) == 0)
              {
                v20 = strlen(*(const char **)(a1 + 240));
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a7, a8, v27, 3, (unsigned __int16)(v20 + 1), *(_QWORD *)(a1 + 240), &v24);
                if ((result & 0x80000000) == 0)
                {
                  v21 = strlen(*(const char **)(a1 + 248));
                  result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a7, a8, v27, 5, (unsigned __int16)(v21 + 1), *(_QWORD *)(a1 + 248), &v24);
                  if ((result & 0x80000000) == 0)
                  {
                    v22 = strlen(*(const char **)(a1 + 256));
                    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a7, a8, v27, 6, (unsigned __int16)(v22 + 1), *(_QWORD *)(a1 + 256), &v24);
                    if ((result & 0x80000000) == 0)
                    {
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a7, a8, v27, 7, 1, &v23, &v24);
                      if ((result & 0x80000000) == 0)
                        return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a7, a8, v27, 9, 1, &byte_1DEBD87CE, &v24);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

uint64_t hlp_MdeRecurse_0(uint64_t a1, const char *a2, const char *a3, unsigned int a4, _DWORD *a5, int a6)
{
  unsigned int v8;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  unsigned int v15;
  const char *v16;
  uint64_t v17;
  unsigned __int16 v18;
  int v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  const char *v23;
  unsigned __int16 v24;
  unsigned __int16 v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  char *v29;
  char *v30;
  const char *v31;
  char *v32;
  const char *v33;
  char *v34;
  const char *v35;
  char *v36;
  unsigned __int16 v37;
  unsigned __int16 v38;
  __int16 v39;
  uint64_t v40;
  int v41;
  int v42;
  int v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  int v47;
  unsigned __int16 v48;
  char *v49;
  size_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  size_t v54;
  int v55;
  int v56;
  char *v57;
  __int16 v58;
  int v59;
  int v60;
  int v61;
  unsigned __int16 v62;
  char v63;
  uint64_t v64;
  char *v65;
  char *v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  char *v71;
  char *v72;
  char *v73;
  const char *v74;
  char *v75;
  const char *v76;
  char *v77;
  char *v78;
  const char *v79;
  char *v80;
  uint64_t v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  unsigned __int16 v85;
  __int16 v86;
  int v87;
  int v88;
  int v89;
  unsigned __int16 v90;
  uint64_t v91;
  const char *v92;
  const char *v93;
  uint64_t v94;
  unsigned __int16 v95;
  unint64_t v96;
  int v97;
  uint64_t v99;
  uint64_t v100;
  char v101;
  size_t __n;
  __int16 v103;
  int v104;
  int v105;
  unsigned __int8 v106;
  char *__s2;
  unsigned int v108;
  const char *v109;
  _DWORD *v110;
  uint64_t v111;
  char v113[2];
  char v114[2];
  unsigned __int16 v115;
  char *v116;
  _BYTE __c[11];
  char __s[264];
  uint64_t v119;

  v8 = a4;
  v119 = *MEMORY[0x1E0C80C00];
  memset(__c, 0, sizeof(__c));
  v11 = 0;
  if (a4 == (unsigned __int16)strlen(a2))
  {
    strcpy(__s, "mde_");
    __strcat_chk();
    __strcat_chk();
    v15 = (unsigned __int16)strlen(__s);
    v16 = *(const char **)(a1 + 248);
    if (*v16 && v15 <= 0xFF)
    {
      v17 = 0;
      v18 = 0;
      do
      {
        v19 = v16[v17];
        if (v19 != 32)
          __s[v15++] = v19;
        if (strlen(v16) <= ++v18)
          break;
        v17 = v18;
      }
      while (v15 < 0x100);
    }
    __s[v15] = 0;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Checking %s", v12, v13, v14, (uint64_t)__s);
    *(_WORD *)&__c[1] = -1;
    v11 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", __s, &__c[3], &__c[1], __c);
    if ((v11 & 0x80000000) != 0)
      return v11;
    if (*(_WORD *)&__c[1])
      goto LABEL_11;
    strcpy(__s, "mde_");
    v93 = *(const char **)(a1 + 248);
    if (*v93)
    {
      v94 = 0;
      v95 = 0;
      v96 = 4;
      do
      {
        v97 = v93[v94];
        if (v97 != 32)
          __s[v96++] = v97;
        if (strlen(v93) <= ++v95)
          break;
        v94 = v95;
      }
      while (v96 < 0x100);
    }
    else
    {
      v96 = 4;
    }
    __s[v96] = 0;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Checking %s", v20, v21, v22, (uint64_t)__s);
    *(_WORD *)&__c[1] = -1;
    v11 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", __s, &__c[3], &__c[1], __c);
    if ((v11 & 0x80000000) != 0)
      return v11;
    if (*(_WORD *)&__c[1])
    {
LABEL_11:
      *a5 = 1;
      v23 = "MDE succeeds";
    }
    else
    {
      v23 = "MDE fails";
    }
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)v23, v20, v21, v22, v100);
  }
  if (*(unsigned __int8 *)(a1 + 285) == a6)
    return v11;
  v24 = strlen(a2);
  v25 = v24;
  if (v8 >= v24 || *a5)
    return v11;
  v109 = 0;
  v110 = a5;
  v106 = a6 + 1;
  __s2 = (char *)&a2[v8];
  v26 = v24;
  v108 = v8;
  while (1)
  {
    v27 = a2[v26];
    a2[v26] = 0;
    *(_WORD *)&__c[1] = 0;
    v11 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "mde", __s2, &__c[3], &__c[1], __c);
    if ((v11 & 0x80000000) != 0)
      return v11;
    a2[v26] = v27;
    v111 = v26;
    if (!*(_WORD *)&__c[1])
      goto LABEL_75;
    if (!*a5)
      break;
LABEL_76:
    v25 = v26 - 1;
    if (v8 < (unsigned __int16)(v26 - 1))
    {
      --v26;
      if (!*a5)
        continue;
    }
    return v11;
  }
  v101 = v27;
  v28 = 0;
  __n = (int)(v25 - v8);
  v103 = v26 - v8 + 2;
  v104 = (unsigned __int16)(v25 - v8 - 1);
  while (1)
  {
    v29 = *(char **)(*(_QWORD *)&__c[3] + 8 * v28);
    v30 = strchr(v29, __c[0]);
    if (v30)
    {
      *v30 = 0;
      v31 = v30 + 1;
      v32 = strchr(v30 + 1, __c[0]);
      v33 = v32;
      if (v32)
      {
        *v32 = 0;
        v33 = v32 + 1;
        v34 = strchr(v32 + 1, __c[0]);
        v35 = v34;
        if (v34)
        {
          *v34 = 0;
          v35 = v34 + 1;
          v36 = strchr(v34 + 1, __c[0]);
          if (v36)
            *v36 = 0;
        }
      }
      else
      {
        v35 = 0;
      }
    }
    else
    {
      v33 = 0;
      v35 = 0;
      v31 = v109;
    }
    v37 = strlen(*(const char **)(a1 + 240));
    v38 = v37;
    if (v29 && *v29)
    {
      if (v35)
        goto LABEL_33;
    }
    else
    {
      v29 = "*";
      if (v35)
      {
LABEL_33:
        if (*v35)
          goto LABEL_35;
      }
    }
    v35 = "*";
LABEL_35:
    v105 = v37;
    if (v37)
    {
      *(_WORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 43;
      *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
      *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
    }
    v109 = v31;
    if (v33 && *v33)
    {
      v39 = strlen(v33);
      v40 = hlp_Realloc_0((uint64_t *)a1, (unsigned __int16)(v39 + v38 + 4));
      if ((v40 & 0x80000000) != 0)
        return v40;
      *(_DWORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 8689634;
      *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
      *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
      strcat(*(char **)(a1 + 240), v33);
      strcat(*(char **)(a1 + 248), v29);
      strcat(*(char **)(a1 + 256), v35);
      v41 = strlen(v33);
      if ((unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v33, v41) != 1)
      {
        v42 = 0;
        do
        {
          *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
          *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
          ++v42;
          v43 = strlen(v33);
        }
        while ((unsigned __int16)(Utf8_LengthInUtf8chars((unint64_t)v33, v43) - 1) > (unsigned __int16)v42);
      }
      *(_DWORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 8689634;
      *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
      *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
      a5 = v110;
    }
    else if (v31 && !strcmp(v31, "yes"))
    {
      v116 = 0;
      v115 = 0;
      strcpy(__s, "one_word");
      a2[v111] = 0;
      v114[0] = *v29;
      v114[1] = 0;
      v113[0] = *v35;
      v113[1] = 0;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v44, v45, v46, (uint64_t)__s);
      v48 = strlen(__s2);
      v40 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char *, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, __s2, v48);
      if ((v40 & 0x80000000) != 0)
        return v40;
      a2[v111] = v101;
      v40 = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s);
      if ((v40 & 0x80000000) != 0)
        return v40;
      v40 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 104)
                                                                                           + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, &v116, &v115);
      if ((v40 & 0x80000000) != 0)
        return v40;
      v116[v115] = 0;
      v49 = v116;
      v50 = strlen(v116);
      if ((_WORD)v50)
      {
        v54 = v50;
        v55 = 0;
        v56 = 0;
        a5 = v110;
        do
        {
          v57 = &v49[(unsigned __int16)v56];
          if (*v57 == 126)
          {
            memmove(v57, &v49[v55 + 1], (unsigned __int16)(v54 - v56-- + 1));
          }
          else if (!strncmp(v57, "¡", 2uLL))
          {
            memmove(&v49[v55 + 1], &v49[v55 + 2], v54 - (unsigned __int16)v56 + 1);
            v116[(unsigned __int16)v56] = 126;
            a5 = v110;
          }
          v55 = (unsigned __int16)++v56;
          v49 = v116;
          v54 = strlen(v116);
        }
        while ((unsigned __int16)v56 < (unsigned __int16)v54);
      }
      else
      {
        a5 = v110;
      }
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v51, v52, v53, (uint64_t)__s);
      v58 = strlen(v116);
      v40 = hlp_Realloc_0((uint64_t *)a1, (unsigned __int16)(v58 + v38 + 4));
      if ((v40 & 0x80000000) != 0)
        return v40;
      *(_DWORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 8689634;
      *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
      *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
      strcat(*(char **)(a1 + 240), v116);
      strcat(*(char **)(a1 + 248), v114);
      strcat(*(char **)(a1 + 256), v113);
      v59 = strlen(v116);
      if ((unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v116, v59) != 1)
      {
        v60 = 0;
        do
        {
          *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
          *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
          ++v60;
          v61 = strlen(v116);
        }
        while ((unsigned __int16)(Utf8_LengthInUtf8chars((unint64_t)v116, v61) - 1) > (unsigned __int16)v60);
      }
      *(_DWORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 8689634;
      *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
      *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
    }
    else
    {
      v40 = hlp_Realloc_0((uint64_t *)a1, (unsigned __int16)(v103 + v38));
      if ((v40 & 0x80000000) != 0)
        return v40;
      strncat(*(char **)(a1 + 240), __s2, __n);
      strcat(*(char **)(a1 + 248), v29);
      strcat(*(char **)(a1 + 256), v35);
      a5 = v110;
      if (v104)
      {
        v47 = v104;
        do
        {
          *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
          *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
          --v47;
        }
        while (v47);
      }
    }
    v26 = v111;
    v11 = hlp_MdeRecurse_0(a1, a2, a3, (unsigned __int16)v111, a5, v106);
    if ((v11 & 0x80000000) != 0)
      return v11;
    if (!*a5)
    {
      v62 = Utf8_LengthInUtf8chars(*(_QWORD *)(a1 + 240), v105);
      *(_BYTE *)(*(_QWORD *)(a1 + 240) + v38) = 0;
      *(_BYTE *)(*(_QWORD *)(a1 + 248) + v62) = 0;
      *(_BYTE *)(*(_QWORD *)(a1 + 256) + v62) = 0;
    }
    if (++v28 >= (unint64_t)*(unsigned __int16 *)&__c[1])
      break;
    v8 = v108;
    if (*a5)
      goto LABEL_76;
  }
  v8 = v108;
LABEL_75:
  if (*a5)
    goto LABEL_76;
  v63 = a2[v26];
  a2[v26] = 0;
  *(_WORD *)&__c[1] = 0;
  v11 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, _BYTE *, _BYTE *, _BYTE *, _QWORD))(*(_QWORD *)(a1 + 80) + 152))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "g2p", __s2, &__c[3], &__c[1], __c, *(unsigned __int8 *)(a1 + 556));
  if ((v11 & 0x80000000) == 0)
  {
    a2[v26] = v63;
    if (!*(_WORD *)&__c[1])
      goto LABEL_76;
    v64 = 0;
    while (2)
    {
      if (*a5)
        goto LABEL_76;
      v65 = *(char **)(*(_QWORD *)&__c[3] + 8 * v64);
      v66 = strchr(v65, __c[0]);
      if (v66)
      {
        *v66 = 0;
        v71 = strchr(v66 + 1, __c[0]);
        v72 = v71;
        if (v71)
        {
          *v71 = 0;
          v72 = v71 + 1;
          v73 = strchr(v71 + 1, __c[0]);
          v74 = v73;
          if (v73)
          {
            *v73 = 0;
            v74 = v73 + 1;
            v75 = strchr(v73 + 1, __c[0]);
            v76 = v75;
            if (v75)
            {
              *v75 = 0;
              v76 = v75 + 1;
              v77 = strchr(v75 + 1, __c[0]);
              if (v77)
              {
                *v77 = 0;
                v78 = strchr(v77 + 1, __c[0]);
                v79 = v78;
                if (v78)
                {
                  *v78 = 0;
                  v79 = v78 + 1;
                  v80 = strchr(v78 + 1, __c[0]);
                  if (v80)
                    *v80 = 0;
                }
LABEL_95:
                v81 = *(_QWORD *)(*(_QWORD *)a1 + 32);
                if (!v65)
                {
                  log_OutPublic(v81, (uint64_t)"FE_ONEWORD", 34001, 0, v67, v68, v69, v70, v99);
                  return 2310021127;
                }
                log_OutText(v81, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P Validating %s", v68, v69, v70, (uint64_t)v65);
                if (v72 && *v72 && !strstr(v72, a3))
                {
                  v91 = *(_QWORD *)(*(_QWORD *)a1 + 32);
                  v92 = "G2P Domain validation not OK";
                }
                else
                {
                  if (!v79 || strcmp(v79, "0"))
                  {
                    v85 = strlen(*(const char **)(a1 + 240));
                    if (*v65)
                    {
                      if (!v74 || !*v74)
                        v74 = "*";
                      if (!v76 || !*v76)
                        v76 = "*";
                      v86 = strlen(v65);
                      v40 = hlp_Realloc_0((uint64_t *)a1, (unsigned __int16)(v86 + v85 + 4));
                      if ((v40 & 0x80000000) != 0)
                        return v40;
                      if (v85)
                      {
                        *(_WORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 43;
                        *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
                        *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
                      }
                      *(_DWORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 8689634;
                      *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
                      *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
                      strcat(*(char **)(a1 + 240), v65);
                      strcat(*(char **)(a1 + 248), v74);
                      strcat(*(char **)(a1 + 256), v76);
                      v87 = strlen(v65);
                      if ((unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v65, v87) != 1)
                      {
                        v88 = 0;
                        do
                        {
                          *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
                          *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
                          ++v88;
                          v89 = strlen(v65);
                        }
                        while ((unsigned __int16)(Utf8_LengthInUtf8chars((unint64_t)v65, v89) - 1) > (unsigned __int16)v88);
                      }
                      *(_DWORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 8689634;
                      *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
                      *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
                    }
                    v26 = v111;
                    a5 = v110;
                    v11 = hlp_MdeRecurse_0(a1, a2, a3, (unsigned __int16)v111, v110, v106);
                    if ((v11 & 0x80000000) != 0)
                      return v11;
                    if (!*v110)
                    {
                      v90 = Utf8_LengthInUtf8chars(*(_QWORD *)(a1 + 240), v85);
                      *(_BYTE *)(*(_QWORD *)(a1 + 240) + v85) = 0;
                      *(_BYTE *)(*(_QWORD *)(a1 + 248) + v90) = 0;
                      *(_BYTE *)(*(_QWORD *)(a1 + 256) + v90) = 0;
                    }
                    goto LABEL_121;
                  }
                  v91 = *(_QWORD *)(*(_QWORD *)a1 + 32);
                  v92 = "G2P MDE usage validation not OK";
                }
                log_OutText(v91, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)v92, v82, v83, v84, v99);
                a5 = v110;
                v26 = v111;
LABEL_121:
                v8 = v108;
                if (++v64 >= (unint64_t)*(unsigned __int16 *)&__c[1])
                  goto LABEL_76;
                continue;
              }
            }
LABEL_94:
            v79 = 0;
            goto LABEL_95;
          }
LABEL_93:
          v76 = 0;
          goto LABEL_94;
        }
      }
      else
      {
        v72 = 0;
      }
      break;
    }
    v74 = 0;
    goto LABEL_93;
  }
  return v11;
}

uint64_t hlp_Realloc_0(uint64_t *a1, unsigned int a2)
{
  uint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unsigned int v13;

  if (a2 < 0x81)
    return 0;
  v3 = a2;
  v4 = heap_Realloc(*(uint64_t **)(*a1 + 8), a1[30], a2);
  if (v4
    && (a1[30] = v4, (v9 = heap_Realloc(*(uint64_t **)(*a1 + 8), a1[31], v3)) != 0)
    && (a1[31] = v9, (v10 = heap_Realloc(*(uint64_t **)(*a1 + 8), a1[32], v3)) != 0))
  {
    v11 = 0;
    a1[32] = v10;
  }
  else
  {
    v11 = 2310021130;
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v5, v6, v7, v8, v13);
  }
  return v11;
}

char *oneword_FindPhonWordSep(char *a1, char *a2)
{
  char *result;
  char v5;

  *a2 = 0;
  result = strchr(a1, 95);
  if (result)
  {
    v5 = 1;
  }
  else
  {
    result = strstr(a1, "-*");
    if (!result)
      return result;
    v5 = 2;
  }
  *a2 = v5;
  return result;
}

uint64_t oneword_CountPhoneticWords(char *a1, char *a2)
{
  const char *v3;
  char *v4;
  char *v5;
  int64_t v6;
  unsigned __int16 v7;
  int v8;
  __int16 v9;

  v3 = a1;
  v4 = strchr(a1, 18);
  if (v4)
    v5 = v4;
  else
    v5 = a2;
  if (v5 - v3 >= 2 && *(v5 - 1) == 35)
    --v5;
  if (v5 <= v3)
  {
    return 1;
  }
  else
  {
    v6 = v5 - v3;
    v7 = 1;
    do
    {
      v8 = *(unsigned __int8 *)v3;
      v9 = 1;
      if (v8 != 35 && v8 != 95)
        v9 = strncmp(v3, "-*", 2uLL) == 0;
      v7 += v9;
      ++v3;
      --v6;
    }
    while (v6);
  }
  return v7;
}

size_t oneword_FindNextWord(size_t result, unsigned int a2, unsigned int a3, unsigned int *a4, unsigned int *a5)
{
  unsigned int v7;
  unsigned int v8;
  char *v10;
  unsigned int v11;

  v7 = a3;
  v8 = *a4;
  if (*a4 >= a3)
  {
    v8 = a3;
  }
  else
  {
    v10 = (char *)result;
    do
    {
      result = utf8_BelongsToSet(a2, v10, v8, v7);
      if (!(_DWORD)result)
        break;
      result = utf8_GetNextUtf8Offset(v10, v8);
      v8 = result;
    }
    while (result < v7);
    if (v8 >= v7)
    {
      v7 = v8;
    }
    else
    {
      v11 = v8;
      do
      {
        result = utf8_BelongsToSet(a2, v10, v11, v7);
        if ((_DWORD)result)
          break;
        result = utf8_GetNextUtf8Offset(v10, v11);
        v11 = result;
      }
      while (result < v7);
      v7 = v8;
      v8 = v11;
    }
  }
  *a4 = v7;
  *a5 = v8;
  return result;
}

uint64_t oneword_CountOrthographicWords(char *a1, int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v7;
  unsigned int i;
  unsigned int PreviousUtf8Offset;
  unsigned int v10;
  unsigned int v11;
  unsigned int v12;
  unsigned __int16 j;

  v7 = a2 - (_DWORD)a1;
  for (i = 0; utf8_BelongsToSet(a3, a1, i, v7); i = utf8_GetNextUtf8Offset(a1, i))
    ;
  PreviousUtf8Offset = utf8_GetPreviousUtf8Offset((uint64_t)a1, v7);
  if (v7)
  {
    v10 = PreviousUtf8Offset;
    v11 = v7;
    if (utf8_BelongsToSet(a3, a1, PreviousUtf8Offset, v7))
    {
      do
      {
        v11 = v10;
        v12 = utf8_GetPreviousUtf8Offset((uint64_t)a1, v10);
        if (!v10)
          break;
        v10 = v12;
      }
      while (utf8_BelongsToSet(a3, a1, v12, v7));
    }
  }
  else
  {
    v11 = 0;
  }
  for (j = 1; i < v11; i = utf8_GetNextUtf8Offset(a1, i))
  {
    if (!a1[i])
      break;
    if (utf8_BelongsToSet(a4, a1, i, v7))
    {
      ++j;
      for (; i < v11; i = utf8_GetNextUtf8Offset(a1, i))
      {
        if (!utf8_BelongsToSet(a4, a1, i, v7))
          break;
      }
    }
  }
  return j;
}

char *oneword_ReplaceAllCharactersInOrthography(char *a1, int a2, unsigned int a3, char a4)
{
  __int16 v5;

  v5 = a2 - (_WORD)a1;
  return oneword_ReplaceCharactersInOrthography(a1, a2, a3, a4, &v5);
}

char *oneword_ReplaceCharactersInOrthography(char *result, int a2, unsigned int a3, char a4, _WORD *a5)
{
  char *v8;
  unsigned int v9;
  unsigned int NextUtf8Offset;
  BOOL v11;
  unsigned int v12;
  BOOL v13;

  if (a5 && *a5)
  {
    v8 = result;
    v9 = a2 - (_DWORD)result;
    result = (char *)utf8_BelongsToSet(a3, result, 0, a2 - (int)result);
    if ((_DWORD)result)
    {
      NextUtf8Offset = 0;
      do
      {
        NextUtf8Offset = utf8_GetNextUtf8Offset(v8, NextUtf8Offset);
        result = (char *)utf8_BelongsToSet(a3, v8, NextUtf8Offset, v9);
      }
      while ((_DWORD)result);
    }
    if (*a5)
      v11 = v9 == 0;
    else
      v11 = 1;
    if (!v11)
    {
      v12 = 0;
      do
      {
        if (utf8_BelongsToSet(a3, v8, v12, v9))
        {
          v8[v12] = a4;
          --*a5;
        }
        result = (char *)utf8_GetNextUtf8Offset(v8, v12);
        v12 = result;
        if (*a5)
          v13 = result >= v9;
        else
          v13 = 1;
      }
      while (!v13);
    }
  }
  return result;
}

uint64_t getDepesLayersForWordAndPOS(uint64_t a1, uint64_t a2, char *__s, char *a4)
{
  char *v5;
  int v8;
  unsigned __int16 v9;
  const char **v10;
  char **v11;
  int v12;
  char *v13;
  char *v14;
  BOOL v15;
  BOOL v16;
  int v17;
  char *v18;
  char *v19;
  unsigned __int16 v20;
  unsigned __int16 v21;
  size_t v22;
  size_t v23;
  int v24;
  const char **v25;
  int v26;
  int v27;
  int v28;
  int v29;
  int v30;
  unsigned __int16 v31;
  const char *v32;
  int v33;
  char *v34;
  unsigned int v35;
  __int16 v36;
  unsigned __int16 v37;
  unsigned __int16 v38;
  int v39;
  int v40;
  int v41;
  unsigned int i;
  uint64_t v43;
  uint64_t j;
  size_t v45;
  __int16 v46;
  unsigned int v48;
  char *v49;
  char *__sa;
  uint64_t v51;
  char *v52;
  char *v53;
  char *v54;
  int v55;

  v5 = __s;
  v8 = strlen(__s);
  v9 = Utf8_LengthInUtf8chars((unint64_t)v5, v8);
  v10 = (const char **)(a1 + 160);
  **(_BYTE **)(a1 + 160) = 0;
  v11 = (char **)(a1 + 168);
  **(_BYTE **)(a1 + 168) = 0;
  **(_BYTE **)(a1 + 176) = 0;
  v48 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 104))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a2, v5, 128);
  if ((v48 & 0x80000000) == 0)
  {
    if (a4)
    {
      v12 = strlen(a4);
      Utf8_LengthInUtf8chars((unint64_t)a4, v12);
      v13 = strstr(v5, "║");
      v14 = strchr(a4, 43);
      v15 = v13 != 0;
      v16 = v14 != 0;
      __sa = a4;
      if ((unint64_t)v13 | (unint64_t)v14)
      {
        v55 = 0;
        v17 = 0;
        v18 = v5;
        v49 = v5;
        v51 = a1;
        while (1)
        {
          v19 = v18;
          if (v15)
            v20 = (_WORD)v13 - (_WORD)v18;
          else
            v20 = 0;
          if (v16)
            v21 = (_WORD)v14 - (_WORD)a4;
          else
            v21 = 0;
          v22 = v21;
          v23 = v20;
          if (!v20 || !v21)
          {
            if (!v20 || v21)
            {
              if (v20 || !v21)
              {
                a1 = v51;
              }
              else
              {
                v54 = v14;
                strncat(*v11, &__sa[(unsigned __int16)v17], v21);
                v28 = 0;
                *(_WORD *)&(*v11)[strlen(*v11)] = 32;
                v29 = v17 + 1;
                do
                {
                  *(_WORD *)&(*v10)[strlen(*v10)] = 126;
                  ++v28;
                }
                while (v22 > (unsigned __int16)v28);
                v17 = v29 + v22;
                *(_WORD *)&(*v10)[strlen(*v10)] = 32;
                v14 = strchr(v54 + 1, 43);
                a1 = v51;
                v5 = v49;
              }
            }
            else
            {
              v53 = v14;
              strncat((char *)*v10, &v5[(unsigned __int16)v55], v20);
              v27 = 0;
              *(_WORD *)&(*v10)[strlen(*v10)] = 32;
              do
              {
                *(_WORD *)&(*v11)[strlen(*v11)] = 126;
                ++v27;
              }
              while (v23 > (unsigned __int16)v27);
              v55 += 3 + v23;
              *(_WORD *)&(*v11)[strlen(*v11)] = 32;
              v13 = strstr(v13 + 3, "║");
              a1 = v51;
              v5 = v49;
              v14 = v53;
            }
            v18 = v19;
            goto LABEL_36;
          }
          v24 = v20 - v21;
          v52 = v14;
          if (v20 <= v21)
          {
            strncat(*v11, &__sa[(unsigned __int16)v17], v21);
            *(_WORD *)&(*v11)[strlen(*v11)] = 32;
            strncat((char *)*v10, &v5[(unsigned __int16)v55], v23);
            v25 = v10;
            if ((int)v22 - (int)v23 >= 1)
            {
              v30 = 0;
              do
              {
                *(_WORD *)&(*v10)[strlen(*v10)] = 126;
                ++v30;
              }
              while ((int)v22 - (int)v23 > (unsigned __int16)v30);
              v25 = v10;
              goto LABEL_32;
            }
          }
          else
          {
            strncat((char *)*v10, &v5[(unsigned __int16)v55], v20);
            *(_WORD *)&(*v10)[strlen(*v10)] = 32;
            strncat(*v11, &__sa[(unsigned __int16)v17], v22);
            v25 = (const char **)v11;
            if (v24 >= 1)
            {
              v26 = 0;
              do
              {
                *(_WORD *)&(*v11)[strlen(*v11)] = 126;
                ++v26;
              }
              while (v24 > (unsigned __int16)v26);
              v25 = (const char **)v11;
LABEL_32:
              v5 = v49;
            }
          }
          *(_WORD *)&(*v25)[strlen(*v25)] = 32;
          v17 += v22 + 1;
          v55 += v23 + 3;
          v18 = v13 + 3;
          LOWORD(a4) = (_WORD)v52 + 1;
          v13 = strstr(v13 + 3, "║");
          v14 = strchr(v52 + 1, 43);
          a1 = v51;
LABEL_36:
          v15 = v13 != 0;
          v16 = v14 != 0;
          if (!((unint64_t)v13 | (unint64_t)v14))
            goto LABEL_46;
        }
      }
      LOWORD(v17) = 0;
      LOWORD(v55) = 0;
LABEL_46:
      v37 = strlen(v5);
      v38 = strlen(__sa);
      if (v37 > (unsigned __int16)v55)
        strcat((char *)*v10, &v5[(unsigned __int16)v55]);
      if (v38 > (unsigned __int16)v17)
        strcat(*v11, &__sa[(unsigned __int16)v17]);
      v39 = strlen(*v10);
      v40 = strlen(*v11);
      v41 = v40;
      if ((unsigned __int16)v39 <= (unsigned __int16)v40)
      {
        for (i = (unsigned __int16)v40; i > (unsigned __int16)v39; ++v39)
          *(_WORD *)&(*v10)[strlen(*v10)] = 126;
      }
      else
      {
        do
        {
          *(_WORD *)&(*v11)[strlen(*v11)] = 126;
          ++v41;
        }
        while ((unsigned __int16)v39 > (unsigned __int16)v41);
      }
      v43 = (unsigned __int16)strlen(*v10);
      if (v43)
      {
        for (j = 0; j != v43; ++j)
        {
          v45 = strlen(*(const char **)(a1 + 176));
          if (*(_BYTE *)(*(_QWORD *)(a1 + 160) + j) == 32)
            v46 = 32;
          else
            v46 = 126;
          *(_WORD *)(*(_QWORD *)(a1 + 176) + v45) = v46;
        }
      }
    }
    else if (v9)
    {
      v31 = 0;
      do
      {
        v32 = &v5[v31];
        v33 = strncmp(v32, "║", 3uLL);
        v34 = (char *)*v10;
        if (v33)
        {
          v35 = utf8_determineUTF8CharLength(*(unsigned __int8 *)v32);
          strncat(v34, &v5[v31], v35);
          *(_WORD *)(*(_QWORD *)(a1 + 168) + strlen(*(const char **)(a1 + 168))) = 126;
          *(_WORD *)(*(_QWORD *)(a1 + 176) + strlen(*(const char **)(a1 + 176))) = 126;
          v36 = utf8_determineUTF8CharLength(*(unsigned __int8 *)v32);
        }
        else
        {
          *(_WORD *)&v34[strlen(*v10)] = 32;
          *(_WORD *)(*(_QWORD *)(a1 + 168) + strlen(*(const char **)(a1 + 168))) = 32;
          *(_WORD *)(*(_QWORD *)(a1 + 176) + strlen(*(const char **)(a1 + 176))) = 32;
          v36 = 3;
        }
        v31 += v36;
      }
      while (v31 < v9);
    }
  }
  return v48;
}

uint64_t oneword_SkipCrosstoken(uint64_t a1, uint64_t a2, uint64_t a3, const char *a4, unsigned int a5, __int16 a6, __int16 a7, int a8, unsigned __int16 a9)
{
  char *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  const char *v20;
  unsigned int v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  __int16 v25;
  unsigned __int16 v26;
  int v27;
  __int16 v28;
  __int16 v29;
  __int16 v30;
  __int16 v31;
  __int16 v32;
  unsigned int v34;
  __int16 v35;
  unsigned __int16 v36;
  int v37;
  int v38;
  int v39;
  int v40;
  int v41;
  char *v42;
  char *v43;
  char *v44;
  char *__s;
  int v46;
  int v47;
  unsigned int v48;
  __int16 v49;
  __int16 v50;

  v50 = a6;
  v49 = a7;
  v46 = 17;
  v47 = 9;
  v44 = 0;
  __s = 0;
  v42 = 0;
  v43 = 0;
  v15 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, (2 * a5) | 1);
  if (v15)
  {
    v20 = v15;
    if (a5 >= 2)
    {
      v21 = a5 - 1;
      do
      {
        strcat(v15, "*.");
        --v21;
      }
      while (v21);
    }
    v48 = 0;
    v40 = 0;
    v41 = 0;
    v38 = 0;
    v39 = 0;
    v37 = 0;
    v36 = 0;
    *(_WORD *)&v15[strlen(v15)] = 42;
    v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, a9, 0, 1, &v48, (char *)&v41 + 2);
    if ((v22 & 0x80000000) == 0)
    {
      v23 = *(_QWORD *)(a1 + 56);
      v22 = v48 > 1
          ? (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(v23 + 88))(a2, a3, a9, (char *)&v37 + 2)
          : (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(v23 + 80))(a2, a3, a9, (char *)&v37 + 2);
      if ((v22 & 0x80000000) == 0)
      {
        v48 = 9;
        v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 0, 1, &v48, &v41);
        if ((v22 & 0x80000000) == 0)
        {
          v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 1, 1, &v50, &v41);
          if ((v22 & 0x80000000) == 0)
          {
            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 2, 1, &v49, &v41);
            if ((v22 & 0x80000000) == 0)
            {
              v25 = strlen(v20);
              v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 3, (unsigned __int16)(v25 + 1), v20, &v41);
              if ((v22 & 0x80000000) == 0)
              {
                v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 5, 1, "*", &v41);
                if ((v22 & 0x80000000) == 0)
                {
                  v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 6, 1, "*", &v41);
                  if ((v22 & 0x80000000) == 0)
                  {
                    if (strcmp(a4, "latin")
                      || (v35 = 1,
                          v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 7, 1, &v35, &v41), (v22 & 0x80000000) == 0))
                    {
                      v24 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 9, 7, "normal", &v41);
                      if ((v24 & 0x80000000) != 0)
                        goto LABEL_60;
                      LOWORD(v38) = a8;
                      if (HIWORD(v37) == a8)
                        goto LABEL_60;
                      v26 = 0;
                      while (1)
                      {
                        v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)a8, 0, 1, &v48, (char *)&v41 + 2);
                        if ((v22 & 0x80000000) != 0)
                          break;
                        v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v38, 1, 1, &v40, (char *)&v41 + 2);
                        if ((v22 & 0x80000000) != 0)
                          break;
                        v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v38, 2, 1, (char *)&v39 + 2, (char *)&v41 + 2);
                        if ((v22 & 0x80000000) != 0)
                          break;
                        if (v48 <= 1)
                        {
                          v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 136))(a2, a3, (unsigned __int16)v38, &v36);
LABEL_27:
                          if ((v22 & 0x80000000) != 0)
                            break;
                          v27 = v36;
                          while (v27 != v26)
                          {
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v27, 0, 1, &v47, (char *)&v41 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v36, 1, 1, &v39, (char *)&v41 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v36, 2, 1, (char *)&v38 + 2, (char *)&v41 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            if (v47 != 4
                              || (unsigned __int16)v39 != (unsigned __int16)v40
                              || HIWORD(v38) != HIWORD(v39))
                            {
                              v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 136))(a2, a3, v36, &v36);
                              goto LABEL_27;
                            }
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56)
                                                                                              + 88))(a2, a3, HIWORD(v37), (char *)&v37 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, v36, 3, &__s, (char *)&v41 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, v36, 5, &v42, (char *)&v41 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v36, 7, 1, (char *)&v40 + 2, (char *)&v41 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, v36, 6, &v44, (char *)&v41 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, v36, 9, &v43, (char *)&v41 + 2);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 0, 1, &v46, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            LOWORD(v39) = v39 + *(_WORD *)(a1 + 224);
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 1, 1, &v39, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            HIWORD(v38) += *(_WORD *)(a1 + 224);
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 2, 1, (char *)&v38 + 2, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v28 = strlen(__s);
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 3, (unsigned __int16)(v28 + 1), __s, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v29 = strlen(a4);
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 4, (unsigned __int16)(v29 + 1), a4, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v30 = strlen(v42);
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 5, (unsigned __int16)(v30 + 1), v42, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v31 = strlen(v44);
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 6, (unsigned __int16)(v31 + 1), v44, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 7, 1, (char *)&v40 + 2, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v32 = strlen(v43);
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v37), 9, (unsigned __int16)(v32 + 1), v43, &v41);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56)
                                                                                             + 136))(a2, a3, v36, &v37);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 192))(a2, a3, v36);
                            if ((v22 & 0x80000000) != 0)
                              goto LABEL_59;
                            v27 = (unsigned __int16)v37;
                            v36 = v37;
                          }
                          v26 = v38;
                        }
                        v24 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 120))(a2, a3);
                        if ((v24 & 0x80000000) == 0)
                        {
                          LOWORD(a8) = v38;
                          if ((unsigned __int16)v38 != HIWORD(v37))
                            continue;
                        }
                        goto LABEL_60;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
LABEL_59:
    v24 = v22;
LABEL_60:
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v20);
    return v24;
  }
  log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v16, v17, v18, v19, v34);
  return 2310021130;
}

uint64_t hlp_RemoveMNCRecords(_QWORD *a1, uint64_t a2, uint64_t a3, _QWORD *a4, uint64_t a5, uint64_t a6, int a7)
{
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  char *v19;
  uint64_t v20;
  uint64_t v21;
  unsigned __int16 v22;
  size_t v23;
  unsigned int v24;
  unsigned int v25;
  unsigned int v27;
  unsigned __int16 v28;
  int v29;
  int v30;
  int v31;
  unsigned __int16 v32;

  v14 = heap_Calloc(*(_QWORD **)(*a1 + 8), 1, 129);
  if (!v14)
  {
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v15, v16, v17, v18, v27);
    return 2310021130;
  }
  v19 = (char *)v14;
  v32 = 0;
  v30 = 0;
  v31 = 0;
  v29 = 0;
  v28 = 0;
  v20 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, unsigned __int16 *))(a1[7] + 120))(a2, a3, a5, &v32);
  if ((v20 & 0x80000000) == 0)
  {
    v20 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, a5, 1, 1, &v29, (char *)&v30 + 2);
    if ((v20 & 0x80000000) == 0)
    {
      v21 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, unsigned __int16 *, char *))(a1[7] + 168))(a2, a3, a6, 2, 1, &v28, (char *)&v30 + 2);
      if ((v21 & 0x80000000) != 0)
        goto LABEL_22;
      v22 = v32;
      if (!v32)
        goto LABEL_22;
      while (1)
      {
        v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, v22, 0, 1, &v31, (char *)&v30 + 2);
        if ((v20 & 0x80000000) != 0)
          break;
        if (v31 == 4)
        {
          v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, v32, 1, 1, &v30, (char *)&v30 + 2);
          if ((v20 & 0x80000000) != 0)
            break;
          v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a1[7] + 168))(a2, a3, v32, 2, 1, (char *)&v29 + 2, (char *)&v30 + 2);
          if ((v21 & 0x80000000) != 0)
            goto LABEL_22;
          if ((unsigned __int16)v30 > ~a7)
          {
            v23 = HIWORD(v29) - (unint64_t)(unsigned __int16)v30;
            if ((int)v23 <= 127)
            {
              strncpy(v19, (const char *)(*a4 + (unsigned __int16)v30 + a7), v23);
              v24 = HIWORD(v29);
              v25 = (unsigned __int16)v30;
              v19[HIWORD(v29) - (unsigned __int16)v30] = 0;
              if (v25 < (unsigned __int16)v29 || v24 > v28 || strlen(v19) < 2 || !strchr(v19, 95))
                goto LABEL_22;
              v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(a1[7] + 192))(a2, a3, v32);
              if ((v20 & 0x80000000) != 0)
                break;
              v32 = a5;
            }
          }
        }
        LOWORD(a5) = v32;
        v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1[7] + 120))(a2, a3, v32, &v32);
        if ((v21 & 0x80000000) == 0)
        {
          v22 = v32;
          if (v32)
            continue;
        }
        goto LABEL_22;
      }
    }
  }
  v21 = v20;
LABEL_22:
  heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v19);
  return v21;
}

uint64_t oneword_TranscribeAcronym(uint64_t a1, char *a2, const char *a3, unsigned __int8 *a4, char *a5)
{
  unsigned __int16 v9;
  int v10;
  char *v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  const char *v16;
  char *v17;
  char *v18;
  char v19;
  uint64_t v20;
  uint64_t v21;
  int v22;
  unsigned __int16 v23;
  const char **v24;
  _QWORD *v25;
  int v26;
  unsigned int v27;
  uint64_t v28;
  BOOL v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  unint64_t v37;
  int v38;
  char *v39;
  char *v40;
  char *v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  char *v46;
  char *v47;
  char *v48;
  char *v49;
  char *v50;
  const char *v51;
  char *v52;
  char *v53;
  char *v54;
  char *v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  char *v59;
  char *v60;
  size_t v61;
  char *v62;
  int v63;
  unsigned int v64;
  int v65;
  BOOL v66;
  char *v67;
  uint64_t appended;
  unsigned __int8 v69;
  unsigned __int16 v70;
  const char *v71;
  char v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  unsigned int v77;
  uint64_t v78;
  unsigned __int8 *v79;
  uint64_t v80;
  char v81;
  const char *v82;
  uint64_t v83;
  uint64_t v84;
  char *v85;
  unsigned __int8 v87;
  int v88;
  unsigned __int16 v89;
  int v90[2];
  unsigned __int8 __c;
  unsigned __int16 __c_1;
  uint64_t __c_3;
  char v94[2];
  char __s[128];
  uint64_t v96;

  v96 = *MEMORY[0x1E0C80C00];
  __c_1 = 0;
  strcpy(__s, "one_word");
  v9 = strlen(__s);
  v10 = strlen(a3);
  v11 = (char *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), (v10 + 1));
  if (!v11)
  {
    v20 = 2310021130;
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v12, v13, v14, v15, v77);
    return v20;
  }
  v16 = v11;
  __c_3 = 0;
  *(_QWORD *)v90 = 0;
  v89 = 0;
  strcpy(v11, a3);
  v79 = a4;
  if (*(_DWORD *)(a1 + 560) == 1)
  {
    v17 = strchr(a2, 95);
    if (v17)
      v18 = v17 + 1;
    else
      v18 = a2;
    v82 = v18;
    v19 = *v18;
  }
  else
  {
    v82 = 0;
    v19 = 32;
  }
  v81 = v19;
  v21 = 0;
  v22 = 0;
  v23 = 0;
  __c = 0;
  v24 = (const char **)(a1 + 160);
  v25 = (_QWORD *)(a1 + 192);
  v80 = v9;
  v83 = v9 + 2;
  v87 = 32;
  v84 = (uint64_t)v16;
  while (1)
  {
    v26 = v16[v21];
    if (v26 >= -64)
    {
      if ((*(unsigned int (**)(_QWORD, _QWORD, const char *))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), &v16[v21]))
      {
        break;
      }
      LOBYTE(v26) = v16[v21];
    }
    v27 = v26;
    v28 = (1 << v26) & 0x100002601;
    v29 = v27 > 0x20 || v28 == 0;
    if (!v29 || v27 == 95)
      break;
    ++v22;
LABEL_90:
    v21 = (unsigned __int16)v22;
    if (strlen(v16) < (unsigned __int16)v22)
    {
      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v16);
      v20 = 0;
      *v79 = v87;
      return v20;
    }
  }
  v85 = (char *)&v16[v21];
  if ((unsigned __int16)v22 == v23)
  {
LABEL_88:
    v94[0] = *v85;
    v94[1] = 0;
    appended = oneword_AppendPhon(a1, v94, &byte_1DEBD87CE, (uint64_t)&byte_1DEBD87CE, 32, 0);
    if ((appended & 0x80000000) != 0)
      goto LABEL_94;
    v23 = ++v22;
    goto LABEL_90;
  }
  **(_BYTE **)(a1 + 160) = 0;
  if (!dynamic_strncat(v24, &v16[v23], v21 - v23, v25, *(uint64_t **)(*(_QWORD *)a1 + 8)))
    return 2310021130;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P look up %s", v30, v31, v32, *(_QWORD *)(a1 + 160));
  __c_1 = 0;
  if (*(_DWORD *)(a1 + 1224))
  {
    v88 = 7352935;
    __strcat_chk();
    v33 = (*(uint64_t (**)(_QWORD, _QWORD, int *, _QWORD, uint64_t *, unsigned __int16 *, unsigned __int8 *, _QWORD))(*(_QWORD *)(a1 + 80) + 232))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), &v88, *(_QWORD *)(a1 + 160), &__c_3, &__c_1, &__c, 0);
  }
  else
  {
    LODWORD(v78) = 0;
    v33 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD, uint64_t *, unsigned __int16 *, unsigned __int8 *, _QWORD))(*(_QWORD *)(a1 + 80) + 240))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "g2p", *(_QWORD *)(a1 + 160), &__c_3, &__c_1, &__c, *(unsigned __int8 *)(a1 + 556));
  }
  v20 = v33;
  if ((v33 & 0x80000000) != 0)
    goto LABEL_95;
  if (!__c_1)
  {
    v69 = 32;
LABEL_74:
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v34, v35, v36, (uint64_t)__s);
    v70 = strlen(*(const char **)(a1 + 160));
    appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, *(_QWORD *)(a1 + 160), v70);
    if ((appended & 0x80000000) != 0)
      goto LABEL_94;
    if (strcmp(a2, "normal") && v83 + strlen(a2) <= 0x7F)
    {
      __strcat_chk();
      __strcat_chk();
    }
    if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s) & 0x80000000) != 0)
    {
      __s[v80] = 0;
      appended = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s);
      if ((appended & 0x80000000) != 0)
        goto LABEL_94;
    }
    else
    {
      if (*(_DWORD *)(a1 + 560))
      {
        v71 = v82;
        v72 = v81;
        if (!v82)
          goto LABEL_86;
      }
      else
      {
        v72 = *a2;
        v71 = a2;
      }
      strncpy(a5, v71, 0x14uLL);
      v69 = v72;
    }
LABEL_86:
    appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 104)
                                                                                            + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, v90, &v89);
    if ((appended & 0x80000000) != 0)
      goto LABEL_94;
    *(_BYTE *)(*(_QWORD *)v90 + v89) = 0;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v73, v74, v75, (uint64_t)__s);
    v87 = v69;
    appended = oneword_AppendPhon(a1, *(char **)v90, "*", (uint64_t)"*", v69, 1);
    if ((appended & 0x80000000) != 0)
      goto LABEL_94;
    goto LABEL_88;
  }
  v37 = 0;
  v38 = 0;
  v39 = 0;
  v87 = 32;
  do
  {
    v40 = *(char **)(__c_3 + 8 * v37);
    v41 = strchr(v40, __c);
    if (!v41)
    {
      v47 = 0;
LABEL_37:
      v51 = 0;
LABEL_38:
      v54 = 0;
      goto LABEL_39;
    }
    *v41 = 0;
    v46 = strchr(v41 + 1, __c);
    v47 = v46;
    if (!v46)
      goto LABEL_37;
    *v46 = 0;
    v47 = v46 + 1;
    v48 = strchr(v46 + 1, __c);
    if (!v48)
      goto LABEL_37;
    *v48 = 0;
    v49 = strchr(v48 + 1, __c);
    if (!v49)
      goto LABEL_37;
    *v49 = 0;
    v50 = strchr(v49 + 1, __c);
    v51 = v50;
    if (!v50)
      goto LABEL_38;
    *v50 = 0;
    v51 = v50 + 1;
    v52 = strchr(v50 + 1, __c);
    if (!v52)
      goto LABEL_38;
    *v52 = 0;
    v53 = strchr(v52 + 1, __c);
    v54 = v53;
    if (v53)
    {
      *v53 = 0;
      v54 = v53 + 1;
      v55 = strchr(v53 + 1, __c);
      if (v55)
        *v55 = 0;
    }
LABEL_39:
    if (!v40)
    {
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34001, 0, v42, v43, v44, v45, v78);
      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v84);
      return 2310021127;
    }
    oneword_ReplaceUnderscoreWithDot(v40);
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P Validating %s", v56, v57, v58, (uint64_t)v40);
    if (v47 && *v47 && !strstr(v47, a2))
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P Domain validation not OK", v34, v35, v36, v78);
    }
    else if (v54
           && *(_DWORD *)(a1 + 1204)
           && ((v59 = strstr(a2, v54)) == 0 || (v60 = v59, (v61 = strlen(v54)) != 0) && v60[v61])
           && ((v62 = strstr(*(char **)(a1 + 1216), a2), LH_stricmp(v54, *(char **)(a1 + 1208)))
            || !v62
            || v62[strlen(a2)] != 124))
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P Language %s validation not OK", v34, v35, v36, (uint64_t)v54);
    }
    else
    {
      if (v51 && *v51)
        v63 = atoi(v51);
      else
        v63 = 1;
      v64 = (unsigned __int16)(v63 - 1);
      if (v64 < (unsigned __int16)v38)
      {
        v65 = v38;
      }
      else
      {
        v39 = v40;
        v65 = v63;
      }
      if (v54)
      {
        v66 = v64 >= (unsigned __int16)v38;
        v38 = v65;
        if (v66)
        {
          v87 = *v54;
          strncpy(a5, v54, 0x14uLL);
          v39 = v40;
          v38 = v63;
        }
      }
      else
      {
        v38 = v65;
      }
    }
    ++v37;
  }
  while (v37 < __c_1);
  if (!v39)
  {
    v24 = (const char **)(a1 + 160);
    v16 = (const char *)v84;
    v25 = (_QWORD *)(a1 + 192);
    v69 = v87;
    goto LABEL_74;
  }
  v67 = strchr(v39, 18);
  v25 = (_QWORD *)(a1 + 192);
  v24 = (const char **)(a1 + 160);
  if (v67)
    *v67 = 0;
  if (!strcmp(v39, "_"))
  {
    v16 = (const char *)v84;
    goto LABEL_88;
  }
  appended = oneword_AppendPhon(a1, v39, "*", (uint64_t)"*", v87, 1);
  v16 = (const char *)v84;
  if ((appended & 0x80000000) == 0)
    goto LABEL_88;
LABEL_94:
  v20 = appended;
LABEL_95:
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v16);
  return v20;
}

size_t oneword_ReplaceUnderscoreWithDot(const char *a1)
{
  char *v1;
  size_t result;
  uint64_t v3;

  v1 = (char *)a1;
  result = strlen(a1);
  v3 = (unsigned __int16)result;
  if ((_WORD)result)
  {
    do
    {
      if (*v1 == 95)
        *v1 = 46;
      ++v1;
      --v3;
    }
    while (v3);
  }
  return result;
}

uint64_t oneword_AppendPhon(uint64_t a1, char *a2, char *__s, uint64_t a4, int a5, uint64_t a6)
{
  char v11;
  __int16 v12;
  __int16 v13;
  __int16 v14;
  unsigned __int16 v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  char *v25;
  char *v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  int v31;
  int v32;
  int v33;
  int v34;
  int v35;
  int v36;
  signed int v37;
  int v38;
  int v39;
  int v40;
  int v41;
  unsigned int v42;
  int v43;
  int v44;
  int v45;
  unsigned int v47;
  const char *v48;
  char __s2[2];

  if (a5)
    v11 = a5;
  else
    v11 = 32;
  __s2[0] = v11;
  __s2[1] = 0;
  if (strlen(__s) >= 2)
  {
    if (!(_DWORD)a6 && strchr(__s, 32))
    {
      if (strlen((const char *)a4) <= 1)
        goto LABEL_14;
LABEL_12:
      if (strchr((char *)a4, 32))
        goto LABEL_14;
      goto LABEL_13;
    }
    __s[1] = 0;
  }
  if (strlen((const char *)a4) <= 1)
    goto LABEL_14;
  if (!(_DWORD)a6)
    goto LABEL_12;
LABEL_13:
  *(_BYTE *)(a4 + 1) = 0;
LABEL_14:
  if (!*a2)
    return 0;
  v12 = strlen(*(const char **)(a1 + 240));
  v13 = strlen(a2);
  v14 = v12 + 7;
  if (!(_DWORD)a6)
    v14 = v12 + 1;
  v15 = v14 + v13;
  if (v15 >= 0x81u)
  {
    v16 = v15;
    v17 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 240), v15);
    if (!v17
      || (*(_QWORD *)(a1 + 240) = v17,
          (v22 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 248), v16)) == 0)
      || (*(_QWORD *)(a1 + 248) = v22,
          (v23 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 256), v16)) == 0)
      || (*(_QWORD *)(a1 + 256) = v23,
          (v24 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 264), v16)) == 0))
    {
      a6 = 2310021130;
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v18, v19, v20, v21, v47);
      return a6;
    }
    *(_QWORD *)(a1 + 264) = v24;
  }
  if ((_DWORD)a6)
  {
    *(_DWORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 8689634;
    *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
    *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
    *(_WORD *)(*(_QWORD *)(a1 + 264) + strlen(*(const char **)(a1 + 264))) = 32;
  }
  v25 = strstr(a2, "◄");
  if (strchr(__s, 32) || !v25)
  {
    strcat(*(char **)(a1 + 240), a2);
    strcat(*(char **)(a1 + 248), __s);
    strcat(*(char **)(a1 + 256), (const char *)a4);
    strcat(*(char **)(a1 + 264), __s2);
    v41 = strlen(a2);
    v42 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)a2, v41);
    if (v42 > (unsigned __int16)strlen(__s))
    {
      v43 = 0;
      do
      {
        *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 126;
        ++v43;
      }
      while ((int)(v42 - (unsigned __int16)strlen(__s)) > (unsigned __int16)v43);
    }
    if (v42 > (unsigned __int16)strlen((const char *)a4))
    {
      v44 = 0;
      do
      {
        *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 126;
        ++v44;
      }
      while ((int)(v42 - (unsigned __int16)strlen((const char *)a4)) > (unsigned __int16)v44);
    }
    if (v42 > (unsigned __int16)strlen(__s2))
    {
      v45 = 0;
      do
      {
        strcat(*(char **)(a1 + 264), __s2);
        ++v45;
      }
      while ((int)(v42 - (unsigned __int16)strlen(__s2)) > (unsigned __int16)v45);
    }
  }
  else
  {
    v26 = strstr(v25 + 3, "◄");
    if (!v26)
    {
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34001, 0, v27, v28, v29, v30, v47);
      return 2310021127;
    }
    v48 = v26;
    strncat(*(char **)(a1 + 240), a2, (unsigned __int16)((_WORD)v25 - (_WORD)a2 + 3));
    if ((unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)a2, (int)v25 - (int)a2 + 3))
    {
      v31 = 0;
      do
      {
        *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
        *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
        *(_WORD *)(*(_QWORD *)(a1 + 264) + strlen(*(const char **)(a1 + 264))) = 32;
        ++v31;
      }
      while ((unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)a2, (int)v25 - (int)a2 + 3) > (unsigned __int16)v31);
    }
    strncat(*(char **)(a1 + 240), v25 + 3, (unsigned __int16)((_WORD)v48 - (_WORD)v25 - 3));
    strcat(*(char **)(a1 + 248), __s);
    strcat(*(char **)(a1 + 256), (const char *)a4);
    strcat(*(char **)(a1 + 264), __s2);
    v32 = (__int16)Utf8_LengthInUtf8chars((unint64_t)v25, (int)v48 - (int)v25) - 1;
    if (v32 > (__int16)strlen(__s))
    {
      v33 = 0;
      do
      {
        *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 126;
        ++v33;
      }
      while (v32 - (__int16)strlen(__s) > (__int16)v33);
    }
    if (v32 > (__int16)strlen((const char *)a4))
    {
      v34 = 0;
      do
      {
        *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 126;
        ++v34;
      }
      while (v32 - (__int16)strlen((const char *)a4) > (__int16)v34);
    }
    if (v32 > (__int16)strlen(__s2))
    {
      v35 = 0;
      do
      {
        strcat(*(char **)(a1 + 264), __s2);
        ++v35;
      }
      while (v32 - (__int16)strlen(__s2) > (__int16)v35);
    }
    strcat(*(char **)(a1 + 240), v48);
    v36 = strlen(a2);
    v37 = Utf8_LengthInUtf8chars((unint64_t)a2, v36) << 16;
    if (v37 > (int)(Utf8_LengthInUtf8chars((unint64_t)a2, (int)v48 - (int)a2) << 16))
    {
      v38 = 0;
      do
      {
        *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
        *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
        *(_WORD *)(*(_QWORD *)(a1 + 264) + strlen(*(const char **)(a1 + 264))) = 32;
        ++v38;
        v39 = strlen(a2);
        v40 = (__int16)Utf8_LengthInUtf8chars((unint64_t)a2, v39);
      }
      while (v40 - (__int16)Utf8_LengthInUtf8chars((unint64_t)a2, (int)v48 - (int)a2) > (__int16)v38);
    }
  }
  if ((_DWORD)a6)
  {
    *(_DWORD *)(*(_QWORD *)(a1 + 240) + strlen(*(const char **)(a1 + 240))) = 8689634;
    *(_WORD *)(*(_QWORD *)(a1 + 248) + strlen(*(const char **)(a1 + 248))) = 32;
    *(_WORD *)(*(_QWORD *)(a1 + 256) + strlen(*(const char **)(a1 + 256))) = 32;
    a6 = 0;
    *(_WORD *)(*(_QWORD *)(a1 + 264) + strlen(*(const char **)(a1 + 264))) = 32;
  }
  return a6;
}

uint64_t oneword_ConvertPhon(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, _WORD *a10, unsigned __int16 *a11, int a12)
{
  uint64_t v12;
  unsigned int v13;
  unsigned __int16 *v14;
  unsigned __int16 *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  unsigned int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  __int16 v24;
  int v25;
  unint64_t v26;
  _DWORD *v27;
  unsigned __int16 v28;
  uint64_t v29;
  uint64_t v30;
  char *v31;
  const char *v32;
  char *v33;
  char *v34;
  size_t v35;
  char *v36;
  char *v37;
  int v38;
  char *v39;
  int v40;
  const char *v41;
  char *v42;
  _BOOL4 v43;
  unsigned int v44;
  int v45;
  uint64_t v47;
  char *v49;
  int v50;
  uint64_t v51;
  unsigned int v52;
  BOOL v53;
  char *v54;
  char v55;
  unint64_t v56;
  uint64_t v57;
  __int16 v58;
  unsigned int v59;
  BOOL v60;
  uint64_t v61;
  uint64_t v62;
  __int16 v63;
  uint64_t v64;
  __int16 v65;
  __int16 v66;
  char *i;
  unsigned int v68;
  __int16 v69;
  uint64_t v70;
  char *v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  unsigned __int16 v76;
  char *v77;
  char *v78;
  char *v79;
  int v80;
  char *v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  char *v86;
  unsigned int v87;
  unsigned int v88;
  uint64_t v89;
  const char *v90;
  unsigned int v91;
  uint64_t v92;
  __int16 v93;
  uint64_t v94;
  uint64_t v95;
  const char *v96;
  const char *v97;
  __int16 v98;
  uint64_t v99;
  size_t v100;
  unsigned int v101;
  char v102;
  int v103;
  unsigned int v104;
  BOOL v105;
  uint64_t v106;
  unsigned int v107;
  uint64_t v108;
  unsigned __int16 v109;
  unsigned __int16 *v110;
  unsigned __int16 v111;
  char v112;
  char *v113;
  char *__s1;
  char *v115;
  char *v116;
  _BYTE __c[11];
  char *v118;
  __int16 v119;
  unsigned __int16 v120;
  char __dst[4];
  __int16 v122;
  char *__s;
  __int16 v124;
  __int16 v125;
  int v126;
  int v127;
  unsigned int v128;
  unsigned __int16 v129;
  __int16 v130;
  char v131[24];
  char v132[5000];
  uint64_t v133;

  v12 = MEMORY[0x1E0C80A78]();
  v15 = v14;
  v17 = v16;
  v19 = v18;
  v20 = v13;
  v22 = v21;
  v23 = v12;
  v133 = *MEMORY[0x1E0C80C00];
  v130 = v24;
  v25 = *v14;
  v129 = *v14;
  v128 = 0;
  v126 = 0;
  v125 = 1;
  v124 = 0;
  v122 = 200;
  v120 = 0;
  v118 = 0;
  __dst[0] = 0;
  v26 = (unsigned __int16)*a10;
  if (v26 < *a11)
  {
    v27 = (_DWORD *)(a9 + 32 * v26 + 12);
    do
    {
      if (*v27 - a12 >= v13)
        break;
      *v27 += *(__int16 *)(v12 + 224);
      v27 += 8;
      *a10 = ++v26;
    }
    while (v26 < *a11);
  }
  v127 = 0;
  __s = 0;
  v119 = 0;
  v28 = 0;
  if (v25)
  {
    while (!v28 || SHIWORD(v126) < (__int16)v20)
    {
      v29 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(v23 + 56) + 168))(v19, v17, (unsigned __int16)v25, 0, 1, &v128, (char *)&v127 + 2);
      if ((v29 & 0x80000000) != 0)
        return v29;
      if (v128 > 3)
      {
        v30 = 0;
        if (v128 == 5)
          v28 = v129;
      }
      else
      {
        v29 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(v23 + 56) + 168))(v19, v17, v129, 2, 1, (char *)&v126 + 2, (char *)&v127 + 2);
        if ((v29 & 0x80000000) != 0)
          return v29;
        v30 = v129;
      }
      v29 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(v23 + 56) + 120))(v19, v17);
      if ((v29 & 0x80000000) != 0)
        return v29;
      if ((_DWORD)v30)
      {
        v29 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)(v23 + 56) + 192))(v19, v17, v30);
        if ((v29 & 0x80000000) != 0)
          return v29;
        v25 = v129;
        if (*(unsigned __int16 *)(v23 + 280) == (_DWORD)v30)
          *(_WORD *)(v23 + 280) = v129;
        if (!v25)
          break;
      }
      else
      {
        LOWORD(v25) = v129;
        if (!v129)
          break;
      }
    }
  }
  v29 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(v23 + 56) + 176))(v19, v17, v28, 3, &__s, (char *)&v127 + 2);
  if ((v29 & 0x80000000) != 0)
    return v29;
  v119 = 0;
  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)(v23 + 56) + 184))(v19, v17, v28, 9, &v119) & 0x80000000) == 0&& v119 == 1)
  {
    v29 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(v23 + 56) + 176))(v19, v17, v28, 9, &v118, (char *)&v127 + 2);
    if ((v29 & 0x80000000) != 0)
      return v29;
  }
  strcpy(v131, "EXTMRKP");
  v31 = strchr(__s, 20);
  if (v31)
  {
    *v31 = 0;
    v32 = v31 + 1;
    v33 = strchr(v31 + 1, 20);
    v34 = v33;
    if (v33)
    {
      *v33 = 0;
      v34 = v33 + 1;
      if (strlen(v33 + 1) != 3)
        v34 = 0;
    }
    v35 = strlen(v32);
    v113 = v34;
    if (v35 && v35 + 1 <= 0x14)
      __strcpy_chk();
  }
  else
  {
    v113 = 0;
  }
  v36 = __s;
  if (*__s == 32)
  {
    v37 = __s + 1;
    do
    {
      __s = v37;
      v38 = *v37++;
    }
    while (v38 == 32);
    v36 = v37 - 1;
  }
  v39 = strchr(v36, 18);
  if (v39)
  {
    *v39 = 0;
    __s1 = v39 + 1;
    v36 = __s;
  }
  else
  {
    __s1 = 0;
  }
  if (strlen(v36) >= 5)
  {
    v40 = *v36;
    if (v40 != 92)
      goto LABEL_51;
    if (v36[1] == 84)
    {
      *(_QWORD *)&__c[3] = 0;
      *(_WORD *)&__c[1] = -1;
      __c[0] = 0;
      strcpy(v132, "lngphon_e");
      v132[8] = v36[2];
      v29 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(v23 + 80) + 96))(*(_QWORD *)(v23 + 64), *(_QWORD *)(v23 + 72), "fecfg", v132, &__c[3], &__c[1], __c);
      if ((v29 & 0x80000000) != 0)
        return v29;
      if (*(_WORD *)&__c[1])
      {
        v41 = **(const char ***)&__c[3];
        v42 = strchr(**(char ***)&__c[3], __c[0]);
        if (v42)
        {
          *v42 = 0;
          v41 = **(const char ***)&__c[3];
        }
        strncpy(__dst, v41, 3uLL);
      }
      v36 = __s + 4;
      __s += 4;
    }
  }
  v40 = *v36;
LABEL_51:
  if (v40 == 35)
  {
    *(_WORD *)&__c[3] = v28;
    v43 = v28 != 0;
    v44 = v128;
    if (!v28 || v128 == 4 || v128 == 9)
    {
      LOWORD(v45) = v28;
    }
    else
    {
      LOWORD(v45) = v28;
      if (v128 != 10)
      {
        LOWORD(v45) = v28;
        do
        {
          v29 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _BYTE *))(*(_QWORD *)(v23 + 56) + 136))(v19, v17, (unsigned __int16)v45, &__c[3]);
          if ((v29 & 0x80000000) != 0)
            return v29;
          if (*(_WORD *)&__c[3])
          {
            v29 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(v23 + 56) + 168))(v19, v17);
            if ((v29 & 0x80000000) != 0)
              return v29;
            v45 = *(unsigned __int16 *)&__c[3];
          }
          else
          {
            v45 = 0;
          }
          v43 = v45 != 0;
          v44 = v128;
        }
        while (v45 && v128 != 4 && v128 != 9 && v128 != 10);
      }
    }
    if (v43)
    {
      *(_WORD *)&__c[1] = v45;
      *(_DWORD *)v132 = v44;
      v29 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v45, 8, 1, &v122, &v127);
      if ((v29 & 0x80000000) == 0)
      {
        while (1)
        {
          v29 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _BYTE *))(*(_QWORD *)(v23 + 56) + 120))(v19, v17, *(unsigned __int16 *)&__c[1], &__c[1]);
          if ((v29 & 0x80000000) != 0)
            break;
          if (!*(_WORD *)&__c[1])
            goto LABEL_82;
          v29 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(v23 + 56) + 168))(v19, v17);
          if ((v29 & 0x80000000) != 0)
            break;
          if (!*(_WORD *)&__c[1])
            goto LABEL_82;
          if (*(unsigned __int16 *)&__c[1] == v28 || *(_DWORD *)v132 != 8)
            goto LABEL_82;
          v29 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(v23 + 56) + 160))(v19, v17);
          if ((v29 & 0x80000000) != 0)
            return v29;
        }
      }
      return v29;
    }
LABEL_82:
    v36 = __s;
    if (*__s == 35)
    {
      v49 = __s + 1;
      do
      {
        __s = v49;
        v50 = *v49++;
      }
      while (v50 == 35);
      v36 = v49 - 1;
    }
  }
  v128 = 10;
  LOWORD(v51) = v130;
  while (1)
  {
    v52 = *(unsigned __int8 *)(v22 + (unsigned __int16)v51);
    v53 = v52 > 0x20 || ((1 << v52) & 0x100002600) == 0;
    if (v53 && v52 != 95)
      break;
    LOWORD(v51) = v51 + 1;
    v130 = v51;
  }
  if (v20 <= (unsigned __int16)v51)
  {
    v111 = 0;
    v54 = 0;
LABEL_197:
    v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(v23 + 56) + 120))(v19, v17, (unsigned __int16)v126, v15);
    if ((v47 & 0x80000000) == 0 && v111 && v120 >= 2u)
    {
      v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, v111, 7, 1, &v120, &v127);
LABEL_201:
      v47 = v62;
      if (!v54)
        return v47;
      goto LABEL_205;
    }
    goto LABEL_204;
  }
  v54 = 0;
  v111 = 0;
  v55 = 0;
  v56 = v20;
  v109 = v28;
  v110 = v15;
  while (2)
  {
    v57 = (unsigned __int16)v51;
    if (v20 <= (unsigned __int16)(v51 + 1))
      v58 = v51 + 1;
    else
      v58 = v20;
    while (1)
    {
      v59 = *(unsigned __int8 *)(v22 + v57);
      v60 = v59 > 0x20 || ((1 << v59) & 0x100002600) == 0;
      if (!v60 || v59 == 95)
        break;
      if (++v57 >= v56)
        goto LABEL_108;
    }
    v58 = v57;
LABEL_108:
    HIWORD(v126) = v58;
    v61 = *(_QWORD *)(v23 + 56);
    v112 = v55;
    if ((v55 & 1) != 0)
      v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(v61 + 80))(v19, v17, (unsigned __int16)v126, &v126);
    else
      v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(v61 + 88))(v19, v17, v28, &v126);
    if ((v62 & 0x80000000) != 0)
      goto LABEL_201;
    v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v126, 0, 1, &v128, &v127);
    if ((v62 & 0x80000000) != 0)
      goto LABEL_201;
    v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(v23 + 56)
                                                                                                  + 160))(v19, v17, (unsigned __int16)v126, 1, 1, &v130, &v127);
    if ((v62 & 0x80000000) != 0)
      goto LABEL_201;
    v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(v23 + 56)
                                                                                               + 160))(v19, v17, (unsigned __int16)v126, 2, 1, (char *)&v126 + 2, &v127);
    if ((v62 & 0x80000000) != 0)
      goto LABEL_201;
    v115 = v54;
    if (v118)
    {
      v63 = strlen(v118);
      v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(v23 + 56)
                                                                                                + 160))(v19, v17, (unsigned __int16)v126, 9, (unsigned __int16)(v63 + 1), v118, &v127);
      if ((v64 & 0x80000000) != 0)
        goto LABEL_203;
    }
    v65 = strlen(v131);
    v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(v23 + 56)
                                                                                              + 160))(v19, v17, (unsigned __int16)v126, 21, (unsigned __int16)(v65 + 1), v131, &v127);
    if ((v64 & 0x80000000) != 0)
      goto LABEL_203;
    if (v113)
    {
      v66 = strlen(v113);
      v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(v23 + 56)
                                                                                                + 160))(v19, v17, (unsigned __int16)v126, 12, (unsigned __int16)(v66 + 1), v113, &v127);
      if ((v64 & 0x80000000) != 0)
        goto LABEL_203;
    }
    ++v120;
    for (i = v36 + 1; ; ++i)
    {
      v68 = *v36;
      if (v68 > 0x22)
        break;
      if (!*v36 || v68 == 32)
        goto LABEL_132;
LABEL_127:
      ++v36;
    }
    if (v68 == 35)
      goto LABEL_132;
    if (v68 != 95)
      goto LABEL_127;
    if (v36[1] == 95)
      v69 = 2;
    else
      v69 = 1;
    v124 = v69;
LABEL_132:
    *v36 = 0;
    if (!*__s)
    {
      v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(v23 + 56)
                                                                                                 + 160))(v19, v17, (unsigned __int16)v126, 3, 1, &byte_1DEBD87CE, &v127);
      if ((v64 & 0x80000000) != 0)
        goto LABEL_203;
      goto LABEL_155;
    }
    v70 = (2 * strlen(__s)) | 1;
    v71 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)v23 + 8), (uint64_t)v54, v70);
    if (!v71)
    {
      v47 = 2310021130;
      log_OutPublic(*(_QWORD *)(*(_QWORD *)v23 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v72, v73, v74, v75, v107);
      if (!v54)
        return v47;
      goto LABEL_205;
    }
    if (!*(_DWORD *)(v23 + 580))
    {
      v54 = strcpy(v71, __s);
LABEL_146:
      if (strcmp(v54, "*,")
        && strcmp(v54, "*;")
        && strcmp(v54, "*:")
        && strcmp(v54, "'")
        && strcmp(v54, "\""))
      {
        v116 = v54;
        v93 = strlen(v54);
        v94 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(v23 + 56)
                                                                                                  + 160))(v19, v17, (unsigned __int16)v126, 3, (unsigned __int16)(v93 + 1), v54, &v127);
        if ((v94 & 0x80000000) != 0)
        {
          v47 = v94;
LABEL_206:
          v106 = 0;
LABEL_207:
          heap_Free(*(_QWORD **)(*(_QWORD *)v23 + 8), (uint64_t)v116);
          goto LABEL_208;
        }
        goto LABEL_155;
      }
      v95 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(v23 + 56)
                                                                                                 + 160))(v19, v17, (unsigned __int16)v126, 3, 1, &byte_1DEBD87CE, &v127);
      if ((v95 & 0x80000000) == 0)
      {
LABEL_155:
        v96 = __s1;
        v115 = v54;
        if (__s1)
        {
          if (*(_DWORD *)(v23 + 2192))
          {
            v64 = mosynt_LHPlusMapping(*(_QWORD *)(v23 + 48), *(uint64_t **)(v23 + 2200), *(_QWORD *)(v23 + 2240), __s1, v132, 0x1388u);
            v96 = v132;
            if ((v64 & 0x80000000) != 0)
              goto LABEL_203;
          }
          v97 = v96;
          v98 = strlen(v96);
          v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v126, 11, (unsigned __int16)(v98 + 1), v97, &v127);
          if ((v64 & 0x80000000) != 0)
            goto LABEL_203;
          v111 = v126;
        }
        v64 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(v23 + 56) + 160))(v19, v17);
        if ((v64 & 0x80000000) == 0)
        {
          v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v126, 6, 2, "*", &v127);
          if ((v64 & 0x80000000) == 0)
          {
            v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v126, 7, 1, &v125, &v127);
            if ((v62 & 0x80000000) != 0)
              goto LABEL_201;
            v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v126, 20, 1, &v124, &v127);
            if ((v62 & 0x80000000) != 0)
              goto LABEL_201;
            if (v118)
            {
              v99 = (unsigned __int16)(strlen(v118) + 1);
              v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v126, 9, v99, v118, &v127);
            }
            else
            {
              v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v126, 9, 1, &byte_1DEBD87CE, &v127);
            }
            if ((v64 & 0x80000000) == 0)
            {
              if (v68 == 35
                || v54
                && (v100 = strlen(v54), v100 >= 2)
                && v54[v100 - 2] == 42
                && (v101 = v54[v100 - 1], v101 <= 0x3B)
                && ((1 << v101) & 0xC00100000000000) != 0)
              {
                v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(v23 + 56) + 160))(v19, v17, (unsigned __int16)v126, 8, 1, &v122, &v127);
                if ((v62 & 0x80000000) != 0)
                  goto LABEL_201;
              }
              if (v68)
              {
                *v36 = v68;
                v28 = v109;
                v56 = v20;
                v102 = v112;
                while (1)
                {
                  v103 = *i;
                  if (v103 != 95 && v103 != 35)
                    break;
                  ++i;
                }
                __s = i;
                v36 = i;
              }
              else
              {
                v28 = v109;
                v56 = v20;
                v102 = v112;
              }
              v51 = HIWORD(v126);
              v15 = v110;
              if (HIWORD(v126) < v20)
              {
                while (1)
                {
                  v104 = *(unsigned __int8 *)(v22 + v51);
                  v105 = v104 > 0x20 || ((1 << v104) & 0x100002600) == 0;
                  if (v105 && v104 != 95)
                    break;
                  if (v20 == (unsigned __int16)++v51)
                  {
                    LOWORD(v51) = v20;
                    break;
                  }
                }
              }
              v130 = v51;
              if ((v102 & 1) == 0)
                LOWORD(v126) = v28;
              __s1 = 0;
              v55 = 1;
              if (v20 <= (unsigned __int16)v51)
                goto LABEL_197;
              continue;
            }
          }
        }
LABEL_203:
        v47 = v64;
        v54 = v115;
LABEL_204:
        if (!v54)
          return v47;
        goto LABEL_205;
      }
      v47 = v95;
LABEL_205:
      v116 = v54;
      goto LABEL_206;
    }
    break;
  }
  v116 = v71;
  *(_DWORD *)&__c[3] = 0;
  v76 = (2 * strlen(__s)) | 1;
  if (__dst[0])
  {
    v77 = __dst;
    v78 = __s;
    v79 = v116;
  }
  else
  {
    v78 = __s;
    v79 = v116;
    v77 = 0;
  }
  v47 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, char *, _QWORD, char *, char *))(*(_QWORD *)(v23 + 152)
                                                                                           + 72))(*(_QWORD *)(v23 + 136), *(_QWORD *)(v23 + 144), 1, v78, v76, v79, v77);
  if ((v47 & 0x80000000) != 0)
    goto LABEL_206;
  v80 = strlen(v116);
  v81 = (char *)heap_Alloc(*(_QWORD *)(*(_QWORD *)v23 + 8), (v80 + 1));
  if (!v81)
  {
    v106 = 0;
LABEL_215:
    v47 = 2310021130;
    log_OutPublic(*(_QWORD *)(*(_QWORD *)v23 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v82, v83, v84, v85, v107);
    goto LABEL_207;
  }
  v86 = v81;
  strcpy(v81, v116);
  v87 = strlen(v116);
  v88 = (unsigned __int16)Utf8_DepesLengthInBytesUtf8((unsigned __int8 *)v116, v87);
  v89 = heap_Realloc(*(uint64_t **)(*(_QWORD *)v23 + 8), (uint64_t)v116, v88 + 1);
  v90 = v86;
  if (!v89)
  {
    v106 = (uint64_t)v86;
    goto LABEL_215;
  }
  v54 = (char *)v89;
  v108 = (uint64_t)v90;
  v91 = strlen(v90);
  v92 = utf8_DepesToUtf8(v108, v91, 0, (uint64_t)v54, v88, (unsigned int *)&__c[3], 0);
  if ((v92 & 0x80000000) == 0)
  {
    v54[*(unsigned int *)&__c[3]] = 0;
    heap_Free(*(_QWORD **)(*(_QWORD *)v23 + 8), v108);
    goto LABEL_146;
  }
  v47 = v92;
  v106 = v108;
  heap_Free(*(_QWORD **)(*(_QWORD *)v23 + 8), (uint64_t)v54);
LABEL_208:
  if (v106)
    heap_Free(*(_QWORD **)(*(_QWORD *)v23 + 8), v106);
  return v47;
}

uint64_t oneword_G2PLookup(uint64_t a1, const char **a2, __int16 a3, _WORD *a4, char *a5, uint64_t a6, uint64_t a7, unsigned __int16 *a8, uint64_t a9, _WORD *a10, unsigned __int16 *a11, __int16 a12, int a13)
{
  unsigned int v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  const char *v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  char *v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  char *v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  char *v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  char *v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  char *v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  uint64_t v76;
  uint64_t v77;
  uint64_t v78;
  uint64_t v79;
  uint64_t v80;
  uint64_t v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v88;
  _OWORD *v89;
  size_t v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t v97;
  uint64_t v98;
  uint64_t v99;
  uint64_t v100;
  uint64_t v101;
  uint64_t MultiWordLen;
  uint64_t MdeSettings;
  uint64_t v104;
  uint64_t v105;
  int v106;
  int v107;
  int v108;
  int v109;
  int v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  __int16 v116;
  int v117;
  int v118;
  unsigned __int16 v119;
  unsigned int v120;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  const char *v124;
  int v125;
  unsigned int v126;
  int v127;
  uint64_t v128;
  int v129;
  int v130;
  const char *v131;
  int v132;
  int v133;
  unsigned __int16 v134;
  int v135;
  uint64_t v136;
  __int16 v137;
  unsigned __int16 v138;
  int v139;
  int v140;
  uint64_t v141;
  uint64_t v142;
  uint64_t v143;
  __int16 v144;
  unsigned __int16 v145;
  int v146;
  int v147;
  char *v148;
  uint64_t v149;
  _BOOL4 v150;
  uint64_t v151;
  uint64_t v152;
  uint64_t v153;
  uint64_t v154;
  int v155;
  __int16 v156;
  __int16 v157;
  int v158;
  int v159;
  char *v160;
  int v161;
  uint64_t v162;
  unsigned __int16 v163;
  unsigned __int16 v164;
  uint64_t v165;
  int v166;
  int v167;
  uint64_t v168;
  uint64_t v169;
  uint64_t v170;
  uint64_t v171;
  uint64_t v172;
  uint64_t v173;
  uint64_t v174;
  uint64_t v175;
  uint64_t v176;
  uint64_t v177;
  uint64_t v178;
  uint64_t v179;
  uint64_t v180;
  BOOL v181;
  int v182;
  char *v183;
  unint64_t v184;
  __int16 ChineseUTFCharNum;
  unsigned __int16 v186;
  int v187;
  BOOL v188;
  int v190;
  uint64_t v191;
  int v192;
  int v193;
  char *v194;
  uint64_t v195;
  uint64_t v196;
  uint64_t v197;
  uint64_t v198;
  uint64_t v199;
  unsigned int v201;
  unint64_t v202;
  uint64_t *v203;
  uint64_t *v204;
  uint64_t *v205;
  uint64_t *v206;
  uint64_t *v207;
  uint64_t *v208;
  uint64_t *v209;
  uint64_t *v210;
  uint64_t v211;
  uint64_t v212;
  int v213;
  int v214;
  int v215;
  uint64_t v216;
  int v217;
  unsigned __int16 v218;
  int v219;
  int v220;
  int v221;
  int v222;
  unsigned __int16 v223;
  char *__src;
  const char *v225;
  _OWORD *v226;
  const char *v227;
  char *v228;
  unsigned int v229;
  _BOOL4 v230;
  char *v232;
  char *__dst;
  char *__s2;
  __int16 v239;
  int v240;
  unsigned __int16 v241;
  int v242;
  const char *v243;
  int v244;
  signed __int16 v245;
  unsigned __int8 v246;
  uint64_t v247;
  int v248;
  __int16 v249;
  _OWORD v250[8];
  uint64_t v251;

  v251 = *MEMORY[0x1E0C80C00];
  v249 = a3;
  v229 = (unsigned __int16)*a4;
  v248 = 0;
  v247 = 3;
  v16 = (2 * strlen(*a2)) | 1;
  if (v16 <= 0x80)
    v17 = 128;
  else
    v17 = v16;
  v25 = (const char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, v17);
  v26 = *(_QWORD *)a1;
  if (!v25)
    oneword_G2PLookup_cold_1(v26, v18, v19, v20, v21, v22, v23, v24);
  v34 = (char *)heap_Calloc(*(_QWORD **)(v26 + 8), 1, (2 * v17));
  v35 = *(_QWORD *)a1;
  if (!v34)
    oneword_G2PLookup_cold_1(v35, v27, v28, v29, v30, v31, v32, v33);
  v43 = (char *)heap_Calloc(*(_QWORD **)(v35 + 8), 1, v17);
  v44 = *(_QWORD *)a1;
  if (!v43)
    oneword_G2PLookup_cold_1(v44, v36, v37, v38, v39, v40, v41, v42);
  v52 = (char *)heap_Calloc(*(_QWORD **)(v44 + 8), 1, v17);
  v53 = *(_QWORD *)a1;
  if (!v52)
    oneword_G2PLookup_cold_1(v53, v45, v46, v47, v48, v49, v50, v51);
  v61 = (char *)heap_Calloc(*(_QWORD **)(v53 + 8), 1, (2 * v17));
  v62 = *(_QWORD *)a1;
  if (!v61)
    oneword_G2PLookup_cold_1(v62, v54, v55, v56, v57, v58, v59, v60);
  v70 = (char *)heap_Calloc(*(_QWORD **)(v62 + 8), 1, v17);
  v71 = *(_QWORD *)a1;
  if (!v70)
    oneword_G2PLookup_cold_1(v71, v63, v64, v65, v66, v67, v68, v69);
  v79 = heap_Calloc(*(_QWORD **)(v71 + 8), 1, v17);
  v80 = *(_QWORD *)a1;
  __dst = (char *)v79;
  if (!v79)
    oneword_G2PLookup_cold_1(v80, v72, v73, v74, v75, v76, v77, v78);
  v81 = heap_Calloc(*(_QWORD **)(v80 + 8), 1, v17 >> 1);
  if (!v81)
    oneword_G2PLookup_cold_8(a1, v82, v83, v84, v85, v86, v87, v88);
  v89 = (_OWORD *)v81;
  v246 = 0;
  v245 = a3 - 1;
  v244 = 0;
  v243 = 0;
  v242 = 0;
  v230 = *(_DWORD *)(a1 + 2192) != 0;
  v90 = strlen(*a2);
  v91 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, v90 + 1);
  v96 = *(_QWORD *)a1;
  if (!v91)
  {
    v105 = 2310021130;
    log_OutPublic(*(_QWORD *)(v96 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v92, v93, v94, v95, v201);
    goto LABEL_319;
  }
  v232 = (char *)v91;
  v97 = heap_Calloc(*(_QWORD **)(v96 + 8), 1, 25016);
  if (!v97)
  {
    v105 = 2310021130;
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v98, v99, v100, v101, v201);
    goto LABEL_318;
  }
  v228 = (char *)v97;
  MultiWordLen = mosynt_ResetMosyntWS(*(_QWORD *)(a1 + 48), v97);
  if ((MultiWordLen & 0x80000000) != 0)
  {
LABEL_312:
    v105 = MultiWordLen;
    goto LABEL_317;
  }
  v226 = v89;
  *v25 = 0;
  *v34 = 0;
  *v43 = 0;
  *v52 = 0;
  *v61 = 0;
  *v70 = 0;
  *(_DWORD *)(a1 + 2172) = 0;
  if (strcmp(a5, (const char *)(a1 + 300)))
  {
    MdeSettings = oneword_GetMdeSettings(a1);
    if ((MdeSettings & 0x80000000) != 0)
      goto LABEL_316;
    __strcpy_chk();
  }
  __src = v43;
  v225 = v25;
  v227 = v34;
  v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56)
                                                                                              + 168))(a6, a7, *a8, 0, 1, (char *)&v247 + 4, (char *)&v248 + 2);
  if ((v104 & 0x80000000) != 0)
  {
LABEL_313:
    v105 = v104;
    v89 = v226;
    goto LABEL_314;
  }
  v105 = oneword_read_LD_W_INPUTSPACETAG(a1, a6, a7, SHIDWORD(v247), *a8, &v243);
  if ((v105 & 0x80000000) != 0)
  {
LABEL_314:
    v34 = (char *)v227;
LABEL_315:
    v43 = __src;
    v25 = v225;
    goto LABEL_317;
  }
  if ((HIDWORD(v247) - 5) <= 2)
  {
    while (1)
    {
      v105 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a6, a7, *a8, a8);
      if ((v105 & 0x80000000) != 0)
        break;
      v34 = (char *)v227;
      if (!*a8)
        goto LABEL_317;
      v105 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56)
                                                                                                  + 168))(a6, a7, *a8, 0, 1, (char *)&v247 + 4, (char *)&v248 + 2);
      if ((v105 & 0x80000000) != 0)
        goto LABEL_317;
      if ((HIDWORD(v247) - 5) > 2)
        goto LABEL_25;
    }
LABEL_329:
    v34 = (char *)v227;
    goto LABEL_317;
  }
LABEL_25:
  if (*(_DWORD *)(a1 + 2168) != 1)
    goto LABEL_29;
  v106 = *(_DWORD *)(a1 + 2072);
  if (v106 != 1)
  {
    if (v106 || *(_QWORD *)(a1 + 2136))
      goto LABEL_29;
LABEL_324:
    v108 = 0;
    v107 = 1;
    goto LABEL_30;
  }
  if (*(_QWORD *)(a1 + 2136))
    goto LABEL_324;
LABEL_29:
  v107 = 0;
  v108 = 1;
LABEL_30:
  LOWORD(v109) = *a8;
  if (!*a8)
    goto LABEL_317;
  v219 = v108;
  v220 = v107;
  if ((__int16)v244 >= (__int16)*a4)
  {
    LOWORD(v221) = 0;
    goto LABEL_321;
  }
  v213 = 0;
  v221 = 0;
  v211 = a1 + 1228;
  v212 = a1 + 2016;
  v210 = (uint64_t *)(a1 + 160);
  v208 = (uint64_t *)(a1 + 176);
  v209 = (uint64_t *)(a1 + 168);
  v206 = (uint64_t *)(a1 + 192);
  v207 = (uint64_t *)(a1 + 184);
  v204 = (uint64_t *)(a1 + 208);
  v205 = (uint64_t *)(a1 + 200);
  v203 = (uint64_t *)(a1 + 216);
  v218 = -1;
  v222 = 3;
  v214 = 1;
  while (1)
  {
    v241 = 0;
    MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 120))(a6, a7, (unsigned __int16)v109, &v248);
    if ((MultiWordLen & 0x80000000) != 0)
      goto LABEL_312;
    v241 = v248;
    if ((_WORD)v248)
    {
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a6, a7);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      v110 = v247;
      v111 = (unsigned __int16)v248;
    }
    else
    {
      v111 = 0;
      v110 = 3;
      LODWORD(v247) = 3;
    }
    MultiWordLen = oneword_read_LD_W_INPUTSPACETAG(a1, a6, a7, v110, v111, &v243);
    if ((MultiWordLen & 0x80000000) != 0)
      goto LABEL_312;
    if ((v247 - 5) <= 2)
    {
      while (1)
      {
        MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 120))(a6, a7, (unsigned __int16)v248, &v248);
        if ((MultiWordLen & 0x80000000) != 0)
          goto LABEL_312;
        if (!(_WORD)v248)
          break;
        v112 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a6, a7);
        if ((v112 & 0x80000000) != 0
          || (v112 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, (unsigned __int16)v248, 1, 1, (char *)&v242 + 2, (char *)&v248 + 2), (v112 & 0x80000000) != 0)|| (v112 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, (unsigned __int16)v248, 2, 1, &v242, (char *)&v248 + 2), (v112 & 0x80000000) != 0))
        {
          v105 = v112;
          goto LABEL_315;
        }
        v43 = __src;
        v25 = v225;
        if ((v247 - 5) >= 3)
          goto LABEL_48;
      }
      LODWORD(v247) = 3;
    }
LABEL_48:
    MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, *a8, 1, 1, &v249, (char *)&v248 + 2);
    if ((MultiWordLen & 0x80000000) != 0)
      goto LABEL_312;
    v116 = v249;
    v117 = v245;
    if (v249 < v245)
      goto LABEL_50;
    if (HIDWORD(v247) != 3 && v222 == 3)
      break;
LABEL_137:
    if (v116 < (__int16)v117 || v222 == 3 && (_DWORD)v247 == 3)
    {
      if (v116 < (__int16)v117 || v222 != 3 || (_DWORD)v247 != 3)
        goto LABEL_50;
      if (!HIDWORD(v247))
      {
        MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, *a8, 2, 1, &v244, (char *)&v248 + 2);
        if ((MultiWordLen & 0x80000000) != 0)
          goto LABEL_312;
        v144 = *(_WORD *)(a1 + 224);
        v145 = v144 + v249;
        v146 = (unsigned __int16)(v244 + v144) - (unsigned __int16)(v144 + v249);
        if (v146 >= 128)
          v147 = 128;
        else
          v147 = v146;
        strncpy(v43, &(*a2)[v145], v147);
        v43[v147] = 0;
        *(_DWORD *)(a1 + 2172) = 0;
        strcpy(v70, v43);
        v148 = a5;
        if (((*(uint64_t (**)(_QWORD, _QWORD, char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 136))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a5, v70, 128) & 0x80000000) != 0)goto LABEL_182;
        if (*(_DWORD *)(a1 + 2192))
        {
          LODWORD(v250[0]) = 0;
          v150 = strcmp(v25, v43) == 0;
          MultiWordLen = mde_MosyntMorphAna(a1, v228, (uint64_t)v70, v43, (uint64_t)a5, (unsigned __int16)v249, *a8, v151, a6, a7, (unsigned __int16 *)&v245, v150, v250);
          if ((MultiWordLen & 0x80000000) != 0)
            goto LABEL_312;
          if (LODWORD(v250[0]) == 1)
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD WGRAM %s", v152, v153, v154, (uint64_t)v43);
          v148 = a5;
          goto LABEL_182;
        }
        if (*(_DWORD *)(a1 + 2168) == 1
          && !strstr(a5, "latin")
          && (!v219 || strcmp(a5, "prompt") && strcmp(a5, "internal-nuance-system-norm")))
        {
          strcpy(__dst, v43);
          if (((*(uint64_t (**)(_QWORD, _QWORD, char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 104))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a5, __dst, 128) & 0x80000000) != 0)strcpy(__dst, __src);
          v104 = crf_mde_seg_label(*(_QWORD *)a1, (char *)*a2, v212, __dst, (unsigned __int16)v249, *(__int16 *)(a1 + 224), &v245, a8, *(_QWORD *)(a1 + 56), a6, a7, *(_QWORD *)(a1 + 80), *(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_DWORD *)(a1 + 1224), v211, *(_BYTE *)(a1 + 556), *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96),
                   *(_QWORD *)(a1 + 104),
                   *(_DWORD *)(a1 + 560),
                   a5,
                   v210,
                   v209,
                   v208,
                   v207,
                   v206,
                   v205,
                   v204,
                   v203,
                   *(char **)(a1 + 240),
                   *(char **)(a1 + 248),
                   *(char **)(a1 + 256),
                   *(_BYTE **)(a1 + 264),
                   *(char **)(a1 + 1208),
                   0);
          if ((v104 & 0x80000000) != 0)
            goto LABEL_313;
          v89 = v226;
          v34 = (char *)v227;
          v43 = __src;
          v25 = v225;
          v148 = a5;
          if (v249 < v245)
          {
            *(_DWORD *)(a1 + 2172) = 1;
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD CRF MDE SEG %s", v195, v196, v149, (uint64_t)__src);
          }
        }
        v156 = v249;
        v157 = v245;
        if (v249 >= v245 && *(_DWORD *)(a1 + 296))
        {
          v104 = oneword_DpsMde((_QWORD *)a1, v70, v43, (uint64_t)"g2p", v148, v249, *a8, v149, a6, a7, &v245);
          if ((v104 & 0x80000000) != 0)
            goto LABEL_313;
          v156 = v249;
          v157 = v245;
          if (v249 >= v245)
          {
            v89 = v226;
            v34 = (char *)v227;
            v43 = __src;
          }
          else
          {
            v43 = __src;
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD DEPES MDE %s", v168, v169, v170, (uint64_t)__src);
            v156 = v249;
            v157 = v245;
            v89 = v226;
            v34 = (char *)v227;
          }
          v25 = v225;
          v148 = a5;
        }
        v155 = *(_DWORD *)(a1 + 2168);
        if (!v155)
        {
          if (v156 >= v157)
          {
            v104 = mde_Main(a1, v70, v43, v148, v156, *a8, a6, a7, &v245);
            if ((v104 & 0x80000000) != 0)
              goto LABEL_313;
            v89 = v226;
            v34 = (char *)v227;
            v43 = __src;
            v25 = v225;
            v148 = a5;
            if (v249 < v245)
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD DCTBASEDMDE %s", v197, v198, v199, (uint64_t)__src);
          }
LABEL_182:
          v155 = *(_DWORD *)(a1 + 2168);
          v156 = v249;
          v157 = v245;
        }
        v188 = v156 < v157;
        v158 = v214;
        if (!v188)
          v158 = 1;
        v214 = v158;
        if (v155 != 1)
          goto LABEL_193;
        v159 = v220;
        if (v220)
        {
          v160 = strstr(v148, "latin");
          v159 = v220;
          if (v160)
            goto LABEL_191;
        }
        MultiWordLen = oneword_joinTokens(a1, a6, a7, v218, a8, v159);
        if ((MultiWordLen & 0x80000000) != 0)
          goto LABEL_312;
        v155 = *(_DWORD *)(a1 + 2168);
        v148 = a5;
        if (v155 == 1)
        {
          if (v220)
          {
LABEL_191:
            if (!strstr(v148, "latin"))
              goto LABEL_50;
          }
          v161 = 1;
        }
        else
        {
LABEL_193:
          if (v155)
            goto LABEL_50;
          v161 = 0;
        }
        v162 = oneword_ProcessNTokens(a1, (uint64_t)v228, a2, v148, a6, a7, v218, *a8, a9, a10, a11, a12, v214, v161, v161);
        if ((v162 & 0x80000000) != 0)
          goto LABEL_328;
        goto LABEL_50;
      }
      if (HIDWORD(v247) > 2)
        goto LABEL_50;
      LOWORD(v250[0]) = 0;
      LOWORD(__s2) = 0;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Front end oneword: Digit or punctuation not in G2P dictionary. Word='%s', tokenType=%d", v113, v114, v115, (uint64_t)v25);
      v245 = v249 + strlen(v25);
      HIDWORD(v247) = 4;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 88))(a6, a7, *a8);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 0, 1, (char *)&v247 + 4, v250);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 1, 1, &v249, v250);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, signed __int16 *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 2, 1, &v245, v250);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 3, 1, &byte_1DEBD87CE, v250);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 5, 2, "*", v250);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 6, 2, "*", v250);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      LOWORD(__s2) = 1;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 7, 1, &__s2, v250);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      v136 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 9, 1, &byte_1DEBD87CE, v250);
      if ((v136 & 0x80000000) == 0)
        goto LABEL_50;
      v105 = v136;
      v222 = 3;
    }
    else
    {
      if (HIDWORD(v247) >= 2 && (HIDWORD(v247) != 2 || *(_DWORD *)(a1 + 936) != 1))
        goto LABEL_259;
      MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, *a8, 2, 1, &v244, (char *)&v248 + 2);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      v137 = *(_WORD *)(a1 + 224);
      v138 = v137 + v249;
      v139 = (unsigned __int16)(v244 + v137) - (unsigned __int16)(v137 + v249);
      v140 = v139 >= 128 ? 128 : v139;
      strncpy(v43, &(*a2)[v138], v140);
      v43[v140] = 0;
      *(_DWORD *)(a1 + 2172) = 0;
      strcpy(v70, v43);
      if (((*(uint64_t (**)(_QWORD, _QWORD, char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 136))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a5, v70, 128) & 0x80000000) != 0)
      {
        strcpy(v70, v43);
      }
      else if (strcmp(v52, v70))
      {
        MultiWordLen = oneword_Lookup((_DWORD *)a1, v228, a2, (uint64_t)v70, v43, a5, v243, v249, *a8, a6, a7, (unsigned __int16 *)&v245, 1, a13, v230);
        if ((MultiWordLen & 0x80000000) != 0)
          goto LABEL_312;
        if (v245 > v249)
        {
          *(_QWORD *)&v250[0] = 0;
          LOWORD(__s2) = 0;
          v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char **))(*(_QWORD *)(a1 + 56) + 136))(a6, a7, *a8, &__s2);
          if ((v104 & 0x80000000) != 0)
            goto LABEL_313;
          v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _OWORD *, char *))(*(_QWORD *)(a1 + 56)
                                                                                                + 176))(a6, a7, (unsigned __int16)__s2, 3, v250, (char *)&v248 + 2);
          if ((v104 & 0x80000000) != 0)
            goto LABEL_313;
          oneword_ReplaceUnderscoreWithDot(*(const char **)&v250[0]);
          v43 = __src;
          v25 = v225;
        }
      }
      if (v249 < v245)
        goto LABEL_259;
      if (HIDWORD(v247) != 1)
      {
        if (!HIDWORD(v247))
        {
          if (*(_DWORD *)(a1 + 2192))
          {
            LODWORD(v250[0]) = 0;
            v163 = strlen(v25);
            v164 = strlen(v43);
            v166 = 0;
            if (v163 >= 2u)
            {
              LOWORD(__s2) = v25[v163 - 1];
              v223 = v164;
              v181 = (*(unsigned int (**)(_QWORD, _QWORD, char **))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), &__s2) == 0;
              v164 = v223;
              v166 = !v181;
            }
            if (v163 == v164)
            {
              v167 = 1;
            }
            else
            {
              if (v166)
                v181 = v164 == v163 - 1;
              else
                v181 = 0;
              v167 = v181;
            }
            MultiWordLen = mde_MosyntMorphAna(a1, v228, (uint64_t)v70, v43, (uint64_t)a5, (unsigned __int16)v249, *a8, v165, a6, a7, (unsigned __int16 *)&v245, v167, v250);
            if ((MultiWordLen & 0x80000000) != 0)
              goto LABEL_312;
          }
          else
          {
            if (*(_DWORD *)(a1 + 2168) == 1
              && !strstr(a5, "latin")
              && (!v219 || strcmp(a5, "prompt") && strcmp(a5, "internal-nuance-system-norm")))
            {
              strcpy(__dst, v43);
              if (((*(uint64_t (**)(_QWORD, _QWORD, char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 104))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a5, __dst, 128) & 0x80000000) != 0)strcpy(__dst, __src);
              v104 = crf_mde_seg_label(*(_QWORD *)a1, (char *)*a2, v212, __dst, (unsigned __int16)v249, *(__int16 *)(a1 + 224), &v245, a8, *(_QWORD *)(a1 + 56), a6, a7, *(_QWORD *)(a1 + 80), *(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_DWORD *)(a1 + 1224), v211, *(_BYTE *)(a1 + 556), *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96),
                       *(_QWORD *)(a1 + 104),
                       *(_DWORD *)(a1 + 560),
                       a5,
                       v210,
                       v209,
                       v208,
                       v207,
                       v206,
                       v205,
                       v204,
                       v203,
                       *(char **)(a1 + 240),
                       *(char **)(a1 + 248),
                       *(char **)(a1 + 256),
                       *(_BYTE **)(a1 + 264),
                       *(char **)(a1 + 1208),
                       1);
              if ((v104 & 0x80000000) != 0)
                goto LABEL_313;
              if (v249 < v245)
              {
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD CRF MDE SEG %s", v172, v173, v143, (uint64_t)__src);
                *(_DWORD *)(a1 + 2172) = 1;
              }
              v43 = __src;
              if (!*(_DWORD *)(a1 + 2068))
              {
                if (*(_DWORD *)(a1 + 2172))
                {
                  v174 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 120))(a6, a7, *a8);
                  if ((v174 & 0x80000000) != 0)
                  {
                    v105 = v174;
                    v89 = v226;
                    v34 = (char *)v227;
                    v25 = v225;
                    goto LABEL_317;
                  }
                }
              }
            }
            if (v249 >= v245 && *(_DWORD *)(a1 + 296))
            {
              v104 = oneword_DpsMde((_QWORD *)a1, v70, v43, (uint64_t)"g2p", a5, v249, *a8, v143, a6, a7, &v245);
              if ((v104 & 0x80000000) != 0)
                goto LABEL_313;
              v43 = __src;
              if (v249 < v245)
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD DEPES MAIN %s", v175, v176, v177, (uint64_t)__src);
            }
            v89 = v226;
            v34 = (char *)v227;
            v25 = v225;
            if (!*(_DWORD *)(a1 + 2168) && v249 >= v245)
            {
              v104 = mde_Main(a1, v70, v43, a5, v249, *a8, a6, a7, &v245);
              if ((v104 & 0x80000000) != 0)
                goto LABEL_313;
              v89 = v226;
              v34 = (char *)v227;
              v43 = __src;
              v25 = v225;
              if (v249 < v245)
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD DCTBASEDMDE MAIN %s", v178, v179, v180, (uint64_t)__src);
            }
          }
        }
LABEL_256:
        v182 = v214;
        if (v249 >= v245)
          v182 = 1;
        v214 = v182;
LABEL_259:
        if ((v218 & 0x8000) != 0)
          goto LABEL_50;
        if (HIDWORD(v247) == 3 || (_DWORD)v247 != 3)
          goto LABEL_285;
        MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, v218, 1, 1, (char *)&v244 + 2, (char *)&v248 + 2);
        if ((MultiWordLen & 0x80000000) != 0)
          goto LABEL_312;
        v183 = v232;
        *v232 = 0;
        if ((unsigned __int16)v244 > HIWORD(v244))
        {
          v183 = strncpy(v232, &(*a2)[*(unsigned __int16 *)(a1 + 224) + HIWORD(v244)], (unsigned __int16)v244 - (unint64_t)HIWORD(v244));
          v183[(unsigned __int16)v244 - HIWORD(v244)] = 0;
        }
        if (*(_DWORD *)(a1 + 936) && utf8_IsChineseLetter(v183))
        {
          v184 = *(unsigned __int16 *)(a1 + 224);
          ChineseUTFCharNum = utf8_GetChineseUTFCharNum((uint64_t)*a2, (unsigned __int16)(v244 + v184));
          v186 = ChineseUTFCharNum
               - utf8_GetChineseUTFCharNum((uint64_t)*a2, (unsigned __int16)(*(_WORD *)(a1 + 224) + HIWORD(v244)));
          while (1)
          {
            v187 = (*a2)[(unsigned __int16)v244 + v184];
            if (v187 == 32)
              break;
            v188 = v187 == 95 || v184 > 5;
            if (v188 || v187 == 0)
              break;
            ++v184;
          }
          MultiWordLen = oneword_SkipCrosstoken(a1, a6, a7, a5, v186, SHIWORD(v244), (unsigned __int16)v244 + (unsigned __int16)v184 - *(_WORD *)(a1 + 224), v218, *a8);
          v89 = v226;
          if ((MultiWordLen & 0x80000000) != 0)
            goto LABEL_312;
LABEL_285:
          if (*(_DWORD *)(a1 + 2168) == 1)
          {
LABEL_286:
            v192 = v219;
            if (HIDWORD(v247) != 3 && (_DWORD)v247 == 3 || v245 == *a4)
            {
              if ((v193 = v220) != 0 && (v194 = strstr(a5, "latin"), v192 = v219, v193 = v220, !v194)
                || v192 && *(_DWORD *)(a1 + 2172))
              {
                v162 = oneword_joinTokens(a1, a6, a7, v218, a8, v193);
                if ((v162 & 0x80000000) != 0)
                {
LABEL_328:
                  v105 = v162;
                  goto LABEL_329;
                }
                *(_DWORD *)(a1 + 2172) = 0;
              }
            }
          }
LABEL_50:
          v105 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, *a8, 2, 1, &v244, (char *)&v248 + 2);
          if ((v105 & 0x80000000) != 0)
            goto LABEL_329;
          v109 = (unsigned __int16)v248;
          *a8 = v248;
          v222 = HIDWORD(v247);
          HIDWORD(v247) = v247;
          if (!v109)
            goto LABEL_326;
          goto LABEL_52;
        }
        v190 = *(_DWORD *)(a1 + 2168);
        if (v190)
        {
          if (v190 != 1)
            goto LABEL_50;
          if (v220 && !strstr(a5, "latin"))
            goto LABEL_286;
        }
        v191 = oneword_ProcessNTokens(a1, (uint64_t)v228, a2, a5, a6, a7, v218, *a8, a9, a10, a11, a12, v214, *(_DWORD *)(a1 + 2172), v190);
        if ((v191 & 0x80000000) == 0)
        {
          MultiWordLen = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, *a8, 2, 1, &v244, (char *)&v248 + 2);
          v34 = (char *)v227;
          v43 = __src;
          v25 = v225;
          if ((MultiWordLen & 0x80000000) != 0)
            goto LABEL_312;
          goto LABEL_285;
        }
        v105 = v191;
        goto LABEL_314;
      }
      LOWORD(v250[0]) = 0;
      LOWORD(__s2) = 0;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Front end oneword: Digit or punctuation not in G2P dictionary. Word='%s', tokenType=%d", v141, v142, v143, (uint64_t)v25);
      v245 = v249 + strlen(v43);
      HIDWORD(v247) = 4;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 88))(a6, a7, *a8);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 0, 1, (char *)&v247 + 4, v250);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 1, 1, &v249, v250);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, signed __int16 *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 2, 1, &v245, v250);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 3, 1, &byte_1DEBD87CE, v250);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 5, 2, "*", v250);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 6, 2, "*", v250);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      LOWORD(__s2) = 1;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 7, 1, &__s2, v250);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      v104 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, _OWORD *))(*(_QWORD *)(a1 + 56) + 160))(a6, a7, *a8, 9, 1, &byte_1DEBD87CE, v250);
      if ((v104 & 0x80000000) != 0)
        goto LABEL_313;
      v171 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 120))(a6, a7, *a8);
      if ((v171 & 0x80000000) == 0)
        goto LABEL_256;
      v105 = v171;
    }
    if ((v105 & 0x80000000) != 0)
      goto LABEL_329;
    LOWORD(v109) = *a8;
    if (!*a8)
    {
LABEL_326:
      v34 = (char *)v227;
LABEL_321:
      if ((_WORD)v221)
        *a8 = v221;
      goto LABEL_317;
    }
LABEL_52:
    v34 = (char *)v227;
    if ((__int16)v244 >= (__int16)*a4)
      goto LABEL_321;
  }
  v218 = *a8;
  v215 = v249;
  if (!oneword_GetWord(*(_WORD *)(a1 + 224) + v249, (uint64_t)*a2, (uint64_t)v25))
  {
LABEL_130:
    v116 = v249;
    LOWORD(v117) = v245;
    if (v249 >= v245 && *(_DWORD *)(a1 + 292))
    {
      LOWORD(v250[0]) = 0;
      MultiWordLen = oneword_NonDctDpsMde((_QWORD *)a1, (unsigned __int16)v249, (uint64_t)v25, a5, *a8, (unsigned __int16 *)v250, a6, a7);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      if (LOWORD(v250[0]))
      {
        LODWORD(v247) = 0;
        LOWORD(v248) = v250[0];
      }
      v214 = 0;
      v116 = v249;
      LOWORD(v117) = v245;
    }
    else
    {
      v214 = 0;
    }
    goto LABEL_137;
  }
  if (!(_WORD)v248 || !strcmp(a5, "prompt") || !strcmp(a5, "internal-nuance-system-norm"))
  {
    v118 = v215;
    goto LABEL_113;
  }
  strcpy(v34, v25);
  MultiWordLen = oneword_GetMultiWordLen((_QWORD *)a1, (uint64_t)v34, (uint64_t)a5, v89, &v246);
  if ((MultiWordLen & 0x80000000) != 0)
    goto LABEL_312;
  v118 = v249;
  v117 = v245;
  v202 = v246;
  if (!v246 || v249 <= v245)
  {
LABEL_113:
    if (v118 >= v117)
    {
      MultiWordLen = oneword_Lookup((_DWORD *)a1, v228, a2, (uint64_t)v25, v25, a5, v243, v118, *a8, a6, a7, (unsigned __int16 *)&v245, 0, a13, v230);
      if ((MultiWordLen & 0x80000000) != 0)
        goto LABEL_312;
      v217 = v249;
      v117 = v245;
      if (oneword_isInputBetweenPOIMrk(a9, *a11, (unsigned __int16)v249, (unsigned __int16)v245))
      {
        LOWORD(__s2) = 0;
        v118 = v217;
        if (v217 < v117)
        {
          do
          {
            v131 = &(*a2)[(unsigned __int16)v118 + *(__int16 *)(a1 + 224)];
            v132 = v118;
            if (utf8_IsChineseLetter(v131))
            {
              v133 = utf8_determineUTF8CharLength(*(unsigned __int8 *)v131);
              v118 = v132 + v133;
              LOWORD(__s2) = v132 + v133;
              if ((unsigned __int16)v249 != (unsigned __int16)v132
                || (unsigned __int16)v245 > (unsigned __int16)v118)
              {
                memset(v250, 0, sizeof(v250));
                v134 = v132;
                v135 = v132 + v133;
                __strncpy_chk();
                MdeSettings = oneword_Lookup((_DWORD *)a1, v228, a2, (uint64_t)v250, (const char *)v250, a5, v243, v134, *a8, a6, a7, (unsigned __int16 *)&__s2, 0, a13, v230);
                v118 = v135;
                if ((MdeSettings & 0x80000000) != 0)
                  goto LABEL_316;
              }
            }
            else
            {
              v118 = v132 + 1;
            }
            v117 = v245;
          }
          while (v245 > (__int16)v118);
          LOWORD(v118) = v249;
          v89 = v226;
        }
      }
      else
      {
        LOWORD(v118) = v217;
      }
    }
    if (v117 <= (__int16)v118)
    {
      strcpy(v52, v25);
      if (((*(uint64_t (**)(_QWORD, _QWORD, char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 144))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a5, v52, 128) & 0x80000000) == 0)
      {
        if (strcmp(v25, v52))
        {
          MultiWordLen = oneword_Lookup((_DWORD *)a1, v228, a2, (uint64_t)v52, v25, a5, v243, v249, *a8, a6, a7, (unsigned __int16 *)&v245, 0, a13, v230);
          if ((MultiWordLen & 0x80000000) != 0)
            goto LABEL_312;
        }
      }
    }
    goto LABEL_130;
  }
  v216 = 0;
  while (1)
  {
    *(_QWORD *)&v250[0] = 0;
    v240 = 0;
    v119 = v213;
    if ((_WORD)v213)
    {
      v241 = v213;
    }
    else
    {
      v119 = v241;
      if (!v241)
      {
        v213 = 0;
        goto LABEL_88;
      }
    }
    if (*((_BYTE *)v89 + v216))
      break;
LABEL_88:
    v89 = v226;
    if (oneword_GetMultiWord((unsigned __int16)(*(_WORD *)(a1 + 224) + v249), (uint64_t)*a2, (uint64_t)v34, *((unsigned __int8 *)v226 + v216)))
    {
      strcpy(v61, v34);
      if (((*(uint64_t (**)(_QWORD, _QWORD, char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 144))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), a5, v61, 256) & 0x80000000) == 0)
      {
        MultiWordLen = oneword_Lookup((_DWORD *)a1, v228, a2, (uint64_t)v61, v34, a5, v243, v249, *a8, a6, a7, (unsigned __int16 *)&v245, 0, a13, v230);
        if ((MultiWordLen & 0x80000000) != 0)
          goto LABEL_312;
        v125 = v213;
        if (v245 > (__int16)*a4)
        {
          v126 = (unsigned __int16)v245;
LABEL_93:
          *a4 = v126;
          v188 = v126 > v229;
          v127 = v221;
          if (!v188)
            v127 = v125;
          v221 = v127;
          goto LABEL_108;
        }
        if (*(_DWORD *)(a1 + 2000))
        {
          if (*v61)
          {
            v128 = 0;
            v129 = 0;
            v130 = 0;
            do
            {
              if (v61[v128] == 95)
              {
                v61[v128] = 32;
                v129 = 1;
              }
              v128 = (unsigned __int16)++v130;
            }
            while (strlen(v61) > (unsigned __int16)v130);
            if (v129)
            {
              v104 = oneword_Lookup((_DWORD *)a1, v228, a2, (uint64_t)v61, v227, a5, v243, v249, *a8, a6, a7, (unsigned __int16 *)&v245, 0, a13, v230);
              if ((v104 & 0x80000000) != 0)
                goto LABEL_313;
              if (v245 > (__int16)*a4)
              {
                v126 = (unsigned __int16)v245;
                v89 = v226;
                v34 = (char *)v227;
                v43 = __src;
                v25 = v225;
                v125 = v213;
                goto LABEL_93;
              }
            }
            v89 = v226;
            v34 = (char *)v227;
            v43 = __src;
            v25 = v225;
          }
          else
          {
            v89 = v226;
          }
        }
      }
    }
LABEL_108:
    v118 = v249;
    v117 = v245;
    if (++v216 >= v202 || v249 <= v245)
      goto LABEL_113;
  }
  v120 = 0;
  while (1)
  {
    MdeSettings = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a6, a7, v119, 0, 1, &v240, (char *)&v248 + 2);
    if ((MdeSettings & 0x80000000) != 0)
      break;
    if (v240 == 3)
    {
      ++v120;
    }
    else if (v240 == 5)
    {
      v239 = 0;
      v122 = a6;
      v121 = a7;
      (*(void (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(*(_QWORD *)(a1 + 56) + 184))(a6, a7, v241, 9, &v239);
      if (v239)
      {
        __s2 = 0;
        (*(void (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a6, a7, v241, 9, &__s2, (char *)&v248 + 2);
        if (__s2 && strcmp("lid", __s2))
        {
          v43 = __src;
          v25 = v225;
          goto LABEL_88;
        }
        v122 = a6;
        v121 = a7;
      }
      v123 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _OWORD *, char *))(*(_QWORD *)(a1 + 56)
                                                                                            + 176))(v122, v121, v241, 4, v250, (char *)&v248 + 2);
      if ((v123 & 0x80000000) != 0)
      {
        v105 = v123;
        v89 = v226;
        goto LABEL_315;
      }
      v124 = *(const char **)&v250[0];
      v43 = __src;
      v25 = v225;
      if (!strcmp(*(const char **)&v250[0], "phon")
        || !strcmp(v124, "prompt")
        || !strcmp(v124, "internal-nuance-system-norm"))
      {
        *((_BYTE *)v226 + v216) = v120;
        goto LABEL_88;
      }
      v213 = v241;
    }
    MdeSettings = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a6, a7, v241, &v241);
    if ((MdeSettings & 0x80000000) != 0)
      break;
    v119 = v241;
    if (!v241 || v120 >= *((unsigned __int8 *)v226 + v216))
      goto LABEL_88;
  }
LABEL_316:
  v105 = MdeSettings;
  v89 = v226;
LABEL_317:
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v228);
LABEL_318:
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v232);
LABEL_319:
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v25);
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v34);
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v43);
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v52);
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v61);
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v70);
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)__dst);
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), (uint64_t)v89);
  return v105;
}

uint64_t oneword_GetMdeSettings(uint64_t a1)
{
  _BYTE *v2;
  uint64_t v3;
  const char *v4;
  char *v5;
  const char *v6;
  char *v7;
  const char *v8;
  char *v9;
  const char *v10;
  char *v11;
  const char *v12;
  char *v13;
  const char *v14;
  char *v15;
  const char *v16;
  char *v17;
  uint64_t v18;
  const char *v19;
  char *v20;
  _BYTE __c[11];
  _QWORD v23[34];

  v23[33] = *MEMORY[0x1E0C80C00];
  __c[0] = 0;
  v2 = (_BYTE *)(a1 + 282);
  *(_DWORD *)(a1 + 282) = 0x10000000;
  *(_BYTE *)(a1 + 286) = 0;
  *(_QWORD *)(a1 + 288) = 0;
  *(_DWORD *)(a1 + 296) = 1;
  *(_QWORD *)&__c[3] = 0;
  strcpy((char *)v23, "mdeminwrdlen_");
  __strcat_chk();
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v23, &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
    goto LABEL_3;
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "mdeminwrdlen", &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
  {
LABEL_3:
    v4 = **(const char ***)&__c[3];
    v5 = strchr(**(char ***)&__c[3], __c[0]);
    if (v5)
    {
      *v5 = 0;
      v4 = **(const char ***)&__c[3];
    }
    *v2 = atoi(v4);
  }
  strcpy((char *)v23, "mdemaxwrdlen_");
  __strcat_chk();
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v23, &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
    goto LABEL_8;
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "mdemaxwrdlen", &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
  {
LABEL_8:
    v6 = **(const char ***)&__c[3];
    v7 = strchr(**(char ***)&__c[3], __c[0]);
    if (v7)
    {
      *v7 = 0;
      v6 = **(const char ***)&__c[3];
    }
    *(_BYTE *)(a1 + 283) = atoi(v6);
  }
  strcpy((char *)v23, "mdemaxnrmorph_");
  __strcat_chk();
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v23, &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
    goto LABEL_13;
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "mdemaxnrmorph", &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
  {
LABEL_13:
    v8 = **(const char ***)&__c[3];
    v9 = strchr(**(char ***)&__c[3], __c[0]);
    if (v9)
    {
      *v9 = 0;
      v8 = **(const char ***)&__c[3];
    }
    *(_BYTE *)(a1 + 285) = atoi(v8);
  }
  strcpy((char *)v23, "mdefirstletter_");
  __strcat_chk();
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v23, &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
    goto LABEL_18;
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "mdefirstletter", &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
  {
LABEL_18:
    v10 = **(const char ***)&__c[3];
    v11 = strchr(**(char ***)&__c[3], __c[0]);
    if (v11)
    {
      *v11 = 0;
      v10 = **(const char ***)&__c[3];
    }
    *(_BYTE *)(a1 + 284) = strcmp(v10, "upper") == 0;
  }
  strcpy((char *)v23, "mdetype_");
  __strcat_chk();
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v23, &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
    goto LABEL_23;
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "mdetype", &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
  {
LABEL_23:
    v12 = **(const char ***)&__c[3];
    v13 = strchr(**(char ***)&__c[3], __c[0]);
    if (v13)
    {
      *v13 = 0;
      v12 = **(const char ***)&__c[3];
    }
    if (!strcmp(v12, "stemafx"))
      *(_BYTE *)(a1 + 286) = 1;
  }
  strcpy((char *)v23, "mdeemptyafx_");
  __strcat_chk();
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v23, &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
    goto LABEL_43;
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "mdeemptyafx", &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
  {
LABEL_43:
    v14 = **(const char ***)&__c[3];
    v15 = strchr(**(char ***)&__c[3], __c[0]);
    if (v15)
    {
      *v15 = 0;
      v14 = **(const char ***)&__c[3];
    }
    *(_DWORD *)(a1 + 288) = strcmp(v14, "yes") == 0;
  }
  strcpy((char *)v23, "mdenondctdps_");
  __strcat_chk();
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v23, &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
  {
LABEL_48:
    v16 = **(const char ***)&__c[3];
    v17 = strchr(**(char ***)&__c[3], __c[0]);
    if (v17)
    {
      *v17 = 0;
      v16 = **(const char ***)&__c[3];
    }
    *(_DWORD *)(a1 + 292) = strcmp(v16, "yes") == 0;
    goto LABEL_51;
  }
  *(_WORD *)&__c[1] = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "mdenondctdps", &__c[3], &__c[1], __c);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (*(_WORD *)&__c[1])
    goto LABEL_48;
LABEL_51:
  v23[0] = 0x5F73706465646DLL;
  __strcat_chk();
  *(_WORD *)&__c[1] = -1;
  v18 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", v23, &__c[3], &__c[1], __c);
  if ((v18 & 0x80000000) == 0)
  {
    if (*(_WORD *)&__c[1]
      || (*(_WORD *)&__c[1] = -1,
          v18 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(*(_QWORD *)(a1 + 80) + 96))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "fecfg", "mdedps", &__c[3], &__c[1], __c), (v18 & 0x80000000) == 0)&& *(_WORD *)&__c[1])
    {
      v19 = **(const char ***)&__c[3];
      v20 = strchr(**(char ***)&__c[3], __c[0]);
      if (v20)
      {
        *v20 = 0;
        v19 = **(const char ***)&__c[3];
      }
      *(_DWORD *)(a1 + 296) = strcmp(v19, "yes") == 0;
    }
  }
  return v18;
}

uint64_t oneword_read_LD_W_INPUTSPACETAG(uint64_t a1, uint64_t a2, uint64_t a3, int a4, uint64_t a5, _QWORD *a6)
{
  uint64_t v6;
  uint64_t v7;
  int v13;
  uint64_t result;
  __int16 v15;
  uint64_t v16;
  uint64_t v17;

  if (a4 != 6)
    return 0;
  v16 = v6;
  v17 = v7;
  v15 = 0;
  *a6 = 0;
  v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, a5, 19, &v15);
  result = 0;
  if ((v13 & 0x80000000) == 0 && v15 == 1)
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD *, __int16 *))(*(_QWORD *)(a1 + 56)
                                                                                              + 176))(a2, a3, a5, 19, a6, &v15);
  return result;
}

uint64_t oneword_GetWord(unsigned __int16 a1, uint64_t a2, uint64_t a3)
{
  uint64_t v3;
  unsigned int v4;
  BOOL v5;
  uint64_t result;

  v3 = 0;
  while (1)
  {
    v4 = *(unsigned __int8 *)(a2 + a1);
    v5 = v4 > 0x20 || ((1 << v4) & 0x100002601) == 0;
    if (!v5 || v4 == 95)
      break;
    ++a1;
    *(_BYTE *)(a3 + v3++) = v4;
    if (v3 == 127)
    {
      result = 0;
      goto LABEL_11;
    }
  }
  result = 1;
LABEL_11:
  *(_BYTE *)(a3 + (unsigned __int16)v3) = 0;
  return result;
}

uint64_t oneword_GetMultiWordLen(_QWORD *a1, uint64_t a2, uint64_t a3, _OWORD *a4, _BYTE *a5)
{
  uint64_t v7;
  unint64_t i;
  unsigned int v9;
  uint64_t v10;
  unint64_t v11;
  unsigned __int16 v13;
  uint64_t v14;

  v14 = 0;
  v13 = 0;
  *a4 = 0u;
  a4[1] = 0u;
  a4[2] = 0u;
  a4[3] = 0u;
  v7 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, uint64_t, const char *, uint64_t, uint64_t *, unsigned __int16 *))(a1[10] + 120))(a1[8], a1[9], a2, 255, "femwg2p", a3, &v14, &v13);
  if ((v7 & 0x80000000) == 0)
  {
    *a5 = 0;
    if (v13)
    {
      for (i = 0; i < v13; ++i)
      {
        v9 = LH_atou(*(const char **)(v14 + 8 * i));
        if (v9 <= 0x3F)
        {
          v10 = *a5;
          *a5 = v10 + 1;
          *((_BYTE *)a4 + v10) = v9;
        }
      }
      v11 = *a5;
    }
    else
    {
      v11 = 0;
    }
    ssft_qsort((uint64_t)a4, v11, 1, (uint64_t (*)(unint64_t, unint64_t))compare_0);
  }
  return v7;
}

BOOL oneword_GetMultiWord(unsigned int a1, uint64_t a2, uint64_t a3, unsigned int a4)
{
  uint64_t v4;
  int v5;
  unsigned __int16 v6;
  unsigned int v7;
  uint64_t v8;
  BOOL v9;
  unsigned int v10;
  int v11;
  BOOL v12;
  uint64_t v13;
  unsigned int v16;

  if (!a4)
    return 0;
  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = *(unsigned __int8 *)(a2 + a1);
  while (v7)
  {
    *(_BYTE *)(a3 + v4) = v7;
    if (v4 == 255)
      return 0;
    LOWORD(a1) = a1 + 1;
    v8 = (unsigned __int16)a1;
    v7 = *(unsigned __int8 *)(a2 + (unsigned __int16)a1);
    v9 = v7 > 0x20 || ((1 << v7) & 0x100002600) == 0;
    if (!v9 || v7 == 95)
    {
      v10 = *(unsigned __int8 *)((unsigned __int16)a1 + a2 - 1);
      v11 = v10 == 95 ? v5 : v5 + 1;
      v12 = v10 > 0x20;
      v13 = (1 << v10) & 0x100002600;
      if (v12 || v13 == 0)
        v5 = v11;
    }
    ++v4;
    ++v6;
    if (a4 <= v5)
      goto LABEL_24;
  }
  v8 = (unsigned __int16)a1;
  v6 = v4;
LABEL_24:
  *(_BYTE *)(a3 + v6) = 0;
  if (!*(_BYTE *)(a2 + v8))
  {
    v16 = *(unsigned __int8 *)(v8 + a2 - 1);
    if ((v16 > 0x20 || ((1 << v16) & 0x100002600) == 0) && v16 != 95)
      LOBYTE(v5) = v5 + 1;
  }
  return a4 == v5;
}

uint64_t oneword_Lookup(_DWORD *a1, char *a2, _QWORD *a3, uint64_t a4, const char *a5, char *a6, const char *a7, unsigned __int16 a8, unsigned __int16 a9, uint64_t a10, uint64_t a11, unsigned __int16 *a12, int a13, int a14, int a15)
{
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  const char *v27;
  uint64_t v28;
  _BYTE *v29;
  int v30;
  char *v31;
  char *v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  char *v36;
  char *v37;
  char *v38;
  char *v39;
  char *v40;
  char *v41;
  char *v42;
  const char *v43;
  char *v44;
  char *v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  char *v49;
  char *v50;
  size_t v51;
  uint64_t v52;
  const char *v53;
  uint64_t v54;
  uint64_t v55;
  char *v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  char *v60;
  char *v61;
  size_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  int v66;
  int v67;
  char *v68;
  char *v69;
  size_t v70;
  char *v71;
  size_t v72;
  char *v73;
  uint64_t v74;
  uint64_t v75;
  uint64_t v76;
  uint64_t v77;
  __int16 v78;
  char *v79;
  char *v80;
  uint64_t v81;
  char *v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v88;
  unsigned int v89;
  uint64_t v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  char *v96;
  int v97;
  unsigned int v98;
  char v99;
  uint64_t v100;
  const char *v101;
  unsigned int PreviousUtf8Offset;
  uint64_t v103;
  uint64_t v104;
  uint64_t v105;
  unsigned int v106;
  uint64_t v107;
  uint64_t v108;
  uint64_t v109;
  uint64_t v110;
  uint64_t v111;
  uint64_t v112;
  const char *v113;
  char *v114;
  __int16 v115;
  char *v116;
  uint64_t v117;
  uint64_t v118;
  uint64_t v119;
  uint64_t v120;
  uint64_t v121;
  const char *v122;
  uint64_t v123;
  uint64_t v124;
  uint64_t v125;
  uint64_t v126;
  const char *v127;
  __int16 v128;
  __int16 v129;
  int v130;
  int v131;
  __int16 v132;
  uint64_t v133;
  uint64_t v134;
  uint64_t v135;
  char *v136;
  char *v137;
  size_t v138;
  uint64_t v139;
  uint64_t v140;
  uint64_t v141;
  uint64_t v143;
  uint64_t v144;
  int v145;
  int v146;
  _BYTE *v147;
  unsigned int v148;
  char *v149;
  _QWORD *v150;
  const char *v151;
  const char *v152;
  const char *v153;
  char *__s2;
  int v155;
  char *v156;
  char *v157;
  int v158;
  uint64_t v159;
  char *v160;
  char *v161;
  char *__s;
  char *__sa;
  unsigned __int16 *v164;
  uint64_t v165;
  char *__dst;
  int v167;
  char *v168;
  char __s1[8];
  int v170;
  __int16 v171;
  const char *v172;
  __int16 v173;
  int v174;
  unsigned __int8 v175;
  unsigned __int16 v176;
  uint64_t v177;
  unsigned __int16 v178;
  _WORD v179[5];

  v178 = a8;
  v177 = 0;
  v176 = 0;
  v175 = 0;
  v174 = 4;
  v173 = 0;
  v172 = 0;
  v171 = 1;
  v170 = 0;
  if ((paramc_ParamGetStr(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)"sysdctlookup", &v172) & 0x80000000) == 0
    && !strcmp(v172, "no"))
  {
    return 0;
  }
  v167 = a13;
  if (a13)
  {
    if (a1[69])
      return 0;
  }
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P look up %s", v22, v23, v24, a4);
  if (a1[306])
  {
    strcpy(__s1, "g2p");
    __strcat_chk();
    v26 = (*(uint64_t (**)(_QWORD, _QWORD, char *, uint64_t, uint64_t *, unsigned __int16 *, unsigned __int8 *, int *))(*((_QWORD *)a1 + 10) + 232))(*((_QWORD *)a1 + 8), *((_QWORD *)a1 + 9), __s1, a4, &v177, &v176, &v175, &v170);
  }
  else
  {
    v26 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, uint64_t, uint64_t *, unsigned __int16 *, unsigned __int8 *, _QWORD, int *))(*((_QWORD *)a1 + 10) + 240))(*((_QWORD *)a1 + 8), *((_QWORD *)a1 + 9), "g2p", a4, &v177, &v176, &v175, *((unsigned __int8 *)a1 + 556), &v170);
  }
  v25 = v26;
  if ((v26 & 0x80000000) == 0)
  {
    v27 = "ADDONDCT";
    if (!v170)
      v27 = "OTHER";
    v151 = v27;
    if (v176)
    {
      v152 = a5;
      v153 = a7;
      v150 = a3;
      v28 = 0;
      v155 = 0;
      __dst = a2 + 10000;
      v165 = a10;
      v29 = a2 + 14999;
      v164 = a12;
      __s2 = (char *)(a1 + 68);
      v149 = a2 + 5000;
      v158 = a15;
      v145 = a14;
      if (v170)
        v30 = 9;
      else
        v30 = 6;
      v148 = v30;
      v157 = a6;
      v159 = a11;
      v147 = a2 + 14999;
      while (1)
      {
        if (v167 && a1[235] && (__int16)v178 < (__int16)*v164)
          goto LABEL_169;
        v31 = strncpy(__dst, *(const char **)(v177 + 8 * v28), 0x1387uLL);
        *v29 = 0;
        v32 = strchr(v31, v175);
        if (!v32)
          break;
        *v32 = 0;
        v160 = v32 + 1;
        v36 = strchr(v32 + 1, v175);
        v37 = v36;
        if (!v36)
          goto LABEL_30;
        *v36 = 0;
        v37 = v36 + 1;
        v38 = strchr(v36 + 1, v175);
        if (!v38)
          goto LABEL_30;
        *v38 = 0;
        __s = v38 + 1;
        v39 = strchr(v38 + 1, v175);
        if (!v39)
          goto LABEL_31;
        *v39 = 0;
        v161 = v39 + 1;
        v40 = strchr(v39 + 1, v175);
        v41 = v40;
        if (!v40)
          goto LABEL_32;
        *v40 = 0;
        v41 = v40 + 1;
        v42 = strchr(v40 + 1, v175);
        v43 = v42;
        if (!v42)
          goto LABEL_33;
        *v42 = 0;
        v43 = v42 + 1;
        v44 = strchr(v42 + 1, v175);
        if (!v44)
          goto LABEL_33;
        *v44 = 0;
        v168 = v44 + 1;
        v45 = strchr(v44 + 1, v175);
        if (v45)
          *v45 = 0;
LABEL_34:
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P Validating %s", v33, v34, v35, (uint64_t)__dst);
        if (!strcmp(a6, "name"))
        {
          if (v37 && *v37)
          {
            if ((v49 = strstr(v37, a6)) == 0
              || (v50 = v49, v51 = strlen(a6), v50 != v37) && *(v50 - 1) != 44
              || v50[v51] && v50[v51] != 44)
            {
LABEL_65:
              v52 = *(_QWORD *)(*(_QWORD *)a1 + 32);
              v53 = "G2P Domain validation not OK";
              goto LABEL_86;
            }
          }
        }
        else if (v37 && *v37 && !strstr(v37, a6))
        {
          goto LABEL_65;
        }
        if (v158 && v43 && strcmp(v43, "0"))
        {
          v52 = *(_QWORD *)(*(_QWORD *)a1 + 32);
          v53 = "MDE validation not OK";
LABEL_86:
          log_OutText(v52, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)v53, v46, v47, v48, v143);
          goto LABEL_164;
        }
        if (v168 && a1[301])
        {
          v54 = v159;
          v55 = v165;
          if (strchr(v168, 33))
          {
            v168[3] = 0;
            if (!v167)
              goto LABEL_93;
          }
          else
          {
            v60 = strstr(a6, v168);
            v61 = v60;
            if (v145)
            {
              if (!v167)
              {
                if (!v60 || (v62 = strlen(v168)) != 0 && v61[v62])
                {
                  if (LH_stricmp(v168, *((char **)a1 + 151)))
                  {
                    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"G2P Language %s validation not OK", v63, v64, v65, (uint64_t)v168);
                    goto LABEL_164;
                  }
                }
                goto LABEL_93;
              }
            }
            else if (!v167)
            {
              if (!v60 || (v72 = strlen(v168)) != 0 && v61[v72])
              {
                v73 = strstr(*((char **)a1 + 152), a6);
                if (LH_stricmp(v168, *((char **)a1 + 151)) || !v73 || v73[strlen(a6)] != 124)
                {
                  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"User lang lookup: G2P Language %s validation not OK", v74, v75, v76, (uint64_t)v168);
                  goto LABEL_164;
                }
              }
LABEL_93:
              v156 = v41;
              v56 = __dst;
              goto LABEL_94;
            }
          }
          v68 = strstr(a6, v168);
          if (!v68 || (v69 = v68, (v70 = strlen(v168)) != 0) && v69[v70])
          {
            v71 = strstr(*((char **)a1 + 152), a6);
            if (LH_stricmp(v168, *((char **)a1 + 151)) || !v71 || v71[strlen(a6)] != 124)
            {
              v52 = *(_QWORD *)(*(_QWORD *)a1 + 32);
              v143 = (uint64_t)v168;
              v53 = "Token lookup: G2P Language %s validation not OK";
              goto LABEL_86;
            }
          }
        }
        else
        {
          v54 = v159;
          v55 = v165;
          if (!v167)
            goto LABEL_93;
        }
        if (!a1[235])
          goto LABEL_93;
        v56 = __dst;
        if (v168 && *v168)
          strlen(v168);
        __strcpy_chk();
        if (*__s2 && strncmp(__s1, __s2, 2uLL) || strstr(v157, "latin") && !strcmp(__s1, *((const char **)a1 + 151)))
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Token lookup: G2P Language %s validation not OK", v57, v58, v59, (uint64_t)v168);
          if (*((_BYTE *)a1 + 272))
          {
            v66 = strncmp(__s1, __s2, 2uLL);
            v67 = v155;
            if (v66)
              v67 = 1;
            v155 = v67;
          }
          a6 = v157;
          goto LABEL_164;
        }
        v156 = v41;
        __strcpy_chk();
        v155 = 0;
LABEL_94:
        *v164 = v178 + strlen(v152);
        v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*((_QWORD *)a1 + 7) + 88))(v55, v54, a9, &a9);
        if ((v77 & 0x80000000) != 0)
          return v77;
        v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v55, v54, a9, 0, 1, &v174, &v173);
        if ((v77 & 0x80000000) != 0)
          return v77;
        v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v55, v54, a9, 1, 1, &v178, &v173);
        if ((v77 & 0x80000000) != 0)
          return v77;
        v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v55, v54, a9, 2, 1, v164, &v173);
        if ((v77 & 0x80000000) != 0)
          return v77;
        if (v153)
        {
          v78 = strlen(v153);
          v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v55, v54, a9, 19, (unsigned __int16)(v78 + 1), v153, &v173);
          v56 = __dst;
          if ((v77 & 0x80000000) != 0)
            return v77;
        }
        v79 = strchr(v56, 18);
        v80 = v79;
        if (!v79)
          v80 = &v56[strlen(v56)];
        v81 = *((__int16 *)a1 + 112);
        v82 = (char *)(*v150 + v178 + v81);
        v83 = *v150 + *v164 + v81;
        v146 = a1[569];
        v84 = *(_QWORD *)(*(_QWORD *)a1 + 32);
        v179[0] = 0;
        v85 = oneword_CountPhoneticWords(v56, v80);
        log_OutText(v84, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Number of orthographic words: %d", v86, v87, v88, 0);
        v89 = oneword_CountOrthographicWords(v82, v83, 0x23u, 0x23u);
        log_OutText(v84, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Number of phonetic words:     %d", v90, v91, v92, v85);
        if (!(_DWORD)v85)
        {
          v100 = v84;
          v101 = "No phonetic words found: returning";
LABEL_108:
          log_OutText(v100, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)v101, v93, v94, v95, v144);
          goto LABEL_118;
        }
        if (!v89)
        {
          v100 = v84;
          v101 = "No orthographic words found: returning";
          goto LABEL_108;
        }
        if ((_DWORD)v85 == 1)
        {
          v179[0] = v89 - 1;
          oneword_ReplaceCharactersInOrthography(v82, v83, 0x21u, 45, v179);
          v96 = v82;
          v97 = v83;
          v98 = 5;
          v99 = 45;
LABEL_117:
          oneword_ReplaceCharactersInOrthography(v96, v97, v98, v99, v179);
          goto LABEL_118;
        }
        if (utf8_BelongsToSet(0x24u, v82, 0, (int)v83 - (int)v82))
        {
          PreviousUtf8Offset = utf8_GetPreviousUtf8Offset((uint64_t)v82, (int)v83 - (int)v82);
          if (PreviousUtf8Offset)
          {
            if (utf8_BelongsToSet(0x24u, v82, PreviousUtf8Offset, (int)v83 - (int)v82))
            {
              log_OutText(v84, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Orthography starts and ends with underscore or hyphen: no replacement made", v103, v104, v105, v144);
              v56 = __dst;
              goto LABEL_118;
            }
          }
        }
        if (v146)
        {
          *(_WORD *)__s1 = v83 - (_WORD)v82;
          oneword_ReplaceCharactersInOrthography(v82, v83, 5u, 95, __s1);
        }
        v56 = __dst;
        if (v89 < v85)
        {
          v179[0] = v85 - v89;
          v96 = v82;
          v97 = v83;
          v98 = 34;
          v99 = 95;
          goto LABEL_117;
        }
LABEL_118:
        v106 = oneword_CountOrthographicWords(v82, v83, 0x23u, 0x23u);
        log_OutText(v84, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Number of orthographic words after adjustment: %d", v107, v108, v109, v106);
        log_OutText(v84, (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Number of phonetic words after adjustment:     %d", v110, v111, v112, v85);
        a6 = v157;
        if (v79)
        {
          *v79 = 0;
          v113 = v79 + 1;
          if (a1[548])
          {
            v114 = (char *)v113;
            v113 = v149;
            v77 = mosynt_LHPlusMapping(*((_QWORD *)a1 + 6), *((uint64_t **)a1 + 275), *((_QWORD *)a1 + 280), v114, v149, 0x1388u);
            if ((v77 & 0x80000000) != 0)
              return v77;
          }
          v115 = strlen(v113);
          v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v165, v159, a9, 11, (unsigned __int16)(v115 + 1), v113, &v173);
          v56 = __dst;
          if ((v77 & 0x80000000) != 0)
            return v77;
        }
        if (a1[548])
        {
          v116 = v56;
          v56 = v149;
          v77 = mosynt_LHPlusMapping(*((_QWORD *)a1 + 6), *((uint64_t **)a1 + 275), *((_QWORD *)a1 + 280), v116, v149, 0x1388u);
          if ((v77 & 0x80000000) != 0)
            return v77;
        }
        v117 = (unsigned __int16)(strlen(v56) + 1);
        v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v165, v159, a9, 3, v117, v56, &v173);
        if ((v77 & 0x80000000) != 0)
          return v77;
        if (__s)
        {
          if (*__s)
          {
            v118 = (unsigned __int16)(strlen(__s) + 1);
            v119 = v165;
            v120 = v159;
            v121 = a9;
            v122 = __s;
          }
          else
          {
            v119 = v165;
            v120 = v159;
            v121 = a9;
            v118 = 2;
            v122 = "*";
          }
          v77 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v119, v120, v121, 5, v118, v122, &v173);
          if ((v77 & 0x80000000) != 0)
            return v77;
        }
        if (v161)
        {
          if (*v161)
          {
            v123 = (unsigned __int16)(strlen(v161) + 1);
            v124 = v165;
            v125 = v159;
            v126 = a9;
            v127 = v161;
          }
          else
          {
            v124 = v165;
            v125 = v159;
            v126 = a9;
            v123 = 2;
            v127 = "*";
          }
          v77 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v124, v125, v126, 6, v123, v127, &v173);
          if ((v77 & 0x80000000) != 0)
            return v77;
        }
        if (v160)
        {
          v128 = strlen(v160);
          v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v165, v159, a9, 4, (unsigned __int16)(v128 + 1), v160, &v173);
          if ((v77 & 0x80000000) != 0)
            return v77;
        }
        if (v156)
          v129 = atoi(v156);
        else
          v129 = 1;
        v130 = (int)v168;
        v171 = v129;
        if (v168)
        {
          __sa = strstr(v157, v168);
          v131 = *v168;
          v132 = strlen(v168);
          v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v165, v159, a9, 9, (unsigned __int16)(v132 + 1), v168, &v173);
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Language tag is %s", v133, v134, v135, (uint64_t)v168);
          v136 = (char *)*((_QWORD *)a1 + 152);
          if (v136)
            v137 = strstr(v136, v157);
          else
            v137 = 0;
          v130 = v131;
          if (!a1[301])
          {
            a6 = v157;
            if ((v25 & 0x80000000) != 0)
              return v25;
            goto LABEL_156;
          }
          a6 = v157;
          if (__sa && ((v138 = strlen(v168)) == 0 || !__sa[v138])
            || !LH_stricmp(v168, *((char **)a1 + 151)) && v137 && v137[strlen(v157)] == 124)
          {
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Increasing priority to %d", v139, v140, v141, (unsigned __int16)++v171);
          }
        }
        else
        {
          v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v165, v159, a9, 9, 1, &byte_1DEBD87CE, &v173);
        }
        if ((v25 & 0x80000000) != 0)
          return v25;
LABEL_156:
        v77 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v165, v159, a9, 7, 1, &v171, &v173);
        if ((v77 & 0x80000000) != 0)
          return v77;
        v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(*((_QWORD *)a1 + 7) + 160))(v165, v159, a9, 21, v148, v151, &v173);
        if ((v25 & 0x80000000) != 0)
          return v25;
        if (v176 == 1 && v130)
          a1[233] = v130 == 101;
        v29 = v147;
LABEL_164:
        if (++v28 >= (unint64_t)v176)
          goto LABEL_169;
      }
      v160 = 0;
      v37 = 0;
LABEL_30:
      __s = 0;
LABEL_31:
      v161 = 0;
      v41 = 0;
LABEL_32:
      v43 = 0;
LABEL_33:
      v168 = 0;
      goto LABEL_34;
    }
    v155 = 0;
LABEL_169:
    a1[69] = v155;
  }
  return v25;
}

uint64_t oneword_isInputBetweenPOIMrk(uint64_t a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v6;
  _BOOL4 v7;
  uint64_t v8;
  unsigned __int16 *i;
  int v10;

  if (!a2)
    return 0;
  v6 = 0;
  v7 = 0;
  v8 = a2;
  for (i = (unsigned __int16 *)(a1 + 12); ; i += 16)
  {
    v10 = *((_DWORD *)i - 3);
    if (v10 == 55)
    {
      if (!strstr(*(char **)(i + 6), "POI"))
      {
        v7 = v7;
        goto LABEL_14;
      }
      v6 = *i;
LABEL_12:
      v7 = 1;
      goto LABEL_14;
    }
    if (v7)
    {
      if (v10 != 56 || !strstr(*(char **)(i + 6), "POI"))
        goto LABEL_12;
      if (v6 <= a3 && *i >= a4)
        break;
    }
    v7 = 0;
LABEL_14:
    if (!--v8)
      return 0;
  }
  return 1;
}

uint64_t oneword_ProcessNTokens(uint64_t a1, uint64_t a2, const char **a3, char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, _WORD *a10, unsigned __int16 *a11, __int16 a12, int a13, int a14, int a15)
{
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  char *v29;
  char *v30;
  int v31;
  uint64_t DepesLayersForWordAndPOS;
  uint64_t appended;
  _BYTE *v34;
  int v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  unsigned __int16 v44;
  int v45;
  int v46;
  unsigned __int16 v47;
  unsigned int v48;
  int v49;
  unsigned __int16 v50;
  int v51;
  int v52;
  int v53;
  int v54;
  int v55;
  unsigned __int16 v56;
  int v57;
  int v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  int v66;
  unsigned __int16 v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  int v72;
  uint64_t v73;
  uint64_t v74;
  unsigned __int16 v75;
  __int16 v76;
  __int16 v77;
  __int16 v78;
  uint64_t v79;
  uint64_t v80;
  uint64_t v81;
  char *v82;
  uint64_t v83;
  uint64_t v84;
  const char *v85;
  size_t v86;
  char *v87;
  int v88;
  uint64_t v89;
  uint64_t v90;
  int v91;
  const char *v92;
  int v93;
  uint64_t v94;
  char *v95;
  int v96;
  int v97;
  uint64_t v98;
  uint64_t v99;
  __int16 v100;
  unsigned __int16 v101;
  uint64_t v102;
  uint64_t v103;
  uint64_t v104;
  unsigned __int16 v105;
  uint64_t v106;
  uint64_t v107;
  uint64_t v108;
  __int16 v109;
  __int16 v110;
  int v111;
  const char *v112;
  __int16 v113;
  __int16 v114;
  uint64_t v115;
  uint64_t v116;
  int v117;
  int v118;
  uint64_t v119;
  int v120;
  char *v121;
  int v122;
  uint64_t v123;
  uint64_t v124;
  uint64_t v125;
  uint64_t v126;
  uint64_t v127;
  uint64_t v128;
  uint64_t v129;
  int v130;
  const char *v131;
  unsigned __int16 v132;
  const char *v133;
  int v134;
  int v135;
  uint64_t v136;
  int v137;
  uint64_t v138;
  int v139;
  const char *v140;
  int v141;
  char v142;
  unint64_t v143;
  unint64_t v144;
  char **v145;
  const char *v146;
  int v147;
  int v148;
  unsigned int v149;
  uint64_t v150;
  uint64_t v151;
  uint64_t v152;
  uint64_t v153;
  int v154;
  int v155;
  int v156;
  int v157;
  int v158;
  _WORD *v159;
  unsigned int v160;
  int v161;
  unsigned int v162;
  size_t v163;
  uint64_t v164;
  uint64_t v165;
  uint64_t v166;
  unint64_t v167;
  int v168;
  _DWORD *v169;
  uint64_t v170;
  uint64_t v171;
  uint64_t v172;
  uint64_t v173;
  BOOL v174;
  __int16 v175;
  __int16 v176;
  uint64_t v177;
  uint64_t v178;
  uint64_t v179;
  unsigned __int16 v180;
  uint64_t v181;
  uint64_t v182;
  uint64_t v183;
  unsigned __int16 v184;
  uint64_t v185;
  uint64_t v186;
  uint64_t v187;
  unsigned __int16 v188;
  uint64_t v189;
  const char *v190;
  uint64_t v191;
  int v192;
  uint64_t v193;
  uint64_t v194;
  uint64_t v195;
  uint64_t v196;
  uint64_t v197;
  uint64_t v198;
  uint64_t v199;
  uint64_t v200;
  uint64_t v201;
  char *v202;
  uint64_t v203;
  uint64_t v204;
  uint64_t v205;
  int v206;
  int v207;
  char *v208;
  const char *v209;
  __int16 v210;
  char *v211;
  const char *v212;
  size_t v213;
  unsigned __int16 v214;
  uint64_t v215;
  uint64_t v216;
  int v217;
  unsigned __int16 v218;
  char *v219;
  char *v220;
  uint64_t v221;
  int v222;
  uint64_t v223;
  int v224;
  int v225;
  uint64_t v226;
  __int16 v227;
  __int16 v228;
  __int16 v229;
  __int16 v230;
  uint64_t i;
  __int16 v233;
  unsigned __int16 *v234;
  uint64_t v235;
  unsigned int v236;
  unsigned int v238;
  char v239;
  int v240;
  uint64_t v241;
  _BYTE *v242;
  char *v243;
  char *v244;
  uint64_t v245;
  uint64_t v246;
  unsigned __int16 v247;
  int v248;
  int v249;
  uint64_t v250;
  uint64_t v251;
  _WORD *v252;
  const char **v253;
  unsigned __int8 *v254;
  int v255;
  int v256;
  uint64_t *v257;
  uint64_t *v258;
  int v259;
  char v260;
  int v261;
  int v262;
  int v263;
  unsigned __int16 *v264;
  unsigned __int8 v265;
  int v266;
  uint64_t v267;
  uint64_t v268;
  uint64_t *v269;
  const char **v270;
  uint64_t *v271;
  uint64_t *v272;
  char *__s1;
  uint64_t v274;
  const char **v275;
  unsigned int v276;
  char *v277;
  unsigned __int16 v278;
  unsigned int v279;
  int v280;
  int v281;
  uint64_t v282;
  int v283;
  char *v284;
  uint64_t v285;
  char *v286;
  char *v287;
  int v288;
  int v289;
  int v290;
  char v291;
  unsigned __int16 v292;
  unsigned __int16 v293;
  uint64_t v294;
  char *__src;
  int v296;
  int v297;
  int v298;
  int v299;
  unsigned __int16 v300;
  unsigned __int16 v301;
  char v302[129];
  char __dst[22];
  _WORD v304[128];
  char __s[136];
  uint64_t v306;

  v306 = *MEMORY[0x1E0C80C00];
  v301 = a7;
  v300 = 0;
  v292 = 1;
  v291 = 32;
  v290 = 0;
  v23 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, 2248);
  if (!v23)
  {
    DepesLayersForWordAndPOS = 2310021130;
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v24, v25, v26, v27, v238);
    return DepesLayersForWordAndPOS;
  }
  v28 = v23;
  v299 = 0;
  v298 = 0;
  v297 = 0;
  v296 = 0;
  __src = 0;
  v294 = 0;
  v293 = 0;
  v289 = 0;
  v288 = 0;
  __dst[0] = 0;
  strcpy(__s, "acronym_detection");
  v278 = strlen(__s);
  v282 = v28;
  if (*(_DWORD *)(a1 + 560) == 1)
  {
    v29 = strchr(a4, 95);
    if (v29)
      v30 = v29 + 1;
    else
      v30 = a4;
    v277 = v30;
    v31 = *v30;
  }
  else
  {
    v277 = 0;
    v31 = 32;
  }
  memset(v304, 0, sizeof(v304));
  appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, a7, 1, 1, (char *)&v296 + 2, (char *)&v298 + 2);
  if ((appended & 0x80000000) != 0)
    goto LABEL_450;
  HIWORD(v297) = HIWORD(v296);
  do
  {
    if (!v301)
      break;
    v300 = v301;
    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 136))(a5, a6, v301, &v301);
    if ((appended & 0x80000000) != 0)
      goto LABEL_450;
    if (!v301)
      break;
    appended = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
    if ((appended & 0x80000000) != 0)
      goto LABEL_450;
  }
  while (HIWORD(v297) == HIWORD(v296));
  v34 = *(_BYTE **)(a1 + 240);
  v301 = v300;
  *v34 = 0;
  **(_BYTE **)(a1 + 248) = 0;
  **(_BYTE **)(a1 + 256) = 0;
  **(_BYTE **)(a1 + 264) = 0;
  v275 = (const char **)(a1 + 240);
  appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, a8, 2, 1, &v296, (char *)&v298 + 2);
  if ((appended & 0x80000000) != 0)
    goto LABEL_450;
  v274 = a2;
  v35 = (unsigned __int16)(v296 - HIWORD(v296));
  v36 = (4 * v35 + 200);
  v272 = (uint64_t *)(a1 + 192);
  if (v36 > *(unsigned __int16 *)(a1 + 192))
  {
    v37 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 160), (4 * v35 + 200));
    if (!v37)
      goto LABEL_396;
    *(_QWORD *)(a1 + 160) = v37;
    *(_QWORD *)(a1 + 192) = v36;
  }
  v271 = (uint64_t *)(a1 + 200);
  if (v36 > *(unsigned __int16 *)(a1 + 200))
  {
    v42 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 168), (4 * v35 + 200));
    if (!v42)
      goto LABEL_396;
    *(_QWORD *)(a1 + 168) = v42;
    *(_QWORD *)(a1 + 200) = v36;
  }
  v269 = (uint64_t *)(a1 + 208);
  if (v36 > *(unsigned __int16 *)(a1 + 208))
  {
    v43 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 176), (4 * v35 + 200));
    if (!v43)
      goto LABEL_396;
    *(_QWORD *)(a1 + 176) = v43;
    *(_QWORD *)(a1 + 208) = v36;
  }
  v263 = v31;
  v276 = a8;
  **(_BYTE **)(a1 + 160) = 0;
  v300 = v301;
  v44 = HIWORD(v296);
  v45 = (unsigned __int16)v296;
  __s1 = a4;
  if (HIWORD(v296) >= (unsigned __int16)v296)
  {
    v47 = 0;
    v281 = 0;
  }
  else
  {
    v46 = (*(uint64_t (**)(_QWORD, _QWORD, const char *))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), &(*a3)[*(__int16 *)(a1 + 224) + HIWORD(v296)]);
    v44 = HIWORD(v296);
    if (v46)
    {
      v281 = 0;
      while (1)
      {
        v47 = v281
            + utf8_determineUTF8CharLength((*a3)[*(__int16 *)(a1 + 224) + (uint64_t)(v281 + v44)]);
        v44 = HIWORD(v296);
        v281 = v47;
        v48 = HIWORD(v296) + v47;
        v45 = (unsigned __int16)v296;
        if (v48 >= (unsigned __int16)v296)
          break;
        v49 = (*(uint64_t (**)(_QWORD, _QWORD, const char *))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), &(*a3)[*(__int16 *)(a1 + 224) + (unint64_t)v48]);
        v44 = HIWORD(v296);
        if (!v49)
          goto LABEL_34;
      }
    }
    else
    {
      v281 = 0;
      v47 = 0;
LABEL_34:
      v45 = (unsigned __int16)v296;
    }
  }
  v50 = v44 + v47;
  HIWORD(v296) = v50;
  v51 = (__int16)v45;
  if ((__int16)v45 > (int)v50)
  {
    while ((*a3)[*(__int16 *)(a1 + 224) - 1 + (unint64_t)(unsigned __int16)v45] < -64)
    {
      v51 = (__int16)--v45;
      if ((__int16)v45 <= (int)v50)
        goto LABEL_40;
    }
    v51 = (__int16)v45;
  }
LABEL_40:
  v252 = (_WORD *)(v274 + 20000);
  v254 = (unsigned __int8 *)(v274 + 15000);
  v253 = (const char **)(a1 + 256);
  if (v51 > v50)
  {
    v52 = v45;
    do
    {
      v53 = (*(uint64_t (**)(_QWORD, _QWORD, const char *))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), &(*a3)[*(__int16 *)(a1 + 224) - 1 + (unint64_t)(unsigned __int16)v52]);
      v50 = HIWORD(v296);
      if (!v53)
        break;
      LOWORD(v296) = --v52;
      v54 = (__int16)v52;
      if ((__int16)v52 > (int)HIWORD(v296))
      {
        while ((*a3)[*(__int16 *)(a1 + 224) - 1 + (unint64_t)(unsigned __int16)v52] < -64)
        {
          v54 = (__int16)--v52;
          if ((__int16)v52 <= (int)HIWORD(v296))
            goto LABEL_48;
        }
        v54 = (__int16)v52;
      }
LABEL_48:
      ;
    }
    while (v54 > HIWORD(v296));
  }
  v270 = (const char **)(a1 + 160);
  v265 = 0;
  v55 = 0;
  v259 = v35 + 100;
  v258 = (uint64_t *)(a1 + 168);
  v257 = (uint64_t *)(a1 + 176);
  v264 = (unsigned __int16 *)(a1 + 280);
  v56 = 1;
  v57 = 1;
LABEL_50:
  v58 = v300;
  while (1)
  {
    if (v58 == v276)
    {
      DepesLayersForWordAndPOS = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v276, 0, 1, &v299, (char *)&v298 + 2);
      if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
        goto LABEL_451;
      if (v299 | v57)
      {
        v72 = v263;
        v73 = v274;
      }
      else
      {
        appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v300, 1, 1, (char *)&v297 + 2, (char *)&v298 + 2);
        if ((appended & 0x80000000) != 0)
          goto LABEL_450;
        v83 = appended;
        DepesLayersForWordAndPOS = 2310021130;
        v84 = HIWORD(v297) - v50;
        if ((int)v84 >= 1
          && !dynamic_strncat(v270, &(*a3)[v50 + *(__int16 *)(a1 + 224)], v84, v272, *(uint64_t **)(*(_QWORD *)a1 + 8))
          || *(_DWORD *)(a1 + 292) && !dynamic_strcat(v270, "+", (size_t *)v272, *(uint64_t **)(*(_QWORD *)a1 + 8)))
        {
          goto LABEL_451;
        }
        v50 = HIWORD(v297);
        v72 = v263;
        v73 = v274;
        DepesLayersForWordAndPOS = v83;
      }
      v74 = (unsigned __int16)v296 - v50;
      if ((int)v74 >= 1
        && !dynamic_strncat(v270, &(*a3)[v50 + *(__int16 *)(a1 + 224)], v74, v272, *(uint64_t **)(*(_QWORD *)a1 + 8)))
      {
        DepesLayersForWordAndPOS = 2310021130;
        goto LABEL_451;
      }
      if (!a13)
      {
        v85 = *v270;
        v86 = strlen(*v270);
        if (v86 - 128 >= 0xFFFFFFFFFFFFFF7FLL)
        {
          v87 = *(char **)(a1 + 232);
        }
        else
        {
          v87 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 232), (v86 + 1));
          if (!v87)
            goto LABEL_396;
          *(_QWORD *)(a1 + 232) = v87;
          v85 = *(const char **)(a1 + 160);
        }
        strcpy(v87, v85);
        v88 = 0;
        v91 = strlen(*v270) + 1;
LABEL_148:
        v92 = __s1;
        if ((_WORD)v91)
        {
          v249 = 0;
          v245 = 0;
          v250 = 0;
          v93 = 0;
          v243 = 0;
          v244 = (char *)(v73 + 5000);
          v240 = (unsigned __int16)v91 - 2;
          v241 = (unsigned __int16)v91;
          v242 = (_BYTE *)(v73 + 10000);
          v280 = v91;
          while (1)
          {
            v94 = *(_QWORD *)(a1 + 232);
            v255 = v93;
            v251 = (unsigned __int16)v93;
            v95 = (char *)(v94 + (unsigned __int16)v93);
            v96 = strncmp(v95, "↕", 3uLL);
            if (v96 || !strcmp(__s1, "prompt") || !strcmp(__s1, "internal-nuance-system-norm"))
            {
              v97 = *(_DWORD *)(a1 + 2192);
              if (v97 && *(_DWORD *)(a1 + 2248))
                goto LABEL_464;
              if (!strncmp(v95, "§", 2uLL)
                || !v96 && (!strcmp(__s1, "prompt") || !strcmp(__s1, "internal-nuance-system-norm")))
              {
                v286 = 0;
                v287 = 0;
                v122 = strncmp(v95, "§", 2uLL);
                v128 = 2;
                if (v122)
                  v128 = 3;
                v246 = v128;
                if ((unsigned __int16)v280 <= (unsigned __int16)(v255 + 1))
                  v129 = (unsigned __int16)(v255 + 1);
                else
                  v129 = (unsigned __int16)v280;
                v130 = v255;
                v131 = __s1;
                while (1)
                {
                  v132 = v130 + 1;
                  if ((unsigned __int16)(v130 + 1) >= (unsigned __int16)v280)
                  {
                    v267 = v129;
                    v262 = v129 - 1;
                    v130 = v129;
                    goto LABEL_223;
                  }
                  v262 = v130;
                  v267 = (unsigned __int16)++v130;
                  v133 = (const char *)(v94 + v132);
                  if (!strncmp(v133, "§", 2uLL))
                    break;
                  v134 = strncmp(v133, "↕", 3uLL);
                  v131 = __s1;
                  if (!v134)
                    goto LABEL_223;
                }
                v131 = __s1;
LABEL_223:
                v142 = *(_BYTE *)(v94 + v267);
                *(_BYTE *)(v94 + v267) = 0;
                v248 = v130;
                v239 = v142;
                if (*(_DWORD *)(a1 + 2004))
                {
                  v143 = *a11;
                  if (v143 >= 2)
                  {
                    v144 = v143 - 1;
                    v145 = (char **)(a9 + 56);
                    while (*((_DWORD *)v145 - 6) != 58
                         || *((_DWORD *)v145 - 3) + v281 - *(_DWORD *)(a9 + 12) != HIWORD(v296))
                    {
                      v145 += 4;
                      if (!--v144)
                        goto LABEL_301;
                    }
                    v243 = *v145;
                  }
LABEL_301:
                  DepesLayersForWordAndPOS = getDepesLayersForWordAndPOS(a1, (uint64_t)v131, (char *)(*(_QWORD *)(a1 + 232) + v251 + v246), v243);
                  v146 = (const char *)(*(_QWORD *)(a1 + 232) + v251 + v246);
                }
                else
                {
                  DepesLayersForWordAndPOS = mde_stemafx_Main(a1, v131, (char *)(*(_QWORD *)(a1 + 232) + v251 + v246), v123, v124, v125, v126, v127);
                  v146 = *(const char **)(a1 + 160);
                }
                HIWORD(v296) += strlen(v146);
                if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                  goto LABEL_451;
                strcpy(__s, "one_word");
                v247 = strlen(__s);
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v177, v178, v179, (uint64_t)__s);
                v180 = strlen(*(const char **)(a1 + 160));
                appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104)
                                                                                             + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, *(_QWORD *)(a1 + 160), v180);
                if ((appended & 0x80000000) != 0)
                  goto LABEL_450;
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L3: %s", v181, v182, v183, (uint64_t)__s);
                v184 = strlen(*(const char **)(a1 + 168));
                appended = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104)
                                                                                              + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 2, *(_QWORD *)(a1 + 168), v184);
                if ((appended & 0x80000000) != 0)
                  goto LABEL_450;
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L4: %s", v185, v186, v187, (uint64_t)__s);
                v188 = strlen(*(const char **)(a1 + 176));
                appended = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104)
                                                                                              + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 3, *(_QWORD *)(a1 + 176), v188);
                if ((appended & 0x80000000) != 0)
                  goto LABEL_450;
                v92 = __s1;
                if (strcmp(__s1, "normal")
                  && (ssftmap_FindReadOnly(*(_QWORD *)(a1 + 568), (uint64_t)__s1, &v286) & 0x80000000) == 0)
                {
                  if (!(_WORD)v255 && v240 == (unsigned __int16)v130)
                  {
                    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 88))(a5, a6, v301, &v300);
                    if ((appended & 0x80000000) != 0)
                      goto LABEL_450;
                    v92 = __s1;
                    appended = dt_Main(a1, v300, a5, a6, *((_QWORD *)v286 + 2), __s1);
                    DepesLayersForWordAndPOS = (appended & 0x1FFF) == 0x10A ? 0 : appended;
                    v72 = v263;
                    if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                      goto LABEL_450;
                    v249 = 1;
LABEL_321:
                    if (!strncmp((const char *)(*(_QWORD *)(a1 + 232) + v251), "§", 2uLL))
                    {
                      oneword_ReplaceUnderscoreWithDot(*v275);
                      DepesLayersForWordAndPOS = 0;
                    }
                    if (*(_DWORD *)(a1 + 560))
                    {
                      v190 = v277;
                      if (v277)
                      {
                        v291 = v72;
                        goto LABEL_347;
                      }
                    }
                    else
                    {
                      v291 = *v92;
                      v190 = v92;
LABEL_347:
                      strncpy(__dst, v190, 0x14uLL);
                    }
LABEL_353:
                    v147 = v262 + 2;
LABEL_392:
                    v88 = 0;
                    goto LABEL_393;
                  }
                  v189 = dt_Main(a1, 0, a5, a6, *((_QWORD *)v286 + 2), __s1);
                  if ((v189 & 0x1FFF) == 0x10A)
                  {
                    DepesLayersForWordAndPOS = 0;
                    v92 = __s1;
LABEL_320:
                    v72 = v263;
                    goto LABEL_321;
                  }
                  v92 = __s1;
                  if ((v189 & 0x80000000) == 0)
                  {
                    DepesLayersForWordAndPOS = v189;
                    goto LABEL_320;
                  }
                }
                if (strcmp(v92, "normal"))
                {
                  if (strlen(v92) + v247 + 2 <= 0x7F)
                  {
                    __strcat_chk();
                    __strcat_chk();
                    if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s) & 0x80000000) == 0)
                    {
                      if (*(_DWORD *)(a1 + 560))
                      {
                        if (v277)
                        {
                          v291 = v263;
                          strncpy(__dst, v277, 0x14uLL);
                        }
                      }
                      else
                      {
                        v291 = *__s1;
                        strncpy(__dst, __s1, 0x14uLL);
                      }
                      goto LABEL_363;
                    }
                  }
                }
                LODWORD(v285) = 0;
                if (*(_DWORD *)(a1 + 928) && strlen(__s1) >= 2 && !strchr(__s1, 95))
                {
                  appended = oneword_Lid((_QWORD *)a1, &v285);
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  if ((_DWORD)v285)
                  {
                    __s[v247] = 0;
LABEL_361:
                    __strcat_chk();
                    v291 = 101;
                    strcpy(__dst, "e");
LABEL_362:
                    appended = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s);
                    if ((appended & 0x80000000) != 0)
                      goto LABEL_450;
LABEL_363:
                    appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 104) + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, &__src, &v293);
                    if ((appended & 0x80000000) != 0)
                      goto LABEL_450;
                    __src[v293] = 0;
                    appended = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, uint64_t *, unsigned __int16 *))(*(_QWORD *)(a1 + 104) + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 2, &v294, &v293);
                    if ((appended & 0x80000000) != 0)
                      goto LABEL_450;
                    *(_BYTE *)(v294 + v293) = 0;
                    appended = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 104) + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 4, &v287, &v293);
                    if ((appended & 0x80000000) != 0)
                      goto LABEL_450;
                    v287[v293] = 0;
                    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v193, v194, v195, (uint64_t)__s);
                    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O3: %s", v196, v197, v198, (uint64_t)__s);
                    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O5: %s", v199, v200, v201, (uint64_t)__s);
                    v202 = __src;
                    if ((unsigned __int16)strlen(__src))
                    {
                      v206 = 0;
                      v207 = 0;
                      do
                      {
                        v208 = &v202[(unsigned __int16)v207];
                        if (*v208 == 126)
                        {
                          v209 = &v202[v206 + 1];
                          v210 = strlen(v209);
                          memmove(v208, v209, (unsigned __int16)(v210 + 1));
                          --v207;
                        }
                        else if (!strncmp(&v202[(unsigned __int16)v207], "¡", 2uLL))
                        {
                          v211 = &v202[v206 + 1];
                          v212 = &v202[v206 + 2];
                          v213 = strlen(v212);
                          memmove(v211, v212, v213 + 1);
                          __src[(unsigned __int16)v207] = 126;
                        }
                        v206 = (unsigned __int16)++v207;
                        v202 = __src;
                      }
                      while ((unsigned __int16)v207 < (unsigned __int16)strlen(__src));
                    }
                    v214 = 0;
                    *(_BYTE *)(*(_QWORD *)(a1 + 232) + v267) = v239;
                    v215 = v294;
                    while (1)
                    {
                      v216 = v214;
                      v217 = *(unsigned __int8 *)(v294 + v214);
                      if (v217 != 32 && v217 != 126)
                        break;
                      ++v214;
                    }
                    v72 = v263;
                    if (*(_BYTE *)(v294 + v214))
                    {
                      while (v217 != 32 && v217 != 126)
                        LOBYTE(v217) = *(_BYTE *)(v294 + ++v214);
                      *(_BYTE *)(v294 + v214) = 0;
                      v215 = v294;
                    }
                    v218 = 0;
                    v219 = (char *)(v215 + v216);
                    v220 = v287;
                    while (1)
                    {
                      v221 = v218;
                      v222 = v287[v218];
                      if (v222 != 32 && v222 != 126)
                        break;
                      ++v218;
                    }
                    if (v287[v218])
                    {
                      while (v222 != 32 && v222 != 126)
                        LOBYTE(v222) = v287[++v218];
                      v287[v218] = 0;
                      v220 = v287;
                    }
                    v223 = (uint64_t)&v220[v221];
                    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD ONEWORDGRAMMAR %s", v203, v204, v205, *(_QWORD *)(a1 + 232));
                    appended = oneword_AppendPhon(a1, __src, v219, v223, v291, 1);
                    DepesLayersForWordAndPOS = 0;
                    v92 = __s1;
                    v147 = v248;
                    if ((appended & 0x80000000) != 0)
                      goto LABEL_450;
                    goto LABEL_392;
                  }
                }
                if ((ssftmap_FindReadOnly(*(_QWORD *)(a1 + 568), (uint64_t)"normal", &v286) & 0x80000000) == 0)
                {
                  if (!(_WORD)v255 && v240 == (unsigned __int16)v130)
                  {
                    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 88))(a5, a6, v301, &v300);
                    if ((appended & 0x80000000) != 0)
                      goto LABEL_450;
                    v92 = __s1;
                    appended = dt_Main(a1, v300, a5, a6, *((_QWORD *)v286 + 2), __s1);
                    DepesLayersForWordAndPOS = (appended & 0x1FFF) == 0x10A ? 0 : appended;
                    v72 = v263;
                    if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                      goto LABEL_450;
                    v249 = 1;
                    goto LABEL_351;
                  }
                  v191 = dt_Main(a1, 0, a5, a6, *((_QWORD *)v286 + 2), __s1);
                  if ((v191 & 0x1FFF) == 0x10A)
                  {
                    DepesLayersForWordAndPOS = 0;
LABEL_350:
                    v92 = __s1;
                    v72 = v263;
LABEL_351:
                    if (!strncmp((const char *)(*(_QWORD *)(a1 + 232) + v251), "§", 2uLL))
                    {
                      oneword_ReplaceUnderscoreWithDot(*v275);
                      DepesLayersForWordAndPOS = 0;
                    }
                    goto LABEL_353;
                  }
                  if ((v191 & 0x80000000) == 0)
                  {
                    DepesLayersForWordAndPOS = v191;
                    goto LABEL_350;
                  }
                }
                v192 = v285;
                __s[v247] = 0;
                if (v192)
                  goto LABEL_361;
                goto LABEL_362;
              }
              if (v97 && *(_DWORD *)(a1 + 2248))
              {
LABEL_464:
                v98 = 2;
                if (!strncmp(v95, "§", 2uLL))
                  goto LABEL_213;
                if (!v96 && (!strcmp(__s1, "prompt") || !strcmp(__s1, "internal-nuance-system-norm")))
                {
                  v98 = 3;
LABEL_213:
                  v135 = v255;
                  if ((unsigned __int16)v280 <= (unsigned __int16)(v255 + 1))
                    v136 = (unsigned __int16)(v255 + 1);
                  else
                    v136 = (unsigned __int16)v280;
                  v268 = v136;
                  v92 = __s1;
                  while (1)
                  {
                    v137 = v135 + 1;
                    if ((unsigned __int16)v137 >= (unsigned __int16)v280)
                    {
                      v135 = v268;
                      v138 = v268;
                      goto LABEL_233;
                    }
                    v138 = (unsigned __int16)v137;
                    v139 = v137;
                    v140 = (const char *)(v94 + (unsigned __int16)v137);
                    if (!strncmp(v140, "§", 2uLL))
                      break;
                    v141 = strncmp(v140, "↕", 3uLL);
                    v92 = __s1;
                    v135 = v139;
                    if (!v141)
                      goto LABEL_233;
                  }
                  v92 = __s1;
                  v135 = v139;
LABEL_233:
                  v255 = v135;
                  *(_BYTE *)(v94 + v138) = 0;
                  strncpy(v302, (const char *)(*(_QWORD *)(a1 + 232) + v251 + v98), 0x7FuLL);
                  v302[128] = 0;
                  appended = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t))(*(_QWORD *)(a1 + 80) + 136))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), "normal", v302, 128);
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  appended = mosynt_StartWordAnalysis(*(_QWORD *)(a1 + 48), *(_QWORD *)(a1 + 2200), *(_QWORD *)(a1 + 2208), *(_QWORD *)(a1 + 2216), *(_QWORD *)(a1 + 2224), *(_QWORD *)(a1 + 2232), *(_QWORD *)(a1 + 2240), v282);
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  appended = mosynt_WordAnalysis();
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  appended = mosynt_SkipToFirstOptimalReading(*(_QWORD *)(a1 + 48), v282);
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  appended = mosynt_GetReading(*(_QWORD *)(a1 + 48), v282, 0, &v290, v254, 5000, v244, 5000, &v289);
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  appended = mosynt_SubstAllSubstrOcc(v244, "~", "¡", v242, 5000);
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  __strcpy_chk();
                  if (v290)
                  {
                    *v254 = 0;
                    *v252 = 42;
                    v291 = 32;
                    appended = oneword_AppendPhon(a1, v244, (char *)v254, (uint64_t)v252, 32, 1);
                    if ((appended & 0x80000000) != 0)
                      goto LABEL_450;
                  }
                  appended = mosynt_FinishWordAnalysis(*(_QWORD *)(a1 + 48), v282);
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  DepesLayersForWordAndPOS = mosynt_ResetMosyntWS(*(_QWORD *)(a1 + 48), v274);
                  v72 = v263;
                  if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                    goto LABEL_451;
                  v88 = 0;
                  HIWORD(v296) += strlen(*v270);
LABEL_244:
                  v147 = v255;
                  goto LABEL_393;
                }
              }
              if (strncmp(v95, "◄", 3uLL))
              {
                utf8_ToLower(v95, 0, (uint64_t)&v287);
                appended = oneword_AppendPhon(a1, (char *)&v287, &byte_1DEBD87CE, (uint64_t)&byte_1DEBD87CE, 32, 0);
                if ((appended & 0x80000000) != 0)
                  goto LABEL_450;
                DepesLayersForWordAndPOS = 0;
                v88 = 0;
                HIWORD(v296) += utf8_determineUTF8CharLength(*(unsigned __int8 *)(*(_QWORD *)(a1 + 232) + v251));
                v92 = __s1;
                v72 = v263;
                goto LABEL_244;
              }
              v286 = 0;
              v287 = 0;
              v284 = 0;
              v285 = 0;
              v283 = 4;
              LODWORD(v116) = v255 + 3;
              if ((unsigned __int16)(v255 + 3) < (unsigned __int16)v280)
              {
                v117 = HIWORD(v296);
                v116 = (unsigned __int16)(v255 + 3);
                while (strncmp((const char *)(v94 + v116), "◄", 3uLL))
                {
                  HIWORD(v296) = ++v117;
                  if (v241 == ++v116)
                  {
                    LODWORD(v116) = v280;
                    break;
                  }
                }
              }
              v118 = v116;
              v119 = (unsigned __int16)v304[v250];
              appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a5, a6, v119, 3, &v287, (char *)&v298 + 2);
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a5, a6, v119, 5, &v286, (char *)&v298 + 2);
              v72 = v263;
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t *, char *))(*(_QWORD *)(a1 + 56) + 176))(a5, a6, v119, 6, &v285, (char *)&v298 + 2);
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v119, 0, 1, &v283, (char *)&v298 + 2);
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              if ((v250 & 0x80) != 0)
              {
                DepesLayersForWordAndPOS = 2310021632;
                goto LABEL_451;
              }
              DepesLayersForWordAndPOS = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a5, a6, v119, 9, &v284, (char *)&v298 + 2);
              if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                goto LABEL_451;
              strncpy(__dst, v284, 0x14uLL);
              if (__dst[0])
                v120 = __dst[0];
              else
                v120 = 32;
              v291 = v120;
              v121 = v287;
              if (v283 == 4)
              {
                if (strcmp(v287, "_"))
                {
                  appended = oneword_AppendPhon(a1, v121, v286, v285, v120, 1);
                  if ((appended & 0x80000000) != 0)
                    goto LABEL_450;
                  DepesLayersForWordAndPOS = 0;
                }
              }
              else
              {
                appended = oneword_AppendPhon(a1, v287, v286, v285, v120, 0);
                DepesLayersForWordAndPOS = 0;
                if ((appended & 0x80000000) != 0)
                  goto LABEL_450;
              }
              v88 = 0;
              ++v250;
              v92 = __s1;
              v147 = v118;
            }
            else
            {
              LODWORD(v99) = v255 + 3;
              if ((unsigned __int16)(v255 + 3) < (unsigned __int16)v280)
              {
                v99 = (unsigned __int16)(v255 + 3);
                while (strncmp((const char *)(v94 + v99), "↕", 3uLL))
                {
                  if (v241 == ++v99)
                  {
                    LODWORD(v99) = v280;
                    break;
                  }
                }
              }
              v266 = v88;
              v256 = v99;
              v260 = *(_BYTE *)(v94 + (unsigned __int16)v99);
              *(_BYTE *)(v94 + (unsigned __int16)v99) = 0;
              v100 = strlen((const char *)(*(_QWORD *)(a1 + 232) + v251 + 3));
              appended = (*(uint64_t (**)(_QWORD, _QWORD, char *, uint64_t, _QWORD))(*(_QWORD *)(a1 + 80)
                                                                                            + 104))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), __s1, *(_QWORD *)(a1 + 232) + v251 + 3, (unsigned __int16)(v100 + 1));
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              strcpy(*(char **)(a1 + 160), (const char *)(*(_QWORD *)(a1 + 232) + v251 + 3));
              strcpy(__s, "spell_acronym");
              v101 = strlen(__s);
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v102, v103, v104, (uint64_t)__s);
              v105 = strlen(*(const char **)(a1 + 160));
              appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104)
                                                                                           + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, *(_QWORD *)(a1 + 160), v105);
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              if (strcmp(__s1, "normal") && strlen(__s1) + v101 + 2 <= 0x7F)
              {
                __strcat_chk();
                __strcat_chk();
              }
              if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s) & 0x80000000) != 0)
              {
                __s[v101] = 0;
                appended = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s);
                if ((appended & 0x80000000) != 0)
                  goto LABEL_450;
              }
              appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 104) + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, &__src, &v293);
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              __src[v293] = 0;
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v106, v107, v108, (uint64_t)__s);
              v109 = strlen(__src);
              v110 = strlen(*(const char **)(a1 + 160));
              *(_BYTE *)(*(_QWORD *)(a1 + 232) + (unsigned __int16)v99) = v260;
              v111 = (__int16)(v88 + v109 - v110);
              v112 = *a3;
              v261 = v111;
              if (v111 <= 0)
              {
                v114 = v111 + 1;
              }
              else
              {
                v113 = strlen(v112);
                v114 = v111 + 1;
                v115 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)v112, (unsigned __int16)(v111 + 1 + v113));
                if (!v115)
                  goto LABEL_396;
                v112 = (const char *)v115;
                *a3 = (const char *)v115;
              }
              v148 = *(__int16 *)(a1 + 224);
              v149 = (unsigned __int16)(HIWORD(v296) + *(_WORD *)(a1 + 224) + strlen(__src));
              if (v149 > (unsigned __int16)(v114 + strlen(v112)))
              {
                log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34001, 0, v150, v151, v152, v153, v238);
                DepesLayersForWordAndPOS = 2310021127;
                goto LABEL_451;
              }
              v154 = *(unsigned __int16 *)(a1 + 224);
              v155 = strlen(*v270);
              v156 = HIWORD(v296) - v88 + v155;
              LOWORD(v296) = HIWORD(v296) - v266 + v155;
              if (v261 < 1)
              {
                if (v261 < 0)
                {
                  v161 = v156 + v154;
                  v162 = (unsigned __int16)(v156 + v154);
                  if (v162 <= (unsigned __int16)strlen(v112))
                  {
                    do
                    {
                      v112[v162 + v261] = v112[(unsigned __int16)v161++];
                      v162 = (unsigned __int16)v161;
                      v112 = *a3;
                    }
                    while ((unsigned __int16)v161 <= (unsigned __int16)strlen(*a3));
                    LOWORD(v154) = *(_WORD *)(a1 + 224);
                  }
                }
                v159 = (_WORD *)(a1 + 280);
              }
              else
              {
                v157 = strlen(v112);
                v158 = v148 + (unsigned __int16)v156;
                v159 = (_WORD *)(a1 + 280);
                if (v158 <= (unsigned __int16)v157)
                {
                  v160 = (unsigned __int16)v157;
                  do
                  {
                    (*a3)[v160 + (unint64_t)v261] = (*a3)[(unsigned __int16)v157--];
                    v160 = (unsigned __int16)v157;
                  }
                  while (*(__int16 *)(a1 + 224) + (unsigned __int16)v296 <= (unsigned __int16)v157);
                  LOWORD(v154) = *(_WORD *)(a1 + 224);
                  v112 = *a3;
                }
              }
              v163 = strlen(__src);
              memcpy((void *)&v112[HIWORD(v296) + (__int16)v154], __src, v163);
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"Normalizing to: %s", v164, v165, v166, (uint64_t)*a3);
              HIWORD(v296) += strlen(*(const char **)(a1 + 160));
              v167 = (unsigned __int16)*a10;
              if (v167 < *a11)
              {
                v168 = (unsigned __int16)v296;
                v169 = (_DWORD *)(a9 + 12 + 32 * v167);
                do
                {
                  if (v168 <= (__int16)(*v169 - a12))
                    break;
                  *v169 += *(__int16 *)(a1 + 224);
                  v169 += 8;
                  *a10 = ++v167;
                }
                while (v167 < *a11);
              }
              LOWORD(v287) = 0;
              LOWORD(v286) = 0;
              LOWORD(v285) = 0;
              LOWORD(v284) = 0;
              v170 = v276;
              if (*(_DWORD *)(a1 + 2272) == 1)
              {
                appended = hlp_RemoveMNCRecords((_QWORD *)a1, a5, a6, a3, v301, v276, v261);
                if ((appended & 0x80000000) != 0)
                  goto LABEL_450;
              }
              appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char **, uint64_t))(*(_QWORD *)(a1 + 56) + 104))(a5, a6, 1, 0, &v284, v170);
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t *))(*(_QWORD *)(a1 + 56)
                                                                                                 + 104))(a5, a6, 2, (unsigned __int16)v284, &v285);
              if ((appended & 0x80000000) != 0)
                goto LABEL_450;
              while ((unsigned __int16)v285 != (unsigned __int16)*v159)
              {
                appended = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
                if ((appended & 0x80000000) == 0)
                {
                  if ((unsigned __int16)v286 - *(__int16 *)(a1 + 224) >= (unsigned __int16)v296)
                    LOWORD(v286) = (_WORD)v286 + v261;
                  appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, (unsigned __int16)v285, 2, 1, &v286, &v298);
                  if ((appended & 0x80000000) == 0)
                  {
                    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t *))(*(_QWORD *)(a1 + 56)
                                                                                              + 120))(a5, a6, (unsigned __int16)v285, &v285);
                    if ((appended & 0x80000000) == 0)
                      continue;
                  }
                }
                goto LABEL_450;
              }
              if ((_WORD)v285)
              {
                appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, (unsigned __int16)v285, 1, 1, &v287, (char *)&v298 + 2);
                if ((appended & 0x80000000) != 0)
                  goto LABEL_450;
              }
              while ((unsigned __int16)v287 < (unsigned __int16)v296 && *v159)
              {
                appended = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
                if ((appended & 0x80000000) == 0)
                {
                  v174 = (v299 & 0xFFFFFFFC) != 4 && (v299 - 9) > 1;
                  if (v174
                    || (appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, *(unsigned __int16 *)(a1 + 280), 2, 1, &v286, (char *)&v298 + 2), (appended & 0x80000000) == 0)&& ((v175 = *(_WORD *)(a1 + 224), LOWORD(v287) = v175 + (_WORD)v287, (unsigned __int16)v286 >= (unsigned __int16)v296)? (v176 = v261): (v176 = 0), (LOWORD(v286) = (_WORD)v286 + v175 + v176, appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, *(unsigned __int16 *)(a1 + 280), 1,
                                      1,
                                      &v287,
                                      &v298),
                         (appended & 0x80000000) == 0)
                     && (appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char **, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, *(unsigned __int16 *)(a1 + 280), 2, 1, &v286, &v298), (appended & 0x80000000) == 0)))
                  {
                    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _WORD *))(*(_QWORD *)(a1 + 56)
                                                                                            + 120))(a5, a6, *(unsigned __int16 *)(a1 + 280), v159);
                    if ((appended & 0x80000000) == 0)
                    {
                      if (!*v159)
                        continue;
                      appended = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
                      if ((appended & 0x80000000) == 0)
                      {
                        if ((unsigned __int16)v287 < (unsigned __int16)v296)
                          continue;
                        while (*v159)
                        {
                          appended = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
                          if ((appended & 0x80000000) != 0)
                            goto LABEL_450;
                          if (v299 != 17)
                            break;
                          DepesLayersForWordAndPOS = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _WORD *))(*(_QWORD *)(a1 + 56) + 120))(a5, a6, (unsigned __int16)*v159, v159);
                          if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                            goto LABEL_451;
                        }
                        appended = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
                        v159 = (_WORD *)(a1 + 280);
                        if ((appended & 0x80000000) == 0)
                          continue;
                      }
                    }
                  }
                }
                goto LABEL_450;
              }
              *(_WORD *)(a1 + 224) += v261;
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"OOV_METHOD SPELLACRONYM %s", v171, v172, v173, *(_QWORD *)(a1 + 232));
              v92 = __s1;
              DepesLayersForWordAndPOS = oneword_TranscribeAcronym(a1, __s1, __src, (unsigned __int8 *)&v291, __dst);
              if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                goto LABEL_451;
              WORD2(v245) += v261;
              LODWORD(v245) = 1;
              v72 = v263;
              v147 = v256;
              v88 = v266;
            }
LABEL_393:
            v224 = v147;
            v225 = utf8_determineUTF8CharLength(*(unsigned __int8 *)(*(_QWORD *)(a1 + 232) + (unsigned __int16)v147));
            v93 = v224 + v225;
            if ((unsigned __int16)(v224 + v225) >= (unsigned __int16)v280)
              goto LABEL_399;
          }
        }
        v245 = 0;
        v250 = 0;
        v249 = 0;
LABEL_399:
        if (v291 == 32)
          v226 = 0;
        else
          v226 = v291;
        v291 = v226;
        *(_BYTE *)(a1 + 272) = 0;
        *(_DWORD *)(a1 + 276) = 0;
        if (*(_DWORD *)(a1 + 2172) == 1 && (*(_DWORD *)(a1 + 2068) == 1 || !v250))
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s", v89, v226, v90, (uint64_t)"skipping crosstoken grammar");
          goto LABEL_451;
        }
        if (v249)
        {
          *(_BYTE *)(*(_QWORD *)(a1 + 248) + 1) = 0;
          *((_BYTE *)*v253 + 1) = 0;
        }
        else
        {
          appended = oneword_crosstoken(*(_QWORD *)a1, *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), *(_QWORD *)(a1 + 104), *(_DWORD *)(a1 + 560), v92, v226, v72, v277, __dst, *(const char **)(a1 + 2176), (uint64_t *)v270, v258, v257, (uint64_t *)(a1 + 184), v272, v271, v269, (uint64_t *)(a1 + 216),
                       v275,
                       (const char **)(a1 + 248),
                       v253,
                       (const char **)(a1 + 264));
          if ((appended & 0x80000000) != 0)
            goto LABEL_450;
          appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56)
                                                                                             + 88))(a5, a6, v301, &v300);
          if ((appended & 0x80000000) != 0)
            goto LABEL_450;
        }
        appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v301, 0, 1, &v299, (char *)&v298 + 2);
        if ((appended & 0x80000000) == 0)
        {
          appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v301, 1, 1, (char *)&v297 + 2, (char *)&v298 + 2);
          if ((appended & 0x80000000) == 0)
          {
            if ((_DWORD)v245 && v299 != 4)
              HIWORD(v297) = HIWORD(v297) - WORD2(v245) + *(_WORD *)(a1 + 224);
            appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v300, 1, 1, (char *)&v297 + 2, &v298);
            if ((appended & 0x80000000) == 0)
            {
              v299 = 9;
              appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v300, 0, 1, &v299, &v298);
              if ((appended & 0x80000000) == 0)
              {
                appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v276, 2, 1, &v297, (char *)&v298 + 2);
                if ((appended & 0x80000000) == 0)
                {
                  v227 = v297;
                  if ((_DWORD)v245)
                    v227 = v297 - WORD2(v245) + *(_WORD *)(a1 + 224);
                  LOWORD(v297) = v227 + WORD2(v245);
                  appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v300, 2, 1, &v297, &v298);
                  if ((appended & 0x80000000) == 0)
                  {
                    v228 = strlen(*(const char **)(a1 + 240));
                    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v300, 3, (unsigned __int16)(v228 + 1), *(_QWORD *)(a1 + 240), &v298);
                    if ((appended & 0x80000000) == 0)
                    {
                      v229 = strlen(*(const char **)(a1 + 248));
                      appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v300, 5, (unsigned __int16)(v229 + 1), *(_QWORD *)(a1 + 248), &v298);
                      if ((appended & 0x80000000) == 0)
                      {
                        v230 = strlen(*(const char **)(a1 + 256));
                        appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v300, 6, (unsigned __int16)(v230 + 1), *(_QWORD *)(a1 + 256), &v298);
                        if ((appended & 0x80000000) == 0)
                        {
                          if (a15 && !*(_DWORD *)(a1 + 2068) && v292 >= 2u)
                            v292 = ~v292;
                          appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v300, 7, 1, &v292, &v298);
                          if ((appended & 0x80000000) == 0)
                          {
                            if (*(_DWORD *)(a1 + 1204))
                            {
                              if (*(_DWORD *)__dst == 1836216174 && *(_DWORD *)&__dst[3] == 7102829)
                              {
                                __strcpy_chk();
                                for (i = 0; i != 3; ++i)
                                  __dst[i] = ssft_tolower(__dst[i]);
                              }
                            }
                            v233 = strlen(__dst);
                            DepesLayersForWordAndPOS = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v300, 9, (unsigned __int16)(v233 + 1), __dst, &v298);
                            if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                              goto LABEL_451;
                            if (v250)
                            {
                              v234 = v304;
                              do
                              {
                                v236 = *v234++;
                                v235 = v236;
                                if (*v264 == v236)
                                {
                                  DepesLayersForWordAndPOS = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 120))(a5, a6);
                                  if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                                    goto LABEL_451;
                                }
                                if (!a14 || a14 == 1 && (strstr(__s1, "latin") || !*(_DWORD *)(a1 + 2068)))
                                {
                                  DepesLayersForWordAndPOS = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 192))(a5, a6, v235);
                                  if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
                                    goto LABEL_451;
                                }
                              }
                              while (--v250);
                            }
                            if (HIWORD(v297) != (unsigned __int16)v297
                              || a14 && (a14 != 1 || !strstr(__s1, "latin") && *(_DWORD *)(a1 + 2068)))
                            {
                              goto LABEL_451;
                            }
                            appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 192))(a5, a6, v300);
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
LABEL_450:
        DepesLayersForWordAndPOS = appended;
        goto LABEL_451;
      }
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s L1: %s", v69, v70, v71, (uint64_t)__s);
      v75 = strlen(*(const char **)(a1 + 160));
      appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 120))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, *(_QWORD *)(a1 + 160), v75);
      if ((appended & 0x80000000) != 0)
        goto LABEL_450;
      if (strcmp(__s1, "normal") && strlen(__s1) + v278 + 2 <= 0x7F)
      {
        __strcat_chk();
        __strcat_chk();
      }
      if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s) & 0x80000000) != 0)
      {
        __s[v278] = 0;
        appended = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 104) + 80))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), __s);
        if ((appended & 0x80000000) != 0)
          goto LABEL_450;
      }
      appended = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 104)
                                                                                                + 128))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), 0, &__src, &v293);
      if ((appended & 0x80000000) != 0)
        goto LABEL_450;
      v279 = appended;
      __src[v293] = 0;
      v76 = strlen(__src);
      v77 = strlen(*(const char **)(a1 + 160));
      v78 = count_inserted_oneword_bytes(__src);
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 5, 0, (uint64_t)"%s O1: %s", v79, v80, v81, (uint64_t)__s);
      if (v293 <= 0x7FuLL)
      {
        v82 = *(char **)(a1 + 232);
        v72 = v263;
        goto LABEL_147;
      }
      v82 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 232), v293 + 1);
      v72 = v263;
      if (v82)
      {
        *(_QWORD *)(a1 + 232) = v82;
LABEL_147:
        v88 = (__int16)(v76 - (v78 + v77)) & ~((__int16)(v76 - (v78 + v77)) >> 31);
        strcpy(v82, __src);
        v91 = v293;
        DepesLayersForWordAndPOS = v279;
        goto LABEL_148;
      }
LABEL_396:
      DepesLayersForWordAndPOS = 2310021130;
      goto LABEL_397;
    }
    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, (unsigned __int16)v58, 0, 1, &v299, (char *)&v298 + 2);
    if ((appended & 0x80000000) != 0)
      goto LABEL_450;
    if (!v299)
    {
      if (v57)
      {
        v57 = 0;
        goto LABEL_108;
      }
      appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v300, 1, 1, (char *)&v297 + 2, (char *)&v298 + 2);
      if ((appended & 0x80000000) != 0)
        goto LABEL_450;
      DepesLayersForWordAndPOS = 2310021130;
      v68 = HIWORD(v297) - v50;
      if ((int)v68 >= 1
        && !dynamic_strncat(v270, &(*a3)[v50 + *(__int16 *)(a1 + 224)], v68, v272, *(uint64_t **)(*(_QWORD *)a1 + 8))
        || *(_DWORD *)(a1 + 292) && !dynamic_strcat(v270, "+", (size_t *)v272, *(uint64_t **)(*(_QWORD *)a1 + 8)))
      {
        goto LABEL_451;
      }
      v57 = 0;
      v50 = HIWORD(v297);
LABEL_108:
      DepesLayersForWordAndPOS = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a5, a6, v300, &v300);
      if ((DepesLayersForWordAndPOS & 0x80000000) != 0)
        goto LABEL_451;
      goto LABEL_50;
    }
    if (*(_DWORD *)(a1 + 276) || v299 != 8 && v299 != 4)
      goto LABEL_107;
    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v300, 1, 1, (char *)&v297 + 2, (char *)&v298 + 2);
    if ((appended & 0x80000000) != 0)
      goto LABEL_450;
    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v300, 2, 1, &v297, (char *)&v298 + 2);
    if ((appended & 0x80000000) != 0)
      goto LABEL_450;
    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v300, 7, 1, &v292, (char *)&v298 + 2);
    if ((appended & 0x80000000) != 0)
      goto LABEL_450;
    if (a15 && !*(_DWORD *)(a1 + 2068))
      v292 = ~v292;
    if ((unsigned __int16)v297 != v50)
      break;
    if (!v55 || *(_DWORD *)(a1 + 2192))
      goto LABEL_107;
    if (v292 >= v56)
    {
      if (!a14 || a14 == 1 && (strstr(__s1, "latin") || !*(_DWORD *)(a1 + 2068)))
      {
        appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 192))(a5, a6, (unsigned __int16)v304[v55 - 1]);
        if ((appended & 0x80000000) != 0)
          goto LABEL_450;
      }
      v65 = (v55 - 1);
      v66 = (unsigned __int16)v304[v65];
      v67 = v300;
      if (v301 == v66)
        v301 = v300;
      if (*v264 == v66)
        *v264 = v300;
      v304[v65] = v67;
      if (a15 && !*(_DWORD *)(a1 + 2068))
        v56 = v292;
LABEL_107:
      v57 = 1;
      goto LABEL_108;
    }
    v59 = v300;
    appended = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a5, a6, v300, &v300);
    if ((appended & 0x80000000) != 0)
      goto LABEL_450;
    if (!a14 || a14 == 1 && (strstr(__s1, "latin") || !*(_DWORD *)(a1 + 2068)))
    {
      appended = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 192))(a5, a6, v59);
      if ((appended & 0x80000000) != 0)
        goto LABEL_450;
    }
    if (a15)
    {
      if (!*(_DWORD *)(a1 + 2068))
        v292 = v56;
    }
    v58 = v300;
    v57 = 1;
  }
  DepesLayersForWordAndPOS = 2310021130;
  if ((v55 & 0x80) != 0)
  {
    DepesLayersForWordAndPOS = 2310021632;
    goto LABEL_451;
  }
  v56 = v292;
  v304[v55] = v300;
  v60 = HIWORD(v297) - v50;
  if ((int)v60 < 1
    || dynamic_strncat(v270, &(*a3)[v50 + *(__int16 *)(a1 + 224)], v60, v272, *(uint64_t **)(*(_QWORD *)a1 + 8)))
  {
    v61 = v259 + 300 * v265;
    if (v61 <= *(unsigned __int16 *)v272)
      goto LABEL_86;
    v62 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 160), v259 + 300 * v265);
    if (!v62)
      goto LABEL_397;
    *v270 = (const char *)v62;
    *v272 = v61;
LABEL_86:
    if (v61 > *(unsigned __int16 *)v271)
    {
      v63 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 168), v61);
      if (v63)
      {
        *v258 = v63;
        *v271 = v61;
        goto LABEL_89;
      }
LABEL_397:
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_ONEWORD", 34000, 0, v38, v39, v40, v41, v238);
      goto LABEL_451;
    }
LABEL_89:
    if (v61 > *(unsigned __int16 *)v269)
    {
      v64 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 176), v61);
      if (!v64)
        goto LABEL_397;
      *v257 = v64;
      *v269 = v61;
    }
    if (dynamic_strcat(v270, "◄", (size_t *)v272, *(uint64_t **)(*(_QWORD *)a1 + 8))
      && dynamic_strncat(v270, &(*a3)[HIWORD(v297) + *(__int16 *)(a1 + 224)], (unsigned __int16)v297 - (unint64_t)HIWORD(v297), v272, *(uint64_t **)(*(_QWORD *)a1 + 8))&& dynamic_strcat(v270, "◄", (size_t *)v272, *(uint64_t **)(*(_QWORD *)a1 + 8)))
    {
      ++v55;
      v265 += 2;
      v57 = 1;
      v50 = v297;
      goto LABEL_108;
    }
  }
LABEL_451:
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v282);
  return DepesLayersForWordAndPOS;
}

uint64_t oneword_joinTokens(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned __int16 *a5, int a6)
{
  int v8;
  uint64_t v12;
  uint64_t result;
  unsigned __int16 v14;
  uint64_t v15;
  uint64_t (*v16)(uint64_t, uint64_t);
  uint64_t v18;
  uint64_t v20;
  __int16 v21;
  __int16 v22;
  unsigned __int16 v23;
  int v24;
  int v25;
  int v26;
  int v27;
  unsigned __int16 v28;

  v8 = a4;
  v28 = a4;
  v26 = 0;
  v27 = 0;
  v24 = 0;
  v25 = 0;
  v12 = *a5;
  v21 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, __int16 *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, a4, 1, 1, &v21, (char *)&v26 + 2);
  if ((result & 0x80000000) != 0)
    return result;
  v22 = v21;
  if (v8)
  {
    while (1)
    {
      v14 = v8;
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 136))(a2, a3, (unsigned __int16)v8, &v28);
      if ((result & 0x80000000) != 0)
        return result;
      if (!v28)
        goto LABEL_10;
      result = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a2, a3);
      if ((result & 0x80000000) != 0)
        return result;
      if (v22 == v21)
      {
        LOWORD(v8) = v28;
        if (v28)
          continue;
      }
      goto LABEL_10;
    }
  }
  v14 = 0;
LABEL_10:
  v28 = v14;
  if ((_DWORD)v12 == v14)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56)
                                                                                                  + 168))(a2, a3, v12, 0, 1, &v27, (char *)&v26 + 2);
    if ((result & 0x80000000) == 0 && v27 == 8)
    {
      v27 = 9;
      return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56)
                                                                                                + 160))(a2, a3, v28, 0, 1, &v27, &v26);
    }
    return result;
  }
  LOWORD(v15) = 0;
  v23 = v14;
  while (1)
  {
    v16 = *(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168);
    if (v23 == (_DWORD)v12)
      break;
    result = v16(a2, a3);
    if ((result & 0x80000000) != 0)
      return result;
    if (v27 == 8 || v27 == 4)
    {
      if ((_WORD)v15)
      {
        if ((unsigned __int16)v25 == HIWORD(v24))
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 192))(a2, a3, (unsigned __int16)v15);
          if ((result & 0x80000000) != 0)
            return result;
          v18 = v23;
          if (*(unsigned __int16 *)(a1 + 280) == (unsigned __int16)v15)
            *(_WORD *)(a1 + 280) = v23;
          v27 = 9;
          result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v18, 0, 1, &v27, &v26);
          if ((result & 0x80000000) != 0)
            return result;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v23, 1, 1, (char *)&v25 + 2, &v26);
          if ((result & 0x80000000) != 0)
            return result;
          if (a6)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v23, 3, 1, &byte_1DEBD87CE, &v26);
            if ((result & 0x80000000) != 0)
              return result;
          }
        }
        else
        {
          v27 = 9;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v15, 0, 1, &v27, &v26);
          if ((result & 0x80000000) != 0)
            return result;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v23, 0, 1, &v27, &v26);
          if ((result & 0x80000000) != 0)
            return result;
          HIWORD(v25) = HIWORD(v24);
        }
        LOWORD(v25) = v24;
        LOWORD(v15) = v23;
      }
      else
      {
        v15 = v23;
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v23, 1, 1, (char *)&v25 + 2, (char *)&v26 + 2);
        if ((result & 0x80000000) != 0)
          return result;
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v15, 2, 1, &v25, (char *)&v26 + 2);
        if ((result & 0x80000000) != 0)
          return result;
      }
    }
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, v23, &v23);
    if ((result & 0x80000000) == 0)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v23, 1, 1, (char *)&v24 + 2, (char *)&v26 + 2);
      if ((result & 0x80000000) == 0)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v23, 2, 1, &v24, (char *)&v26 + 2);
        if ((result & 0x80000000) == 0)
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v23, 0, 1, &v27, (char *)&v26 + 2);
          if ((result & 0x80000000) == 0)
            continue;
        }
      }
    }
    return result;
  }
  result = ((uint64_t (*)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, int *, char *))v16)(a2, a3, v12, 0, 1, &v27, (char *)&v26 + 2);
  if ((result & 0x80000000) == 0)
  {
    if (v27 != 8 && v27 != 4)
    {
      if (!(_WORD)v15)
        goto LABEL_67;
      v27 = 9;
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56)
                                                                                                  + 160))(a2, a3, (unsigned __int16)v15, 0, 1, &v27, &v26);
      goto LABEL_66;
    }
    if ((_WORD)v15)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v23, 1, 1, (char *)&v24 + 2, (char *)&v26 + 2);
      if ((result & 0x80000000) != 0)
        return result;
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v23, 2, 1, &v24, (char *)&v26 + 2);
      if ((result & 0x80000000) != 0)
        return result;
      if ((unsigned __int16)v25 == HIWORD(v24))
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56) + 192))(a2, a3, (unsigned __int16)v15);
        if ((result & 0x80000000) != 0)
          return result;
        v20 = v23;
        if (*(unsigned __int16 *)(a1 + 280) == (unsigned __int16)v15)
          *(_WORD *)(a1 + 280) = v23;
        v27 = 9;
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v20, 0, 1, &v27, &v26);
        if ((result & 0x80000000) != 0)
          return result;
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v23, 1, 1, (char *)&v25 + 2, &v26);
        if ((result & 0x80000000) != 0)
          return result;
        if (!a6)
        {
LABEL_67:
          *a5 = v23;
          return result;
        }
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v23, 3, 1, &byte_1DEBD87CE, &v26);
LABEL_66:
        if ((result & 0x80000000) != 0)
          return result;
        goto LABEL_67;
      }
      v27 = 9;
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56)
                                                                                                  + 160))(a2, a3, (unsigned __int16)v15, 0, 1, &v27, &v26);
      if ((result & 0x80000000) != 0)
        return result;
    }
    else
    {
      v27 = 9;
    }
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56)
                                                                                                + 160))(a2, a3, v23, 0, 1, &v27, &v26);
    goto LABEL_66;
  }
  return result;
}

uint64_t compare_0(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return *a2 - *a1;
}

uint64_t count_inserted_oneword_bytes(const char *a1)
{
  unsigned __int16 v2;
  unsigned __int16 v3;
  int v4;
  int v5;

  if (a1 && (v2 = strlen(a1)) != 0)
  {
    v3 = v2;
    v4 = 0;
    v5 = 0;
    do
    {
      if (!strncmp(&a1[(unsigned __int16)v5], "↕", 3uLL))
        v4 += 3;
      if (!strncmp(&a1[(unsigned __int16)v5], "§", 2uLL))
        v4 += 2;
      v5 += utf8_determineUTF8CharLength(a1[(unsigned __int16)v5]);
    }
    while ((unsigned __int16)v5 < v3);
  }
  else
  {
    LOWORD(v4) = 0;
  }
  return (unsigned __int16)v4;
}

uint64_t OUTLINED_FUNCTION_0_1(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unsigned int a9)
{
  return log_OutPublic(a1, a2, 34000, 0, a5, a6, a7, a8, a9);
}

uint64_t printNode(int a1, const char **a2, char *a3, _WORD *a4, _QWORD *a5, uint64_t a6, unsigned __int16 *a7, int a8)
{
  uint64_t v14;
  int v15;
  uint64_t v16;
  char *v17;
  uint64_t v18;
  unint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  const char *v24;

  if (!a1)
    return 0;
  sprintf(a3, "[%3d] ", a8);
  v14 = add2Str(*(_QWORD *)a6, a2, a4, a3);
  if ((v14 & 0x80000000) != 0)
    return v14;
  v15 = *((_DWORD *)a7 + 1);
  if (v15 == 2)
  {
    v16 = *(_QWORD *)a6;
    v17 = "(T) ";
  }
  else
  {
    if (v15 != 1)
      goto LABEL_9;
    v16 = *(_QWORD *)a6;
    v17 = "(S) ";
  }
  v14 = add2Str(v16, a2, a4, v17);
  if ((v14 & 0x80000000) != 0)
    return v14;
LABEL_9:
  v14 = add2Str(*(_QWORD *)a6, a2, a4, a3);
  if ((v14 & 0x80000000) != 0)
    return v14;
  sprintf(a3, "NODE <%3d,%3d > ", *a7, a7[1]);
  v18 = add2Str(*(_QWORD *)a6, a2, a4, a3);
  if ((v18 & 0x80000000) == 0)
  {
    v19 = *a7;
    if (v19 < a7[1])
    {
      v20 = 224 * v19;
      do
      {
        v14 = add2Str(*(_QWORD *)a6, a2, a4, *(char **)(*(_QWORD *)(*a5 + v20 + 16) + 8 * *(unsigned __int16 *)(a6 + 16)));
        if ((v14 & 0x80000000) != 0)
          return v14;
        if (*(unsigned __int8 *)(*a5 + v20 + 72) != 255)
        {
          sprintf(a3, "_%d", *(unsigned __int8 *)(*a5 + v20 + 72));
          v14 = add2Str(*(_QWORD *)a6, a2, a4, a3);
          if ((v14 & 0x80000000) != 0)
            return v14;
        }
        v18 = add2Str(*(_QWORD *)a6, a2, a4, " ");
        if ((v18 & 0x80000000) != 0)
          return v18;
        ++v19;
        v20 += 224;
      }
      while (v19 < a7[1]);
    }
    if (!FLOATSUR_GT_INT(a7 + 4, 0, 0)
      || (sprintf(a3, "phraseWeight=%d.%d ", a7[4], a7[5]),
          v18 = add2Str(*(_QWORD *)a6, a2, a4, a3),
          (v18 & 0x80000000) == 0))
    {
      if (!FLOATSUR_GT_INT(a7 + 6, 0, 0)
        || (sprintf(a3, "bndWeight=%d.%d ", a7[6], a7[7]),
            v18 = add2Str(*(_QWORD *)a6, a2, a4, a3),
            (v18 & 0x80000000) == 0))
      {
        if (!FLOATSUR_GT_INT(a7 + 8, 0, 0)
          || (sprintf(a3, "bndValue=%d.%d ", a7[8], a7[9]),
              v18 = add2Str(*(_QWORD *)a6, a2, a4, a3),
              (v18 & 0x80000000) == 0))
        {
          v24 = "bndType=U ";
          switch(*((_DWORD *)a7 + 5))
          {
            case 0:
              goto LABEL_31;
            case 1:
              goto LABEL_29;
            case 3:
              v24 = "bndType=W ";
              goto LABEL_29;
            case 4:
              v24 = "bndType=S ";
LABEL_29:
              *(_QWORD *)a3 = *(_QWORD *)v24;
              *(_DWORD *)(a3 + 7) = *(_DWORD *)(v24 + 7);
              break;
            default:
              break;
          }
          v18 = add2Str(*(_QWORD *)a6, a2, a4, a3);
          if ((v18 & 0x80000000) == 0)
          {
LABEL_31:
            if (*((_DWORD *)a7 + 6) != 1
              || (sprintf(a3, "bProcessed=%d ", 1), v18 = add2Str(*(_QWORD *)a6, a2, a4, a3), (v18 & 0x80000000) == 0))
            {
              if (*((_DWORD *)a7 + 7) != 1
                || (sprintf(a3, "bBndBefore=%d ", 1), v18 = add2Str(*(_QWORD *)a6, a2, a4, a3), (v18 & 0x80000000) == 0))
              {
                log_OutText(*(_QWORD *)(*(_QWORD *)a6 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s", v21, v22, v23, (uint64_t)*a2);
                **a2 = 0;
              }
            }
          }
        }
      }
    }
  }
  return v18;
}

uint64_t printLevel(uint64_t result, const char **a2, char *a3, _WORD *a4, _QWORD *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  int v14;
  uint64_t v15;
  unint64_t v16;

  if ((_DWORD)result)
  {
    v14 = result;
    log_OutText(*(_QWORD *)(*(_QWORD *)a6 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Level dump : %s", a6, a7, a8, a8);
    if (*(_WORD *)(a7 + 8))
    {
      v15 = 0;
      v16 = 0;
      do
      {
        result = printNode(v14, a2, a3, a4, a5, a6, (unsigned __int16 *)(*(_QWORD *)a7 + v15), (unsigned __int16)v16);
        if ((result & 0x80000000) != 0)
          break;
        ++v16;
        v15 += 32;
      }
      while (v16 < *(unsigned __int16 *)(a7 + 8));
    }
    else
    {
      return 0;
    }
  }
  return result;
}

uint64_t printAsString(int a1, const char **a2, char *a3, _WORD *a4, _QWORD *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unsigned __int16 *v17;
  unint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int v22;
  uint64_t v23;
  const char **v24;
  _WORD *v25;
  char *v26;

  if (!a1)
    return 0;
  **a2 = 0;
  if (*(_WORD *)(a7 + 8))
  {
    v14 = 0;
    v15 = 0;
    while (1)
    {
      v16 = *(_QWORD *)a7;
      v17 = (unsigned __int16 *)(*(_QWORD *)a7 + 32 * v14);
      v18 = *v17;
      if (v18 < v17[1])
      {
        v19 = 224 * v18;
        do
        {
          v20 = *a5 + v19;
          if (!*(_DWORD *)(v20 + 220))
          {
            v21 = add2Str(*(_QWORD *)a6, a2, a4, *(char **)(*(_QWORD *)(v20 + 16) + 8 * *(unsigned __int16 *)(a6 + 16)));
            if ((v21 & 0x80000000) != 0)
              return v21;
            if (*(unsigned __int8 *)(*a5 + v19 + 72) != 255)
            {
              sprintf(a3, "_%d", *(unsigned __int8 *)(*a5 + v19 + 72));
              v21 = add2Str(*(_QWORD *)a6, a2, a4, a3);
              if ((v21 & 0x80000000) != 0)
                return v21;
            }
            v15 = add2Str(*(_QWORD *)a6, a2, a4, " ");
            if ((v15 & 0x80000000) != 0)
              return v15;
            v16 = *(_QWORD *)a7;
          }
          ++v18;
          v19 += 224;
        }
        while (v18 < *(unsigned __int16 *)(v16 + 32 * v14 + 2));
      }
      v22 = *(_DWORD *)(v16 + 32 * v14 + 20);
      if (v22 == 4)
        break;
      if (v22 == 3)
      {
        v23 = *(_QWORD *)a6;
        v24 = a2;
        v25 = a4;
        v26 = "| ";
        goto LABEL_17;
      }
LABEL_18:
      if (++v14 >= (unint64_t)*(unsigned __int16 *)(a7 + 8))
        goto LABEL_22;
    }
    v23 = *(_QWORD *)a6;
    v24 = a2;
    v25 = a4;
    v26 = "|| ";
LABEL_17:
    v15 = add2Str(v23, v24, v25, v26);
    if ((v15 & 0x80000000) != 0)
      return v15;
    goto LABEL_18;
  }
  v15 = 0;
LABEL_22:
  log_OutText(*(_QWORD *)(*(_QWORD *)a6 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s%s", a6, a7, a8, a8);
  **a2 = 0;
  return v15;
}

unsigned __int16 *removeNode(unsigned __int16 *result, unsigned int a2)
{
  unsigned __int16 *v2;
  uint64_t v3;
  int v4;

  v2 = result;
  v3 = a2 + 1;
  v4 = result[4];
  if (v4 != (_DWORD)v3)
  {
    result = (unsigned __int16 *)memmove((void *)(*(_QWORD *)result + 32 * a2), (const void *)(*(_QWORD *)result + 32 * v3), 32 * (v4 - (int)v3));
    LOWORD(v4) = v2[4];
  }
  v2[4] = v4 - 1;
  return result;
}

uint64_t addNode(uint64_t a1, uint64_t a2, __int16 a3, __int16 a4, int a5, unsigned int a6)
{
  uint64_t NodeMem;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;

  NodeMem = getNodeMem(a1, a6, a2, 1u);
  if ((NodeMem & 0x80000000) == 0)
  {
    v11 = *(_QWORD *)a2 + 32 * *(unsigned __int16 *)(a2 + 8);
    *(_WORD *)v11 = a3;
    *(_WORD *)(v11 + 2) = a4;
    *(_DWORD *)(v11 + 4) = a5;
    FLOATSUR_SET_INT((_WORD *)(v11 + 8), 0, 0);
    FLOATSUR_SET_INT((_WORD *)(*(_QWORD *)a2 + 32 * *(unsigned __int16 *)(a2 + 8) + 12), 0, 0);
    FLOATSUR_SET_INT((_WORD *)(*(_QWORD *)a2 + 32 * *(unsigned __int16 *)(a2 + 8) + 16), 0, 0);
    v12 = *(unsigned __int16 *)(a2 + 8);
    v13 = *(_QWORD *)a2 + 32 * v12;
    *(_QWORD *)(v13 + 24) = 0;
    *(_DWORD *)(v13 + 20) = 0;
    *(_WORD *)(a2 + 8) = v12 + 1;
  }
  return NodeMem;
}

uint64_t getNodeMem(uint64_t a1, unsigned int a2, uint64_t a3, unsigned int a4)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  __int16 v13;
  __int16 v14;
  uint64_t v15;
  unsigned int v17;

  if (!*(_QWORD *)a3)
  {
    if (a4 <= a2)
      v13 = 0;
    else
      v13 = a4;
    v14 = v13 + a2;
    v15 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (32 * (unsigned __int16)(v13 + a2)) | 1);
    *(_QWORD *)a3 = v15;
    if (v15)
    {
      v12 = 0;
      *(_WORD *)(a3 + 10) = v14;
      return v12;
    }
LABEL_11:
    v12 = 2315264010;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v8, v9, v10, v11, v17);
    return v12;
  }
  v6 = *(unsigned __int16 *)(a3 + 10);
  if (*(unsigned __int16 *)(a3 + 8) + a4 <= v6)
    return 0;
  v7 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)a3, 32 * v6 + 321);
  if (!v7)
    goto LABEL_11;
  v12 = 0;
  *(_QWORD *)a3 = v7;
  *(_WORD *)(a3 + 10) += 10;
  return v12;
}

__n128 addNewNode(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4)
{
  __n128 result;
  _OWORD *v7;
  __int128 v8;

  if ((getNodeMem(a1, a4, a2, 1u) & 0x80000000) == 0)
  {
    v7 = (_OWORD *)(*(_QWORD *)a2 + 32 * *(unsigned __int16 *)(a2 + 8));
    result = *(__n128 *)a3;
    v8 = *(_OWORD *)(a3 + 16);
    *v7 = *(_OWORD *)a3;
    v7[1] = v8;
    ++*(_WORD *)(a2 + 8);
  }
  return result;
}

uint64_t addLevel(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4)
{
  uint64_t result;
  int v7;
  uint64_t v8;
  unint64_t v9;
  _OWORD *v10;
  _OWORD *v11;
  __int128 v12;
  unint64_t v13;

  result = getNodeMem(a1, a4, a2, *(unsigned __int16 *)(a3 + 8));
  if ((result & 0x80000000) == 0)
  {
    v7 = *(unsigned __int16 *)(a2 + 8);
    if (*(_WORD *)(a3 + 8))
    {
      v8 = 0;
      v9 = 0;
      do
      {
        v10 = (_OWORD *)(*(_QWORD *)a2 + 32 * (unsigned __int16)v7);
        v11 = (_OWORD *)(*(_QWORD *)a3 + v8);
        v12 = v11[1];
        *v10 = *v11;
        v10[1] = v12;
        ++v9;
        ++v7;
        v13 = *(unsigned __int16 *)(a3 + 8);
        v8 += 32;
      }
      while (v9 < v13);
      LOWORD(v7) = *(_WORD *)(a2 + 8);
    }
    else
    {
      LOWORD(v13) = 0;
    }
    *(_WORD *)(a2 + 8) = v7 + v13;
  }
  return result;
}

uint64_t createLevel0ProsodicStructure(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  _QWORD *v12;
  unsigned int v13;
  uint64_t v14;
  unsigned __int16 v15;
  unsigned __int16 *v16;
  unsigned __int16 *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t result;
  unsigned __int16 *v21;
  uint64_t v22;
  uint64_t v23;
  __int16 v24;
  uint64_t *v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;

  v28 = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"DO createLevel0ProsodicStructure()", a6, a7, a8, 0);
  v27 = 0;
  v12 = a1 + 336;
  LOWORD(v13) = a1[340];
  if ((_WORD)v13)
  {
    v14 = 0;
    v15 = 0;
    v16 = a1 + 15;
    v17 = a1 + 16;
    do
    {
      v18 = v15;
      v19 = *(_QWORD *)(*v12 + 224 * v15 + 56);
      if (v19)
      {
        if (*(_DWORD *)(v19 + 32 * *v16) == 1)
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"get phrasing for token (%d,%d)", v9, v10, v11, v14);
          result = getPhrasingForToken((uint64_t *)a1, (uint64_t)&v27, v15);
          if ((result & 0x80000000) != 0)
            return result;
          result = addLevel(*(_QWORD *)a1, (uint64_t)(a1 + 360), (uint64_t)&v27, (unsigned __int16)a1[340]);
          if ((result & 0x80000000) != 0)
            return result;
          v21 = a1 + 15;
          if (v27)
          {
            heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v27);
            v27 = 0;
            LODWORD(v28) = 0;
            v21 = a1 + 15;
          }
          goto LABEL_11;
        }
        v22 = *v17;
        if (*(_DWORD *)(v19 + 32 * v22) == 1)
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"add syntactic node (%d,%d)", v9, v10, v11, *(unsigned __int16 *)(v19 + 32 * v22 + 8));
          v23 = *(_QWORD *)(*((_QWORD *)a1 + 84) + 224 * v15 + 56) + 32 * (unsigned __int16)a1[16];
          result = addNode(*(_QWORD *)a1, (uint64_t)(a1 + 360), *(_WORD *)(v23 + 8), *(_WORD *)(v23 + 10) + 1, 1, (unsigned __int16)a1[340]);
          v21 = a1 + 16;
          if ((result & 0x80000000) != 0)
            return result;
LABEL_11:
          v15 = *(_WORD *)(*(_QWORD *)(*v12 + 224 * v15 + 56) + 32 * *v21 + 10) + 1;
          goto LABEL_21;
        }
      }
      v24 = v15;
      if (v15 < (unsigned __int16)v13)
      {
        v25 = (uint64_t *)(*v12 + 224 * v15 + 56);
        while (1)
        {
          v26 = *v25;
          if (*v25)
          {
            if (*(_DWORD *)(v26 + 32 * *v16) == 1 || *(_DWORD *)(v26 + 32 * *v17) == 1)
              break;
          }
          ++v18;
          v25 += 28;
          if ((unsigned __int16)v13 == v18)
          {
            v15 = v13;
            goto LABEL_20;
          }
        }
        v15 = v18;
      }
LABEL_20:
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"handle in between node (%d,%d)", v9, v10, v11, v14);
      result = addNode(*(_QWORD *)a1, (uint64_t)(a1 + 360), v24, v15, 1, (unsigned __int16)a1[340]);
      if ((result & 0x80000000) != 0)
        return result;
LABEL_21:
      v14 = v15;
      v13 = (unsigned __int16)a1[340];
    }
    while (v15 < v13);
  }
  return printLevel(*((unsigned int *)a1 + 277), (const char **)a1 + 136, *((char **)a1 + 137), a1 + 552, (_QWORD *)a1 + 84, (uint64_t)(a1 + 4), (uint64_t)(a1 + 360), (uint64_t)"LEVEL0");
}

uint64_t checkStructure(uint64_t a1, unsigned __int16 **a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unint64_t v13;
  uint64_t v14;
  unsigned __int16 *i;
  uint64_t v16;
  uint64_t v17;

  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"DO checkStructure()", a6, a7, a8, 0);
  v13 = *((unsigned __int16 *)a2 + 4);
  if (!*((_WORD *)a2 + 4))
    return 0;
  v14 = 0;
  for (i = *a2; ; i += 16)
  {
    v16 = v14 + 1;
    if (v14 + 1 < v13 && i[1] != i[16])
      break;
    if (*((_DWORD *)i + 1) == 1)
    {
      v17 = *(_QWORD *)(*(_QWORD *)(a1 + 672) + 224 * *i + 56);
      if (!v17 || !*(_DWORD *)(v17 + 32 * *(unsigned __int16 *)(a1 + 32)))
      {
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"WARNING : wordindex=%d starts node %d but syntactic phrase doesnt start here", v10, v11, v12, *i);
        return 0;
      }
    }
    ++v14;
    if (v13 == v16)
      return 0;
  }
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nodeindex=%d and %d do not follow in sequence", v10, v11, v12, v14);
  return 2315264000;
}

void createLevel1ProsodicStructure(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  const char *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  _DWORD *v20;
  int v21;
  _WORD *v22;
  int v23;
  _OWORD *v24;
  __int128 v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  int v31;
  int v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  int v36;
  __int16 v37;
  unsigned __int16 v38;
  const char **v39;
  uint64_t v40;
  _QWORD v41[2];
  _OWORD v42[2];

  memset(v42, 0, sizeof(v42));
  memset(v41, 0, 12);
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"DO createLevel1ProsodicStructure()", a6, a7, a8, 0);
  if (*(_WORD *)(a1 + 728))
  {
    v12 = 0;
    v13 = 0;
    v14 = 0;
    v38 = 0;
    v39 = (const char **)(a1 + 1088);
    v15 = a1 + 736;
    v16 = "FE_PHRASING";
    while (1)
    {
      v17 = v14;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)v16, 5, 0, (uint64_t)"processing node %d", v9, v10, v11, v13);
      if ((printNode(*(_DWORD *)(a1 + 1108), v39, *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, (unsigned __int16 *)(*(_QWORD *)(a1 + 720) + 32 * v12), (unsigned __int16)v12) & 0x80000000) != 0)break;
      memset(v42, 0, sizeof(v42));
      v14 = v17;
      LOWORD(v42[0]) = v17;
      v18 = *(_QWORD *)(a1 + 720);
      v19 = v18 + 32 * v12;
      v21 = *(_DWORD *)(v19 + 4);
      v20 = (_DWORD *)(v19 + 4);
      WORD1(v42[0]) = *((_WORD *)v20 - 1);
      DWORD1(v42[0]) = v21;
      DWORD1(v42[1]) = 1;
      LODWORD(v13) = v13 + 1;
      if ((_DWORD)v13 != *(unsigned __int16 *)(a1 + 728))
      {
        if (*v20 == 2)
        {
          v22 = (_WORD *)(v18 + 32 * v12);
          if ((_DWORD)v17 != (unsigned __int16)*v22)
          {
            memset(v42, 0, sizeof(v42));
            LOWORD(v42[0]) = v17;
            WORD1(v42[0]) = *v22;
            DWORD1(v42[0]) = 1;
            DWORD1(v42[1]) = 1;
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)v16, 5, 0, (uint64_t)"  adding (S) node before this token node", v9, v10, v11, 0);
            if ((printNode(*(_DWORD *)(a1 + 1108), v39, *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, (unsigned __int16 *)v42, 0) & 0x80000000) != 0)return;
            addNewNode(*(_QWORD *)a1, v15, (uint64_t)v42, *(unsigned __int16 *)(a1 + 728));
            if (v23 < 0)
              return;
            v18 = *(_QWORD *)(a1 + 720);
          }
          v24 = (_OWORD *)(v18 + 32 * v12);
          v25 = v24[1];
          v42[0] = *v24;
          v42[1] = v25;
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)v16, 5, 0, (uint64_t)"  token node - copy verbatim", v9, v10, v11, 0);
LABEL_20:
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)v16, 5, 0, (uint64_t)"  adding new node", v26, v27, v28, 0);
          if ((printNode(*(_DWORD *)(a1 + 1108), v39, *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, (unsigned __int16 *)v42, 0) & 0x80000000) != 0)return;
          addNewNode(*(_QWORD *)a1, v15, (uint64_t)v42, *(unsigned __int16 *)(a1 + 728));
          if (v31 < 0)
            return;
          v14 = WORD1(v42[0]);
          v38 = v13;
        }
        else
        {
          v37 = v13;
          v40 = 0;
          v13 = (uint64_t)v16;
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)v16, 5, 0, (uint64_t)"  apply general rules on WordIdx %d", v9, v10, v11, *(unsigned __int16 *)(v18 + 32 * v12));
          v29 = 0;
          v30 = 0;
          WORD2(v41[0]) = *(_WORD *)(*(_QWORD *)(a1 + 720) + 32 * v12);
          LODWORD(v41[0]) = 4;
          *(_DWORD *)((char *)v41 + 6) = 0;
          while (!HIDWORD(v40))
          {
            if (v30 >= *(unsigned __int16 *)(a1 + 168))
              goto LABEL_23;
            if ((matchMAPRULE2NUM_TRule(*(unsigned int *)(a1 + 1108), v39, (_WORD *)(a1 + 1104), *(char **)(a1 + 1096), a1 + 8, a1 + 672, (_DWORD *)(*(_QWORD *)(a1 + 160) + v29), (uint64_t)v41, (int *)&v40 + 1, &v40) & 0x80000000) != 0)return;
            if (HIDWORD(v40) == 1)
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), v13, 5, 0, (uint64_t)"  general rule %d FIRED -> set bndWeight = %d.%d", v26, v27, v28, v30);
            ++v30;
            v29 += 32;
          }
          if (HIDWORD(v40) == 1)
          {
            HIDWORD(v42[0]) = v40;
            v15 = a1 + 736;
            v16 = (const char *)v13;
            LOWORD(v13) = v37;
            goto LABEL_20;
          }
LABEL_23:
          v16 = (const char *)v13;
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), v13, 5, 0, (uint64_t)"  no rules fire", v26, v27, v28, 0);
          v15 = a1 + 736;
          v14 = v17;
        }
      }
      v13 = ++v12;
      if (v12 >= *(unsigned __int16 *)(a1 + 728))
        goto LABEL_27;
    }
  }
  else
  {
    LODWORD(v14) = 0;
    v38 = 0;
LABEL_27:
    v32 = *(unsigned __int16 *)(a1 + 680);
    if ((_DWORD)v14 == v32)
      goto LABEL_30;
    memset((char *)v42 + 4, 0, 28);
    LOWORD(v42[0]) = v14;
    WORD1(v42[0]) = v32;
    *(_QWORD *)((char *)v42 + 4) = *(_QWORD *)(*(_QWORD *)(a1 + 720) + 32 * v38 + 4);
    FLOATSUR_SET_INT((_WORD *)((unint64_t)v42 | 0xC), 50, 0);
    DWORD1(v42[1]) = 1;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  adding end node", v33, v34, v35, 0);
    if ((printNode(*(_DWORD *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, (unsigned __int16 *)v42, 0) & 0x80000000) == 0)
    {
      addNewNode(*(_QWORD *)a1, a1 + 736, (uint64_t)v42, *(unsigned __int16 *)(a1 + 728));
      if ((v36 & 0x80000000) == 0)
LABEL_30:
        printLevel(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, a1 + 736, (uint64_t)"LEVEL1");
    }
  }
}

uint64_t setLevel1StructureWeights(uint64_t a1)
{
  unsigned __int16 *v2;
  uint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  _QWORD *v9;
  uint64_t v10;
  const char **v11;
  _WORD *v12;
  uint64_t result;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unsigned __int16 *v18;
  unint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unint64_t v24;
  int v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  int v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  unsigned int v44;
  unsigned int v45;
  unsigned __int16 *v46;
  int v47;
  uint64_t v48;
  unint64_t v49;
  unint64_t v50;
  uint64_t v51;
  int v52;
  _QWORD *v53;
  unint64_t v54;
  uint64_t v55;
  uint64_t v56;
  unsigned __int16 *v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  unsigned __int16 *v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  unint64_t v68;
  unsigned __int16 *v69;
  unsigned __int16 *v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  unsigned int v74;
  _QWORD *v75;
  __int16 v76;
  _BOOL4 v77;
  _WORD *v78;
  const char **v79;
  int v80;
  int v81;
  __int128 v82;
  uint64_t v83;

  v83 = 0;
  v2 = (unsigned __int16 *)(a1 + 8);
  v82 = 0uLL;
  v77 = isStrSetting(a1 + 8, "PHRASE_WEIGHT_ALG", "AVERAGE");
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"DO setLevel1StructureWeights(bApplyWeighting=%d)", v3, v4, v5, 0);
  v9 = (_QWORD *)(a1 + 736);
  if (!*(_WORD *)(a1 + 744))
    return printLevel(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), (uint64_t)v2, (uint64_t)v9, (uint64_t)"AFTER SET PHRASEWEIGHT");
  v10 = 0;
  v11 = (const char **)(a1 + 1088);
  v12 = (_WORD *)(a1 + 1104);
  while (1)
  {
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"processing node %d", v6, v7, v8, v10);
    result = printNode(*(_DWORD *)(a1 + 1108), v11, *(char **)(a1 + 1096), v12, (_QWORD *)(a1 + 672), (uint64_t)v2, (unsigned __int16 *)(*(_QWORD *)(a1 + 736) + 32 * v10), (unsigned __int16)v10);
    if ((result & 0x80000000) != 0)
      return result;
    if (*(_DWORD *)(*v9 + 32 * v10 + 4) == 2)
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"skip token node", v6, v7, v8, 0);
    }
    else
    {
      v14 = *(_QWORD *)(*(_QWORD *)(a1 + 672) + 224 * *(unsigned __int16 *)(*v9 + 32 * v10) + 56);
      if (v14 && *(_DWORD *)(v14 + 32 * *(unsigned __int16 *)(a1 + 32)) == 1)
      {
        v78 = v12;
        v79 = v11;
        v81 = 0;
        v80 = 0;
        FLOATSUR_SET_INT(&v81, 0, 0);
        FLOATSUR_SET_INT(&v80, 0, 0);
        v18 = (unsigned __int16 *)(*v9 + 32 * v10);
        v19 = *v18;
        if (v19 < v18[1])
        {
          do
          {
            FLOATSUR_PLUS_INT(&v80, (unsigned __int16 *)&v80, *(_WORD *)(*(_QWORD *)(a1 + 672) + 224 * v19 + 24), 0);
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  word[%d] : nodeSyllableWeight=%d.%d (word[%d].nsyll=%d)", v20, v21, v22, v19);
            v23 = 0;
            v24 = 0;
            HIDWORD(v83) = 0;
            do
            {
              if (v24 >= *(unsigned __int16 *)(a1 + 216))
                break;
              WORD2(v82) = v19;
              LODWORD(v82) = 1;
              *(_DWORD *)((char *)&v82 + 6) = 0;
              result = matchMMAPREGEX2NUM_TRule(v2, a1 + 672, (unsigned __int16 *)(*(_QWORD *)(a1 + 208) + v23), (unsigned __int16 *)&v82, (int *)&v83 + 1, (unsigned __int16 *)&v81, v16, v17);
              if ((result & 0x80000000) != 0)
                return result;
              v25 = HIDWORD(v83);
              if (HIDWORD(v83) == 1)
              {
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  word[%d] : pos weight rule %d FIRED nodePOSWeight=%d.%d", v15, v16, v17, v19);
                v25 = HIDWORD(v83);
              }
              ++v24;
              v23 += 10;
            }
            while (!v25);
            ++v19;
          }
          while (v19 < *(unsigned __int16 *)(*v9 + 32 * v10 + 2));
        }
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  unweighted nodePOSWeight = %d.%d", v15, v16, v17, (unsigned __int16)v81);
        if (v77)
          FLOATSUR_TIMES(&v81, (unsigned __int16 *)&v81, (unsigned __int16 *)(a1 + 200));
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  weighted nodePOSWeight = %d.%d", v26, v27, v28, (unsigned __int16)v81);
        v32 = 0;
        v33 = 0;
        HIDWORD(v83) = 0;
        do
        {
          if (v33 >= *(unsigned __int16 *)(a1 + 240))
            break;
          matchMAPNUMNUM_TRule(*(_QWORD *)(a1 + 232) + v32, (unsigned __int16 *)&v80, (_DWORD *)&v83 + 1);
          v34 = HIDWORD(v83);
          if (HIDWORD(v83) == 1)
          {
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  syll weight rule %d FIRED nodeSyllableWeight=%d.%d", v29, v30, v31, v33);
            v34 = HIDWORD(v83);
          }
          ++v33;
          v32 += 12;
        }
        while (!v34);
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  unweighted nodeSyllableWeight = %d.%d", v29, v30, v31, (unsigned __int16)v80);
        if (v77)
          FLOATSUR_TIMES(&v80, (unsigned __int16 *)&v80, (unsigned __int16 *)(a1 + 224));
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  weighted nodeSyllableWeight = %d.%d", v35, v36, v37, (unsigned __int16)v80);
        if (*(_WORD *)(a1 + 256))
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  apply %d gen weight rules", v38, v39, v40, *(unsigned __int16 *)(a1 + 256));
          v41 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, (4 * *(unsigned __int16 *)(a1 + 256)) | 1);
          if (!v41)
          {
            log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v42, v38, v39, v40, v74);
            return 2315264010;
          }
          v43 = *(_QWORD *)(a1 + 736);
          v46 = (unsigned __int16 *)(v43 + 32 * v10);
          v44 = *v46;
          v45 = v46[1];
          LODWORD(v46) = *(unsigned __int16 *)(a1 + 256);
          if (v44 < v45)
          {
            v47 = *(unsigned __int16 *)(a1 + 256);
            v75 = v9;
            do
            {
              if (v47)
              {
                v48 = v41;
                v49 = 0;
                v76 = v44;
                while (2)
                {
                  HIDWORD(v83) = 0;
                  WORD2(v82) = v44;
                  LODWORD(v82) = 4;
                  *(_DWORD *)((char *)&v82 + 6) = 0;
                  v50 = *(unsigned __int16 *)(*(_QWORD *)(a1 + 248) + 12 * v49 + 8);
                  v51 = 32 * v50;
                  do
                  {
                    if (v50 >= *(unsigned __int16 *)(*(_QWORD *)(a1 + 248) + 12 * v49 + 10))
                      break;
                    if ((matchMAPRULE2NUM_TRule(*(unsigned int *)(a1 + 1108), v79, v78, *(char **)(a1 + 1096), (uint64_t)v2, a1 + 672, (_DWORD *)(*(_QWORD *)(a1 + 264) + v51), (uint64_t)&v82, (int *)&v83 + 1, &v83) & 0x80000000) != 0)
                    {
                      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v48);
                      v9 = v75;
                      return printLevel(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), (uint64_t)v2, (uint64_t)v9, (uint64_t)"AFTER SET PHRASEWEIGHT");
                    }
                    v52 = HIDWORD(v83);
                    if (HIDWORD(v83) == 1)
                    {
                      *(_DWORD *)(v48 + 4 * v49) = v83;
                      v52 = HIDWORD(v83);
                      if (HIDWORD(v83) == 1)
                      {
                        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  general weight rule %d FIRED genRuleValues[%d]=%d.%d", v38, v39, v40, v50);
                        v52 = HIDWORD(v83);
                      }
                    }
                    ++v50;
                    v51 += 32;
                  }
                  while (!v52);
                  v46 = (unsigned __int16 *)*(unsigned __int16 *)(a1 + 256);
                  ++v49;
                  LOWORD(v44) = v76;
                  if (v49 < (unint64_t)v46)
                    continue;
                  break;
                }
                v9 = v75;
                v43 = *v75;
                v47 = *(unsigned __int16 *)(a1 + 256);
                v41 = v48;
              }
              LOWORD(v44) = *(_WORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 672) + 224 * (unsigned __int16)v44 + 56)
                                     + 32 * *(unsigned __int16 *)(a1 + 32)
                                     + 10)
                          + 1;
            }
            while (*(unsigned __int16 *)(v43 + 32 * v10 + 2) > (unsigned __int16)v44);
          }
          v53 = v9;
          if ((_DWORD)v46)
          {
            v54 = 0;
            v55 = 4;
            v56 = v41;
            v57 = (unsigned __int16 *)v41;
            do
            {
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  unweighted genRuleValues[%d]  = %d.%d", v38, v39, v40, v54);
              if (v77)
                FLOATSUR_TIMES(v57, v57, (unsigned __int16 *)(*(_QWORD *)(a1 + 248) + v55));
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  weighted genRuleValues[%d]  = %d.%d", v58, v59, v60, v54++);
              v57 += 2;
              v55 += 12;
            }
            while (v54 < *(unsigned __int16 *)(a1 + 256));
          }
          else
          {
            v56 = v41;
          }
        }
        else
        {
          v53 = v9;
          v56 = 0;
        }
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  compute final phraseweight = %d.%d", v38, v39, v40, *(unsigned __int16 *)(*(_QWORD *)(a1 + 736) + 32 * v10 + 8));
        FLOATSUR_PLUS((_WORD *)&v82 + 6, (unsigned __int16 *)&v81, (unsigned __int16 *)&v80);
        v61 = (unsigned __int16 *)(*(_QWORD *)(a1 + 736) + 32 * v10 + 8);
        FLOATSUR_PLUS(v61, v61, (unsigned __int16 *)&v82 + 6);
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  add weighted nodePOSWeight(%d.%d) and nodeSyllableWeight(%d.%d) -> %d.%d", v62, v63, v64, (unsigned __int16)v81);
        if (*(_WORD *)(a1 + 256))
        {
          v68 = 0;
          v69 = (unsigned __int16 *)v56;
          do
          {
            v70 = (unsigned __int16 *)(*(_QWORD *)(a1 + 736) + 32 * v10 + 8);
            FLOATSUR_PLUS(v70, v70, v69);
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  add weighted genRuleValues[%d](%d.%d) -> %d.%d", v71, v72, v73, v68++);
            v69 += 2;
          }
          while (v68 < *(unsigned __int16 *)(a1 + 256));
        }
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  final phraseweight = %d.%d", v65, v66, v67, *(unsigned __int16 *)(*(_QWORD *)(a1 + 736) + 32 * v10 + 8));
        if (v56)
          heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v56);
        v9 = v53;
        v12 = v78;
        v11 = v79;
      }
    }
    if (++v10 >= (unint64_t)*(unsigned __int16 *)(a1 + 744))
      return printLevel(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), (uint64_t)v2, (uint64_t)v9, (uint64_t)"AFTER SET PHRASEWEIGHT");
  }
}

uint64_t setLevel1Boundaries(uint64_t a1)
{
  unsigned __int16 *v2;
  uint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unsigned __int16 v13;
  _QWORD *v14;
  unsigned __int16 v15;
  unsigned int v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  _WORD *v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t result;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  _BOOL4 v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  int v43;
  unint64_t v44;
  uint64_t v45;
  uint64_t v46;
  _BOOL4 v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  unsigned __int16 *v51;
  unsigned __int16 *v52;
  uint64_t v53;
  int v54;
  int v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  unsigned __int16 v60[6];

  *(_DWORD *)v60 = 0;
  v58 = 0;
  v59 = 0;
  v56 = 0;
  v57 = 0;
  v55 = 0;
  v2 = (unsigned __int16 *)(a1 + 400);
  v54 = 0;
  v52 = (unsigned __int16 *)(a1 + 396);
  v53 = a1 + 8;
  FLOATSUR_PLUS((_WORD *)&v58 + 2, (unsigned __int16 *)(a1 + 396), (unsigned __int16 *)(a1 + 400));
  FLOATSUR_PLUS(v60, (unsigned __int16 *)(a1 + 392), (unsigned __int16 *)&v58 + 2);
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"DO setLevel1Boundaries(threshold_bnd_val_weak=%d threshold_weak_frag=%d threshold_bnd_val_strong=%d)", v3, v4, v5, *(unsigned __int16 *)(a1 + 380));
  getLowestBnd(a1, (unsigned __int16 *)&v59);
  v6 = (unsigned __int16)v59;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"START lowestBnd : node %d", v7, v8, v9, (unsigned __int16)v59);
  if (HIDWORD(v59) == 1
    && FLOATSUR_LT((unsigned __int16 *)(*(_QWORD *)(a1 + 736) + 32 * v6 + 12), (unsigned __int16 *)(a1 + 376)))
  {
    v13 = 0;
    v14 = (_QWORD *)(a1 + 736);
    v51 = (unsigned __int16 *)(a1 + 388);
    v15 = v6;
    while (1)
    {
      v16 = v15;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"LOOP[%d] lowestBnd : node %d (bndWeight=%d.%d)", v10, v11, v12, v13);
      FLOATSUR_SET((_DWORD *)&v56 + 1, (_DWORD *)(*(_QWORD *)(a1 + 736) + 32 * v6 + 8));
      FLOATSUR_SET_INT(&v56, 0, 0);
      v17 = v16 + 1;
      if (v17 < *(unsigned __int16 *)(a1 + 744))
        FLOATSUR_SET(&v56, (_DWORD *)(*v14 + 32 * v17 + 8));
      FLOATSUR_SET(&v54, (_DWORD *)(*(_QWORD *)(a1 + 736) + 32 * v6 + 12));
      FLOATSUR_TIMES((_WORD *)&v58 + 2, (unsigned __int16 *)&v56 + 2, (unsigned __int16 *)(a1 + 392));
      FLOATSUR_TIMES(&v58, (unsigned __int16 *)&v56, v52);
      FLOATSUR_TIMES((_WORD *)&v57 + 2, (unsigned __int16 *)&v54, v2);
      FLOATSUR_PLUS(&v57, (unsigned __int16 *)&v58 + 2, (unsigned __int16 *)&v58);
      FLOATSUR_PLUS(&v57, (unsigned __int16 *)&v57, (unsigned __int16 *)&v57 + 2);
      FLOATSUR_DIV((_WORD *)&v58 + 2, (unsigned __int16 *)&v57, v60);
      FLOATSUR_TIMES_INT(&v55, (unsigned __int16 *)&v58 + 2, 0xAu, 0);
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  weighted mean bndVal = %d.%d (thisphraseWeight=%d.%d thisBndWeight=%d.%d nextphraseWeight=%d.%d)", v18, v19, v20, (unsigned __int16)v55);
      if (!FLOATSUR_LT((unsigned __int16 *)&v55, (unsigned __int16 *)(a1 + 380))
        && !FLOATSUR_LT((unsigned __int16 *)&v56 + 2, v51)
        && !FLOATSUR_LT((unsigned __int16 *)&v56, v51))
      {
        break;
      }
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  [bnd_val < threshold_weak(%d.%d) or one thisphraseWeight or nextphraseWeight < threshold_weak_frag(%d.%d)] remove node (merge %d and %d)", v21, v22, v23, *(unsigned __int16 *)(a1 + 380));
      if ((_DWORD)v17 == *(unsigned __int16 *)(a1 + 744))
        goto LABEL_10;
      v27 = (_WORD *)(*v14 + 32 * v6);
      *(_WORD *)(*v14 + 32 * (v16 + 1)) = *v27;
      FLOATSUR_PLUS(v27 + 20, v27 + 20, v27 + 4);
      removeNode((unsigned __int16 *)(a1 + 736), v16);
LABEL_12:
      getLowestBnd(a1, (unsigned __int16 *)&v59);
      v6 = (unsigned __int16)v59;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"END LOOP lowestBnd : node %d", v28, v29, v30, (unsigned __int16)v59);
      if (HIDWORD(v59) != 1)
        goto LABEL_23;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"ITERATION %d", v31, v32, v33, v13);
      result = printLevel(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), v53, a1 + 736, (uint64_t)"ITER");
      if ((result & 0x80000000) != 0)
        return result;
      if (FLOATSUR_EQUAL_INT((unsigned __int16 *)(*v14 + 32 * v6 + 12), 0, 0))
      {
        *(_DWORD *)(*(_QWORD *)(a1 + 736) + 32 * v6 + 24) = 1;
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  NO CHANGE - marked node as processed", v35, v36, v37, 0);
      }
      ++v13;
      v38 = FLOATSUR_LT((unsigned __int16 *)(*v14 + 32 * v6 + 12), (unsigned __int16 *)(a1 + 376));
      v15 = v6;
      if (!v38)
        goto LABEL_23;
    }
    if (FLOATSUR_LT((unsigned __int16 *)&v55, (unsigned __int16 *)(a1 + 384)))
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  set WEAK BND", v39, v40, v41, 0);
      v42 = *(_QWORD *)(a1 + 736) + 32 * v6;
      v43 = 3;
    }
    else
    {
      if (!FLOATSUR_GTOREQUAL((unsigned __int16 *)&v55, (unsigned __int16 *)(a1 + 384)))
      {
LABEL_10:
        *(_DWORD *)(*(_QWORD *)(a1 + 736) + 32 * v6 + 24) = 1;
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  NO CHANGE - marked node as processed", v24, v25, v26, 0);
        goto LABEL_12;
      }
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  set STRONG BND", v24, v25, v26, 0);
      v42 = *(_QWORD *)(a1 + 736) + 32 * v6;
      v43 = 4;
    }
    *(_DWORD *)(v42 + 20) = v43;
    *(_DWORD *)(v42 + 16) = v55;
    goto LABEL_10;
  }
LABEL_23:
  if (*(_WORD *)(a1 + 744))
  {
    v44 = 0;
    v45 = *(_QWORD *)(a1 + 736);
    v46 = 20;
    do
    {
      if (*(_DWORD *)(v45 + v46) <= 1u)
      {
        v47 = FLOATSUR_GT((unsigned __int16 *)(v45 + v46 - 8), (unsigned __int16 *)(a1 + 376));
        v45 = *(_QWORD *)(a1 + 736);
        if (v47)
        {
          *(_DWORD *)(v45 + v46) = 4;
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  set node %d STRONG BND", v48, v49, v50, v44);
          v45 = *(_QWORD *)(a1 + 736);
        }
      }
      *(_BYTE *)(*(_QWORD *)(a1 + 672) + 224 * *(unsigned __int16 *)(v45 + v46 - 18) - 151) = *(_DWORD *)(v45 + v46);
      ++v44;
      v46 += 32;
    }
    while (v44 < *(unsigned __int16 *)(a1 + 744));
  }
  return printLevel(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), v53, a1 + 736, (uint64_t)"AFTER SET BOUNDARIES");
}

uint64_t getLowestBnd(uint64_t result, unsigned __int16 *a2)
{
  unint64_t v2;
  uint64_t v4;
  unint64_t v5;
  uint64_t i;
  int v7;
  unsigned int v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;

  *a2 = 0;
  *((_DWORD *)a2 + 1) = 0;
  v2 = *(unsigned __int16 *)(result + 744);
  if (*(_WORD *)(result + 744))
  {
    v4 = result;
    v5 = 0;
    for (i = 24; *(_DWORD *)(*(_QWORD *)(result + 736) + i) == 1; i += 32)
    {
      if (v2 == ++v5)
        return result;
    }
    v7 = (unsigned __int16)v5;
    *a2 = v5;
    *((_DWORD *)a2 + 1) = 1;
    v8 = (unsigned __int16)v5;
    if (v2 > (unsigned __int16)v5)
    {
      v9 = i - 24;
      v8 = (unsigned __int16)v5;
      do
      {
        v10 = *(_QWORD *)(v4 + 736);
        if (*(_DWORD *)(v10 + v9 + 20) == 1)
        {
          if ((result = FLOATSUR_LT((unsigned __int16 *)(v10 + v9 + 12), (unsigned __int16 *)(v10 + 32 * *a2 + 12)),
                v11 = *(_QWORD *)(v4 + 736),
                (_DWORD)result)
            && !*(_DWORD *)(v11 + v9 + 24)
            || (result = FLOATSUR_LT_INT((unsigned __int16 *)(v11 + v9 + 12), 0, 0), (_DWORD)result))
          {
            v8 = (unsigned __int16)v5;
            *a2 = v5;
            *((_DWORD *)a2 + 1) = 1;
          }
        }
        ++v5;
        v2 = *(unsigned __int16 *)(v4 + 744);
        v9 += 32;
      }
      while (v5 < v2);
    }
    if (v8 == v7 && v8 < v2 && !*(_DWORD *)(*(_QWORD *)(v4 + 736) + i))
    {
      *a2 = v7;
      *((_DWORD *)a2 + 1) = 1;
    }
  }
  return result;
}

void getProsodicStructure(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  int v28;

  *(_OWORD *)(a1 + 720) = 0u;
  *(_OWORD *)(a1 + 736) = 0u;
  if ((createLevel0ProsodicStructure((_WORD *)a1, a2, a3, a4, a5, a6, a7, a8) & 0x80000000) == 0
    && (checkStructure(a1, (unsigned __int16 **)(a1 + 720), v9, v10, v11, v12, v13, v14) & 0x80000000) == 0)
  {
    if (*(_QWORD *)(a1 + 928))
    {
      if ((simplifiedTokenPhrasing(*(_QWORD *)a1, (_QWORD *)(a1 + 720), (_QWORD *)(a1 + 672), (unsigned __int16 *)(a1 + 8)) & 0x80000000) == 0)threePassIgtreePhrasing(*(_QWORD *)a1, a1 + 720, (uint64_t *)(a1 + 672), a1 + 8, (uint64_t *)(a1 + 752));
    }
    else if (*(_QWORD *)(a1 + 816))
    {
      if ((simplifiedTokenPhrasing(*(_QWORD *)a1, (_QWORD *)(a1 + 720), (_QWORD *)(a1 + 672), (unsigned __int16 *)(a1 + 8)) & 0x80000000) == 0)twoPassIgtreePhrasing(*(_QWORD *)a1, a1 + 720, (_QWORD *)(a1 + 672), a1 + 8, (uint64_t *)(a1 + 752));
    }
    else if (*(_QWORD *)(a1 + 760))
    {
      if ((simplifiedTokenPhrasing(*(_QWORD *)a1, (_QWORD *)(a1 + 720), (_QWORD *)(a1 + 672), (unsigned __int16 *)(a1 + 8)) & 0x80000000) == 0)singlePassIgtreePhrasing(*(_QWORD *)a1, a1 + 720, (_QWORD *)(a1 + 672), a1 + 8, (uint64_t *)(a1 + 752));
    }
    else
    {
      createLevel1ProsodicStructure(a1, v15, v16, v17, v18, v19, v20, v21);
      if ((v28 & 0x80000000) == 0
        && (checkStructure(a1, (unsigned __int16 **)(a1 + 736), v22, v23, v24, v25, v26, v27) & 0x80000000) == 0
        && (setLevel1StructureWeights(a1) & 0x80000000) == 0)
      {
        setLevel1Boundaries(a1);
      }
    }
  }
}

double freeProsodicStructure(_QWORD *a1)
{
  uint64_t v2;
  uint64_t v3;
  double result;

  v2 = a1[90];
  if (v2)
  {
    heap_Free(*(_QWORD **)(*a1 + 8), v2);
    a1[90] = 0;
  }
  v3 = a1[92];
  if (v3)
    heap_Free(*(_QWORD **)(*a1 + 8), v3);
  result = 0.0;
  *((_OWORD *)a1 + 45) = 0u;
  *((_OWORD *)a1 + 46) = 0u;
  return result;
}

uint64_t getPwPredict(uint64_t result, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t *a5, _WORD *a6, uint64_t a7)
{
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  int v10;
  __int16 v11;
  uint64_t v12;
  uint64_t v13;
  __int16 v14;
  uint64_t v15;
  uint64_t v16;
  float v17;
  uint64_t v18;
  int v19;
  uint64_t v20;
  float v21;
  int v22;
  BOOL v23;
  _WORD *v25;
  int v26;
  uint64_t v27;

  v7 = *a5;
  if ((_DWORD)result)
  {
    v8 = 0;
    v9 = 0;
    v10 = 0;
    v11 = 1;
    v12 = result;
    while (1)
    {
      v13 = 0;
      v14 = 0;
      v15 = v9;
      v17 = 0.0;
      do
      {
        v16 = a2 + 28 * (unsigned __int16)(v10 + v8);
        if (v17 < *(float *)(v16 + 4 * v13))
        {
          v17 = *(float *)(v16 + 4 * v13);
          v14 = v13;
        }
        ++v13;
      }
      while (v13 != 7);
      if (a3 > (unsigned __int16)v10 && v8 == *(unsigned __int16 *)(a4 + 2 * (unsigned __int16)v10))
      {
        v18 = 0;
        v14 = 0;
        v19 = v10 + 1;
        v20 = a2 + 28 * (unsigned __int16)(v10 + v11);
        v21 = 0.0;
        do
        {
          if (v21 < *(float *)(v20 + 4 * v18))
          {
            v21 = *(float *)(v20 + 4 * v18);
            v14 = v18;
          }
          ++v18;
        }
        while (v18 != 7);
        result = 0;
        v10 = v19;
      }
      else
      {
        result = 1;
      }
      v22 = *(_DWORD *)(a7 + 4 * v8);
      v23 = v22 == 1 || v14 == 0;
      if (v23 || v14 == 3)
        break;
      v25 = (_WORD *)(v7 + 2 * v8);
      *v25 = 0;
      if ((result & 1) == 0)
      {
        v26 = 1;
LABEL_30:
        *v25 = 1;
        v9 = (v15 + v26);
        goto LABEL_31;
      }
      v9 = v15;
LABEL_31:
      ++v8;
      ++v11;
      if (v8 == v12)
      {
        v27 = v12 - 1;
        goto LABEL_34;
      }
    }
    v9 = (v15 + 1);
    *(_WORD *)(v7 + 2 * v8) = 1;
    if (!v8)
      goto LABEL_31;
    if (v22 != 1)
      goto LABEL_31;
    v25 = (_WORD *)(v7 + 2 * (v8 - 1));
    result = (unsigned __int16)*v25;
    if (*v25)
      goto LABEL_31;
    v26 = 2;
    goto LABEL_30;
  }
  LOWORD(v9) = 0;
  v27 = -1;
LABEL_34:
  if (*(_WORD *)(v7 + 2 * v27) != 1)
  {
    LOWORD(v9) = v9 + 1;
    *(_WORD *)(v7 + 2 * v27) = 1;
  }
  *a6 = v9;
  return result;
}

uint64_t storeResult(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t *a6, _WORD *a7, uint64_t a8, unsigned __int8 a9, const char **a10)
{
  uint64_t v10;
  uint64_t v12;
  __int16 v13;
  BOOL v14;
  char v15;
  uint64_t v16;
  char *v17;
  const char **v18;
  uint64_t v19;
  _WORD *v20;
  int v21;
  int v22;
  uint64_t v23;
  unsigned int v24;
  unsigned __int16 v25;
  uint64_t v26;
  uint64_t v27;
  _DWORD *v28;
  uint64_t v29;
  uint64_t v30;
  int v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t *v37;
  uint64_t v38;
  __int16 *v39;
  __int16 v40;
  uint64_t result;
  uint64_t v47;
  char v48;
  unsigned int v50;
  unsigned __int16 v51;
  uint64_t v52;

  v52 = *a6;
  if (!a3)
  {
LABEL_50:
    result = 0;
    *a6 = v52;
    return result;
  }
  v10 = a8;
  v12 = 0;
  v50 = 0;
  v13 = 0;
  v51 = 0;
  if (a9)
    v14 = a10 == 0;
  else
    v14 = 1;
  v15 = v14;
  v48 = v15;
  v47 = a3;
  v16 = a2 + 64;
  while (1)
  {
    if ((v48 & 1) != 0)
    {
LABEL_13:
      v20 = (_WORD *)(a4 + 2 * v12);
      v21 = (unsigned __int16)*v20;
      v22 = 1;
      if (*v20)
      {
        v23 = v52;
        v24 = v50;
        if (v21 == 1)
          goto LABEL_31;
        if (!*(_DWORD *)v10)
          goto LABEL_49;
        goto LABEL_16;
      }
      v23 = v52;
      v24 = v50;
    }
    else
    {
      v17 = *(char **)(a2 + 40 * v12);
      v19 = a9;
      v18 = a10;
      while (!strstr(v17, *v18))
      {
        ++v18;
        if (!--v19)
          goto LABEL_13;
      }
      v22 = 0;
      v20 = (_WORD *)(a4 + 2 * v12);
      v23 = v52;
      v24 = v50;
      if (*v20)
        goto LABEL_31;
      LOBYTE(v21) = 1;
    }
    if (!*(_DWORD *)v10 || v24 >= *(unsigned __int16 *)(v10 + 4))
    {
      if (!v22)
        goto LABEL_31;
LABEL_30:
      ++v13;
      goto LABEL_49;
    }
    if (*(_DWORD *)(a2 + 40 * v12 + 32) + 1 == *(_DWORD *)(*(_QWORD *)(v10 + 8) + 4 * v24))
      LOBYTE(v21) = 1;
    if ((v21 & 1) == 0)
      goto LABEL_30;
    if ((v22 & 1) == 0)
      break;
LABEL_16:
    if (v24 < *(unsigned __int16 *)(v10 + 4)
      && *(_DWORD *)(a2 + 40 * v12 + 32) + 1 == *(_DWORD *)(*(_QWORD *)(v10 + 8) + 4 * v24))
    {
      LOBYTE(v22) = 1;
      goto LABEL_31;
    }
LABEL_49:
    ++v12;
    v16 += 40;
    if (v12 == v47)
      goto LABEL_50;
  }
  LOBYTE(v22) = 0;
LABEL_31:
  v25 = v13 + 1;
  *(_WORD *)(v23 + 184 * v51 + 8) = v25;
  if (*(_DWORD *)v10
    && v24 < *(unsigned __int16 *)(v10 + 4)
    && *(_DWORD *)(a2 + 40 * v12 + 32) + 1 == *(_DWORD *)(*(_QWORD *)(v10 + 8) + 4 * v24))
  {
    if (!*v20)
    {
      v26 = heap_Realloc(*(uint64_t **)(a1 + 8), v23, 184 * (unsigned __int16)*a7 + 184);
      if (!v26)
        return 2315264010;
      v23 = v26;
      v27 = v26 + 184 * (unsigned __int16)*a7;
      *(_QWORD *)(v27 + 176) = 0;
      *(_OWORD *)(v27 + 144) = 0u;
      *(_OWORD *)(v27 + 160) = 0u;
      *(_OWORD *)(v27 + 112) = 0u;
      *(_OWORD *)(v27 + 128) = 0u;
      *(_OWORD *)(v27 + 80) = 0u;
      *(_OWORD *)(v27 + 96) = 0u;
      *(_OWORD *)(v27 + 48) = 0u;
      *(_OWORD *)(v27 + 64) = 0u;
      *(_OWORD *)(v27 + 16) = 0u;
      *(_OWORD *)(v27 + 32) = 0u;
      *(_OWORD *)v27 = 0u;
      ++*a7;
      *v20 = 1;
      v24 = v50;
    }
    ++v24;
  }
  v28 = (_DWORD *)(v23 + 184 * v51 + 72);
  v52 = v23;
  v50 = v24;
  if (*(_WORD *)(a5 + 2 * v12) == 1)
  {
    *v28 = 1;
  }
  else
  {
    *v28 = 0;
    if ((v22 & 1) == 0 && !*v20)
    {
      v29 = heap_Realloc(*(uint64_t **)(a1 + 8), v23, 184 * (unsigned __int16)*a7 + 184);
      if (!v29)
        return 2315264010;
      v52 = v29;
      v30 = v29 + 184 * (unsigned __int16)*a7;
      *(_QWORD *)(v30 + 176) = 0;
      *(_OWORD *)(v30 + 144) = 0u;
      *(_OWORD *)(v30 + 160) = 0u;
      *(_OWORD *)(v30 + 112) = 0u;
      *(_OWORD *)(v30 + 128) = 0u;
      *(_OWORD *)(v30 + 80) = 0u;
      *(_OWORD *)(v30 + 96) = 0u;
      *(_OWORD *)(v30 + 48) = 0u;
      *(_OWORD *)(v30 + 64) = 0u;
      *(_OWORD *)(v30 + 16) = 0u;
      *(_OWORD *)(v30 + 32) = 0u;
      *(_OWORD *)v30 = 0u;
      ++*a7;
    }
  }
  v31 = v25;
  v32 = 2 * v25;
  v33 = heap_Alloc(*(_QWORD *)(a1 + 8), v32);
  v37 = (uint64_t *)(v52 + 184 * v51);
  *v37 = v33;
  if (v33)
  {
    *(_QWORD *)(v52 + 184 * v51 + 56) = &byte_1DEBD87CE;
    if (v25)
    {
      v38 = 0;
      v39 = (__int16 *)(v16 - 40 * v31);
      do
      {
        v40 = *v39;
        v39 += 20;
        *(_WORD *)(*v37 + v38) = v40;
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"pw:%d , tid=%d", v34, v35, v36, v51);
        v38 += 2;
      }
      while (v32 != v38);
    }
    v13 = 0;
    ++v51;
    v10 = a8;
    goto LABEL_49;
  }
  return 2315264010;
}

uint64_t storePwResult(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t *a5, uint64_t a6)
{
  uint64_t v8;
  uint64_t v9;
  __int16 v10;
  int v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  unsigned __int16 v15;
  int v16;
  unsigned int v17;
  uint64_t v18;
  uint64_t v19;
  _WORD *v20;
  __int16 *v21;
  __int16 v22;
  uint64_t v24;
  uint64_t v25;
  uint64_t v27;

  if (!a3)
    return 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = *a5;
  v13 = a3;
  v14 = a2 + 64;
  v24 = a4;
  v25 = a3;
  while (*(_WORD *)(a4 + 2 * v8) != 1)
  {
    if (*(_WORD *)(a4 + 2 * v8))
    {
      if (!*(_DWORD *)a6)
        goto LABEL_22;
    }
    else if (!*(_DWORD *)a6
           || *(unsigned __int16 *)(a6 + 4) > (unsigned __int16)v9
           && *(_DWORD *)(a2 + 40 * v8 + 32) == *(_DWORD *)(*(_QWORD *)(a6 + 8) + 4 * (unsigned __int16)v9))
    {
      ++v10;
      goto LABEL_22;
    }
    if (*(unsigned __int16 *)(a6 + 4) > (unsigned __int16)v9
      && *(_DWORD *)(a2 + 40 * v8 + 32) == *(_DWORD *)(*(_QWORD *)(a6 + 8) + 4 * (unsigned __int16)v9))
    {
      break;
    }
LABEL_22:
    ++v8;
    v14 += 40;
    if (v8 == v13)
      return 0;
  }
  v27 = v9;
  v15 = v10 + 1;
  v16 = v11;
  v17 = (unsigned __int16)v11;
  v18 = v12 + 184 * (unsigned __int16)v11;
  *(_WORD *)(v18 + 8) = v15;
  v19 = v15;
  v20 = (_WORD *)heap_Alloc(*(_QWORD *)(a1 + 8), 2 * v15);
  *(_QWORD *)v18 = v20;
  if (v20)
  {
    *(_QWORD *)(v12 + 184 * v17 + 56) = &byte_1DEBD87CE;
    if ((_DWORD)v19)
    {
      v21 = (__int16 *)(v14 - 40 * (int)v19);
      do
      {
        v22 = *v21;
        v21 += 20;
        *v20++ = v22;
        --v19;
      }
      while (v19);
    }
    a4 = v24;
    v13 = v25;
    v9 = v27;
    if (*(_DWORD *)a6 && *(unsigned __int16 *)(a6 + 4) > (unsigned __int16)v27)
    {
      if (*(_DWORD *)(a2 + 40 * v8 + 32) == *(_DWORD *)(*(_QWORD *)(a6 + 8) + 4 * (unsigned __int16)v27))
        v9 = (v27 + 1);
      else
        v9 = v27;
    }
    v10 = 0;
    v11 = v16 + 1;
    goto LABEL_22;
  }
  return 2315264010;
}

uint64_t pw_nn_process(uint64_t a1, uint64_t ****a2, uint64_t *a3, uint64_t a4, uint64_t *a5, _WORD *a6, uint64_t a7, _QWORD *a8, int a9, uint64_t a10, unsigned __int8 a11, const char **a12, int a13)
{
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  _WORD *v23;
  uint64_t v24;
  uint64_t v25;
  unsigned __int16 v26;
  const char **v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  _QWORD *v31;
  uint64_t v32;
  uint64_t v33;
  _QWORD *v34;
  unsigned __int16 v35;
  uint64_t v36;
  uint64_t Embedding;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  unsigned int v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  int v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t i;
  uint64_t v59;
  __int16 v60;
  float v61;
  _WORD *v64;
  uint64_t *v65;
  uint64_t ****v66;
  uint64_t *v67;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  uint64_t v72;
  float *v73;
  uint64_t v74;
  uint64_t v75;
  int v76;
  uint64_t v77[2];

  v69 = 0;
  v77[0] = *a5;
  v76 = 0;
  v20 = 2315264010;
  v74 = 0;
  v72 = 0;
  v73 = 0;
  v70 = 0;
  v71 = 0;
  v21 = 2 * a4;
  v22 = heap_Alloc(*(_QWORD *)(a1 + 8), v21);
  v75 = v22;
  if (!v22)
  {
    v28 = 0;
    v24 = 0;
    goto LABEL_66;
  }
  v23 = (_WORD *)v22;
  v66 = a2;
  v24 = heap_Alloc(*(_QWORD *)(a1 + 8), v21);
  if (!v24)
    goto LABEL_65;
  v67 = a3;
  v65 = a5;
  if ((_DWORD)a4)
  {
    v25 = 0;
    v26 = 0;
    v27 = (const char **)v67;
    do
    {
      if (checkAttachedPunc(*v27))
        *(_WORD *)(v24 + 2 * v26++) = v25;
      ++v25;
      v27 += 5;
    }
    while (a4 != v25);
  }
  else
  {
    v26 = 0;
  }
  v29 = heap_Calloc(*(_QWORD **)(a1 + 8), a4, 4);
  v70 = v29;
  if (!v29)
    goto LABEL_29;
  v30 = v29;
  v31 = *(_QWORD **)(a1 + 8);
  if (a9 == 1)
  {
    v32 = heap_Alloc((uint64_t)v31, v21);
    v72 = v32;
    if (v32)
    {
      v33 = v32;
      v34 = *(_QWORD **)(a1 + 8);
      if (a13)
      {
        v64 = (_WORD *)v33;
        v28 = 0;
        v73 = (float *)heap_Calloc(v34, 100 * (a4 + v26), 4);
        v35 = v26;
        v36 = (uint64_t)v67;
        if (v73)
          goto LABEL_16;
      }
      else
      {
        v28 = heap_Alloc((uint64_t)v34, v21);
        v69 = v28;
        if (!v28)
        {
          v20 = 2315264010;
          goto LABEL_46;
        }
        v64 = (_WORD *)v33;
        v36 = (uint64_t)v67;
        Embedding = getcharNum(a4, v67, &v70, (_WORD *)&v76 + 1, v26, v24, &v69);
        if ((Embedding & 0x80000000) != 0)
        {
LABEL_44:
          v20 = Embedding;
          goto LABEL_45;
        }
        v35 = HIWORD(v76);
        v73 = (float *)heap_Calloc(*(_QWORD **)(a1 + 8), HIWORD(v76) + 2, 4);
        if (v73)
        {
LABEL_16:
          Embedding = getEmbedding(a1, a7, a8, 1, a4, v36, v26, v24, &v73, &v70, a13);
          if ((Embedding & 0x80000000) == 0)
          {
            if ((_DWORD)a4 == 1)
            {
              v42 = 1;
              *v23 = 1;
              *v64 = 1;
              LOWORD(v76) = 1;
              if (v73)
              {
                heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v73);
                v73 = 0;
                v42 = 1;
              }
LABEL_41:
              v20 = 2315264010;
              *a6 = v42;
              v77[0] = heap_Calloc(*(_QWORD **)(a1 + 8), v42, 184);
              if (v77[0])
              {
                v56 = v36;
                v33 = (uint64_t)v64;
                v20 = storeResult(a1, v56, a4, (uint64_t)v23, (uint64_t)v64, v77, &v76, a10, a11, a12);
                if ((v20 & 0x80000000) == 0)
                {
                  *a6 = v76;
                  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v64);
                  v72 = 0;
                  *v65 = v77[0];
LABEL_70:
                  if (v28)
                    heap_Free(*(_QWORD **)(a1 + 8), v28);
                  goto LABEL_72;
                }
                goto LABEL_46;
              }
              goto LABEL_45;
            }
            if (a13)
              v55 = a4;
            else
              v55 = 2;
            Embedding = fi_predict(*v66, (const void **)&v73, v55 + v35, &v74, v38, v39, v40, v41);
            if ((Embedding & 0x80000000) == 0)
            {
              getJointResult((unint64_t)&v75, &v72, a4, v26, v24, &v76, v74, v70, a13, v28);
              v42 = (unsigned __int16)v76;
              goto LABEL_41;
            }
          }
          goto LABEL_44;
        }
      }
      v20 = 2315264010;
LABEL_45:
      v33 = (uint64_t)v64;
LABEL_46:
      heap_Free(*(_QWORD **)(a1 + 8), v33);
      goto LABEL_66;
    }
LABEL_29:
    v28 = 0;
    v20 = 2315264010;
    goto LABEL_66;
  }
  v73 = (float *)heap_Calloc(v31, (100 * a4), 4);
  if (!v73)
  {
    v28 = 0;
    v20 = 2315264010;
LABEL_68:
    if (v71)
      heap_Free(*(_QWORD **)(a1 + 8), v71);
    goto LABEL_70;
  }
  v43 = getEmbedding(a1, a7, a8, a9, a4, (uint64_t)v67, v26, v24, &v73, &v70, a13);
  if ((v43 & 0x80000000) != 0)
    goto LABEL_30;
  v43 = fi_predict(v66[1], (const void **)&v73, a4, &v74, v44, v45, v46, v47);
  if ((v43 & 0x80000000) != 0)
    goto LABEL_30;
  getPwPredict(a4, v74, v26, v24, &v75, &v76, v30);
  v48 = (unsigned __int16)v76;
  *a6 = v76;
  v49 = heap_Calloc(*(_QWORD **)(a1 + 8), v48, 184);
  v77[0] = v49;
  if (!v49)
    goto LABEL_29;
  v50 = v49;
  v43 = storePwResult(a1, (uint64_t)v67, a4, (uint64_t)v23, v77, a10);
  if ((v43 & 0x80000000) != 0)
  {
LABEL_30:
    v28 = 0;
    v20 = v43;
    goto LABEL_66;
  }
  v71 = heap_Calloc(*(_QWORD **)(a1 + 8), 100 * v48, 4);
  if (!v71)
    goto LABEL_29;
  if (v66[1])
  {
    v20 = fi_predict(*v66, (const void **)&v71, v48, &v74, v51, v52, v53, v54);
    if ((v20 & 0x80000000) != 0)
    {
LABEL_65:
      v28 = 0;
LABEL_66:
      if (v73)
        heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v73);
      goto LABEL_68;
    }
  }
  else
  {
    v20 = 0;
  }
  if ((_DWORD)v48)
  {
    v57 = 0;
    for (i = 0; i != v48; ++i)
    {
      v59 = 0;
      v60 = 0;
      v61 = 0.0;
      do
      {
        if (v61 < *(float *)(v74 + v57 + 4 * v59))
        {
          v61 = *(float *)(v74 + v57 + 4 * v59);
          v60 = v59;
        }
        ++v59;
      }
      while (v59 != 4);
      *(_DWORD *)(v50 + 184 * i + 72) = v60 == 3 || v60 == 0 || (_DWORD)v48 - 1 == i;
      v57 += 16;
    }
  }
  if (v71)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v71);
    v71 = 0;
  }
  *v65 = v50;
  if ((v20 & 0x80000000) != 0)
    goto LABEL_65;
LABEL_72:
  if (v24)
    heap_Free(*(_QWORD **)(a1 + 8), v24);
  if (v70)
    heap_Free(*(_QWORD **)(a1 + 8), v70);
  heap_Free(*(_QWORD **)(a1 + 8), v75);
  return v20;
}

uint64_t getcharNum(unsigned int a1, uint64_t *a2, uint64_t *a3, _WORD *a4, unsigned int a5, uint64_t a6, uint64_t *a7)
{
  uint64_t v7;
  uint64_t v11;
  __int16 v12;
  int v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t UTF8Char;
  __int16 v17;
  int v18;
  int v22;
  char v23;

  v23 = 0;
  v22 = 0;
  v7 = *a3;
  if (a1)
  {
    v11 = 0;
    v12 = 0;
    v13 = 0;
    v14 = *a7;
    v15 = a1;
    do
    {
      UTF8Char = utf8_getUTF8Char(*a2, 0, &v22);
      if ((UTF8Char & 0x80000000) != 0)
        break;
      if (utf8_IsChineseLetter((const char *)&v22))
      {
        v17 = Utf8_Utf8NbrOfSymbols((const char *)*a2) - 1;
        *(_WORD *)(v14 + 2 * v11) = v17;
        if (a5 > (unsigned __int16)v13 && v11 == *(unsigned __int16 *)(a6 + 2 * (unsigned __int16)v13))
          ++v13;
      }
      else
      {
        if (a5 > (unsigned __int16)v13 && v11 == *(unsigned __int16 *)(a6 + 2 * (unsigned __int16)v13))
        {
          ++v13;
          v18 = Utf8_Utf8NbrOfSymbols((const char *)*a2);
          v17 = 1;
          if (v18 >= 3)
          {
            *(_DWORD *)(v7 + 4 * v11) = 1;
            v17 = 2;
          }
        }
        else
        {
          v17 = 1;
          *(_DWORD *)(v7 + 4 * v11) = 1;
        }
        *(_WORD *)(v14 + 2 * v11) = v17;
      }
      v12 += v17;
      ++v11;
      a2 += 5;
    }
    while (v15 != v11);
  }
  else
  {
    v12 = 0;
    UTF8Char = 0;
  }
  *a3 = v7;
  *a4 = v12;
  return UTF8Char;
}

uint64_t getEmbedding(uint64_t a1, uint64_t a2, _QWORD *a3, int a4, unsigned int a5, uint64_t a6, unsigned int a7, uint64_t a8, float **a9, uint64_t *a10, int a11)
{
  _QWORD *v14;
  uint64_t v15;
  float *v17;
  uint64_t result;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unsigned int v23;
  char *v24;
  unsigned __int16 v25;
  int v26;
  __int16 v27;
  unsigned __int16 v28;
  unsigned int v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  unsigned __int32 *v37;
  __int16 v38;
  unsigned int v39;
  unsigned __int16 v40;
  __int16 v41;
  char v42;
  unsigned __int16 v43;
  int UTF8Char;
  int v45;
  unsigned __int16 v46;
  char v47;
  int v48;
  __n128 v49;
  int v51;
  int v52;
  float v53;
  int v54;
  uint64_t v55;
  int v56;
  uint64_t v57;
  uint64_t v58;
  unsigned int v59;
  unsigned __int16 v60;
  unsigned int v61;
  uint64_t v62;
  unsigned __int16 v63;
  __int16 v64;
  uint64_t v65;
  __int16 v66;
  int v67;
  const char *v68;
  __n128 v69;
  unsigned int v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  unsigned int v75;
  _QWORD *v76;
  uint64_t v77;
  char v78;
  uint64_t v79;
  uint64_t v80;
  uint64_t v81;
  uint64_t v82;
  unsigned __int16 v83;
  uint64_t v84;
  int v85;
  unsigned int v86;
  unsigned int v87;
  uint64_t v89;
  int v90;
  int v91;
  __int16 v92;
  uint64_t v93;
  _BYTE __s[12];
  __int16 v95;
  uint64_t v96;

  v96 = *MEMORY[0x1E0C80C00];
  v92 = 0;
  if (!a4)
    return 0;
  v14 = a3;
  v15 = a2;
  v84 = *a10;
  v93 = 0;
  v17 = *a9;
  result = (*(uint64_t (**)(_QWORD, _QWORD, char *))(a2 + 40))(*a3, a3[1], (char *)&v93 + 4);
  if ((result & 0x80000000) != 0)
    return result;
  if (a11)
  {
    result = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t *))(v15 + 40))(v14[2], v14[3], &v93);
    if ((result & 0x80000000) != 0)
      return result;
    if (HIDWORD(v93) != (_DWORD)v93)
    {
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s", v19, v20, v21, (uint64_t)"ERROR: word embedding and character embedding do not have same dimension");
      return 2315264000;
    }
  }
  else
  {
    *v17 = 101.0;
    v17 += HIDWORD(v93);
  }
  if (!a5)
  {
LABEL_107:
    if (!a11)
      *v17 = 102.0;
    return result;
  }
  v76 = v14;
  v77 = a1;
  v22 = 0;
  v85 = 0;
  v23 = 0;
  v82 = a5;
  v75 = a7;
  v73 = a6;
  v89 = v15;
  while (1)
  {
    v24 = *(char **)(a6 + 40 * v22);
    v25 = strlen(v24);
    v26 = 0;
    if (a7 && v23 < a7)
    {
      if (v22 == *(unsigned __int16 *)(a8 + 2 * v23))
      {
        if (v25 == 3
          && (*(_QWORD *)__s = 0,
              v27 = 3,
              v85 = 1,
              v28 = v25,
              utf8_Utf8ToUtf32_Tolerant((uint64_t)v24, 3u, (uint64_t)&__s[4], 1u, __s),
              v25 = v28,
              a7 = v75,
              *(_DWORD *)&__s[4] == 8230))
        {
          v26 = 0;
        }
        else
        {
          v85 = 0;
          v92 = v24[v25 - 1];
          v27 = v25 - 1;
          v24[(unsigned __int16)(v25 - 1)] = 0;
          v26 = 1;
        }
        ++v23;
        *(_DWORD *)(a6 + 40 * v22 + 36) = 1;
        v25 = v27;
      }
      else
      {
        v26 = 0;
        v85 = 0;
      }
    }
    v83 = v25;
    if (!a11)
      break;
    v90 = v26;
    *(_DWORD *)(v84 + 4 * v22) = 0;
    result = (*(uint64_t (**)(_QWORD, _QWORD, char *, float *))(v15 + 56))(v14[2], v14[3], v24, v17);
    if (*v17 != 0.0 || (_DWORD)result == 0)
      goto LABEL_92;
    v86 = v23;
    v30 = HIDWORD(v93);
    v79 = v14[1];
    v80 = *v14;
    v31 = v14[3];
    v74 = v14[2];
    v95 = 0;
    *(_QWORD *)&__s[4] = 0;
    v32 = heap_Calloc(*(_QWORD **)(v77 + 8), HIDWORD(v93), 4);
    if (!v32)
    {
      log_OutPublic(*(_QWORD *)(v77 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v33, v34, v35, v36, v71);
LABEL_65:
      v15 = v89;
      goto LABEL_90;
    }
    v37 = (unsigned __int32 *)v32;
    v72 = v31;
    v38 = Utf8_Utf8NbrOfSymbols(v24);
    *(_WORD *)__s = v38 - 1;
    if (v38 == 1)
    {
LABEL_64:
      heap_Free(*(_QWORD **)(v77 + 8), (uint64_t)v37);
      a7 = v75;
      a6 = v73;
      goto LABEL_65;
    }
    checkremoveNormalSym(v24, (unsigned __int16 *)__s, 0x5Fu);
    checkremoveNormalSym(v24, (unsigned __int16 *)__s, 0x2Du);
    v39 = *(unsigned __int16 *)__s;
    if (*(_WORD *)__s)
    {
      v40 = 0;
      v41 = 0;
      if (*(unsigned __int16 *)__s == 1)
        v42 = 115;
      else
        v42 = 98;
      v78 = v42;
      while (1)
      {
        v43 = v40;
        UTF8Char = utf8_getUTF8Char((uint64_t)v24, v40, &__s[4]);
        if (UTF8Char < 0)
          goto LABEL_64;
        v45 = UTF8Char;
        v46 = strlen(&__s[4]);
        if (!utf8_IsChineseLetter(&__s[4]))
          break;
        if (v41)
          v47 = 109;
        else
          v47 = v78;
        __s[v46 + 4] = v47;
        __s[strlen(&__s[4]) + 4] = 0;
        v48 = (*(uint64_t (**)(uint64_t, uint64_t, _BYTE *, unsigned __int32 *))(v89 + 56))(v80, v79, &__s[4], v37);
        if (*(float *)v37 == 0.0 && v48 != 0)
        {
          v49.n128_u32[0] = *v37;
          v45 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, float *, __n128))(v89 + 56))(v74, v72, "</s>", v17, v49);
LABEL_83:
          *(_DWORD *)(v84 + 4 * v22) = 0;
          a7 = v75;
          a6 = v73;
          v15 = v89;
          goto LABEL_89;
        }
        v45 = v48;
        if (v30)
        {
          v51 = 0;
          v40 = v43 + v46;
          LOBYTE(v52) = 1;
          do
          {
            v53 = *(float *)&v37[(unsigned __int16)v51];
            v52 = v52 & (v53 == 0.0);
            v17[(unsigned __int16)v51] = v17[(unsigned __int16)v51] + (float)(v53 / (float)v39);
            ++v51;
          }
          while (v30 > (unsigned __int16)v51);
          v54 = v39 <= (unsigned __int16)++v41 ? 1 : v52;
          if (v54 != 1)
            continue;
        }
        goto LABEL_83;
      }
      if (strlen(&__s[4]) == 1)
      {
        a7 = v75;
        a6 = v73;
        v15 = v89;
        if (__s[4] - 48 >= 0xA)
        {
          if ((__s[4] & 0xDFu) - 65 >= 0x1A)
          {
            v67 = 0;
            goto LABEL_88;
          }
          v67 = 1;
          v68 = "ENG";
        }
        else
        {
          v67 = 0;
          v68 = "NUM";
        }
      }
      else
      {
        v67 = 0;
        v68 = "</s>";
        a7 = v75;
        a6 = v73;
        v15 = v89;
      }
      v45 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, float *))(v15 + 56))(v74, v72, v68, v17);
LABEL_88:
      *(_DWORD *)(v84 + 4 * v22) = v67;
      goto LABEL_89;
    }
    v15 = v89;
    v45 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, float *))(v89 + 56))(v74, v31, "</s>", v17);
    a7 = v75;
    a6 = v73;
LABEL_89:
    heap_Free(*(_QWORD **)(v77 + 8), (uint64_t)v37);
    if (!v45)
    {
      result = 0;
      v14 = v76;
      goto LABEL_91;
    }
LABEL_90:
    v14 = v76;
    result = (*(uint64_t (**)(_QWORD, _QWORD, const char *, float *))(v15 + 56))(v76[2], v76[3], "</s>", v17);
LABEL_91:
    v23 = v86;
LABEL_92:
    if (v23 && !v85 && v22 == *(unsigned __int16 *)(a8 + 2 * (v23 - 1)))
      v24[v83] = 0;
    v17 += HIDWORD(v93);
    if (v90)
    {
      result = (*(uint64_t (**)(_QWORD, _QWORD, __int16 *, float *))(v15 + 56))(v14[2], v14[3], &v92, v17);
      if (*v17 == 0.0 && (_DWORD)result != 0)
      {
        v69.n128_f32[0] = *v17;
        result = (*(uint64_t (**)(_QWORD, _QWORD, const char *, float *, __n128))(v15 + 56))(v14[2], v14[3], "</s>", v17, v69);
      }
      v17 += HIDWORD(v93);
    }
LABEL_103:
    if (++v22 == v82)
      goto LABEL_107;
  }
  v87 = v23;
  v55 = HIDWORD(v93);
  v56 = *(_DWORD *)(v84 + 4 * v22);
  v57 = *v14;
  v58 = v14[1];
  __s[8] = 0;
  *(_DWORD *)&__s[4] = 0;
  if (v56)
  {
    *v17 = 1.0;
    v17 += v55;
    if (v26)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, __int16 *, float *))(v15 + 72))(v57, v58, &v92, v17);
      if ((result & 0x80000000) != 0)
      {
        result = 0;
        *v17 = 100.0;
      }
      v17 += v55;
    }
    else
    {
      result = 0;
    }
    goto LABEL_76;
  }
  v81 = HIDWORD(v93);
  v91 = v26;
  *(_WORD *)__s = Utf8_Utf8NbrOfSymbols(v24) - 1;
  checkremoveNormalSym(v24, (unsigned __int16 *)__s, 0x5Fu);
  checkremoveNormalSym(v24, (unsigned __int16 *)__s, 0x2Du);
  v59 = *(unsigned __int16 *)__s;
  if (!(v91 | *(unsigned __int16 *)__s))
  {
    result = 0;
    *v17 = 100.0;
LABEL_75:
    v14 = v76;
LABEL_76:
    v23 = v87;
    if (v87 && !v85 && v22 == *(unsigned __int16 *)(a8 + 2 * (v87 - 1)))
      v24[v83] = 0;
    goto LABEL_103;
  }
  if (!*(_WORD *)__s)
  {
    result = 0;
LABEL_70:
    a6 = v73;
    if (v91)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, __int16 *, float *))(v15 + 72))(v57, v58, &v92, v17);
      a7 = v75;
      v14 = v76;
      if ((result & 0x80000000) != 0)
      {
        result = 0;
        *v17 = 100.0;
      }
      v17 += v81;
      goto LABEL_76;
    }
    a7 = v75;
    goto LABEL_75;
  }
  v60 = 0;
  v61 = 0;
  v62 = 4 * v55;
  while (1)
  {
    v63 = v60;
    result = utf8_getUTF8Char((uint64_t)v24, v60, &__s[4]);
    if ((result & 0x80000000) != 0)
      return result;
    v64 = strlen(&__s[4]);
    v65 = v15;
    v66 = v64;
    result = (*(uint64_t (**)(uint64_t, uint64_t, _BYTE *, float *))(v65 + 72))(v57, v58, &__s[4], v17);
    if ((result & 0x80000000) != 0)
    {
      result = 0;
      *v17 = 100.0;
    }
    v60 = v63 + v66;
    ++v61;
    v17 = (float *)((char *)v17 + v62);
    v15 = v89;
    if (v61 >= v59)
      goto LABEL_70;
  }
}

unint64_t getJointResult(unint64_t result, uint64_t *a2, unsigned int a3, unsigned int a4, uint64_t a5, _WORD *a6, uint64_t a7, uint64_t a8, int a9, uint64_t a10)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v14;
  int v15;
  unsigned __int16 v16;
  __int16 v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  float v21;
  uint64_t v22;
  uint64_t v23;
  float v24;
  int v25;
  int v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  char v33[2];

  v10 = *(_QWORD *)result;
  v11 = *a2;
  if (a3)
  {
    v14 = 0;
    v15 = 0;
    v16 = 0;
    v17 = 1;
    v18 = a3;
    while (a9)
    {
      v19 = 0;
      LODWORD(result) = 0;
      v21 = 0.0;
      do
      {
        v20 = a7 + 28 * (unsigned __int16)(v16 + v14);
        if (v21 >= *(float *)(v20 + 4 * v19))
        {
          result = result;
        }
        else
        {
          v21 = *(float *)(v20 + 4 * v19);
          result = v19;
        }
        ++v19;
      }
      while (v19 != 7);
      if (a4 <= v16 || v14 != *(unsigned __int16 *)(a5 + 2 * v16))
        goto LABEL_18;
      v22 = 0;
      LODWORD(result) = 0;
      v24 = 0.0;
      do
      {
        v23 = a7 + 28 * (unsigned __int16)(v16 + v17);
        if (v24 >= *(float *)(v23 + 4 * v22))
        {
          result = result;
        }
        else
        {
          v24 = *(float *)(v23 + 4 * v22);
          result = v22;
        }
        ++v22;
      }
      while (v22 != 7);
      v25 = 1;
      ++v16;
LABEL_19:
      if (*(_DWORD *)(a8 + 4 * v14) == 1)
        v26 = 1;
      else
        v26 = v25;
      if ((vmaxv_u16((uint16x4_t)vceq_s16(vdup_n_s16(result), (int16x4_t)0x6000500040003)) & 1) == 0 && !v26)
      {
        *(_WORD *)(v10 + 2 * v14) = 0;
LABEL_32:
        *(_WORD *)(v11 + 2 * v14) = 0;
        goto LABEL_33;
      }
      ++*a6;
      *(_WORD *)(v10 + 2 * v14) = 1;
      v27 = v26 ^ 1;
      if (!v14)
        v27 = 1;
      if ((v27 & 1) == 0)
      {
        v28 = (v14 - 1);
        if (!*(_WORD *)(v10 + 2 * v28))
        {
          *(_WORD *)(v10 + 2 * v28) = 1;
          ++*a6;
        }
      }
      if ((result & 0xFFFD) != 4)
        goto LABEL_32;
      *(_WORD *)(v11 + 2 * v14) = 1;
LABEL_33:
      ++v14;
      ++v17;
      if (v14 == v18)
      {
        v29 = v18 - 1;
        goto LABEL_36;
      }
    }
    *(_WORD *)v33 = 0;
    v15 += *(unsigned __int16 *)(a10 + 2 * v14);
    v33[0] = **(_BYTE **)(a7 + 8 * (unsigned __int16)v15);
    result = atoi(v33);
LABEL_18:
    v25 = 0;
    goto LABEL_19;
  }
  v29 = -1;
LABEL_36:
  if (*(_WORD *)(v10 + 2 * v29) != 1)
  {
    ++*a6;
    *(_WORD *)(v10 + 2 * v29) = 1;
  }
  if (*(_WORD *)(v11 + 2 * v29) != 1)
    *(_WORD *)(v11 + 2 * v29) = 1;
  return result;
}

uint64_t load_pw_cfg(uint64_t a1, uint64_t a2, uint64_t a3, unsigned __int8 *a4, uint64_t a5)
{
  const char *v10;
  char *v11;
  _BOOL4 v12;
  const char *v13;
  char *v14;
  uint64_t v15;
  uint64_t v16;
  unsigned __int16 v17;
  unsigned __int8 ChineseUTFCharNum;
  uint64_t v19;
  int v20;
  uint64_t v21;
  unsigned __int8 *v22;
  size_t v23;
  uint64_t v24;
  void *v25;
  int v26;
  int v27;
  char v28;
  uint64_t v29;
  uint64_t v30;
  unsigned __int8 *v31;
  size_t v32;
  uint64_t v33;
  void *v34;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  if (((*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", "fepw_enable_cscgroup", &__c[3], &__c[1], __c) & 0x80000000) != 0|| !*(_WORD *)&__c[1])
  {
    v12 = 1;
  }
  else
  {
    v10 = **(const char ***)&__c[3];
    v11 = strchr(**(char ***)&__c[3], __c[0]);
    if (v11)
    {
      *v11 = 0;
      v10 = **(const char ***)&__c[3];
    }
    v12 = strcmp(v10, "no") != 0;
  }
  *((_DWORD *)a4 + 8) = v12;
  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  if (((*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", "fepw_cscgroup_stopwords", &__c[3], &__c[1], __c) & 0x80000000) != 0|| !*(_WORD *)&__c[1])
  {
    a4[36] = 0;
  }
  else
  {
    v13 = **(const char ***)&__c[3];
    v14 = strchr(**(char ***)&__c[3], __c[0]);
    if (v14)
    {
      *v14 = 0;
      v13 = **(const char ***)&__c[3];
    }
    strcpy((char *)a4 + 36, v13);
  }
  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v15 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", "fepw_auxiliarywords", &__c[3], &__c[1], __c);
  if ((v15 & 0x80000000) != 0)
  {
    v20 = -1979703276;
  }
  else
  {
    v16 = v15;
    if (!*(_QWORD *)&__c[3] || *(unsigned __int16 *)&__c[1] != 1)
      goto LABEL_21;
    v17 = strlen(**(const char ***)&__c[3]);
    ChineseUTFCharNum = utf8_GetChineseUTFCharNum(**(_QWORD **)&__c[3], v17);
    *a4 = ChineseUTFCharNum;
    v19 = heap_Alloc(*(_QWORD *)(a5 + 8), 8 * ChineseUTFCharNum);
    *((_QWORD *)a4 + 1) = v19;
    v20 = -1979703286;
    if (v19)
    {
      if (*a4)
      {
        v21 = 0;
        v22 = **(unsigned __int8 ***)&__c[3];
        while (1)
        {
          v23 = (unsigned __int16)utf8_determineUTF8CharLength(*v22);
          *(_QWORD *)(*((_QWORD *)a4 + 1) + 8 * v21) = heap_Calloc(*(_QWORD **)(a5 + 8), 1, v23 + 1);
          v24 = *((_QWORD *)a4 + 1);
          v25 = *(void **)(v24 + 8 * v21);
          if (!v25)
            break;
          memcpy(v25, v22, v23);
          *(_BYTE *)(*(_QWORD *)(*((_QWORD *)a4 + 1) + 8 * v21) + v23) = 0;
          v22 += v23;
          if (++v21 >= (unint64_t)*a4)
            goto LABEL_21;
        }
        heap_Free(*(_QWORD **)(a5 + 8), v24);
        v20 = -1979703286;
        goto LABEL_24;
      }
LABEL_21:
      if (!(_DWORD)v16)
        goto LABEL_28;
      goto LABEL_25;
    }
  }
LABEL_24:
  LODWORD(v16) = v20;
LABEL_25:
  *((_QWORD *)a4 + 1) = 0;
  if ((_DWORD)v16 == -1979703286)
    v16 = 2315264010;
  else
    v16 = 0;
LABEL_28:
  a4[16] = 0;
  *((_QWORD *)a4 + 3) = 0;
  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v26 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", "fepw_custermizedchar", &__c[3], &__c[1], __c);
  if (v26 < 0)
  {
    v27 = -1979703276;
  }
  else
  {
    v27 = v26;
    if (!*(_QWORD *)&__c[3] || *(unsigned __int16 *)&__c[1] != 1)
    {
      a4[16] = 0;
      goto LABEL_39;
    }
    *(_BYTE *)(strlen(**(const char ***)&__c[3]) + **(_QWORD **)&__c[3] - 1) = 0;
    v28 = Utf8_Utf8NbrOfSymbols(**(const char ***)&__c[3]);
    a4[16] = v28 - 1;
    v29 = heap_Alloc(*(_QWORD *)(a5 + 8), 8 * (v28 - 1));
    *((_QWORD *)a4 + 3) = v29;
    if (v29)
    {
      if (!a4[16])
        goto LABEL_40;
      v30 = 0;
      v31 = **(unsigned __int8 ***)&__c[3];
      while (1)
      {
        v32 = (unsigned __int16)utf8_determineUTF8CharLength(*v31);
        *(_QWORD *)(*((_QWORD *)a4 + 3) + 8 * v30) = heap_Calloc(*(_QWORD **)(a5 + 8), 1, v32 + 1);
        v33 = *((_QWORD *)a4 + 3);
        v34 = *(void **)(v33 + 8 * v30);
        if (!v34)
          break;
        memcpy(v34, v31, v32);
        *(_BYTE *)(*(_QWORD *)(*((_QWORD *)a4 + 3) + 8 * v30) + v32) = 0;
        v31 += v32;
        if (++v30 >= (unint64_t)a4[16])
          goto LABEL_40;
      }
      heap_Free(*(_QWORD **)(a5 + 8), v33);
      v27 = -1979703286;
LABEL_39:
      *((_QWORD *)a4 + 3) = 0;
LABEL_40:
      if (!v27)
        return v16;
      goto LABEL_43;
    }
    v27 = -1979703286;
  }
LABEL_43:
  *((_QWORD *)a4 + 3) = 0;
  if (v27 == -1979703286)
    return 2315264010;
  else
    return v16;
}

_QWORD *freePwTids(_QWORD *result, uint64_t a2)
{
  uint64_t v2;
  unsigned int v4;
  _QWORD *v5;
  uint64_t v6;
  unint64_t v7;
  uint64_t v8;

  v2 = *(_QWORD *)(a2 + 1064);
  if (v2)
  {
    v4 = *(unsigned __int16 *)(a2 + 1072);
    if (*(_WORD *)(a2 + 1072))
    {
      v5 = result;
      v6 = 0;
      v7 = 0;
      do
      {
        v8 = *(_QWORD *)(v2 + v6);
        if (v8)
        {
          result = heap_Free((_QWORD *)v5[1], v8);
          v2 = *(_QWORD *)(a2 + 1064);
          *(_QWORD *)(v2 + v6) = 0;
          v4 = *(unsigned __int16 *)(a2 + 1072);
        }
        ++v7;
        v6 += 184;
      }
      while (v7 < v4);
    }
  }
  return result;
}

_QWORD *freePWInfo(_QWORD *result, uint64_t a2, unsigned int a3)
{
  uint64_t v3;
  _QWORD *v5;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;

  v3 = *(_QWORD *)(a2 + 1064);
  if (v3)
  {
    v5 = result;
    v7 = *(_QWORD *)(v3 + 184 * a3 + 40);
    if (v7)
    {
      result = heap_Free((_QWORD *)result[1], v7);
      v3 = *(_QWORD *)(a2 + 1064);
    }
    v8 = *(_QWORD *)(v3 + 184 * a3 + 24);
    if (v8)
    {
      result = heap_Free((_QWORD *)v5[1], v8);
      v3 = *(_QWORD *)(a2 + 1064);
    }
    v9 = v3 + 184 * a3;
    *(_QWORD *)(v9 + 40) = 0;
    *(_QWORD *)(v9 + 24) = 0;
  }
  return result;
}

uint64_t pw_Process(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t ****a6, uint64_t a7, _QWORD *a8, int a9, _QWORD *a10, uint64_t a11, int a12, int a13)
{
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v21;
  unsigned int v22;
  unsigned int v23;
  unsigned __int16 v24;
  unsigned __int16 v25;
  unsigned int v26;
  _BOOL4 v29;
  uint64_t v30;
  uint64_t v31;
  unsigned int v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  unsigned __int16 v40;
  int v41;
  unsigned int v42;
  uint64_t v43;
  unsigned int v44;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  unsigned int v59;
  unsigned int v60;
  uint64_t v61;
  unsigned __int16 v62;
  int v63;
  unsigned int v64;
  uint64_t v66;
  unsigned int word_separating_markers;
  char *v68;
  _WORD *v69;
  char *v70;
  int v71;
  char *v72;
  unsigned int v73;
  int v74;
  _BOOL4 IsChineseLetter;
  unsigned int v76;
  int v78;
  unsigned int v79;
  uint64_t *v80;
  unsigned int TNmarker;
  uint64_t *v82;
  char *v83;
  uint64_t v84;
  uint64_t v85;
  int v86;
  void *v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t *v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t v97;
  unsigned int v98;
  uint64_t v99;
  uint64_t v100;
  uint64_t v101;
  uint64_t v102;
  int v103;
  int *v104;
  uint64_t v105;
  uint64_t v106;
  unsigned __int16 v107;
  uint64_t v108;
  uint64_t v109;
  uint64_t v110;
  uint64_t *v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t *v115;
  BOOL v116;
  unsigned int v118;
  unsigned __int16 v119;
  uint64_t v120;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  int v124;
  unsigned __int16 v125;
  int v126;
  uint64_t v127;
  uint64_t v128;
  int v129;
  unsigned int v130;
  uint64_t *v131;
  size_t v132;
  size_t v133;
  size_t v134;
  char *v135;
  char *v136;
  char *v137;
  char *v138;
  size_t v139;
  uint64_t v140;
  uint64_t v141;
  char *v142;
  uint64_t v143;
  int v144;
  char *v145;
  char *v146;
  int v147;
  char *i;
  char *v149;
  __int16 v150;
  char v151;
  unsigned __int16 v152;
  __int16 v153;
  uint64_t v154;
  uint64_t v155;
  size_t v156;
  unsigned __int16 **v157;
  uint64_t v158;
  __int16 v159;
  size_t v160;
  char *v161;
  char *v162;
  char *v163;
  __int16 v164;
  size_t v165;
  char *v166;
  __int16 v167;
  unsigned __int16 v168;
  uint64_t v169;
  __int16 v170;
  uint64_t v171;
  size_t v172;
  uint64_t v173;
  unsigned __int16 v174;
  char *v175;
  size_t v176;
  char *v177;
  unsigned __int16 v178;
  int v179;
  int v180;
  uint64_t v182;
  uint64_t v183;
  unsigned int v184;
  uint64_t v186;
  _BOOL4 v187;
  unint64_t v188;
  uint64_t v189;
  int *v190;
  int v191;
  unsigned int *v192;
  uint64_t v193;
  unsigned int v194;
  unsigned int v195;
  unsigned int v197;
  int v198;
  unsigned __int8 v199;
  unint64_t v200;
  unint64_t v201;
  uint64_t v202;
  uint64_t v203;
  uint64_t v204;
  const char *v205;
  unsigned __int8 v206;
  size_t v207;
  size_t v208;
  size_t v209;
  BOOL v210;
  const char *v211;
  size_t v212;
  unint64_t v213;
  uint64_t v214;
  const char *v215;
  size_t v216;
  size_t v217;
  size_t v218;
  uint64_t v219;
  __int16 v220;
  size_t v221;
  size_t v222;
  uint64_t v223;
  uint64_t v224;
  uint64_t v225;
  uint64_t v226;
  uint64_t v227;
  __int16 v228;
  uint64_t v229;
  int v230;
  uint64_t v231;
  size_t v232;
  char *v233;
  uint64_t v234;
  uint64_t v235;
  _BOOL4 *v236;
  int v237;
  _BOOL4 v238;
  int v239;
  __int16 v240;
  uint64_t v241;
  uint64_t v242;
  __int16 v243;
  unsigned __int16 v244;
  unsigned __int16 v245;
  unsigned __int16 v246;
  int v247;
  uint64_t *v248;
  char v249;
  int v250;
  char *__s;
  unsigned int v252;
  unsigned int v253;
  uint64_t *v254;
  unsigned int v255;
  uint64_t v256;
  const char **v257;
  unsigned __int16 v258;
  unsigned __int8 *v259;
  unsigned __int16 v260;
  unsigned __int16 *v262;
  uint64_t v263;
  uint64_t v264;
  int v265;
  int v266;
  int v267;
  char __s1[4];
  char v269;
  const char *v270;
  char *v271;
  uint64_t v272;
  _DWORD v273[2];
  int v274;
  uint64_t *v275;
  unsigned int v276;
  int *v277;
  _DWORD v278[256];
  int v279;
  char *v280;
  const char *v281;
  unsigned __int16 v282;
  unsigned __int16 v283;
  const char *v284;
  char *v285;
  char *v286;
  char *v287;
  unsigned int v288;
  __int16 v289;
  int v290;
  int v291;
  int v292;
  char v293[8];
  __int128 v294;
  __int128 v295;
  __int128 v296;
  __int128 v297;
  uint64_t v298;

  v298 = *MEMORY[0x1E0C80C00];
  v291 = 0;
  v292 = 0;
  v290 = 0;
  v289 = 0;
  v286 = &byte_1DEBD87CE;
  v287 = 0;
  v285 = 0;
  v282 = 0;
  v280 = 0;
  v281 = 0;
  v277 = 0;
  v276 = 0;
  v275 = 0;
  v274 = 0;
  BYTE2(v273[1]) = 0;
  strcpy((char *)v273, "latin");
  v297 = 0u;
  v296 = 0u;
  v295 = 0u;
  v294 = 0u;
  v271 = 0;
  v272 = 0;
  v13 = 2315264007;
  if (a3)
  {
    v14 = a4;
    if (a4)
    {
      v15 = a5;
      if (a5)
      {
        if (a6 && a7 && a8)
        {
          bzero(v278, 0x404uLL);
          *(_QWORD *)(v15 + 1088) = 0;
          *(_QWORD *)(v15 + 1064) = 0;
          if (*(_WORD *)(v15 + 1098) != 1)
            return 0;
          v288 = 0;
          v284 = 0;
          v283 = 0;
          v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *))(a3 + 176))(a1, a2, *(unsigned __int16 *)(v15 + 1096), 0, v15 + 1088, (char *)&v292 + 2);
          if ((v13 & 0x80000000) == 0 && HIWORD(v292) >= 2u)
          {
            v257 = (const char **)(v15 + 1088);
            v21 = *(unsigned __int16 *)(v15 + 1096);
            *(_WORD *)v293 = 0;
            LODWORD(v270) = 0;
            *(_WORD *)__s1 = 0;
            LOWORD(v267) = 0;
            LOWORD(v266) = 0;
            v22 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a3 + 104))(a1, a2, 2, v21, v293);
            v23 = v22;
            v263 = v14;
            v264 = a2;
            if ((v22 & 0x80000000) == 0)
            {
              v24 = *(_WORD *)v293;
              if (*(_WORD *)v293)
              {
                v25 = 0;
                while (1)
                {
                  v26 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, const char **, char *))(a3 + 168))(a1, a2, v24, 0, 1, &v270, __s1);
                  if ((v26 & 0x80000000) != 0)
                    break;
                  if (v270 > 0xA || ((1 << (char)v270) & 0x610) == 0)
                  {
                    v31 = 0;
                    v30 = *(unsigned __int16 *)v293;
                  }
                  else
                  {
                    v26 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a3 + 168))(a1, a2, *(unsigned __int16 *)v293, 1, 1, &v267, __s1);
                    if ((v26 & 0x80000000) != 0)
                      break;
                    v26 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a3 + 168))(a1, a2, *(unsigned __int16 *)v293, 2, 1, &v266, __s1);
                    if ((v26 & 0x80000000) != 0)
                      break;
                    v29 = (unsigned __int16)v267 > v25 || (unsigned __int16)v266 > v25;
                    v30 = *(unsigned __int16 *)v293;
                    if (v29)
                    {
                      v25 = v266;
                      v31 = 0;
                    }
                    else
                    {
                      v31 = *(unsigned __int16 *)v293;
                    }
                  }
                  v32 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, char *))(a3 + 120))(a1, a2, v30, v293);
                  if ((v32 & 0x80000000) != 0
                    || (_DWORD)v31
                    && (log_OutText(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s", v33, v34, v35, (uint64_t)"Dropping nested word record"), v32 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(a3 + 192))(a1, a2, v31), (v32 & 0x80000000) != 0))
                  {
                    v23 = v32;
                    v14 = v263;
                    goto LABEL_136;
                  }
                  v24 = *(_WORD *)v293;
                  v14 = v263;
                  if (!*(_WORD *)v293)
                    goto LABEL_37;
                }
                v23 = v26;
LABEL_136:
                v107 = 0;
                v51 = 0;
                v61 = 0;
                v106 = 0;
                goto LABEL_143;
              }
            }
            if ((v22 & 0x80000000) != 0)
            {
              v107 = 0;
              v51 = 0;
              v61 = 0;
              v106 = 0;
              goto LABEL_143;
            }
LABEL_37:
            v36 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a3 + 104))(a1, a2, 2, *(unsigned __int16 *)(v15 + 1096), &v292);
            v13 = v36;
            if ((v36 & 0x80000000) != 0)
            {
              v107 = 0;
              v61 = 0;
              v106 = 0;
              v23 = v36;
              v51 = 0;
              goto LABEL_143;
            }
            v40 = v292;
            if (!(_WORD)v292)
              goto LABEL_138;
            v255 = 0;
            v258 = 0;
            v260 = 0;
            v41 = 0;
            v23 = -1979703286;
            v254 = (uint64_t *)(v15 + 1064);
            while (1)
            {
              v42 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a3 + 120))(a1, a2, v40, (char *)&v291 + 2);
              if ((v42 & 0x80000000) != 0)
                break;
              v43 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a3 + 168))(a1, a2, (unsigned __int16)v292, 0, 1, &v288, (char *)&v292 + 2);
              v13 = v43;
              if ((v43 & 0x80000000) != 0)
              {
                v61 = 0;
                v106 = 0;
                v23 = v43;
                v51 = 0;
                goto LABEL_141;
              }
              v44 = v288;
              if (v288 <= 0xA && ((1 << v288) & 0x610) != 0)
              {
                v46 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a3 + 168))(a1, a2, (unsigned __int16)v292, 1, 1, &v291, (char *)&v292 + 2);
                if ((v46 & 0x80000000) != 0)
                  return v46;
                v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a3 + 168))(a1, a2, (unsigned __int16)v292, 2, 1, (char *)&v290 + 2, (char *)&v292 + 2);
                if ((v13 & 0x80000000) != 0)
                  return v13;
                if (!(_WORD)v291
                  || v41 + 1 == (unsigned __int16)v291 && HIWORD(v290) > (unsigned __int16)v291)
                {
                  ++v260;
                  v41 = HIWORD(v290);
                }
                v44 = v288;
              }
              if (v44 == 5)
              {
                v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, char *))(a3 + 176))(a1, a2, (unsigned __int16)v292, 4, &v281, (char *)&v292 + 2);
                if ((v13 & 0x80000000) != 0)
                  return v13;
                if (HIWORD(v292))
                {
                  if (!strncmp(v281, "prompt", HIWORD(v292)))
                  {
                    ++v258;
                    if (v255 <= 0x7F)
                    {
                      v46 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a3 + 168))(a1, a2, (unsigned __int16)v292, 1, 1, &v291, (char *)&v292 + 2);
                      if ((v46 & 0x80000000) != 0)
                        return v46;
                      v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a3 + 168))(a1, a2, (unsigned __int16)v292, 2, 1, (char *)&v290 + 2, (char *)&v292 + 2);
                      if ((v13 & 0x80000000) != 0)
                        return v13;
                      v278[v255] = (unsigned __int16)v291;
                      v278[v279 + 128] = HIWORD(v290);
                      v255 = ++v279;
                    }
                  }
                }
              }
              v40 = HIWORD(v291);
              LOWORD(v292) = HIWORD(v291);
              if (!HIWORD(v291))
              {
                v14 = v263;
                if (v258 >= 0x81u)
                  log_OutText(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Warning: the prompt number %d is large than the threshold %d, so the last %d promp not used to guide grouping", v37, v38, v39, v258);
                if (v260)
                {
                  v51 = (uint64_t *)heap_Calloc(*(_QWORD **)(v263 + 8), v260, 40);
                  if (v51)
                  {
                    v259 = (unsigned __int8 *)v15;
                    v52 = 0;
                    do
                    {
                      v53 = heap_Calloc(*(_QWORD **)(v263 + 8), 128, 1);
                      v51[v52] = v53;
                      if (!v53 || (v58 = heap_Calloc(*(_QWORD **)(v263 + 8), 1, 64), (v51[v52 + 1] = v58) == 0))
                      {
                        log_OutPublic(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v54, v55, v56, v57, v241);
                        v61 = 0;
                        v106 = 0;
                        v15 = (uint64_t)v259;
                        v107 = v260;
                        goto LABEL_143;
                      }
                      v52 += 5;
                    }
                    while (5 * v260 != v52);
                    v15 = (uint64_t)v259;
                    v59 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a3 + 104))(a1, a2, 2, *((unsigned __int16 *)v259 + 548), &v292);
                    if ((v59 & 0x80000000) != 0)
                    {
                      v61 = 0;
                      v106 = 0;
                      v23 = v59;
                    }
                    else
                    {
                      v60 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, const char **, char *))(a3 + 176))(a1, a2, *((unsigned __int16 *)v259 + 548), 0, v257, (char *)&v292 + 2);
                      v61 = 0;
                      if ((v60 & 0x80000000) == 0)
                      {
                        v256 = a3;
                        if (HIWORD(v292) >= 2u)
                        {
                          v248 = v51;
                          v62 = v292;
                          if ((_WORD)v292)
                          {
                            v246 = 0;
                            v63 = 0;
                            while (1)
                            {
                              v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(v256 + 120))(a1, v264, v62, (char *)&v291 + 2);
                              if ((v64 & 0x80000000) != 0)
                                break;
                              v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(v256 + 168))(a1, v264, (unsigned __int16)v292, 0, 1, &v288, (char *)&v292 + 2);
                              if ((v64 & 0x80000000) != 0)
                                break;
                              if (v288 <= 0xA && ((1 << v288) & 0x610) != 0)
                              {
                                v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(v256 + 168))(a1, v264, (unsigned __int16)v292, 1, 1, &v291, (char *)&v292 + 2);
                                if ((v64 & 0x80000000) != 0)
                                  break;
                                v64 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(v256 + 168))(a1, v264, (unsigned __int16)v292, 2, 1, (char *)&v290 + 2, (char *)&v292 + 2);
                                if ((v64 & 0x80000000) != 0)
                                  break;
                                if (!(_WORD)v291
                                  || v63 + 1 == (unsigned __int16)v291
                                  && HIWORD(v290) > (unsigned __int16)v291)
                                {
                                  v66 = v256;
                                  word_separating_markers = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v256 + 176))(a1, v264, (unsigned __int16)v292, 3, &v280, (char *)&v292 + 2);
                                  if ((word_separating_markers & 0x80000000) != 0)
                                    goto LABEL_186;
                                  v68 = v280;
                                  v69 = (_WORD *)&v51[5 * v246 + 3] + 1;
                                  if (strstr(v280, "comma"))
                                  {
                                    *v69 = 11;
                                  }
                                  else
                                  {
                                    *v69 = 1;
                                    v70 = strchr(v68, 46);
                                    v285 = v70;
                                    if (v70)
                                    {
                                      v71 = 1;
                                      do
                                      {
                                        v72 = v70 + 1;
                                        v285 = v72;
                                        *v69 = ++v71;
                                        v70 = strchr(v72, 46);
                                        v285 = v70;
                                      }
                                      while (v70);
                                    }
                                  }
                                  v73 = (unsigned __int16)v291;
                                  if ((unsigned __int16)v291 >= HIWORD(v290))
                                  {
                                    v74 = 0;
                                  }
                                  else
                                  {
                                    v74 = 0;
                                    do
                                    {
                                      IsChineseLetter = utf8_IsChineseLetter(&(*v257)[v73]);
                                      v76 = (*v257)[v73];
                                      if (v76 > 0x3E || ((1 << v76) & 0x4C00510000000000) == 0)
                                        v78 = 1;
                                      else
                                        v78 = v74;
                                      if (!IsChineseLetter)
                                        v74 = v78;
                                      v73 += utf8_determineUTF8CharLength((*v257)[v73]);
                                    }
                                    while (v73 < HIWORD(v290));
                                  }
                                  v79 = v246;
                                  v80 = &v51[5 * v246];
                                  *((_WORD *)v80 + 12) = v292;
                                  if (!a12)
                                  {
                                    TNmarker = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v256 + 176))(a1, v264, (unsigned __int16)v292, 14, &v286, (char *)&v292 + 2);
                                    if ((TNmarker & 0x80000000) != 0)
                                      goto LABEL_131;
                                    if (!hlp_NLUStrFind(v286, "POS", (uint64_t *)&v284, &v283))
                                    {
                                      v61 = 0;
                                      v106 = 0;
                                      v23 = -1979703296;
                                      goto LABEL_132;
                                    }
                                    v82 = &v51[5 * v246];
                                    *(_BYTE *)v82[1] = 0;
                                    v83 = (char *)v82[1];
                                    if (v74)
                                      *(_DWORD *)&v83[strlen((const char *)v82[1])] = 7237486;
                                    else
                                      strncat(v83, v284, v283);
                                    v66 = v256;
                                    v79 = v246;
                                  }
                                  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(v66 + 184))(a1, v264, (unsigned __int16)v292, 9, (char *)&v292 + 2) & 0x80000000) == 0&& HIWORD(v292) == 1)
                                  {
                                    TNmarker = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(v66 + 176))(a1, v264, (unsigned __int16)v292, 9, &v51[5 * v79 + 2], (char *)&v292 + 2);
                                    if ((TNmarker & 0x80000000) != 0)
                                      goto LABEL_131;
                                  }
                                  v84 = HIWORD(v290);
                                  v85 = (unsigned __int16)v291;
                                  v86 = HIWORD(v290) - (unsigned __int16)v291;
                                  v87 = (void *)*v80;
                                  if (v86 >= 128)
                                  {
                                    v88 = heap_Realloc(*(uint64_t **)(v263 + 8), *v80, (v86 + 1));
                                    *v80 = v88;
                                    if (!v88)
                                    {
                                      v14 = v263;
                                      log_OutPublic(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v89, v90, v91, v92, v241);
                                      v61 = 0;
                                      v106 = 0;
                                      goto LABEL_187;
                                    }
                                    v87 = (void *)v88;
                                    v85 = (unsigned __int16)v291;
                                    v84 = HIWORD(v290);
                                  }
                                  v15 = (uint64_t)v259;
                                  memcpy(v87, &(*v257)[v85], v84 - v85);
                                  *(_BYTE *)(*v80 - (unsigned __int16)v291 + HIWORD(v290)) = 0;
                                  v93 = &v51[5 * v79];
                                  v63 = HIWORD(v290);
                                  *((_DWORD *)v93 + 7) = (unsigned __int16)v291;
                                  *((_DWORD *)v93 + 8) = v63;
                                  ++v246;
                                  v14 = v263;
                                }
                              }
                              v62 = HIWORD(v291);
                              LOWORD(v292) = HIWORD(v291);
                              if (!HIWORD(v291))
                                goto LABEL_120;
                            }
                            v61 = 0;
                            v106 = 0;
                            v23 = v64;
LABEL_188:
                            v107 = v260;
                            goto LABEL_143;
                          }
LABEL_120:
                          v94 = a1;
                          word_separating_markers = pw_get_word_separating_markers(v256, v14, a1, v264, *(unsigned __int16 *)(v15 + 1096), (uint64_t *)&v277, &v276);
                          if ((word_separating_markers & 0x80000000) != 0)
                          {
LABEL_186:
                            v61 = 0;
                            v106 = 0;
                            v23 = word_separating_markers;
                            goto LABEL_187;
                          }
                          v98 = v276;
                          log_OutText(*(_QWORD *)(v14 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Info: Valid Word Seperator Markers Count:%d", v95, v96, v97, v276);
                          v102 = v14;
                          if (v98)
                          {
                            v103 = 0;
                            v104 = v277;
                            do
                              log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Info: Valid Word Seperator Markers POS:%d", v99, v100, v101, v104[(unsigned __int16)v103++]);
                            while (v98 > (unsigned __int16)v103);
                          }
                          TNmarker = getTNmarker(*((unsigned __int16 *)v259 + 548), v102, v256, a1, v264, &v272);
                          if ((TNmarker & 0x80000000) != 0
                            || (v105 = v272,
                                *a10 = v272,
                                *((_WORD *)v259 + 536) = 0,
                                *((_QWORD *)v259 + 133) = 0,
                                TNmarker = pw_nn_process(v263, a6, v51, v260, (uint64_t *)&v275, &v290, a7, a8, a9, v105, v259[16], *((const char ***)v259 + 3), a13), (TNmarker & 0x80000000) != 0)|| (paramc_ParamGetStr(*(_QWORD *)(v263 + 40), (uint64_t)"spaceInPYT", &v287) & 0x80000000) == 0&& !LH_stricmp(v287, "yes")&& (TNmarker = pw_PYT_process(v256, a1,
                                             v264,
                                             v263,
                                             (uint64_t)v51,
                                             v260,
                                             v277,
                                             v98,
                                             (uint64_t *)&v275,
                                             (unsigned __int16 *)&v290),
                                (TNmarker & 0x80000000) != 0))
                          {
LABEL_131:
                            v61 = 0;
                            v106 = 0;
                            v23 = TNmarker;
                            goto LABEL_132;
                          }
                          v262 = (unsigned __int16 *)(v259 + 1072);
                          if (*((_DWORD *)v259 + 8) == 1)
                          {
                            TNmarker = pw_group_csc(v263, (uint64_t)v278, (uint64_t)v51, v260, (char *)v259 + 36, (uint64_t)v275, (unsigned __int16)v290, v254, v262, *v259, *((const char ***)v259 + 1));
                            if ((TNmarker & 0x80000000) != 0)
                              goto LABEL_131;
                          }
                          else
                          {
                            *v262 = v290;
                            *v254 = (uint64_t)v275;
                            v275 = 0;
                            LOWORD(v290) = 0;
                          }
                          v118 = pw_respect_word_separating_markers(v256, v263, a1, v264, *((unsigned __int16 *)v259 + 548), v254, v262);
                          if ((v118 & 0x80000000) != 0
                            || a11
                            && (v118 = pw_igtree_process(v263, (uint64_t)v51, v254, v262, v260, a11),
                                (v118 & 0x80000000) != 0))
                          {
                            v61 = 0;
                            v106 = 0;
                            v23 = v118;
                            goto LABEL_132;
                          }
                          if (!*v257)
                          {
                            v14 = v263;
                            v15 = (uint64_t)v259;
                            freePwTids((_QWORD *)v263, (uint64_t)v259);
                            v61 = 0;
                            v106 = 0;
                            v23 = v118;
                            goto LABEL_188;
                          }
                          __s = (char *)heap_Calloc(*(_QWORD **)(v263 + 8), 1024, 1);
                          if (!__s)
                          {
                            v61 = 0;
                            v106 = 0;
LABEL_132:
                            v14 = v263;
LABEL_187:
                            v15 = (uint64_t)v259;
                            goto LABEL_188;
                          }
                          v106 = heap_Calloc(*(_QWORD **)(v263 + 8), 64, 1);
                          if (!v106)
                            goto LABEL_416;
                          v119 = strlen(*((const char **)v259 + 136));
                          v120 = heap_Calloc(*(_QWORD **)(v263 + 8), *((unsigned __int16 *)v259 + 536), v119 + 2);
                          *((_QWORD *)v259 + 135) = v120;
                          if (!v120)
                            goto LABEL_416;
                          if (*v262)
                          {
                            v124 = 0;
                            v125 = 0;
                            v244 = 64;
                            v245 = 1024;
                            while (1)
                            {
                              v252 = v125;
                              v126 = *(unsigned __int16 *)(*v254 + 184 * v125 + 8);
                              if (v126 == 1)
                                break;
                              if (!v126)
                              {
                                v14 = v263;
                                log_OutText(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Error: the prosody word should has at least one lexical word", v121, v122, v123, v242);
LABEL_417:
                                v15 = (uint64_t)v259;
                                v107 = v260;
                                v51 = v248;
                                v61 = (uint64_t)__s;
LABEL_143:
                                if (v271)
                                {
                                  heap_Free(*(_QWORD **)(v14 + 8), (uint64_t)v271);
                                  v271 = 0;
                                }
                                if ((v23 & 0x80000000) != 0)
                                {
                                  v108 = v272;
                                  if (v272)
                                  {
                                    v109 = *(_QWORD *)(v272 + 8);
                                    if (v109)
                                      heap_Free(*(_QWORD **)(v14 + 8), v109);
                                    *(_QWORD *)(v108 + 8) = 0;
                                    heap_Free(*(_QWORD **)(v14 + 8), v108);
                                    v272 = 0;
                                  }
                                  freePwTids((_QWORD *)v14, v15);
                                }
                                if (v277)
                                  heap_Free(*(_QWORD **)(v14 + 8), (uint64_t)v277);
                                if (v51)
                                {
                                  if (v107)
                                  {
                                    v110 = v107;
                                    v111 = v51 + 1;
                                    do
                                    {
                                      v112 = *(v111 - 1);
                                      if (v112)
                                      {
                                        heap_Free(*(_QWORD **)(v14 + 8), v112);
                                        *(v111 - 1) = 0;
                                      }
                                      if (*v111)
                                      {
                                        heap_Free(*(_QWORD **)(v14 + 8), *v111);
                                        *v111 = 0;
                                      }
                                      v111 += 5;
                                      --v110;
                                    }
                                    while (v110);
                                  }
                                  heap_Free(*(_QWORD **)(v14 + 8), (uint64_t)v51);
                                }
                                v113 = (uint64_t)v275;
                                if (v275)
                                {
                                  v114 = (unsigned __int16)v290;
                                  if ((_WORD)v290)
                                  {
                                    v115 = v275;
                                    do
                                    {
                                      if (*v115)
                                      {
                                        heap_Free(*(_QWORD **)(v14 + 8), *v115);
                                        *v115 = 0;
                                      }
                                      v115 += 23;
                                      --v114;
                                    }
                                    while (v114);
                                  }
                                  heap_Free(*(_QWORD **)(v14 + 8), v113);
                                  v275 = 0;
                                }
                                if (v61)
                                  heap_Free(*(_QWORD **)(v14 + 8), v61);
                                if (v106)
                                  heap_Free(*(_QWORD **)(v14 + 8), v106);
                                if ((_WORD)v290)
                                  v116 = 0;
                                else
                                  v116 = v23 == -1979703288;
                                if (v116)
                                  return 0;
                                else
                                  return v23;
                              }
                              v270 = 0;
                              v243 = strlen(*v257);
                              bzero(__s, 0x400uLL);
                              *(_OWORD *)(v106 + 32) = 0u;
                              *(_OWORD *)(v106 + 48) = 0u;
                              *(_OWORD *)v106 = 0u;
                              *(_OWORD *)(v106 + 16) = 0u;
                              v297 = 0u;
                              v296 = 0u;
                              v295 = 0u;
                              v294 = 0u;
                              v127 = *v254;
                              if (*(_WORD *)(*v254 + 184 * v252 + 8))
                              {
                                v128 = 0;
                                v129 = 0;
                                v250 = 1;
                                while (1)
                                {
                                  v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(v256 + 168))(v94, v264, *(unsigned __int16 *)(*(_QWORD *)(v127 + 184 * v252) + 2 * v128), 1, 1, &v291, (char *)&v292 + 2);
                                  if ((v130 & 0x80000000) != 0)
                                    break;
                                  v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(v256 + 168))(v94, v264, *(unsigned __int16 *)(*(_QWORD *)(*v254 + 184 * v252) + 2 * v128), 2, 1, (char *)&v290 + 2, (char *)&v292 + 2);
                                  if ((v130 & 0x80000000) != 0)
                                    break;
                                  v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v256 + 176))(v94, v264, *(unsigned __int16 *)(*(_QWORD *)(*v254 + 184 * v252) + 2 * v128), 3, &v280, (char *)&v292 + 2);
                                  if ((v130 & 0x80000000) != 0)
                                    break;
                                  if (a12
                                    && ((*(void (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned __int16 *))(v256 + 184))(v94, v264, (unsigned __int16)v292, 14, &v282), v282 != 1))
                                  {
                                    v247 = 0;
                                    v249 = 1;
                                  }
                                  else
                                  {
                                    v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v256 + 176))(v94, v264, *(unsigned __int16 *)(*(_QWORD *)(*v254 + 184 * v252) + 2 * v128), 14, &v286, (char *)&v292 + 2);
                                    if ((v130 & 0x80000000) != 0)
                                      break;
                                    v249 = 0;
                                    v247 = 1;
                                  }
                                  if (!v128)
                                    *(_WORD *)(*v254 + 184 * v252 + 16) = v291;
                                  if ((v249 & 1) == 0)
                                  {
                                    v131 = *(uint64_t **)(v263 + 8);
                                    v132 = strlen(v286);
                                    v133 = v132;
                                    if (v271)
                                    {
                                      v134 = strlen(v271);
                                      v135 = (char *)heap_Realloc(v131, (uint64_t)v271, v133 + v134 + 2);
                                      if (!v135)
                                        goto LABEL_416;
                                      v136 = v135;
                                      v271 = v135;
                                      *(_WORD *)&v135[strlen(v135)] = 59;
                                      strcat(v136, v286);
                                    }
                                    else
                                    {
                                      v137 = (char *)heap_Alloc((uint64_t)v131, v132 + 1);
                                      v271 = v137;
                                      if (!v137)
                                        goto LABEL_416;
                                      strcpy(v137, v286);
                                    }
                                  }
                                  if (v250)
                                  {
                                    v250 = 0;
                                    if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned __int16 *))(v256 + 184))(v94, v264, *(unsigned __int16 *)(*(_QWORD *)(*v254 + 184 * v252) + 2 * v128), 10, &v282) & 0x80000000) == 0&& v282 == 1)
                                    {
                                      v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, char *))(v256 + 176))(v94, v264, *(unsigned __int16 *)(*(_QWORD *)(*v254 + 184 * v252) + 2 * v128), 10, &v270, (char *)&v292 + 2);
                                      if ((v130 & 0x80000000) != 0)
                                        break;
                                      v250 = 1;
                                    }
                                  }
                                  else
                                  {
                                    v250 = 0;
                                  }
                                  v138 = v280;
                                  if (v128)
                                  {
                                    v139 = strlen(__s);
                                    if (v139 + strlen(v280) + 1 > v245)
                                    {
                                      v140 = heap_Realloc(*(uint64_t **)(v263 + 8), (uint64_t)__s, (unsigned __int16)(v245 + 1024));
                                      if (!v140)
                                        goto LABEL_416;
                                      __s = (char *)v140;
                                      v245 += 1024;
                                    }
                                    (*v257)[(unsigned __int16)v291 - 1] = 45;
                                    v138 = v280;
                                    if (*v280)
                                    {
                                      *(_WORD *)&__s[strlen(__s)] = 46;
                                      v138 = v280;
                                    }
                                    v141 = *(unsigned __int16 *)(*(_QWORD *)(*v254 + 184 * v252) + 2 * v128);
                                    v142 = strstr(v138, "{SEP");
                                    v285 = v142;
                                    if (v142)
                                    {
                                      v285 = v142 + 4;
                                      v142[4] += v129;
                                      v138 = v280;
                                    }
                                  }
                                  else
                                  {
                                    v141 = 0;
                                  }
                                  strcat(__s, v138);
                                  if ((v249 & 1) == 0 && hlp_NLUStrFind(v286, "POS", (uint64_t *)&v284, &v283))
                                  {
                                    if (strlen((const char *)v106) + v283 + 2 > v244)
                                    {
                                      v143 = heap_Realloc(*(uint64_t **)(v263 + 8), v106, (unsigned __int16)(v244 + 64) + 1);
                                      if (!v143)
                                        goto LABEL_416;
                                      v106 = v143;
                                      v244 += 64;
                                    }
                                    if (*(_BYTE *)v106)
                                      *(_WORD *)(v106 + strlen((const char *)v106)) = 45;
                                    strncat((char *)v106, v284, v283);
                                  }
                                  v144 = v250;
                                  if (!v270)
                                    v144 = 0;
                                  if (v144 == 1)
                                    __strcat_chk();
                                  v145 = v280;
                                  if (v280)
                                  {
                                    do
                                    {
                                      v146 = v145;
                                      v147 = v129;
                                      v129 = 0;
                                      v285 = strstr(v145, "{SEP");
                                      v145 = v285 + 1;
                                    }
                                    while (v285);
                                    for (i = v146; ; i = v149 + 1)
                                    {
                                      v149 = strchr(i, 46);
                                      v285 = v149;
                                      if (!v149)
                                        break;
                                      ++v147;
                                    }
                                  }
                                  else
                                  {
                                    v147 = v129;
                                  }
                                  if ((_DWORD)v141)
                                  {
                                    v130 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v256 + 192))(v94, v264, v141);
                                    if ((v130 & 0x80000000) != 0)
                                      break;
                                  }
                                  v129 = v147 + 1;
                                  v127 = *v254;
                                  if (++v128 >= (unint64_t)*(unsigned __int16 *)(*v254 + 184 * v252 + 8))
                                    goto LABEL_266;
                                }
LABEL_415:
                                v23 = v130;
                                goto LABEL_416;
                              }
                              v250 = 1;
                              v247 = v124;
LABEL_266:
                              if (v247)
                              {
                                v130 = pw_merge_NLU(v263, &v271);
                                if ((v130 & 0x80000000) != 0)
                                  goto LABEL_415;
                                v127 = *v254;
                              }
                              if (*((_DWORD *)v259 + 8) == 1)
                              {
                                pw_split_csc_pw(v127 + 184 * v252, __s);
                                v127 = *v254;
                              }
                              v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(v256 + 160))(v94, v264, **(unsigned __int16 **)(v127 + 184 * v252), 2, 1, (char *)&v290 + 2, &v289);
                              if ((v130 & 0x80000000) != 0)
                                goto LABEL_415;
                              v152 = v252 + v252 * v243;
                              v153 = HIWORD(v290);
                              v154 = *((_QWORD *)v259 + 133) + 184 * v252;
                              *(_WORD *)(v154 + 18) = HIWORD(v290);
                              v155 = *(unsigned __int16 *)(v154 + 16);
                              v156 = (unsigned __int16)(v153 - v155);
                              memcpy((void *)(*((_QWORD *)v259 + 135) + v152), (const void *)(*((_QWORD *)v259 + 136) + v155), v156);
                              *(_BYTE *)(*((_QWORD *)v259 + 135) + v152 + v156) = 0;
                              v157 = (unsigned __int16 **)(*((_QWORD *)v259 + 133) + 184 * v252);
                              v157[7] = (unsigned __int16 *)(*((_QWORD *)v259 + 135) + v152);
                              v158 = **v157;
                              v159 = strlen(__s);
                              v130 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD, char *, __int16 *))(v256 + 160))(v94, v264, v158, 3, (unsigned __int16)(v159 + 1), __s, &v289);
                              if ((v130 & 0x80000000) != 0)
                                goto LABEL_415;
                              v160 = strlen(__s);
                              v161 = (char *)heap_Alloc(*(_QWORD *)(v263 + 8), v160 + 1);
                              *(_QWORD *)(*v254 + 184 * v252 + 24) = v161;
                              if (!v161)
                                goto LABEL_416;
                              strcpy(v161, __s);
                              if (v247)
                              {
                                v162 = v271;
                                hlp_NLUStrRemoveKeyVal(v271, "POS");
                                hlp_NLUStrSet(v162, "POS", (char *)v106);
                                v163 = v271;
                                v164 = strlen(v271);
                                (*(void (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(v256 + 160))(v94, v264, **(unsigned __int16 **)(*v254 + 184 * v252), 14, (unsigned __int16)(v164 + 1), v271, &v289);
                                v165 = strlen(v163);
                                v166 = (char *)heap_Alloc(*(_QWORD *)(v263 + 8), v165 + 1);
                                *(_QWORD *)(*v254 + 184 * v252 + 40) = v166;
                                if (!v166)
                                  goto LABEL_416;
                                strcpy(v166, v163);
                                v286 = &byte_1DEBD87CE;
                                if (v163)
                                {
                                  heap_Free(*(_QWORD **)(v263 + 8), (uint64_t)v163);
                                  v271 = 0;
                                }
                              }
                              if (v250)
                              {
                                v167 = strlen((const char *)&v294);
                                v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, __int128 *, __int16 *))(v256 + 160))(v94, v264, **(unsigned __int16 **)(*v254 + 184 * v252), 10, (unsigned __int16)(v167 + 1), &v294, &v289);
                                if ((v130 & 0x80000000) != 0)
                                  goto LABEL_415;
                              }
LABEL_290:
                              v125 = v252 + 1;
                              v124 = v247;
                              if (*v262 <= (unsigned __int16)(v252 + 1))
                                goto LABEL_291;
                            }
                            v150 = strlen(*v257);
                            v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t, char *))(v256 + 168))(v94, v264, **(unsigned __int16 **)(*v254 + 184 * v252), 1, 1, *v254 + 184 * v252 + 16, (char *)&v292 + 2);
                            if ((v130 & 0x80000000) != 0)
                              goto LABEL_415;
                            v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t, char *))(v256 + 168))(v94, v264, **(unsigned __int16 **)(*v254 + 184 * v252), 2, 1, *v254 + 184 * v252 + 18, (char *)&v292 + 2);
                            if ((v130 & 0x80000000) != 0)
                              goto LABEL_415;
                            v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v256 + 176))(v94, v264, **(unsigned __int16 **)(*v254 + 184 * v252), 3, &v280, (char *)&v292 + 2);
                            if ((v130 & 0x80000000) != 0)
                              goto LABEL_415;
                            if (a12)
                            {
                              v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned __int16 *))(v256 + 184))(v94, v264, (unsigned __int16)v292, 14, &v282);
                              v247 = v282;
                              if (!v282)
                                goto LABEL_264;
                              if (v282 != 1)
                              {
                                if ((v130 & 0x80000000) != 0)
                                  goto LABEL_415;
                                v247 = v124;
                                if (!v124)
                                {
LABEL_264:
                                  v247 = 0;
                                  v286 = 0;
                                  v151 = 1;
LABEL_284:
                                  v168 = v252 + v252 * v150;
                                  v169 = *((_QWORD *)v259 + 133) + 184 * v252;
                                  v170 = *(_WORD *)(v169 + 18);
                                  v171 = *(unsigned __int16 *)(v169 + 16);
                                  v172 = (unsigned __int16)(v170 - v171);
                                  memcpy((void *)(*((_QWORD *)v259 + 135) + v168), (const void *)(*((_QWORD *)v259 + 136) + v171), v172);
                                  *(_BYTE *)(*((_QWORD *)v259 + 135) + v168 + v172) = 0;
                                  v173 = *((_QWORD *)v259 + 133);
                                  *(_QWORD *)(v173 + 184 * v252 + 56) = *((_QWORD *)v259 + 135) + v168;
                                  if ((v151 & 1) != 0)
                                  {
                                    *(_QWORD *)(v173 + 184 * v252 + 40) = 0;
                                  }
                                  else
                                  {
                                    v174 = strlen(v286);
                                    v175 = (char *)heap_Alloc(*(_QWORD *)(v263 + 8), v174 + 1);
                                    *(_QWORD *)(*v254 + 184 * v252 + 40) = v175;
                                    if (!v175)
                                      goto LABEL_416;
                                    strcpy(v175, v286);
                                  }
                                  v176 = strlen(v280);
                                  v177 = (char *)heap_Alloc(*(_QWORD *)(v263 + 8), v176 + 1);
                                  *(_QWORD *)(*v254 + 184 * v252 + 24) = v177;
                                  if (!v177)
                                    goto LABEL_416;
                                  strcpy(v177, v280);
                                  goto LABEL_290;
                                }
                              }
                            }
                            else
                            {
                              v247 = 1;
                            }
                            v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v256 + 176))(v94, v264, **(unsigned __int16 **)(*v254 + 184 * v252), 14, &v286, (char *)&v292 + 2);
                            if ((v130 & 0x80000000) != 0)
                              goto LABEL_415;
                            v151 = 0;
                            goto LABEL_284;
                          }
LABEL_291:
                          freePwTids((_QWORD *)v263, (uint64_t)v259);
                          *((_WORD *)v259 + 537) = *((_WORD *)v259 + 536);
                          v23 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(v256 + 104))(v94, v264, 2, *((unsigned __int16 *)v259 + 548), &v292);
                          if ((v23 & 0x80000000) != 0)
                            goto LABEL_416;
                          bzero(__s, 0x400uLL);
                          *(_OWORD *)(v106 + 32) = 0u;
                          *(_OWORD *)(v106 + 48) = 0u;
                          *(_OWORD *)v106 = 0u;
                          *(_OWORD *)(v106 + 16) = 0u;
                          v297 = 0u;
                          v296 = 0u;
                          v295 = 0u;
                          v294 = 0u;
                          HIWORD(v291) = 0;
                          v178 = v292;
                          if (!(_WORD)v292)
                          {
LABEL_416:
                            v14 = v263;
                            goto LABEL_417;
                          }
                          v179 = 0;
                          LOWORD(v253) = 0;
                          v180 = 0;
                          while (2)
                          {
                            v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(v256 + 120))(v94, v264, v178, (char *)&v291 + 2);
                            if ((v130 & 0x80000000) != 0)
                              goto LABEL_415;
                            v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(v256 + 168))(v94, v264, (unsigned __int16)v292, 0, 1, &v288, (char *)&v292 + 2);
                            if ((v23 & 0x80000000) != 0)
                              goto LABEL_416;
                            if (v288 <= 0xA && ((1 << v288) & 0x610) != 0)
                            {
                              v182 = *v254;
                              v183 = *v254 + 184 * (unsigned __int16)v179;
                              *(_DWORD *)(v183 + 36) = v288;
                              LOWORD(v291) = *(_WORD *)(v183 + 16);
                              v184 = *(unsigned __int16 *)(v183 + 18);
                              HIWORD(v290) = v184;
                              if ((_WORD)v291)
                              {
                                if (v180 + 1 != (unsigned __int16)v291 || v184 <= (unsigned __int16)v291)
                                  goto LABEL_391;
                              }
                              v270 = 0;
                              v186 = v182 + 184 * (unsigned __int16)v179;
                              v280 = *(char **)(v186 + 24);
                              v286 = 0;
                              v286 = *(char **)(v186 + 40);
                              if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned __int16 *))(v256 + 184))(v94, v264, (unsigned __int16)v292, 10, &v282) & 0x80000000) == 0&& v282 == 1)
                              {
                                v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, char *))(v256 + 176))(v94, v264, (unsigned __int16)v292, 10, &v270, (char *)&v292 + 2);
                                if ((v23 & 0x80000000) != 0)
                                  goto LABEL_416;
                              }
                              if (HIWORD(v290) - (unsigned __int16)v291 > 5)
                              {
                                v187 = 0;
LABEL_339:
                                if (checkAttachedPunc(*(const char **)(*v254
                                                                                    + 184 * (unsigned __int16)v179
                                                                                    + 56)))
                                {
                                  LOBYTE(v274) = 0;
                                }
                                else
                                {
                                  v205 = &(*v257)[HIWORD(v290)];
                                  v206 = *(v205 - 1);
                                  LOWORD(v274) = *(_WORD *)(v205 - 3);
                                  HIWORD(v274) = v206;
                                }
                                goto LABEL_342;
                              }
                              *(_QWORD *)v293 = 0;
                              v269 = 0;
                              *(_DWORD *)__s1 = 0;
                              v188 = HIWORD(v290) - (unint64_t)(unsigned __int16)v291;
                              __memcpy_chk();
                              v293[v188] = 0;
                              if (utf8_IsChineseLetter(v293))
                              {
                                v189 = v276;
                                if (v276)
                                {
                                  v190 = v277;
                                  do
                                  {
                                    v191 = *v190++;
                                    if (v191 == (unsigned __int16)v291)
                                      goto LABEL_336;
                                  }
                                  while (--v189);
                                }
                                if (*(_DWORD *)v272 && *(_WORD *)(v272 + 4))
                                {
                                  v192 = *(unsigned int **)(v272 + 8);
                                  v193 = *(unsigned __int16 *)(v272 + 4) - 1;
                                  do
                                  {
                                    v195 = *v192++;
                                    v194 = v195;
                                    if (v195 == HIWORD(v290))
                                      goto LABEL_336;
                                  }
                                  while (v194 <= HIWORD(v290) && v193-- != 0);
                                }
                                if (!strstr(v280, "11") || !utf8_IsChineseLetter((const char *)&v274))
                                {
                                  v267 = 0;
                                  v197 = strlen(v293);
                                  v265 = 0;
                                  v266 = 0;
                                  utf8_Utf8ToUtf32_Tolerant((uint64_t)v293, v197, (uint64_t)&v267, 1u, &v266);
                                  v198 = v266;
                                  if (v197 <= 3)
                                    v198 = 0;
                                  utf8_Utf32ToUtf8((uint64_t)&v267, 1, (uint64_t)__s1, v197 - v198, &v265);
                                  __s1[v265] = 0;
                                  v199 = *v259;
                                  if (*v259)
                                  {
                                    v200 = 0;
                                    do
                                    {
                                      if (!strcmp(__s1, *(const char **)(*((_QWORD *)v259 + 1) + 8 * v200)))
                                      {
                                        if (utf8_IsChineseLetter((const char *)&v274))
                                          goto LABEL_327;
                                        v199 = *v259;
                                      }
                                      ++v200;
                                    }
                                    while (v200 < v199);
                                  }
                                  goto LABEL_336;
                                }
LABEL_327:
                                v187 = 1;
                              }
                              else
                              {
LABEL_336:
                                v187 = 0;
                              }
                              v201 = HIWORD(v290) - (unint64_t)(unsigned __int16)v291;
                              if (HIWORD(v290) - (unsigned __int16)v291 > 2)
                                goto LABEL_339;
                              __memcpy_chk();
                              *((_BYTE *)&v274 + v201) = 0;
LABEL_342:
                              if (v187)
                              {
                                if ((_WORD)v253)
                                {
                                  *(_DWORD *)v293 = 0;
                                  v23 = pw_check_if_glue_forbidden(v256, v94, v264, *((unsigned __int16 *)v259 + 548), (unsigned __int16)v253, (unsigned __int16)v292, (int *)v293);
                                  v187 = *(_DWORD *)v293 == 0;
                                  if ((v23 & 0x80000000) != 0)
                                    goto LABEL_416;
                                }
                              }
                              if (v286)
                              {
                                hlp_NLUStrFind(v286, "POS", (uint64_t *)&v284, &v283);
                                if (v270
                                  && (v207 = strlen((const char *)&v294), v207 + strlen(v270) - 63 < 0xFFFFFFFFFFFFFFC0)
                                  || v284
                                  && (v208 = strlen((const char *)v106), v208 + strlen(v284) - 62 < 0xFFFFFFFFFFFFFFC0)
                                  || v280 && (v209 = strlen(__s), v209 + strlen(v280) - 1022 <= 0xFFFFFFFFFFFFFBFFLL))
                                {
                                  log_OutText(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"skip the merging due to the length limit of prosodic word", v202, v203, v204, v242);
                                  goto LABEL_372;
                                }
                              }
                              else
                              {
                                v283 = 0;
                                v284 = 0;
                              }
                              if (v187
                                && (_WORD)v253
                                && (v273[0] == 1769234796 ? (v210 = LOWORD(v273[1]) == 110) : (v210 = 0), !v210))
                              {
                                log_OutText(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"merge special auxiliary word and neutral tone cases", v202, v203, v204, v242);
                                (*v257)[(unsigned __int16)v291 - 1] = 45;
                                *(_WORD *)&__s[strlen(__s)] = 46;
                                v211 = v280;
                                if (v280)
                                {
                                  v212 = strlen(v280);
                                  v213 = strlen(__s) + v212;
                                  if (v213 >= 0x401)
                                  {
                                    v214 = heap_Realloc(*(uint64_t **)(v263 + 8), (uint64_t)__s, v213 + 1);
                                    if (!v214)
                                      goto LABEL_420;
                                    v211 = v280;
                                    __s = (char *)v214;
                                  }
                                  strcat(__s, v211);
                                }
                                if (v286)
                                {
                                  if (v283)
                                  {
                                    *(_WORD *)(v106 + strlen((const char *)v106)) = 45;
                                    if (v284)
                                      strncat((char *)v106, v284, v283);
                                  }
                                }
                                if (v270 && (_BYTE)v294)
                                  __strcat_chk();
                                else
                                  LOBYTE(v294) = 0;
                                v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(v256 + 192))(v94, v264, (unsigned __int16)v292);
                                if ((v130 & 0x80000000) != 0)
                                  goto LABEL_415;
                                v130 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(v256 + 160))(v94, v264, (unsigned __int16)v253, 2, 1, (char *)&v290 + 2, &v289);
                                if ((v130 & 0x80000000) != 0)
                                  goto LABEL_415;
                                v220 = strlen(__s);
                                v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(v256 + 160))(v94, v264, (unsigned __int16)v253, 3, (unsigned __int16)(v220 + 1), __s, &v289);
                                if ((v23 & 0x80000000) != 0)
                                  goto LABEL_416;
                                if (v286)
                                {
                                  v221 = strlen(*(const char **)(*v254 + 184 * ((unsigned __int16)v179 - 1) + 40));
                                  v222 = strlen((const char *)v106);
                                  v223 = heap_Realloc(*(uint64_t **)(v263 + 8), *(_QWORD *)(*v254 + 184 * ((unsigned __int16)v179 - 1) + 40), v221 + v222 + 5);
                                  *(_QWORD *)(*v254 + 184 * ((unsigned __int16)v179 - 1) + 40) = v223;
                                  if (!v223)
                                  {
                                    log_OutPublic(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v224, v225, v226, v227, v242);
LABEL_420:
                                    v23 = -1979703286;
                                    goto LABEL_416;
                                  }
                                  *(_BYTE *)(v223 + (unsigned __int16)v221) = 0;
                                  hlp_NLUStrSet(*(char **)(*v254 + 184 * ((unsigned __int16)v179 - 1) + 40), "POS", (char *)v106);
                                  v228 = strlen(v286);
                                  v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(v256 + 160))(v94, v264, (unsigned __int16)v253, 14, (unsigned __int16)(v228 + 1), v286, &v289);
                                  if ((v23 & 0x80000000) != 0)
                                    goto LABEL_416;
                                  v286 = &byte_1DEBD87CE;
                                }
                                v229 = *v254;
                                v230 = (unsigned __int16)v179 - 1;
                                *(_WORD *)(*v254 + 184 * v230 + 18) = HIWORD(v290);
                                v231 = *(_QWORD *)(v229 + 184 * (unsigned __int16)v179 + 24);
                                v232 = strlen(__s);
                                v233 = (char *)heap_Realloc(*(uint64_t **)(v263 + 8), v231, v232 + 1);
                                *(_QWORD *)(*v254 + 184 * (unsigned __int16)v179 + 24) = v233;
                                strcpy(v233, __s);
                                v234 = *v254;
                                v235 = *v254 + 184 * v230;
                                v237 = *(_DWORD *)(v235 + 72);
                                v236 = (_BOOL4 *)(v235 + 72);
                                if (v237)
                                  v238 = 1;
                                else
                                  v238 = *(_DWORD *)(v234 + 184 * (unsigned __int16)v179 + 72) != 0;
                                *v236 = v238;
                                *(_WORD *)(*(_QWORD *)(v234 + 184 * v230 + 56)
                                         + strlen(*(const char **)(v234 + 184 * v230 + 56))) = 45;
                                strcat(*(char **)(*((_QWORD *)v259 + 133) + 184 * v230 + 56), *(const char **)(*((_QWORD *)v259 + 133) + 184 * (unsigned __int16)v179 + 56));
                                --*((_WORD *)v259 + 536);
                                freePWInfo((_QWORD *)v263, (uint64_t)v259, (unsigned __int16)v179);
                                v239 = *((unsigned __int16 *)v259 + 536);
                                if ((unsigned __int16)v179 != v239)
                                  memmove((void *)(*v254 + 184 * (unsigned __int16)v179), (const void *)(*v254 + 184 * ((unsigned __int16)v179 + 1)), 184 * (v239 - (unsigned __int16)v179));
                                --v179;
                                if ((_BYTE)v294)
                                {
                                  v240 = strlen((const char *)&v294);
                                  v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, __int128 *, __int16 *))(v256 + 160))(v94, v264, (unsigned __int16)v253, 10, (unsigned __int16)(v240 + 1), &v294, &v289);
                                  if ((v23 & 0x80000000) != 0)
                                    goto LABEL_416;
                                }
                              }
                              else
                              {
LABEL_372:
                                v215 = v280;
                                if (v280)
                                {
                                  v216 = strlen(v280);
                                  if (v216 >= 0x401)
                                  {
                                    v217 = v216;
                                    v218 = strlen(__s);
                                    if (v217 > v218)
                                    {
                                      v219 = heap_Realloc(*(uint64_t **)(v263 + 8), (uint64_t)__s, v217 + v218 + 1);
                                      if (!v219)
                                        goto LABEL_420;
                                      v215 = v280;
                                      __s = (char *)v219;
                                    }
                                  }
                                  strcpy(__s, v215);
                                }
                                *(_BYTE *)v106 = 0;
                                if (v283 && v284)
                                  strncat((char *)v106, v284, v283);
                                if (v270)
                                  __strcpy_chk();
                                else
                                  LOBYTE(v294) = 0;
                                v253 = (unsigned __int16)v292;
                                if (((*(uint64_t (**)(uint64_t, uint64_t))(v256 + 184))(v94, v264) & 0x80000000) != 0
                                  || HIWORD(v292) != 1)
                                {
                                  strcpy((char *)v273, "latin");
                                }
                                else
                                {
                                  v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(v256 + 176))(v94, v264, v253, 9, &v285, (char *)&v292 + 2);
                                  if ((v23 & 0x80000000) != 0 || strlen(v285) > 6)
                                    goto LABEL_416;
                                  __strcpy_chk();
                                }
                              }
                              v180 = HIWORD(v290);
LABEL_391:
                              if (*v262 <= (unsigned __int16)++v179)
                                goto LABEL_416;
                            }
                            v178 = HIWORD(v291);
                            LOWORD(v292) = HIWORD(v291);
                            if (!HIWORD(v291))
                              goto LABEL_416;
                            continue;
                          }
                        }
                      }
                      v23 = v60;
                      v106 = 0;
                    }
                  }
                  else
                  {
                    log_OutPublic(*(_QWORD *)(v263 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v47, v48, v49, v50, v241);
                    v61 = 0;
                    v106 = 0;
                  }
LABEL_142:
                  v107 = v260;
                  goto LABEL_143;
                }
LABEL_138:
                log_OutText(*(_QWORD *)(v14 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Warning: no lexicon word", v37, v38, v39, v241);
                return v13;
              }
            }
            v51 = 0;
            v61 = 0;
            v106 = 0;
            v23 = v42;
LABEL_141:
            v14 = v263;
            goto LABEL_142;
          }
        }
      }
    }
  }
  return v13;
}

uint64_t pw_get_word_separating_markers(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t *a6, unsigned int *a7)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unsigned int v19;
  unsigned int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unsigned int *v24;
  unsigned int v25;
  uint64_t v26;
  unsigned int v28;
  uint64_t v29;
  unsigned int *v31;
  unsigned __int16 v32;

  v32 = 0;
  v31 = 0;
  v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, unsigned int **, unsigned __int16 *))(a1 + 176))(a3, a4, a5, 1, &v31, &v32);
  if ((v13 & 0x80000000) != 0)
  {
LABEL_18:
    if (*a6)
    {
      heap_Free(*(_QWORD **)(a2 + 8), *a6);
      *a6 = 0;
    }
    return v13;
  }
  if (!v32)
  {
    log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Warning: no marker in lingdb.", v10, v11, v12, (uint64_t)v31);
    return v13;
  }
  v14 = heap_Calloc(*(_QWORD **)(a2 + 8), v32, 4);
  *a6 = v14;
  if (!v14)
    goto LABEL_17;
  *a7 = 0;
  v19 = v32;
  if (v32)
  {
    v20 = 0;
    v21 = (uint64_t)v31;
    v22 = v32;
    v23 = (uint64_t)v31;
    v24 = v31;
    do
    {
      v25 = *v24;
      v24 += 8;
      v26 = (1 << v25) & 0x3C0010124001140;
      if (v25 <= 0x39 && v26 != 0)
      {
        *(_DWORD *)(v14 + 4 * v20) = *(_DWORD *)(v23 + 12) - *(_DWORD *)(v21 + 12);
        v20 = *a7 + 1;
        *a7 = v20;
      }
      v23 = (uint64_t)v24;
      --v22;
    }
    while (v22);
  }
  else
  {
    v20 = 0;
  }
  v28 = v20 + 1;
  if (v28 > v19)
  {
    v29 = heap_Realloc(*(uint64_t **)(a2 + 8), v14, 4 * v28);
    *a6 = v29;
    if (!v29)
    {
LABEL_17:
      log_OutPublic(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v15, v16, v17, v18, v31);
      v13 = 2315264010;
      goto LABEL_18;
    }
  }
  return v13;
}

uint64_t getTNmarker(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t *a6)
{
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  _DWORD *v18;
  _DWORD *v19;
  int v20;
  int v21;
  uint64_t v22;
  uint64_t v23;
  unint64_t v24;
  unsigned __int16 v25;
  _DWORD *v26;
  int v27;
  uint64_t v28;
  int v29;
  uint64_t v30;
  uint64_t v31;
  _DWORD *v33;
  unsigned __int16 v34;

  v12 = 2315264010;
  v34 = 0;
  v33 = 0;
  v13 = heap_Alloc(*(_QWORD *)(a2 + 8), 24);
  v14 = v13;
  if (!v13)
    goto LABEL_32;
  *(_DWORD *)v13 = 0;
  *(_WORD *)(v13 + 4) = 0;
  *(_QWORD *)(v13 + 8) = 0;
  v15 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _DWORD **, unsigned __int16 *))(a3 + 176))(a4, a5, a1, 1, &v33, &v34);
  v16 = v15;
  if ((v15 & 0x80000000) != 0)
  {
    v12 = v15;
    goto LABEL_27;
  }
  v17 = v34;
  if (v34)
  {
    v18 = v33;
    v19 = v33;
    do
    {
      v21 = *v19;
      v19 += 8;
      v20 = v21;
      if (v21 == 34 || v20 == 70 && v18[6] >= 3u)
      {
        if (!*(_DWORD *)v14)
          *(_DWORD *)v14 = 1;
        ++*(_WORD *)(v14 + 4);
      }
      v18 = v19;
      --v17;
    }
    while (v17);
  }
  if (!*(_DWORD *)v14)
    goto LABEL_24;
  v22 = heap_Alloc(*(_QWORD *)(a2 + 8), 4 * *(unsigned __int16 *)(v14 + 4));
  *(_QWORD *)(v14 + 8) = v22;
  if (v22)
  {
    v23 = heap_Alloc(*(_QWORD *)(a2 + 8), 2 * *(unsigned __int16 *)(v14 + 4));
    *(_QWORD *)(v14 + 16) = v23;
    if (v23)
    {
      if (v34)
      {
        v24 = 0;
        v25 = 0;
        v26 = v33 + 3;
        do
        {
          v27 = *(v26 - 3);
          if (v27 == 34)
          {
            LOWORD(v29) = 0;
            v28 = v25;
            *(_DWORD *)(*(_QWORD *)(v14 + 8) + 4 * v25) = *v26;
          }
          else
          {
            if (v27 != 70 || v26[3] < 3u)
              goto LABEL_23;
            v28 = v25;
            *(_DWORD *)(*(_QWORD *)(v14 + 8) + 4 * v25) = *v26;
            v29 = v26[3];
          }
          *(_WORD *)(v23 + 2 * v28) = v29;
          ++v25;
LABEL_23:
          v26 += 8;
          ++v24;
        }
        while (v24 < v34);
      }
LABEL_24:
      v12 = v16;
      if ((v16 & 0x80000000) == 0)
      {
        v12 = v16;
        goto LABEL_32;
      }
    }
LABEL_27:
    v30 = *(_QWORD *)(v14 + 8);
    if (v30)
    {
      heap_Free(*(_QWORD **)(a2 + 8), v30);
      *(_QWORD *)(v14 + 8) = 0;
    }
  }
  v31 = *(_QWORD *)(v14 + 16);
  if (v31)
  {
    heap_Free(*(_QWORD **)(a2 + 8), v31);
    *(_QWORD *)(v14 + 16) = 0;
  }
  heap_Free(*(_QWORD **)(a2 + 8), v14);
  v14 = 0;
LABEL_32:
  *a6 = v14;
  return v12;
}

uint64_t pw_PYT_process(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, int *a7, unsigned int a8, uint64_t *a9, unsigned __int16 *a10)
{
  uint64_t v10;
  int v11;
  uint64_t v12;
  uint64_t v13;
  __int16 v14;
  unsigned __int16 v15;
  int v16;
  unsigned __int16 **v17;
  uint64_t v18;
  __int16 v19;
  uint64_t v20;
  unsigned __int16 *v21;
  int v22;
  int v23;
  int *v24;
  uint64_t v25;
  int v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  __int16 v34;
  int v35;
  int v36;
  unsigned __int16 **v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  unsigned __int16 *v50;
  int v51;
  int v52;
  int *v53;
  uint64_t v54;
  int v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  int v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  _WORD *v72;
  __int16 v73;
  uint64_t v74;
  uint64_t v75;
  uint64_t v76;
  uint64_t v77;
  uint64_t v78;
  _WORD *v79;
  uint64_t v80;
  uint64_t v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  unsigned int v86;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t v97;
  uint64_t v98;
  uint64_t v99;
  unsigned int v101;
  unsigned int v102;
  uint64_t *v103;
  uint64_t v104;
  unsigned __int16 *v105;
  uint64_t v108;
  uint64_t v109;
  const char *v115;
  __int16 v116;
  const char *v117;

  v10 = *a9;
  v11 = *a10;
  v117 = 0;
  v12 = a6;
  v116 = 0;
  v115 = 0;
  if (v11)
  {
    v13 = 0;
    v14 = 0;
    v15 = 0;
    v108 = a8;
    v105 = (unsigned __int16 *)(a5 + 24);
    v16 = 1;
    while (1)
    {
      v17 = (unsigned __int16 **)(v10 + 184 * v14);
      if (*((unsigned __int16 *)v17 + 4) > 1u)
        goto LABEL_9;
      v18 = **v17;
      v116 = 0;
      v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(a1 + 184))(a2, a3, v18, 9, &v116);
      if ((v13 & 0x80000000) == 0 && v116 == 1)
      {
        v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, const char **, __int16 *))(a1 + 176))(a2, a3, v18, 9, &v117, &v116);
        if ((v13 & 0x80000000) != 0)
          goto LABEL_75;
      }
      if (!v117 || !strcmp(v117, "mnc!"))
      {
        v20 = 0;
        if (v12)
        {
          v21 = v105;
          while (1)
          {
            v22 = *v21;
            v21 += 20;
            if (v22 == **v17)
              break;
            if (v12 == ++v20)
            {
              LODWORD(v20) = v12;
              goto LABEL_16;
            }
          }
          LODWORD(v20) = (unsigned __int16)v20;
        }
LABEL_16:
        if (a8)
        {
          v23 = *(unsigned __int16 *)(a5 + 40 * v20 + 28);
          v24 = a7;
          v25 = v108;
          while (1)
          {
            v26 = *v24++;
            if (v26 == v23)
              break;
            if (!--v25)
              goto LABEL_20;
          }
        }
        else
        {
LABEL_20:
          if (v16 != 1)
          {
            v116 = 0;
            v115 = 0;
            v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(a1 + 184))(a2, a3, v18, 19, &v116);
            v16 = 0;
            v19 = 1;
            if ((v13 & 0x80000000) == 0 && v116 == 1)
            {
              v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, const char **, __int16 *))(a1 + 176))(a2, a3, v18, 19, &v115, &v116);
              if ((v13 & 0x80000000) != 0)
                return v13;
              v16 = 0;
              v19 = strcmp(v115, "left") == 0;
            }
            goto LABEL_26;
          }
        }
        v16 = 0;
        v19 = 1;
      }
      else
      {
LABEL_9:
        v19 = 1;
        v16 = 1;
      }
LABEL_26:
      v15 += v19;
      if (v11 <= ++v14)
        goto LABEL_29;
    }
  }
  v15 = 0;
  v13 = 0;
LABEL_29:
  v27 = a4;
  v28 = heap_Calloc(*(_QWORD **)(a4 + 8), v15, 184);
  if (!v28)
  {
    v13 = 2315264010;
    log_OutPublic(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v29, v30, v31, v32, v101);
    if (!v10)
      return v13;
    goto LABEL_75;
  }
  *a10 = v15;
  *a9 = v28;
  if (!v11)
  {
LABEL_74:
    if (!v10)
      return v13;
LABEL_75:
    heap_Free(*(_QWORD **)(a4 + 8), v10);
    return v13;
  }
  v109 = v28;
  v33 = 0;
  v34 = 0;
  v35 = 0;
  v36 = 1;
  while (1)
  {
    v37 = (unsigned __int16 **)(v10 + 184 * v34);
    if (*((unsigned __int16 *)v37 + 4) >= 2u)
      goto LABEL_39;
    v38 = **v37;
    v116 = 0;
    if (((*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(a1 + 184))(a2, a3, v38, 9, &v116) & 0x80000000) == 0
      && v116 == 1)
    {
      v39 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, const char **, __int16 *))(a1 + 176))(a2, a3, v38, 9, &v117, &v116);
      if ((v39 & 0x80000000) != 0)
      {
LABEL_77:
        v13 = v39;
        goto LABEL_75;
      }
    }
    if (v117 && strcmp(v117, "mnc!"))
    {
      v27 = a4;
LABEL_39:
      log_OutText(*(_QWORD *)(v27 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)">>> Not a PYT PW. Skip by copying pPWIn[%d] to pPWOut[%d].", v30, v31, v32, v33);
      v45 = pw_copy_pw(v27, (uint64_t)v37, v109 + 184 * (unsigned __int16)v35, v40, v41, v42, v43, v44);
      if ((v45 & 0x80000000) != 0)
        return v45;
      log_OutText(*(_QWORD *)(v27 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Copy pPWIn[%d] to pPWOut[%d] done!", v46, v47, v48, v33);
      ++v35;
      v36 = 1;
      goto LABEL_67;
    }
    v49 = 0;
    if (v12)
    {
      v50 = (unsigned __int16 *)(a5 + 24);
      while (1)
      {
        v51 = *v50;
        v50 += 20;
        if (v51 == **v37)
          break;
        if (v12 == ++v49)
        {
          LODWORD(v49) = v12;
          goto LABEL_47;
        }
      }
      LODWORD(v49) = (unsigned __int16)v49;
    }
LABEL_47:
    if (a8)
    {
      v52 = *(unsigned __int16 *)(a5 + 40 * v49 + 28);
      v53 = a7;
      v54 = a8;
      while (1)
      {
        v55 = *v53++;
        if (v55 == v52)
          break;
        if (!--v54)
          goto LABEL_51;
      }
      if (v36 == 1)
      {
LABEL_62:
        v27 = a4;
        v86 = (unsigned __int16)v35;
        log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)">>> I am First PYT PW. Copy pPWIn[%d] to pPWOut[%d].", v30, v31, v32, v33);
      }
      else
      {
        v27 = a4;
        v86 = (unsigned __int16)v35;
        log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)">>> I am a PYT PW start with Marker! Copy pPWIn[%d] to pPWOut[%d].", v30, v31, v32, v33);
      }
LABEL_65:
      v45 = pw_copy_pw(v27, (uint64_t)v37, v109 + 184 * v86, v87, v88, v89, v90, v91);
      if ((v45 & 0x80000000) != 0)
        return v45;
LABEL_66:
      log_OutText(*(_QWORD *)(v27 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Copy pPWIn[%d] to pPWOut[%d] done!", v92, v93, v94, v33);
      v36 = 0;
      ++v35;
      goto LABEL_67;
    }
LABEL_51:
    if (v36 == 1)
      goto LABEL_62;
    v116 = 0;
    v115 = 0;
    if (((*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(a1 + 184))(a2, a3, v38, 19, &v116) & 0x80000000) != 0|| v116 != 1)
    {
      v27 = a4;
      v86 = (unsigned __int16)v35;
      log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)">>> The WORD_DCT record doesn't has field LD_W_INPUTSPACETAG. Copy pPWIn[%d] to pPWOut[%d].", v56, v57, v58, v33);
      goto LABEL_65;
    }
    v45 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, const char **, __int16 *))(a1 + 176))(a2, a3, v38, 19, &v115, &v116);
    if ((v45 & 0x80000000) != 0)
      return v45;
    v62 = strcmp(v115, "left");
    v27 = a4;
    v63 = *(_QWORD *)(a4 + 32);
    if (!v62)
    {
      log_OutText(v63, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)">>> There is a space before this PYT PW. Copy pPWIn[%d] to pPWOut[%d].", v59, v60, v61, v33);
      v45 = pw_copy_pw(a4, (uint64_t)v37, v109 + 184 * (unsigned __int16)v35, v95, v96, v97, v98, v99);
      if ((v45 & 0x80000000) != 0)
        return v45;
      goto LABEL_66;
    }
    v104 = (unsigned __int16)v35 - 1;
    log_OutText(v63, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)">>> No space before this PYT unit. Merge pPWIn[%d] to pPWOut[%d] ...", v59, v60, v61, v33);
    log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"pPWIn[%d] is: ", v64, v65, v66, v33);
    v67 = pw_show_pw(a4, (uint64_t)v37);
    if ((v67 & 0x80000000) != 0)
      break;
    log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Before merge, pPWOut[%d] is: ", v68, v69, v70, v104);
    v103 = (uint64_t *)(v109 + 184 * (int)v104);
    v67 = pw_show_pw(a4, (uint64_t)v103);
    if ((v67 & 0x80000000) != 0)
      break;
    v71 = v109 + 184 * (int)v104;
    v73 = *(_WORD *)(v71 + 8);
    v72 = (_WORD *)(v71 + 8);
    *v72 = v73 + 1;
    v74 = heap_Realloc(*(uint64_t **)(a4 + 8), *v103, 2 * (unsigned __int16)(v73 + 1));
    *v103 = v74;
    if (!v74)
    {
      v13 = 2315264010;
      log_OutPublic(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v75, v76, v77, v78, v102);
      return v13;
    }
    v79 = *v37;
    *(_WORD *)(v74 + 2 * (unsigned __int16)*v72 - 2) = **v37;
    heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v79);
    log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"After merge, pPWOut[%d] is: ", v80, v81, v82, v104);
    v39 = pw_show_pw(a4, (uint64_t)v103);
    if ((v39 & 0x80000000) != 0)
      goto LABEL_77;
    log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Merge pPWIn[%d] to pPWOut[%d] done!", v83, v84, v85, v33);
    v36 = 0;
LABEL_67:
    v33 = ++v34;
    if ((int)v33 >= v11)
    {
      v13 = 0;
      goto LABEL_74;
    }
  }
  v13 = v67;
  if (v10)
    goto LABEL_75;
  return v13;
}

uint64_t pw_group_csc(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4, char *a5, uint64_t a6, uint64_t a7, uint64_t *a8, _WORD *a9, unsigned __int16 a10, const char **a11)
{
  unsigned int v12;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  unsigned int v21;
  uint64_t v22;
  int v23;
  uint64_t v24;
  unsigned __int16 *v25;
  unsigned __int16 *v26;
  uint64_t v27;
  unsigned __int16 **v28;
  uint64_t v29;
  int v30;
  unsigned __int16 *v31;
  int v32;
  unsigned int v33;
  uint64_t v34;
  unsigned __int16 *v35;
  int v36;
  const char *v37;
  uint64_t v38;
  int v39;
  unsigned __int16 *v40;
  int v41;
  uint64_t v42;
  unsigned __int16 *v43;
  int v44;
  unsigned int v45;
  const char *v46;
  _BOOL4 IsChineseLetter;
  unsigned int v48;
  unsigned __int16 v49;
  uint64_t v50;
  unsigned int v51;
  _DWORD *v52;
  int v53;
  int v54;
  int v55;
  BOOL v56;
  int v57;
  const char **v58;
  uint64_t v59;
  uint64_t v60;
  unsigned __int16 v61;
  uint64_t *v62;
  uint64_t v63;
  unsigned __int16 *v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  unsigned __int16 *v68;
  unsigned int v69;
  unsigned int v70;
  int v71;
  uint64_t v72;
  const char *v73;
  uint64_t v74;
  uint64_t v75;
  unsigned int v76;
  unsigned __int16 v77;
  uint64_t v78;
  unsigned __int16 **v79;
  unsigned int v80;
  unsigned __int16 *v81;
  unint64_t v83;
  uint64_t v84;
  uint64_t v85;
  uint64_t v86;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  int v91;
  unsigned int v93;
  uint64_t *v94;
  uint64_t v95;
  unsigned __int16 *v96;
  unsigned int v98;
  __int16 v99;
  int v100;
  unsigned __int16 v102;
  uint64_t v103;
  __int16 v104;
  uint64_t v105;

  v12 = a7;
  v105 = *MEMORY[0x1E0C80C00];
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"pw_group_csc Begin", a6, a7, (uint64_t)a8, v88);
  v16 = heap_Calloc(*(_QWORD **)(a1 + 8), v12, 184);
  *a8 = v16;
  if (!v16)
  {
    v85 = 2315264010;
    v86 = *(_QWORD *)(a1 + 32);
LABEL_76:
    log_OutPublic(v86, (uint64_t)"FE_PHRASING", 37000, 0, v17, v18, v19, v20, v89);
    return v85;
  }
  v90 = a1;
  *a9 = 0;
  v104 = 0;
  v103 = 0;
  if (v12)
  {
    LOWORD(v21) = 0;
    v22 = 0;
    v23 = 0;
    v24 = a4;
    v25 = (unsigned __int16 *)(v16 + 8);
    v26 = (unsigned __int16 *)(a3 + 24);
    v94 = a8;
    v93 = v12;
    while (1)
    {
      v95 = v22;
      v96 = v25;
      v91 = v23;
      *v25 = 0;
      v27 = a3;
      while (1)
      {
        v28 = (unsigned __int16 **)(a6 + 184 * (unsigned __int16)v21);
        if (v24)
        {
          v29 = 0;
          v30 = **v28;
          v31 = v26;
          while (1)
          {
            v32 = *v31;
            v31 += 20;
            if (v32 == v30)
              break;
            if (v24 == ++v29)
            {
              v98 = v24;
              goto LABEL_12;
            }
          }
          v98 = (unsigned __int16)v29;
LABEL_12:
          v34 = 0;
          v35 = v26;
          while (1)
          {
            v36 = *v35;
            v35 += 20;
            if (v36 == v30)
              break;
            if (v24 == ++v34)
            {
              v33 = v24;
              goto LABEL_17;
            }
          }
          v33 = (unsigned __int16)v34;
        }
        else
        {
          v98 = 0;
          v33 = 0;
        }
LABEL_17:
        v37 = *(const char **)(v27 + 40 * v33);
        v99 = Utf8_Utf8NbrOfSymbols(v37);
        if (v24)
        {
          v38 = 0;
          v39 = **v28;
          v40 = v26;
          while (1)
          {
            v41 = *v40;
            v40 += 20;
            if (v41 == v39)
              break;
            if (v24 == ++v38)
            {
              v38 = v24;
              break;
            }
          }
          v42 = 0;
          v100 = *(_DWORD *)(v27 + 40 * v38 + 36);
          v43 = v26;
          while (1)
          {
            v44 = *v43;
            v43 += 20;
            if (v44 == v39)
              break;
            if (v24 == ++v42)
            {
              v45 = v24;
              goto LABEL_28;
            }
          }
          v45 = (unsigned __int16)v42;
        }
        else
        {
          v45 = 0;
          v100 = *(_DWORD *)(v27 + 36);
        }
LABEL_28:
        v46 = *(const char **)(v27 + 40 * v45 + 16);
        utf8_getUTF8Char((uint64_t)v37, 0, &v103);
        IsChineseLetter = utf8_IsChineseLetter((const char *)&v103);
        v48 = *(_DWORD *)(a2 + 1024);
        if (v48)
        {
          v49 = 0;
          v50 = v27 + 40 * v98;
          v51 = *(_DWORD *)(v50 + 28);
          v52 = (_DWORD *)(v50 + 32);
          while (*(_DWORD *)(a2 + 4 * v49) > v51 || *v52 > *(_DWORD *)(a2 + 4 * v49 + 512))
          {
            if (v48 <= ++v49)
              goto LABEL_33;
          }
          v53 = 0;
        }
        else
        {
LABEL_33:
          v53 = 1;
        }
        v54 = *(unsigned __int16 *)(a6 + 184 * (unsigned __int16)v21 + 8);
        if (v54 != 1)
          break;
        v55 = (unsigned __int16)(v99 - 1);
        if (v55 != 1 && (v55 != 2 || !v100))
          break;
        v56 = strcmp(v46, "latin") && IsChineseLetter;
        v57 = v56 ? v53 : 0;
        if (v57 != 1)
          break;
        v27 = a3;
        if (strstr(a5, v37))
          goto LABEL_55;
        v58 = a11;
        v59 = a10;
        if (a10)
        {
          while (strcmp(v37, *v58))
          {
            ++v58;
            if (!--v59)
              goto LABEL_50;
          }
LABEL_55:
          v102 = v21 + 1;
          v60 = v95;
          v64 = v96;
          LOWORD(v21) = *v96;
          v63 = v90;
          v62 = v94;
LABEL_56:
          *v64 = v21 + 1;
          goto LABEL_57;
        }
LABEL_50:
        if (v100 || *(_DWORD *)(a6 + 184 * (unsigned __int16)v21 + 72))
          goto LABEL_55;
        v60 = v95;
        v61 = *v96 + 1;
        *v96 = v61;
        LOWORD(v21) = v21 + 1;
        v62 = v94;
        v26 = (unsigned __int16 *)(a3 + 24);
        if (v93 <= (unsigned __int16)v21 || v61 >= 3u)
        {
          v102 = v21;
          v63 = v90;
          goto LABEL_57;
        }
      }
      v102 = v21;
      v60 = v95;
      v63 = v90;
      v62 = v94;
      if (!*v96)
      {
        *v96 = v54;
        v64 = &v102;
        goto LABEL_56;
      }
LABEL_57:
      ++*a9;
      *(_QWORD *)(*v62 + 184 * v60) = heap_Calloc(*(_QWORD **)(v63 + 8), *(unsigned __int16 *)(*v62 + 184 * v60 + 8), 2);
      v65 = *v62;
      v66 = *(_QWORD *)(*v62 + 184 * v60);
      if (!v66)
        break;
      v67 = v65 + 184 * v60;
      v70 = *(unsigned __int16 *)(v67 + 8);
      v68 = (unsigned __int16 *)(v67 + 8);
      v69 = v70;
      v21 = v102;
      v71 = v102 - 1;
      if (v70 <= *(unsigned __int16 *)(a6 + 184 * v71 + 8))
      {
        if (v69)
        {
          v83 = 0;
          v84 = *(_QWORD *)(a6 + 184 * v71);
          do
          {
            *(_WORD *)(v66 + 2 * v83) = *(_WORD *)(v84 + 2 * v83);
            ++v83;
          }
          while (v83 < *v68);
        }
        *(_DWORD *)(v65 + 184 * v60 + 72) = *(_DWORD *)(a6 + 184 * v71 + 72);
      }
      else
      {
        v72 = heap_Calloc(*(_QWORD **)(v63 + 8), 1, 1024);
        if (!v72)
          break;
        v73 = (const char *)v72;
        v74 = *v62;
        v75 = *v62 + 184 * v60;
        *(_DWORD *)(v75 + 12) = 1;
        v76 = *(unsigned __int16 *)(v75 + 8);
        if (v76)
        {
          v77 = 0;
          v78 = -(uint64_t)v76;
          v79 = (unsigned __int16 **)(a6 + 184 * v21 - 184 * v76);
          v80 = v76 - 1;
          do
          {
            v81 = *v79;
            v79 += 23;
            *(_WORD *)(*(_QWORD *)(*v62 + 184 * v60) + 2 * (v78 + *(unsigned __int16 *)(*v62 + 184 * v60 + 8))) = *v81;
            sprintf((char *)&v73[v77], "%d-", *v81);
            v77 = strlen(v73);
            ++v78;
          }
          while ((unsigned __int16)v80--);
          v74 = *v62;
          v63 = v90;
          v71 = v21 - 1;
        }
        *(_DWORD *)(v74 + 184 * v60 + 72) = *(_DWORD *)(a6 + 184 * v71 + 72);
        log_OutText(*(_QWORD *)(v63 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"\t group [tids:%s, ntok: %d]", v18, v19, v20, (uint64_t)v73);
        heap_Free(*(_QWORD **)(v63 + 8), (uint64_t)v73);
        v65 = *v62;
      }
      v26 = (unsigned __int16 *)(a3 + 24);
      v23 = v91 + 1;
      v22 = (unsigned __int16)(v91 + 1);
      v25 = (unsigned __int16 *)(v65 + 184 * v22 + 8);
      v104 = 0;
      v103 = 0;
      if (v21 >= v93)
        goto LABEL_73;
    }
    v85 = 2315264010;
    v86 = *(_QWORD *)(v63 + 32);
    goto LABEL_76;
  }
LABEL_73:
  log_OutText(*(_QWORD *)(v90 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"pw_group_csc End", v18, v19, v20, v89);
  return 0;
}

uint64_t pw_respect_word_separating_markers(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t *a6, unsigned __int16 *a7)
{
  unsigned __int16 *v7;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unsigned __int16 v16;
  unsigned __int16 *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unsigned __int16 v24;
  uint64_t v25;
  unsigned __int16 v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unsigned __int16 *v30;
  int v31;
  unint64_t v32;
  uint64_t v33;
  uint64_t v35;
  unsigned __int16 *v36;
  int v38;

  if (!*a7)
    return 0;
  v7 = a7;
  v13 = 0;
  v14 = 0;
  v38 = 0;
  v15 = *a6;
  while (1)
  {
    if (*(unsigned __int16 *)(v15 + 184 * v13 + 8) >= 2u)
    {
      v38 = 0;
      v15 = *a6;
      if (*(unsigned __int16 *)(*a6 + 184 * v13 + 8) >= 2u)
        break;
    }
LABEL_17:
    if (++v13 >= (unint64_t)*v7)
      return v14;
  }
  v16 = 1;
  while (1)
  {
    v17 = (unsigned __int16 *)(*(_QWORD *)(v15 + 184 * v13) + 2 * v16);
    v14 = pw_check_if_glue_forbidden(a1, a3, a4, a5, *(v17 - 1), *v17, &v38);
    if ((v14 & 0x80000000) != 0)
      return v14;
    if (v38)
    {
      v18 = heap_Realloc(*(uint64_t **)(a2 + 8), *a6, 184 * *v7 + 184);
      if (!v18)
        goto LABEL_21;
      *a6 = v18;
      v23 = v18 + 184 * *v7;
      *(_QWORD *)(v23 + 176) = 0;
      *(_OWORD *)(v23 + 144) = 0u;
      *(_OWORD *)(v23 + 160) = 0u;
      *(_OWORD *)(v23 + 112) = 0u;
      *(_OWORD *)(v23 + 128) = 0u;
      *(_OWORD *)(v23 + 80) = 0u;
      *(_OWORD *)(v23 + 96) = 0u;
      *(_OWORD *)(v23 + 48) = 0u;
      *(_OWORD *)(v23 + 64) = 0u;
      *(_OWORD *)(v23 + 16) = 0u;
      *(_OWORD *)(v23 + 32) = 0u;
      *(_OWORD *)v23 = 0u;
      v24 = *v7 + 1;
      *v7 = v24;
      v36 = v7;
      if (v13 + 2 < (unint64_t)v24)
        memmove((void *)(*a6 + 184 * (v13 + 2)), (const void *)(*a6 + 184 * (v13 + 1)), (0xB800000000 * (v24 - v13) - 0x17000000000) >> 32);
      v25 = *a6 + 184 * v13;
      v26 = *(_WORD *)(v25 + 8) - v16;
      v35 = v13 + 1;
      v27 = 184 * (v13 + 1);
      *(_WORD *)(*a6 + v27 + 8) = v26;
      *(_WORD *)(v25 + 8) = v16;
      *(_QWORD *)(*a6 + v27) = heap_Calloc(*(_QWORD **)(a2 + 8), 2, v26);
      v15 = *a6;
      v28 = *(_QWORD *)(*a6 + v27);
      v7 = v36;
      if (!v28)
      {
LABEL_21:
        log_OutPublic(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v19, v20, v21, v22, v35);
        return 2315264010;
      }
      v29 = v15 + 184 * v35;
      v31 = *(unsigned __int16 *)(v29 + 8);
      v30 = (unsigned __int16 *)(v29 + 8);
      if (v31)
      {
        v32 = 0;
        v33 = *(_QWORD *)(v15 + 184 * v13) + 2 * v16;
        do
        {
          *(_WORD *)(v28 + 2 * v32) = *(_WORD *)(v33 + 2 * v32);
          ++v32;
        }
        while (v32 < *v30);
      }
      goto LABEL_17;
    }
    ++v16;
    v15 = *a6;
    if (*(unsigned __int16 *)(*a6 + 184 * v13 + 8) <= v16)
      goto LABEL_17;
  }
}

uint64_t pw_igtree_process(uint64_t a1, uint64_t a2, uint64_t *a3, _WORD *a4, unsigned int a5, uint64_t a6)
{
  uint64_t v6;
  uint64_t v8;
  uint64_t inited;
  uint64_t v10;
  uint64_t v11;
  uint64_t *v12;
  uint64_t *v13;
  uint64_t v14;
  uint64_t v15;
  unint64_t v16;
  unsigned __int16 v17;
  unint64_t v18;
  unsigned __int16 v19;
  unsigned __int16 *v20;
  int v21;
  int v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  const char *v27;
  int v28;
  int v29;
  const char *v30;
  uint64_t v31;
  unint64_t v32;
  unsigned int v33;
  BOOL v34;
  uint64_t v35;
  _WORD *v36;
  unsigned __int16 v37;
  uint64_t v38;
  unint64_t v39;
  unint64_t v40;
  uint64_t v41;
  unint64_t v42;
  _DWORD *v43;
  int v44;
  int v45;
  int v46;
  uint64_t v47;
  uint64_t v48;
  unint64_t v49;
  __int16 v50;
  uint64_t v51;
  _WORD *v52;
  uint64_t v53;
  unint64_t v54;
  uint64_t v55;
  int v56;
  unint64_t v57;
  _DWORD *v58;
  int v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t *v63;
  unsigned int v64;
  unsigned int v65;
  uint64_t v67;
  uint64_t v68;
  uint64_t *v69;
  unsigned int v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v75;
  const char *v76;

  v6 = a6;
  v8 = a1;
  inited = 2315264010;
  v10 = (unsigned __int16)*a4;
  v76 = 0;
  v11 = *a3;
  v12 = (uint64_t *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * *(unsigned __int8 *)(a6 + 1296) - 8);
  if (v12)
  {
    v13 = v12;
    inited = hlp_igtree_initFeatureVector(v8, v12, (unsigned __int16)(*(unsigned __int8 *)(v6 + 1296) - 1));
    if ((inited & 0x80000000) != 0)
    {
      v61 = 0;
    }
    else
    {
      v14 = heap_Calloc(*(_QWORD **)(v8 + 8), a5, 4);
      if (v14)
      {
        v15 = v14;
        v63 = a3;
        if ((_DWORD)v10)
        {
          v16 = 0;
          v17 = 0;
          v70 = a5 - 1;
          v71 = v6;
          v72 = v14;
          v67 = v8;
          v69 = v13;
          while (1)
          {
            v18 = v11 + 184 * v16;
            v21 = *(unsigned __int16 *)(v18 + 8);
            v20 = (unsigned __int16 *)(v18 + 8);
            v19 = v21;
            v68 = v10;
            if (v21)
            {
              if (v70 != v17)
                break;
            }
LABEL_8:
            ++v16;
            v10 = v68;
            v6 = v71;
            if (v16 >= (unsigned __int16)v68)
              goto LABEL_53;
          }
          v22 = 0;
          v23 = 0;
          v65 = v16 + 1;
          v64 = v16 + 2;
          v24 = 2;
          while (1)
          {
            v75 = v23;
            v25 = v17;
            *(_DWORD *)(v15 + 4 * v17) = v19 - 1 == v22;
            v6 = v71;
            v26 = hlp_igtree_setFeatureVector(v8, (uint64_t)v13, *(_QWORD *)(v71 + 1312), *(unsigned __int8 *)(v71 + 1296), a2, a5, v17);
            if ((v26 & 0x80000000) != 0)
            {
              inited = v26;
              v61 = v72;
              goto LABEL_59;
            }
            inited = igtree_Process(v71, (uint64_t)v13, &v76);
            if ((inited & 0x80000000) != 0)
            {
LABEL_58:
              v6 = v71;
              v61 = v72;
              goto LABEL_59;
            }
            v27 = v76;
            if (!strcmp(v76, "NOMATCH"))
              goto LABEL_21;
            v28 = strcmp(v27, "1");
            v15 = v72;
            v29 = *(_DWORD *)(v72 + 4 * v25);
            if (v29 == (v28 == 0))
              goto LABEL_15;
            if ((_DWORD)v25 && v28)
            {
              v30 = *(const char **)(a2 + 40 * v25 + 16);
              if (strcmp(v30, "normal") && strcmp(v30, "mnx"))
              {
                v8 = v67;
LABEL_21:
                v13 = v69;
                v15 = v72;
LABEL_22:
                v31 = v75;
                goto LABEL_23;
              }
              v15 = v72;
              if (*(_DWORD *)(a2 + 40 * v25 + 36))
              {
LABEL_15:
                v8 = v67;
                v13 = v69;
                goto LABEL_22;
              }
            }
            if (v29)
            {
              v35 = v11 + 184 * v65;
              v36 = (_WORD *)(v35 + 8);
              v37 = *v20 + *(_WORD *)(v35 + 8);
              *v20 = v37;
              v38 = heap_Realloc(*(uint64_t **)(v67 + 8), *(_QWORD *)(v11 + 184 * v16), 2 * v37);
              *(_QWORD *)(v11 + 184 * v16) = v38;
              if (!v38)
                goto LABEL_55;
              LOWORD(v39) = *v36;
              if (*v36)
              {
                v40 = 0;
                v41 = *(_QWORD *)v35;
                do
                {
                  *(_WORD *)(v38 + 2 * (v40 - (unsigned __int16)v39 + *v20)) = *(_WORD *)(v41 + 2 * v40);
                  ++v40;
                  v39 = (unsigned __int16)*v36;
                }
                while (v40 < v39);
              }
              v42 = v11 + 184 * v16;
              v44 = *(_DWORD *)(v42 + 72);
              v43 = (_DWORD *)(v42 + 72);
              v8 = v67;
              v45 = v68;
              if (v44)
                *v43 = *(_DWORD *)(v11 + 184 * v65 + 72);
              *(_DWORD *)(v11 + 184 * v16 + 12) |= *(_DWORD *)(v11 + 184 * v65 + 12);
              heap_Free(*(_QWORD **)(v67 + 8), *(_QWORD *)v35);
              v13 = v69;
              if (v64 < (unsigned __int16)v68)
                memmove((void *)v35, (const void *)(v11 + 184 * v64), 184 * ((unsigned __int16)v68 - (int)v16) - 368);
              v46 = 0xFFFF;
              v15 = v72;
              v31 = v75;
            }
            else
            {
              v8 = v67;
              v47 = heap_Realloc(*(uint64_t **)(v67 + 8), v11, 184 * (unsigned __int16)v68 + 184);
              if (!v47)
              {
                inited = 2315264010;
                goto LABEL_57;
              }
              v48 = v47 + 184 * (unsigned __int16)v68;
              *(_QWORD *)(v48 + 176) = 0;
              *(_OWORD *)(v48 + 144) = 0u;
              *(_OWORD *)(v48 + 160) = 0u;
              *(_OWORD *)(v48 + 112) = 0u;
              *(_OWORD *)(v48 + 128) = 0u;
              *(_OWORD *)(v48 + 80) = 0u;
              *(_OWORD *)(v48 + 96) = 0u;
              *(_OWORD *)(v48 + 48) = 0u;
              *(_OWORD *)(v48 + 64) = 0u;
              *(_OWORD *)(v48 + 16) = 0u;
              *(_OWORD *)(v48 + 32) = 0u;
              *(_OWORD *)v48 = 0u;
              v11 = v47;
              if (v65 < (unsigned __int16)v68)
              {
                memmove((void *)(v47 + 184 * v64), (const void *)(v47 + 184 * v65), 184 * ((unsigned __int16)v68 + ~(_DWORD)v16));
                v47 = v11;
              }
              v49 = v47 + 184 * v16;
              v50 = *(_WORD *)(v49 + 8);
              v51 = v47 + 184 * v65;
              *(_WORD *)(v51 + 8) = v50 + ~(_WORD)v22;
              v52 = (_WORD *)(v51 + 8);
              v53 = heap_Alloc(*(_QWORD *)(v67 + 8), 2 * (unsigned __int16)(v50 + ~(_WORD)v22));
              *(_QWORD *)(v11 + 184 * v65) = v53;
              if (!v53)
              {
LABEL_55:
                inited = 2315264010;
                v8 = v67;
LABEL_57:
                v13 = v69;
                goto LABEL_58;
              }
              if (*v52)
              {
                v54 = 0;
                v55 = *(_QWORD *)v49 + v24;
                do
                {
                  *(_WORD *)(v53 + 2 * v54) = *(_WORD *)(v55 + 2 * v54);
                  ++v54;
                }
                while (v54 < (unsigned __int16)*v52);
              }
              v56 = 0;
              v57 = v11 + 184 * v16;
              v59 = *(_DWORD *)(v57 + 12);
              v58 = (_DWORD *)(v57 + 12);
              v60 = v11 + 184 * v65;
              *(_DWORD *)(v60 + 72) = v58[15];
              v58[15] = 0;
              *(_DWORD *)(v60 + 112) = v58[25];
              v58[25] = 0;
              v15 = v72;
              v45 = v68;
              if (v59 == 1)
              {
                *v58 = 0;
                v56 = 1;
              }
              *(_DWORD *)(v11 + 184 * v65 + 12) = v56;
              v31 = v75;
              *(_WORD *)(v49 + 8) = v75 + 1;
              v46 = 1;
              v8 = v67;
              v13 = v69;
            }
            inited = 0;
            v68 = (v46 + v45);
LABEL_23:
            v17 = v25 + 1;
            v32 = v11 + 184 * v16;
            v33 = *(unsigned __int16 *)(v32 + 8);
            v20 = (unsigned __int16 *)(v32 + 8);
            v19 = v33;
            v22 = v31 + 1;
            v24 += 2;
            v34 = v31 + 1 >= (unint64_t)v33 || v70 == (unsigned __int16)(v25 + 1);
            v23 = v31 + 1;
            if (v34)
              goto LABEL_8;
          }
        }
LABEL_53:
        *a4 = v10;
        *v63 = v11;
        v61 = v15;
      }
      else
      {
        v61 = 0;
        inited = 2315264010;
      }
    }
LABEL_59:
    hlp_igtree_freeFeatureVector(v8, v13, (unsigned __int16)(*(unsigned __int8 *)(v6 + 1296) - 1));
    heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v13);
    if (v61)
      heap_Free(*(_QWORD **)(v8 + 8), v61);
  }
  return inited;
}

uint64_t pw_merge_NLU(uint64_t a1, char **a2)
{
  char *v2;
  unsigned __int16 v5;
  unsigned int v6;
  BOOL v7;
  int v8;
  BOOL v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  char *v13;
  unsigned __int16 v14;
  unsigned int v15;
  unsigned int v16;
  int v17;
  BOOL v18;
  unsigned int v19;
  char *v20;
  const char *v21;
  uint64_t v22;
  const char **v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  char *i;
  unsigned int v30;
  unsigned int v31;
  int v32;
  BOOL v33;
  uint64_t v34;
  size_t v35;
  const char *v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  char *j;
  unsigned int v44;
  unsigned int v45;
  int v46;
  int KeyIdx;
  unsigned __int8 *v49;
  const char *v50;
  unsigned int v51;
  unsigned int v52;
  char *v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  size_t v58;
  const char *v59;
  const char *v60;
  char *v61;
  size_t v62;
  char *v63;
  char *v64;
  size_t v65;
  char *v66;
  size_t v67;
  char *v68;
  uint64_t v69;
  int v70;
  int v71;
  int v72;
  const char *v73;
  const char *v74;
  int v75;
  uint64_t v76;
  uint64_t v77;
  BOOL v78;
  char v79;
  const char *v80;
  uint64_t v81;
  uint64_t v82;
  unsigned __int16 v83;
  unint64_t k;
  uint64_t v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v89;
  unsigned int __n;
  size_t __n_4;
  char *__s;
  char *__s1;
  uint64_t v94;
  char *v95;
  uint64_t v96;
  char *v97;
  unsigned int v98;
  char **v99;
  char *__s2;
  unsigned __int16 v101;

  v2 = *a2;
  if (!*a2)
    return 0;
  v5 = 0;
  do
  {
    if (hlp_NLUStrKeyLen(v2) >= 3)
    {
      v6 = *v2 - 69;
      v7 = v6 > 0xE;
      v8 = (1 << v6) & 0x4011;
      v9 = v7 || v8 == 0;
      if (!v9 && v2[1] == 95)
        ++v5;
    }
    v2 = hlp_NLUStrNext(v2);
  }
  while (v2);
  if (!v5)
    return 0;
  v10 = 2315264010;
  v11 = heap_Calloc(*(_QWORD **)(a1 + 8), 8, v5);
  if (v11)
  {
    v12 = v11;
    v13 = *a2;
    if (*a2)
    {
      v99 = a2;
      v98 = -1979703286;
      v14 = 0;
      do
      {
        v15 = hlp_NLUStrKeyLen(v13);
        if (v15 >= 3)
        {
          v16 = *v13 - 69;
          v7 = v16 > 0xE;
          v17 = (1 << v16) & 0x4011;
          v18 = v7 || v17 == 0;
          if (!v18 && v13[1] == 95)
          {
            v19 = v15;
            v20 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v15 - 1);
            if (!v20)
            {
              v26 = v12;
              v10 = 2315264010;
              goto LABEL_181;
            }
            v21 = v20;
            strncpy(v20, v13 + 2, v19 - 2);
            if (v14)
            {
              v22 = v14;
              v23 = (const char **)v12;
              v24 = v14;
              while (*v23)
              {
                if (!strcmp(*v23, v21))
                {
                  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v21);
                  goto LABEL_31;
                }
                ++v23;
                if (!--v24)
                  break;
              }
            }
            else
            {
              v22 = 0;
            }
            *(_QWORD *)(v12 + 8 * v22) = v21;
            ++v14;
          }
        }
LABEL_31:
        v13 = hlp_NLUStrNext(v13);
      }
      while (v13);
      if (!v14)
        goto LABEL_158;
      v25 = heap_Realloc(*(uint64_t **)(a1 + 8), v12, 8 * v14);
      if (v25)
      {
        v26 = v25;
        v27 = heap_Calloc(*(_QWORD **)(a1 + 8), 2, v14);
        if (v27)
        {
          v28 = v27;
          for (i = *v99; i; i = hlp_NLUStrNext(i))
          {
            v30 = hlp_NLUStrKeyLen(i);
            if (v30 >= 3)
            {
              v31 = *i - 69;
              v7 = v31 > 0xE;
              v32 = (1 << v31) & 0x4011;
              v33 = v7 || v32 == 0;
              if (!v33 && i[1] == 95)
              {
                v34 = 0;
                v35 = (unsigned __int16)(v30 - 2);
                do
                {
                  v36 = *(const char **)(v26 + 8 * v34);
                  if (!v36)
                    break;
                  if (!strncmp(v36, i + 2, v35))
                  {
                    if ((v34 & 0x8000) == 0)
                      ++*(_WORD *)(v28 + 2 * v34);
                    break;
                  }
                  ++v34;
                }
                while (v14 != v34);
              }
            }
          }
          v37 = heap_Calloc(*(_QWORD **)(a1 + 8), 8, v14);
          if (v37)
          {
            v38 = v37;
            v39 = 0;
            if ((v14 & 0xFFFE) != 0)
              v40 = v14;
            else
              v40 = 1;
            do
            {
              v41 = heap_Calloc(*(_QWORD **)(a1 + 8), 8, *(unsigned __int16 *)(v28 + 2 * v39));
              *(_QWORD *)(v38 + 8 * v39) = v41;
              if (!v41)
              {
                v42 = 0;
                goto LABEL_166;
              }
              ++v39;
            }
            while (v40 != v39);
            v42 = heap_Calloc(*(_QWORD **)(a1 + 8), 2, v14);
            if (v42)
            {
              for (j = *v99; j; j = hlp_NLUStrNext(j))
              {
                v44 = hlp_NLUStrKeyLen(j);
                if (v44 >= 3)
                {
                  v45 = *j - 69;
                  v7 = v45 > 0xE;
                  v46 = (1 << v45) & 0x4011;
                  if (!v7 && v46 != 0 && j[1] == 95)
                  {
                    KeyIdx = hlp_getKeyIdx(v26, v14, j + 2, (unsigned __int16)(v44 - 2));
                    if ((KeyIdx & 0x80000000) == 0)
                    {
                      v94 = (unsigned __int16)KeyIdx;
                      v96 = *(_QWORD *)(v38 + 8 * (unsigned __int16)KeyIdx);
                      v49 = hlp_NLUStrKeyValue(j);
                      v50 = (const char *)v49;
                      v51 = v49 ? hlp_NLUStrLength((char *)v49) : 0;
                      v52 = v51;
                      if (!hlp_checkValExist(v96, *(unsigned __int16 *)(v42 + 2 * v94), v50, v51))
                      {
                        v53 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v52 + 2);
                        if (!v53)
                          goto LABEL_166;
                        if (v50)
                          v53 = strncpy(v53, v50, v52);
                        else
                          *(_WORD *)v53 = 32;
                        v54 = *(unsigned __int16 *)(v42 + 2 * v94);
                        *(_QWORD *)(v96 + 8 * v54) = v53;
                        *(_WORD *)(v42 + 2 * v94) = v54 + 1;
                      }
                    }
                  }
                }
              }
              v89 = v28;
              v55 = 0;
              do
              {
                v56 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(v38 + 8 * v55), 8 * *(unsigned __int16 *)(v42 + 2 * v55));
                if (!v56)
                {
LABEL_164:
                  v28 = v89;
                  goto LABEL_166;
                }
                *(_QWORD *)(v38 + 8 * v55++) = v56;
              }
              while (v40 != v55);
              v57 = 0;
              while (!*(_WORD *)(v42 + 2 * v57))
              {
LABEL_155:
                if (++v57 == v40)
                {
                  v28 = v89;
                  v98 = 0;
                  goto LABEL_166;
                }
              }
              v58 = 0;
              while (2)
              {
                v59 = *(const char **)(v26 + 8 * v57);
                v60 = *(const char **)(*(_QWORD *)(v38 + 8 * v57) + 8 * v58);
                v61 = *v99;
                v101 = 0;
                __s2 = 0;
                v97 = v61;
                if (!v61)
                  goto LABEL_129;
                __n_4 = v58;
                if (v60)
                  __n = (unsigned __int16)strlen(v60);
                else
                  __n = 0;
                v62 = strlen(v59);
                v63 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v62 + 3);
                if (!v63)
                  goto LABEL_164;
                v64 = v63;
                __s1 = (char *)v60;
                strcpy(v63, "S_");
                strcat(v63, v59);
                v65 = strlen(v59);
                v66 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v65 + 3);
                if (v66)
                {
                  strcpy(v66, "I_");
                  __s = v66;
                  strcat(v66, v59);
                  v67 = strlen(v59);
                  v68 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v67 + 3);
                  if (v68)
                  {
                    v69 = v57;
                    strcpy(v68, "E_");
                    v95 = v68;
                    strcat(v68, v59);
                    if (!hlp_NLUStrFind(v97, v64, (uint64_t *)&__s2, &v101)
                      || ((v70 = v101, !__s1) || v101 || strcmp(__s1, " "))
                      && (!__s1 || v70 != __n || strncmp(__s1, __s2, __n)))
                    {
                      heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v64);
                      v64 = 0;
                    }
                    if (!hlp_NLUStrFind(v97, __s, (uint64_t *)&__s2, &v101)
                      || ((v71 = v101, !__s1) || v101 || strcmp(__s1, " "))
                      && (!__s1 || v71 != __n || strncmp(__s1, __s2, __n)))
                    {
                      heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)__s);
                      __s = 0;
                    }
                    if (!hlp_NLUStrFind(v97, v95, (uint64_t *)&__s2, &v101))
                      goto LABEL_114;
                    v72 = v101;
                    if (__s1 && !v101 && !strcmp(__s1, " "))
                      goto LABEL_112;
                    if (__s1 && v72 == __n)
                    {
                      if (strncmp(__s1, __s2, __n))
                      {
                        heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v95);
                        v95 = 0;
                      }
LABEL_112:
                      v57 = v69;
                      v73 = __s1;
LABEL_115:
                      if (!strcmp(v73, " "))
                        v73 = 0;
                    }
                    else
                    {
LABEL_114:
                      heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v95);
                      v95 = 0;
                      v57 = v69;
                      v73 = __s1;
                      if (__s1)
                        goto LABEL_115;
                    }
                    hlp_NLUStrRemoveRangeKey((unsigned __int8 *)v97, v59, v73);
                    if (v64)
                    {
                      if (!__s)
                      {
                        v74 = v64;
                        if (!v95)
                          goto LABEL_120;
                      }
                    }
                    if (v64)
                      v78 = 1;
                    else
                      v78 = __s == 0;
                    v79 = !v78;
                    if (!v78)
                    {
                      v80 = __s;
                      if (!v95)
                      {
LABEL_139:
                        hlp_NLUStrAppendKeyVal(v97, v80, v73);
                        v76 = (uint64_t)__s;
                        v75 = 0;
LABEL_125:
                        heap_Free(*(_QWORD **)(a1 + 8), v76);
LABEL_126:
                        v77 = (uint64_t)v95;
                        if (v95)
LABEL_127:
                          heap_Free(*(_QWORD **)(a1 + 8), v77);
                        v58 = __n_4;
                        if (v75 < 0)
                        {
                          v28 = v89;
                          v98 = v75;
                          goto LABEL_166;
                        }
LABEL_129:
                        if (++v58 >= *(unsigned __int16 *)(v42 + 2 * v57))
                          goto LABEL_155;
                        continue;
                      }
                    }
                    if (!v64 && !__s && v95)
                    {
                      hlp_NLUStrAppendKeyVal(v97, v95, v73);
                      v77 = (uint64_t)v95;
                      v75 = 0;
                      goto LABEL_127;
                    }
                    if (v64 && v95)
                    {
                      hlp_NLUStrAppendKeyVal(v97, v64, v73);
                      v74 = v95;
                      goto LABEL_120;
                    }
                    if (v64 && __s && (v74 = v64, !v95))
                    {
LABEL_120:
                      hlp_NLUStrAppendKeyVal(v97, v74, v73);
                      v75 = 0;
                    }
                    else
                    {
                      if (!v95)
                        v79 = 0;
                      v80 = v95;
                      if ((v79 & 1) != 0)
                        goto LABEL_139;
                      v75 = 0;
                      if (!v64)
                      {
LABEL_124:
                        v76 = (uint64_t)__s;
                        if (__s)
                          goto LABEL_125;
                        goto LABEL_126;
                      }
                    }
LABEL_123:
                    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v64);
                    goto LABEL_124;
                  }
                  v95 = 0;
                }
                else
                {
                  v95 = 0;
                  __s = 0;
                }
                break;
              }
              v75 = -1979703286;
              goto LABEL_123;
            }
LABEL_166:
            v81 = 0;
            do
            {
              v82 = *(_QWORD *)(v38 + 8 * v81);
              if (v82)
              {
                if (v42)
                {
                  v83 = *(_WORD *)(v42 + 2 * v81);
                  if (v83)
                  {
                    for (k = 0; k < v83; ++k)
                    {
                      v85 = *(_QWORD *)(*(_QWORD *)(v38 + 8 * v81) + 8 * k);
                      if (v85)
                      {
                        heap_Free(*(_QWORD **)(a1 + 8), v85);
                        v83 = *(_WORD *)(v42 + 2 * v81);
                      }
                    }
                    v82 = *(_QWORD *)(v38 + 8 * v81);
                  }
                }
                heap_Free(*(_QWORD **)(a1 + 8), v82);
              }
              ++v81;
            }
            while (v81 != v40);
            heap_Free(*(_QWORD **)(a1 + 8), v38);
            if (v42)
              heap_Free(*(_QWORD **)(a1 + 8), v42);
            v10 = v98;
          }
          else
          {
            v10 = 2315264010;
          }
          heap_Free(*(_QWORD **)(a1 + 8), v28);
          v12 = v26;
LABEL_181:
          if (!v14)
            goto LABEL_187;
LABEL_182:
          v86 = 0;
          do
          {
            v87 = *(_QWORD *)(v26 + 8 * v86);
            if (v87)
              heap_Free(*(_QWORD **)(a1 + 8), v87);
            ++v86;
          }
          while (v14 != v86);
          v12 = v26;
          goto LABEL_187;
        }
      }
      else
      {
        v26 = v12;
      }
      v10 = 2315264010;
      goto LABEL_182;
    }
LABEL_158:
    v10 = 0;
LABEL_187:
    heap_Free(*(_QWORD **)(a1 + 8), v12);
  }
  return v10;
}

void pw_split_csc_pw(uint64_t a1, char *a2)
{
  char v5;
  char *v6;
  char v7;
  char *v8;
  char __src[1024];
  uint64_t v10;

  v10 = *MEMORY[0x1E0C80C00];
  bzero(__src, 0x400uLL);
  if (*(_DWORD *)(a1 + 12) == 1 && (*(_WORD *)(a1 + 8) & 0xFFFE) == 4 && a2 != 0)
  {
    v5 = 1;
    v6 = a2;
    do
    {
      v7 = v5;
      v8 = strchr(v6, 46);
      if (v8)
        v6 = v8 + 1;
      else
        v6 = 0;
      if (!v8)
        break;
      v5 = 0;
    }
    while ((v7 & 1) != 0);
    if (v8)
    {
      __strncpy_chk();
      __strcat_chk();
      __strcat_chk();
      strcpy(a2, __src);
    }
  }
}

uint64_t checkAttachedPunc(const char *a1)
{
  unsigned __int16 v2;
  uint64_t v3;
  uint64_t v5;

  v2 = strlen(a1);
  v5 = 0;
  v3 = v2;
  if (v2)
  {
    if (memchr(",:;.?!|_~'\"<>{}#()[]^\\=@/&$*#", a1[v2 - 1], 0x1EuLL))
    {
      return 1;
    }
    else
    {
      if ((_DWORD)v3 != 3)
        return 0;
      v3 = 1;
      utf8_Utf8ToUtf32_Tolerant((uint64_t)a1, 3u, (uint64_t)&v5 + 4, 1u, &v5);
      if (HIDWORD(v5) != 8230)
        return 0;
    }
  }
  return v3;
}

uint64_t pw_check_if_glue_forbidden(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, int *a7)
{
  uint64_t result;
  uint64_t v15;
  int *v16;
  int v17;
  unsigned int v18;
  unint64_t v19;
  _DWORD *v20;
  int v22;
  uint64_t v23;
  int v24;
  int v25;

  *a7 = 0;
  result = pw_check_if_word_in_prompt(a1, a2, a3, a5, a7);
  if ((result & 0x80000000) == 0 && !*a7)
  {
    result = pw_check_if_word_in_prompt(a1, a2, a3, a6, a7);
    if ((result & 0x80000000) == 0 && !*a7)
    {
      v24 = 0;
      v25 = 0;
      v23 = 0;
      result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t *, int *))(a1 + 176))(a2, a3, a4, 1, &v23, &v24);
      if ((result & 0x80000000) == 0)
      {
        (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, char *))(a1 + 168))(a2, a3, a5, 1, 1, (char *)&v25 + 2, (char *)&v24 + 2);
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, int *, char *))(a1 + 168))(a2, a3, a6, 2, 1, &v25, (char *)&v24 + 2);
        if ((result & 0x80000000) == 0)
        {
          if ((_WORD)v24)
          {
            v15 = 0;
            v16 = (int *)(v23 + 12);
            while (1)
            {
              v17 = *v16;
              v16 += 8;
              if (v17 - *(_DWORD *)(v23 + 12) > HIWORD(v25))
                break;
              if ((unsigned __int16)v24 == ++v15)
                goto LABEL_24;
            }
            v18 = (unsigned __int16)v15;
          }
          else
          {
            v18 = 0;
          }
          if (v18 < (unsigned __int16)v24)
          {
            v19 = (unsigned __int16)v24 - (unint64_t)v18;
            v20 = (_DWORD *)(v23 + 32 * v18);
            while (v20[3] - *(_DWORD *)(v23 + 12) < (unsigned __int16)v25)
            {
              if (*v20 <= 0x39u && ((1 << *v20) & 0x3C0010124001140) != 0)
              {
                v22 = 1;
                goto LABEL_25;
              }
              v20 += 8;
              if (!--v19)
                break;
            }
          }
LABEL_24:
          v22 = 0;
LABEL_25:
          *a7 = v22;
        }
      }
    }
  }
  return result;
}

char *checkremoveNormalSym(char *a1, unsigned __int16 *a2, unsigned __int8 a3)
{
  int v5;
  char *result;
  unsigned int v7;
  unint64_t v8;
  unsigned __int16 v9;
  int v10;

  v5 = a3;
  result = strchr(a1, a3);
  if (result)
  {
    v7 = *a2;
    if (*a2)
    {
      v8 = 0;
      v9 = 0;
      do
      {
        v10 = a1[v8];
        if (v10 != v5)
        {
          if (v8 != v9)
          {
            a1[v9] = v10;
            v7 = *a2;
          }
          ++v9;
        }
        ++v8;
      }
      while (v8 < v7);
    }
    else
    {
      v9 = 0;
    }
    a1[v9] = 0;
    *a2 = v9;
  }
  return result;
}

uint64_t pw_copy_pw(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;

  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Copying PW ... ", a6, a7, a8, v19);
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"pPWIn and pPWOut is: ", v11, v12, v13, v20);
  v17 = pw_show_pw(a1, a2);
  if ((v17 & 0x80000000) == 0)
  {
    *(_WORD *)(a3 + 8) = *(_WORD *)(a2 + 8);
    *(_QWORD *)a3 = *(_QWORD *)a2;
    *(_DWORD *)(a3 + 12) = *(_DWORD *)(a2 + 12);
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Copy PW done!", v14, v15, v16, v21);
  }
  return v17;
}

uint64_t pw_show_pw(uint64_t a1, uint64_t a2)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  const char *v8;
  unint64_t v9;
  int v10;

  v4 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 1000);
  if (!v4)
    return 2315264010;
  v8 = (const char *)v4;
  if (*(_WORD *)(a2 + 8))
  {
    v9 = 0;
    v10 = 0;
    do
    {
      sprintf((char *)&v8[v10], "%d-", *(unsigned __int16 *)(*(_QWORD *)a2 + 2 * v9));
      v10 = strlen(v8);
      ++v9;
    }
    while (v9 < *(unsigned __int16 *)(a2 + 8));
  }
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"\tPW [tids:%s, ntok:%d]", v5, v6, v7, (uint64_t)v8);
  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v8);
  return 0;
}

uint64_t hlp_getKeyIdx(uint64_t a1, unsigned int a2, char *__s2, size_t __n)
{
  uint64_t v6;
  size_t v7;
  uint64_t v8;
  const char *v9;

  if (a2)
  {
    v6 = 0;
    v7 = __n;
    v8 = a2;
    do
    {
      v9 = *(const char **)(a1 + 8 * v6);
      if (!v9)
        break;
      if (!strncmp(v9, __s2, v7))
        return (__int16)v6;
      ++v6;
    }
    while (v8 != v6);
  }
  LOWORD(v6) = -1;
  return (__int16)v6;
}

uint64_t hlp_checkValExist(uint64_t result, unsigned int a2, const char *a3, unsigned int a4)
{
  const char *v4;
  const char **v5;
  size_t v6;
  uint64_t v7;

  if (result)
  {
    if (a3)
      v4 = a3;
    else
      v4 = " ";
    if (a2)
    {
      v5 = (const char **)result;
      if (a3)
        v6 = a4;
      else
        v6 = 1;
      v7 = a2;
      while (*v5)
      {
        if (strlen(*v5) == v6 && !strncmp(*v5, v4, v6))
          return 1;
        ++v5;
        if (!--v7)
          return 0;
      }
    }
    return 0;
  }
  return result;
}

uint64_t pw_check_if_word_in_prompt(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t result;
  int v10;

  v10 = 0;
  *a5 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, int *, char *))(a1 + 168))(a2, a3, a4, 1, 1, &v10, (char *)&v10 + 2);
  if ((result & 0x80000000) == 0)
    return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _DWORD *))(a1 + 312))(a2, a3, (unsigned __int16)v10, a5);
  return result;
}

uint64_t getphraseCfg(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int *a5, char **a6, char **a7)
{
  uint64_t result;
  BOOL v15;
  unsigned int v16;
  char v17;
  __int16 v18;
  const char **v19;

  v19 = 0;
  v18 = -1;
  v17 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, const char ***, __int16 *, char *))(a2 + 96))(a3, a4, "fecfg", "fephrase_slience", &v19, &v18, &v17);
  if ((result & 0x80000000) == 0)
  {
    if (v19)
      v15 = v18 == 0;
    else
      v15 = 1;
    if (v15)
      v16 = 300;
    else
      v16 = LH_atou(*v19);
    *a5 = v16;
    result = getPunc(a1, a2, a3, a4, a6, (uint64_t)"fephrase_strongphrasepunc");
    if ((result & 0x80000000) == 0)
      return getPunc(a1, a2, a3, a4, a7, (uint64_t)"fephrase_weakphrasepunc");
  }
  return result;
}

uint64_t getPunc(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, char **a5, uint64_t a6)
{
  uint64_t v8;
  BOOL v9;
  char *v10;
  char *v11;
  unsigned int v12;
  char *v13;
  char v15;
  __int16 v16;
  const char **v17;

  v17 = 0;
  v16 = 0;
  v15 = 0;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, uint64_t, const char ***, __int16 *, char *))(a2 + 96))(a3, a4, "fecfg", a6, &v17, &v16, &v15);
  if ((v8 & 0x80000000) == 0)
  {
    if (v17)
      v9 = v16 == 0;
    else
      v9 = 1;
    if (v9)
    {
      v10 = (char *)heap_Alloc(*(_QWORD *)(a1 + 8), 10);
      if (v10)
      {
        strcpy(v10, ",;:.?!_~|");
        v11 = v10 + 9;
LABEL_11:
        *v11 = 0;
        *a5 = v10;
        return v8;
      }
    }
    else
    {
      v12 = strlen(*v17);
      v13 = (char *)heap_Alloc(*(_QWORD *)(a1 + 8), v12 + 1);
      if (v13)
      {
        v10 = strcpy(v13, *v17);
        v11 = &v10[v12 - 1];
        goto LABEL_11;
      }
    }
    return 2315264010;
  }
  return v8;
}

uint64_t ruleNNInit(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  char *v20;
  int Str;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  int v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  int v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  int v34;
  int ChunkData;
  char *v36;
  char *v37;
  unsigned __int16 v38;
  unsigned int v39;
  int v40;
  char *v41;
  char *i;
  unsigned int v43;
  char v44;
  int v45;
  int v46;
  uint64_t v48;
  _BYTE *v49;
  char *v50;
  int v51;
  unsigned __int16 v52;
  uint64_t j;
  char *v54;
  unsigned int v56;
  uint64_t v57;
  unsigned __int16 v58;
  char *v60;
  int v61[2];
  unsigned int v62;
  int __c[2];
  uint64_t v64;
  int v65;
  int v66;
  unsigned __int8 v67;
  char **v68;
  int v69[2];
  _OWORD v70[16];
  uint64_t v71;
  __int128 v72;
  __int128 v73;
  __int128 v74;
  __int128 v75;
  _BYTE v76[28];
  uint64_t v77;

  v77 = *MEMORY[0x1E0C80C00];
  memset(v70, 0, sizeof(v70));
  v67 = 0;
  v65 = 0;
  v66 = 0;
  *(_QWORD *)__c = 0;
  v64 = 0;
  v62 = 0;
  v60 = 0;
  *(_QWORD *)v61 = 0;
  if ((com_mosynt_GetCfgParamVal(a5, a6, a4, (uint64_t)"fephrase_max_rule", "1024", &v60) & 0x80000000) != 0)
    v15 = 1024;
  else
    v15 = atoi(v60);
  v20 = (char *)heap_Calloc(*(_QWORD **)(a3 + 8), 1, v15);
  if (v20)
  {
    v68 = 0;
    *(_QWORD *)v69 = 0;
    memset(v76, 0, sizeof(v76));
    v75 = 0u;
    v74 = 0u;
    v73 = 0u;
    v72 = 0u;
    Str = paramc_ParamGetStr(*(_QWORD *)(a3 + 40), (uint64_t)"langcode", v69);
    if (Str < 0
      || (Str = paramc_ParamGetStr(*(_QWORD *)(a3 + 40), (uint64_t)"fecfg", &v68), Str < 0)
      || (v71 = 0x73656C75727073,
          __strcat_chk(),
          __strcat_chk(),
          __strcat_chk(),
          __strcat_chk(),
          Str = brokeraux_ComposeBrokerString(a3, (const char *)&v71, 1, 1, *(char **)v69, 0, 0, (char *)v70, 0x100uLL), Str < 0))
    {
      v45 = Str;
      log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"Could not assemble broker string for SP rules %s", v22, v23, v24, (uint64_t)"sprules");
      v34 = v45 | 0x8A002000;
    }
    else
    {
      log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"looking for SP rules %s at %s", v22, v23, v24, (uint64_t)"sprules");
      v25 = ssftriff_reader_ObjOpen(a1, a2, 2, (const char *)v70, "SPDT", 1031, (uint64_t *)v61);
      if (v25 < 0)
      {
        v34 = v25;
        log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"no sp rules", v27, v28, v29, v57);
        *(_WORD *)(a7 + 10) = 0;
        *(_QWORD *)a7 = 0;
      }
      else
      {
        while (1)
        {
          v30 = ssftriff_reader_OpenChunk(*(uint64_t *)v61, &v66, (unsigned int *)&v65, &v64, v26, v27, v28, v29);
          if (v30 < 0)
            break;
          if (!(v66 ^ 0x52545344 | v67))
          {
            ChunkData = ssftriff_reader_GetChunkData(*(uint64_t *)v61, v65, __c, v33, v26, v27, v28, v29);
            if (ChunkData < 0)
              goto LABEL_77;
            v62 = 0;
            ssftriff_reader_ReadStringZ(*(uint64_t *)v61, *(uint64_t *)__c, v65, 0, 0, &v62);
            ssftriff_reader_ReadStringZ(*(uint64_t *)v61, *(uint64_t *)__c, v65, 0, v20, &v62);
            v36 = strchr(v20, 10);
            if (v36)
              *v36 = 0;
            v37 = strchr(v20, 58);
            v38 = v37 ? atoi(v37 + 2) : 0;
            v39 = v62;
            ChunkData = initPhrasingRuleStruct(a3, a7, v38);
            if (ChunkData < 0)
              goto LABEL_77;
            v58 = v38;
            if (v38)
            {
              v40 = 0;
              while (1)
              {
                do
                {
                  v62 = 0;
                  ssftriff_reader_ReadStringZ(*(uint64_t *)v61, *(uint64_t *)__c, v65, v39, 0, &v62);
                  ssftriff_reader_ReadStringZ(*(uint64_t *)v61, *(uint64_t *)__c, v65, v39, v20, &v62);
                  v39 += v62;
                  v41 = v20 + 1;
                  for (i = v20; ; ++i)
                  {
                    v43 = *i;
                    if (v43 > 0x23)
                      goto LABEL_29;
                    if (((1 << v43) & 0x100000200) == 0)
                      break;
                    ++v41;
                  }
                }
                while (((1 << v43) & 0x800002401) != 0);
LABEL_29:
                while ((_BYTE)v43)
                {
                  if (v43 == 35)
                  {
                    *(v41 - 1) = 0;
                    break;
                  }
                  v44 = *v41++;
                  LOBYTE(v43) = v44;
                }
                ChunkData = addPhrasingRuleNN(a3, (uint64_t *)a7, v20);
                if (ChunkData < 0)
                  break;
                if ((unsigned __int16)++v40 >= v58)
                  goto LABEL_11;
              }
LABEL_77:
              v34 = ChunkData;
              goto LABEL_37;
            }
          }
LABEL_11:
          v34 = ssftriff_reader_CloseChunk(*(uint64_t *)v61);
          if (v34 < 0)
            goto LABEL_37;
        }
        if ((v30 & 0x1FFF) == 0x14)
          v34 = 0;
        else
          v34 = v30;
      }
    }
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v16, v17, v18, v19, v56);
    v34 = -1979703286;
  }
LABEL_37:
  if (*(_QWORD *)v61)
  {
    v46 = ssftriff_reader_ObjClose(*(_QWORD **)v61, v31, v32, v33, v26, v27, v28, v29);
    if (v46 < 0 && v34 > -1)
      v34 = v46;
  }
  if (v20)
    heap_Free(*(_QWORD **)(a3 + 8), (uint64_t)v20);
  if (a7 && v34 < 0)
    releasePhrasingRuleStructNN(a3, a7);
  v48 = 0;
  v68 = 0;
  *(_QWORD *)v69 = 0;
  LOWORD(v64) = -1;
  LOBYTE(__c[0]) = 0;
  *(_OWORD *)(a8 + 2) = 0u;
  *(_OWORD *)(a8 + 18) = 0u;
  *(_OWORD *)(a8 + 34) = 0u;
  *(_OWORD *)(a8 + 50) = 0u;
  *(_OWORD *)(a8 + 66) = 0u;
  v71 = (uint64_t)"JOY_KEYS";
  *(_QWORD *)&v72 = "DID_KEYS";
  *((_QWORD *)&v72 + 1) = "NEU_KEYS";
  *(_QWORD *)&v73 = "COM_KEYS";
  while (1)
  {
    strcpy((char *)v70, "statbnd_");
    __strcat_chk();
    LOWORD(v64) = 0;
    if (((*(uint64_t (**)(uint64_t, uint64_t, const char *, _OWORD *, int *, uint64_t *, int *))(a4 + 96))(a5, a6, "fecfg", v70, v69, &v64, __c) & 0x80000000) != 0|| !(_WORD)v64)
    {
      break;
    }
    v49 = **(_BYTE ***)v69;
    v50 = strchr(**(char ***)v69, LOBYTE(__c[0]));
    if (v50)
    {
      *v50 = 0;
      v49 = **(_BYTE ***)v69;
    }
    v51 = *v49;
    if (*v49)
    {
      v52 = 0;
      do
      {
        for (j = 0; v51; v51 = v49[++j])
        {
          if (v51 == 44)
            break;
        }
        strcpy((char *)v70, "statbnd_");
        __strncat_chk();
        LOWORD(v64) = 0;
        (*(void (**)(uint64_t, uint64_t, const char *, _OWORD *, char ***, uint64_t *, int *))(a4 + 96))(a5, a6, "fecfg", v70, &v68, &v64, __c);
        if ((_WORD)v64)
        {
          v54 = strchr(*v68, LOBYTE(__c[0]));
          if (v54)
            *v54 = 0;
          if ((unsigned __int16)v48 == 2)
          {
            *(_WORD *)(a8 + 2 * v52 + 42) = atoi(*v68);
          }
          else if ((unsigned __int16)v48 == 1)
          {
            *(_WORD *)(a8 + 2 * v52 + 22) = atoi(*v68);
          }
          else if ((_WORD)v48)
          {
            *(_WORD *)(a8 + 2 * v52 + 62) = atoi(*v68);
          }
          else
          {
            *(_WORD *)(a8 + 2 * v52 + 2) = atoi(*v68);
          }
        }
        if (v49[j] == 44)
          v49 += j + 1;
        else
          v49 += j;
        ++v52;
        v51 = *v49;
      }
      while (*v49);
    }
    else
    {
      v52 = 0;
    }
    if (++v48 == 4)
    {
      *(_WORD *)a8 = v52;
      return 0;
    }
  }
  return 0;
}

uint64_t doesNNCustermizedFE(uint64_t result, uint64_t a2, _DWORD *a3)
{
  uint64_t v5;
  uint64_t v6;
  size_t v7;
  uint64_t v8;
  void *v9;
  unint64_t v10;
  unsigned __int16 v11;
  uint64_t v12;
  unsigned int v13;
  BOOL v14;
  int v15;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  __int16 v21;
  int v22;
  unsigned __int16 v23;
  const char *v24;
  unsigned __int16 v25;
  unsigned __int8 v26;
  uint64_t v27;

  v27 = *MEMORY[0x1E0C80C00];
  if (result)
  {
    v5 = result;
    v6 = *(_QWORD *)(result + 8);
    v24 = *(const char **)(a2 + 1088);
    v7 = strlen(v24);
    v8 = heap_Alloc(v6, v7 + 2);
    if (v8)
    {
      v9 = (void *)v8;
      if (*(_WORD *)(a2 + 1072))
      {
        v10 = 0;
        v11 = 0;
        do
        {
          v12 = *(_QWORD *)(a2 + 1064);
          v13 = *(_DWORD *)(v12 + 184 * v10 + 36);
          v14 = v13 > 0xA;
          v15 = (1 << v13) & 0x610;
          if (!v14 && v15 != 0)
          {
            v17 = v12 + 184 * v10;
            v18 = *(unsigned __int16 *)(v17 + 16);
            v19 = *(unsigned __int16 *)(v17 + 18);
            if ((_DWORD)v18 != (_DWORD)v19)
            {
              v20 = v19 - v18;
              memcpy(v9, &v24[v18], v19 - v18);
              *((_BYTE *)v9 + v20) = 0;
              v21 = strlen((const char *)v9);
              v22 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)v9, v21);
              if (v22)
              {
                v23 = 0;
                do
                {
                  utf8_getUTF8Char((uint64_t)v9, v23, &v25);
                  if (!(v25 ^ 0xA7C2 | v26))
                    ++v11;
                  v23 += utf8_determineUTF8CharLength(v25);
                  --v22;
                }
                while (v22);
              }
            }
          }
          ++v10;
        }
        while (v10 < *(unsigned __int16 *)(a2 + 1072));
        if (v11 >= 3u)
          *a3 = 1;
      }
      heap_Free(*(_QWORD **)(v5 + 8), (uint64_t)v9);
      return 0;
    }
    else
    {
      return 2315264010;
    }
  }
  else
  {
    *a3 = 0;
  }
  return result;
}

uint64_t addTokenNN(uint64_t a1, unsigned __int16 *a2, char *__s, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v11;
  int v12;
  uint64_t v13;
  unsigned __int16 v14;
  unsigned int v15;
  unsigned __int16 *v16;
  unsigned int v17;
  unsigned int v18;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unint64_t v25;
  _QWORD *v26;
  int v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  char *v33;
  size_t v34;
  unsigned int v36;

  v11 = *(unsigned __int16 *)(a4 + 1072);
  v12 = *a2;
  if (!*(_WORD *)(a4 + 1072))
    goto LABEL_14;
  v13 = 0;
  v14 = v11 + 1;
  v15 = a2[1];
  v16 = (unsigned __int16 *)(*(_QWORD *)(a4 + 1064) + 18);
  while (1)
  {
    v17 = *(v16 - 1);
    if (v12 == v17)
      v14 = v13;
    v18 = *v16;
    if (v15 == v18)
      break;
    if (v15 >= v17 && v15 < v18)
      break;
    v16 += 92;
    ++v13;
    v12 = *a2;
    if (v11 == v13)
      goto LABEL_14;
  }
  if ((_DWORD)v11 + 1 != v14)
  {
    v26 = *(_QWORD **)(a1 + 8);
    v27 = strlen(__s);
    v28 = heap_Calloc(v26, 1, (v27 - 1));
    *(_QWORD *)(*(_QWORD *)(a4 + 1064) + 184 * v14 + 128) = v28;
    if (v28)
    {
      v33 = (char *)v28;
      v34 = strlen(__s + 1);
      strncpy(v33, __s + 1, v34 - 1);
      return 0;
    }
    else
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v29, v30, v31, v32, v36);
      return 2315264010;
    }
  }
  else
  {
LABEL_14:
    v20 = 2315264000;
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"could not resolve token positions (find start and end) : token=%s from=%d to=%d", a6, a7, a8, (uint64_t)__s);
    if (*(_WORD *)(a4 + 1072))
    {
      v24 = 0;
      v25 = 0;
      do
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"word[%d] %d,%d", v21, v22, v23, v25++);
        v24 += 184;
      }
      while (v25 < *(unsigned __int16 *)(a4 + 1072));
    }
  }
  return v20;
}

uint64_t insert_NLU_infoNN(uint64_t a1, unsigned int a2, int a3, uint64_t a4, uint64_t a5)
{
  unsigned __int16 v7;
  __int16 v8;
  uint64_t v10;
  uint64_t v11;
  const char *v12;
  uint64_t v13;
  int v14;
  char *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  const char *v20;
  uint64_t v21;
  int v22;
  char *v23;
  const char *v24;
  int v25;
  char *v26;
  uint64_t v27;
  const char *v28;
  size_t v29;
  char *v30;
  unsigned int v33;

  v7 = a3;
  v8 = a2;
  if (a2 == a3)
  {
    if (a2 + 1 == *(unsigned __int16 *)(a5 + 1072))
      v7 = a2 + 1;
    else
      v7 = a2;
  }
  if (a2 >= v7)
    return 0;
  v10 = 184 * a2 + 88;
  v11 = a2 + 1;
  while (1)
  {
    v12 = *(const char **)(a4 + 8);
    if (!v12)
      goto LABEL_12;
    v13 = *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10);
    if (v13)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v13);
      *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10) = 0;
      v12 = *(const char **)(a4 + 8);
    }
    v14 = strlen(v12);
    v15 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v14 + 1));
    *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10) = v15;
    if (!v15)
      break;
    strcpy(v15, *(const char **)(a4 + 8));
    *(_WORD *)(*(_QWORD *)(a5 + 1064) + v10 + 8) = v8;
LABEL_12:
    v20 = *(const char **)(a4 + 56);
    if (v20)
    {
      v21 = *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10 + 32);
      if (v21)
      {
        heap_Free(*(_QWORD **)(a1 + 8), v21);
        *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10 + 32) = 0;
        v20 = *(const char **)(a4 + 56);
      }
      v22 = strlen(v20);
      v23 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v22 + 1));
      *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10 + 32) = v23;
      if (!v23)
        break;
      strcpy(v23, *(const char **)(a4 + 56));
    }
    v24 = *(const char **)(a4 + 40);
    if (v24)
    {
      v25 = strlen(v24);
      v26 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10 + 56), (v25 + 32) & 0xFFFFFFE0);
      if (!v26)
        break;
      *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10 + 56) = strcpy(v26, *(const char **)(a4 + 40));
    }
    v27 = *(_QWORD *)(a4 + 72);
    if (v27)
    {
      *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10 + 64) = v27;
      v28 = *(const char **)(a4 + 64);
      if (v28)
      {
        v29 = strlen(v28);
        v30 = (char *)heap_Alloc(*(_QWORD *)(a1 + 8), v29 + 1);
        *(_QWORD *)(*(_QWORD *)(a5 + 1064) + v10 + 72) = v30;
        if (!v30)
          break;
        strcpy(v30, *(const char **)(a4 + 64));
      }
    }
    v10 += 184;
    if (v7 == (unsigned __int16)v11++)
      return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v16, v17, v18, v19, v33);
  return 2315264010;
}

uint64_t addMarkerTypeNN(uint64_t a1, char *__s2, const char *a3, unsigned int a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  int v18;
  int v19;
  char *v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unsigned int v26;

  v14 = *(unsigned __int16 *)(a5 + 74);
  if (v14 <= *(unsigned __int16 *)(a5 + 72))
    v15 = *(unsigned __int16 *)(a5 + 72);
  else
    v15 = *(unsigned __int16 *)(a5 + 74);
  v16 = 8 * v14;
  do
  {
    if (v15 == v14 || (v17 = *(_QWORD *)(a5 + 528)) == 0)
    {
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Ignoring marker :%s, as not in DEFMAPPING list", a6, a7, a8, (uint64_t)__s2);
      return 0;
    }
    v18 = strcmp((const char *)(v17+ *(unsigned int *)(*(_QWORD *)(a5 + 536) + 4 * *(unsigned int *)(*(_QWORD *)(a5 + 64) + v16))), __s2);
    ++v14;
    v16 += 8;
  }
  while (v18);
  if ((_WORD)v14 != 1)
    return 0;
  v19 = strlen(a3);
  v20 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v19 + 1));
  *(_QWORD *)(*(_QWORD *)(a6 + 1064) + 184 * a4 + 128) = v20;
  if (v20)
  {
    strcpy(v20, a3);
    return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v21, v22, v23, v24, v26);
  return 2315264010;
}

uint64_t getNNSentenceData(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t inserted;
  uint64_t v6;
  unsigned int v7;
  __int16 v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unint64_t v19;
  uint64_t v20;
  unint64_t v21;
  unint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  _BOOL4 v26;
  uint64_t v27;
  const char *v28;
  int v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  unint64_t v35;
  char *v36;
  unsigned __int8 *i;
  unsigned int v38;
  BOOL v39;
  uint64_t v40;
  const char *v42;
  const char *v43;
  unint64_t v44;
  char *v45;
  char *v46;
  char *v47;
  char *v48;
  const char *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  int v53;
  const char *v54;
  int v55;
  uint64_t v56;
  char *v57;
  int v58;
  const char *v59;
  char *v60;
  const char *v61;
  int v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  char *v75;
  uint64_t v76;
  uint64_t v77;
  uint64_t v78;
  uint64_t v79;
  uint64_t v80;
  unsigned int v82;
  int v83;
  unsigned __int16 v84;
  uint64_t v85;
  int DomainFromPausingDefs;
  unsigned __int16 v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  int v91;
  unsigned int v92;
  uint64_t v93;
  uint64_t v94;
  unsigned int v95;
  uint64_t v96;
  uint64_t v97;
  uint64_t v98;
  const char *v99;
  const char *v100;
  const char *v101;
  uint64_t v102;
  const char *v103;
  uint64_t v104;
  const char *v105;
  uint64_t v106;
  uint64_t v107;
  const char *v108;
  __int128 v109;
  const char *v110;
  __int16 v111;
  unsigned int v112;
  char *v113;
  int v114;
  __int16 v115;
  unsigned __int16 v116;
  uint64_t v117;
  unsigned __int16 v118;
  __int128 v119;
  __int128 v120;
  __int128 v121;
  __int128 v122;
  __int128 v123;

  v117 = 0;
  v116 = 0;
  inserted = *(_QWORD *)(a5 + 1088);
  if (!inserted)
    return inserted;
  v6 = a5;
  v7 = *(unsigned __int16 *)(a5 + 1096);
  v118 = 0;
  v115 = 0;
  v114 = 0;
  v113 = 0;
  v112 = 0;
  v111 = 0;
  if (!*(_BYTE *)inserted)
    return 0;
  v12 = strlen((const char *)inserted);
  v13 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (unsigned __int16)(v12 + 2));
  if (!v13)
  {
    inserted = 2315264010;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v14, v15, v16, v17, v92);
    return inserted;
  }
  v18 = v13;
  v95 = v7;
  v93 = a3;
  v94 = a4;
  v104 = a2;
  if (!*(_WORD *)(v6 + 1072))
  {
LABEL_77:
    v71 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a2 + 104))(v93, v94, 2, v95, &v118);
    if ((v71 & 0x80000000) != 0)
    {
LABEL_89:
      inserted = v71;
    }
    else
    {
      while (v118)
      {
        v71 = (*(uint64_t (**)(uint64_t, uint64_t))(a2 + 168))(v93, v94);
        if ((v71 & 0x80000000) != 0)
          goto LABEL_89;
        if (v114 == 6)
        {
          v71 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned int *, __int16 *))(v104 + 168))(v93, v94, v118, 1, 1, &v112, &v115);
          if ((v71 & 0x80000000) != 0)
            goto LABEL_89;
          v71 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(v104 + 168))(v93, v94, v118, 2, 1, (char *)&v112 + 2, &v115);
          if ((v71 & 0x80000000) != 0)
            goto LABEL_89;
          if ((unsigned __int16)v112 > HIWORD(v112))
          {
            inserted = 2315271857;
            goto LABEL_90;
          }
          v71 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, __int16 *))(v104 + 176))(v93, v94, v118, 4, &v113, &v115);
          if ((v71 & 0x80000000) != 0)
            goto LABEL_89;
          v75 = v113;
          if (strcmp(v113, "_PR_"))
          {
            v80 = addTokenNN(a1, (unsigned __int16 *)&v112, v75, v6, v76, v77, v78, v79);
            if ((v80 & 0x80000000) != 0)
            {
              inserted = v80;
              if ((_DWORD)v80 != -1979703296)
                goto LABEL_90;
            }
          }
        }
        a2 = v104;
        v71 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(v104 + 120))(v93, v94, v118, &v118);
        if ((v71 & 0x80000000) != 0)
          goto LABEL_89;
      }
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Added words information", v72, v73, v74, 0);
      inserted = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, unsigned __int16 *))(a2 + 176))(v93, v94, v95, 1, &v117, &v116);
      if ((inserted & 0x80000000) == 0)
      {
        LOWORD(v82) = v116;
        if (v116)
        {
          v83 = 0;
          v84 = 0;
          v85 = v6 + 1104;
          do
          {
            if (*(_DWORD *)(v117 + 32 * v84) == 21)
            {
              DomainFromPausingDefs = getDomainFromPausingDefs(v85, *(char **)(v117 + 32 * v84 + 24), &v111);
              v82 = v116;
              if (DomainFromPausingDefs == 1)
              {
                v87 = v84 + 1;
                if (v116 > (unsigned __int16)(v84 + 1))
                {
                  v88 = a1;
                  v89 = v117;
                  v90 = v117 + 32 * v84 + 24;
                  while (1)
                  {
                    v91 = v87;
                    if (*(_DWORD *)(v89 + 32 * v87) == 21)
                    {
                      if (strcmp(*(const char **)v90, *(const char **)(v89 + 32 * v87 + 24)))
                        break;
                    }
                    v87 = v91 + 1;
                    if (v82 <= (unsigned __int16)(v91 + 1))
                      goto LABEL_106;
                  }
                  v84 = v91 - (v91 + 1 != v83);
LABEL_106:
                  a1 = v88;
                }
              }
            }
            v83 = ++v84;
          }
          while (v84 < (unsigned __int16)v82);
        }
      }
    }
    goto LABEL_90;
  }
  v19 = 0;
  v96 = v6 + 1104;
  v97 = v13;
  v106 = v6;
  v107 = inserted;
  v98 = a1;
  while (1)
  {
    v20 = *(_QWORD *)(v6 + 1064) + 184 * v19;
    *(_QWORD *)(v20 + 80) = 0;
    *(_QWORD *)(v20 + 88) = 0;
    *(_QWORD *)(v20 + 120) = 0;
    *(_QWORD *)(v20 + 128) = 0;
    *(_OWORD *)(v20 + 144) = 0u;
    *(_OWORD *)(v20 + 160) = 0u;
    v112 = *(_DWORD *)(v20 + 16);
    v21 = v112;
    v22 = (unint64_t)v112 >> 16;
    strncpy((char *)v18, (const char *)(inserted + (unsigned __int16)v21), (v21 >> 16) - (unsigned __int16)v21);
    *(_BYTE *)(v18 + v22 - (unsigned __int16)v112) = 0;
    if ((_DWORD)v22 == (unsigned __int16)v21)
    {
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"WARNING! : IGNORE EMPTY WORD lingdb position %d,%d", v23, v24, v25, (unsigned __int16)v21);
      goto LABEL_73;
    }
    v26 = doesWordEndInComma((const char *)v18);
    v27 = *(_QWORD *)(v6 + 1064);
    if (v26)
      *(_DWORD *)(v27 + 184 * *(unsigned __int16 *)(v6 + 1072) - 84) = 1;
    v28 = *(const char **)(v27 + 184 * v19 + 40);
    if (v28)
      break;
LABEL_73:
    ++v19;
    inserted = v107;
    if (v19 >= *(unsigned __int16 *)(v6 + 1072))
      goto LABEL_77;
  }
  v122 = 0u;
  v123 = 0u;
  v120 = 0u;
  v121 = 0u;
  v119 = 0u;
  v29 = strlen(v28);
  v30 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v29 + 1));
  if (!v30)
  {
LABEL_93:
    inserted = 2315264010;
    a1 = v98;
    log_OutPublic(*(_QWORD *)(v98 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v31, v32, v33, v34, v92);
    v18 = v97;
    goto LABEL_90;
  }
  v35 = v30;
  v99 = v28;
  v36 = strcpy((char *)v30, v28);
  for (i = (unsigned __int8 *)(v35 + strlen(v36) - 1); (unint64_t)i >= v35; --i)
  {
    v38 = *i;
    v39 = v38 > 0x3B;
    v40 = (1 << v38) & 0x800000100002600;
    if (v39 || v40 == 0)
      break;
    *i = 0;
  }
  v42 = 0;
  v110 = 0;
  v108 = 0;
  v109 = 0uLL;
  v105 = 0;
  v100 = 0;
  v101 = 0;
  v102 = 0;
  v103 = 0;
  v43 = 0;
  v44 = v35;
  do
  {
    v45 = strchr((char *)v44, 59);
    v46 = v45;
    if (v45)
      *v45 = 0;
    v47 = strchr((char *)v44, 58);
    v48 = v47;
    if (v47)
    {
      *v47 = 0;
      v49 = v47 + 1;
    }
    else
    {
      v49 = "null";
    }
    if (!strcmp((const char *)v44, "POS"))
    {
      inserted = 0;
      v43 = v49;
      goto LABEL_45;
    }
    if (!strcmp((const char *)v44, "PHR"))
    {
      inserted = 0;
      v42 = v49;
      goto LABEL_45;
    }
    if (!strcmp((const char *)v44, "BND"))
    {
      inserted = 0;
      v110 = v49;
      goto LABEL_45;
    }
    if (!strcmp((const char *)v44, "BNDSHAPE"))
    {
      inserted = 0;
      v108 = v49;
      goto LABEL_45;
    }
    if (!strcmp((const char *)v44, "S_POI"))
    {
      inserted = 0;
      v54 = "B";
LABEL_44:
      *((_QWORD *)&v109 + 1) = v54;
      *(_QWORD *)&v109 = v49;
      goto LABEL_45;
    }
    if (!strcmp((const char *)v44, "I_POI"))
    {
      inserted = 0;
      v54 = "I";
      goto LABEL_44;
    }
    if (!strcmp((const char *)v44, "E_POI"))
    {
      inserted = 0;
      v54 = "S";
      if (!*((_QWORD *)&v109 + 1))
        v54 = "E";
      goto LABEL_44;
    }
    if (!strcmp((const char *)v44, "PRM"))
    {
      inserted = 0;
      v105 = v49;
      goto LABEL_45;
    }
    v53 = *(_DWORD *)(v106 + 1760);
    if (v53 == 1)
    {
      if (!strcmp((const char *)(v44 + 1), "_COMP"))
      {
        v55 = strlen(v49);
        v56 = heap_Calloc(*(_QWORD **)(v98 + 8), 1, (v55 + 3));
        if (!v56)
          goto LABEL_93;
        v57 = (char *)v56;
        v58 = strcmp((const char *)v44, "S_COMP");
        v59 = "I-";
        if (!v58)
          v59 = "B-";
        *(_WORD *)v57 = *(_WORD *)v59;
        v57[2] = v59[2];
        strcat(v57, v49);
        v60 = v57;
        inserted = 0;
        v102 = (uint64_t)v60;
        v103 = v60;
        goto LABEL_45;
      }
    }
    else if (!v53 && !strcmp((const char *)v44, "COMP"))
    {
      inserted = 0;
      v103 = v49;
      goto LABEL_45;
    }
    if (!v48 || (unint64_t)v48 <= v44 + 1)
      goto LABEL_54;
    if (!strcmp((const char *)(v44 + 1), "_CLASS"))
    {
      inserted = 0;
      v100 = v49;
      goto LABEL_45;
    }
    if (!strcmp((const char *)(v44 + 1), "_PUNC"))
    {
      v61 = v101;
      if (!v101)
      {
        v62 = strlen(v99);
        v61 = (const char *)heap_Calloc(*(_QWORD **)(v98 + 8), 1, (v62 + 1));
        if (!v61)
        {
          inserted = 2315264010;
          a1 = v98;
          log_OutPublic(*(_QWORD *)(v98 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v63, v64, v65, v66, v92);
          v67 = v35;
          v18 = v97;
LABEL_69:
          heap_Free(*(_QWORD **)(a1 + 8), v67);
          goto LABEL_70;
        }
        *v61 = 0;
      }
      *v48 = 58;
      v101 = v61;
      hlp_NLUStrJoin(v61, (const char *)v44);
      inserted = 0;
    }
    else
    {
LABEL_54:
      inserted = addMarkerTypeNN(v98, (char *)v44, v49, (unsigned __int16)v19, v96, v106, v51, v52);
    }
LABEL_45:
    if (!v46)
      break;
    v44 = (unint64_t)(v46 + 1);
  }
  while ((inserted & 0x80000000) == 0);
  v67 = (uint64_t)v101;
  *(_QWORD *)&v122 = v101;
  *((_QWORD *)&v122 + 1) = v103;
  *(_QWORD *)&v121 = v105;
  *((_QWORD *)&v121 + 1) = v100;
  v123 = v109;
  *(_QWORD *)&v120 = v110;
  *((_QWORD *)&v120 + 1) = v108;
  *(_QWORD *)&v119 = v43;
  *((_QWORD *)&v119 + 1) = v42;
  a1 = v98;
  log_OutText(*(_QWORD *)(v98 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"parsed NLU %s[%d,%d] -> POS=%s, PHR=%s, BND=%s, BNDSHAPE=%s, PRM=%s, CLASS=%s, PUNC=%s, COMP=%s, POIClass=%s, POIPosi=%s", v50, v51, v52, (uint64_t)v99);
  v18 = v97;
  if ((inserted & 0x80000000) == 0)
  {
    if (!v43)
      log_OutText(*(_QWORD *)(v98 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"missing POS in NLU string: arg=%s", v68, v69, v70, v35);
    inserted = insert_NLU_infoNN(v98, (unsigned __int16)v19, (unsigned __int16)(v19 + 1), (uint64_t)&v119, v106);
  }
  heap_Free(*(_QWORD **)(v98 + 8), v35);
  if (v101)
    goto LABEL_69;
LABEL_70:
  a2 = v104;
  if (v102)
    heap_Free(*(_QWORD **)(a1 + 8), v102);
  v6 = v106;
  if ((inserted & 0x80000000) == 0)
    goto LABEL_73;
LABEL_90:
  heap_Free(*(_QWORD **)(a1 + 8), v18);
  return inserted;
}

uint64_t getDocumentClassNN(uint64_t a1)
{
  int v1;
  __int16 v2;
  uint64_t v3;
  uint64_t v4;
  char *v5;

  v1 = *(unsigned __int16 *)(a1 + 1072);
  if (!*(_WORD *)(a1 + 1072))
    return 0;
  v2 = 0;
  v3 = *(_QWORD *)(a1 + 1064);
  while (1)
  {
    v4 = v3 + 184 * v2;
    v5 = *(char **)(v4 + 144);
    if (v5)
    {
      if (strstr(*(char **)(v4 + 144), "joyfulstyle"))
        return 1;
      if (strstr(v5, "didacticstyle"))
        return 2;
      if (strstr(v5, "neutralstyle"))
        break;
    }
    if (v1 <= ++v2)
      return 0;
  }
  return 3;
}

uint64_t nnpuncPhrasing(uint64_t a1, uint64_t a2, int a3, int a4, unsigned __int16 *a5, const char *a6, char *__s)
{
  char *v7;
  int DocumentClassNN;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unsigned __int16 *v19;
  unsigned __int16 *v20;
  unsigned __int16 *v21;
  int v22;
  unint64_t v23;
  uint64_t v24;
  uint64_t v25;
  int v26;
  int v27;
  char *v28;
  BOOL v29;
  const char *v30;
  unint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  unsigned int v41;
  uint64_t v42;
  unsigned int v43;

  v7 = __s;
  if (strchr(__s, 44))
  DocumentClassNN = getDocumentClassNN(a2);
  v19 = a5 + 25;
  v20 = a5 + 15;
  v21 = a5 + 35;
  if (DocumentClassNN == 1)
    v21 = a5 + 5;
  if (DocumentClassNN != 2)
    v20 = v21;
  if (DocumentClassNN != 3)
    v19 = v20;
  v22 = *v19;
  if (!v22)
    v22 = 9;
  v43 = v22;
  if (!*(_QWORD *)(a2 + 1088))
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"%s\n", v16, v17, v18, (uint64_t)"input parameter: sent is NULL");
    return 0;
  }
  v42 = a1;
  if (*(_WORD *)(a2 + 1072))
  {
    v23 = 0;
    v24 = 100;
    v25 = *(_QWORD *)(a2 + 1064);
    while (1)
    {
      v26 = doesWordEndInCommaNN(*(_QWORD *)(v25 + v24 - 36), a6);
      v25 = *(_QWORD *)(a2 + 1064);
      if ((v26 || *(_DWORD *)(v25 + v24) == 1 && *(_BYTE *)(v25 + v24 + 4))
        && *(_DWORD *)(v25 + v24 + 8)
        && *(_WORD *)(a2 + 1072))
      {
        *(_BYTE *)(v25 + v24 - 24) = 4;
      }
      if (*(_DWORD *)(v25 + v24) == 1)
      {
        v27 = *(char *)(v25 + v24 + 4);
        v28 = strchr(v7, v27);
        if (v27)
          v29 = v28 == 0;
        else
          v29 = 1;
        if (!v29 && !*(_DWORD *)(v25 + v24 + 8))
          *(_BYTE *)(v25 + v24 - 24) = 3;
      }
      v30 = *(const char **)(v25 + v24 + 52);
      if (!v30)
        goto LABEL_36;
      if (strcmp(*(const char **)(v25 + v24 + 52), "B") && strcmp(v30, "S"))
        break;
      if (v24 != 100)
      {
        v31 = (v23 - 1);
LABEL_35:
        *(_BYTE *)(v25 + 184 * v31 + 76) = 4;
      }
LABEL_36:
      ++v23;
      v24 += 184;
      if (v23 >= *(unsigned __int16 *)(a2 + 1072))
        goto LABEL_37;
    }
    if (strcmp(v30, "E"))
      goto LABEL_36;
    v31 = v23;
    if (*(_DWORD *)(v25 + v24 + 76) < v43)
      goto LABEL_36;
    goto LABEL_35;
  }
LABEL_37:
  printPhrasesNN(v42, a2, v13, v14, v15, v16, v17, v18);
  v32 = heap_Calloc(*(_QWORD **)(v42 + 8), 1024, 2);
  if (v32)
  {
    v39 = v32;
    printPhrasesNN(v42, a2, v33, v34, v35, v36, v37, v38);
    heap_Free(*(_QWORD **)(v42 + 8), v39);
    return 0;
  }
  log_OutPublic(*(_QWORD *)(v42 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v35, v36, v37, v38, v41);
  return 2315264010;
}

uint64_t doesWordEndInCommaNN(uint64_t result, const char *a2)
{
  char *v2;
  __int16 v4;
  int v5;
  unsigned __int16 v6;
  unsigned __int16 v7;
  char __s2[4];

  *(_DWORD *)__s2 = 0;
  if (result)
  {
    v2 = (char *)result;
    if (*(_BYTE *)result)
    {
      v4 = Utf8_Utf8NbrOfSymbols(a2);
      v5 = (unsigned __int16)(v4 - 1);
      if (v4 != 1)
      {
        v6 = 0;
        do
        {
          v7 = v6;
          if ((utf8_getUTF8Char((uint64_t)a2, v6, __s2) & 0x80000000) != 0)
            break;
          if (strstr(v2, __s2))
            return 1;
          v6 = v7 + strlen(__s2);
          --v5;
        }
        while (v5);
      }
    }
    return 0;
  }
  return result;
}

uint64_t printPhrasesNN(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  unint64_t v11;

  if (*(_WORD *)(a2 + 1072))
  {
    v9 = result;
    v10 = 0;
    v11 = 0;
    do
    {
      result = log_OutText(*(_QWORD *)(v9 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s\t\t%c\n", a6, a7, a8, *(_QWORD *)(*(_QWORD *)(a2 + 1064) + v10 + 56));
      ++v11;
      v10 += 184;
    }
    while (v11 < *(unsigned __int16 *)(a2 + 1072));
  }
  return result;
}

uint64_t updateLingdbNNPhrasing(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned __int16 a6, const char *a7, int a8)
{
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  char *v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unsigned __int16 v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  _DWORD *v33;
  uint64_t v34;
  __int16 v35;
  __int16 v36;
  uint64_t v37;
  __int16 v38;
  uint64_t v39;
  const char *v40;
  int v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  char *v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  int v51;
  uint64_t v52;
  uint64_t v53;
  const char *v54;
  unint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  size_t v61;
  size_t v62;
  uint64_t v63;
  const char *v64;
  size_t v65;
  char *v66;
  char *v67;
  char *v68;
  size_t v69;
  char *v70;
  uint64_t v71;
  char *v72;
  const char *v73;
  char v74;
  size_t v75;
  uint64_t v76;
  char *v77;
  uint64_t v78;
  uint64_t v79;
  uint64_t v80;
  char *v81;
  __int16 v82;
  __int16 v83;
  char *v84;
  unsigned int v86;
  const char *v87;
  int v88;
  int v89;
  uint64_t v90;
  unsigned int v91;
  char *v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t v97;
  char *__s1;
  __int16 v99;
  uint64_t v100;
  int v101;
  unsigned int v102;
  __int16 v103;
  unsigned int v104;
  int v105;
  int v106;
  __int16 v107;
  const char *v108;
  __int16 v109;
  char v110[10];
  char __s[2];
  unsigned __int8 v112;
  uint64_t v113;

  v15 = a1;
  v113 = *MEMORY[0x1E0C80C00];
  __s1 = 0;
  v16 = heap_Calloc(*(_QWORD **)(a1 + 8), 32, 1);
  if (v16)
  {
    v21 = (char *)v16;
    v106 = 0;
    v105 = 0;
    v104 = 0;
    v103 = 0;
    v101 = 0;
    v102 = 0;
    v100 = 0;
    v99 = 0;
    v22 = a5;
    v23 = *(unsigned __int16 *)(a5 + 1096);
    v96 = v22;
    v92 = *(char **)(v22 + 1088);
    v24 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t *, __int16 *))(a2 + 176))(a3, a4, v23, 1, &v100, &v99);
    if ((v24 & 0x80000000) != 0)
    {
      return v24;
    }
    else
    {
      __s[0] = 0;
      v25 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a2 + 104))(a3, a4, 2, v23, (char *)&v106 + 2);
      if ((v25 & 0x80000000) == 0)
      {
        v26 = HIWORD(v106);
        if (HIWORD(v106))
        {
          v87 = a7;
          v27 = 0;
          v93 = v15;
          v94 = 0;
          v88 = a6;
          v89 = a8;
          v28 = v96;
          v97 = a4;
          while (1)
          {
            v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a2 + 168))(a3, a4, v26, 0, 1, &v104, (char *)&v105 + 2);
            if ((v25 & 0x80000000) != 0)
              goto LABEL_137;
            if (v104 <= 0xA && ((1 << v104) & 0x610) != 0)
              break;
LABEL_116:
            v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a2 + 120))(a3, a4, HIWORD(v106), (char *)&v106 + 2);
            if ((v25 & 0x80000000) != 0)
              goto LABEL_137;
            v26 = HIWORD(v106);
            if (!HIWORD(v106))
              goto LABEL_125;
          }
          v30 = *(_QWORD *)(v28 + 1064);
          v102 = *(_DWORD *)(v30 + 184 * (unsigned __int16)v27 + 16);
          if ((unsigned __int16)v102 == HIWORD(v102))
          {
            a4 = v97;
LABEL_115:
            v27 = (v27 + 1);
            if (*(unsigned __int16 *)(v28 + 1072) <= (unsigned __int16)v27)
              goto LABEL_125;
            goto LABEL_116;
          }
          HIWORD(v101) = 0;
          v31 = v94;
          if ((unsigned __int16)v27 | (unsigned __int16)v94
            && (unsigned __int16)v94 >= (unsigned __int16)v27)
          {
            __s[0] = 0;
            goto LABEL_46;
          }
          v31 = *(unsigned __int16 *)(v28 + 1072);
          v32 = v27;
          if (v31 > (unsigned __int16)v27)
          {
            v33 = (_DWORD *)(v30 + 184 * (unsigned __int16)v27 + 112);
            v32 = (unsigned __int16)v27;
            while (*((unsigned __int8 *)v33 - 36) - 3 >= 2 && !*v33)
            {
              ++v32;
              v33 += 46;
              if (v31 == v32)
                goto LABEL_23;
            }
          }
          if ((_DWORD)v31 == (unsigned __int16)v32)
          {
LABEL_23:
            v103 = *(_WORD *)(v30 + 184 * *(unsigned __int16 *)(v28 + 1072) - 166);
            if (*(_QWORD *)(v28 + 1768))
            {
              v34 = v31;
              __strcpy_chk();
              v31 = v34;
            }
            else
            {
              strcpy(__s, "T");
            }
            goto LABEL_33;
          }
          v103 = *(_WORD *)(v30 + 184 * (unsigned __int16)v32 + 18);
          if ((unsigned __int16)v32 + 1 == (_DWORD)v31)
          {
            if (*(_QWORD *)(v28 + 1768))
            {
              __strcpy_chk();
LABEL_32:
              v31 = v32;
LABEL_33:
              if ((_WORD)v27)
              {
                if (*(_BYTE *)(*(_QWORD *)(v28 + 1064) + 184 * ((unsigned __int16)v27 - 1) + 76) == 3)
                  v36 = 2;
                else
                  v36 = 1;
              }
              else
              {
                v36 = 0;
              }
              HIWORD(v101) = v36;
              if (__s[0])
              {
                v95 = v31;
                LOWORD(v101) = 0;
                v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a2 + 88))(a3, v97, HIWORD(v106), &v106);
                if ((v37 & 0x80000000) != 0)
                  goto LABEL_131;
                v104 = 15;
                v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a2 + 160))(a3, v97, (unsigned __int16)v106, 0, 1, &v104, &v105);
                if ((v37 & 0x80000000) != 0)
                  goto LABEL_131;
                v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned int *, int *))(a2 + 160))(a3, v97, (unsigned __int16)v106, 1, 1, &v102, &v105);
                if ((v37 & 0x80000000) != 0)
                  goto LABEL_131;
                v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(a2 + 160))(a3, v97, (unsigned __int16)v106, 2, 1, &v103, &v105);
                if ((v37 & 0x80000000) != 0
                  || (v38 = strlen(__s),
                      v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(a2 + 160))(a3, v97, (unsigned __int16)v106, 4, (unsigned __int16)(v38 + 1), __s, &v105), (v37 & 0x80000000) != 0)|| (v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a2 + 160))(a3, v97, (unsigned __int16)v106, 7, 1, (char *)&v101 + 2, &v105), (v37 & 0x80000000) != 0)|| (v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a2 + 160))(a3,
                              v97,
                              (unsigned __int16)v106,
                              8,
                              1,
                              &v101,
                              &v105),
                      v31 = v95,
                      v28 = v96,
                      a8 = v89,
                      (v37 & 0x80000000) != 0))
                {
LABEL_131:
                  v25 = v37;
                  goto LABEL_137;
                }
              }
LABEL_46:
              v94 = v31;
              LOWORD(v101) = 0;
              v39 = *(_QWORD *)(v28 + 1064);
              if (*(_BYTE *)(v39 + 184 * (unsigned __int16)v27 + 76) == 4)
              {
                if (*(unsigned __int16 *)(v28 + 1072) - 1 != (unsigned __int16)v27)
                {
                  v40 = *(const char **)(v39 + 184 * (unsigned __int16)v27 + 56);
                  v41 = strlen(v40);
                  LOWORD(v101) = 100;
                  v42 = (uint64_t)v40;
                  v28 = v96;
                  if (doesWordEndInCommaNN(v42, v87)
                    || (v43 = *(_QWORD *)(v96 + 1064), *(_DWORD *)(v43 + 184 * (unsigned __int16)v27 + 100))
                    || *(_BYTE *)(*(_QWORD *)(v43 + 184 * (unsigned __int16)v27 + 56) + (v41 - 1)) == 46)
                  {
                    LOWORD(v101) = v88;
                    if (v88)
                      goto LABEL_55;
                  }
                  else if ((_WORD)v101)
                  {
                    goto LABEL_55;
                  }
                }
                v39 = *(_QWORD *)(v28 + 1064);
              }
              if (*(_DWORD *)(v39 + 184 * (unsigned __int16)v27 + 112))
                LOWORD(v101) = v88;
LABEL_55:
              v44 = HIWORD(v106);
              v109 = 0;
              v108 = 0;
              v107 = 0;
              v45 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a2 + 184))(a3, v97, HIWORD(v106), 18, &v109);
              v25 = v45;
              if ((v45 & 0x80000000) != 0 || !v109)
              {
                v46 = v97;
                if ((v45 & 0x80000000) != 0)
                  goto LABEL_137;
              }
              else
              {
                v37 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, const char **, __int16 *))(a2 + 176))(a3, v97, v44, 18, &v108, &v107);
                if ((v37 & 0x80000000) != 0)
                  goto LABEL_131;
                v46 = v97;
                if (!strcmp(v108, "external"))
                  goto LABEL_62;
              }
              v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a2 + 160))(a3, v46, HIWORD(v106), 8, 1, &v101, &v105);
              if ((v37 & 0x80000000) != 0)
                goto LABEL_131;
LABEL_62:
              v37 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a2 + 176))(a3, v46, HIWORD(v106), 9, &__s1, (char *)&v105 + 2);
              if ((v37 & 0x80000000) != 0)
                goto LABEL_131;
              v47 = __s1;
              if (!strcmp(__s1, "normal"))
              {
                v91 = 0;
                v52 = *(_QWORD *)(v28 + 1064);
              }
              else
              {
                v51 = strcmp(v47, "mnx");
                v52 = *(_QWORD *)(v28 + 1064);
                if (v51)
                  v91 = *(unsigned __int8 *)(v52 + 184 * (unsigned __int16)v27 + 77);
                else
                  v91 = 0;
              }
              v53 = v52 + 184 * (unsigned __int16)v27;
              v54 = *(const char **)(v53 + 128);
              if (v54)
              {
                v55 = strlen(*(const char **)(v53 + 128)) + 1;
                if (v55 >= 0x21)
                {
                  v56 = heap_Realloc(*(uint64_t **)(v15 + 8), (uint64_t)v21, v55);
                  if (!v56)
                  {
                    v25 = 2315264010;
                    goto LABEL_136;
                  }
                  v54 = *(const char **)(*(_QWORD *)(v28 + 1064) + 184 * (unsigned __int16)v27 + 128);
                  v21 = (char *)v56;
                }
                if (!strcmp(v54, "O") || !strcmp(v54, "O-P"))
                {
                  strcpy(v21, v54);
                }
                else
                {
                  strcpy(v21, "B-");
                  strcat(v21, *(const char **)(*(_QWORD *)(v28 + 1064) + 184 * (unsigned __int16)v27 + 128));
                }
                v61 = strlen(v21);
                if (v61 >= 2)
                {
                  v62 = v61;
                  if (!strcmp(&v21[v61 - 2], "-P"))
                    v21[v62 - 2] = 0;
                }
              }
              else if (*v21 && strcmp(v21, "O"))
              {
                *v21 = 73;
              }
              v63 = *(_QWORD *)(v28 + 1064);
              v64 = *(const char **)(v63 + 184 * (unsigned __int16)v27 + 80);
              if (v64)
              {
                v65 = strlen(v64);
                v66 = (char *)heap_Alloc(*(_QWORD *)(v15 + 8), v65 + 1);
                if (!v66)
                  goto LABEL_134;
                v67 = v66;
                strcpy(v66, *(const char **)(*(_QWORD *)(v28 + 1064) + 184 * (unsigned __int16)v27 + 80));
              }
              else
              {
                v68 = *(char **)(v63 + 184 * (unsigned __int16)v27 + 48);
                if (v68)
                {
                  v69 = hlp_NLUStrValueLen(v68);
                  v70 = (char *)heap_Alloc(*(_QWORD *)(v15 + 8), v69 + 1);
                  if (!v70)
                  {
LABEL_134:
                    v25 = 2315264010;
                    v15 = v93;
LABEL_136:
                    log_OutPublic(*(_QWORD *)(v15 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v57, v58, v59, v60, v86);
                    goto LABEL_137;
                  }
                  v67 = v70;
                  strncpy(v70, *(const char **)(*(_QWORD *)(v28 + 1064) + 184 * (unsigned __int16)v27 + 48), v69)[v69] = 0;
                }
                else
                {
                  v67 = 0;
                }
              }
              v71 = *(_QWORD *)(v28 + 1064) + 184 * (unsigned __int16)v27;
              v72 = *(char **)(v71 + 168);
              v73 = *(const char **)(v71 + 40);
              v90 = HIWORD(v106);
              if (a8)
              {
                if (!v73)
                {
                  if (!*v21)
                  {
LABEL_112:
                    if (v67)
                      heap_Free(*(_QWORD **)(v93 + 8), (uint64_t)v67);
                    log_OutText(*(_QWORD *)(v93 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"updating WordRecord[%d] word[%d] LD_W_PRM -> %d dur=%d", v48, v49, v50, HIWORD(v106));
                    LH_itoa(v91, v110, 0xAu);
                    v83 = strlen(v110);
                    v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(a2 + 160))(a3, v97, HIWORD(v106), 13, (unsigned __int16)(v83 + 1), v110, &v105);
                    v15 = v93;
                    a4 = v97;
                    v28 = v96;
                    if ((v25 & 0x80000000) != 0)
                      goto LABEL_137;
                    goto LABEL_115;
                  }
                  v73 = 0;
                  v74 = 1;
                  v75 = 1;
                  if (!v67)
                  {
LABEL_97:
                    v76 = v75 + strlen(v21) + 5;
                    if (v72)
                      v76 += strlen(v72) + 10;
                    v77 = (char *)heap_Alloc(*(_QWORD *)(v93 + 8), v76);
                    if (!v77)
                    {
                      v25 = 2315264010;
LABEL_133:
                      v15 = v93;
                      goto LABEL_137;
                    }
                    v81 = v77;
                    LOWORD(v108) = 0;
                    if ((v74 & 1) != 0)
                    {
                      *v77 = 0;
                      if (!v67)
                        goto LABEL_106;
                    }
                    else
                    {
                      strcpy(v77, v73);
                      if (!v67)
                        goto LABEL_106;
                    }
                    if (*v67)
                      hlp_NLUStrSet(v81, "POS", v67);
LABEL_106:
                    if (*v21)
                      hlp_NLUStrSet(v81, "PHR", v21);
                    if (v72 && *v72)
                      hlp_NLUStrSet(v81, "BNDSHAPE", v72);
                    log_OutText(*(_QWORD *)(v93 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"updating WordRecord[%d] word[%d] LD_W_NLU %s -> %s", v78, v79, v80, v90);
                    v82 = strlen(v81);
                    v25 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD, char *, const char **))(a2 + 160))(a3, v97, v90, 14, (unsigned __int16)(v82 + 1), v81, &v108);
                    heap_Free(*(_QWORD **)(v93 + 8), (uint64_t)v81);
                    a8 = v89;
                    if ((v25 & 0x80000000) != 0)
                      goto LABEL_133;
                    goto LABEL_112;
                  }
LABEL_96:
                  v75 += strlen(v67) + 5;
                  goto LABEL_97;
                }
              }
              else if (!v73)
              {
                v75 = 1;
                v74 = 1;
                if (!v67)
                  goto LABEL_97;
                goto LABEL_96;
              }
              v74 = 0;
              v75 = strlen(v73) + 1;
              if (!v67)
                goto LABEL_97;
              goto LABEL_96;
            }
            v35 = 84;
          }
          else
          {
            v35 = 80;
          }
          *(_WORD *)__s = v35;
          goto LABEL_32;
        }
LABEL_125:
        if (*(unsigned __int16 *)__s == 87 || !(*(unsigned __int16 *)__s ^ 0x4641 | v112))
        {
          v84 = strrchr(v92, 63);
          if (v84 && v84 != v92 && *(v84 - 1) != 32)
            *v84 = 46;
        }
      }
LABEL_137:
      heap_Free(*(_QWORD **)(v15 + 8), (uint64_t)v21);
    }
  }
  else
  {
    v25 = 2315264010;
    log_OutPublic(*(_QWORD *)(v15 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v17, v18, v19, v20, v86);
  }
  return v25;
}

_QWORD *freePwInObjClose(uint64_t a1, unsigned __int8 *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10;
  unsigned int v11;
  unint64_t v12;
  uint64_t v13;
  uint64_t v14;
  unsigned int v15;
  unint64_t v16;
  uint64_t v17;

  v10 = *((_QWORD *)a2 + 1);
  if (v10)
  {
    v11 = *a2;
    if (*a2)
    {
      v12 = 0;
      do
      {
        v13 = *(_QWORD *)(*((_QWORD *)a2 + 1) + 8 * v12);
        if (v13)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v13);
          *(_QWORD *)(*((_QWORD *)a2 + 1) + 8 * v12) = 0;
          v11 = *a2;
        }
        ++v12;
      }
      while (v12 < v11);
      v10 = *((_QWORD *)a2 + 1);
    }
    heap_Free(*(_QWORD **)(a1 + 8), v10);
    *((_QWORD *)a2 + 1) = 0;
    *a2 = 0;
  }
  v14 = *((_QWORD *)a2 + 3);
  if (v14)
  {
    v15 = a2[16];
    if (a2[16])
    {
      v16 = 0;
      do
      {
        v17 = *(_QWORD *)(*((_QWORD *)a2 + 3) + 8 * v16);
        if (v17)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v17);
          *(_QWORD *)(*((_QWORD *)a2 + 3) + 8 * v16) = 0;
          v15 = a2[16];
        }
        ++v16;
      }
      while (v16 < v15);
      v14 = *((_QWORD *)a2 + 3);
    }
    heap_Free(*(_QWORD **)(a1 + 8), v14);
    *((_QWORD *)a2 + 3) = 0;
    a2[16] = 0;
  }
  freePandPRules((_QWORD *)a2 + 138, v14, a3, a4, a5, a6, a7, a8);
  return heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)a2);
}

_QWORD *freeSPPunc(_QWORD *result, uint64_t a2)
{
  if (a2)
    return heap_Free((_QWORD *)result[1], a2);
  return result;
}

_QWORD *freeSentenceDataNN(_QWORD *result, uint64_t a2)
{
  _QWORD *v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  unint64_t v8;

  v3 = result;
  v4 = *(_QWORD *)(a2 + 1768);
  if (v4)
  {
    result = heap_Free((_QWORD *)result[1], v4);
    *(_QWORD *)(a2 + 1768) = 0;
  }
  v5 = *(_QWORD *)(a2 + 1080);
  if (v5)
  {
    result = heap_Free((_QWORD *)v3[1], v5);
    *(_QWORD *)(a2 + 1080) = 0;
  }
  v6 = *(_QWORD *)(a2 + 1064);
  if (v6)
  {
    if (*(_WORD *)(a2 + 1072))
    {
      v7 = 0;
      v8 = 0;
      do
      {
        if (*(_QWORD *)(v6 + v7 + 40))
        {
          heap_Free((_QWORD *)v3[1], *(_QWORD *)(v6 + v7 + 40));
          v6 = *(_QWORD *)(a2 + 1064);
          *(_QWORD *)(v6 + v7 + 40) = 0;
        }
        if (*(_QWORD *)(v6 + v7 + 24))
        {
          heap_Free((_QWORD *)v3[1], *(_QWORD *)(v6 + v7 + 24));
          v6 = *(_QWORD *)(a2 + 1064);
          *(_QWORD *)(v6 + v7 + 24) = 0;
        }
        if (*(_QWORD *)(v6 + v7 + 128))
        {
          heap_Free((_QWORD *)v3[1], *(_QWORD *)(v6 + v7 + 128));
          v6 = *(_QWORD *)(a2 + 1064);
          *(_QWORD *)(v6 + v7 + 128) = 0;
        }
        if (*(_QWORD *)(v6 + v7 + 144))
        {
          heap_Free((_QWORD *)v3[1], *(_QWORD *)(v6 + v7 + 144));
          v6 = *(_QWORD *)(a2 + 1064);
          *(_QWORD *)(v6 + v7 + 144) = 0;
        }
        if (*(_QWORD *)(v6 + v7 + 160))
        {
          heap_Free((_QWORD *)v3[1], *(_QWORD *)(v6 + v7 + 160));
          v6 = *(_QWORD *)(a2 + 1064);
          *(_QWORD *)(v6 + v7 + 160) = 0;
        }
        if (*(_QWORD *)(v6 + v7 + 168))
        {
          heap_Free((_QWORD *)v3[1], *(_QWORD *)(v6 + v7 + 168));
          v6 = *(_QWORD *)(a2 + 1064);
          *(_QWORD *)(v6 + v7 + 168) = 0;
        }
        if (*(_QWORD *)(v6 + v7))
        {
          heap_Free((_QWORD *)v3[1], *(_QWORD *)(v6 + v7));
          v6 = *(_QWORD *)(a2 + 1064);
          *(_QWORD *)(v6 + v7) = 0;
        }
        ++v8;
        v7 += 184;
      }
      while (v8 < *(unsigned __int16 *)(a2 + 1072));
    }
    result = heap_Free((_QWORD *)v3[1], v6);
    *(_QWORD *)(a2 + 1064) = 0;
  }
  *(_DWORD *)(a2 + 1072) = 0;
  *(_DWORD *)(a2 + 1096) = 0;
  return result;
}

uint64_t nn_model_getBrokerString(uint64_t a1, char *a2, uint64_t a3, unint64_t a4)
{
  uint64_t result;
  int v8;
  uint64_t v9;
  int v10[2];
  _OWORD v11[8];
  uint64_t v12;

  v12 = *MEMORY[0x1E0C80C00];
  v9 = 0;
  *(_QWORD *)v10 = 0;
  memset(v11, 0, sizeof(v11));
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", v10);
  if ((result & 0x80000000) == 0)
  {
    result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"fecfg", &v9);
    if ((result & 0x80000000) == 0)
    {
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      v8 = brokeraux_ComposeBrokerString(a1, (const char *)v11, 1, 1, *(char **)v10, 0, 0, a2, a4);
      return v8 & (v8 >> 31);
    }
  }
  return result;
}

uint64_t initFiModel(uint64_t a1, _WORD *a2, uint64_t a3, _WORD *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, _DWORD *a9, _QWORD *a10)
{
  uint64_t BrokerString;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  _QWORD *v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  const char *v28;
  unsigned int v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  char v34;
  __int16 v35;
  const char **v36;
  _OWORD v37[16];
  uint64_t v38;

  v38 = *MEMORY[0x1E0C80C00];
  v36 = 0;
  v34 = 0;
  v32 = 0;
  v33 = 0;
  memset(v37, 0, sizeof(v37));
  v35 = -1;
  BrokerString = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, const char ***, __int16 *, char *))(a8 + 96))(a6, a7, "fecfg", "statbnd_phrase_nn_type_joint", &v36, &v35, &v34);
  if ((BrokerString & 0x80000000) != 0)
    return BrokerString;
  v16 = 2315264010;
  if (v35)
  {
    (*v36)[strlen(*v36) - 1] = 0;
    if (!strcmp(*v36, "yes"))
    {
      *a9 = 1;
      v17 = *(_QWORD *)(a1 + 8);
      v18 = 8;
    }
    else
    {
      *a9 = 0;
      v17 = *(_QWORD *)(a1 + 8);
      v18 = 16;
    }
    v23 = (_QWORD *)heap_Alloc(v17, v18);
    if (!v23)
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v19, v20, v21, v22, v30);
      return v16;
    }
    BrokerString = nn_model_getBrokerString(a1, (char *)v37, (uint64_t)"nnphrase_", 0x100uLL);
    if ((BrokerString & 0x80000000) == 0)
    {
      v16 = fi_init(a2, a3, a4, a5, &v33, 0, (uint64_t)v37, (uint64_t)"FINN", 1031, 0);
      if ((v16 & 0x80000000) != 0)
      {
        v27 = *(_QWORD *)(a1 + 32);
        v28 = "load FI model failed";
        goto LABEL_14;
      }
      *v23 = v33;
      if (*a9)
      {
LABEL_11:
        *a10 = v23;
        return v16;
      }
      BrokerString = nn_model_getBrokerString(a1, (char *)v37, (uint64_t)"nnword_", 0x100uLL);
      if ((BrokerString & 0x80000000) == 0)
      {
        v16 = fi_init(a2, a3, a4, a5, &v32, 0, (uint64_t)v37, (uint64_t)"FINN", 1031, 0);
        if ((v16 & 0x80000000) == 0)
        {
          v23[1] = v32;
          goto LABEL_11;
        }
        v27 = *(_QWORD *)(a1 + 32);
        v28 = "load FI pw model failed";
LABEL_14:
        log_OutText(v27, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)v28, v24, v25, v26, v31);
        return v16;
      }
    }
    return BrokerString;
  }
  return 2315264020;
}

uint64_t loadEmbedding(uint64_t a1, uint64_t a2, _QWORD *a3, _QWORD *a4, uint64_t *a5, uint64_t a6, uint64_t a7, uint64_t a8, _BOOL4 *a9)
{
  uint64_t result;
  char *v15;
  _BOOL4 v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t (*v19)(uint64_t, uint64_t, const char *, uint64_t, uint64_t, uint64_t *);
  uint64_t v20;
  uint64_t v21;
  char v22;
  __int16 v23;
  char *__lasts;
  const char **v25;
  uint64_t v26;

  v25 = 0;
  v26 = 0;
  __lasts = 0;
  v23 = -1;
  v22 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, const char ***, __int16 *, char *))(a8 + 96))(a6, a7, "fecfg", "statbnd_embed_type", &v25, &v23, &v22);
  if ((result & 0x80000000) == 0)
  {
    result = 2315264020;
    if (v23)
    {
      if (v25)
      {
        (*v25)[strlen(*v25) - 1] = 0;
        v15 = strtok_r((char *)*v25, "|", &__lasts);
        v16 = !strcmp(v15, "joint_char") && !strcmp(__lasts, "joint_word");
        *a9 = v16;
        result = nn_word_lkp_GetInterface(1u, &v26);
        if ((result & 0x80000000) == 0)
        {
          *a5 = safeh_GetNullHandle();
          a5[1] = v17;
          a5[2] = safeh_GetNullHandle();
          a5[3] = v18;
          v19 = *(uint64_t (**)(uint64_t, uint64_t, const char *, uint64_t, uint64_t, uint64_t *))(v26 + 16);
          v20 = *a4;
          v21 = a4[1];
          if (*a9)
          {
            result = v19(v20, v21, "joint_char", a1, a2, a5);
            if ((result & 0x80000000) != 0)
              return result;
            result = (*(uint64_t (**)(_QWORD, _QWORD, const char *, uint64_t, uint64_t, uint64_t *))(v26 + 16))(*a4, a4[1], "joint_word", a1, a2, a5 + 2);
          }
          else
          {
            result = v19(v20, v21, "albert", a1, a2, a5);
          }
          if ((result & 0x80000000) == 0)
            *a3 = v26;
        }
      }
    }
  }
  return result;
}

_QWORD *freeSpRules(_QWORD *result, uint64_t a2)
{
  uint64_t v3;
  _QWORD *v4;
  unsigned int v5;
  unint64_t v6;
  uint64_t v7;
  uint64_t v8;
  unint64_t v9;
  uint64_t v10;

  if (a2)
  {
    v3 = *(_QWORD *)a2;
    if (v3)
    {
      v4 = result;
      v5 = *(unsigned __int16 *)(a2 + 10);
      if (*(_WORD *)(a2 + 10))
      {
        v6 = 0;
        do
        {
          v7 = *(_QWORD *)(v3 + 16 * v6);
          if (v7)
          {
            if (*(_WORD *)(v3 + 16 * v6 + 8))
            {
              v8 = 0;
              v9 = 0;
              do
              {
                if (*(_QWORD *)(v7 + v8 + 24))
                {
                  heap_Free((_QWORD *)v4[1], *(_QWORD *)(v7 + v8 + 24));
                  v3 = *(_QWORD *)a2;
                  v7 = *(_QWORD *)(*(_QWORD *)a2 + 16 * v6);
                  *(_QWORD *)(v7 + v8 + 24) = 0;
                }
                if (*(_QWORD *)(v7 + v8 + 16))
                {
                  heap_Free((_QWORD *)v4[1], *(_QWORD *)(v7 + v8 + 16));
                  v3 = *(_QWORD *)a2;
                  v7 = *(_QWORD *)(*(_QWORD *)a2 + 16 * v6);
                  *(_QWORD *)(v7 + v8 + 16) = 0;
                }
                ++v9;
                v8 += 40;
              }
              while (v9 < *(unsigned __int16 *)(v3 + 16 * v6 + 8));
            }
            heap_Free((_QWORD *)v4[1], v7);
            v3 = *(_QWORD *)a2;
            v10 = *(_QWORD *)a2 + 16 * v6;
            *(_QWORD *)v10 = 0;
            *(_WORD *)(v10 + 8) = 0;
            v5 = *(unsigned __int16 *)(a2 + 10);
          }
          ++v6;
        }
        while (v6 < v5);
      }
      result = heap_Free((_QWORD *)v4[1], v3);
      *(_QWORD *)a2 = 0;
      *(_WORD *)(a2 + 10) = 0;
    }
  }
  return result;
}

uint64_t nnEmbeddingReLoad(uint64_t a1, uint64_t a2, _QWORD *a3, uint64_t *a4, uint64_t *a5, uint64_t a6, uint64_t a7, uint64_t a8, _BOOL4 *a9)
{
  uint64_t result;
  uint64_t v18;

  if (!*a3)
    goto LABEL_6;
  result = (*(uint64_t (**)(uint64_t, uint64_t))(*a3 + 24))(*a5, a5[1]);
  if ((result & 0x80000000) == 0)
  {
    if (!*a9
      || (result = (*(uint64_t (**)(uint64_t, uint64_t))(*a3 + 24))(a5[2], a5[3]), (result & 0x80000000) == 0))
    {
      *a3 = 0;
LABEL_6:
      *a4 = safeh_GetNullHandle();
      a4[1] = v18;
      *a9 = 1;
      return loadEmbedding(a1, a2, a3, a4, a5, a6, a7, a8, a9);
    }
  }
  return result;
}

uint64_t nnModelReload(uint64_t a1, _WORD *a2, uint64_t a3, uint64_t a4, _WORD *a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, _DWORD *a10, uint64_t ***a11)
{
  uint64_t **v17;
  int v18;
  uint64_t BrokerString;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  const char *v25;
  uint64_t v26;
  uint64_t **v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t *v32;
  uint64_t **v33;
  uint64_t v35;
  uint64_t *v36;
  uint64_t *v37;
  char v38;
  __int16 v39;
  const char **v40;
  _OWORD v41[16];
  uint64_t v42;

  v42 = *MEMORY[0x1E0C80C00];
  v40 = 0;
  v38 = 0;
  v36 = 0;
  v37 = 0;
  memset(v41, 0, sizeof(v41));
  v17 = *a11;
  v39 = -1;
  (*(void (**)(uint64_t, uint64_t, const char *, const char *, const char ***, __int16 *, char *))(a9 + 96))(a7, a8, "fecfg", "statbnd_phrase_nn_type_joint", &v40, &v39, &v38);
  (*v40)[strlen(*v40) - 1] = 0;
  v18 = strcmp(*v40, "yes");
  BrokerString = nn_model_getBrokerString(a1, (char *)v41, (uint64_t)"nnphrase_", 0x100uLL);
  if ((BrokerString & 0x80000000) != 0)
    return BrokerString;
  v23 = fi_init(a2, a3, a5, a6, &v37, 0, (uint64_t)v41, (uint64_t)"FINN", 1031, 0);
  if ((v23 & 0x80000000) != 0)
  {
    v24 = *(_QWORD *)(a1 + 32);
    v25 = "load FI model failed";
    goto LABEL_10;
  }
  if (!v17)
  {
    v26 = *(_QWORD *)(a1 + 8);
    if (v18)
    {
      v27 = (uint64_t **)heap_Alloc(v26, 16);
      if (v27)
      {
        v17 = v27;
        *v27 = v37;
        goto LABEL_14;
      }
    }
    else
    {
      v33 = (uint64_t **)heap_Alloc(v26, 8);
      if (v33)
      {
        v17 = v33;
        *v33 = v37;
        goto LABEL_23;
      }
    }
    v23 = 2315264010;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v28, v29, v30, v31, v35);
    return v23;
  }
  if (!*v17 || (v23 = fi_deinit(a1, a4, *v17), (v23 & 0x80000000) == 0))
  {
    if (*a10 || (v32 = v17[1]) == 0 || (v23 = fi_deinit(a1, a4, v32), (v23 & 0x80000000) == 0))
    {
      *v17 = v37;
      if (!v18)
        goto LABEL_23;
LABEL_14:
      BrokerString = nn_model_getBrokerString(a1, (char *)v41, (uint64_t)"nnword_", 0x100uLL);
      if ((BrokerString & 0x80000000) == 0)
      {
        v23 = fi_init(a2, a3, a5, a6, &v36, 0, (uint64_t)v41, (uint64_t)"FINN", 1031, 0);
        if ((v23 & 0x80000000) == 0)
        {
          v17[1] = v36;
LABEL_23:
          *a10 = v18 == 0;
          *a11 = v17;
          return v23;
        }
        v24 = *(_QWORD *)(a1 + 32);
        v25 = "load FI pw model failed";
LABEL_10:
        log_OutText(v24, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)v25, v20, v21, v22, v35);
        return v23;
      }
      return BrokerString;
    }
  }
  return v23;
}

uint64_t releaseEmbedding(uint64_t a1, uint64_t *a2, _QWORD *a3, _DWORD *a4)
{
  uint64_t v8;
  uint64_t v9;

  if (!*(_QWORD *)a1)
  {
    v8 = 0;
    goto LABEL_7;
  }
  v8 = (*(uint64_t (**)(_QWORD, _QWORD))(*(_QWORD *)a1 + 24))(*a3, a3[1]);
  if ((v8 & 0x80000000) == 0)
  {
    if (!*a4
      || (v8 = (*(uint64_t (**)(_QWORD, _QWORD))(*(_QWORD *)a1 + 24))(a3[2], a3[3]), (v8 & 0x80000000) == 0))
    {
      *(_QWORD *)a1 = 0;
LABEL_7:
      *a2 = safeh_GetNullHandle();
      a2[1] = v9;
      *a4 = 1;
    }
  }
  return v8;
}

uint64_t releaseFIModel(uint64_t a1, uint64_t a2, int a3, uint64_t *a4)
{
  uint64_t v5;
  uint64_t v8;
  uint64_t *v9;

  v5 = *a4;
  if (!*a4)
  {
    v8 = 0;
    goto LABEL_10;
  }
  if (!*(_QWORD *)v5)
  {
    v8 = 0;
    if (!a3)
      goto LABEL_8;
LABEL_10:
    heap_Free(*(_QWORD **)(a1 + 8), v5);
    return v8;
  }
  v8 = fi_deinit(a1, a2, *(uint64_t **)v5);
  if ((v8 & 0x80000000) != 0)
    return v8;
  if (a3)
    goto LABEL_10;
LABEL_8:
  v9 = *(uint64_t **)(v5 + 8);
  if (!v9)
    goto LABEL_10;
  v8 = fi_deinit(a1, a2, v9);
  if ((v8 & 0x80000000) == 0)
    goto LABEL_10;
  return v8;
}

_QWORD *setbndfromTN(_QWORD *result, uint64_t a2, uint64_t a3)
{
  _QWORD *v4;
  uint64_t v5;
  uint64_t v6;
  unsigned int v7;
  unsigned int v8;
  uint64_t v9;
  _DWORD *v10;
  unsigned int v11;
  uint64_t v12;
  uint64_t v13;

  if (a2)
  {
    v4 = result;
    if (*(_DWORD *)a2)
    {
      v5 = *(unsigned __int16 *)(a3 + 1072);
      if (*(_WORD *)(a3 + 1072))
      {
        v6 = 0;
        v7 = 0;
        v8 = *(unsigned __int16 *)(a2 + 4);
        v9 = *(_QWORD *)(a3 + 1064);
        v10 = (_DWORD *)(v9 + 112);
        do
        {
          if (v7 < v8 && *(_DWORD *)(*(_QWORD *)(a2 + 8) + 4 * v7) == *((unsigned __int16 *)v10 - 48))
          {
            if (v6)
            {
              v11 = *(unsigned __int16 *)(*(_QWORD *)(a2 + 16) + 2 * v7);
              *(_DWORD *)(v9 + 184 * (v6 - 1) + 112) = v11 > 2;
              if (v11 == 4)
                *(_DWORD *)(v9 + 184 * (v6 - 1) + 100) = 1;
            }
            ++v7;
          }
          else
          {
            *v10 = 0;
          }
          ++v6;
          v10 += 46;
        }
        while (v5 != v6);
      }
      v12 = *(_QWORD *)(a2 + 8);
      if (v12)
        heap_Free((_QWORD *)result[1], v12);
      v13 = *(_QWORD *)(a2 + 16);
      if (v13)
        heap_Free((_QWORD *)v4[1], v13);
    }
    return heap_Free((_QWORD *)v4[1], a2);
  }
  return result;
}

uint64_t last_POS(uint64_t result, _QWORD *a2, unsigned int a3, const char **a4, unsigned int a5)
{
  const char *v6;
  uint64_t i;
  const char *v8;
  uint64_t v9;

  if (!result)
    return result;
  v6 = 0;
  for (i = *(_QWORD *)(*(_QWORD *)(*a2 + 224 * a3 + 16) + 8) + 1; *(_BYTE *)(i - 1) == 45; ++i)
  {
    v6 = (const char *)i;
LABEL_7:
    ;
  }
  if (*(_BYTE *)(i - 1))
    goto LABEL_7;
  if (v6)
    v8 = v6;
  else
    v8 = *(const char **)(*(_QWORD *)(*a2 + 224 * a3 + 16) + 8);
  if (!a5)
    return 0;
  v9 = a5;
  while (strcmp(*a4, v8))
  {
    ++a4;
    if (!--v9)
      return 0;
  }
  return 1;
}

uint64_t first_POS(uint64_t a1, _QWORD *a2, unsigned int a3, const char **a4, int a5)
{
  uint64_t v5;
  uint64_t v10;
  int v11;
  uint64_t v12;
  const char *v13;
  unsigned __int16 v14;
  _BYTE *i;
  int v16;
  uint64_t v17;
  uint64_t v18;

  LODWORD(v5) = a5;
  v10 = *(_QWORD *)(a1 + 8);
  v11 = strlen(*(const char **)(*(_QWORD *)(*a2 + 224 * a3 + 16) + 8));
  v12 = heap_Alloc(v10, (v11 + 1));
  if (!v12)
    return 0;
  v13 = (const char *)v12;
  v14 = 0;
  for (i = *(_BYTE **)(*(_QWORD *)(*a2 + 224 * a3 + 16) + 8); ; ++i)
  {
    v16 = *i;
    if (!*i || v16 == 45)
      break;
    v17 = v14++;
    *(_BYTE *)(v12 + v17) = v16;
  }
  *(_BYTE *)(v12 + v14) = 0;
  if ((_DWORD)v5)
  {
    v5 = v5;
    while (strcmp(v13, *a4))
    {
      ++a4;
      if (!--v5)
        goto LABEL_10;
    }
    v18 = 1;
  }
  else
  {
LABEL_10:
    v18 = 0;
  }
  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v13);
  return v18;
}

uint64_t has_POS(uint64_t a1, _QWORD *a2, unsigned int a3, const char **a4, unsigned int a5)
{
  uint64_t result;
  char *v8;
  uint64_t v9;

  result = 0;
  if (a1 && a5)
  {
    v8 = *(char **)(*(_QWORD *)(*a2 + 224 * a3 + 16) + 8);
    v9 = a5;
    while (!strstr(v8, *a4))
    {
      ++a4;
      if (!--v9)
        return 0;
    }
    return 1;
  }
  return result;
}

uint64_t first_character(uint64_t result, _QWORD *a2, unsigned int a3, const char **a4, int a5)
{
  uint64_t v5;
  char __s2[5];

  if (result)
  {
    LODWORD(v5) = a5;
    utf8_getUTF8Char(**(_QWORD **)(*a2 + 224 * a3 + 16), 0, __s2);
    if ((_DWORD)v5)
    {
      v5 = v5;
      while (strcmp(*a4, __s2))
      {
        ++a4;
        if (!--v5)
          return 0;
      }
      return 1;
    }
    else
    {
      return 0;
    }
  }
  return result;
}

uint64_t last_character(uint64_t result, _QWORD *a2, unsigned int a3, const char **a4, int a5)
{
  uint64_t v5;
  const char *v7;
  int v8;
  int v9;
  int v10;
  int CurrentUtf8Offset;
  int v12;
  unsigned int v13;
  char __s2[4];
  __int16 v15;

  v15 = 0;
  *(_DWORD *)__s2 = 0;
  if (result)
  {
    LODWORD(v5) = a5;
    v7 = **(const char ***)(*a2 + 224 * a3 + 16);
    v8 = strlen(v7);
    v9 = v8 - utf8_GetCurrentUtf8Offset((unint64_t)v7, v8 - 1);
    v10 = strlen(v7);
    CurrentUtf8Offset = utf8_GetCurrentUtf8Offset((unint64_t)v7, v10 - 1);
    if (v9 >= (int)Utf8_LengthInBytes((unsigned __int8 *)&v7[CurrentUtf8Offset], 1))
    {
      v12 = strlen(v7);
      v13 = utf8_GetCurrentUtf8Offset((unint64_t)v7, v12 - 1);
      utf8_getUTF8Char((uint64_t)v7, v13, __s2);
    }
    if ((_DWORD)v5)
    {
      v5 = v5;
      while (strcmp(*a4, __s2))
      {
        ++a4;
        if (!--v5)
          return 0;
      }
      return 1;
    }
    else
    {
      return 0;
    }
  }
  return result;
}

uint64_t initPhrasingRuleStruct(uint64_t a1, uint64_t a2, unsigned int a3)
{
  uint64_t v4;

  *(_WORD *)(a2 + 8) = 0;
  *(_WORD *)(a2 + 10) = a3;
  v4 = heap_Calloc(*(_QWORD **)(a1 + 8), a3, 16);
  *(_QWORD *)a2 = v4;
  if (v4)
    return 0;
  else
    return 2315264010;
}

uint64_t addPhrasingRule(uint64_t a1, uint64_t *a2, const char *a3)
{
  unsigned __int16 v6;
  const char *i;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t result;

  v6 = 1;
  for (i = a3; *i == 94; ++i)
  {
    ++v6;
LABEL_6:
    ;
  }
  if (*i)
    goto LABEL_6;
  v8 = heap_Calloc(*(_QWORD **)(a1 + 8), v6, 40);
  v9 = *a2;
  v10 = *((unsigned __int16 *)a2 + 4);
  *(_QWORD *)(*a2 + 16 * v10) = v8;
  if (!v8)
    return 2315264010;
  *(_WORD *)(v9 + 16 * v10 + 8) = v6;
  result = parseOneRule(a1, v8, v6, a3);
  if ((result & 0x80000000) == 0)
  {
    result = 0;
    ++*((_WORD *)a2 + 4);
  }
  return result;
}

uint64_t parseOneRule(uint64_t a1, uint64_t a2, unsigned int a3, const char *a4)
{
  unsigned __int16 i;
  uint64_t v7;
  uint64_t v8;
  const char *v9;
  int v10;
  int v11;
  const char *v12;
  int v13;
  int v14;
  int v15;
  const char *v16;
  int v17;
  _QWORD *v18;
  uint64_t v19;
  _WORD *v20;
  const char *v21;
  int v22;
  int v23;
  uint64_t v24;
  int v25;
  const char *v26;
  char *v27;
  uint64_t v28;
  _QWORD *v29;
  _QWORD *v30;
  uint64_t v31;
  _QWORD *v32;
  unint64_t v33;
  _QWORD *v34;
  _BYTE *j;
  _BYTE *v36;
  int v37;

  for (i = 0; a4[i] != 45 || a4[i + 1] != 45 || a4[i + 2] != 62; ++i)
    ;
  a4[i] = 0;
  if (!a3)
    return 0;
  v7 = 0;
  v8 = a3;
  while (2)
  {
    v9 = a4 - 1;
    do
    {
      v11 = *(unsigned __int8 *)++v9;
      v10 = v11;
    }
    while (v11 == 32);
    v12 = v9;
    while (v10 != 95)
    {
      v13 = *(unsigned __int8 *)++v12;
      v10 = v13;
    }
    *v12 = 0;
    *(_WORD *)(a2 + 40 * v7 + 8) = atoi(v9);
    do
    {
      v15 = *(unsigned __int8 *)++v12;
      v14 = v15;
    }
    while (v15 == 32);
    v16 = v12;
    if (v14 != 40)
    {
      v16 = v12;
      do
        v17 = *(unsigned __int8 *)++v16;
      while (v17 != 40);
    }
    v18 = (_QWORD *)(a2 + 40 * v7);
    *v16 = 0;
    if (!strcmp(v12, "last-pos"))
      *v18 = last_POS;
    if (!strcmp(v12, "first-pos"))
      *v18 = first_POS;
    if (!strcmp(v12, "has-pos"))
      *v18 = has_POS;
    if (!strcmp(v12, "first-character"))
      *v18 = first_character;
    if (!strcmp(v12, "last-character"))
      *v18 = last_character;
    v19 = a2 + 40 * v7;
    *(_WORD *)(v19 + 32) = 1;
    v20 = (_WORD *)(v19 + 32);
    v21 = v16;
    do
    {
      v23 = *(unsigned __int8 *)++v16;
      v22 = v23;
      ++v21;
    }
    while (v23 == 32);
    v24 = 0;
    v25 = 1;
    while (v22 == 124)
    {
      *v20 = ++v25;
LABEL_35:
      v22 = v16[++v24];
    }
    if (v22 != 41)
      goto LABEL_35;
    v16[v24] = 0;
    v26 = &v16[v24 + 1];
    v27 = (char *)heap_Alloc(*(_QWORD *)(a1 + 8), (unsigned __int16)(v24 + 2));
    v28 = a2 + 40 * v7;
    *(_QWORD *)(v28 + 16) = v27;
    v29 = (_QWORD *)(v28 + 16);
    if (v27)
    {
      strcpy(v27, v16);
      v30 = (_QWORD *)heap_Alloc(*(_QWORD *)(a1 + 8), 8 * (unsigned __int16)*v20);
      v31 = a2 + 40 * v7;
      *(_QWORD *)(v31 + 24) = v30;
      v32 = (_QWORD *)(v31 + 24);
      if (v30)
      {
        *v30 = *v29;
        if ((unsigned __int16)*v20 >= 2u)
        {
          v33 = 1;
          do
          {
            v34 = (_QWORD *)(*v32 + 8 * v33);
            for (j = (_BYTE *)*(v34 - 1); ; j = v36 + 1)
            {
              *v34 = j;
              v34 = (_QWORD *)(*v32 + 8 * v33);
              v36 = (_BYTE *)*v34;
              if (*(_BYTE *)*v34 == 124)
                break;
            }
            *v34 = v36 + 1;
            *v36 = 0;
            ++v33;
          }
          while (v33 < (unsigned __int16)*v20);
        }
        while (1)
        {
          v37 = *(unsigned __int8 *)v26;
          if (!*v26 || v37 == 94)
            break;
          ++v26;
        }
        if (v37 == 94)
          a4 = v26 + 1;
        else
          a4 = v26;
        if (++v7 == v8)
          return 0;
        continue;
      }
    }
    return 2315264010;
  }
}

uint64_t releasePhrasingRuleStruct(uint64_t a1, uint64_t a2)
{
  uint64_t v3;
  unsigned int v5;
  unint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  unint64_t v11;
  uint64_t v12;
  uint64_t v13;

  v3 = *(_QWORD *)a2;
  if (v3)
  {
    v5 = *(unsigned __int16 *)(a2 + 10);
    if (*(_WORD *)(a2 + 10))
    {
      v6 = 0;
      do
      {
        v7 = *(_QWORD *)a2;
        v8 = *(_QWORD *)a2 + 16 * v6;
        v9 = *(_QWORD *)v8;
        if (*(_QWORD *)v8)
        {
          if (*(_WORD *)(v8 + 8))
          {
            v10 = 0;
            v11 = 0;
            do
            {
              v12 = *(_QWORD *)(*(_QWORD *)v8 + v10 + 16);
              if (v12)
              {
                heap_Free(*(_QWORD **)(a1 + 8), v12);
                v7 = *(_QWORD *)a2;
              }
              v13 = *(_QWORD *)(*(_QWORD *)(v7 + 16 * v6) + v10 + 24);
              if (v13)
              {
                heap_Free(*(_QWORD **)(a1 + 8), v13);
                v7 = *(_QWORD *)a2;
              }
              ++v11;
              v8 = v7 + 16 * v6;
              v10 += 40;
            }
            while (v11 < *(unsigned __int16 *)(v8 + 8));
            v9 = *(_QWORD *)v8;
          }
          heap_Free(*(_QWORD **)(a1 + 8), v9);
          v5 = *(unsigned __int16 *)(a2 + 10);
        }
        ++v6;
      }
      while (v6 < v5);
      v3 = *(_QWORD *)a2;
    }
    heap_Free(*(_QWORD **)(a1 + 8), v3);
  }
  *(_WORD *)(a2 + 10) = 0;
  *(_QWORD *)a2 = 0;
  return 0;
}

uint64_t applyRules(uint64_t a1, uint64_t a2, int a3, uint64_t *a4)
{
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  unint64_t v11;
  int v12;
  uint64_t v13;

  if (!*((_WORD *)a4 + 5))
    return 0;
  v8 = 0;
  v9 = *a4;
  while (*(_WORD *)(v9 + 16 * v8 + 8))
  {
    v10 = 0;
    v11 = 0;
    v12 = 1;
    do
    {
      v13 = *(_QWORD *)(v9 + 16 * v8) + v10;
      if (*(unsigned __int16 *)(v13 + 8) + a3 >= *(unsigned __int16 *)(a2 + 8))
      {
        v12 = 0;
      }
      else
      {
        if ((*(unsigned int (**)(uint64_t, uint64_t, _QWORD, _QWORD, _QWORD))v13)(a1, a2, (unsigned __int16)(*(_WORD *)(v13 + 8) + a3), *(_QWORD *)(v13 + 24), *(unsigned __int16 *)(v13 + 32)) != 1)v12 = 0;
        v9 = *a4;
      }
      ++v11;
      v10 += 40;
    }
    while (v11 < *(unsigned __int16 *)(v9 + 16 * v8 + 8));
    if (v12 == 1)
      break;
    if (++v8 >= (unint64_t)*((unsigned __int16 *)a4 + 5))
      return 0;
  }
  return 1;
}

uint64_t setPhraseProminences(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unsigned __int16 v12;
  int v13;
  uint64_t v14;
  uint64_t result;
  uint64_t v16;
  __int16 *v17;
  int v18;
  int v19;
  int v20;
  uint64_t v21;
  __int16 i;
  uint64_t v23;
  BOOL v24;
  char v25;
  const char *v26;
  uint64_t v27;
  uint64_t *v28;

  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"DO setPhraseProminences()", a6, a7, a8, 0);
  v28 = (uint64_t *)(a1 + 736);
  v12 = *(_WORD *)(a1 + 744) - 1;
  if ((v12 & 0x8000) != 0)
    return printLevel(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, (uint64_t)v28, (uint64_t)"AFTER SET PHRASE PROMINENCE");
  while (1)
  {
    v13 = v12;
    v14 = v12;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"processing (phrase) node %d", v9, v10, v11, v12);
    result = printNode(*(_DWORD *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, (unsigned __int16 *)(*(_QWORD *)(a1 + 736) + 32 * v14), v13);
    if ((result & 0x80000000) != 0)
      break;
    v16 = *v28;
    v17 = (__int16 *)(*v28 + 32 * v14);
    v18 = (__int16)(v17[1] - 1);
    if (v18 >= *v17)
    {
      v19 = 0;
      v20 = *(unsigned __int16 *)(a1 + 304);
      v27 = v14;
      do
      {
        v21 = (__int16)v18;
        if (v20)
        {
          for (i = 0; i < v20; ++i)
          {
            v23 = *(_QWORD *)(a1 + 672);
            if (!strcmp((const char *)(*(_QWORD *)(a1 + 536)+ *(unsigned int *)(*(_QWORD *)(a1 + 544)+ 4 * *(unsigned int *)(*(_QWORD *)(a1 + 296) + 4 * i))), *(const char **)(*(_QWORD *)(v23 + 224 * (int)v21 + 16) + 8 * *(unsigned __int16 *)(a1 + 26))))
            {
              v24 = v19 == 0;
              v19 = 1;
              if (v24)
                v25 = 2;
              else
                v25 = 1;
              if (v24)
                v26 = "set word[%d] %s to _MAINACCENT";
              else
                v26 = "set word[%d] %s to _ACCENTED";
              *(_BYTE *)(v23 + 224 * (int)v21 + 72) = v25;
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)v26, v9, v10, v11, v21);
            }
            v20 = *(unsigned __int16 *)(a1 + 304);
          }
          v14 = v27;
          v16 = *v28;
        }
        v18 = (__int16)(v21 - 1);
      }
      while (v18 >= *(__int16 *)(v16 + 32 * v14));
    }
    v12 = v14 - 1;
    if ((__int16)v14 < 1)
      return printLevel(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, (uint64_t)v28, (uint64_t)"AFTER SET PHRASE PROMINENCE");
  }
  return result;
}

uint64_t setCompoundProminences(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unsigned __int16 v12;
  _QWORD *v13;
  int v14;
  uint64_t v15;
  uint64_t matched;
  __int16 *v17;
  int v18;
  int v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  int v28;
  unsigned int v29;
  int v30;
  BOOL v31;
  uint64_t v33;
  __int16 v34;
  uint64_t v35;
  int v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v41;
  _WORD *v42;
  const char **v43;
  __int16 v44;
  _BYTE v45[12];
  int v46;
  uint64_t v47;

  v47 = 0;
  v46 = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"DO setCompoundProminences()", a6, a7, a8, 0);
  v12 = *(_WORD *)(a1 + 744) - 1;
  if ((v12 & 0x8000) == 0)
  {
    v42 = (_WORD *)(a1 + 1104);
    v43 = (const char **)(a1 + 1088);
    v13 = (_QWORD *)(a1 + 672);
    v41 = a1 + 8;
    memset(v45, 0, sizeof(v45));
    v44 = 0;
    while (1)
    {
      v14 = v12;
      v15 = v12;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"processing (phrase) node %d", v9, v10, v11, v12);
      matched = printNode(*(_DWORD *)(a1 + 1108), v43, *(char **)(a1 + 1096), v42, (_QWORD *)(a1 + 672), v41, (unsigned __int16 *)(*(_QWORD *)(a1 + 736) + 32 * v15), v14);
      if ((matched & 0x80000000) != 0)
        return matched;
      v17 = (__int16 *)(*(_QWORD *)(a1 + 736) + 32 * v15);
      v18 = (__int16)(v17[1] - 1);
      v19 = *v17;
      if (v18 >= v19)
        break;
LABEL_5:
      v12 = v15 - 1;
      if ((__int16)v15 < 1)
        return matched;
    }
    while (1)
    {
      v20 = *(_QWORD *)(*v13 + 224 * (__int16)v18 + 56);
      if (v20)
      {
        v21 = *(unsigned __int16 *)(a1 + 32);
        v22 = v20 + 32 * v21;
        if (*(_DWORD *)(v22 + 4) == 1)
        {
          v23 = *(unsigned __int16 *)(v22 + 8);
          if (v23 >= (unsigned __int16)v19
            && !strcmp(*(const char **)(*(_QWORD *)(*v13 + 224 * *(unsigned __int16 *)(v22 + 8) + 56) + 32 * v21 + 16), "NP"))
          {
            break;
          }
        }
      }
LABEL_13:
      v18 = (__int16)(v18 - 1);
      v19 = *(__int16 *)(*(_QWORD *)(a1 + 736) + 32 * v15);
      if (v18 < v19)
        goto LABEL_5;
    }
    v24 = (__int16)v18;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  processing (NP phrase) node %d,%d", v9, v10, v11, v23);
    v47 = 0;
    v46 = 0;
    if ((__int16)v18 < (int)v23)
    {
LABEL_12:
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    no rules fire", v25, v26, v27, 0);
      goto LABEL_13;
    }
    v28 = v18;
    while (1)
    {
      v29 = (unsigned __int16)v28;
      v30 = v28 - 1;
      v31 = *(_BYTE *)(*v13 + 224 * (unsigned __int16)v28 + 72) != 2 || (__int16)v28 < 1;
      if (!v31 && v24 > (int)v23 && *(_BYTE *)(*v13 + 224 * (unsigned __int16)(v28 - 1) + 72) == 1)
      {
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    found PRM pattern word[%d]=%s PRM=%d word[%d]=%s PRM=%d : apply rules", v25, v26, v27, (unsigned __int16)(v28 - 1));
        *(_WORD *)&v45[4] = v28;
        *(_DWORD *)v45 = 1;
        *(_DWORD *)&v45[6] = 0;
        if (*(_WORD *)(a1 + 320))
          break;
      }
LABEL_24:
      v24 = (__int16)v30;
      v28 = v30;
      if ((__int16)v30 < (int)v23)
        goto LABEL_12;
    }
    v33 = 0;
    v34 = 0;
    while (1)
    {
      v35 = *(_QWORD *)(a1 + 312);
      v36 = v34;
      v37 = *(_QWORD *)(v35 + 24 * v34);
      if (v37)
      {
        matched = matchPANDPCONTEXT_TRule((uint64_t)"LEFT", v43, v42, *(char **)(a1 + 1096), v41, a1 + 672, v37, (uint64_t)v45, (int *)&v47 + 1, (uint64_t)&v44, 1u);
        if ((matched & 0x80000000) != 0)
          return matched;
        if (HIDWORD(v47) != 1)
          goto LABEL_43;
        v35 = *(_QWORD *)(a1 + 312);
      }
      else
      {
        HIDWORD(v47) = 1;
      }
      v38 = *(_QWORD *)(v35 + 24 * v36 + 8);
      if (v38)
      {
        matched = matchPANDPCONTEXT_TRule((uint64_t)"CUR", v43, v42, *(char **)(a1 + 1096), v41, a1 + 672, v38, (uint64_t)v45, (int *)&v47, (uint64_t)&v44, 0);
        if ((matched & 0x80000000) != 0)
          return matched;
        if ((_DWORD)v47 != 1)
          goto LABEL_43;
        v35 = *(_QWORD *)(a1 + 312);
      }
      else
      {
        LODWORD(v47) = 1;
      }
      v26 = *(_QWORD *)(v35 + 24 * v36 + 16);
      if (v26)
      {
        matched = matchPANDPCONTEXT_TRule((uint64_t)"RIGHT", v43, v42, *(char **)(a1 + 1096), v41, a1 + 672, v26, (uint64_t)v45, &v46, (uint64_t)&v44, 2u);
        if ((matched & 0x80000000) != 0)
          return matched;
      }
      else
      {
        v46 = 1;
      }
LABEL_43:
      if (v47 == 0x100000001 && v46 == 1)
      {
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  stress shift rule %d FIRED", v25, v26, v27, v33);
        v39 = *(_QWORD *)(a1 + 672);
        *(_BYTE *)(v39 + 224 * v29 + 72) = 1;
        *(_BYTE *)(v39 + 224 * (unsigned __int16)v30 + 72) = 2;
        goto LABEL_13;
      }
      v34 = v36 + 1;
      v33 = (__int16)(v36 + 1);
      if ((int)v33 >= *(unsigned __int16 *)(a1 + 320))
        goto LABEL_24;
    }
  }
  return 0;
}

uint64_t getProminence(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t result;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;

  result = setPhraseProminences(a1, a2, a3, a4, a5, a6, a7, a8);
  if ((result & 0x80000000) == 0)
  {
    result = setCompoundProminences(a1, v10, v11, v12, v13, v14, v15, v16);
    if ((result & 0x80000000) == 0)
      return printAsString(*(_DWORD *)(a1 + 1108), (const char **)(a1 + 1088), *(char **)(a1 + 1096), (_WORD *)(a1 + 1104), (_QWORD *)(a1 + 672), a1 + 8, a1 + 736, (uint64_t)"FEPHRRES: ");
  }
  return result;
}

uint64_t logPANDPRULE_TRule(uint64_t result, const char **a2, _WORD *a3, char *__s, uint64_t *a5, uint64_t **a6)
{
  uint64_t *v11;
  uint64_t *v12;

  if ((_DWORD)result)
  {
    if (!*a6 || (result = logPANDPCONTEXT_TRule(a2, a3, __s, a5, *a6), (result & 0x80000000) == 0))
    {
      *(_DWORD *)__s = 2121504;
      result = add2Str(*a5, a2, a3, __s);
      if ((result & 0x80000000) == 0)
      {
        v11 = a6[1];
        if (!v11 || (result = logPANDPCONTEXT_TRule(a2, a3, __s, a5, v11), (result & 0x80000000) == 0))
        {
          *(_DWORD *)__s = 2121504;
          result = add2Str(*a5, a2, a3, __s);
          if ((result & 0x80000000) == 0)
          {
            v12 = a6[2];
            if (v12)
              return logPANDPCONTEXT_TRule(a2, a3, __s, a5, v12);
          }
        }
      }
    }
  }
  return result;
}

uint64_t logPANDPCONTEXT_TRule(const char **a1, _WORD *a2, char *__s, uint64_t *a4, uint64_t *a5)
{
  uint64_t v10;
  unint64_t v11;
  uint64_t v12;
  unsigned __int16 *v13;
  int v14;
  uint64_t result;

  if (*((_WORD *)a5 + 4))
  {
    v10 = 0;
    v11 = 0;
    while (1)
    {
      v12 = *a5;
      v13 = (unsigned __int16 *)(*a5 + v10);
      if (*((_BYTE *)v13 + 4))
        break;
LABEL_17:
      result = add2Str(*a4, a1, a2, "[");
      if ((result & 0x80000000) != 0)
        return result;
      result = add2Str(*a4, a1, a2, (char *)(a4[66] + *(unsigned int *)(a4[67] + 4 * *(unsigned int *)(a4[8] + 8 * *v13 + 4))));
      if ((result & 0x80000000) != 0)
        return result;
      sprintf(__s, " %d(", *(unsigned __int16 *)(v12 + v10 + 2));
      result = add2Str(*a4, a1, a2, __s);
      if ((result & 0x80000000) != 0)
        return result;
      result = add2Str(*a4, a1, a2, (char *)(a4[61] + *(unsigned int *)(a4[62] + 4 * *(unsigned __int16 *)(v12 + v10 + 2))));
      if ((result & 0x80000000) != 0)
        return result;
      result = add2Str(*a4, a1, a2, ")] ");
LABEL_22:
      if ((result & 0x80000000) == 0)
      {
        ++v11;
        v10 += 6;
        if (v11 < *((unsigned __int16 *)a5 + 4))
          continue;
      }
      return result;
    }
    if ((v13[2] & 1) != 0)
    {
      *(_WORD *)__s = 33;
    }
    else
    {
      if ((v13[2] & 2) != 0)
      {
        v14 = 0;
        strcpy(__s, "HASCOMMA ");
        goto LABEL_15;
      }
      if ((v13[2] & 4) != 0)
      {
        v14 = 0;
        strcpy(__s, "DIRECTIVE_MOVE2NEXT ");
        goto LABEL_15;
      }
      if ((v13[2] & 8) != 0)
      {
        v14 = 0;
        strcpy(__s, "ISLASTINPHR ");
        goto LABEL_15;
      }
      if ((v13[2] & 0x10) != 0)
      {
        v14 = 0;
        strcpy(__s, "ISFIRSTINPHR ");
LABEL_15:
        result = add2Str(*a4, a1, a2, __s);
        if (!v14 || (result & 0x80000000) != 0)
          goto LABEL_22;
        goto LABEL_17;
      }
    }
    v14 = 1;
    goto LABEL_15;
  }
  return 0;
}

_QWORD *freePANDPRULE_TRule(_QWORD *result, uint64_t *a2)
{
  _QWORD *v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;

  v3 = result;
  v4 = *a2;
  if (*a2)
  {
    if (*(_WORD *)(v4 + 8))
    {
      heap_Free((_QWORD *)result[1], *(_QWORD *)v4);
      *(_QWORD *)v4 = 0;
      v4 = *a2;
    }
    result = heap_Free((_QWORD *)v3[1], v4);
    *a2 = 0;
  }
  v5 = a2[1];
  if (v5)
  {
    if (*(_WORD *)(v5 + 8))
    {
      heap_Free((_QWORD *)v3[1], *(_QWORD *)v5);
      *(_QWORD *)v5 = 0;
      v5 = a2[1];
    }
    result = heap_Free((_QWORD *)v3[1], v5);
    a2[1] = 0;
  }
  v6 = a2[2];
  if (v6)
  {
    if (*(_WORD *)(v6 + 8))
    {
      heap_Free((_QWORD *)v3[1], *(_QWORD *)v6);
      *(_QWORD *)v6 = 0;
      v6 = a2[2];
    }
    result = heap_Free((_QWORD *)v3[1], v6);
    a2[2] = 0;
  }
  return result;
}

uint64_t freePandPRules(_QWORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  _QWORD *v11;
  uint64_t v12;
  uint64_t v13;
  _QWORD *v14;
  uint64_t v15;
  _QWORD *v16;
  uint64_t v17;
  unint64_t v18;
  uint64_t v19;
  uint64_t v20;
  unint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  unint64_t v37;
  uint64_t v38;
  unint64_t v39;
  uint64_t v40;
  unint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  unint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  unint64_t v54;
  unint64_t v55;
  uint64_t v56;
  uint64_t v57;
  unint64_t v58;
  unint64_t v59;
  uint64_t v60;
  unint64_t v61;
  uint64_t v62;
  uint64_t v63;
  unint64_t v64;
  uint64_t v65;
  uint64_t v66;
  unint64_t v67;
  uint64_t v68;
  uint64_t v69;
  unint64_t v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t NullHandle;
  int v75;

  v9 = *a1;
  v10 = a1[62];
  if (v10)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v10);
    a1[62] = 0;
  }
  v11 = (_QWORD *)a1[64];
  if (v11)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v11, v10, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    a1[64] = 0;
  }
  else
  {
    v12 = 0;
  }
  v13 = a1[67];
  if (v13)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v13);
    a1[67] = 0;
  }
  v14 = (_QWORD *)a1[69];
  if (v14)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v14, v13, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    a1[69] = 0;
  }
  v15 = a1[57];
  if (v15)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v15);
    a1[57] = 0;
  }
  v16 = (_QWORD *)a1[59];
  if (v16)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v16, v15, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    a1[59] = 0;
  }
  v17 = a1[8];
  if (v17)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v17);
    a1[8] = 0;
    *((_WORD *)a1 + 36) = 0;
  }
  if (*((_WORD *)a1 + 44))
  {
    v18 = 0;
    v19 = 8;
    do
    {
      freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(a1[10] + v19));
      ++v18;
      v19 += 32;
    }
    while (v18 < *((unsigned __int16 *)a1 + 44));
  }
  v20 = a1[10];
  if (v20)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v20);
    a1[10] = 0;
  }
  *((_WORD *)a1 + 44) = 0;
  if (*((_WORD *)a1 + 52))
  {
    v21 = 0;
    v22 = 8;
    do
    {
      freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(a1[12] + v22));
      ++v21;
      v22 += 32;
    }
    while (v21 < *((unsigned __int16 *)a1 + 52));
  }
  v23 = a1[12];
  if (v23)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v23);
    a1[12] = 0;
  }
  *((_WORD *)a1 + 52) = 0;
  if (*((_WORD *)a1 + 60))
  {
    v24 = 0;
    v25 = 8;
    do
    {
      freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(a1[14] + v25));
      ++v24;
      v25 += 32;
    }
    while (v24 < *((unsigned __int16 *)a1 + 60));
  }
  v26 = a1[14];
  if (v26)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v26);
    a1[14] = 0;
  }
  *((_WORD *)a1 + 60) = 0;
  if (*((_WORD *)a1 + 72))
  {
    v27 = 0;
    do
    {
      heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1[16] + 8 * v27));
      *(_QWORD *)(a1[16] + 8 * v27++) = 0;
    }
    while (v27 < *((unsigned __int16 *)a1 + 72));
  }
  *((_WORD *)a1 + 72) = 0;
  v28 = a1[17];
  if (v28)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v28);
    a1[17] = 0;
  }
  v29 = a1[16];
  if (v29)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v29);
    a1[16] = 0;
  }
  if (*((_WORD *)a1 + 80))
  {
    v30 = 0;
    v31 = 8;
    do
    {
      freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(a1[19] + v31));
      ++v30;
      v31 += 32;
    }
    while (v30 < *((unsigned __int16 *)a1 + 80));
  }
  v32 = a1[19];
  if (v32)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v32);
    a1[19] = 0;
  }
  *((_WORD *)a1 + 80) = 0;
  if (*((_WORD *)a1 + 92))
  {
    v33 = 0;
    v34 = a1[22];
    do
    {
      freePANDPRULE_TRule((_QWORD *)v9, *(uint64_t **)(v34 + 40 * v33));
      v35 = a1[22];
      v36 = *(_QWORD *)(v35 + 40 * v33);
      if (v36)
      {
        heap_Free(*(_QWORD **)(v9 + 8), v36);
        v35 = a1[22];
        *(_QWORD *)(v35 + 40 * v33) = 0;
      }
      if (*(_WORD *)(v35 + 40 * v33 + 16))
      {
        v37 = 0;
        v38 = 8;
        do
        {
          freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(*(_QWORD *)(v35 + 40 * v33 + 8) + v38));
          ++v37;
          v35 = a1[22];
          v38 += 32;
        }
        while (v37 < *(unsigned __int16 *)(v35 + 40 * v33 + 16));
      }
      freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(*(_QWORD *)(v35 + 40 * v33 + 8) + 8));
      v34 = a1[22];
      if (*(_QWORD *)(v34 + 40 * v33 + 8))
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v34 + 40 * v33 + 8));
        v34 = a1[22];
        *(_QWORD *)(v34 + 40 * v33 + 8) = 0;
      }
      v39 = v34 + 40 * v33;
      *(_WORD *)(v39 + 16) = 0;
      if (*(_WORD *)(v39 + 32))
      {
        v40 = 0;
        v41 = 0;
        do
        {
          freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(*(_QWORD *)(v34 + 40 * v33 + 24) + v40));
          ++v41;
          v34 = a1[22];
          v40 += 32;
        }
        while (v41 < *(unsigned __int16 *)(v34 + 40 * v33 + 32));
      }
      if (*(_QWORD *)(v34 + 40 * v33 + 24))
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v34 + 40 * v33 + 24));
        v34 = a1[22];
        *(_QWORD *)(v34 + 40 * v33 + 24) = 0;
      }
      *(_WORD *)(v34 + 40 * v33++ + 32) = 0;
    }
    while (v33 < *((unsigned __int16 *)a1 + 92));
  }
  else
  {
    v34 = a1[22];
    if (!v34)
      goto LABEL_64;
  }
  heap_Free(*(_QWORD **)(v9 + 8), v34);
  a1[22] = 0;
LABEL_64:
  *((_WORD *)a1 + 92) = 0;
  v42 = a1[25];
  if (v42)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v42);
    a1[25] = 0;
  }
  *((_WORD *)a1 + 104) = 0;
  v43 = a1[28];
  if (v43)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v43);
    a1[28] = 0;
  }
  *((_WORD *)a1 + 116) = 0;
  v44 = a1[30];
  if (v44)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v44);
    a1[30] = 0;
  }
  *((_WORD *)a1 + 124) = 0;
  if (*((_WORD *)a1 + 132))
  {
    v45 = 0;
    v46 = 8;
    do
    {
      freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(a1[32] + v46));
      ++v45;
      v46 += 32;
    }
    while (v45 < *((unsigned __int16 *)a1 + 132));
  }
  *((_WORD *)a1 + 132) = 0;
  v47 = a1[32];
  if (v47)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v47);
    a1[32] = 0;
  }
  v48 = a1[34];
  if (v48)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v48);
    a1[34] = 0;
  }
  *((_WORD *)a1 + 140) = 0;
  v49 = a1[4];
  if (v49)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v49);
    a1[4] = 0;
  }
  *((_WORD *)a1 + 20) = 0;
  v50 = a1[6];
  if (v50)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v50);
    a1[6] = 0;
  }
  *((_WORD *)a1 + 28) = 0;
  v51 = a1[36];
  if (v51)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v51);
    a1[36] = 0;
  }
  v52 = a1[38];
  if (v52)
  {
    if (*((_WORD *)a1 + 156))
    {
      v53 = 0;
      v54 = 0;
      do
      {
        freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(a1[38] + v53));
        ++v54;
        v53 += 24;
      }
      while (v54 < *((unsigned __int16 *)a1 + 156));
      v52 = a1[38];
    }
    *((_WORD *)a1 + 156) = 0;
    heap_Free(*(_QWORD **)(v9 + 8), v52);
    a1[38] = 0;
  }
  if (*((_WORD *)a1 + 160))
  {
    v55 = 0;
    v56 = a1[42];
    do
    {
      if (*(_WORD *)(v56 + 16 * v55))
      {
        v57 = 0;
        v58 = 0;
        do
        {
          freePANDPRULE_TRule((_QWORD *)v9, (uint64_t *)(*(_QWORD *)(v56 + 16 * v55 + 8) + v57));
          ++v58;
          v56 = a1[42];
          v57 += 24;
        }
        while (v58 < *(unsigned __int16 *)(v56 + 16 * v55));
      }
      v59 = v56 + 16 * v55;
      *(_WORD *)v59 = 0;
      heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v59 + 8));
      v56 = a1[42];
      *(_QWORD *)(v56 + 16 * v55++ + 8) = 0;
    }
    while (v55 < *((unsigned __int16 *)a1 + 160));
    goto LABEL_97;
  }
  v56 = a1[42];
  if (v56)
  {
LABEL_97:
    heap_Free(*(_QWORD **)(v9 + 8), v56);
    a1[42] = 0;
  }
  v60 = a1[41];
  if (v60)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v60);
    a1[41] = 0;
  }
  *((_WORD *)a1 + 160) = 0;
  if (*((_WORD *)a1 + 292))
  {
    v61 = 0;
    do
    {
      heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1[71] + 8 * v61));
      *(_QWORD *)(a1[71] + 8 * v61++) = 0;
    }
    while (v61 < *((unsigned __int16 *)a1 + 292));
  }
  v62 = a1[72];
  if (v62)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v62);
    a1[72] = 0;
  }
  v63 = a1[71];
  if (v63)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v63);
    a1[71] = 0;
  }
  *((_WORD *)a1 + 292) = 0;
  if (*((_WORD *)a1 + 304))
  {
    v64 = 0;
    do
    {
      heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1[74] + 8 * v64));
      *(_QWORD *)(a1[74] + 8 * v64++) = 0;
    }
    while (v64 < *((unsigned __int16 *)a1 + 304));
  }
  v65 = a1[75];
  if (v65)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v65);
    a1[75] = 0;
  }
  v66 = a1[74];
  if (v66)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v66);
    a1[74] = 0;
  }
  *((_WORD *)a1 + 304) = 0;
  if (*((_WORD *)a1 + 316))
  {
    v67 = 0;
    do
    {
      heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1[77] + 8 * v67));
      *(_QWORD *)(a1[77] + 8 * v67++) = 0;
    }
    while (v67 < *((unsigned __int16 *)a1 + 316));
  }
  v68 = a1[78];
  if (v68)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v68);
    a1[78] = 0;
  }
  v69 = a1[77];
  if (v69)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v69);
    a1[77] = 0;
  }
  *((_WORD *)a1 + 316) = 0;
  if (*((_WORD *)a1 + 180))
  {
    v70 = 0;
    do
    {
      heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1[43] + 8 * v70));
      *(_QWORD *)(a1[43] + 8 * v70++) = 0;
    }
    while (v70 < *((unsigned __int16 *)a1 + 180));
  }
  v71 = a1[44];
  if (v71)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v71);
    a1[44] = 0;
  }
  v72 = a1[43];
  if (v72)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v72);
    a1[43] = 0;
  }
  *((_WORD *)a1 + 180) = 0;
  v73 = a1[81];
  if (v73)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v73);
    a1[81] = 0;
  }
  NullHandle = safeh_GetNullHandle();
  if (!safeh_HandlesEqual(a1[53], a1[54], NullHandle, v75))
  {
    nuance_pcre_DeInit((_QWORD *)a1[53], a1[54]);
    nuance_pcre_ObjClose(a1[53], a1[54]);
  }
  bzero(a1, 0x298uLL);
  return v12;
}

uint64_t do_pcre_exec(uint64_t a1, unsigned int a2, char *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  _DWORD *v9;
  unsigned int v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  char *v19;
  const char *v21;
  _DWORD v22[30];
  uint64_t v23;

  v23 = *MEMORY[0x1E0C80C00];
  if (!a3 || (v9 = (_DWORD *)a6, a7 = a5, a6 = a4, a5 >= a4))
  {
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"invalid arg for regex", a6, a7, a8, 0);
    return 2315264007;
  }
  *v9 = 0;
  v10 = nuance_pcre_exec(*(_QWORD **)(a1 + 424), *(_QWORD *)(a1 + 432), *(_QWORD *)(a1 + 448) + *(unsigned int *)(*(_QWORD *)(a1 + 456) + 4 * a2), 0, a3, a4, a5, 0, v22, 30);
  if ((v10 & 0x80000000) == 0)
  {
    if (v10)
    {
      v11 = 0;
      *v9 = 1;
      return v11;
    }
    return 0;
  }
  v12 = nuance_pcre_ErrorToLhError(v10);
  v11 = v12;
  if (v12 >> 20 != 2213)
    return v11;
  if ((v12 & 0x1FFF) == 0x14)
    return 0;
  if ((v12 & 0x1FFF) == 0xA)
  {
    v17 = *(_QWORD *)(*(_QWORD *)a1 + 32);
    v18 = 11002;
    v19 = 0;
  }
  else
  {
    v17 = *(_QWORD *)(*(_QWORD *)a1 + 32);
    v21 = "lhError";
    v19 = "%s%x";
    v18 = 11027;
  }
  log_OutPublic(v17, (uint64_t)"FE_PHRASING", v18, v19, v13, v14, v15, v16, v21);
  return v11;
}

uint64_t getCompoundAccent(uint64_t a1, char *__s, _DWORD *a3, _WORD *a4, _WORD *a5)
{
  uint64_t v10;
  int v11;
  unsigned int v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  char *v21;
  const char *v23;
  int v24;
  __int16 v25;
  uint64_t v26;

  v26 = *MEMORY[0x1E0C80C00];
  if (!__s)
    return 2315264007;
  *a3 = 0;
  v10 = *(_QWORD *)(a1 + 648);
  v11 = strlen(__s);
  v12 = nuance_pcre_exec(*(_QWORD **)(a1 + 424), *(_QWORD *)(a1 + 432), v10, 0, __s, v11, 0, 0, &v24, 30);
  if ((v12 & 0x80000000) == 0)
  {
    if (v12)
    {
      v13 = 0;
      *a3 = 1;
      *a4 = v24 + 1;
      *a5 = v25 - 1;
      return v13;
    }
    return 0;
  }
  v14 = nuance_pcre_ErrorToLhError(v12);
  v13 = v14;
  if (v14 >> 20 != 2213)
    return v13;
  if ((v14 & 0x1FFF) == 0x14)
    return 0;
  if ((v14 & 0x1FFF) == 0xA)
  {
    v19 = *(_QWORD *)(*(_QWORD *)a1 + 32);
    v20 = 11002;
    v21 = 0;
  }
  else
  {
    v19 = *(_QWORD *)(*(_QWORD *)a1 + 32);
    v23 = "lhError";
    v21 = "%s%x";
    v20 = 11027;
  }
  log_OutPublic(v19, (uint64_t)"FE_PHRASING", v20, v21, v15, v16, v17, v18, v23);
  return v13;
}

uint64_t matchPANDPCONTEXT_TRule(uint64_t a1, const char **a2, _WORD *a3, char *__s, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, int *a9, uint64_t a10, unsigned int a11)
{
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t matched;
  uint64_t v21;
  unint64_t v22;
  int v23;
  int v25;

  v25 = 1;
  *a9 = 0;
  *(_DWORD *)(a8 + 6) = 0;
  if (*(_WORD *)(a5 + 8))
  {
    matched = logPANDPCONTEXT_TRule(a2, a3, __s, (uint64_t *)a5, (uint64_t *)a7);
    if ((matched & 0x80000000) != 0)
      return matched;
    log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"         %s %s", v17, v18, v19, a1);
    **a2 = 0;
  }
  else
  {
    matched = 0;
  }
  if (*(_WORD *)(a7 + 8))
  {
    v21 = 0;
    v22 = 0;
    while (1)
    {
      matched = matchREGEX_TRule((unsigned __int16 *)a5, a6, (unsigned __int16 *)(*(_QWORD *)a7 + v21), (unsigned __int16 *)a8, &v25, a10, a11, a8);
      if ((matched & 0x80000000) != 0)
        break;
      v23 = v25;
      if (v25 != 1)
        goto LABEL_11;
      ++v22;
      v21 += 6;
      if (v22 >= *(unsigned __int16 *)(a7 + 8))
        goto LABEL_10;
    }
  }
  else
  {
LABEL_10:
    v23 = 1;
LABEL_11:
    *a9 = v23;
  }
  return matched;
}

uint64_t matchREGEX_TRule(unsigned __int16 *a1, uint64_t a2, unsigned __int16 *a3, unsigned __int16 *a4, int *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  int v8;
  _WORD *v9;
  int *v10;
  unsigned __int16 *v12;
  int v15;
  unsigned int v16;
  int v17;
  int v18;
  int v19;
  int v20;
  int v21;
  unsigned __int16 *v22;
  uint64_t v23;
  _WORD *v24;
  int v25;
  unsigned int v26;
  int v27;
  uint64_t v28;
  int v29;
  unsigned int v30;
  int v31;
  unsigned int v32;
  int v33;
  int v34;
  unsigned int v36;
  int v37;
  char *v38;
  int v39;
  uint64_t v40;
  int v41;
  uint64_t v42;
  int v43;
  unsigned __int16 v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  const char *v48;
  _WORD *v49;
  int v50;
  uint64_t v51;
  const char *v52;
  int v53;
  int *v54;
  unsigned __int16 v55;
  int v56;

  v8 = a7;
  v9 = (_WORD *)a6;
  v10 = a5;
  v12 = a3;
  v56 = 0;
  v15 = a4[2];
  v55 = a4[2];
  *a5 = 0;
  if (a1[4])
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           regex %d", a6, a7, a8, a3[1]);
  v16 = *((unsigned __int8 *)v12 + 4);
  if (*((_BYTE *)v12 + 4))
  {
    if ((v16 & 4) != 0)
    {
      if (v8 == 2)
      {
        ++a4[4];
      }
      else if (v8 == 1)
      {
        ++a4[3];
      }
      if (a1[4])
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           DIRECTIVE_MOVE2NEXT - window increased (ruleDef->left_window=%d ruleDef->right_window=%d)", a6, a7, a8, a4[3]);
      v28 = 0;
      goto LABEL_29;
    }
    v53 = v15;
    v54 = v10;
    v17 = (v16 >> 1) & 1;
    v18 = (v16 >> 3) & 1;
    v19 = v16 & 1;
    v20 = (v16 >> 4) & 1;
  }
  else
  {
    v53 = v15;
    v54 = v10;
    v19 = 0;
    v17 = 0;
    v18 = 0;
    v20 = 0;
  }
  if (a1[4] >= 2u)
  {
    v21 = v8;
    v22 = v12;
    v23 = a2;
    v24 = v9;
    v25 = v19;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           ruleDef[domain=%s(%d) wordIdx=%d left_window=%d right_window=%d] defMapIdx=%s(%d) bNegateMatch=%d bHasComma=%d", a6, a7, a8, (uint64_t)DOMAIN2STRING[*(unsigned int *)a4]);
    v19 = v25;
    v9 = v24;
    a2 = v23;
    v12 = v22;
    v8 = v21;
  }
  if (v17)
  {
    v26 = a4[2];
    if (a1[4])
    {
      v27 = v19;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           pSent->words[%d].bHasComma = %d", a6, a7, a8, a4[2]);
      v19 = v27;
      v26 = a4[2];
    }
    v10 = v54;
    v28 = 0;
    v29 = *(_DWORD *)(*(_QWORD *)a2 + 224 * v26 + 28);
LABEL_24:
    v34 = v19 ^ (v29 == 1);
    goto LABEL_30;
  }
  if (v18)
  {
    v30 = a4[2];
    if (a1[4])
    {
      v31 = v19;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           pSent->words[%d].bIsLastInPhr = %d", a6, a7, a8, a4[2]);
      v19 = v31;
      v30 = a4[2];
    }
    v10 = v54;
    v28 = 0;
    v29 = *(_DWORD *)(*(_QWORD *)a2 + 224 * v30 + 40);
    goto LABEL_24;
  }
  if (v20)
  {
    v32 = a4[2];
    if (a1[4])
    {
      v33 = v19;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           pSent->words[%d].bIsFirstInPhr = %d", a6, a7, a8, a4[2]);
      v19 = v33;
      v32 = a4[2];
    }
    v10 = v54;
    v28 = 0;
    v29 = *(_DWORD *)(*(_QWORD *)a2 + 224 * v32 + 44);
    goto LABEL_24;
  }
  v36 = *(_DWORD *)a4 - 1;
  if (v36 > 2)
  {
    LOWORD(v37) = v53;
    v10 = v54;
    goto LABEL_39;
  }
  LOWORD(v37) = v53;
  v10 = v54;
  switch(v8)
  {
    case 0:
LABEL_39:
      switch(v36)
      {
        case 0u:
          v38 = *(char **)(*(_QWORD *)(*(_QWORD *)a2 + 224 * (unsigned __int16)v37 + 16) + 8 * *v12);
          goto LABEL_59;
        case 1u:
          v38 = *(char **)(*(_QWORD *)(*(_QWORD *)a2 + 224 * (unsigned __int16)v37 + 56) + 32 * *v12 + 16);
          goto LABEL_59;
        case 2u:
          v40 = *v12;
          if ((_DWORD)v40 == a1[9])
            v38 = (char *)(*(_QWORD *)(a2 + 16)
                         + *(unsigned __int16 *)(*(_QWORD *)(a2 + 24) + 2 * (unsigned __int16)v37));
          else
            v38 = *(char **)(*(_QWORD *)(*(_QWORD *)a2 + 224 * (unsigned __int16)v37 + 16) + 8 * v40);
          goto LABEL_59;
        case 3u:
          v41 = v19;
          v42 = adjustWordIdxByWindow(a1, (uint64_t *)a2, a4, v8, &v56, &v55, a7, a8);
          if ((v42 & 0x80000000) != 0)
            return v42;
          v34 = v56;
          if (!v56)
            goto LABEL_56;
          v19 = v41;
          v38 = *(char **)(*(_QWORD *)(*(_QWORD *)a2 + 224 * v55 + 64) + 8 * *v12);
          v39 = a1[4];
          if (!v38)
          {
            if (a1[4])
            {
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           NULL STR FOUND - no match", a6, a7, a8, 0);
              v19 = v41;
              v39 = a1[4];
            }
            v28 = 0;
            *v10 = 0;
            goto LABEL_73;
          }
LABEL_60:
          v43 = v19;
          if (v39)
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           STR=\"%s\"", a6, a7, a8, (uint64_t)v38);
          v44 = strlen(v38);
          v28 = do_pcre_exec((uint64_t)a1, v12[1], v38, v44, 0, (uint64_t)v10, v45, v46);
          if ((v28 & 0x80000000) == 0)
            goto LABEL_66;
          return v28;
        case 4u:
          if (*v12 == a1[9])
            v38 = *(char **)(a2 + 16);
          else
            v38 = *(char **)(a2 + 32);
LABEL_59:
          v39 = a1[4];
          if (v38)
            goto LABEL_60;
          goto LABEL_64;
        default:
          v39 = a1[4];
LABEL_64:
          *v10 = 0;
          if (v39)
          {
            v43 = v19;
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           NULL STR FOUND - no match", a6, a7, a8, 0);
            v28 = 0;
LABEL_66:
            v39 = a1[4];
            if (*v10 == 1)
            {
              if (a1[4])
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           REGEX FIRED", a6, a7, a8, 0);
              if (v43)
              {
                v34 = a1[4];
                if (!a1[4])
                  goto LABEL_30;
                v47 = *(_QWORD *)(*(_QWORD *)a1 + 32);
                v48 = "           negate match - return LH_FALSE";
LABEL_81:
                log_OutText(v47, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)v48, a6, a7, a8, 0);
                v34 = 0;
                goto LABEL_30;
              }
              *v9 = v12[1];
              if (!a1[4])
              {
LABEL_29:
                v34 = 1;
                goto LABEL_30;
              }
              v51 = *(_QWORD *)(*(_QWORD *)a1 + 32);
              v52 = "           return LH_TRUE";
LABEL_84:
              log_OutText(v51, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)v52, a6, a7, a8, 0);
              goto LABEL_29;
            }
            v19 = v43;
LABEL_73:
            if (v39)
            {
              v49 = v9;
              v50 = v19;
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           REGEX FAILED", a6, a7, a8, 0);
              v19 = v50;
              v9 = v49;
            }
          }
          else
          {
            v28 = 0;
          }
          if (!v19)
          {
            v34 = a1[4];
            if (!a1[4])
              goto LABEL_30;
            v47 = *(_QWORD *)(*(_QWORD *)a1 + 32);
            v48 = "           return LH_FALSE";
            goto LABEL_81;
          }
          *v9 = v12[1];
          if (!a1[4])
            goto LABEL_29;
          v51 = *(_QWORD *)(*(_QWORD *)a1 + 32);
          v52 = "           negate match - return LH_TRUE";
          goto LABEL_84;
      }
    case 2:
      v37 = v53 + a4[4] + 1;
      if (v37 < *(unsigned __int16 *)(a2 + 8))
      {
LABEL_37:
        v55 = v37;
        goto LABEL_39;
      }
      break;
    case 1:
      v37 = ~a4[3] + v53;
      if (v37 >= 0)
        goto LABEL_37;
      break;
  }
  v34 = a1[4];
  if (a1[4])
  {
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           context not found. rule not applicable. RETURN LH_FALSE", a6, a7, a8, 0);
    v34 = 0;
  }
LABEL_56:
  v28 = 0;
LABEL_30:
  *v10 = v34;
  return v28;
}

uint64_t matchPANDPRULE_TRule(uint64_t a1, const char **a2, _WORD *a3, char *__s, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, int *a9)
{
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t matched;
  int v20;
  uint64_t v21;
  uint64_t v22;
  _BYTE v24[2];
  int v25;

  v25 = 1;
  if (*(_WORD *)(a5 + 8))
  {
    matched = logPANDPRULE_TRule(a1, a2, a3, __s, (uint64_t *)a5, (uint64_t **)a7);
    if ((matched & 0x80000000) != 0)
      return matched;
    log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"       <%s>", v16, v17, v18, (uint64_t)*a2);
    **a2 = 0;
  }
  else
  {
    matched = 0;
  }
  *a9 = 0;
  if (*(_QWORD *)a7)
  {
    matched = matchPANDPCONTEXT_TRule((uint64_t)"LEFT", a2, a3, __s, a5, a6, *(_QWORD *)a7, a8, &v25, (uint64_t)v24, 1u);
    if ((matched & 0x80000000) != 0)
      return matched;
    v20 = v25;
    if (v25 != 1)
      goto LABEL_15;
  }
  v21 = *(_QWORD *)(a7 + 8);
  if (v21)
  {
    v25 = 0;
    matched = matchPANDPCONTEXT_TRule((uint64_t)"CUR", a2, a3, __s, a5, a6, v21, a8, &v25, (uint64_t)v24, 0);
    if ((matched & 0x80000000) != 0)
      return matched;
    v20 = v25;
    if (v25 != 1)
    {
LABEL_15:
      *a9 = v20;
      return matched;
    }
  }
  v22 = *(_QWORD *)(a7 + 16);
  if (!v22)
  {
    v20 = 1;
    goto LABEL_15;
  }
  v25 = 0;
  matched = matchPANDPCONTEXT_TRule((uint64_t)"RIGHT", a2, a3, __s, a5, a6, v22, a8, &v25, (uint64_t)v24, 2u);
  if ((matched & 0x80000000) == 0)
  {
    v20 = v25;
    goto LABEL_15;
  }
  return matched;
}

uint64_t matchMAPRULE2STR_TRule(uint64_t a1, const char **a2, _WORD *a3, char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, int *a9)
{
  *a9 = 0;
  return matchPANDPRULE_TRule(a1, a2, a3, a4, a5, a6, a7 + 8, a8, a9);
}

uint64_t matchMAPSTRSTR_TRule(uint64_t a1, _QWORD *a2, unsigned int *a3, uint64_t a4, _DWORD *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;

  *a5 = 0;
  if (*(_WORD *)(a1 + 8))
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           compare \"%s\" \"%s\"", a6, a7, a8, *(_QWORD *)(a1 + 528) + *(unsigned int *)(*(_QWORD *)(a1 + 536) + 4 * *a3));
  if (!strcmp((const char *)(*(_QWORD *)(a1 + 528) + *(unsigned int *)(*(_QWORD *)(a1 + 536) + 4 * *a3)), *(const char **)(*(_QWORD *)(*a2 + 224 * *(unsigned __int16 *)(a4 + 4) + 16)+ 8 * *(unsigned __int16 *)(a1 + 16))))
  {
    if (*(_WORD *)(a1 + 8))
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           FOUND", v13, v14, v15, 0);
    *a5 = 1;
  }
  return 0;
}

uint64_t matchMMAPREGEX2STR_TRule(unsigned __int16 *a1, uint64_t a2, unsigned __int16 *a3, unsigned __int16 *a4, int *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  *a5 = 0;
  return matchREGEX_TRule(a1, a2, a3, a4, a5, a6, 0, a8);
}

uint64_t matchMMAPREGEX2NUM_TRule(unsigned __int16 *a1, uint64_t a2, unsigned __int16 *a3, unsigned __int16 *a4, int *a5, unsigned __int16 *a6, uint64_t a7, uint64_t a8)
{
  uint64_t matched;
  _BYTE v13[2];

  *a5 = 0;
  matched = matchREGEX_TRule(a1, a2, a3, a4, a5, (uint64_t)v13, 0, a8);
  if ((matched & 0x80000000) == 0 && *a5 == 1)
    FLOATSUR_PLUS(a6, a6, a3 + 3);
  return matched;
}

uint64_t matchMAPRULE2NUMANDOPERATOR_TRule(uint64_t a1, const char **a2, _WORD *a3, char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, int *a9, unsigned __int16 *a10)
{
  uint64_t matched;

  *a9 = 0;
  matched = matchPANDPRULE_TRule(a1, a2, a3, a4, a5, a6, a7, a8, a9);
  if ((matched & 0x80000000) == 0 && *a9 == 1)
    getVal(a10, (_DWORD *)(a7 + 24), (unsigned __int16 *)(a7 + 28));
  return matched;
}

unsigned __int16 *getVal(unsigned __int16 *result, _DWORD *a2, unsigned __int16 *a3)
{
  switch(*a2)
  {
    case 0:
      result = (unsigned __int16 *)FLOATSUR_PLUS_INT(result, result, 1u, 0);
      break;
    case 1:
      result = (unsigned __int16 *)FLOATSUR_PLUS(result, result, a3);
      break;
    case 2:
      result = (unsigned __int16 *)FLOATSUR_MINUS_INT(result, result, 1u, 0);
      break;
    case 3:
      result = (unsigned __int16 *)FLOATSUR_MINUS(result, result, a3);
      break;
    default:
      return result;
  }
  return result;
}

uint64_t matchMAPRULE2NUM_TRule(uint64_t a1, const char **a2, _WORD *a3, char *a4, uint64_t a5, uint64_t a6, _DWORD *a7, uint64_t a8, int *a9, _DWORD *a10)
{
  uint64_t result;

  *a9 = 0;
  result = matchPANDPRULE_TRule(a1, a2, a3, a4, a5, a6, (uint64_t)(a7 + 2), a8, a9);
  if ((result & 0x80000000) == 0 && *a9 == 1)
    *a10 = *a7;
  return result;
}

unsigned __int16 *matchMAPNUMNUM_TRule(uint64_t a1, unsigned __int16 *a2, _DWORD *a3)
{
  unsigned __int16 *result;

  *a3 = 0;
  result = (unsigned __int16 *)FLOATSUR_EQUAL((unsigned __int16 *)(a1 + 4), a2);
  if ((_DWORD)result)
  {
    *a3 = 1;
    return getVal(a2, (_DWORD *)a1, (unsigned __int16 *)(a1 + 8));
  }
  return result;
}

uint64_t setParams(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  char *v10;
  uint64_t v11;
  const char *v12;
  char *v13;
  uint64_t v14;
  unsigned int v15;
  char *__s1;
  int v18;
  _BYTE __c[11];

  v18 = 0;
  __s1 = 0;
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"pandpdetailtrace", &v18) & 0x80000000) == 0)
    *(_WORD *)(a5 + 8) = v18;
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"pandpthresholdweakbnd", &v18) & 0x80000000) == 0)
    FLOATSUR_SET_INT((_WORD *)(a5 + 368), v18, 0);
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"pandpthresholdbndvalweak", &v18) & 0x80000000) == 0)
    FLOATSUR_SET_INT((_WORD *)(a5 + 372), v18, 0);
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"pandpthresholdbndvalstrong", &v18) & 0x80000000) == 0)
    FLOATSUR_SET_INT((_WORD *)(a5 + 376), v18, 0);
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"pandpthresholdweakfrag", &v18) & 0x80000000) == 0)
    FLOATSUR_SET_INT((_WORD *)(a5 + 380), v18, 0);
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"pandpprevfactor", &v18) & 0x80000000) == 0)
    FLOATSUR_SET_INT((_WORD *)(a5 + 384), v18, 0);
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"pandpnextfactor", &v18) & 0x80000000) == 0)
    FLOATSUR_SET_INT((_WORD *)(a5 + 388), v18, 0);
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"pandpbndfactor", &v18) & 0x80000000) == 0)
    FLOATSUR_SET_INT((_WORD *)(a5 + 392), v18, 0);
  if ((paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"pandpphrasesize", &__s1) & 0x80000000) == 0)
  {
    v10 = __s1;
    if (!strcmp(__s1, "min"))
    {
      FLOATSUR_SET_INT((_WORD *)(a5 + 372), 0, 0);
      FLOATSUR_SET_INT((_WORD *)(a5 + 380), 0, 0);
    }
    else if (!strcmp(v10, "default"))
    {
      FLOATSUR_SET((_DWORD *)(a5 + 368), (_DWORD *)(a5 + 396));
      FLOATSUR_SET((_DWORD *)(a5 + 372), (_DWORD *)(a5 + 400));
      FLOATSUR_SET((_DWORD *)(a5 + 376), (_DWORD *)(a5 + 404));
      FLOATSUR_SET((_DWORD *)(a5 + 380), (_DWORD *)(a5 + 408));
      FLOATSUR_SET((_DWORD *)(a5 + 384), (_DWORD *)(a5 + 412));
      FLOATSUR_SET((_DWORD *)(a5 + 388), (_DWORD *)(a5 + 416));
      FLOATSUR_SET((_DWORD *)(a5 + 392), (_DWORD *)(a5 + 420));
    }
  }
  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v11 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a4 + 96))(a2, a3, "fecfg", "usecompound", &__c[3], &__c[1], __c);
  if ((v11 & 0x80000000) == 0)
  {
    if (*(unsigned __int16 *)&__c[1] != 1 || !*(_QWORD *)&__c[3])
      goto LABEL_29;
    v12 = **(const char ***)&__c[3];
    v13 = strchr(**(char ***)&__c[3], __c[0]);
    if (v13)
    {
      *v13 = 0;
      v12 = **(const char ***)&__c[3];
    }
    if (!strcmp("yes", v12) || !strcmp("YES", v12))
    {
      if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"statcompwidescope", &v18) & 0x80000000) != 0)
      {
        *(_DWORD *)(a5 + 656) = 1;
        v14 = *(_QWORD *)(a1 + 40);
        v15 = 1;
        goto LABEL_36;
      }
    }
    else
    {
LABEL_29:
      if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"statcompwidescope", &v18) & 0x80000000) != 0)
      {
        *(_DWORD *)(a5 + 656) = 0;
        v14 = *(_QWORD *)(a1 + 40);
        v15 = 0;
LABEL_36:
        paramc_ParamSetInt(v14, (uint64_t)"statcompwidescope", v15);
        return v11;
      }
    }
    if (v18)
      *(_DWORD *)(a5 + 656) = 1;
    else
      *(_DWORD *)(a5 + 656) = 0;
  }
  return v11;
}

uint64_t readPandPRules(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t BrokerString;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t TokenRulesCHUNK;
  unsigned __int16 *v24;
  unsigned __int16 *v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  unsigned int v34;
  unsigned int v35;
  unsigned __int16 *v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  unint64_t v40;
  unsigned __int16 *v41;
  uint64_t v42;
  uint64_t v43;
  unint64_t v44;
  uint64_t v45;
  uint64_t v46;
  unsigned int v47;
  unsigned __int16 *v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  unint64_t v52;
  int v53;
  unsigned __int16 *v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  unint64_t v58;
  int v59;
  unint64_t v60;
  unsigned __int16 *v61;
  uint64_t v62;
  int v63;
  int v64;
  unsigned __int16 *v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  unint64_t v69;
  int v70;
  unsigned __int16 *v71;
  uint64_t v72;
  _DWORD *v73;
  uint64_t v74;
  uint64_t v75;
  unsigned int v76;
  uint64_t v77;
  unint64_t v78;
  _QWORD *v79;
  uint64_t v80;
  _DWORD *v81;
  unsigned int v82;
  _DWORD *v83;
  int v85;
  int v86;
  int v88;
  uint64_t v89;
  uint64_t v90;
  uint64_t v91;
  unsigned int *v92;
  uint64_t v93;
  unsigned int v94;
  const char *v95;
  uint64_t v96;
  uint64_t v97;
  uint64_t v98;
  uint64_t v99;
  uint64_t v100;
  unint64_t v101;
  int v102;
  uint64_t v103;
  const char *v104;
  int v105;
  int v106;
  int v107;
  int v108;
  int v109;
  int v110;
  int v111;
  uint64_t v112;
  uint64_t StrSetting;
  const char *v114;
  uint64_t v115;
  unsigned __int16 v116;
  char *v117;
  char *v118;
  char *v119;
  uint64_t v120;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  uint64_t v124;
  uint64_t v125;
  uint64_t v126;
  unsigned int v127;
  int v128;
  uint64_t v129;
  uint64_t v130;
  int v131;
  int v132;
  const char *v133;
  char *__s1;
  uint64_t v135;
  unsigned __int16 *v136;
  unsigned int v137;
  int v138;
  unsigned __int8 v139;
  _QWORD *v140;
  _OWORD v141[8];
  uint64_t v142;

  v142 = *MEMORY[0x1E0C80C00];
  v140 = 0;
  v139 = 0;
  v137 = 0;
  v138 = 0;
  v135 = 0;
  v136 = 0;
  memset(v141, 0, sizeof(v141));
  __s1 = 0;
  *(_QWORD *)a4 = a3;
  if ((paramc_ParamGetStr(*(_QWORD *)(a3 + 40), (uint64_t)"basicclcprosody", &__s1) & 0x80000000) == 0
    && __s1
    && !strcmp(__s1, "yes"))
  {
    goto LABEL_175;
  }
  log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"trying to load voice-dependent PandP rules", v8, v9, v10, 0);
  BrokerString = getBrokerString(a3, 1, (char *)v141);
  if ((BrokerString & 0x80000000) != 0)
    return BrokerString;
  if ((brk_DataOpenEx(*(_QWORD *)(a3 + 24), (uint64_t)v141, 1, (uint64_t)&v135) & 0x80000000) != 0)
  {
    log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"trying to load legacy voice-dependent PandP MS rules", v12, v13, v14, 0);
    BrokerString = getLegacyBrokerString(a3, (char *)v141);
    if ((BrokerString & 0x80000000) != 0)
      return BrokerString;
    if ((brk_DataOpenEx(*(_QWORD *)(a3 + 24), (uint64_t)v141, 1, (uint64_t)&v135) & 0x80000000) != 0)
    {
LABEL_175:
      log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"trying to load voice-independent PandP rules", v8, v9, v10, 0);
      BrokerString = getBrokerString(a3, 0, (char *)v141);
      if ((BrokerString & 0x80000000) != 0)
        return BrokerString;
      BrokerString = brk_DataOpenEx(*(_QWORD *)(a3 + 24), (uint64_t)v141, 1, (uint64_t)&v135);
      if ((BrokerString & 0x80000000) != 0)
        return BrokerString;
    }
  }
  BrokerString = brk_DataClose(*(_QWORD *)(a3 + 24), v135);
  if ((BrokerString & 0x80000000) != 0)
    return BrokerString;
  BrokerString = ssftriff_reader_ObjOpen(a1, a2, 0, (const char *)v141, "PANP", 1031, (uint64_t *)&v140);
  if ((BrokerString & 0x80000000) != 0)
    return BrokerString;
  do
  {
    LODWORD(v22) = ssftriff_reader_OpenChunk((uint64_t)v140, &v138, &v137, &v136, v15, v16, v17, v18);
    if ((v22 & 0x80000000) != 0)
      break;
    if (v138 ^ 0x47494643 | v139)
    {
      if (!(v138 ^ 0x45535453 | v139))
      {
        v25 = v136;
        v26 = *v136;
        *(_WORD *)(a4 + 40) = v26;
        v27 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * v26) | 1);
        *(_QWORD *)(a4 + 32) = v27;
        if (!v27)
          goto LABEL_152;
        if (*(_WORD *)(a4 + 40))
        {
          v32 = 0;
          v33 = 0;
          v34 = 2;
          do
          {
            *(_DWORD *)(*(_QWORD *)(a4 + 32) + v32) = *(_DWORD *)((char *)v25 + v34);
            v35 = v34 + 4;
            *(_DWORD *)(*(_QWORD *)(a4 + 32) + v32 + 4) = *(_DWORD *)((char *)v25 + v35);
            v34 = v35 + 4;
            ++v33;
            v32 += 8;
          }
          while (v33 < *(unsigned __int16 *)(a4 + 40));
        }
        goto LABEL_65;
      }
      if (!(v138 ^ 0x44554150 | v139))
      {
        v36 = v136;
        v37 = *v136;
        *(_WORD *)(a4 + 56) = v37;
        LODWORD(v133) = 2;
        v38 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * v37) | 1);
        *(_QWORD *)(a4 + 48) = v38;
        if (!v38)
          goto LABEL_152;
        if (*(_WORD *)(a4 + 56))
        {
          v39 = 0;
          v40 = 0;
          do
          {
            readSTR2NUMRULE((uint64_t)v36, (unsigned int *)&v133, (_DWORD *)(*(_QWORD *)(a4 + 48) + v39));
            ++v40;
            v39 += 8;
          }
          while (v40 < *(unsigned __int16 *)(a4 + 56));
        }
        goto LABEL_65;
      }
      if (!(v138 ^ 0x4D464544 | v139))
      {
        v41 = v136;
        v42 = *v136;
        *(_WORD *)(a4 + 72) = v42;
        *(_WORD *)(a4 + 74) = v41[1];
        v43 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * v42) | 1);
        *(_QWORD *)(a4 + 64) = v43;
        if (!v43)
          goto LABEL_152;
        if (*(_WORD *)(a4 + 74))
        {
          v44 = 0;
          v45 = 4;
          v46 = 2;
          do
          {
            *(_DWORD *)(*(_QWORD *)(a4 + 64) + v45) = *(_DWORD *)&v41[v46];
            v46 += 2;
            ++v44;
            v45 += 8;
          }
          while (v44 < *(unsigned __int16 *)(a4 + 74));
          v47 = *(unsigned __int16 *)(a4 + 74);
        }
        else
        {
          v47 = 0;
          v46 = 2;
        }
        if (v47 < *(unsigned __int16 *)(a4 + 72))
        {
          v60 = v47;
          v61 = &v41[v46 + 2];
          v62 = 8 * v47;
          do
          {
            *(_DWORD *)(*(_QWORD *)(a4 + 64) + v62) = *((_DWORD *)v61 - 1);
            v63 = *(_DWORD *)v61;
            v61 += 4;
            *(_DWORD *)(*(_QWORD *)(a4 + 64) + v62 + 4) = v63;
            ++v60;
            v62 += 8;
          }
          while (v60 < *(unsigned __int16 *)(a4 + 72));
        }
        goto LABEL_65;
      }
      if (!(v138 ^ 0x47415452 | v139))
      {
        v48 = v136;
        v49 = *v136;
        *(_WORD *)(a4 + 88) = v49;
        LODWORD(v133) = 2;
        v50 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (32 * v49) | 1);
        *(_QWORD *)(a4 + 80) = v50;
        if (!v50)
          goto LABEL_152;
        if (*(_WORD *)(a4 + 88))
        {
          v51 = 0;
          v52 = 0;
          while (1)
          {
            v53 = (int)v133;
            *(_DWORD *)(*(_QWORD *)(a4 + 80) + v51) = *(_DWORD *)((char *)v48 + v133);
            LODWORD(v133) = v53 + 4;
            BrokerString = readRULE(*(_QWORD *)a4, (uint64_t)v48, (unsigned int *)&v133, (uint64_t *)(*(_QWORD *)(a4 + 80) + v51 + 8));
            if ((BrokerString & 0x80000000) != 0)
              return BrokerString;
            ++v52;
            v51 += 32;
            if (v52 >= *(unsigned __int16 *)(a4 + 88))
              goto LABEL_75;
          }
        }
        goto LABEL_75;
      }
      if (!(v138 ^ 0x47415453 | v139))
      {
        v54 = v136;
        v55 = *v136;
        *(_WORD *)(a4 + 104) = v55;
        LODWORD(v133) = 2;
        v56 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (32 * v55) | 1);
        *(_QWORD *)(a4 + 96) = v56;
        if (!v56)
          goto LABEL_152;
        if (*(_WORD *)(a4 + 104))
        {
          v57 = 0;
          v58 = 0;
          while (1)
          {
            v59 = (int)v133;
            *(_DWORD *)(*(_QWORD *)(a4 + 96) + v57) = *(_DWORD *)((char *)v54 + v133);
            LODWORD(v133) = v59 + 4;
            BrokerString = readRULE(*(_QWORD *)a4, (uint64_t)v54, (unsigned int *)&v133, (uint64_t *)(*(_QWORD *)(a4 + 96) + v57 + 8));
            if ((BrokerString & 0x80000000) != 0)
              return BrokerString;
            ++v58;
            v57 += 32;
            if (v58 >= *(unsigned __int16 *)(a4 + 104))
              goto LABEL_75;
          }
        }
        goto LABEL_75;
      }
      if (!(v138 ^ 0x534F5054 | v139))
      {
        v65 = v136;
        v66 = *v136;
        *(_WORD *)(a4 + 120) = v66;
        LODWORD(v133) = 2;
        v67 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (32 * v66) | 1);
        *(_QWORD *)(a4 + 112) = v67;
        if (!v67)
          goto LABEL_152;
        if (*(_WORD *)(a4 + 120))
        {
          v68 = 0;
          v69 = 0;
          do
          {
            v70 = (int)v133;
            *(_DWORD *)(*(_QWORD *)(a4 + 112) + v68) = *(_DWORD *)((char *)v65 + v133);
            LODWORD(v133) = v70 + 4;
            BrokerString = readRULE(*(_QWORD *)a4, (uint64_t)v65, (unsigned int *)&v133, (uint64_t *)(*(_QWORD *)(a4 + 112) + v68 + 8));
            if ((BrokerString & 0x80000000) != 0)
              return BrokerString;
            ++v69;
            v68 += 32;
          }
          while (v69 < *(unsigned __int16 *)(a4 + 120));
        }
LABEL_75:
        LODWORD(v22) = 0;
        goto LABEL_66;
      }
      if (!(v138 ^ 0x46454454 | v139))
      {
        v71 = v136;
        v72 = *v136;
        *(_WORD *)(a4 + 144) = v72;
        v73 = (_DWORD *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (4 * v72) | 1);
        *(_QWORD *)(a4 + 136) = v73;
        if (!v73)
          goto LABEL_152;
        v74 = *(unsigned __int16 *)(a4 + 144);
        if (*(_WORD *)(a4 + 144))
        {
          v75 = 0;
          do
            *v73++ = v71[++v75];
          while (v74 != v75);
          v76 = v75 * 2 + 2;
        }
        else
        {
          v76 = 2;
        }
        LODWORD(v133) = v76;
        v77 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * v74) | 1);
        *(_QWORD *)(a4 + 128) = v77;
        if (!v77)
        {
LABEL_152:
          v22 = 2315264010;
          v112 = *(_QWORD *)(*(_QWORD *)a4 + 32);
LABEL_153:
          log_OutPublic(v112, (uint64_t)"FE_PHRASING", 37000, 0, v28, v29, v30, v31, v126);
          return v22;
        }
        if (*(_WORD *)(a4 + 144))
        {
          v78 = 0;
          do
          {
            v79 = *(_QWORD **)(*(_QWORD *)a4 + 8);
            if (*(_DWORD *)(*(_QWORD *)(a4 + 136) + 4 * v78) == 1)
            {
              *(_QWORD *)(*(_QWORD *)(a4 + 128) + 8 * v78) = heap_Calloc(v79, 1, 13);
              v80 = *(_QWORD *)(*(_QWORD *)(a4 + 128) + 8 * v78);
              if (!v80)
                goto LABEL_152;
              readREGEX((uint64_t)v71, (unsigned int *)&v133, v80);
              v81 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a4 + 128) + 8 * v78) + 8);
              v82 = v133;
            }
            else
            {
              *(_QWORD *)(*(_QWORD *)(a4 + 128) + 8 * v78) = heap_Calloc(v79, 1, 9);
              v83 = *(_DWORD **)(*(_QWORD *)(a4 + 128) + 8 * v78);
              if (!v83)
                goto LABEL_152;
              *v83 = *(_DWORD *)((char *)v71 + v76);
              v82 = v76 + 4;
              v81 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a4 + 128) + 8 * v78) + 4);
            }
            *v81 = *(_DWORD *)((char *)v71 + v82);
            v76 = v82 + 4;
            LODWORD(v133) = v82 + 4;
            ++v78;
          }
          while (v78 < *(unsigned __int16 *)(a4 + 144));
        }
        goto LABEL_65;
      }
      if (!(v138 ^ 0x524E4547 | v139))
      {
        BrokerString = readGeneralRulesCHUNK(v136, a4);
        if ((BrokerString & 0x80000000) != 0)
          return BrokerString;
LABEL_65:
        LODWORD(v22) = 0;
        goto LABEL_66;
      }
      if (!(v138 ^ 0x524B4F54 | v139))
      {
        TokenRulesCHUNK = readTokenRulesCHUNK(v136, a4);
        goto LABEL_104;
      }
      if (!(v138 ^ 0x54475750 | v139))
      {
        TokenRulesCHUNK = readPhraseWeightsCHUNK(v136, a4);
        goto LABEL_104;
      }
      if (!(v138 ^ 0x534D554E | v139))
      {
        TokenRulesCHUNK = readNumSettingsCHUNK(v136, a4);
        goto LABEL_104;
      }
      if (!(v138 ^ 0x4D4F5250 | v139))
      {
        TokenRulesCHUNK = readProminenceCHUNK(v136, a4);
        goto LABEL_104;
      }
      if (!(v138 ^ 0x58474552 | v139))
      {
        TokenRulesCHUNK = readRegexCHUNK((uint64_t)v140, v136, a4);
        goto LABEL_104;
      }
      if (!(v138 ^ 0x53525453 | v139))
      {
        TokenRulesCHUNK = readStringCHUNK((uint64_t)v140, v136, a4);
        goto LABEL_104;
      }
      if (!(v138 ^ 0x54534552 | v139))
      {
        TokenRulesCHUNK = readRegexStringCHUNK((uint64_t)v140, v136, a4);
        goto LABEL_104;
      }
      if (!(v138 ^ 0x4644534D | v139))
      {
        BrokerString = readMSCHUNK(v136, a4);
        if ((BrokerString & 0x80000000) != 0)
          return BrokerString;
        goto LABEL_65;
      }
      if (!(v138 ^ 0x54524850 | v139))
      {
        TokenRulesCHUNK = readPhraseTypeCHUNK(v136, a4);
LABEL_104:
        v22 = TokenRulesCHUNK;
        if ((TokenRulesCHUNK & 0x80000000) != 0)
          return v22;
        goto LABEL_66;
      }
      if (!(v138 ^ 0x44504D43 | v139))
      {
        TokenRulesCHUNK = readMSCOMPOUNDDEFCHUNK(v136, a4);
        goto LABEL_104;
      }
    }
    else
    {
      LODWORD(v22) = 0;
      v24 = v136;
      *(_WORD *)(a4 + 10) = *v136;
      *(_WORD *)(a4 + 12) = v24[1];
      *(_WORD *)(a4 + 14) = v24[2];
    }
LABEL_66:
    v64 = ssftriff_reader_CloseChunk((uint64_t)v140);
    if (v64 < 0)
      LODWORD(v22) = v64;
  }
  while ((v22 & 0x80000000) == 0);
  if ((v22 & 0x1FFF) == 0x14)
    v85 = 0;
  else
    v85 = v22;
  v22 = 2315264010;
  if ((v85 & 0x1FFF) != 0xA)
  {
    v86 = ssftriff_reader_ObjClose(v140, v19, v20, v21, v15, v16, v17, v18);
    v140 = 0;
    if (v86 >= 0 || v85 <= -1)
      v88 = v85;
    else
      v88 = v86;
    v127 = v88;
    v89 = *(unsigned __int16 *)(a4 + 74);
    if (*(_WORD *)(a4 + 74))
    {
      v90 = 0;
      v91 = *(_QWORD *)(a4 + 528);
      v92 = (unsigned int *)(*(_QWORD *)(a4 + 64) + 4);
      v93 = *(_QWORD *)(a4 + 536);
      do
      {
        v94 = *v92;
        v92 += 2;
        v95 = (const char *)(v91 + *(unsigned int *)(v93 + 4 * v94));
        if (!strcmp("ORT", v95))
        {
          *(_WORD *)(a4 + 16) = v90;
        }
        else if (!strcmp("POS", v95))
        {
          *(_WORD *)(a4 + 18) = v90;
        }
        else if (!strcmp("TOK", v95))
        {
          *(_WORD *)(a4 + 20) = v90;
        }
        else if (!strcmp("TOKT", v95))
        {
          *(_WORD *)(a4 + 22) = v90;
        }
        else if (!strcmp("PHR", v95))
        {
          *(_WORD *)(a4 + 24) = v90;
        }
        ++v90;
      }
      while (v89 != v90);
    }
    FLOATSUR_SET_INT((_WORD *)(a4 + 368), 0, 0);
    FLOATSUR_SET_INT((_WORD *)(a4 + 372), 0, 0);
    FLOATSUR_SET_INT((_WORD *)(a4 + 376), 0, 0);
    FLOATSUR_SET_INT((_WORD *)(a4 + 380), 0, 0);
    FLOATSUR_SET_INT((_WORD *)(a4 + 384), 0, 0);
    FLOATSUR_SET_INT((_WORD *)(a4 + 388), 0, 0);
    FLOATSUR_SET_INT((_WORD *)(a4 + 392), 0, 0);
    if (*(_WORD *)(a4 + 280))
    {
      v100 = 0;
      v101 = 0;
      v128 = 0;
      v129 = 0;
      v130 = 0;
      v131 = 0;
      v102 = 0;
      do
      {
        v103 = *(_QWORD *)(a4 + 272);
        v104 = (const char *)(*(_QWORD *)(a4 + 528)
                            + *(unsigned int *)(*(_QWORD *)(a4 + 536) + 4 * *(unsigned int *)(v103 + v100)));
        if (!strcmp(v104, "threshold_weak_bnd"))
        {
          v105 = *(_DWORD *)(v103 + v100 + 4);
          *(_DWORD *)(a4 + 368) = v105;
          *(_DWORD *)(a4 + 396) = v105;
          v102 = 1;
        }
        else if (!strcmp(v104, "threshold_bnd_val_weak"))
        {
          v106 = *(_DWORD *)(v103 + v100 + 4);
          *(_DWORD *)(a4 + 372) = v106;
          *(_DWORD *)(a4 + 400) = v106;
          v131 = 1;
        }
        else if (!strcmp(v104, "threshold_bnd_val_strong"))
        {
          v107 = *(_DWORD *)(v103 + v100 + 4);
          *(_DWORD *)(a4 + 376) = v107;
          *(_DWORD *)(a4 + 404) = v107;
          HIDWORD(v130) = 1;
        }
        else if (!strcmp(v104, "threshold_weak_frag"))
        {
          v108 = *(_DWORD *)(v103 + v100 + 4);
          *(_DWORD *)(a4 + 380) = v108;
          *(_DWORD *)(a4 + 408) = v108;
          LODWORD(v130) = 1;
        }
        else if (!strcmp(v104, "prevFactor"))
        {
          v109 = *(_DWORD *)(v103 + v100 + 4);
          *(_DWORD *)(a4 + 384) = v109;
          *(_DWORD *)(a4 + 412) = v109;
          HIDWORD(v129) = 1;
        }
        else if (!strcmp(v104, "nextFactor"))
        {
          v110 = *(_DWORD *)(v103 + v100 + 4);
          *(_DWORD *)(a4 + 388) = v110;
          *(_DWORD *)(a4 + 416) = v110;
          LODWORD(v129) = 1;
        }
        else if (!strcmp(v104, "bndFactor"))
        {
          v111 = *(_DWORD *)(v103 + v100 + 4);
          *(_DWORD *)(a4 + 392) = v111;
          *(_DWORD *)(a4 + 420) = v111;
          v128 = 1;
        }
        else if (!strcmp(v104, "mapfromBIO") && !FLOATSUR_EQUAL_INT((unsigned __int16 *)(v103 + v100 + 4), 0, 0))
        {
          log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 1, 0, (uint64_t)"mapfromBIO PandP setting is no longer honored", v97, v98, v99, v126);
        }
        ++v101;
        v100 += 8;
      }
      while (v101 < *(unsigned __int16 *)(a4 + 280));
    }
    else
    {
      v102 = 0;
      v131 = 0;
      v129 = 0;
      v130 = 0;
      v128 = 0;
    }
    if (v102 && v131 && HIDWORD(v130) && (_DWORD)v130 && HIDWORD(v129) && (_DWORD)v129 && v128)
    {
      v133 = 0;
      v132 = 0;
      StrSetting = getStrSetting(a4, "COMPOUND_FEATURE_STR");
      if (StrSetting)
      {
        v114 = (const char *)StrSetting;
        v115 = getStrSetting(a4, "COMPOUND_START_TAG");
        *(_QWORD *)(a4 + 640) = v115;
        if (v115)
        {
          v116 = strlen(v114);
          v117 = (char *)heap_Calloc(*(_QWORD **)(a3 + 8), 1, v116 + 3);
          if (!v117)
          {
            v112 = *(_QWORD *)(a3 + 32);
            goto LABEL_153;
          }
          v118 = v117;
          *(_WORD *)v117 = 44;
          v119 = strcat(v117, v114);
          *(_WORD *)&v118[strlen(v119)] = 44;
          *(_QWORD *)(a4 + 648) = nuance_pcre_compile(*(_QWORD *)(a4 + 424), *(_QWORD *)(a4 + 432), v118, 0, &v133, &v132, 0);
          heap_Free(*(_QWORD **)(a3 + 8), (uint64_t)v118);
          if (*(_QWORD *)(a4 + 648))
            return v127;
          log_OutPublic(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 11006, "%s%s%s%s%s%d", v120, v121, v122, v123, "regularExpression");
          return 2315264000;
        }
      }
      v124 = *(_QWORD *)(a3 + 32);
      v125 = 62000;
    }
    else
    {
      v124 = *(_QWORD *)(a3 + 32);
      v125 = 62004;
    }
    log_OutPublic(v124, (uint64_t)"FE_PHRASING", v125, 0, v96, v97, v98, v99, v126);
    return 2315264000;
  }
  return v22;
}

uint64_t getBrokerString(uint64_t a1, int a2, char *a3)
{
  uint64_t result;
  char *v7;
  size_t v8;
  unint64_t v9;
  size_t v10;
  const char *v11;
  char __s2[4];
  const char *v13;
  char *__s;
  _OWORD v15[8];
  uint64_t v16;

  v16 = *MEMORY[0x1E0C80C00];
  v13 = 0;
  __s = 0;
  memset(v15, 0, sizeof(v15));
  *(_DWORD *)__s2 = 0;
  *a3 = 0;
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", &__s);
  if ((result & 0x80000000) == 0)
  {
    v7 = __s;
    if (*__s)
    {
      v8 = 0;
      do
      {
        v9 = v8;
        __s2[v8] = __tolower(v7[v8]);
        ++v8;
        v7 = __s;
        v10 = strlen(__s);
      }
      while (v9 <= 1 && v8 < v10);
    }
    else
    {
      v8 = 0;
    }
    __s2[v8] = 0;
    if (strcmp(v7, __s2))
    {
      result = paramc_ParamSetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", __s2);
      if ((result & 0x80000000) != 0)
        return result;
      __s = __s2;
    }
    __strcat_chk();
    __strcat_chk();
    __strcat_chk();
    if (a2 == 1)
    {
      result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"voice", &v13);
      if ((result & 0x80000000) != 0)
        return result;
      __strcat_chk();
      __strcat_chk();
      v11 = v13;
    }
    else
    {
      v11 = 0;
    }
    return brokeraux_ComposeBrokerString(a1, (const char *)v15, 0, 1, __s, v11, 0, a3, 0x80uLL);
  }
  return result;
}

uint64_t getLegacyBrokerString(uint64_t a1, char *a2)
{
  uint64_t result;
  char *v5;
  size_t v6;
  unint64_t v7;
  size_t v8;
  char __s2[4];
  const char *v10;
  char *__s;
  _OWORD v12[8];
  uint64_t v13;

  v13 = *MEMORY[0x1E0C80C00];
  v10 = 0;
  __s = 0;
  memset(v12, 0, sizeof(v12));
  *(_DWORD *)__s2 = 0;
  *a2 = 0;
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", &__s);
  if ((result & 0x80000000) == 0)
  {
    v5 = __s;
    if (*__s)
    {
      v6 = 0;
      do
      {
        v7 = v6;
        __s2[v6] = __tolower(v5[v6]);
        ++v6;
        v5 = __s;
        v8 = strlen(__s);
      }
      while (v7 <= 1 && v6 < v8);
    }
    else
    {
      v6 = 0;
    }
    __s2[v6] = 0;
    if (strcmp(v5, __s2))
    {
      result = paramc_ParamSetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", __s2);
      if ((result & 0x80000000) != 0)
        return result;
      __s = __s2;
    }
    result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"voice", &v10);
    if ((result & 0x80000000) == 0)
    {
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      return brokeraux_ComposeBrokerString(a1, (const char *)v12, 1, 1, __s, v10, 0, a2, 0x80uLL);
    }
  }
  return result;
}

uint64_t readGeneralRulesCHUNK(unsigned __int16 *a1, uint64_t a2)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  unint64_t v11;
  uint64_t result;
  __int16 v13;
  _WORD *v14;
  __int16 v15;
  unsigned int v16;
  unsigned int v17;

  v4 = *a1;
  *(_WORD *)(a2 + 160) = v4;
  v17 = 2;
  v5 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (32 * v4) | 1);
  *(_QWORD *)(a2 + 152) = v5;
  if (v5)
  {
    if (*(_WORD *)(a2 + 160))
    {
      v10 = 0;
      v11 = 0;
      while (1)
      {
        result = readRULE(*(_QWORD *)a2, (uint64_t)a1, &v17, (uint64_t *)(*(_QWORD *)(a2 + 152) + v10 + 8));
        if ((result & 0x80000000) != 0)
          break;
        v13 = *(unsigned __int16 *)((char *)a1 + v17);
        v14 = (_WORD *)(*(_QWORD *)(a2 + 152) + v10);
        v15 = *(unsigned __int16 *)((char *)a1 + v17 + 2);
        v17 += 4;
        FLOATSUR_SET_INT(v14, v13, v15);
        ++v11;
        v10 += 32;
        if (v11 >= *(unsigned __int16 *)(a2 + 160))
          return 0;
      }
    }
    else
    {
      return 0;
    }
  }
  else
  {
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v16);
    return 2315264010;
  }
  return result;
}

uint64_t readTokenRulesCHUNK(_WORD *a1, uint64_t a2)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t *v11;
  uint64_t v12;
  uint64_t result;
  unsigned int v14;
  unsigned int v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unint64_t v19;
  __int16 v20;
  _WORD *v21;
  __int16 v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unint64_t v26;
  unsigned int v27;
  unsigned int v28;
  uint64_t v29;
  __int16 v30;
  __int16 v31;
  unsigned int v32;
  unsigned int v33;

  *(_WORD *)(a2 + 168) = *a1;
  v4 = (unsigned __int16)a1[1];
  *(_WORD *)(a2 + 184) = v4;
  v33 = 4;
  v5 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (40 * v4) | 1);
  *(_QWORD *)(a2 + 176) = v5;
  if (!v5)
  {
LABEL_18:
    v12 = *(_QWORD *)a2;
LABEL_19:
    log_OutPublic(*(_QWORD *)(v12 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v32);
    return 2315264010;
  }
  if (*(_WORD *)(a2 + 184))
  {
    v10 = 0;
    while (1)
    {
      v11 = (uint64_t *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, 25);
      *(_QWORD *)(*(_QWORD *)(a2 + 176) + 40 * v10) = v11;
      v12 = *(_QWORD *)a2;
      if (!v11)
        goto LABEL_19;
      result = readRULE(v12, (uint64_t)a1, &v33, v11);
      if ((result & 0x80000000) != 0)
        return result;
      v14 = v33;
      *(_WORD *)(*(_QWORD *)(a2 + 176) + 40 * v10 + 16) = *(_WORD *)((char *)a1 + v33);
      v15 = v14 + 2;
      v33 = v14 + 2;
      v16 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (32 * *(unsigned __int16 *)(*(_QWORD *)(a2 + 176) + 40 * v10 + 16)) | 1);
      v17 = *(_QWORD *)(a2 + 176);
      *(_QWORD *)(v17 + 40 * v10 + 8) = v16;
      if (!v16)
        goto LABEL_18;
      if (*(_WORD *)(v17 + 40 * v10 + 16))
      {
        v18 = 0;
        v19 = 0;
        do
        {
          result = readRULE(*(_QWORD *)a2, (uint64_t)a1, &v33, (uint64_t *)(*(_QWORD *)(v17 + 40 * v10 + 8) + v18 + 8));
          if ((result & 0x80000000) != 0)
            return result;
          v20 = *(_WORD *)((char *)a1 + v33);
          v21 = (_WORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 176) + 40 * v10 + 8) + v18);
          v22 = *(_WORD *)((char *)a1 + v33 + 2);
          v15 = v33 + 4;
          v33 += 4;
          FLOATSUR_SET_INT(v21, v20, v22);
          ++v19;
          v17 = *(_QWORD *)(a2 + 176);
          v18 += 32;
        }
        while (v19 < *(unsigned __int16 *)(v17 + 40 * v10 + 16));
      }
      *(_WORD *)(v17 + 40 * v10 + 32) = *(_WORD *)((char *)a1 + v15);
      v33 = v15 + 2;
      v23 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (32 * *(unsigned __int16 *)(*(_QWORD *)(a2 + 176) + 40 * v10 + 32)) | 1);
      v24 = *(_QWORD *)(a2 + 176);
      *(_QWORD *)(v24 + 40 * v10 + 24) = v23;
      if (!v23)
        goto LABEL_18;
      if (*(_WORD *)(v24 + 40 * v10 + 32))
      {
        v25 = 0;
        v26 = 0;
        do
        {
          result = readRULE(*(_QWORD *)a2, (uint64_t)a1, &v33, (uint64_t *)(*(_QWORD *)(v24 + 40 * v10 + 24) + v25));
          if ((result & 0x80000000) != 0)
            return result;
          v27 = v33;
          v28 = v33 + 2;
          v29 = *(_QWORD *)(*(_QWORD *)(a2 + 176) + 40 * v10 + 24) + v25;
          *(_DWORD *)(v29 + 24) = *(unsigned __int16 *)((char *)a1 + v33);
          v30 = *(_WORD *)((char *)a1 + v28);
          v31 = *(_WORD *)((char *)a1 + v27 + 4);
          v33 = v27 + 6;
          FLOATSUR_SET_INT((_WORD *)(v29 + 28), v30, v31);
          ++v26;
          v24 = *(_QWORD *)(a2 + 176);
          v25 += 32;
        }
        while (v26 < *(unsigned __int16 *)(v24 + 40 * v10 + 32));
      }
      result = 0;
      if (++v10 >= (unint64_t)*(unsigned __int16 *)(a2 + 184))
        return result;
    }
  }
  return 0;
}

uint64_t readPhraseWeightsCHUNK(unsigned __int16 *a1, uint64_t a2)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  unint64_t v11;
  unsigned int v12;
  uint64_t v13;
  unsigned int v14;
  uint64_t v15;
  uint64_t v16;
  unint64_t v17;
  uint64_t result;
  __int16 v19;
  _WORD *v20;
  __int16 v21;
  uint64_t v22;
  unsigned int v23;
  uint64_t v24;
  uint64_t v25;
  unint64_t v26;
  __int16 v27;
  _WORD *v28;
  __int16 v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  unsigned int v34;
  uint64_t v35;
  unsigned int v36;
  unsigned int v37;

  v4 = *a1;
  *(_WORD *)(a2 + 248) = v4;
  v5 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (12 * v4) | 1);
  *(_QWORD *)(a2 + 240) = v5;
  if (!v5)
    goto LABEL_21;
  if (*(_WORD *)(a2 + 248))
  {
    v10 = 0;
    v11 = 0;
    do
    {
      *(_DWORD *)(*(_QWORD *)(a2 + 240) + v10 * 2) = *(_DWORD *)&a1[v10 + 1];
      FLOATSUR_SET_INT((_WORD *)(*(_QWORD *)(a2 + 240) + v10 * 2 + 4), a1[v10 + 3], a1[v10 + 4]);
      *(_WORD *)(*(_QWORD *)(a2 + 240) + v10 * 2 + 8) = a1[v10 + 5];
      *(_WORD *)(*(_QWORD *)(a2 + 240) + v10 * 2 + 10) = a1[v10 + 6];
      ++v11;
      v10 += 6;
    }
    while (v11 < *(unsigned __int16 *)(a2 + 248));
    v12 = v10 * 2 + 2;
  }
  else
  {
    v12 = 2;
  }
  v13 = *(unsigned __int16 *)((char *)a1 + v12);
  *(_WORD *)(a2 + 264) = v13;
  v14 = v12 + 2;
  v37 = v12 + 2;
  v15 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (32 * v13) | 1);
  *(_QWORD *)(a2 + 256) = v15;
  if (!v15)
    goto LABEL_21;
  if (!*(_WORD *)(a2 + 264))
  {
LABEL_12:
    FLOATSUR_SET_INT((_WORD *)(a2 + 192), *(unsigned __int16 *)((char *)a1 + v14), *(unsigned __int16 *)((char *)a1 + v14 + 2));
    v22 = *(unsigned __int16 *)((char *)a1 + v14 + 4);
    *(_WORD *)(a2 + 208) = v22;
    v23 = v14 + 6;
    v37 = v23;
    v24 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (10 * v22) | 1);
    *(_QWORD *)(a2 + 200) = v24;
    if (v24)
    {
      if (*(_WORD *)(a2 + 208))
      {
        v25 = 0;
        v26 = 0;
        do
        {
          readREGEX((uint64_t)a1, &v37, *(_QWORD *)(a2 + 200) + v25);
          v27 = *(unsigned __int16 *)((char *)a1 + v37);
          v28 = (_WORD *)(*(_QWORD *)(a2 + 200) + v25 + 6);
          v29 = *(unsigned __int16 *)((char *)a1 + v37 + 2);
          v23 = v37 + 4;
          v37 += 4;
          FLOATSUR_SET_INT(v28, v27, v29);
          ++v26;
          v25 += 10;
        }
        while (v26 < *(unsigned __int16 *)(a2 + 208));
      }
      FLOATSUR_SET_INT((_WORD *)(a2 + 216), *(unsigned __int16 *)((char *)a1 + v23), *(unsigned __int16 *)((char *)a1 + v23 + 2));
      v30 = *(unsigned __int16 *)((char *)a1 + v23 + 4);
      *(_WORD *)(a2 + 232) = v30;
      v31 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (12 * v30) | 1);
      *(_QWORD *)(a2 + 224) = v31;
      if (v31)
      {
        if (*(_WORD *)(a2 + 232))
        {
          v32 = 0;
          v33 = 0;
          v34 = v23 + 14;
          do
          {
            v35 = *(_QWORD *)(a2 + 224) + v32;
            FLOATSUR_SET_INT((_WORD *)(v35 + 4), *(unsigned __int16 *)((char *)a1 + v34 - 8), *(unsigned __int16 *)((char *)a1 + v34 - 6));
            FLOATSUR_SET_INT((_WORD *)(v35 + 8), *(unsigned __int16 *)((char *)a1 + v34 - 4), *(unsigned __int16 *)((char *)a1 + v34 - 2));
            *(_DWORD *)v35 = *(unsigned __int16 *)((char *)a1 + v34);
            ++v33;
            v32 += 12;
            v34 += 10;
          }
          while (v33 < *(unsigned __int16 *)(a2 + 232));
        }
        return 0;
      }
    }
LABEL_21:
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v36);
    return 2315264010;
  }
  v16 = 0;
  v17 = 0;
  while (1)
  {
    result = readRULE(*(_QWORD *)a2, (uint64_t)a1, &v37, (uint64_t *)(*(_QWORD *)(a2 + 256) + v16 + 8));
    if ((result & 0x80000000) != 0)
      return result;
    v19 = *(unsigned __int16 *)((char *)a1 + v37);
    v20 = (_WORD *)(*(_QWORD *)(a2 + 256) + v16);
    v21 = *(unsigned __int16 *)((char *)a1 + v37 + 2);
    v14 = v37 + 4;
    v37 += 4;
    FLOATSUR_SET_INT(v20, v19, v21);
    ++v17;
    v16 += 32;
    if (v17 >= *(unsigned __int16 *)(a2 + 264))
      goto LABEL_12;
  }
}

uint64_t readNumSettingsCHUNK(unsigned __int16 *a1, uint64_t a2)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  unint64_t v11;
  unsigned int v13;
  unsigned int v14;

  v4 = *a1;
  *(_WORD *)(a2 + 280) = v4;
  v14 = 2;
  v5 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (8 * v4) | 1);
  *(_QWORD *)(a2 + 272) = v5;
  if (v5)
  {
    if (*(_WORD *)(a2 + 280))
    {
      v10 = 0;
      v11 = 0;
      do
      {
        readSTR2NUMRULE((uint64_t)a1, &v14, (_DWORD *)(*(_QWORD *)(a2 + 272) + v10));
        ++v11;
        v10 += 8;
      }
      while (v11 < *(unsigned __int16 *)(a2 + 280));
    }
    return 0;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v13);
    return 2315264010;
  }
}

uint64_t readProminenceCHUNK(unsigned __int16 *a1, uint64_t a2)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  unint64_t v10;
  unsigned int v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  unint64_t v15;
  uint64_t result;
  unsigned int v17;
  unsigned int v18;

  v4 = *a1;
  *(_WORD *)(a2 + 296) = v4;
  v5 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (4 * v4) | 1);
  *(_QWORD *)(a2 + 288) = v5;
  if (!v5)
    goto LABEL_13;
  if (*(_WORD *)(a2 + 296))
  {
    v10 = 0;
    v11 = 1;
    do
    {
      *(_DWORD *)(*(_QWORD *)(a2 + 288) + 4 * v10) = *(_DWORD *)&a1[2 * v10 + 1];
      v11 += 2;
      ++v10;
    }
    while (v10 < *(unsigned __int16 *)(a2 + 296));
  }
  else
  {
    v11 = 1;
  }
  v12 = a1[v11];
  *(_WORD *)(a2 + 312) = v12;
  v18 = v11 * 2 + 2;
  v13 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (24 * v12) | 1);
  *(_QWORD *)(a2 + 304) = v13;
  if (v13)
  {
    if (*(_WORD *)(a2 + 312))
    {
      v14 = 0;
      v15 = 0;
      while (1)
      {
        result = readRULE(*(_QWORD *)a2, (uint64_t)a1, &v18, (uint64_t *)(*(_QWORD *)(a2 + 304) + v14));
        if ((result & 0x80000000) != 0)
          break;
        ++v15;
        v14 += 24;
        if (v15 >= *(unsigned __int16 *)(a2 + 312))
          return 0;
      }
    }
    else
    {
      return 0;
    }
  }
  else
  {
LABEL_13:
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v17);
    return 2315264010;
  }
  return result;
}

uint64_t readRegexCHUNK(uint64_t a1, _DWORD *a2, uint64_t a3)
{
  int v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unint64_t v16;
  unsigned int v17;
  unsigned int v19;
  _DWORD *v20;

  v20 = a2;
  v6 = *a2;
  *(_DWORD *)(a3 + 440) = *a2;
  if (v6)
  {
    v7 = (a2[1] + 8);
    *(_QWORD *)(a3 + 448) = (char *)a2 + v7;
    v8 = (v7 + v6);
  }
  else
  {
    v8 = 4;
  }
  v9 = *(unsigned __int16 *)((char *)a2 + v8);
  *(_WORD *)(a3 + 464) = v9;
  v10 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a3 + 8), 1, (4 * v9) | 1);
  *(_QWORD *)(a3 + 456) = v10;
  if (v10)
  {
    if (*(_WORD *)(a3 + 464))
    {
      v16 = 0;
      v17 = v8 + 2;
      do
      {
        *(_DWORD *)(*(_QWORD *)(a3 + 456) + 4 * v16) = *(_DWORD *)((char *)a2 + v17);
        v17 += 4;
        ++v16;
      }
      while (v16 < *(unsigned __int16 *)(a3 + 464));
    }
    return ssftriff_reader_DetachChunkData(a1, (uint64_t *)(a3 + 472), &v20, v11, v12, v13, v14, v15);
  }
  else
  {
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a3 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v12, v13, v14, v15, v19);
    return 2315264010;
  }
}

uint64_t readStringCHUNK(uint64_t a1, _DWORD *a2, uint64_t a3)
{
  int v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unint64_t v16;
  unsigned int v17;
  unsigned int v19;
  _DWORD *v20;

  v20 = a2;
  v6 = *a2;
  *(_DWORD *)(a3 + 520) = *a2;
  if (v6)
  {
    v7 = (a2[1] + 8);
    *(_QWORD *)(a3 + 528) = (char *)a2 + v7;
    v8 = (v7 + v6);
  }
  else
  {
    v8 = 4;
  }
  v9 = *(unsigned __int16 *)((char *)a2 + v8);
  *(_WORD *)(a3 + 544) = v9;
  v10 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a3 + 8), 1, (4 * v9) | 1);
  *(_QWORD *)(a3 + 536) = v10;
  if (v10)
  {
    if (*(_WORD *)(a3 + 544))
    {
      v16 = 0;
      v17 = v8 + 2;
      do
      {
        *(_DWORD *)(*(_QWORD *)(a3 + 536) + 4 * v16) = *(_DWORD *)((char *)a2 + v17);
        v17 += 4;
        ++v16;
      }
      while (v16 < *(unsigned __int16 *)(a3 + 544));
    }
    return ssftriff_reader_DetachChunkData(a1, (uint64_t *)(a3 + 552), &v20, v11, v12, v13, v14, v15);
  }
  else
  {
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a3 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v12, v13, v14, v15, v19);
    return 2315264010;
  }
}

uint64_t readRegexStringCHUNK(uint64_t a1, _DWORD *a2, uint64_t a3)
{
  int v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unint64_t v16;
  unsigned int v17;
  unsigned int v19;
  _DWORD *v20;

  v20 = a2;
  v6 = *a2;
  *(_DWORD *)(a3 + 480) = *a2;
  if (v6)
  {
    v7 = (a2[1] + 8);
    *(_QWORD *)(a3 + 488) = (char *)a2 + v7;
    v8 = (v7 + v6);
  }
  else
  {
    v8 = 4;
  }
  v9 = *(unsigned __int16 *)((char *)a2 + v8);
  *(_WORD *)(a3 + 504) = v9;
  v10 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a3 + 8), 1, (4 * v9) | 1);
  *(_QWORD *)(a3 + 496) = v10;
  if (v10)
  {
    if (*(_WORD *)(a3 + 504))
    {
      v16 = 0;
      v17 = v8 + 2;
      do
      {
        *(_DWORD *)(*(_QWORD *)(a3 + 496) + 4 * v16) = *(_DWORD *)((char *)a2 + v17);
        v17 += 4;
        ++v16;
      }
      while (v16 < *(unsigned __int16 *)(a3 + 504));
    }
    return ssftriff_reader_DetachChunkData(a1, (uint64_t *)(a3 + 512), &v20, v11, v12, v13, v14, v15);
  }
  else
  {
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a3 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v12, v13, v14, v15, v19);
    return 2315264010;
  }
}

uint64_t readMSCHUNK(unsigned __int16 *a1, uint64_t a2)
{
  uint64_t v4;
  _DWORD *v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unsigned int v13;
  uint64_t v14;
  unint64_t v15;
  _QWORD *v16;
  uint64_t v17;
  _DWORD *v18;
  unsigned int v19;
  _DWORD *v20;
  uint64_t v21;
  _DWORD *v22;
  unsigned int v23;
  uint64_t v24;
  uint64_t v25;
  int v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  _QWORD *v30;
  uint64_t v31;
  _DWORD *v32;
  unsigned int v33;
  _DWORD *v34;
  uint64_t v35;
  _DWORD *v36;
  unsigned int v37;
  uint64_t v38;
  uint64_t v39;
  int v40;
  uint64_t v41;
  uint64_t v42;
  unint64_t v43;
  _QWORD *v44;
  uint64_t v45;
  _DWORD *v46;
  unsigned int v47;
  _DWORD *v48;
  uint64_t result;
  unsigned int v50;
  unsigned int v51;

  *(_DWORD *)(a2 + 560) = *a1;
  v4 = a1[1];
  *(_WORD *)(a2 + 584) = v4;
  v5 = (_DWORD *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (4 * v4) | 1);
  *(_QWORD *)(a2 + 576) = v5;
  if (!v5)
    goto LABEL_47;
  v10 = *(unsigned __int16 *)(a2 + 584);
  if (*(_WORD *)(a2 + 584))
  {
    v11 = 0;
    do
    {
      *v5++ = a1[v11 + 2];
      ++v11;
    }
    while (v10 != v11);
    v12 = (8 * v10) | 1;
    v13 = v11 * 2 + 4;
  }
  else
  {
    v13 = 4;
    v12 = 1;
  }
  v51 = v13;
  v14 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, v12);
  *(_QWORD *)(a2 + 568) = v14;
  if (!v14)
    goto LABEL_47;
  if (*(_WORD *)(a2 + 584))
  {
    v15 = 0;
    do
    {
      v16 = *(_QWORD **)(*(_QWORD *)a2 + 8);
      if (*(_DWORD *)(*(_QWORD *)(a2 + 576) + 4 * v15) == 1)
      {
        *(_QWORD *)(*(_QWORD *)(a2 + 568) + 8 * v15) = heap_Calloc(v16, 1, 13);
        v17 = *(_QWORD *)(*(_QWORD *)(a2 + 568) + 8 * v15);
        if (!v17)
          goto LABEL_47;
        readREGEX((uint64_t)a1, &v51, v17);
        v18 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 568) + 8 * v15) + 8);
        v19 = v51;
      }
      else
      {
        *(_QWORD *)(*(_QWORD *)(a2 + 568) + 8 * v15) = heap_Calloc(v16, 1, 9);
        v20 = *(_DWORD **)(*(_QWORD *)(a2 + 568) + 8 * v15);
        if (!v20)
          goto LABEL_47;
        *v20 = *(_DWORD *)((char *)a1 + v13);
        v19 = v13 + 4;
        v18 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 568) + 8 * v15) + 4);
      }
      *v18 = *(_DWORD *)((char *)a1 + v19);
      v13 = v19 + 4;
      v51 = v19 + 4;
      ++v15;
    }
    while (v15 < *(unsigned __int16 *)(a2 + 584));
  }
  v21 = *(unsigned __int16 *)((char *)a1 + v13);
  *(_WORD *)(a2 + 608) = v21;
  v22 = (_DWORD *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (4 * v21) | 1);
  *(_QWORD *)(a2 + 600) = v22;
  if (!v22)
    goto LABEL_47;
  v23 = v13 + 2;
  v24 = *(unsigned __int16 *)(a2 + 608);
  if (*(_WORD *)(a2 + 608))
  {
    v25 = *(unsigned __int16 *)(a2 + 608);
    do
    {
      v26 = *(unsigned __int16 *)((char *)a1 + v23);
      v23 += 2;
      *v22++ = v26;
      --v25;
    }
    while (v25);
    v27 = (8 * v24) | 1;
  }
  else
  {
    v27 = 1;
  }
  v51 = v23;
  v28 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, v27);
  *(_QWORD *)(a2 + 592) = v28;
  if (!v28)
    goto LABEL_47;
  if (*(_WORD *)(a2 + 608))
  {
    v29 = 0;
    do
    {
      v30 = *(_QWORD **)(*(_QWORD *)a2 + 8);
      if (*(_DWORD *)(*(_QWORD *)(a2 + 600) + 4 * v29) == 1)
      {
        *(_QWORD *)(*(_QWORD *)(a2 + 592) + 8 * v29) = heap_Calloc(v30, 1, 13);
        v31 = *(_QWORD *)(*(_QWORD *)(a2 + 592) + 8 * v29);
        if (!v31)
          goto LABEL_47;
        readREGEX((uint64_t)a1, &v51, v31);
        v32 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 592) + 8 * v29) + 8);
        v33 = v51;
      }
      else
      {
        *(_QWORD *)(*(_QWORD *)(a2 + 592) + 8 * v29) = heap_Calloc(v30, 1, 9);
        v34 = *(_DWORD **)(*(_QWORD *)(a2 + 592) + 8 * v29);
        if (!v34)
          goto LABEL_47;
        *v34 = *(_DWORD *)((char *)a1 + v23);
        v33 = v23 + 4;
        v32 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 592) + 8 * v29) + 4);
      }
      *v32 = *(_DWORD *)((char *)a1 + v33);
      v23 = v33 + 4;
      v51 = v33 + 4;
      ++v29;
    }
    while (v29 < *(unsigned __int16 *)(a2 + 608));
  }
  v35 = *(unsigned __int16 *)((char *)a1 + v23);
  *(_WORD *)(a2 + 632) = v35;
  v36 = (_DWORD *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (4 * v35) | 1);
  *(_QWORD *)(a2 + 624) = v36;
  if (!v36)
    goto LABEL_47;
  v37 = v23 + 2;
  v38 = *(unsigned __int16 *)(a2 + 632);
  if (*(_WORD *)(a2 + 632))
  {
    v39 = *(unsigned __int16 *)(a2 + 632);
    do
    {
      v40 = *(unsigned __int16 *)((char *)a1 + v37);
      v37 += 2;
      *v36++ = v40;
      --v39;
    }
    while (v39);
    v41 = (8 * v38) | 1;
  }
  else
  {
    v41 = 1;
  }
  v51 = v37;
  v42 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, v41);
  *(_QWORD *)(a2 + 616) = v42;
  if (v42)
  {
    if (*(_WORD *)(a2 + 632))
    {
      v43 = 0;
      do
      {
        v44 = *(_QWORD **)(*(_QWORD *)a2 + 8);
        if (*(_DWORD *)(*(_QWORD *)(a2 + 624) + 4 * v43) == 1)
        {
          *(_QWORD *)(*(_QWORD *)(a2 + 616) + 8 * v43) = heap_Calloc(v44, 1, 13);
          v45 = *(_QWORD *)(*(_QWORD *)(a2 + 616) + 8 * v43);
          if (!v45)
            goto LABEL_47;
          readREGEX((uint64_t)a1, &v51, v45);
          v46 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 616) + 8 * v43) + 8);
          v47 = v51;
        }
        else
        {
          *(_QWORD *)(*(_QWORD *)(a2 + 616) + 8 * v43) = heap_Calloc(v44, 1, 9);
          v48 = *(_DWORD **)(*(_QWORD *)(a2 + 616) + 8 * v43);
          if (!v48)
            goto LABEL_47;
          *v48 = *(_DWORD *)((char *)a1 + v37);
          v47 = v37 + 4;
          v46 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 616) + 8 * v43) + 4);
        }
        result = 0;
        *v46 = *(_DWORD *)((char *)a1 + v47);
        v37 = v47 + 4;
        v51 = v47 + 4;
        ++v43;
      }
      while (v43 < *(unsigned __int16 *)(a2 + 632));
    }
    else
    {
      return 0;
    }
  }
  else
  {
LABEL_47:
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v50);
    return 2315264010;
  }
  return result;
}

uint64_t readPhraseTypeCHUNK(unsigned __int16 *a1, uint64_t a2)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unint64_t v12;
  unsigned int v13;
  unint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unsigned int v17;
  uint64_t v18;
  uint64_t v19;
  unint64_t v20;
  uint64_t result;
  unsigned int v22;
  unsigned int v23;

  v4 = *a1;
  *(_WORD *)(a2 + 320) = v4;
  v5 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (16 * v4) | 1);
  *(_QWORD *)(a2 + 336) = v5;
  v10 = *(_QWORD *)a2;
  if (v5)
  {
    v11 = heap_Calloc(*(_QWORD **)(v10 + 8), 1, (4 * *(unsigned __int16 *)(a2 + 320)) | 1);
    *(_QWORD *)(a2 + 328) = v11;
    if (v11)
    {
      if (!*(_WORD *)(a2 + 320))
        return 0;
      v12 = 0;
      v13 = 2;
      do
      {
        *(_DWORD *)(*(_QWORD *)(a2 + 328) + 4 * v12) = *(_DWORD *)&a1[2 * v12 + 1];
        v13 += 4;
        ++v12;
        v14 = *(unsigned __int16 *)(a2 + 320);
      }
      while (v12 < v14);
      v23 = v13;
      if (!(_DWORD)v14)
        return 0;
      v15 = 0;
      v16 = *(_QWORD *)(a2 + 336);
      while (1)
      {
        v17 = v23;
        *(_WORD *)(v16 + 16 * v15) = *(unsigned __int16 *)((char *)a1 + v23);
        v23 = v17 + 2;
        v18 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (24 * *(unsigned __int16 *)(*(_QWORD *)(a2 + 336) + 16 * v15)) | 1);
        v16 = *(_QWORD *)(a2 + 336);
        *(_QWORD *)(v16 + 16 * v15 + 8) = v18;
        if (!v18)
          break;
        if (*(_WORD *)(v16 + 16 * v15))
        {
          v19 = 0;
          v20 = 0;
          do
          {
            result = readRULE(*(_QWORD *)a2, (uint64_t)a1, &v23, (uint64_t *)(*(_QWORD *)(v16 + 16 * v15 + 8) + v19));
            if ((result & 0x80000000) != 0)
              return result;
            ++v20;
            v16 = *(_QWORD *)(a2 + 336);
            v19 += 24;
          }
          while (v20 < *(unsigned __int16 *)(v16 + 16 * v15));
        }
        result = 0;
        if (++v15 >= (unint64_t)*(unsigned __int16 *)(a2 + 320))
          return result;
      }
    }
    v10 = *(_QWORD *)a2;
  }
  log_OutPublic(*(_QWORD *)(v10 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v22);
  return 2315264010;
}

uint64_t readMSCOMPOUNDDEFCHUNK(unsigned __int16 *a1, uint64_t a2)
{
  uint64_t v4;
  _DWORD *v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unsigned int v13;
  uint64_t v14;
  unint64_t v15;
  _QWORD *v16;
  uint64_t v17;
  _DWORD *v18;
  unsigned int v19;
  _DWORD *v20;
  unsigned int v22;
  unsigned int v23;

  v4 = *a1;
  *(_WORD *)(a2 + 360) = v4;
  v5 = (_DWORD *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (4 * v4) | 1);
  *(_QWORD *)(a2 + 352) = v5;
  if (!v5)
    goto LABEL_17;
  v10 = *(unsigned __int16 *)(a2 + 360);
  if (*(_WORD *)(a2 + 360))
  {
    v11 = 0;
    do
      *v5++ = a1[++v11];
    while (v10 != v11);
    v12 = (8 * v10) | 1;
    v13 = v11 * 2 + 2;
  }
  else
  {
    v13 = 2;
    v12 = 1;
  }
  v23 = v13;
  v14 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, v12);
  *(_QWORD *)(a2 + 344) = v14;
  if (v14)
  {
    if (*(_WORD *)(a2 + 360))
    {
      v15 = 0;
      do
      {
        v16 = *(_QWORD **)(*(_QWORD *)a2 + 8);
        if (*(_DWORD *)(*(_QWORD *)(a2 + 352) + 4 * v15) == 1)
        {
          *(_QWORD *)(*(_QWORD *)(a2 + 344) + 8 * v15) = heap_Calloc(v16, 1, 13);
          v17 = *(_QWORD *)(*(_QWORD *)(a2 + 344) + 8 * v15);
          if (!v17)
            goto LABEL_17;
          readREGEX((uint64_t)a1, &v23, v17);
          v18 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 344) + 8 * v15) + 8);
          v19 = v23;
        }
        else
        {
          *(_QWORD *)(*(_QWORD *)(a2 + 344) + 8 * v15) = heap_Calloc(v16, 1, 9);
          v20 = *(_DWORD **)(*(_QWORD *)(a2 + 344) + 8 * v15);
          if (!v20)
            goto LABEL_17;
          *v20 = *(_DWORD *)((char *)a1 + v13);
          v19 = v13 + 4;
          v18 = (_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 344) + 8 * v15) + 4);
        }
        *v18 = *(_DWORD *)((char *)a1 + v19);
        v13 = v19 + 4;
        v23 = v19 + 4;
        ++v15;
      }
      while (v15 < *(unsigned __int16 *)(a2 + 360));
    }
    return 0;
  }
  else
  {
LABEL_17:
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v22);
    return 2315264010;
  }
}

uint64_t getStrSetting(uint64_t a1, char *__s1)
{
  uint64_t v2;
  uint64_t v4;
  uint64_t v5;
  unsigned int *i;

  v2 = *(unsigned __int16 *)(a1 + 40);
  if (!*(_WORD *)(a1 + 40))
    return 0;
  v4 = *(_QWORD *)(a1 + 528);
  v5 = *(_QWORD *)(a1 + 536);
  for (i = (unsigned int *)(*(_QWORD *)(a1 + 32) + 4);
        strcmp(__s1, (const char *)(v4 + *(unsigned int *)(v5 + 4 * *(i - 1))));
        i += 2)
  {
    if (!--v2)
      return 0;
  }
  return v4 + *(unsigned int *)(v5 + 4 * *i);
}

uint64_t usePandP(uint64_t *a1, _DWORD *a2)
{
  char v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t result;
  int v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  char v13;
  int v14;
  int v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  char v19;
  int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  char *__s1;
  uint64_t v25;
  _OWORD v26[8];
  uint64_t v27;

  v27 = *MEMORY[0x1E0C80C00];
  __s1 = 0;
  v25 = 0;
  memset(v26, 0, sizeof(v26));
  *a2 = 0;
  v4 = 0;
  if ((paramc_ParamGetStr(a1[5], (uint64_t)"basicclcprosody", &__s1) & 0x80000000) == 0 && __s1)
  {
    if (!strcmp(__s1, "yes"))
    {
      log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"<%s> disables voice-dependent pandp rules", v5, v6, v7, (uint64_t)"basicclcprosody");
      v4 = 1;
    }
    else
    {
      v4 = 0;
    }
  }
  result = getBrokerString((uint64_t)a1, 1, (char *)v26);
  if ((result & 0x80000000) == 0)
  {
    v9 = brk_DataOpenEx(a1[3], (uint64_t)v26, 1, (uint64_t)&v25);
    if (v9 < 0)
      v13 = 1;
    else
      v13 = v4;
    if ((v13 & 1) == 0)
      goto LABEL_23;
    v14 = v9;
    log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Voice-dependent PandP rules not found or disabled", v10, v11, v12, 0);
    if ((v14 & 0x80000000) == 0)
    {
      result = brk_DataClose(a1[3], v25);
      if ((result & 0x80000000) != 0)
        return result;
    }
    result = getLegacyBrokerString((uint64_t)a1, (char *)v26);
    if ((result & 0x80000000) != 0)
      return result;
    v15 = brk_DataOpenEx(a1[3], (uint64_t)v26, 1, (uint64_t)&v25);
    v19 = v15 < 0 ? 1 : v4;
    if ((v19 & 1) == 0)
    {
LABEL_23:
      *a2 = 1;
      goto LABEL_24;
    }
    v20 = v15;
    log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Voice-dependent legacy PandP MS rules not found or disabled", v16, v17, v18, 0);
    if (v20 < 0 || (result = brk_DataClose(a1[3], v25), (result & 0x80000000) == 0))
    {
      result = getBrokerString((uint64_t)a1, 0, (char *)v26);
      if ((result & 0x80000000) == 0)
      {
        if ((brk_DataOpenEx(a1[3], (uint64_t)v26, 1, (uint64_t)&v25) & 0x80000000) != 0)
        {
          log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Voice-independent PandP rules not found", v21, v22, v23, 0);
          return 0;
        }
        *a2 = 1;
LABEL_24:
        result = brk_DataClose(a1[3], v25);
        if ((result & 0x80000000) != 0)
          return result;
        return 0;
      }
    }
  }
  return result;
}

uint64_t doMapStr(uint64_t a1, const char **a2, char *__s)
{
  size_t v6;
  char *v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unsigned int v14;

  v6 = strlen(__s);
  v7 = (char *)*a2;
  if (v6 <= strlen(*a2))
    goto LABEL_4;
  v8 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v7, (v6 + 1));
  if (v8)
  {
    v7 = (char *)v8;
    *a2 = (const char *)v8;
LABEL_4:
    strcpy(v7, __s);
    return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v9, v10, v11, v12, v14);
  return 2315264010;
}

uint64_t doRetagging(uint64_t a1, const char **a2, _WORD *a3, char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v15;
  uint64_t result;
  uint64_t v17;
  unint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unsigned __int16 v24;
  char *v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unsigned int v31;
  int v32;
  __int16 v33;
  _BYTE v34[6];
  int v35;

  *(_DWORD *)&v34[2] = 0;
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"applying %d retagging rules", a6, a7, a8, *(unsigned __int16 *)(a6 + 88));
  if (!*(_WORD *)(a7 + 8))
    return 0;
  v15 = 0;
  result = 0;
  while (!*(_WORD *)(a6 + 88))
  {
LABEL_13:
    if (++v15 >= (unint64_t)*(unsigned __int16 *)(a7 + 8))
      return result;
  }
  v17 = 0;
  v18 = 0;
  while (1)
  {
    v33 = v15;
    v32 = 3;
    *(_DWORD *)v34 = 0;
    v19 = *(_QWORD *)(a6 + 80);
    v35 = 0;
    result = matchPANDPRULE_TRule(a1, a2, a3, a4, a6, a7, v19 + v17 + 8, (uint64_t)&v32, &v35);
    if ((result & 0x80000000) != 0)
      return result;
    if (v35)
    {
      if (v35 != 1)
        goto LABEL_13;
      log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"FIRED RETAGGING RULE %d RETAG POS %s to %s on word[%d]=%s", v20, v21, v22, v18);
      v23 = 224 * v15;
      result = doMapStr(a5, (const char **)(*(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 16) + 8 * *(unsigned __int16 *)(a6 + 18)), (char *)(*(_QWORD *)(a6 + 528)+ *(unsigned int *)(*(_QWORD *)(a6 + 536) + 4 * *(unsigned int *)(*(_QWORD *)(a6 + 80) + v17))));
      if ((result & 0x80000000) == 0)
      {
        v24 = strlen(*(const char **)(*(_QWORD *)(*(_QWORD *)a7 + v23 + 16) + 8 * *(unsigned __int16 *)(a6 + 18)));
        v25 = (char *)heap_Calloc(*(_QWORD **)(a5 + 8), 1, v24 + 1);
        v30 = *(_QWORD *)a7;
        *(_QWORD *)(*(_QWORD *)a7 + v23 + 88) = v25;
        if (v25)
        {
          strcpy(v25, *(const char **)(*(_QWORD *)(v30 + 224 * v15 + 16) + 8 * *(unsigned __int16 *)(a6 + 18)));
          result = 0;
          goto LABEL_13;
        }
        log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v26, v27, v28, v29, v31);
        return 2315264010;
      }
      return result;
    }
    ++v18;
    v17 += 32;
    if (v18 >= *(unsigned __int16 *)(a6 + 88))
      goto LABEL_13;
  }
}

uint64_t doSubtagging(uint64_t a1, const char **a2, _WORD *a3, char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v15;
  uint64_t result;
  uint64_t v17;
  unint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unsigned __int16 v26;
  char *v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unsigned int v34;
  uint64_t v35;
  int v36;
  __int16 v37;
  _BYTE v38[6];
  int v39;

  *(_DWORD *)&v38[2] = 0;
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"applying %d subtagging rules", a6, a7, a8, *(unsigned __int16 *)(a6 + 104));
  if (!*(_WORD *)(a7 + 8))
    return 0;
  v35 = a5;
  v15 = 0;
  result = 0;
  while (!*(_WORD *)(a6 + 104))
  {
LABEL_15:
    if (++v15 >= (unint64_t)*(unsigned __int16 *)(a7 + 8))
      return result;
  }
  v17 = 0;
  v18 = 0;
  while (1)
  {
    v37 = v15;
    v36 = 3;
    *(_DWORD *)v38 = 0;
    v19 = *(_QWORD *)(a6 + 96);
    v39 = 0;
    result = matchPANDPRULE_TRule(a1, a2, a3, a4, a6, a7, v19 + v17 + 8, (uint64_t)&v36, &v39);
    if ((result & 0x80000000) != 0)
      return result;
    if (v39)
    {
      if (v39 != 1)
        goto LABEL_15;
      v33 = v18;
      v23 = v35;
      log_OutText(*(_QWORD *)(v35 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"FIRED SUBTAGGING RULE %d RETAG POS %s to %s on word[%d]=%s", v20, v21, v22, v33);
      v24 = *(_QWORD *)a7;
      v25 = *(_QWORD *)a7 + 224 * v15;
      if (!*(_QWORD *)(v25 + 88))
      {
        v26 = strlen(*(const char **)(*(_QWORD *)(v25 + 16) + 8 * *(unsigned __int16 *)(a6 + 18)));
        v27 = (char *)heap_Calloc(*(_QWORD **)(v35 + 8), 1, v26 + 1);
        v32 = *(_QWORD *)a7;
        *(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 88) = v27;
        if (!v27)
        {
          log_OutPublic(*(_QWORD *)(v35 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v28, v29, v30, v31, v34);
          return 2315264010;
        }
        strcpy(v27, *(const char **)(*(_QWORD *)(v32 + 224 * v15 + 16) + 8 * *(unsigned __int16 *)(a6 + 18)));
        v24 = *(_QWORD *)a7;
        v23 = v35;
      }
      result = doMapStr(v23, (const char **)(*(_QWORD *)(v24 + 224 * v15 + 16) + 8 * *(unsigned __int16 *)(a6 + 18)), (char *)(*(_QWORD *)(a6 + 528)+ *(unsigned int *)(*(_QWORD *)(a6 + 536) + 4 * *(unsigned int *)(*(_QWORD *)(a6 + 96) + v17))));
      if ((result & 0x80000000) != 0)
        return result;
      result = 0;
      goto LABEL_15;
    }
    ++v18;
    v17 += 32;
    if (v18 >= *(unsigned __int16 *)(a6 + 104))
      goto LABEL_15;
  }
}

uint64_t setPhraseType(uint64_t a1, const char **a2, _WORD *a3, char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t matched;
  uint64_t v26;
  unint64_t v27;
  uint64_t v28;
  unint64_t v29;
  int v31;
  char *v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  unsigned int v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  int v41;
  int v42;

  *(_QWORD *)(a7 + 32) = a8;
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  Using ORT \"%s\"", a6, a7, a8, a8);
  v39 = a7;
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  Using POS \"%s\"", v15, v16, v17, *(_QWORD *)(a7 + 16));
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  applying %d phrase type rules", v18, v19, v20, *(unsigned __int16 *)(a6 + 320));
  if (!*(_WORD *)(a6 + 320))
    return 0;
  v38 = a5;
  v24 = 0;
  matched = 0;
  v41 = 0;
  while (1)
  {
    v40 = 5;
    LOWORD(v41) = 0;
    v42 = 1;
    v26 = *(_QWORD *)(a6 + 336);
    v27 = *(unsigned __int16 *)(v26 + 16 * v24);
    if (*(_WORD *)(v26 + 16 * v24))
      break;
    LOWORD(v29) = 0;
LABEL_10:
    if ((_DWORD)v27 == (unsigned __int16)v29)
    {
      log_OutText(*(_QWORD *)(v38 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"ALL %d RULES FIRE -> SET Phrase type %s", v21, v22, v23, v27);
      v31 = strlen((const char *)(*(_QWORD *)(a6 + 528)
                                + *(unsigned int *)(*(_QWORD *)(a6 + 536)
                                                  + 4 * *(unsigned int *)(*(_QWORD *)(a6 + 328) + 4 * v24))));
      v32 = (char *)heap_Calloc(*(_QWORD **)(v38 + 8), 1, (v31 + 1));
      *(_QWORD *)(v39 + 40) = v32;
      if (v32)
      {
        strcpy(v32, (const char *)(*(_QWORD *)(a6 + 528)+ *(unsigned int *)(*(_QWORD *)(a6 + 536)+ 4 * *(unsigned int *)(*(_QWORD *)(a6 + 328) + 4 * v24))));
      }
      else
      {
        log_OutPublic(*(_QWORD *)(v38 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v33, v34, v35, v36, v37);
        return 2315264010;
      }
      return matched;
    }
LABEL_12:
    if (++v24 >= (unint64_t)*(unsigned __int16 *)(a6 + 320))
      return matched;
  }
  v28 = 0;
  v29 = 0;
  while (1)
  {
    matched = matchPANDPRULE_TRule(a1, a2, a3, a4, a6, v39, *(_QWORD *)(v26 + 16 * v24 + 8) + v28, (uint64_t)&v40, &v42);
    if ((matched & 0x80000000) != 0)
      return matched;
    if (v42 != 1)
      goto LABEL_12;
    ++v29;
    v26 = *(_QWORD *)(a6 + 336);
    v27 = *(unsigned __int16 *)(v26 + 16 * v24);
    v28 += 24;
    if (v29 >= v27)
      goto LABEL_10;
  }
}

uint64_t getDomainFromPausingDefs(uint64_t a1, char *__s1, _WORD *a3)
{
  uint64_t v3;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  unsigned int *v9;
  unsigned int v10;

  v3 = *(unsigned __int16 *)(a1 + 56);
  if (!*(_WORD *)(a1 + 56))
    return 0;
  v6 = 0;
  v7 = *(_QWORD *)(a1 + 528);
  v8 = *(_QWORD *)(a1 + 536);
  v9 = *(unsigned int **)(a1 + 48);
  while (1)
  {
    v10 = *v9;
    v9 += 2;
    if (!strcmp(__s1, (const char *)(v7 + *(unsigned int *)(v8 + 4 * v10))))
      break;
    if (v3 == ++v6)
      return 0;
  }
  *a3 = v6;
  return 1;
}

uint64_t createLists(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  unsigned __int16 v3;
  uint64_t v5;
  unsigned __int16 v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unint64_t v17;
  uint64_t v18;
  unsigned int v19;
  unsigned int v20;
  uint64_t v21;
  int v22;
  unsigned int v23;
  uint64_t v24;
  const char *v25;
  uint64_t v26;
  const char *v27;
  _BYTE *v28;
  uint64_t v29;
  unsigned int v30;
  unsigned int v31;
  uint64_t v32;
  const char *v33;
  uint64_t v34;
  const char *v35;

  v3 = *((_WORD *)a3 + 4);
  if (!v3)
    return 0;
  v5 = a2;
  v6 = 0;
  v7 = *(unsigned __int16 *)(a2 + 24);
  v8 = *a3;
  v9 = 32 * v7;
  while (1)
  {
    v10 = v6;
    v11 = *(_QWORD *)(v8 + 224 * v6 + 56);
    if (v11)
    {
      if (*(_DWORD *)(v11 + v9) == 1)
        break;
    }
LABEL_33:
    if (++v6 >= v3)
      return 0;
  }
  v12 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (8 * *(unsigned __int16 *)(v5 + 72)) | 1);
  v8 = *a3;
  *(_QWORD *)(*a3 + 224 * v10 + 64) = v12;
  if (v12)
  {
    if (*(_WORD *)(v5 + 72))
    {
      v17 = 0;
      do
      {
        v18 = *(_QWORD *)(v8 + 224 * v10 + 56) + 32 * v7;
        v19 = *(unsigned __int16 *)(v18 + 8);
        v20 = *(unsigned __int16 *)(v18 + 10);
        if (v19 > v20)
          goto LABEL_30;
        v21 = v5;
        v22 = 0;
        do
        {
          v23 = (unsigned __int16)v19;
          v24 = *(_QWORD *)(v8 + 224 * (unsigned __int16)v19 + 16);
          if (v24)
          {
            v25 = *(const char **)(v24 + 8 * v17);
            if (v25)
              v22 += strlen(v25) + 1;
          }
          v26 = *(_QWORD *)(v8 + 224 * v23 + 56);
          if (v26)
          {
            v27 = *(const char **)(v26 + 32 * v17 + 16);
            if (v27)
            {
              if (*(_DWORD *)(v26 + 32 * v17) == 1)
                v22 += strlen(v27) + 1;
            }
          }
          LOWORD(v19) = v23 + 1;
        }
        while (v20 >= (unsigned __int16)(v23 + 1));
        v5 = v21;
        if ((_WORD)v22)
        {
          v28 = (_BYTE *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (unsigned __int16)v22 + 2);
          *(_QWORD *)(*(_QWORD *)(*a3 + 224 * v10 + 64) + 8 * v17) = v28;
          if (!v28)
            goto LABEL_35;
          *v28 = 0;
          v8 = *a3;
          v29 = *(_QWORD *)(*a3 + 224 * v10 + 56) + 32 * v7;
          v30 = *(unsigned __int16 *)(v29 + 8);
          if (v30 <= *(unsigned __int16 *)(v29 + 10))
          {
            do
            {
              v31 = (unsigned __int16)v30;
              v32 = *(_QWORD *)(v8 + 224 * (unsigned __int16)v30 + 16);
              if (v32)
              {
                v33 = *(const char **)(v32 + 8 * v17);
                if (v33)
                {
                  strcat(*(char **)(*(_QWORD *)(v8 + 224 * v10 + 64) + 8 * v17), v33);
                  *(_WORD *)(*(_QWORD *)(*(_QWORD *)(*a3 + 224 * v10 + 64) + 8 * v17)
                           + strlen(*(const char **)(*(_QWORD *)(*a3 + 224 * v10 + 64) + 8 * v17))) = 32;
                  v8 = *a3;
                }
              }
              v34 = *(_QWORD *)(v8 + 224 * v31 + 56);
              if (v34)
              {
                v35 = *(const char **)(v34 + 32 * v17 + 16);
                if (v35)
                {
                  if (*(_DWORD *)(v34 + 32 * v17) == 1)
                  {
                    strcat(*(char **)(*(_QWORD *)(v8 + 224 * v10 + 64) + 8 * v17), v35);
                    *(_WORD *)(*(_QWORD *)(*(_QWORD *)(*a3 + 224 * v10 + 64) + 8 * v17)
                             + strlen(*(const char **)(*(_QWORD *)(*a3 + 224 * v10 + 64) + 8 * v17))) = 32;
                    v8 = *a3;
                  }
                }
              }
              LOWORD(v30) = v31 + 1;
            }
            while (*(unsigned __int16 *)(*(_QWORD *)(v8 + 224 * v10 + 56) + 32 * v7 + 10) >= (unsigned __int16)(v31 + 1));
          }
        }
        else
        {
LABEL_30:
          *(_QWORD *)(*(_QWORD *)(v8 + 224 * v10 + 64) + 8 * v17) = 0;
        }
        ++v17;
      }
      while (v17 < *(unsigned __int16 *)(v5 + 72));
    }
    v6 = *(_WORD *)(*(_QWORD *)(v8 + 224 * v10 + 56) + 32 * v7 + 10);
    v3 = *((_WORD *)a3 + 4);
    v9 = 32 * v7;
    goto LABEL_33;
  }
LABEL_35:
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v13, v14, v15, v16, 32 * v7);
  return 2315264010;
}

BOOL isStrSetting(uint64_t a1, char *__s1, const char *a3)
{
  uint64_t v3;
  uint64_t v6;
  uint64_t v7;
  unsigned int *i;

  v3 = *(unsigned __int16 *)(a1 + 40);
  if (!*(_WORD *)(a1 + 40))
    return 0;
  v6 = *(_QWORD *)(a1 + 528);
  v7 = *(_QWORD *)(a1 + 536);
  for (i = (unsigned int *)(*(_QWORD *)(a1 + 32) + 4);
        strcmp(__s1, (const char *)(v6 + *(unsigned int *)(v7 + 4 * *(i - 1))));
        i += 2)
  {
    if (!--v3)
      return 0;
  }
  return strcmp(a3, (const char *)(v6 + *(unsigned int *)(v7 + 4 * *i))) == 0;
}

uint64_t adjustWordIdxByWindow(unsigned __int16 *a1, uint64_t *a2, unsigned __int16 *a3, int a4, _DWORD *a5, unsigned __int16 *a6, uint64_t a7, uint64_t a8)
{
  uint64_t v8;
  int v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t result;
  unsigned int v15;
  uint64_t v16;
  const char *v17;
  int v18;
  unsigned __int16 v19;
  uint64_t v20;
  uint64_t v21;
  const char *v22;
  int v23;
  unsigned __int16 v24;
  unsigned __int16 v25;
  uint64_t v26;

  *a5 = 1;
  v8 = *a2;
  v9 = a3[2];
  v10 = *(_QWORD *)(*a2 + 224 * a3[2] + 56);
  if (!v10 || (v11 = a1[12], !*(_DWORD *)(v10 + 32 * v11)))
  {
    result = 0;
    *a5 = 0;
    return result;
  }
  if (a4 == 2)
  {
    v15 = *((unsigned __int16 *)a2 + 4);
    if (v9 + 1 == v15)
    {
      *a5 = 0;
      if (a1[4] >= 2u)
      {
        v16 = *(_QWORD *)(*(_QWORD *)a1 + 32);
        v17 = "           [1] _RIGHT doesnt exist, return LH_FALSE";
LABEL_38:
        log_OutText(v16, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)v17, (uint64_t)a6, a7, a8, 0);
LABEL_39:
        LOWORD(v9) = a3[2];
      }
    }
    else
    {
      v23 = a3[4] + 1;
      v24 = a3[2];
      if ((v23 & 0x10000) != 0)
      {
LABEL_21:
        if (v15 > v24)
        {
          *a6 = v24;
          if (a1[4] >= 2u)
          {
            v20 = *(_QWORD *)(*(_QWORD *)a1 + 32);
            v21 = a3[2];
            v22 = "           [3] _RIGHT wordIdx=%d";
            goto LABEL_24;
          }
          return 0;
        }
      }
      else
      {
        v24 = a3[2];
        while (v15 > v24)
        {
          v24 = *(_WORD *)(*(_QWORD *)(v8 + 224 * v24 + 56) + 32 * v11 + 10) + 1;
          if (!(_WORD)--v23)
            goto LABEL_21;
        }
      }
      *a5 = 0;
      if (a1[4] >= 2u)
      {
        v16 = *(_QWORD *)(*(_QWORD *)a1 + 32);
        v17 = "           [2] _RIGHT doesnt exist, return LH_FALSE";
        goto LABEL_38;
      }
    }
LABEL_40:
    result = 0;
    *a6 = v9;
    return result;
  }
  if (a4 != 1)
  {
    if (a4 || a1[4] < 2u)
      goto LABEL_40;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           _CUR wordIdx=%d", (uint64_t)a6, a7, a8, a3[2]);
    goto LABEL_39;
  }
  if (a3[2])
  {
    v18 = a3[3] + 1;
    if ((v18 & 0x10000) == 0)
    {
      v19 = a3[2];
      do
      {
        v25 = v19 - 1;
        v26 = *(_QWORD *)(v8 + 224 * v25 + 56) + 32 * v11;
        if (!*(_DWORD *)(v26 + 4))
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"wordindex=%d does not end previous phrase", (uint64_t)a6, a7, a8, v25);
          return 2315264000;
        }
        v19 = *(_WORD *)(v26 + 8);
        --v18;
      }
      while ((_WORD)v18 && *(_WORD *)(v26 + 8));
      if (!(_WORD)v18)
        goto LABEL_15;
      *a5 = 0;
      if (a1[4] >= 2u)
      {
        v16 = *(_QWORD *)(*(_QWORD *)a1 + 32);
        v17 = "           [2] _LEFT doesnt exist, return LH_FALSE";
        goto LABEL_38;
      }
      goto LABEL_40;
    }
    v19 = a3[2];
LABEL_15:
    *a6 = v19;
    if (a1[4] >= 2u)
    {
      v20 = *(_QWORD *)(*(_QWORD *)a1 + 32);
      v21 = a3[2];
      v22 = "           [3] _LEFT wordIdx=%d";
LABEL_24:
      log_OutText(v20, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)v22, (uint64_t)a6, a7, a8, v21);
      return 0;
    }
    return 0;
  }
  *a5 = 0;
  if (a1[4] >= 2u)
  {
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           [1] _LEFT doesnt exist, return LH_FALSE", (uint64_t)a6, a7, a8, 0);
    LOWORD(v9) = a3[2];
  }
  result = 0;
  *a6 = v9;
  return result;
}

_WORD *readSTR2NUMRULE(uint64_t a1, unsigned int *a2, _DWORD *a3)
{
  _WORD *v3;
  unsigned int v4;
  unsigned int v5;
  __int16 v6;

  *a3 = *(_DWORD *)(a1 + *a2);
  v3 = a3 + 1;
  v4 = *a2;
  v5 = *a2 + 4;
  *a2 = v5;
  LOWORD(v5) = *(_WORD *)(a1 + v5);
  *a2 = v4 + 6;
  v6 = *(_WORD *)(a1 + v4 + 6);
  *a2 = v4 + 8;
  return FLOATSUR_SET_INT(v3, v5, v6);
}

uint64_t readRULE(uint64_t a1, uint64_t a2, unsigned int *a3, uint64_t *a4)
{
  uint64_t result;

  result = readCONTEXT(a1, a2, a3, a4);
  if ((result & 0x80000000) == 0)
  {
    result = readCONTEXT(a1, a2, a3, a4 + 1);
    if ((result & 0x80000000) == 0)
      return readCONTEXT(a1, a2, a3, a4 + 2);
  }
  return result;
}

uint64_t readCONTEXT(uint64_t a1, uint64_t a2, unsigned int *a3, uint64_t *a4)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unint64_t v18;
  unsigned int v19;
  unsigned int v20;
  unsigned int v21;
  unsigned int v22;
  uint64_t v23;
  unsigned int v25;

  v4 = *a3;
  v5 = *(unsigned __int16 *)(a2 + v4);
  *a3 = v4 + 2;
  if (!v5)
    return 0;
  v10 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 17);
  if (v10
    && (v15 = v10,
        *(_WORD *)(v10 + 8) = v5,
        v16 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (6 * v5) | 1),
        (*(_QWORD *)v15 = v16) != 0))
  {
    if (*(_WORD *)(v15 + 8))
    {
      v17 = 0;
      v18 = 0;
      v19 = *a3;
      do
      {
        *(_WORD *)(v16 + v17) = *(_WORD *)(a2 + v19);
        v20 = *a3 + 2;
        *a3 = v20;
        *(_WORD *)(*(_QWORD *)v15 + v17 + 2) = *(_WORD *)(a2 + v20);
        v21 = *a3;
        v22 = *a3 + 2;
        *a3 = v22;
        LOBYTE(v22) = *(_BYTE *)(a2 + v22);
        v19 = v21 + 4;
        *a3 = v19;
        v16 = *(_QWORD *)v15;
        *(_BYTE *)(*(_QWORD *)v15 + v17 + 4) = v22;
        ++v18;
        v17 += 6;
      }
      while (v18 < *(unsigned __int16 *)(v15 + 8));
    }
    v23 = 0;
    *a4 = v15;
  }
  else
  {
    v23 = 2315264010;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v11, v12, v13, v14, v25);
  }
  return v23;
}

uint64_t readREGEX(uint64_t result, unsigned int *a2, uint64_t a3)
{
  unsigned int v3;
  unsigned int v4;
  unsigned int v5;

  *(_WORD *)a3 = *(_WORD *)(result + *a2);
  v3 = *a2 + 2;
  *a2 = v3;
  *(_WORD *)(a3 + 2) = *(_WORD *)(result + v3);
  v4 = *a2;
  v5 = *a2 + 2;
  *a2 = v5;
  LOBYTE(v5) = *(_BYTE *)(result + v5);
  *a2 = v4 + 4;
  *(_BYTE *)(a3 + 4) = v5;
  return result;
}

uint64_t nn_phrasing_checkIfActive(_WORD *a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t BrokerString;
  char *v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  _QWORD *v19;
  char *v20;

  v19 = 0;
  v20 = 0;
  *a4 = 0;
  BrokerString = nn_phrasing_getBrokerString(a3, &v20);
  if ((BrokerString & 0x80000000) != 0)
    return BrokerString;
  v9 = v20;
  if ((ssftriff_reader_ObjOpen(a1, a2, 2, v20, "FINN", 1, (uint64_t *)&v19) & 0x80000000) != 0)
  {
    v17 = 0;
    if (!v9)
      return v17;
LABEL_9:
    heap_Free(*(_QWORD **)(a3 + 8), (uint64_t)v9);
    return v17;
  }
  v17 = ssftriff_reader_ObjClose(v19, v10, v11, v12, v13, v14, v15, v16);
  if ((v17 & 0x80000000) == 0)
    *a4 = 1;
  if (v9)
    goto LABEL_9;
  return v17;
}

uint64_t nn_phrasing_getBrokerString(uint64_t a1, char **a2)
{
  uint64_t result;
  char *v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  unsigned int v10;
  char *v11;
  int v12[2];
  _OWORD v13[8];
  uint64_t v14;

  v14 = *MEMORY[0x1E0C80C00];
  v11 = &byte_1DEBD87CE;
  *(_QWORD *)v12 = 0;
  memset(v13, 0, sizeof(v13));
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", v12);
  if ((result & 0x80000000) == 0)
  {
    result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"fecfg", &v11);
    if ((result & 0x80000000) == 0)
    {
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      v5 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 1024);
      *a2 = v5;
      if (v5)
      {
        return brokeraux_ComposeBrokerString(a1, (const char *)v13, 1, 1, *(char **)v12, 0, 0, v5, 0x400uLL);
      }
      else
      {
        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v6, v7, v8, v9, v10);
        return 2315264010;
      }
    }
  }
  return result;
}

uint64_t nn_phrasing_Load(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unsigned __int16 *a9)
{
  uint64_t NumericFeatureValue;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t *v53;
  uint64_t v54;
  char *v55;
  char *v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  char *v62;
  char *v63;
  char *v64;
  uint64_t *v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  int v71;
  uint64_t v72;
  uint64_t *v73;
  int v74;
  char *v75;
  _QWORD *v76;
  char *v77;
  char *v78;
  char *v79;
  char *v80;
  unsigned __int16 v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  unsigned int v85;
  uint64_t v86;
  uint64_t v87;
  unint64_t v88;
  uint64_t v89;
  uint64_t ReadOnly;
  uint64_t v91;
  uint64_t v92;
  uint64_t v93;
  uint64_t v94;
  __int16 v95;
  uint64_t v96;
  uint64_t v97;
  _DWORD *v98;
  uint64_t v99;
  uint64_t v100;
  uint64_t v101;
  uint64_t v102;
  uint64_t v103;
  uint64_t v104;
  uint64_t v105;
  uint64_t v106;
  uint64_t BrokerString;
  char *v108;
  uint64_t v109;
  uint64_t v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  int v115;
  unsigned int v116;
  uint64_t v117;
  uint64_t v118;
  uint64_t v119;
  uint64_t v120;
  uint64_t v121;
  unsigned int v123;
  unsigned int v124;
  unsigned int v125;
  uint64_t v126;
  uint64_t v127;
  _BYTE *v128;
  _BYTE *v129;
  char *v130;
  char *__s;
  char *__s1;
  int v133;
  int v134[2];
  uint64_t v135;
  uint64_t *v136;
  _WORD *v137;
  unsigned __int16 *v138;
  unsigned __int16 *v139;
  uint64_t *v140;
  char *v141;
  __int128 v142;
  uint64_t (*v143)(const char *, const char *);
  uint64_t (*v144)(const char *, uint64_t, char **);
  _QWORD *(*v145)(_QWORD *, _QWORD *);
  const char *v146;
  char v147[4];
  unsigned __int8 v148;
  __int16 v149;
  char **v150;
  char v151[10];
  _BYTE v152[15];
  _BYTE v153[33];

  *(_QWORD *)&v153[17] = *MEMORY[0x1E0C80C00];
  v141 = 0;
  *((_OWORD *)a9 + 7) = 0u;
  *((_OWORD *)a9 + 8) = 0u;
  *((_OWORD *)a9 + 5) = 0u;
  *((_OWORD *)a9 + 6) = 0u;
  *((_OWORD *)a9 + 3) = 0u;
  *((_OWORD *)a9 + 4) = 0u;
  *((_OWORD *)a9 + 1) = 0u;
  *((_OWORD *)a9 + 2) = 0u;
  *(_OWORD *)a9 = 0u;
  v150 = 0;
  v149 = -1;
  v148 = 0;
  v146 = 0;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_puncpause", a9);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_resppause", a9 + 1);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  v139 = a9 + 2;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_numadditionalfields", a9 + 2);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  v138 = a9 + 3;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_maxwordsinsent", a9 + 3);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_thresholdpercent", a9 + 4);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  v137 = a9 + 5;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_numfeats", a9 + 5);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_dolenverification", a9 + 8);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_dophrverification", a9 + 7);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_docompverification", a9 + 6);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  NumericFeatureValue = getNumericFeatureValue(a6, a7, a8, (uint64_t)"nnpausing_usedynamicstep", a9 + 9);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  v140 = 0;
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_puncpause %d", v18, v19, v20, *a9);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_resppause %d", v21, v22, v23, a9[1]);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_numadditionalfields %d", v24, v25, v26, a9[2]);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_maxwordsinsent %d", v27, v28, v29, a9[3]);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_thresholdpercent %d", v30, v31, v32, a9[4]);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_numfeats %d", v33, v34, v35, a9[5]);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_dolenverification %d", v36, v37, v38, a9[8]);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_dophrverification %d", v39, v40, v41, a9[7]);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_docompverification %d", v42, v43, v44, a9[6]);
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"nnpausing_usedynamicstep %d", v45, v46, v47, a9[9]);
  if (a9[5])
  {
    v48 = heap_Calloc(*(_QWORD **)(a5 + 8), 1, 32 * a9[5]);
    *((_QWORD *)a9 + 4) = v48;
    if (!v48)
    {
      v86 = 2315264010;
      log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v49, v50, v51, v52, v123);
      return v86;
    }
    if (*v137)
    {
      v53 = 0;
      v54 = 0;
      v133 = 0;
      v128 = v153;
      v129 = &v152[9];
      strcpy((char *)&v126, "ng_feat");
      v127 = *(_QWORD *)"nnpausing_feat";
      *(_QWORD *)v134 = a5;
      while (1)
      {
        v135 = v54;
        v136 = v53;
        *(_QWORD *)v128 = 0;
        *((_QWORD *)v128 + 1) = 0;
        v128[16] = 0;
        *(_QWORD *)v152 = v127;
        *(_QWORD *)&v152[7] = v126;
        LH_itoa(v54, v147, 0xAu);
        __strcat_chk();
        v149 = -1;
        NumericFeatureValue = (*(uint64_t (**)(uint64_t, uint64_t, const char *, _BYTE *, char ***, __int16 *, unsigned __int8 *))(a6 + 96))(a7, a8, "fecfg", v152, &v150, &v149, &v148);
        if ((NumericFeatureValue & 0x80000000) != 0)
          return NumericFeatureValue;
        if (v149)
          break;
        v65 = v136;
LABEL_34:
        v54 = v135 + 1;
        v53 = v65 + 4;
        if (v135 + 1 >= (unint64_t)(unsigned __int16)*v137)
          goto LABEL_35;
      }
      v55 = *v150;
      v56 = strchr(*v150, 124);
      if (v56)
      {
        *v56 = 0;
        __s1 = v56 + 1;
        v62 = strchr(v56 + 1, 124);
        if (v62)
        {
          *v62 = 0;
          __s = v62 + 1;
          v63 = strchr(v62 + 1, 124);
          if (v63)
          {
            *v63 = 0;
            v130 = v63 + 1;
            v64 = strchr(v63 + 1, v148);
            if (v64)
              *v64 = 0;
LABEL_26:
            NumericFeatureValue = setStr(a5, (char **)((char *)v136 + *((_QWORD *)a9 + 4)), v55, v57, v58, v59, v60, v61);
            if ((NumericFeatureValue & 0x80000000) != 0)
              return NumericFeatureValue;
            if (__s1)
            {
              v71 = strcmp(__s1, "NUMERIC");
              v72 = *((_QWORD *)a9 + 4);
              if (!v71)
              {
                v73 = v136;
                *(_DWORD *)((char *)v136 + v72 + 8) = 1;
LABEL_32:
                NumericFeatureValue = setStr(*(uint64_t *)v134, (char **)((char *)v73 + v72 + 16), __s, v66, v67, v68, v69, v70);
                if ((NumericFeatureValue & 0x80000000) != 0)
                  return NumericFeatureValue;
                v74 = atoi(v130);
                v75 = (char *)v73 + *((_QWORD *)a9 + 4);
                *((_WORD *)v75 + 13) = v74;
                *((_WORD *)v75 + 14) = v133;
                v133 += v74;
                v65 = v73;
                a5 = *(_QWORD *)v134;
                goto LABEL_34;
              }
            }
            else
            {
              v72 = *((_QWORD *)a9 + 4);
            }
            v73 = v136;
            goto LABEL_32;
          }
LABEL_25:
          v130 = 0;
          goto LABEL_26;
        }
      }
      else
      {
        __s1 = 0;
      }
      __s = 0;
      goto LABEL_25;
    }
LABEL_35:
    v76 = *(_QWORD **)(a5 + 8);
    *(_QWORD *)&v142 = ssftmap_ElemCopyString;
    *((_QWORD *)&v142 + 1) = ssftmap_ElemFreeString;
    v143 = ssftmap_ElemCompareKeysString;
    v144 = ssftmap_ElemCopyString;
    v145 = ssftmap_ElemFreeString;
    v136 = (uint64_t *)(a9 + 12);
    NumericFeatureValue = ssftmap_ObjOpen(v76, 0, &v142, (uint64_t *)a9 + 3);
    if ((NumericFeatureValue & 0x80000000) != 0)
      return NumericFeatureValue;
    v149 = -1;
    NumericFeatureValue = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, char ***, __int16 *, unsigned __int8 *))(a6 + 96))(a7, a8, "fecfg", "nnpausing_cols", &v150, &v149, &v148);
    if ((NumericFeatureValue & 0x80000000) != 0)
      return NumericFeatureValue;
    if (v149)
    {
      v77 = *v150;
      v78 = strchr(*v150, v148);
      if (v78)
      {
        *v78 = 0;
        v77 = *v150;
      }
      v79 = strchr(v77, 124);
      if (v79)
      {
        v80 = v79;
        v81 = 0;
        while (1)
        {
          *v80 = 0;
          LH_itoa(v81, v151, 0xAu);
          log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Feature to index mappings %s -> %s", v82, v83, v84, (uint64_t)v77);
          NumericFeatureValue = ssftmap_Insert(*v136, (uint64_t)v77, (uint64_t)v151);
          if ((NumericFeatureValue & 0x80000000) != 0)
            return NumericFeatureValue;
          ++v81;
          v77 = v80 + 1;
          v80 = strchr(v80 + 1, 124);
          if (!v80)
          {
            v85 = v81;
            goto LABEL_48;
          }
        }
      }
      if (v77)
      {
        v85 = 0;
LABEL_48:
        LH_itoa(v85, v151, 0xAu);
        NumericFeatureValue = ssftmap_Insert(*v136, (uint64_t)v77, (uint64_t)v151);
        if ((NumericFeatureValue & 0x80000000) != 0)
          return NumericFeatureValue;
      }
    }
    if (*v137)
    {
      v87 = 0;
      v88 = 0;
      v89 = *((_QWORD *)a9 + 4);
      do
      {
        ReadOnly = ssftmap_FindReadOnly(*v136, *(_QWORD *)(v89 + v87 + 16), &v146);
        if ((ReadOnly & 0x1FFF) == 0x14)
        {
          log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37005, "%s%s", v91, v92, v93, v94, "expected default value for");
          return 2315264000;
        }
        v86 = ReadOnly;
        v95 = atoi(v146);
        v89 = *((_QWORD *)a9 + 4);
        *(_WORD *)(v89 + v87 + 24) = v95;
        ++v88;
        v87 += 32;
      }
      while (v88 < a9[5]);
      if ((v86 & 0x80000000) != 0)
        return v86;
    }
  }
  NumericFeatureValue = nn_word_lkp_GetInterface(1u, (_QWORD *)a9 + 9);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  *((_QWORD *)a9 + 10) = safeh_GetNullHandle();
  *((_QWORD *)a9 + 11) = v96;
  *((_QWORD *)a9 + 12) = safeh_GetNullHandle();
  *((_QWORD *)a9 + 13) = v97;
  NumericFeatureValue = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _WORD *, uint64_t))(*((_QWORD *)a9 + 9)
                                                                                                  + 16))(*((_QWORD *)a9 + 10), *((_QWORD *)a9 + 11), "word", a1, a2);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  v98 = a9 + 56;
  NumericFeatureValue = (*(uint64_t (**)(_QWORD, _QWORD, unsigned __int16 *))(*((_QWORD *)a9 + 9) + 40))(*((_QWORD *)a9 + 12), *((_QWORD *)a9 + 13), a9 + 56);
  if ((NumericFeatureValue & 0x80000000) != 0)
    return NumericFeatureValue;
  log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"word2vec length %d", v99, v100, v101, *((unsigned int *)a9 + 28));
  v102 = heap_Alloc(*(_QWORD *)(a5 + 8), 4 * *((unsigned int *)a9 + 28));
  *((_QWORD *)a9 + 15) = v102;
  if (v102)
  {
    BrokerString = nn_phrasing_getBrokerString(a5, &v141);
    v108 = v141;
    if ((BrokerString & 0x80000000) != 0)
    {
      v86 = BrokerString;
    }
    else
    {
      v109 = fi_init(a1, a2, a3, a4, &v140, 0, (uint64_t)v141, (uint64_t)"FINN", 1, 0);
      if ((v109 & 0x80000000) != 0)
      {
        log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37006, 0, v110, v111, v112, v113, v125);
        v86 = 2315264000;
      }
      else
      {
        v86 = v109;
        v114 = *v140;
        v115 = *(_DWORD *)(*v140 + 52);
        if (a9[9])
        {
          if (v115 == 2 && *(_DWORD *)(v114 + 60) == *v98 + *v139)
          {
            v116 = *v138;
            goto LABEL_64;
          }
          log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37003, "%s%d%s%d", v110, v111, v112, v113, "expected");
        }
        else
        {
          v116 = *v138;
          if (v115 == 2 && *(_DWORD *)(v114 + 56) == v116 && *(_DWORD *)(v114 + 60) == *v98 + *v139)
          {
LABEL_64:
            *((_QWORD *)a9 + 6) = v140;
            v117 = heap_Calloc(*(_QWORD **)(a5 + 8), 1, (12 * v116) | 1);
            *((_QWORD *)a9 + 16) = v117;
            if (!v117)
            {
              v86 = 2315264010;
              log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v118, v119, v120, v121, v125);
            }
            goto LABEL_79;
          }
          log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37003, "%s%d%d%s%d%d", v110, v111, v112, v113, "expected");
        }
        v86 = 2315264025;
      }
    }
  }
  else
  {
    v86 = 2315264010;
    log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v103, v104, v105, v106, v124);
    v108 = v141;
  }
LABEL_79:
  if (v108)
    heap_Free(*(_QWORD **)(a5 + 8), (uint64_t)v108);
  return v86;
}

uint64_t nn_phrasing_UnLoad(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t v7;
  unint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;

  ssftmap_ObjClose(*(_QWORD *)(a3 + 24));
  v6 = *(_QWORD *)(a3 + 32);
  if (v6)
  {
    if (*(_WORD *)(a3 + 10))
    {
      v7 = 0;
      v8 = 0;
      do
      {
        if (*(_QWORD *)(v6 + v7))
        {
          heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(v6 + v7));
          v6 = *(_QWORD *)(a3 + 32);
          *(_QWORD *)(v6 + v7) = 0;
        }
        if (*(_QWORD *)(v6 + v7 + 16))
        {
          heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(v6 + v7 + 16));
          v6 = *(_QWORD *)(a3 + 32);
          *(_QWORD *)(v6 + v7 + 16) = 0;
        }
        ++v8;
        v7 += 32;
      }
      while (v8 < *(unsigned __int16 *)(a3 + 10));
    }
    heap_Free(*(_QWORD **)(a1 + 8), v6);
    *(_QWORD *)(a3 + 32) = 0;
  }
  v9 = *(_QWORD *)(a3 + 120);
  if (v9)
  {
    heap_Free(*(_QWORD **)(a1 + 8), v9);
    *(_QWORD *)(a3 + 120) = 0;
  }
  v10 = *(_QWORD *)(a3 + 72);
  if (v10)
  {
    (*(void (**)(_QWORD, _QWORD))(v10 + 24))(*(_QWORD *)(a3 + 96), *(_QWORD *)(a3 + 104));
    *(_QWORD *)(a3 + 72) = 0;
  }
  v11 = fi_deinit(a1, a2, *(uint64_t **)(a3 + 48));
  v12 = *(_QWORD *)(a3 + 128);
  if (v12)
    heap_Free(*(_QWORD **)(a1 + 8), v12);
  *(_OWORD *)(a3 + 112) = 0u;
  *(_OWORD *)(a3 + 128) = 0u;
  *(_OWORD *)(a3 + 80) = 0u;
  *(_OWORD *)(a3 + 96) = 0u;
  *(_OWORD *)(a3 + 48) = 0u;
  *(_OWORD *)(a3 + 64) = 0u;
  *(_OWORD *)(a3 + 16) = 0u;
  *(_OWORD *)(a3 + 32) = 0u;
  *(_OWORD *)a3 = 0u;
  return v11;
}

uint64_t NNPausing_cleanLingdb(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t result;
  unsigned __int16 v11;
  int v12;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  unsigned __int16 v20;
  int v21;
  unsigned int v22;
  __int16 v23;
  int v24;
  int v25;

  v20 = 0;
  if (!*(_WORD *)(a5 + 136))
    return 0;
  v24 = 0;
  v25 = 0;
  v23 = 0;
  v21 = 0;
  v22 = 0;
  v19 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a2 + 104))(a3, a4, 1, 0, &v25);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(a2 + 184))(a3, a4, (unsigned __int16)v25, 0, (char *)&v25 + 2);
    if ((result & 0x80000000) == 0 && HIWORD(v25) == 1)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, int *))(a2 + 176))(a3, a4, (unsigned __int16)v25, 0, &v19, &v24);
      if ((result & 0x80000000) == 0 && (unsigned __int16)v24 >= 2u)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a2 + 104))(a3, a4, 2, (unsigned __int16)v25, (char *)&v24 + 2);
        if ((result & 0x80000000) == 0)
        {
          v11 = HIWORD(v24);
          if (HIWORD(v24))
          {
            v12 = 0;
            while (1)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a2 + 168))(a3, a4, v11, 0, 1, &v22, &v24);
              if ((result & 0x80000000) != 0)
                break;
              if (v22 <= 0xA && ((1 << v22) & 0x610) != 0)
              {
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a2 + 168))(a3, a4, HIWORD(v24), 1, 1, &v21, &v24);
                if ((result & 0x80000000) != 0)
                  return result;
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a2 + 168))(a3, a4, HIWORD(v24), 2, 1, (char *)&v21 + 2, &v24);
                if ((result & 0x80000000) != 0)
                  return result;
                if ((unsigned __int16)v21 != HIWORD(v21))
                {
                  if (v12 + 1 >= *(unsigned __int16 *)(a5 + 6))
                    return result;
                  result = getWordIdx(a1, *(_QWORD *)(a5 + 128), *(unsigned __int16 *)(a5 + 136), (unsigned __int16)v21, HIWORD(v21), &v20, v14, v15);
                  if ((result & 0x80000000) != 0)
                    return result;
                  v12 = v20;
                  if (*(_DWORD *)(*(_QWORD *)(a5 + 128) + 12 * v20) == 1)
                  {
                    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(a2 + 160))(a3, a4, HIWORD(v24), 18, 1, &byte_1DEBD87CE, &v23);
                    if ((result & 0x80000000) != 0)
                      return result;
                    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN pausing : remove temp external label from  WordRecord[%d] word[%d] by setting to \"\"", v16, v17, v18, HIWORD(v24));
                  }
                }
              }
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a2 + 120))(a3, a4, HIWORD(v24), (char *)&v24 + 2);
              if ((result & 0x80000000) == 0)
              {
                v11 = HIWORD(v24);
                if (HIWORD(v24))
                  continue;
              }
              return result;
            }
          }
        }
      }
    }
  }
  return result;
}

uint64_t getWordIdx(uint64_t a1, uint64_t a2, int a3, uint64_t a4, int a5, _WORD *a6, uint64_t a7, uint64_t a8)
{
  uint64_t v8;
  _DWORD *v9;
  uint64_t result;

  if (a3)
  {
    v8 = 0;
    v9 = (_DWORD *)(a2 + 8);
    while (*(v9 - 1) != (_DWORD)a4 || *v9 != a5)
    {
      v9 += 3;
      if (a3 == ++v8)
        goto LABEL_6;
    }
    result = 0;
    *a6 = v8;
  }
  else
  {
LABEL_6:
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"cant align lingdb word : no word found with at %d,%d", (uint64_t)a6, a7, a8, a4);
    return 2315264000;
  }
  return result;
}

uint64_t NNPausing_UpdateLingdb(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _QWORD *a6)
{
  uint64_t result;
  unsigned __int16 v13;
  unsigned int v14;
  uint64_t v16;
  uint64_t v17;
  int v18;
  __int16 *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  __int16 v26;
  int v27;
  uint64_t v28;
  unsigned __int16 v29;
  int v30;
  unsigned int v31;
  __int16 v32;
  int v33;
  int v34;

  v33 = 0;
  v34 = 0;
  v32 = 0;
  v30 = 0;
  v31 = 0;
  v29 = 0;
  v28 = 0;
  v27 = 0;
  v26 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a2 + 104))(a3, a4, 1, 0, &v34);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(a2 + 184))(a3, a4, (unsigned __int16)v34, 0, (char *)&v34 + 2);
    if ((result & 0x80000000) == 0 && HIWORD(v34) == 1)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, int *))(a2 + 176))(a3, a4, (unsigned __int16)v34, 0, &v28, &v33);
      if ((result & 0x80000000) == 0 && (unsigned __int16)v33 >= 2u)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a2 + 104))(a3, a4, 2, (unsigned __int16)v34, (char *)&v33 + 2);
        if ((result & 0x80000000) == 0)
        {
          v13 = HIWORD(v33);
          if (HIWORD(v33))
          {
            v14 = 0;
            while (1)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a2 + 168))(a3, a4, v13, 0, 1, &v31, &v33);
              if ((result & 0x80000000) != 0)
                return result;
              if (v31 <= 0xA && ((1 << v31) & 0x610) != 0)
              {
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a2 + 168))(a3, a4, HIWORD(v33), 1, 1, &v30, &v33);
                if ((result & 0x80000000) != 0)
                  return result;
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a2 + 168))(a3, a4, HIWORD(v33), 2, 1, (char *)&v30 + 2, &v33);
                if ((result & 0x80000000) != 0)
                  return result;
                if ((unsigned __int16)v30 != HIWORD(v30))
                {
                  if (v14 + 1 >= *(unsigned __int16 *)(a5 + 6))
                    return result;
                  result = getWordIdx(a1, *(_QWORD *)(a5 + 128), *(unsigned __int16 *)(a5 + 136), (unsigned __int16)v30, HIWORD(v30), &v29, v16, v17);
                  if ((result & 0x80000000) != 0)
                    return result;
                  v26 = 0;
                  v14 = v29;
                  v18 = *(_DWORD *)(*a6 + 224 * v29 + 216);
                  v19 = (__int16 *)a5;
                  if (v18 != 1)
                  {
                    if (v18 != 2)
                      goto LABEL_29;
                    v19 = (__int16 *)(a5 + 2);
                  }
                  v26 = *v19;
                  if (v26)
                  {
                    result = checkForExternalSildur(a2, a3, a4, HIWORD(v33), &v27);
                    if ((result & 0x80000000) != 0)
                      return result;
                    if (v27)
                    {
                      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN pausing : clash with WordRecord[%d] word[%d] external pause has priority", v20, v21, v22, HIWORD(v33));
                    }
                    else
                    {
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a2 + 160))(a3, a4, HIWORD(v33), 8, 1, &v26, &v32);
                      if ((result & 0x80000000) != 0)
                        return result;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, __int16 *))(a2 + 160))(a3, a4, HIWORD(v33), 18, 9, "external", &v32);
                      if ((result & 0x80000000) != 0)
                        return result;
                      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN pausing : updating WordRecord[%d] word[%d] set as ext pause with duration=%d", v23, v24, v25, HIWORD(v33));
                      *(_DWORD *)(*(_QWORD *)(a5 + 128) + 12 * v14) = 1;
                    }
                  }
                }
              }
LABEL_29:
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a2 + 120))(a3, a4, HIWORD(v33), (char *)&v33 + 2);
              if ((result & 0x80000000) == 0)
              {
                v13 = HIWORD(v33);
                if (HIWORD(v33))
                  continue;
              }
              return result;
            }
          }
        }
      }
    }
  }
  return result;
}

uint64_t nn_phrasing_ProcessSent(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, _DWORD *a9)
{
  _DWORD *v10;
  unint64_t v11;
  int v12;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t Str;
  unint64_t v23;
  uint64_t v24;
  const char *v25;
  const char *MarkerArgStr;
  const char *v27;
  const char *v28;
  const char *v29;
  const char *v30;
  uint64_t v31;
  unsigned __int16 v32;
  int v33;
  unint64_t v34;
  unint64_t v35;
  __int16 v36;
  uint64_t v37;
  uint64_t v39;
  uint64_t v40;
  const char *v41;
  int v43;
  unsigned int v44;
  float *v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  unsigned int v50;
  int v51;
  unsigned int v52;
  uint64_t v53;
  int v54;
  uint64_t v55;
  uint64_t v56;
  unsigned int v57;
  int v58;
  float *v59;
  int v60;
  _QWORD *v61;
  const char *v62;
  const char *v63;
  const char *v64;
  __int16 v65;
  unsigned __int16 v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  char *v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  uint64_t v76;
  uint64_t v77;
  uint64_t v78;
  uint64_t v79;
  unsigned int StartOfOrthPunc;
  unsigned __int16 v81;
  unsigned __int16 v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v88;
  int v89;
  uint64_t v90;
  unint64_t v91;
  __int16 v92;
  unsigned __int16 v93;
  const char *v94;
  const char *v95;
  uint64_t v96;
  uint64_t v97;
  uint64_t v98;
  uint64_t v99;
  unsigned int v100;
  uint64_t v101;
  uint64_t v102;
  const char *v103;
  uint64_t IndexValue;
  unsigned int v105;
  uint64_t v106;
  uint64_t v107;
  uint64_t v108;
  int v109;
  float v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  __int16 v116;
  __int16 v117;
  uint64_t v118;
  char *v119;
  char *v120;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  uint64_t v124;
  float v125;
  _DWORD *v126;
  uint64_t v127;
  uint64_t v128;
  uint64_t v129;
  uint64_t v130;
  uint64_t v131;
  uint64_t v132;
  unsigned int v133;
  uint64_t v134;
  uint64_t v135;
  unint64_t v136;
  unint64_t v137;
  uint64_t v138;
  unsigned __int16 *v139;
  uint64_t v140;
  uint64_t v141;
  const char *v142;
  uint64_t v143;
  uint64_t v144;
  _DWORD *v145;
  uint64_t v146;
  uint64_t v147;
  uint64_t v148;
  uint64_t v149;
  uint64_t v150;
  int v151;
  int *v152;
  int v153;
  unsigned int v154;
  unsigned int v155;
  unsigned int v156;
  char *v157;
  unsigned __int16 v158;
  uint64_t v159;
  unint64_t v160;
  uint64_t v161;
  uint64_t v162;
  uint64_t v163;
  uint64_t v164;
  int v165;
  int v167;
  char *__s2;
  uint64_t v169;
  int v170;
  float *v171;
  uint64_t v172;
  unsigned __int16 v173;
  int v174[3];

  v10 = a9;
  v173 = 0;
  LODWORD(v11) = *(unsigned __int16 *)(a5 + 8);
  v172 = 0;
  v169 = 0;
  __s2 = 0;
  v167 = 0;
  *(_WORD *)(a7 + 136) = 0;
  *a9 = 1;
  if (!(_DWORD)v11)
  {
    log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"skip NN pausing, no words found", a6, a7, a8, 0);
    Str = 0;
    goto LABEL_34;
  }
  v12 = a8;
  v170 = 0;
  v18 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a2 + 104))(a3, a4, 1, 0, (char *)&v170 + 2);
  if ((v18 & 0x80000000) != 0)
    return v18;
  v18 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, int *))(a2 + 176))(a3, a4, HIWORD(v170), 1, &v169, &v170);
  if ((v18 & 0x80000000) != 0)
    return v18;
  Str = paramc_ParamGetStr(a1[5], (uint64_t)"langcode", &__s2);
  if ((Str & 0x80000000) == 0)
  {
    v165 = v12;
    v162 = a3;
    v163 = a2;
    if ((_WORD)v170)
    {
      v23 = 0;
      v24 = 24;
      while (1)
      {
        if (*(_DWORD *)(v169 + v24 - 24) == 36)
        {
          v25 = *(const char **)(v169 + v24);
          if (strcmp(v25, __s2))
          {
            MarkerArgStr = marker_getMarkerArgStr(1u);
            if (strcmp(v25, MarkerArgStr))
            {
              v27 = *(const char **)(v169 + v24);
              v28 = marker_getMarkerArgStr(9u);
              if (strcmp(v27, v28))
              {
                v29 = *(const char **)(v169 + v24);
                v30 = marker_getMarkerArgStr(2u);
                if (strcmp(v29, v30))
                  break;
              }
            }
          }
        }
        ++v23;
        v24 += 32;
        if (v23 >= (unsigned __int16)v170)
          goto LABEL_13;
      }
      v40 = a1[4];
      v31 = *(_QWORD *)(v169 + v24);
      v41 = "skip NN pausing, as language tag \"%s\" found";
    }
    else
    {
LABEL_13:
      LODWORD(v31) = *(unsigned __int16 *)(a7 + 16);
      if (v165 == -1)
        v32 = *(_WORD *)(a7 + 16);
      else
        v32 = v165;
      v33 = v32;
      if (v32)
      {
        LODWORD(v34) = *(unsigned __int16 *)(a5 + 8);
        if (*(_WORD *)(a5 + 8))
        {
          v161 = a4;
          v35 = 0;
          v36 = -1;
          v37 = 208;
          while (1)
          {
            if (**(_BYTE **)(*(_QWORD *)a5 + v37) != 88 || (_DWORD)v35 + 1 == (_DWORD)v34)
            {
              if (v35)
              {
                v39 = a1[4];
                if ((int)v35 - v36 >= v33)
                {
                  log_OutText(v39, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"found valid predictive range of length %d (minimum setting is %d) ending on word %d - continue with NN pausing", v19, v20, v21, -v36 + v35);
                  if (*(unsigned __int16 *)(a5 + 8) <= *(unsigned __int16 *)(a7 + 6))
                    v11 = v11;
                  else
                    v11 = *(unsigned __int16 *)(a7 + 6);
                  if (*(_WORD *)(a7 + 18))
                    v43 = v11;
                  else
                    v43 = *(unsigned __int16 *)(a7 + 6);
                  v44 = (*(_DWORD *)(a7 + 112) + *(unsigned __int16 *)(a7 + 4)) * v43;
                  *(_DWORD *)(a7 + 56) = v44;
                  v45 = (float *)heap_Alloc(a1[1], 4 * v44);
                  v171 = v45;
                  if (v45)
                  {
                    v160 = v11;
                    v50 = *(_DWORD *)(a7 + 56);
                    if (v50)
                    {
                      v51 = 0;
                      do
                        v45[(unsigned __int16)v51++] = -1.0;
                      while (v50 > (unsigned __int16)v51);
                    }
                    log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Dimensions:\nmaxWordsInSent=%d\nword2vecVecLength=%dnumAdditionalFields=%d", v47, v48, v49, *(unsigned __int16 *)(a7 + 6));
                    v53 = v163;
                    v54 = v165;
                    v156 = v11;
                    if ((_DWORD)v11)
                    {
                      v55 = 0;
                      v164 = 0;
                      v158 = 0;
                      v56 = 0;
                      while (1)
                      {
                        v57 = *(_DWORD *)(a7 + 112) + *(unsigned __int16 *)(a7 + 4);
                        if (v57)
                        {
                          v58 = 0;
                          v59 = v171;
                          v60 = v55 * v57;
                          do
                          {
                            v59[v60] = 0.0;
                            ++v58;
                            ++v60;
                          }
                          while (v57 > (unsigned __int16)v58);
                        }
                        v159 = v55;
                        v61 = (_QWORD *)(*(_QWORD *)a5 + 224 * v164);
                        v62 = *(const char **)(v61[2] + 8 * *(unsigned __int16 *)(a6 + 16));
                        v63 = (const char *)v61[21];
                        v64 = (const char *)v61[26];
                        v65 = strlen(v62);
                        v66 = (v65 & 0xFFC0) != 0 ? v65 : 64;
                        if (v56)
                        {
                          if (v66 <= v158)
                          {
                            v71 = (char *)v56;
                          }
                          else
                          {
                            v71 = (char *)heap_Realloc((uint64_t *)a1[1], v56, v66 + 1);
                            v158 = v66;
                            if (!v71)
                            {
                              Str = 2315264010;
                              log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v67, v68, v69, v70, v155);
                              v71 = (char *)v56;
                              goto LABEL_140;
                            }
                          }
                        }
                        else
                        {
                          v71 = (char *)heap_Calloc((_QWORD *)a1[1], 1, v66 + 1);
                          v158 = v66;
                          if (!v71)
                          {
                            Str = 2315264010;
                            log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v72, v73, v74, v75, v155);
                            goto LABEL_140;
                          }
                        }
                        if (!v63 || !strcmp(v63, "-"))
                        {
                          v79 = v159;
                          if (!strcmp(v64, "X"))
                          {
                            v82 = v158;
                          }
                          else
                          {
                            v174[0] = 0;
                            StartOfOrthPunc = getStartOfOrthPunc(v62, v174);
                            v81 = v158;
                            if (StartOfOrthPunc < v158)
                              v81 = StartOfOrthPunc;
                            v82 = v174[0] == 1 ? v81 : v158;
                          }
                          v83 = v82;
                          strncpy(v71, v62, v82);
                          v71[v83] = 0;
                        }
                        else
                        {
                          strcpy(v71, v63);
                          v79 = v159;
                        }
                        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"word [%d] %s lookup \"%s\"", v76, v77, v78, v79);
                        v84 = (*(uint64_t (**)(_QWORD, _QWORD, char *, _QWORD))(*(_QWORD *)(a7 + 72) + 56))(*(_QWORD *)(a7 + 96), *(_QWORD *)(a7 + 104), v71, *(_QWORD *)(a7 + 120));
                        if ((v84 & 0x1FFF) == 0x14)
                        {
                          if (((*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD))(*(_QWORD *)(a7 + 72)
                                                                                                + 56))(*(_QWORD *)(a7 + 96), *(_QWORD *)(a7 + 104), "$MEANW2V$", *(_QWORD *)(a7 + 120)) & 0x1FFF) == 0x14)
                          {
                            log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37004, "%s%s", v85, v86, v87, v88, "expected");
                            Str = 2315264000;
                            goto LABEL_140;
                          }
                        }
                        else
                        {
                          Str = v84;
                          if ((v84 & 0x80000000) != 0)
                            goto LABEL_140;
                        }
                        v157 = v71;
                        v89 = v57 * v79;
                        memcpy(&v171[v57 * v79], *(const void **)(a7 + 120), 4 * *(unsigned int *)(a7 + 112));
                        if (*(_WORD *)(a7 + 10))
                          break;
LABEL_100:
                        v53 = v163;
                        v55 = (v159 + 1);
                        v119 = v157;
                        v56 = (uint64_t)v157;
                        ++v164;
                        v54 = v165;
                        if (v164 == v160)
                          goto LABEL_106;
                      }
                      v90 = 0;
                      v91 = 0;
                      v92 = 0;
                      v93 = 0;
                      while (2)
                      {
                        v94 = *(const char **)(*(_QWORD *)(a7 + 32) + v90);
                        v95 = "POS";
                        if (!strcmp(v94, "POS"))
                        {
                          v99 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a5 + 224 * v164 + 16)
                                          + 8 * *(unsigned __int16 *)(a6 + 18));
                        }
                        else
                        {
                          v95 = "PHR";
                          if (!strcmp(v94, "PHR"))
                          {
                            v99 = *(_QWORD *)(*(_QWORD *)a5 + 224 * v164 + 80);
                          }
                          else
                          {
                            v95 = "TOK";
                            if (!strcmp(v94, "TOK"))
                            {
                              v99 = *(_QWORD *)(*(_QWORD *)a5 + 224 * v164 + 168);
                            }
                            else
                            {
                              v95 = "COMP";
                              if (!strcmp(v94, "COMP"))
                              {
                                v99 = *(_QWORD *)(*(_QWORD *)a5 + 224 * v164 + 176);
                              }
                              else
                              {
                                v95 = "SPUNC";
                                if (!strcmp(v94, "SPUNC"))
                                {
                                  v99 = *(_QWORD *)(*(_QWORD *)a5 + 224 * v164 + 184);
                                }
                                else
                                {
                                  v95 = "EPUNC";
                                  if (!strcmp(v94, "EPUNC"))
                                  {
                                    v99 = *(_QWORD *)(*(_QWORD *)a5 + 224 * v164 + 192);
                                  }
                                  else
                                  {
                                    v95 = "PUNC";
                                    if (strcmp(v94, "PUNC"))
                                    {
                                      if (!strcmp(v94, "ORTHPUNC"))
                                      {
                                        v99 = *(_QWORD *)(*(_QWORD *)a5 + 224 * v164 + 208);
                                        v100 = (unsigned __int16)v91;
                                        v101 = (uint64_t)a1;
                                        v102 = a7;
                                        v103 = "ORTHPUNC";
LABEL_95:
                                        IndexValue = getIndexValue(v101, v102, v100, (uint64_t)v103, v99, &v173);
                                        if ((IndexValue & 0x80000000) != 0)
                                        {
                                          Str = IndexValue;
                                          v71 = v157;
                                          goto LABEL_140;
                                        }
                                      }
                                      v173 -= v92;
                                      v105 = v173;
                                      log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"translated thisFeatureIdx=%d", v96, v97, v98, v173);
                                      v109 = v89 + v93;
                                      if (*(_DWORD *)(*(_QWORD *)(a7 + 32) + v90 + 8))
                                      {
                                        v110 = (double)v105 + 1.0;
                                        v111 = (v109 + *(_DWORD *)(a7 + 112));
                                        v171[v111] = v110;
                                        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NUMERIC SET [%d] (%d + %d + %d) = %3.1lf + 1.0", v106, v107, v108, v111);
                                        v115 = *(_QWORD *)(a7 + 32);
                                        v116 = *(_WORD *)(v115 + v90 + 26);
                                        v117 = 1;
                                      }
                                      else
                                      {
                                        v118 = v109 + v105 + *(_DWORD *)(a7 + 112);
                                        v171[v118] = 1.0;
                                        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"ONEHOT SET [%d] (%d + %d + %d + %d) = 1.0", v106, v107, v108, v118);
                                        v115 = *(_QWORD *)(a7 + 32);
                                        v116 = *(_WORD *)(v115 + v90 + 26);
                                        v117 = v116;
                                      }
                                      v93 += v117;
                                      v92 += v116;
                                      log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"increase featureValOffset by %s %d", v112, v113, v114, *(_QWORD *)(v115 + v90));
                                      ++v91;
                                      v90 += 32;
                                      if (v91 >= *(unsigned __int16 *)(a7 + 10))
                                        goto LABEL_100;
                                      continue;
                                    }
                                    v99 = *(_QWORD *)(*(_QWORD *)a5 + 224 * v164 + 200);
                                  }
                                }
                              }
                            }
                          }
                        }
                        break;
                      }
                      v100 = (unsigned __int16)v91;
                      v101 = (uint64_t)a1;
                      v102 = a7;
                      v103 = v95;
                      goto LABEL_95;
                    }
                    v119 = 0;
LABEL_106:
                    v120 = v119;
                    LOWORD(v52) = *(_WORD *)(a7 + 8);
                    *(float *)(**(_QWORD **)(a7 + 48) + 196) = (float)v52 / 100.0;
                    if ((paramc_ParamGetInt(a1[5], (uint64_t)"nnpausingthresholdpercent", &v167) & 0x80000000) == 0)
                    {
                      v125 = (float)v167 / 100.0;
                      *(float *)(**(_QWORD **)(a7 + 48) + 196) = v125;
                      log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN pausing threshold set to %f", v122, v123, v124, COERCE__INT64(v125));
                    }
                    v127 = v161;
                    v126 = a9;
                    v128 = v156;
                    if (!*(_WORD *)(a7 + 18))
                      v128 = *(unsigned __int16 *)(a7 + 6);
                    Str = fi_predict(*(uint64_t ****)(a7 + 48), (const void **)&v171, v128, &v172, v121, v122, v123, v124);
                    if ((Str & 0x80000000) != 0)
                    {
                      log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37002, 0, v129, v130, v131, v132, v155);
                    }
                    else
                    {
                      v133 = *(unsigned __int16 *)(a5 + 8);
                      *(_WORD *)(a7 + 136) = v133;
                      if (*(_WORD *)(a7 + 6))
                      {
                        v134 = 0;
                        v135 = 0;
                        v136 = 0;
                        v137 = v160;
                        do
                        {
                          v138 = *(_QWORD *)(a7 + 128);
                          *(_DWORD *)(v138 + v134) = 0;
                          if (v136 < v137)
                          {
                            v139 = (unsigned __int16 *)(*(_QWORD *)a5 + v135);
                            v140 = v138 + v134;
                            *(_DWORD *)(v140 + 4) = *v139;
                            *(_DWORD *)(v140 + 8) = v139[1];
                            v141 = a1[4];
                            if (*(_QWORD *)(v172 + 8 * v136))
                              log_OutText(v141, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Prediction [%d,%s]: %s", v130, v131, v132, v136);
                            else
                              log_OutText(v141, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Prediction via thresholding [%d,%s]: 0", v130, v131, v132, v136);
                            v142 = *(const char **)(v172 + 8 * v136);
                            if (v142 && !strcmp(v142, "1"))
                            {
                              v143 = *(_QWORD *)a5 + v135;
                              if (**(_BYTE **)(v143 + 208) == 88)
                              {
                                *(_DWORD *)(v143 + 216) = 2;
                                log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"_RESPPAUSE", v130, v131, v132, 0);
                              }
                              else
                              {
                                *(_DWORD *)(v143 + 216) = 1;
                                log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"_PUNCPAUSE", v130, v131, v132, 0);
                              }
                            }
                            else
                            {
                              *(_DWORD *)(*(_QWORD *)a5 + v135 + 216) = 0;
                            }
                            v137 = v160;
                          }
                          ++v136;
                          v135 += 224;
                          v134 += 12;
                        }
                        while (v136 < *(unsigned __int16 *)(a7 + 6));
                        v133 = *(unsigned __int16 *)(a5 + 8);
                        v127 = v161;
                        v126 = a9;
                        v53 = v163;
                        v54 = v165;
                      }
                      else
                      {
                        LODWORD(v137) = v160;
                      }
                      if (v137 < v133)
                      {
                        v144 = v133;
                        v145 = (_DWORD *)(*(_QWORD *)a5 + 224 * v137 + 216);
                        v146 = v144 - v137;
                        do
                        {
                          *v145 = 0;
                          v145 += 56;
                          --v146;
                        }
                        while (v146);
                      }
                      validatePauseLocations((uint64_t)a1, (unsigned __int16 *)a7, (uint64_t *)a5, a6, v54, v130, v131, v132);
                      *v126 = 0;
                      v150 = *(unsigned __int16 *)(a5 + 8);
                      if (!*(_WORD *)(a5 + 8))
                        goto LABEL_138;
                      v151 = 0;
                      v152 = (int *)(*(_QWORD *)a5 + 216);
                      do
                      {
                        v153 = *v152;
                        v152 += 56;
                        if (v153)
                        {
                          v151 = 1;
                          *v126 = 1;
                        }
                        --v150;
                      }
                      while (v150);
                      if (v151 == 1)
                      {
                        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN_PAUSING has prediction(s)", v147, v148, v149, 0);
                        Str = NNPausing_UpdateLingdb((uint64_t)a1, v53, v162, v127, a7, (_QWORD *)a5);
                      }
                      else
                      {
LABEL_138:
                        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN_PAUSING has no prediction(s)", v147, v148, v149, 0);
                      }
                    }
                    v71 = v120;
LABEL_140:
                    if (v171)
                    {
                      heap_Free((_QWORD *)a1[1], (uint64_t)v171);
                      v171 = 0;
                    }
                    if (v71)
                      heap_Free((_QWORD *)a1[1], (uint64_t)v71);
                  }
                  else
                  {
                    Str = 2315264010;
                    log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v46, v47, v48, v49, v154);
                  }
                  return Str;
                }
                log_OutText(v39, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"skip %d word phrase ending at word %d", v19, v20, v21, v35 + -v36);
                v36 = v35;
              }
              else
              {
                log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"skip 1 word phrase at word %d", v19, v20, v21, 0);
                v36 = 0;
              }
            }
            ++v35;
            v34 = *(unsigned __int16 *)(a5 + 8);
            v37 += 224;
            if (v35 >= v34)
            {
              LODWORD(v31) = *(unsigned __int16 *)(a7 + 16);
              v10 = a9;
              break;
            }
          }
        }
      }
      v40 = a1[4];
      v31 = v31;
      v41 = "skip NN pausing, no valid predictive range found (doLenVerification setting is %d, minWordSpan parameter is %d)";
    }
    log_OutText(v40, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)v41, v19, v20, v21, v31);
LABEL_34:
    *v10 = 0;
  }
  return Str;
}

uint64_t getIndexValue(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, uint64_t a5, _WORD *a6)
{
  uint64_t ReadOnly;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  const char *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  const char *v20;
  char *v22;
  char v23[64];
  uint64_t v24;

  v24 = *MEMORY[0x1E0C80C00];
  v22 = 0;
  __strcpy_chk();
  __strncat_chk();
  ReadOnly = ssftmap_FindReadOnly(*(_QWORD *)(a2 + 24), (uint64_t)v23, &v22);
  if ((ReadOnly & 0x1FFF) == 0x14)
  {
    v14 = *(_QWORD *)(a2 + 32) + 32 * a3;
    *a6 = *(_WORD *)(v14 + 24);
    if (*(_DWORD *)(v14 + 8))
      v15 = "NUMERIC";
    else
      v15 = "ONEHOT";
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s [%s] (default) convert %s to vector col %d", v11, v12, v13, (uint64_t)v15);
    return 0;
  }
  else
  {
    v16 = ReadOnly;
    *a6 = atoi(v22);
    if (*(_DWORD *)(*(_QWORD *)(a2 + 32) + 32 * a3 + 8))
      v20 = "NUMERIC";
    else
      v20 = "ONEHOT";
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s [%s] convert %s to vector col %d", v17, v18, v19, (uint64_t)v20);
  }
  return v16;
}

uint64_t validatePauseLocations(uint64_t a1, unsigned __int16 *a2, uint64_t *a3, uint64_t a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unsigned __int16 v9;
  uint64_t result;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  unint64_t v14;
  uint64_t v15;
  int v16;
  uint64_t v17;
  uint64_t v18;
  unint64_t v19;
  const char *v20;
  BOOL v21;
  char v22;
  const char *v23;
  int v24;
  unint64_t v25;
  const char *v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  int v30;
  uint64_t v31;
  BOOL v32;
  unint64_t v33;
  int v34;
  uint64_t v35;
  unsigned __int16 v36;
  uint64_t v38;
  uint64_t v39;
  unsigned __int16 v40;

  if (a5 == -1)
    v9 = a2[8];
  else
    v9 = a5;
  result = log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"validatePauseLocations doCompVerification=%d doPHRVerification=%d doLenVerification=%d minWordSpan=%d", a6, a7, a8, a2[6]);
  LODWORD(v14) = *((unsigned __int16 *)a3 + 4);
  if (!*((_WORD *)a3 + 4))
    return result;
  v40 = v9;
  v15 = 0;
  v16 = 0;
  v17 = *a3;
  v18 = 208;
  do
  {
    v19 = v15 + 1;
    v21 = 1;
    if (v15 + 1 < (unint64_t)v14)
    {
      v20 = *(const char **)(v17 + v18 + 96);
      if (v20)
      {
        if (!strncmp(*(const char **)(v17 + v18 + 96), "B-", 2uLL) || !strcmp(v20, "O"))
          v21 = 0;
      }
    }
    if (*(_QWORD *)(v17 + v18 - 32) && !strcmp(*(const char **)(v17 + v18 - 32), "[COMP"))
      v16 = 1;
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"[%d] %s bInCompoundWord=%d bPHRBnd=%d pause=%d orthPunc=%s    (%s %s)", v11, v12, v13, v15);
    v17 = *a3;
    if (*(_DWORD *)(*a3 + v18 + 8))
    {
      if (v16 == 1 && a2[6] == 1 && strcmp(*(const char **)(v17 + v18 - 32), "COMP]"))
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"BLOCK PAUSE : word[%d] %s : block inside compound word", v11, v12, v13, v15);
LABEL_39:
        v17 = *a3;
        *(_DWORD *)(*a3 + v18 + 8) = 0;
        goto LABEL_40;
      }
      v22 = !v21;
      if (a2[7] != 1)
        v22 = 1;
      if ((v22 & 1) == 0)
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"BLOCK PAUSE : word[%d] %s : block inside PHR", v11, v12, v13, v15);
        goto LABEL_39;
      }
      v23 = *(const char **)(v17 + v18 - 40);
      v24 = strcmp(v23, "-");
      v25 = *((unsigned __int16 *)a3 + 4);
      if (v24)
      {
        if (v19 < v25)
        {
          v26 = *(const char **)(v17 + v18 + 184);
          if (strcmp(v26, "-"))
          {
            v30 = *(unsigned __int8 *)v23;
            if ((v30 == 73 || v30 == 66) && *v26 == 73)
            {
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"BLOCK PAUSE : word[%d] %s : block inside TOK", v27, v28, v29, v15);
              goto LABEL_39;
            }
          }
        }
      }
      v31 = *(unsigned __int16 *)(a4 + 16);
      v32 = strcmp(*(const char **)(*(_QWORD *)(v17 + v18 - 192) + 8 * v31), "§") || v19 >= v25;
      if (!v32 && !strcmp(*(const char **)(*(_QWORD *)(v17 + v18 + 32) + 8 * v31), "§"))
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"BLOCK PAUSE : word[%d] %s : block inside DUMMYWORD sequence", v11, v12, v13, v15);
        goto LABEL_39;
      }
      if (v15 + 3 > v25)
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"BLOCK PAUSE : word[%d] %s : block on last 2 words", v11, v12, v13, v15);
        goto LABEL_39;
      }
    }
LABEL_40:
    result = *(_QWORD *)(v17 + v18 - 32);
    if (result)
    {
      result = strcmp((const char *)result, "COMP]");
      if (!(_DWORD)result)
        v16 = 0;
    }
    v14 = *((unsigned __int16 *)a3 + 4);
    v18 += 224;
    ++v15;
  }
  while (v19 < v14);
  if (v40 && *((_WORD *)a3 + 4))
  {
    v33 = 0;
    v34 = 0;
    v35 = *a3;
    v36 = -1;
    do
    {
      if (**(_BYTE **)(v35 + 224 * v33 + 208) != 88 || v34 + 1 == (_DWORD)v14)
      {
        if (v33)
        {
          if (v34 - (__int16)v36 >= v40)
            goto LABEL_62;
          if (v36 == 0xFFFF)
            v36 = 0;
          if (v33 <= v36)
          {
LABEL_62:
            v36 = v33;
          }
          else
          {
            v38 = v36;
            v39 = 224 * v36;
            do
            {
              if (*(_DWORD *)(v35 + v39 + 216) == 2)
              {
                result = log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"BLOCK PAUSE : word[%d] %s : blocked via len constraints, span word %d to word %d < %d", v11, v12, v13, v38);
                v35 = *a3;
                *(_DWORD *)(*a3 + v39 + 216) = 0;
              }
              ++v38;
              v39 += 224;
            }
            while (v33 != (unsigned __int16)v38);
            LODWORD(v14) = *((unsigned __int16 *)a3 + 4);
            v36 = v33;
          }
        }
        else
        {
          v36 = 0;
        }
      }
      v34 = ++v33;
    }
    while (v33 < v14);
  }
  return result;
}

uint64_t getNumericFeatureValue(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, _WORD *a5)
{
  uint64_t v6;
  const char *v8;
  char *v9;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  *a5 = 0;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, uint64_t, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", a4, &__c[3], &__c[1], __c);
  if ((v6 & 0x80000000) == 0 && *(unsigned __int16 *)&__c[1] == 1 && *(_QWORD *)&__c[3] != 0)
  {
    v8 = **(const char ***)&__c[3];
    v9 = strchr(**(char ***)&__c[3], __c[0]);
    if (v9)
    {
      *v9 = 0;
      v8 = **(const char ***)&__c[3];
    }
    *a5 = atoi(v8);
  }
  return v6;
}

uint64_t setStr(uint64_t a1, char **a2, char *__s, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  _QWORD *v11;
  int v12;
  char *v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unsigned int v20;

  if (__s)
  {
    v11 = *(_QWORD **)(a1 + 8);
    v12 = strlen(__s);
    v13 = (char *)heap_Calloc(v11, 1, (v12 + 1));
    *a2 = v13;
    if (v13)
    {
      strcpy(v13, __s);
      return 0;
    }
    else
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v14, v15, v16, v17, v20);
      return 2315264010;
    }
  }
  else
  {
    v18 = 2315264007;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, a5, a6, a7, a8, v20);
  }
  return v18;
}

uint64_t getPrecisionFactor(uint64_t a1, uint64_t a2)
{
  unsigned int v2;
  unsigned __int16 v3;
  int v4;
  __int16 v5;
  BOOL v6;
  unsigned int v7;
  unsigned __int16 v8;
  int v9;
  __int16 v10;
  int v11;
  int v12;
  uint32x4_t v13;
  int32x4_t v14;
  int32x4_t v15;
  int8x16_t v16;
  int32x4_t v17;
  unsigned int v18;
  int8x16_t v19;
  int v21;
  int v22;
  int v23;
  int32x4_t v24;

  v2 = *(unsigned __int16 *)(a1 + 2);
  if (v2 >= 0xA)
  {
    v4 = 0;
    do
    {
      v5 = v4++;
      v6 = v2 > 0x63;
      v2 /= 0xAu;
    }
    while (v6);
    v3 = v5 + 2;
  }
  else
  {
    v3 = 1;
  }
  v7 = *(unsigned __int16 *)(a2 + 2);
  if (v7 >= 0xA)
  {
    v9 = 0;
    do
    {
      v10 = v9++;
      v6 = v7 > 0x63;
      v7 /= 0xAu;
    }
    while (v6);
    v8 = v10 + 2;
  }
  else
  {
    v8 = 1;
  }
  v11 = v3;
  if (v3 > v8)
  {
    v12 = 0;
    v13 = (uint32x4_t)vdupq_n_s32(v11 - 1);
    v14.i64[0] = 0x100000001;
    v14.i64[1] = 0x100000001;
    v15.i64[0] = 0xA0000000ALL;
    v15.i64[1] = 0xA0000000ALL;
    do
    {
      v16 = (int8x16_t)v14;
      v14 = vmulq_s32(v14, v15);
      v12 += 4;
    }
    while (((v11 + 3) & 0x1FFFC) != v12);
LABEL_18:
    v18 = v12 - 4;
LABEL_19:
    v19 = vbslq_s8((int8x16_t)vcgtq_u32((uint32x4_t)vorrq_s8((int8x16_t)vdupq_n_s32(v18), (int8x16_t)xmmword_1DEC65950), v13), v16, (int8x16_t)v14);
    *(int32x2_t *)v19.i8 = vmul_s32(*(int32x2_t *)v19.i8, (int32x2_t)*(_OWORD *)&vextq_s8(v19, v19, 8uLL));
    return (v19.i32[0] * v19.i32[1]);
  }
  if (v8 > v3)
  {
    v12 = 0;
    v13 = (uint32x4_t)vdupq_n_s32(v8 - 1);
    v14.i64[0] = 0x100000001;
    v14.i64[1] = 0x100000001;
    v17.i64[0] = 0xA0000000ALL;
    v17.i64[1] = 0xA0000000ALL;
    do
    {
      v16 = (int8x16_t)v14;
      v14 = vmulq_s32(v14, v17);
      v12 += 4;
    }
    while (((v8 + 3) & 0x1FFFC) != v12);
    goto LABEL_18;
  }
  if (v3)
  {
    v21 = 0;
    v22 = v3;
    v23 = (v3 + 3) & 0x1FFFC;
    v13 = (uint32x4_t)vdupq_n_s32(v22 - 1);
    v14.i64[0] = 0x100000001;
    v14.i64[1] = 0x100000001;
    v24.i64[0] = 0xA0000000ALL;
    v24.i64[1] = 0xA0000000ALL;
    do
    {
      v16 = (int8x16_t)v14;
      v14 = vmulq_s32(v14, v24);
      v21 += 4;
    }
    while (v23 != v21);
    v18 = v21 - 4;
    goto LABEL_19;
  }
  return 1;
}

BOOL FLOATSUR_EQUAL_INT(unsigned __int16 *a1, int a2, int a3)
{
  return *a1 == a2 && a1[1] == a3;
}

BOOL FLOATSUR_EQUAL(unsigned __int16 *a1, unsigned __int16 *a2)
{
  return *a1 == *a2 && a1[1] == a2[1];
}

BOOL FLOATSUR_GT_INT(unsigned __int16 *a1, unsigned int a2, unsigned int a3)
{
  unsigned int v3;

  v3 = *a1;
  if (v3 > a2)
    return 1;
  if (v3 >= a2)
    return a1[1] > a3;
  return 0;
}

BOOL FLOATSUR_GT(unsigned __int16 *a1, unsigned __int16 *a2)
{
  unsigned int v2;
  unsigned int v3;

  v2 = *a2;
  v3 = *a1;
  if (v3 > v2)
    return 1;
  if (v3 >= v2)
    return a1[1] > a2[1];
  return 0;
}

BOOL FLOATSUR_GTOREQUAL(unsigned __int16 *a1, unsigned __int16 *a2)
{
  unsigned int v2;
  unsigned int v3;
  unsigned int v4;

  v2 = *a2;
  v3 = *a1;
  v4 = a2[1];
  if (v3 == v2)
  {
    if (a1[1] == v4)
      return 1;
  }
  else if (v3 > v2)
  {
    return 1;
  }
  return v3 >= v2 && a1[1] > v4;
}

BOOL FLOATSUR_LT_INT(unsigned __int16 *a1, unsigned int a2, unsigned int a3)
{
  unsigned int v3;

  v3 = *a1;
  if (v3 < a2)
    return 1;
  if (v3 > a2)
    return 0;
  return a1[1] < a3;
}

BOOL FLOATSUR_LT(unsigned __int16 *a1, unsigned __int16 *a2)
{
  unsigned int v2;
  unsigned int v3;

  v2 = *a2;
  v3 = *a1;
  if (v3 < v2)
    return 1;
  if (v3 > v2)
    return 0;
  return a1[1] < a2[1];
}

_WORD *FLOATSUR_SET_INT(_WORD *result, __int16 a2, __int16 a3)
{
  *result = a2;
  result[1] = a3;
  return result;
}

_DWORD *FLOATSUR_SET(_DWORD *result, _DWORD *a2)
{
  *result = *a2;
  return result;
}

uint64_t FLOATSUR_PLUS(_WORD *a1, unsigned __int16 *a2, unsigned __int16 *a3)
{
  uint64_t result;
  int v5;
  int v6;
  unsigned int v7;
  unsigned int v8;
  BOOL v9;
  unsigned int v10;
  unsigned int v11;
  unsigned int v12;
  unsigned int v13;
  uint64_t v14;

  v14 = 0;
  v13 = 0;
  result = getVals(a2, a3, (unsigned int *)&v14 + 1, (uint64_t)&v14, &v13);
  v5 = v13 + v14;
  v6 = HIDWORD(v14);
  v7 = (v13 + v14) / HIDWORD(v14);
  *a1 = v7;
  v8 = v5 - (unsigned __int16)v7 * v6;
  if (v8)
    v9 = v8 % 0xA == 0;
  else
    v9 = 0;
  if (v9)
  {
    do
    {
      v10 = v8;
      v8 /= 0xAu;
    }
    while (v10 >= 0xA && v8 == 10 * ((429496730 * (unint64_t)v8) >> 32));
  }
  if (v8 < 0x10000)
  {
    LOWORD(v11) = v8;
  }
  else
  {
    do
    {
      v11 = v8 / 0xA;
      v12 = v8 >> 17;
      v8 /= 0xAu;
    }
    while (v12 > 4);
  }
  a1[1] = v11;
  return result;
}

uint64_t getVals(unsigned __int16 *a1, unsigned __int16 *a2, unsigned int *a3, uint64_t a4, unsigned int *a5)
{
  uint64_t result;
  int v11;
  unsigned int v12;
  int v13;
  unsigned int v14;
  unsigned int v15;
  __int16 v16;
  unsigned int v17;

  roundUpAndNormalize((uint64_t)a1);
  roundUpAndNormalize((uint64_t)a2);
  result = getPrecisionFactor((uint64_t)a1, (uint64_t)a2);
  *a3 = result;
  v11 = *a1;
  v12 = a1[1];
  *(_DWORD *)a4 = v12 + result * v11;
  v13 = *a2;
  v14 = a2[1];
  v15 = v14 + *a3 * v13;
  *a5 = v15;
  if (*(_DWORD *)a4 >= 0x10000u && v15 >= 0x10000)
  {
    v16 = 1;
    do
    {
      if (v15 < 0x10000)
        break;
      v16 *= 10;
      v17 = *a3 / 0xA;
      *a3 = v17;
      *(_DWORD *)a4 = v12 / (v16 & 0xFFFEu) + v17 * v11;
      v15 = v14 / (v16 & 0xFFFEu) + *a3 * v13;
      *a5 = v15;
    }
    while (*(_WORD *)(a4 + 2));
  }
  return result;
}

uint64_t FLOATSUR_PLUS_INT(_DWORD *a1, unsigned __int16 *a2, unsigned __int16 a3, unsigned __int16 a4)
{
  uint64_t result;
  int v6;
  unsigned __int16 v7[2];

  v6 = 0;
  v7[0] = a3;
  v7[1] = a4;
  result = FLOATSUR_PLUS(&v6, a2, v7);
  *a1 = v6;
  return result;
}

uint64_t FLOATSUR_MINUS(_WORD *a1, unsigned __int16 *a2, unsigned __int16 *a3)
{
  uint64_t result;
  unsigned int v5;
  int v6;
  int v7;
  unsigned int v8;
  unsigned int v9;
  BOOL v10;
  unsigned int v11;
  unsigned int v12;
  unsigned int v13;
  unsigned int v14;
  uint64_t v15;

  v15 = 0;
  v14 = 0;
  result = getVals(a2, a3, (unsigned int *)&v15 + 1, (uint64_t)&v15, &v14);
  v5 = v14;
  v6 = v15;
  if (v15 >= v14)
  {
    v7 = HIDWORD(v15);
    v8 = (v15 - v14) / HIDWORD(v15);
    *a1 = v8;
    v9 = v6 - (v5 + (unsigned __int16)v8 * v7);
    if (v9)
      v10 = v9 % 0xA == 0;
    else
      v10 = 0;
    if (v10)
    {
      do
      {
        v11 = v9;
        v9 /= 0xAu;
      }
      while (v11 >= 0xA && v9 == 10 * ((429496730 * (unint64_t)v9) >> 32));
    }
    if (v9 < 0x10000)
    {
      LOWORD(v12) = v9;
    }
    else
    {
      do
      {
        v12 = v9 / 0xA;
        v13 = v9 >> 17;
        v9 /= 0xAu;
      }
      while (v13 > 4);
    }
    a1[1] = v12;
    return roundUpAndNormalize((uint64_t)a1);
  }
  else
  {
    *(_DWORD *)a1 = 0;
  }
  return result;
}

uint64_t roundUpAndNormalize(uint64_t result)
{
  unsigned int v1;
  unsigned int v2;
  unsigned int v3;

  v1 = *(unsigned __int16 *)(result + 2);
  if (v1 >= 0x64)
  {
    do
    {
      v2 = v1;
      v1 /= 0xAu;
    }
    while (v2 >= 0x3E8);
    *(_WORD *)(result + 2) = v1;
    if (v2 >= 0xA && v1 == 10 * ((429496730 * (unint64_t)v1) >> 32))
    {
      do
      {
        v3 = v1;
        v1 /= 0xAu;
      }
      while (v3 >= 0xA && v1 == 10 * ((429496730 * (unint64_t)v1) >> 32));
      *(_WORD *)(result + 2) = v1;
    }
  }
  if (v1 <= 9)
    *(_WORD *)(result + 2) = 10 * v1;
  return result;
}

uint64_t FLOATSUR_MINUS_INT(_DWORD *a1, unsigned __int16 *a2, unsigned __int16 a3, unsigned __int16 a4)
{
  uint64_t result;
  int v6;
  unsigned __int16 v7[2];

  v6 = 0;
  v7[0] = a3;
  v7[1] = a4;
  result = FLOATSUR_MINUS(&v6, a2, v7);
  *a1 = v6;
  return result;
}

uint64_t FLOATSUR_TIMES(_WORD *a1, unsigned __int16 *a2, unsigned __int16 *a3)
{
  uint64_t result;
  int v5;
  unsigned int v6;
  unsigned int v7;
  unsigned int v8;
  unsigned int v9;
  unint64_t v10;
  unsigned int v11;
  unsigned int v12;
  unsigned int v13;
  uint64_t v14;

  v14 = 0;
  v13 = 0;
  result = getVals(a2, a3, (unsigned int *)&v14 + 1, (uint64_t)&v14, &v13);
  v5 = v13 * v14;
  v6 = HIDWORD(v14) * HIDWORD(v14);
  v7 = v13 * v14 / (HIDWORD(v14) * HIDWORD(v14));
  if (v7 < 0x10000)
  {
    *a1 = v7;
    v8 = v5 - v7 * v6;
    if (v8)
    {
      v9 = v6 / 0xA;
      if (v8 >= v9)
      {
        HIDWORD(v10) = -858993459 * v8;
        LODWORD(v10) = -858993459 * v8;
        if ((v10 >> 1) <= 0x19999999)
        {
          do
          {
            v11 = v8;
            v8 /= 0xAu;
          }
          while (v11 >= 0xA && v8 == 10 * ((429496730 * (unint64_t)v8) >> 32));
        }
        if (v8 < 0x10000)
        {
          LOWORD(v9) = v8;
        }
        else
        {
          do
          {
            v9 = v8 / 0xA;
            v12 = v8 >> 17;
            v8 /= 0xAu;
          }
          while (v12 > 4);
        }
      }
      else
      {
        LOWORD(v9) = 10 * v8 / v9 > 5;
      }
    }
    else
    {
      LOWORD(v9) = 0;
    }
    a1[1] = v9;
    return roundUpAndNormalize((uint64_t)a1);
  }
  else
  {
    *(_DWORD *)a1 = 0xFFFF;
  }
  return result;
}

uint64_t FLOATSUR_TIMES_INT(_DWORD *a1, unsigned __int16 *a2, unsigned __int16 a3, unsigned __int16 a4)
{
  uint64_t result;
  int v6;
  unsigned __int16 v7[2];

  v6 = 0;
  v7[0] = a3;
  v7[1] = a4;
  result = FLOATSUR_TIMES(&v6, a2, v7);
  *a1 = v6;
  return result;
}

uint64_t FLOATSUR_DIV(_WORD *a1, unsigned __int16 *a2, unsigned __int16 *a3)
{
  uint64_t result;
  unsigned int v5;
  int v6;
  unsigned int v7;
  int v8;
  unsigned int v9;
  unsigned int v10;
  unsigned int v11;
  unsigned int v12;
  unsigned int v13;
  unsigned int v14;
  uint64_t v15;

  v15 = 0;
  v14 = 0;
  result = getVals(a2, a3, (unsigned int *)&v15 + 1, (uint64_t)&v15, &v14);
  v5 = v14;
  if (v14)
  {
    v6 = v15;
    v7 = v15 / v14;
    *a1 = v15 / v14;
    v8 = v6 - v7 * v5;
    if (v8)
    {
      v9 = HIDWORD(v15) * v8 * HIDWORD(v15);
      v10 = v9 / v5;
      if (v5 <= v9 && !(v10 % 0xA))
      {
        do
        {
          v11 = v10;
          v10 /= 0xAu;
        }
        while (v11 >= 0xA && v10 == 10 * ((429496730 * (unint64_t)v10) >> 32));
      }
      if (v10 < 0x10000)
      {
        LOWORD(v12) = v10;
      }
      else
      {
        do
        {
          v12 = v10 / 0xA;
          v13 = v10 >> 17;
          v10 /= 0xAu;
        }
        while (v13 > 4);
      }
    }
    else
    {
      LOWORD(v12) = 0;
    }
    a1[1] = v12;
    return roundUpAndNormalize((uint64_t)a1);
  }
  else
  {
    *(_DWORD *)a1 = 0;
  }
  return result;
}

uint64_t load_stress_models(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, _WORD *a7, uint64_t a8, _DWORD *a9, _QWORD *a10, _QWORD *a11, uint64_t a12, _QWORD *a13, _OWORD *a14, _WORD *a15, _BOOL4 *a16)
{
  uint64_t v23;
  uint64_t inited;
  _BOOL4 v25;
  _BOOL4 v26;
  _BOOL4 v27;
  char *v28;
  uint64_t v29;
  const char *v30;
  char *v31;
  uint64_t v33;
  __int128 v35;
  uint64_t v36;
  uint64_t v37;
  _BYTE __c[11];
  const char **v39;

  *(_QWORD *)&__c[3] = 0;
  v39 = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v36 = 0;
  v37 = 0;
  *(_QWORD *)&v35 = safeh_GetNullHandle();
  *((_QWORD *)&v35 + 1) = v23;
  *a10 = 0;
  *a11 = 0;
  inited = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, const char ***, _BYTE *, _BYTE *))(a6 + 96))(a4, a5, "fecfg", "statbnd_stress", &v39, &__c[1], __c);
  if ((inited & 0x80000000) != 0)
    return inited;
  v33 = a8;
  v25 = 0;
  if (*(unsigned __int16 *)&__c[1] == 1 && v39)
  {
    (*v39)[strlen(*v39) - 1] = 0;
    v25 = strcmp(*v39, "yes") == 0;
  }
  *(_WORD *)&__c[1] = 0;
  inited = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, const char ***, _BYTE *, _BYTE *))(a6 + 96))(a4, a5, "fecfg", "statbnd_stress_albert", &v39, &__c[1], __c);
  if ((inited & 0x80000000) != 0)
    return inited;
  v26 = 0;
  if (*(unsigned __int16 *)&__c[1] == 1 && v39)
  {
    (*v39)[strlen(*v39) - 1] = 0;
    v26 = strcmp(*v39, "yes") == 0;
  }
  if (!v25)
    goto LABEL_17;
  v27 = v26;
  inited = fe_stress_tryLoading_STRESS_igModel(a1, a2, a3, &v37);
  if ((inited & 0x80000000) != 0)
    return inited;
  *a10 = v37;
  inited = Init_stress_nn_model(a3, a1, a2, a7, v33, &v36);
  if ((inited & 0x80000000) != 0)
    return inited;
  *a11 = v36;
  v28 = v27 ? "albert" : "char";
  inited = (*(uint64_t (**)(_QWORD, _QWORD, char *, _WORD *, uint64_t, __int128 *))(a12 + 16))(*a13, a13[1], v28, a1, a2, &v35);
  if ((inited & 0x80000000) != 0)
    return inited;
  *a14 = v35;
  *a9 = 1;
  *a16 = v27;
LABEL_17:
  *a15 = 20;
  __c[0] = 0;
  *(_WORD *)&__c[1] = -1;
  v29 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a6 + 96))(a4, a5, "fecfg", "statbnd_pos_dimension", &__c[3], &__c[1], __c);
  if ((v29 & 0x80000000) == 0 && *(_WORD *)&__c[1])
  {
    v30 = **(const char ***)&__c[3];
    v31 = strchr(**(char ***)&__c[3], __c[0]);
    if (v31)
    {
      *v31 = 0;
      v30 = **(const char ***)&__c[3];
    }
    *a15 = atoi(v30);
  }
  return v29;
}

uint64_t fe_stress_tryLoading_STRESS_igModel(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  uint64_t Str;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  char *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unsigned int v25;
  int v26[2];
  uint64_t v27;
  int v28[2];
  _OWORD v29[16];
  char v30[136];
  uint64_t v31;

  v31 = *MEMORY[0x1E0C80C00];
  memset(v29, 0, 240);
  *(_QWORD *)v26 = 0;
  v27 = 0;
  *a4 = 0;
  *(_QWORD *)v28 = 0;
  memset(v30, 0, 128);
  v29[15] = 0u;
  Str = paramc_ParamGetStr(*(_QWORD *)(a3 + 40), (uint64_t)"langcode", v28);
  if ((Str & 0x80000000) != 0
    || (Str = paramc_ParamGetStr(*(_QWORD *)(a3 + 40), (uint64_t)"fecfg", &v27), (Str & 0x80000000) != 0)
    || (__strcat_chk(),
        __strcat_chk(),
        __strcat_chk(),
        __strcat_chk(),
        Str = brokeraux_ComposeBrokerString(a3, v30, 1, 1, *(char **)v28, 0, 0, (char *)v29, 0x100uLL),
        (Str & 0x80000000) != 0)
    || (Str = ssftriff_reader_ObjOpen(a1, a2, 2, (const char *)v29, "IGTR", 1031, (uint64_t *)v26),
        (Str & 0x80000000) != 0))
  {
    v21 = Str;
  }
  else
  {
    v16 = (char *)heap_Calloc(*(_QWORD **)(a3 + 8), 1, 1600);
    *a4 = (uint64_t)v16;
    if (v16)
    {
      v21 = igtree_Init(a1, a2, *(uint64_t *)v26, v16);
      ssftriff_reader_CloseChunk(*(uint64_t *)v26);
      if ((v21 & 0x80001FFF) == 0x14)
      {
        ssftriff_reader_CloseChunk(*(uint64_t *)v26);
        v21 = 0;
      }
    }
    else
    {
      log_OutPublic(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v17, v18, v19, v20, v25);
      v21 = 2315264010;
    }
  }
  if (*(_QWORD *)v26)
  {
    v22 = ssftriff_reader_ObjClose(*(_QWORD **)v26, v9, v10, v11, v12, v13, v14, v15);
    if ((v21 & 0x80000000) == 0)
    {
      v23 = v22;
      if ((v22 & 0x80000000) != 0)
      {
        if (*a4)
        {
          heap_Free(*(_QWORD **)(a3 + 8), *a4);
          *a4 = 0;
        }
        return v23;
      }
    }
  }
  return v21;
}

uint64_t Init_stress_nn_model(uint64_t a1, _WORD *a2, uint64_t a3, _WORD *a4, uint64_t a5, _QWORD *a6)
{
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  int v20[2];
  _OWORD v21[16];
  char v22[136];
  uint64_t v23;

  v23 = *MEMORY[0x1E0C80C00];
  memset(v21, 0, 240);
  v18 = 0;
  v19 = 0;
  *a6 = 0;
  *(_QWORD *)v20 = 0;
  memset(v22, 0, 128);
  v21[15] = 0u;
  if ((paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", v20) & 0x80000000) == 0
    && (paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"fecfg", &v19) & 0x80000000) == 0)
  {
    __strcat_chk();
    __strcat_chk();
    __strcat_chk();
    __strcat_chk();
    brokeraux_ComposeBrokerString(a1, v22, 1, 1, *(char **)v20, 0, 0, (char *)v21, 0x100uLL);
  }
  v15 = fi_init(a2, a3, a4, a5, &v18, 0, (uint64_t)v21, (uint64_t)"FINN", 1, 0);
  if ((v15 & 0x80000000) != 0)
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Init Stress FI model failed", v12, v13, v14, v17);
  else
    *a6 = v18;
  return v15;
}

uint64_t *free_stress_model(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t *v11;

  v11 = (uint64_t *)a4;
  if (a3)
  {
    igtree_Deinit(a1, a3, a3, a4, a5, a6, a7, a8);
    heap_Free(*(_QWORD **)(a1 + 8), a3);
  }
  if (v11)
    v11 = (uint64_t *)fi_deinit(a1, a2, v11);
  if (a5)
    (*(void (**)(uint64_t, uint64_t))(a5 + 24))(a6, a7);
  return v11;
}

uint64_t fe_stress_process(_QWORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t ***a9, unsigned __int16 a10, int a11)
{
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t inited;
  int v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  __int16 v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  char *v41;
  unsigned __int16 v42;
  uint64_t v43;
  unsigned int v44;
  int v45;
  uint64_t v47;
  char *v48;
  char *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  const char *v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t v62;
  unsigned int v63;
  char *v64;
  size_t v65;
  char *v66;
  unsigned __int16 v67;
  char *v68;
  uint64_t v69;
  unsigned int v70;
  unsigned int v71;
  uint64_t v72;
  uint64_t v73;
  _OWORD *v74;
  uint64_t v75;
  uint64_t v76;
  char *v77;
  unsigned int NextUtf8Offset;
  char *v79;
  uint64_t v80;
  const char *v81;
  int v82;
  char v83;
  int v84;
  char *v85;
  unsigned __int16 v86;
  int v87;
  const char *v88;
  int v89;
  char *v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t v97;
  uint64_t v98;
  const char **v99;
  int v100;
  char *v101;
  uint64_t v102;
  uint64_t v103;
  uint64_t v104;
  uint64_t v105;
  int v106;
  char *v107;
  const char *v108;
  int v109;
  char *v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t *v114;
  unint64_t v115;
  int v116;
  char *v117;
  uint64_t v118;
  uint64_t v119;
  uint64_t v120;
  uint64_t v121;
  int v122;
  char *v123;
  uint64_t v124;
  uint64_t v125;
  uint64_t v126;
  char **v127;
  _BYTE *v128;
  const char *v129;
  const char **v130;
  __int16 v131;
  int v132;
  unsigned __int16 v133;
  unsigned __int16 v134;
  uint64_t UTF8Char;
  size_t v136;
  BOOL v137;
  uint64_t v138;
  uint64_t v139;
  uint64_t v140;
  uint64_t v141;
  _QWORD *v142;
  uint64_t v143;
  uint64_t v144;
  uint64_t v145;
  uint64_t *v146;
  uint64_t v147;
  unint64_t v148;
  uint64_t v149;
  uint64_t v150;
  uint64_t *v151;
  uint64_t v152;
  uint64_t v153;
  uint64_t v154;
  unsigned __int16 *v155;
  int v156;
  uint64_t v157;
  unint64_t v158;
  uint64_t v159;
  const char *v160;
  uint64_t v161;
  uint64_t v162;
  uint64_t v163;
  uint64_t v164;
  uint64_t v165;
  uint64_t v166;
  uint64_t *v167;
  __int16 v168;
  int v169;
  int v170;
  int v171;
  uint64_t v172;
  uint64_t v173;
  int v174;
  char *v175;
  uint64_t v176;
  uint64_t v177;
  uint64_t v178;
  uint64_t v179;
  uint64_t v180;
  const char **v181;
  const char **v182;
  __int16 v183;
  unsigned __int16 v184;
  unsigned __int16 v185;
  unsigned __int16 v186;
  __int16 v187;
  unsigned __int16 v188;
  uint64_t v189;
  uint64_t v190;
  _BOOL4 IsChineseLetter;
  int v192;
  __int16 v193;
  uint64_t v194;
  uint64_t v195;
  const char *v196;
  size_t v197;
  uint64_t v198;
  int v199;
  int v200;
  _BYTE *v201;
  uint64_t v202;
  uint64_t v203;
  uint64_t v204;
  uint64_t v205;
  uint64_t v206;
  uint64_t v207;
  __int16 v208;
  int v209;
  int v210;
  unsigned __int16 v211;
  unsigned __int16 v212;
  uint64_t v213;
  uint64_t v214;
  _BOOL4 v215;
  _BOOL4 v216;
  uint64_t v217;
  uint64_t v218;
  uint64_t v219;
  uint64_t v220;
  uint64_t v221;
  uint64_t v222;
  int v223;
  _WORD *v224;
  __int16 v225;
  int v226;
  unsigned __int16 v227;
  unsigned __int16 v228;
  int v229;
  unsigned __int16 v230;
  unsigned __int16 v231;
  int v232;
  unsigned __int16 v233;
  int v234;
  char *v235;
  uint64_t v236;
  uint64_t v237;
  uint64_t v238;
  uint64_t v239;
  size_t v240;
  const char *v241;
  uint64_t v242;
  uint64_t v243;
  uint64_t v244;
  uint64_t v245;
  unsigned __int16 *v246;
  int v247;
  uint64_t v248;
  unint64_t v249;
  uint64_t v250;
  _QWORD *v251;
  const char *v252;
  uint64_t v253;
  unsigned __int16 v254;
  unsigned __int32 *v255;
  unsigned __int32 *v256;
  unsigned int v257;
  uint64_t v258;
  uint64_t v259;
  const char *v260;
  uint64_t v261;
  unsigned int v262;
  unsigned int v263;
  uint64_t v265;
  uint64_t v266;
  uint64_t v267;
  uint64_t v268;
  __int16 v269;
  int v270;
  unsigned __int16 v271;
  BOOL v272;
  int v273;
  unsigned __int16 v274;
  __int16 v275;
  uint64_t v276;
  __n128 v277;
  int v279;
  uint64_t v280;
  uint64_t v281;
  uint64_t v282;
  __n128 v283;
  _BYTE *v285;
  unsigned int v286;
  unsigned __int32 *v287;
  uint64_t v288;
  uint64_t v289;
  uint64_t v290;
  unsigned int v291;
  uint64_t v292;
  int v293;
  uint64_t v294;
  uint64_t v295;
  uint64_t v296;
  uint64_t v297;
  unsigned int v298;
  uint64_t v299;
  uint64_t v300;
  uint64_t v301;
  unsigned __int16 v303;
  uint64_t v305;
  uint64_t v306;
  uint64_t v307;
  int v308;
  uint64_t v309;
  uint64_t v310;
  uint64_t v311;
  uint64_t v312;
  unsigned int v313;
  uint64_t v314;
  int v315;
  uint64_t v316;
  uint64_t v317;
  const char *v318;
  unint64_t v319;
  uint64_t v320;
  _DWORD *v321;
  const char *v322;
  unsigned int v323;
  unsigned int v324;
  unsigned int v325;
  unsigned __int16 v326;
  unsigned int v327;
  unsigned int v328;
  unsigned int v329;
  uint64_t v332;
  uint64_t *v333;
  uint64_t *v334;
  unsigned int v335;
  uint64_t v336;
  uint64_t v337;
  uint64_t v338;
  const char *v339;
  unsigned __int16 *v340;
  int v341;
  int v342;
  int v343;
  uint64_t v345;
  unsigned __int16 v346;
  unint64_t v347;
  _QWORD *v348;
  uint64_t v349;
  unsigned __int16 *v350;
  int v351;
  int v352;
  uint64_t *v353;
  uint64_t v354;
  unsigned int v355;
  uint64_t v356;
  uint64_t v357;
  uint64_t v358;
  uint64_t v359;
  uint64_t v360;
  char *v361;
  uint64_t v362;
  uint64_t v363;
  uint64_t v364;
  uint64_t v365;
  uint64_t v366;
  uint64_t v367;
  uint64_t v368;
  uint64_t v369;
  uint64_t v370;
  uint64_t v371;
  char *v372;
  uint64_t v373;
  char *v374;
  uint64_t v375;
  char *v376;
  uint64_t v377;
  char *v378;
  uint64_t v379;
  char *v380;
  uint64_t v381;
  char *v382;
  uint64_t v383;
  char *v384;
  uint64_t v385;
  char *v386;
  uint64_t v387;
  char *v388;
  uint64_t v389;
  uint64_t v390;
  uint64_t v391;
  char *v392;
  uint64_t v393;
  char *v394;
  uint64_t v395;
  char *v396;
  uint64_t v397;
  const char *v398;
  unsigned int v399;
  unsigned int v400;
  int v401;
  uint64_t v402;
  char *v403;
  char *v404;
  uint64_t v405;
  unsigned __int16 v406;
  unsigned __int16 v407;
  const char *v409;
  unint64_t v410;
  unsigned int v411;
  unsigned int v412;
  uint64_t v413;
  uint64_t v414;
  uint64_t v415;
  uint64_t v416;
  uint64_t v417;
  uint64_t v418;
  unint64_t v419;
  uint64_t v420;
  __int16 v421;
  unint64_t v422;
  uint64_t v423;
  uint64_t *v424;
  unint64_t v425;
  uint64_t v426;
  uint64_t v427;
  _QWORD *v428;
  uint64_t v429;
  unint64_t v430;
  uint64_t v431;
  uint64_t *v432;
  uint64_t v433;
  unint64_t v434;
  uint64_t v435;
  uint64_t v436;
  uint64_t *v437;
  uint64_t v438;
  unint64_t v439;
  unsigned __int16 *v440;
  int v441;
  uint64_t v442;
  unint64_t v443;
  uint64_t v444;
  uint64_t v446;
  unsigned __int16 v447;
  uint64_t v448;
  char **v449;
  int v450;
  uint64_t v451;
  uint64_t v452;
  __int16 v453;
  __int16 v454;
  unsigned __int16 v455;
  _WORD *v456;
  int v457;
  unsigned __int16 v458;
  const char **v459;
  const char *v460;
  uint64_t *v461;
  int v462;
  uint64_t v463;
  uint64_t v464;
  uint64_t v465;
  const char **v466;
  BOOL v467;
  uint64_t v468;
  uint64_t v469;
  uint64_t *v470;
  int v471;
  uint64_t v472;
  uint64_t v473;
  uint64_t v474;
  __int16 v475;
  uint64_t v476;
  uint64_t *v477;
  int v478;
  uint64_t v479;
  int v480;
  uint64_t v481;
  unsigned int v482;
  uint64_t v483;
  unsigned int v484;
  uint64_t v485;
  uint64_t v486;
  char *__s;
  int __sa;
  int __sb;
  char *__sc;
  char *v491;
  char *v492;
  const char *v493;
  unsigned __int16 v494;
  uint64_t v495;
  _QWORD *v496;
  uint64_t v497;
  int v498;
  unsigned __int16 *v499;
  uint64_t v500;
  uint64_t v501;
  _QWORD *v502;
  int v503;
  unsigned __int16 *v504;
  const char *v505;
  char *v506;
  unsigned __int16 *v507;
  const char *v508;
  uint64_t *v509;
  uint64_t v510;
  uint64_t v511;
  unsigned __int16 *v512;
  uint64_t v513;
  const char *v514;
  unint64_t v515;
  char *v516;
  int v517;
  int v518;
  uint64_t v520;
  char *v522;
  unsigned int v523;
  unsigned __int16 v524;
  __int16 v525;
  char *v526;
  char *v527;
  char v528[8];
  int v529;
  int v530;
  unsigned int v531;
  unsigned __int16 v532;
  int v533;
  int v534;
  char *v535;
  const char *v536;
  char v537[4];
  char v538;
  char v539[4];
  char v540;
  char __s2[4];
  char v542;

  v17 = heap_Calloc((_QWORD *)a1[1], 1, 16);
  if (!v17)
  {
    inited = 2315264010;
    log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v18, v19, v20, v21, v446);
    return inited;
  }
  v22 = v17;
  v533 = 0;
  v534 = 0;
  v535 = 0;
  v536 = 0;
  v532 = 0;
  v530 = 0;
  v531 = 0;
  v529 = 0;
  v527 = 0;
  *(_QWORD *)v528 = 0;
  v526 = 0;
  *(_WORD *)(v17 + 12) = 0;
  v23 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a4 + 104))(a2, a3, 1, 0, (char *)&v534 + 2);
  if ((v23 & 0x80000000) != 0)
    goto LABEL_572;
  inited = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, int *))(a4 + 184))(a2, a3, HIWORD(v534), 0, &v533);
  v25 = 0;
  if ((inited & 0x80000000) != 0)
    goto LABEL_287;
  if ((unsigned __int16)v533 != 1)
    goto LABEL_287;
  inited = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, const char **, char *))(a4 + 176))(a2, a3, HIWORD(v534), 0, &v536, (char *)&v533 + 2);
  v25 = 0;
  if ((inited & 0x80000000) != 0 || HIWORD(v533) < 2u)
    goto LABEL_287;
  log_OutText(a1[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Stress: processing=\"%s\"", v26, v27, v28, (uint64_t)v536);
  v29 = heap_Calloc((_QWORD *)a1[1], 1, 1024);
  if (!v29)
    goto LABEL_612;
  v34 = v29;
  v473 = a5;
  v35 = strlen(v536);
  v36 = heap_Calloc((_QWORD *)a1[1], 1, (unsigned __int16)(v35 + 1));
  if (!v36)
  {
    inited = 2315264010;
    log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v37, v38, v39, v40, v446);
    v251 = (_QWORD *)a1[1];
    v252 = (const char *)v34;
    goto LABEL_381;
  }
  v41 = (char *)v36;
  inited = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a4 + 104))(a2, a3, 2, HIWORD(v534), &v534);
  if ((inited & 0x80000000) != 0 || (v42 = v534) == 0)
  {
    heap_Free((_QWORD *)a1[1], v34);
    v25 = 0;
    v253 = (uint64_t)v41;
    a5 = v473;
    goto LABEL_286;
  }
  v483 = v34;
  v516 = 0;
  v494 = 0;
  v503 = 0;
  v482 = -1979703286;
  v491 = v41;
  v468 = a3;
  v485 = a2;
  v510 = a6;
  do
  {
    v43 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a4 + 168))(a2, a3, v42, 0, 1, &v531, (char *)&v533 + 2);
    if ((v43 & 0x80000000) != 0)
    {
LABEL_262:
      inited = v43;
      goto LABEL_263;
    }
    v44 = v531;
    if (v531 == 15)
    {
      v43 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a4 + 168))(a2, a3, (unsigned __int16)v534, 1, 1, (char *)&v530 + 2, (char *)&v533 + 2);
      if ((v43 & 0x80000000) != 0)
        goto LABEL_262;
      v43 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a4 + 168))(a2, a3, (unsigned __int16)v534, 2, 1, &v530, (char *)&v533 + 2);
      if ((v43 & 0x80000000) != 0)
        goto LABEL_262;
      if (HIWORD(v530) > (unsigned __int16)v530)
        goto LABEL_267;
      v44 = v531;
    }
    v137 = v44 > 0xA;
    v45 = (1 << v44) & 0x610;
    if (v137 || v45 == 0)
      goto LABEL_167;
    v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a4 + 168))(a2, a3, (unsigned __int16)v534, 1, 1, (char *)&v529 + 2, (char *)&v533 + 2);
    if ((v47 & 0x80000000) != 0
      || (v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a4 + 168))(a2, a3, (unsigned __int16)v534, 2, 1, &v529, (char *)&v533 + 2), (v47 & 0x80000000) != 0))
    {
LABEL_261:
      inited = v47;
      v503 = 0;
LABEL_263:
      v160 = 0;
      v54 = 0;
      break;
    }
    if (HIWORD(v529) > (unsigned __int16)v529)
    {
      v503 = 0;
LABEL_267:
      v160 = 0;
      v54 = 0;
      v254 = 16049;
LABEL_268:
      inited = v254 | 0x8A000000;
      break;
    }
    strncpy(v41, &v536[HIWORD(v529)], (unsigned __int16)v529 - (unint64_t)HIWORD(v529));
    v41[(unsigned __int16)v529 - HIWORD(v529)] = 0;
    v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, int *))(a4 + 184))(a2, a3, (unsigned __int16)v534, 14, &v533);
    if ((v47 & 0x80000000) != 0)
      goto LABEL_261;
    if ((unsigned __int16)v533 == 1)
    {
      v47 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a4 + 176))(a2, a3, (unsigned __int16)v534, 14, &v535, (char *)&v533 + 2);
      if ((v47 & 0x80000000) != 0)
        goto LABEL_261;
      hlp_NLUStrFind(v535, "POS", (uint64_t *)&v527, &v532);
    }
    v493 = v527;
    if (v527)
    {
      v503 = 0;
    }
    else
    {
      v48 = (char *)heap_Calloc((_QWORD *)a1[1], 1, 2);
      v527 = v48;
      if (!v48)
      {
        v503 = 1;
        v160 = 0;
        v54 = 0;
        goto LABEL_265;
      }
      *v48 = 61;
      v527[1] = 0;
      v503 = 1;
    }
    v49 = (char *)heap_Calloc((_QWORD *)a1[1], 1, v532 + 1);
    v54 = v49;
    if (!v49)
      goto LABEL_264;
    strncpy(v49, v527, v532);
    v54[v532] = 0;
    v55 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *, char *))(a4 + 176))(a2, a3, (unsigned __int16)v534, 9, v528, (char *)&v533 + 2);
    if ((v55 & 0x80000000) != 0)
    {
      inited = v55;
      v160 = 0;
      break;
    }
    v56 = heap_Calloc((_QWORD *)a1[1], 1, 16);
    if (!v56)
    {
LABEL_264:
      log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v50, v51, v52, v53, v446);
      v160 = 0;
LABEL_265:
      v254 = 8202;
      goto LABEL_268;
    }
    v57 = v56;
    *(_DWORD *)(v56 + 8) = 655360;
    v58 = heap_Calloc((_QWORD *)a1[1], 10, 16);
    *(_QWORD *)v57 = v58;
    if (!v58)
    {
      v508 = 0;
      goto LABEL_279;
    }
    v63 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a4 + 176))(a2, a3, (unsigned __int16)v534, 3, &v526, (char *)&v533 + 2);
    if ((v63 & 0x80000000) != 0)
    {
      v508 = 0;
      v482 = v63;
      goto LABEL_280;
    }
    v64 = v526;
    if (strstr(v526, "[SVOX]"))
    {
      v64 += 6;
      v526 = v64;
    }
    v65 = strlen(v64);
    v66 = (char *)heap_Alloc(a1[1], v65 + 1);
    if (!v66)
    {
      v508 = 0;
      a3 = v468;
LABEL_278:
      a6 = v510;
LABEL_279:
      log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v59, v60, v61, v62, v446);
LABEL_280:
      stat_stress_freeCandidatePhons(a1, v57);
      heap_Free((_QWORD *)a1[1], v57);
      inited = v482;
      v160 = v508;
      break;
    }
    v508 = v66;
    strcpy(v66, v526);
    v67 = strlen(v526);
    if (v67 >= v494)
    {
      if ((unsigned __int16)(v67 + 1) <= 4u)
        v69 = 4;
      else
        v69 = (unsigned __int16)(v67 + 1);
      v494 = v69;
      v68 = (char *)heap_Realloc((uint64_t *)a1[1], (uint64_t)v516, v69);
      a3 = v468;
      if (!v68)
        goto LABEL_278;
LABEL_48:
      v516 = v68;
      *v68 = 0;
      goto LABEL_49;
    }
    v68 = v516;
    if (v516)
      goto LABEL_48;
    v516 = 0;
LABEL_49:
    v505 = v54;
    v513 = v57;
    if (strlen(v41))
    {
      v70 = 0;
      v71 = 0;
      while (1)
      {
        if ((utf8_getUTF8Char((uint64_t)v41, v71, &v525) & 0x80000000) != 0)
          goto LABEL_83;
        v72 = *(unsigned __int16 *)(v57 + 10);
        if (*(unsigned __int16 *)(v57 + 8) >= v72)
        {
          v73 = heap_Realloc((uint64_t *)a1[1], *(_QWORD *)v57, 16 * v72 + 160);
          if (!v73)
          {
            a3 = v468;
            goto LABEL_278;
          }
          *(_QWORD *)v57 = v73;
          v74 = (_OWORD *)(v73 + 16 * *(unsigned __int16 *)(v57 + 8));
          v74[8] = 0u;
          v74[9] = 0u;
          v74[6] = 0u;
          v74[7] = 0u;
          v74[4] = 0u;
          v74[5] = 0u;
          v74[2] = 0u;
          v74[3] = 0u;
          *v74 = 0u;
          v74[1] = 0u;
          *(_WORD *)(v57 + 10) += 10;
        }
        *(_DWORD *)__s2 = v71;
        if (!v516)
          break;
        v75 = a2;
        v76 = a4;
        *(_WORD *)v539 = 0;
        if (utf8_Utf8CharTo16bit((unsigned __int8 *)v41, (uint64_t)v539)
          && (unsigned __int16)((unsigned __int16)(*(_WORD *)v539 + 24576) >> 9) <= 0x56u
          && (*(unsigned __int16 *)v539 > 0x3Eu || ((1 << v539[0]) & 0x5000040000000000) == 0))
        {
          v81 = v516;
          strcpy(v516, v508);
          v83 = 1;
        }
        else
        {
          utf8_GetPreviousValidUtf8Offset((uint64_t)v41, (unsigned int *)__s2);
          v77 = (char *)v508;
          if (*(_DWORD *)__s2)
          {
            NextUtf8Offset = 0;
            v77 = (char *)v508;
            while (1)
            {
              NextUtf8Offset = utf8_GetNextUtf8Offset(v41, NextUtf8Offset);
              v79 = strchr(v77, 46);
              if (!v79)
                break;
              if (*v79 == 46)
                v77 = v79 + 1;
              else
                v77 = v79;
              if (NextUtf8Offset == *(_DWORD *)__s2)
                goto LABEL_67;
            }
            v57 = v513;
            v516[NextUtf8Offset] = 0;
            a4 = v76;
            a2 = v75;
            v54 = v505;
            goto LABEL_83;
          }
LABEL_67:
          LODWORD(v80) = 0;
          v81 = v516;
          while (1)
          {
            v82 = v77[v80];
            v80 = v80;
            if (!v77[v80] || v82 == 46)
              break;
            v516[v80] = v82;
            if ((_DWORD)v80 && v82 == 125 && v516[(v80 - 1)] - 48 <= 9)
            {
              v77[v80] = 46;
              v80 = (v80 + 1);
              break;
            }
            LODWORD(v80) = v80 + 1;
          }
          v83 = 0;
          v516[v80] = 0;
        }
        v84 = strlen(v81);
        v85 = (char *)heap_Alloc(a1[1], (v84 + 1));
        v57 = v513;
        *(_QWORD *)(*(_QWORD *)v513 + 16 * *(unsigned __int16 *)(v513 + 8)) = v85;
        if (!v85)
        {
          a4 = v76;
          a3 = v468;
          a2 = v75;
          a6 = v510;
          v41 = v491;
          v54 = v505;
          goto LABEL_279;
        }
        strcpy(v85, v81);
        v70 += strlen(v81) + 1;
        v86 = *(_WORD *)(v513 + 8) + 1;
        *(_WORD *)(v513 + 8) = v86;
        if ((v83 & 1) != 0)
        {
          a4 = v76;
          v41 = v491;
          v54 = v505;
          goto LABEL_84;
        }
        v41 = v491;
        v71 = utf8_GetNextUtf8Offset(v491, v71);
        a4 = v76;
        a2 = v75;
        v54 = v505;
        v57 = v513;
        if (v71 >= strlen(v491))
          goto LABEL_83;
      }
    }
    v70 = 0;
LABEL_83:
    v75 = a2;
    v86 = *(_WORD *)(v57 + 8);
LABEL_84:
    if (v86)
    {
      v87 = strlen(v526);
      if (v70 < v87 + 1)
      {
        v57 = v513;
        v88 = *(const char **)(*(_QWORD *)v513 + 16 * (v86 - 1));
        v89 = strlen(v88);
        v90 = (char *)heap_Realloc((uint64_t *)a1[1], (uint64_t)v88, v87 - v70 + v89 + 2);
        if (!v90)
        {
          a3 = v468;
          a2 = v75;
          goto LABEL_278;
        }
        *(_QWORD *)(*(_QWORD *)v513 + 16 * *(unsigned __int16 *)(v513 + 8) - 16) = v90;
        strcat(v90, &v526[v70 - 1]);
      }
    }
    v475 = HIWORD(v529);
    v480 = (unsigned __int16)v529;
    v471 = (unsigned __int16)v530;
    __s = *(char **)v528;
    v91 = *(unsigned __int16 *)(v22 + 10);
    if (*(_WORD *)(v22 + 10))
    {
      a3 = v468;
      a6 = v510;
      if (*(unsigned __int16 *)(v22 + 8) >= v91)
      {
        a2 = v75;
        v98 = heap_Realloc((uint64_t *)a1[1], *(_QWORD *)v22, (v91 << 6) + 1280);
        v97 = v513;
        if (!v98)
          goto LABEL_162;
        *(_QWORD *)v22 = v98;
        bzero((void *)(v98 + ((unint64_t)*(unsigned __int16 *)(v22 + 8) << 6)), 0x500uLL);
        *(_WORD *)(v22 + 10) += 20;
        v497 = *(_QWORD *)v22;
        goto LABEL_96;
      }
      v497 = *(_QWORD *)v22;
    }
    else
    {
      v92 = heap_Calloc((_QWORD *)a1[1], 1, 3201);
      *(_QWORD *)v22 = v92;
      a3 = v468;
      a6 = v510;
      v497 = v92;
      if (!v92)
      {
        a2 = v75;
LABEL_162:
        log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v93, v94, v95, v96, v446);
        inited = 2315264010;
        goto LABEL_163;
      }
      *(_WORD *)(v22 + 10) = 50;
    }
    v97 = v513;
LABEL_96:
    v500 = *(unsigned __int16 *)(v22 + 8);
    v99 = (const char **)(v497 + (v500 << 6));
    v100 = strlen(v41);
    v101 = (char *)heap_Calloc((_QWORD *)a1[1], 1, (v100 + 4));
    *v99 = v101;
    if (!v101)
      goto LABEL_126;
    strcpy(v101, v41);
    v106 = strlen(v54);
    v107 = (char *)heap_Calloc((_QWORD *)a1[1], 1, (v106 + 1));
    v99[2] = v107;
    if (!v107)
      goto LABEL_126;
    v466 = v99 + 2;
    strcpy(v107, v54);
    v108 = __s;
    v109 = strlen(__s);
    v110 = (char *)heap_Calloc((_QWORD *)a1[1], 1, (v109 + 1));
    v111 = v497 + (v500 << 6);
    *(_QWORD *)(v111 + 24) = v110;
    if (!v110
      || (v459 = (const char **)(v111 + 24),
          strcpy(v110, __s),
          v112 = *(unsigned __int16 *)(v97 + 8),
          *(_WORD *)(v111 + 54) = v112,
          v113 = heap_Calloc((_QWORD *)a1[1], v112, 32),
          *(_QWORD *)(v111 + 56) = v113,
          v477 = (uint64_t *)(v111 + 56),
          !v113))
    {
LABEL_126:
      log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v102, v103, v104, v105, v446);
      inited = 2315264010;
      goto LABEL_127;
    }
    v470 = (uint64_t *)(v497 + (v500 << 6));
    v114 = (uint64_t *)(v111 + 56);
    if (*(_WORD *)(v97 + 8))
    {
      v115 = 0;
      v463 = a4;
      do
      {
        v116 = strlen(*(const char **)(*(_QWORD *)v97 + 16 * v115));
        v117 = (char *)heap_Calloc((_QWORD *)a1[1], 1, (v116 + 1));
        *(_QWORD *)(*v114 + 32 * v115) = v117;
        if (!v117)
          goto LABEL_216;
        strcpy(v117, *(const char **)(*(_QWORD *)v97 + 16 * v115));
        v122 = strlen(v108);
        v123 = (char *)heap_Calloc((_QWORD *)a1[1], 1, (v122 + 1));
        *(_QWORD *)(*v114 + 32 * v115 + 16) = v123;
        if (!v123
          || (strcpy(v123, v108),
              v124 = heap_Calloc((_QWORD *)a1[1], 1, 4),
              v125 = *v114,
              v126 = *v114 + 32 * v115,
              *(_QWORD *)(v126 + 8) = v124,
              v127 = (char **)(v126 + 8),
              !v124))
        {
LABEL_216:
          log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v118, v119, v120, v121, v446);
          inited = 2315264010;
          goto LABEL_220;
        }
        v128 = (_BYTE *)v124;
        v129 = *(const char **)(v126 + 16);
        if (!strcmp(v129, "normal") || !strcmp(v129, "mnx"))
        {
          v542 = 0;
          *(_DWORD *)__s2 = 0;
          if (!*v128)
          {
            v130 = (const char **)(v125 + 32 * v115);
            v131 = Utf8_Utf8NbrOfSymbols(*v130);
            v132 = (unsigned __int16)(v131 - 1);
            if (v131 != 1)
            {
              v133 = 0;
              while (1)
              {
                v134 = v133;
                UTF8Char = utf8_getUTF8Char((uint64_t)*v130, v133, __s2);
                if ((UTF8Char & 0x80000000) != 0)
                  break;
                v97 = v513;
                if (__s2[0] != 46)
                {
                  v136 = strlen(__s2);
                  v137 = __s2[0] - 54 < 0xFFFFFFFA || v136 > 1;
                  if (!v137 && strlen(*v127) <= 2)
                    strcat(*v127, __s2);
                  v133 = v134 + strlen(__s2);
                  if (--v132)
                    continue;
                }
                goto LABEL_109;
              }
              inited = UTF8Char;
              a4 = v463;
LABEL_220:
              a6 = v510;
              v99 = (const char **)(v497 + (v500 << 6));
LABEL_127:
              v138 = v497;
              goto LABEL_128;
            }
          }
LABEL_109:
          v108 = __s;
          if (!**v127)
            *(_WORD *)*v127 = 61;
          a4 = v463;
          v99 = (const char **)(v497 + (v500 << 6));
        }
        else
        {
          *(_WORD *)v128 = 61;
          a4 = v463;
          v99 = (const char **)(v497 + (v500 << 6));
          v108 = __s;
        }
        v114 = v477;
        *(_DWORD *)(*v477 + 32 * v115++ + 24) = 0;
      }
      while (v115 < *(unsigned __int16 *)(v97 + 8));
    }
    v540 = 0;
    *(_DWORD *)v539 = 0;
    v538 = 0;
    *(_DWORD *)v537 = 0;
    v161 = heap_Calloc((_QWORD *)a1[1], 5, 40);
    v138 = v497;
    v166 = v497 + (v500 << 6);
    *(_QWORD *)(v166 + 40) = v161;
    v167 = (uint64_t *)(v166 + 40);
    if (!v161)
    {
      log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v162, v163, v164, v165, v446);
      inited = 2315264010;
      a6 = v510;
      goto LABEL_245;
    }
    v168 = Utf8_Utf8NbrOfSymbols(*v99);
    v169 = 0;
    LOWORD(v170) = 0;
    v171 = 0;
    v478 = 0;
    v172 = 0;
    v454 = 0;
    v455 = v168 - 1;
    v457 = (unsigned __int16)(v168 - 1);
    v447 = 5;
    v461 = v167;
    while (1)
    {
      __sa = (unsigned __int16)v170;
      v173 = utf8_getUTF8Char(*v470, (unsigned __int16)v170, v539);
      if ((v173 & 0x80000000) != 0)
      {
        inited = v173;
        goto LABEL_225;
      }
      if (v457 == v169 || (v174 = v539[0], v539[0] == 45))
      {
        v175 = (char *)heap_Calloc((_QWORD *)a1[1], 1, (unsigned __int16)(__sa - v171 + 1));
        v451 = v172;
        v180 = (unsigned __int16)v172;
        *(_QWORD *)(*v167 + 40 * (unsigned __int16)v172) = v175;
        if (!v175)
        {
          log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v176, v177, v178, v179, v446);
          inited = 2315264010;
          a6 = v510;
          v99 = (const char **)(v497 + (v500 << 6));
LABEL_222:
          v138 = v497;
          goto LABEL_245;
        }
        strncpy(v175, (const char *)(*v470 + (unsigned __int16)v171), (unsigned __int16)(__sa - v171));
        *(_BYTE *)(*(_QWORD *)(*v167 + 40 * (unsigned __int16)v172) + (unsigned __int16)(__sa - v171)) = 0;
        v452 = 5 * (unsigned __int16)v172;
        v181 = (const char **)(*v167 + 40 * (unsigned __int16)v172);
        v542 = 0;
        *(_DWORD *)__s2 = 0;
        v182 = v181;
        v183 = Utf8_Utf8NbrOfSymbols(*v181);
        v184 = v183 - 1;
        v450 = v171;
        if (v183 != 1)
        {
          v448 = (unsigned __int16)v172;
          v185 = 0;
          v186 = 0;
          v187 = 0;
          while (1)
          {
            v188 = v185;
            v189 = utf8_getUTF8Char((uint64_t)*v182, v185, __s2);
            if ((v189 & 0x80000000) != 0)
              break;
            v190 = a4;
            IsChineseLetter = utf8_IsChineseLetter(__s2);
            v192 = isPunc(__s2);
            if (!v186 && !IsChineseLetter && !v192)
            {
              v184 = 1;
              a4 = v190;
LABEL_186:
              v193 = v184 - v187;
              v180 = v448;
              goto LABEL_187;
            }
            v187 += v192;
            v185 = v188 + strlen(__s2);
            ++v186;
            a4 = v190;
            if (v186 >= v184)
              goto LABEL_186;
          }
          inited = v189;
          a6 = v510;
          v99 = (const char **)(v497 + (v500 << 6));
          v167 = v461;
          goto LABEL_222;
        }
        v193 = 0;
LABEL_187:
        *((_WORD *)v182 + 16) = v193;
        v194 = *v461;
        v195 = *v461 + 8 * v452;
        v453 = *(_WORD *)(v195 + 32);
        v196 = *(const char **)v195;
        v138 = v497;
        if (*(_QWORD *)v195
          && (v197 = strlen(*(const char **)v195)) != 0
          && (strstr("'\",.:?!;()<>[]#$+-=^_|", &v196[v197 - 1]) || strstr("'\",.:?!;()<>[]#$+-=^_|", v196)))
        {
          v198 = a4;
          v199 = 1;
        }
        else
        {
          v198 = a4;
          v199 = 0;
        }
        *(_DWORD *)(v194 + 40 * v180 + 16) = v199;
        v200 = strlen(v196);
        v201 = (_BYTE *)heap_Calloc((_QWORD *)a1[1], 1, (v200 + 4));
        *(_QWORD *)(*v461 + 40 * v180 + 24) = v201;
        if (!v201)
        {
          log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v202, v203, v204, v205, v446);
          inited = 2315264010;
          a4 = v198;
          a6 = v510;
          v99 = (const char **)(v497 + (v500 << 6));
          v167 = v461;
          goto LABEL_245;
        }
        *v201 = 0;
        v206 = *v461;
        v207 = *v461 + 40 * v180;
        a4 = v198;
        if (*(_DWORD *)(v207 + 16) == 1)
        {
          v542 = 0;
          *(_DWORD *)__s2 = 0;
          v208 = Utf8_Utf8NbrOfSymbols(*(const char **)v207);
          v209 = (unsigned __int16)(v208 - 1);
          if (v208 != 1)
          {
            v210 = 0;
            v211 = 0;
            v449 = (char **)(v206 + 40 * v180 + 24);
            while (1)
            {
              v212 = v211;
              v213 = utf8_getUTF8Char(*(_QWORD *)v207, v211, __s2);
              if ((v213 & 0x80000000) != 0)
                break;
              v214 = a4;
              v215 = isPunc(__s2);
              v216 = utf8_IsChineseLetter(__s2);
              if (!v210 && !v216 && !v215)
              {
                v223 = strlen(*(const char **)v207);
                strncpy(*v449, *(const char **)v207, (v223 - 1));
                a4 = v214;
                goto LABEL_206;
              }
              if (!v215)
                strcat(*v449, __s2);
              v211 = v212 + strlen(__s2);
              ++v210;
              a4 = v214;
              if (v209 == v210)
                goto LABEL_206;
            }
            inited = v213;
            a6 = v510;
            v99 = (const char **)(v497 + (v500 << 6));
            v167 = v461;
            goto LABEL_245;
          }
        }
        else
        {
          strcpy(*(char **)(v206 + 40 * v180 + 24), *(const char **)v207);
        }
LABEL_206:
        v454 += v453;
        v174 = v539[0];
        v167 = v461;
        v171 = v450;
        v172 = v451;
        if (v539[0] == 45)
          break;
      }
LABEL_211:
      v170 = __sa + (unsigned __int16)strlen(v539);
      if (v174 == 45)
        v171 = v170;
      v169 = (unsigned __int16)++v478;
      if ((unsigned __int16)v478 > v455)
      {
        v464 = a4;
        v224 = (_WORD *)(v138 + (v500 << 6));
        v224[26] = v454;
        v224 += 26;
        *(v224 - 1) = v447;
        v456 = v224;
        *(v224 - 2) = v172 + 1;
        v225 = Utf8_Utf8NbrOfSymbols(*v466);
        v226 = 0;
        v227 = 0;
        v228 = 0;
        v229 = 0;
        v230 = 0;
        v231 = v225 - 1;
        v232 = (unsigned __int16)(v225 - 1);
        __sb = v232;
        v458 = v225 - 1;
        while (1)
        {
          v233 = v227;
          inited = utf8_getUTF8Char((uint64_t)*v466, v227, v537);
          if ((inited & 0x80000000) != 0)
            break;
          if (v232 == v226 || (v234 = v537[0], v537[0] == 45))
          {
            v235 = (char *)heap_Calloc((_QWORD *)a1[1], 1, (unsigned __int16)(v233 - v228 + 1));
            *(_QWORD *)(*v461 + 40 * v230 + 8) = v235;
            if (!v235)
            {
              log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v236, v237, v238, v239, v446);
              inited = 2315264010;
              a4 = v464;
              a6 = v510;
              v41 = v491;
              v99 = (const char **)(v497 + (v500 << 6));
              v167 = v461;
              goto LABEL_244;
            }
            v240 = (unsigned __int16)(v233 - v228);
            strncpy(v235, &(*v466)[v228], v240);
            *(_BYTE *)(*(_QWORD *)(*v461 + 40 * v230 + 8) + v240) = 0;
            v234 = v537[0];
            if (v537[0] == 45)
              ++v230;
            v231 = v458;
            v232 = __sb;
          }
          v227 = v233 + strlen(v537);
          if (v234 == 45)
            v228 = v227;
          v226 = (unsigned __int16)++v229;
          if ((unsigned __int16)v229 > v231)
          {
            v241 = *v459;
            if (!strcmp(*v459, "normal") || !strcmp(v241, "mnx"))
              *(_WORD *)(v22 + 12) += *v456;
            v242 = v497 + (v500 << 6);
            *(_WORD *)(v242 + 8) = v475;
            *(_WORD *)(v242 + 10) = v480;
            *(_DWORD *)(v242 + 32) = v480 == v471;
            ++*(_WORD *)(v22 + 8);
            a4 = v464;
            a3 = v468;
            a2 = v485;
            a6 = v510;
            v41 = v491;
            goto LABEL_159;
          }
        }
        v167 = v461;
        a4 = v464;
        a6 = v510;
        v41 = v491;
        v99 = (const char **)(v497 + (v500 << 6));
LABEL_244:
        v138 = v497;
        goto LABEL_245;
      }
    }
    v172 = (v451 + 1);
    if (v447 > (unsigned __int16)(v451 + 1))
    {
      v174 = 45;
      goto LABEL_211;
    }
    v447 += 3;
    v217 = heap_Realloc((uint64_t *)a1[1], *v461, 40 * v447);
    if (v217)
    {
      *v461 = v217;
      v222 = v217 + 40 * (unsigned __int16)(v451 + 1);
      *(_QWORD *)(v222 + 112) = 0;
      *(_OWORD *)(v222 + 80) = 0u;
      *(_OWORD *)(v222 + 96) = 0u;
      *(_OWORD *)(v222 + 48) = 0u;
      *(_OWORD *)(v222 + 64) = 0u;
      *(_OWORD *)(v222 + 16) = 0u;
      *(_OWORD *)(v222 + 32) = 0u;
      *(_OWORD *)v222 = 0u;
      v174 = v539[0];
      goto LABEL_211;
    }
    log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v218, v219, v220, v221, v446);
    inited = 2315264010;
LABEL_225:
    a6 = v510;
    v99 = (const char **)(v497 + (v500 << 6));
LABEL_245:
    v243 = *v167;
    if (*v167)
    {
      v244 = a4;
      v245 = v138 + (v500 << 6);
      v247 = *(unsigned __int16 *)(v245 + 50);
      v246 = (unsigned __int16 *)(v245 + 50);
      if (v247)
      {
        v248 = 0;
        v249 = 0;
        v250 = *v167;
        do
        {
          if (v250)
          {
            if (*(_QWORD *)(v250 + v248))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v250 + v248));
              v243 = *v167;
              *(_QWORD *)(*v167 + v248) = 0;
            }
            if (*(_QWORD *)(v243 + v248 + 8))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v243 + v248 + 8));
              v243 = *v167;
              *(_QWORD *)(*v167 + v248 + 8) = 0;
            }
            v250 = v243;
            if (*(_QWORD *)(v243 + v248 + 24))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v243 + v248 + 24));
              v243 = *v167;
              *(_QWORD *)(*v167 + v248 + 24) = 0;
              v250 = v243;
            }
          }
          ++v249;
          v248 += 40;
        }
        while (v249 < *v246);
      }
      heap_Free((_QWORD *)a1[1], v243);
      *v167 = 0;
      a4 = v244;
      a6 = v510;
      v99 = (const char **)(v497 + (v500 << 6));
    }
LABEL_128:
    if (*v99)
    {
      heap_Free((_QWORD *)a1[1], (uint64_t)*v99);
      *v99 = 0;
    }
    v139 = v138 + (v500 << 6);
    v140 = *(_QWORD *)(v139 + 16);
    if (v140)
    {
      heap_Free((_QWORD *)a1[1], v140);
      *(_QWORD *)(v139 + 16) = 0;
    }
    v143 = *(_QWORD *)(v139 + 24);
    v142 = (_QWORD *)(v139 + 24);
    v141 = v143;
    if (v143)
    {
      heap_Free((_QWORD *)a1[1], v141);
      *v142 = 0;
    }
    v144 = v138 + (v500 << 6);
    v146 = (uint64_t *)(v144 + 56);
    v145 = *(_QWORD *)(v144 + 56);
    if (v145)
    {
      if (*(_WORD *)(v144 + 54))
      {
        v147 = 0;
        v148 = 0;
        v149 = *(_QWORD *)(v144 + 56);
        do
        {
          if (v149)
          {
            if (*(_QWORD *)(v149 + v147))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v149 + v147));
              v145 = *v146;
              *(_QWORD *)(*v146 + v147) = 0;
            }
            if (*(_QWORD *)(v145 + v147 + 16))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v145 + v147 + 16));
              v145 = *v146;
              *(_QWORD *)(*v146 + v147 + 16) = 0;
            }
            v149 = v145;
            if (*(_QWORD *)(v145 + v147 + 8))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v145 + v147 + 8));
              v145 = *v146;
              *(_QWORD *)(*v146 + v147 + 8) = 0;
              v149 = v145;
            }
          }
          ++v148;
          v147 += 32;
        }
        while (v148 < *(unsigned __int16 *)(v144 + 54));
      }
      heap_Free((_QWORD *)a1[1], v145);
      *v146 = 0;
      a6 = v510;
    }
    v152 = *(_QWORD *)(v144 + 40);
    v151 = (uint64_t *)(v144 + 40);
    v150 = v152;
    if (v152)
    {
      v153 = a4;
      v154 = v138 + (v500 << 6);
      v156 = *(unsigned __int16 *)(v154 + 50);
      v155 = (unsigned __int16 *)(v154 + 50);
      if (v156)
      {
        v157 = 0;
        v158 = 0;
        v159 = v150;
        do
        {
          if (v159)
          {
            if (*(_QWORD *)(v159 + v157))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v159 + v157));
              v150 = *v151;
              *(_QWORD *)(*v151 + v157) = 0;
            }
            if (*(_QWORD *)(v150 + v157 + 8))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v150 + v157 + 8));
              v150 = *v151;
              *(_QWORD *)(*v151 + v157 + 8) = 0;
            }
            v159 = v150;
            if (*(_QWORD *)(v150 + v157 + 24))
            {
              heap_Free((_QWORD *)a1[1], *(_QWORD *)(v150 + v157 + 24));
              v150 = *v151;
              *(_QWORD *)(*v151 + v157 + 24) = 0;
              v159 = v150;
            }
          }
          ++v158;
          v157 += 40;
        }
        while (v158 < *v155);
      }
      heap_Free((_QWORD *)a1[1], v150);
      *v151 = 0;
      a4 = v153;
      a3 = v468;
      a2 = v485;
      a6 = v510;
    }
    else
    {
      a3 = v468;
      a2 = v485;
    }
LABEL_159:
    v54 = v505;
LABEL_163:
    stat_stress_freeCandidatePhons(a1, v513);
    heap_Free((_QWORD *)a1[1], v513);
    heap_Free((_QWORD *)a1[1], (uint64_t)v508);
    heap_Free((_QWORD *)a1[1], (uint64_t)v54);
    if (!v493 && v527)
    {
      heap_Free((_QWORD *)a1[1], (uint64_t)v527);
      v527 = 0;
    }
    if ((inited & 0x80000000) != 0)
      goto LABEL_263;
LABEL_167:
    inited = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a4 + 120))(a2, a3, (unsigned __int16)v534, &v534);
    v160 = 0;
    if ((inited & 0x80000000) != 0)
    {
      v54 = 0;
      break;
    }
    v42 = v534;
    v54 = 0;
  }
  while ((_WORD)v534);
  if (v516)
    heap_Free((_QWORD *)a1[1], (uint64_t)v516);
  heap_Free((_QWORD *)a1[1], v483);
  heap_Free((_QWORD *)a1[1], (uint64_t)v41);
  if (v54)
    heap_Free((_QWORD *)a1[1], (uint64_t)v54);
  a5 = v473;
  v253 = (uint64_t)v160;
  v25 = v503;
  if (v253)
LABEL_286:
    heap_Free((_QWORD *)a1[1], v253);
LABEL_287:
  if ((inited & 0x80000000) != 0)
  {
    if (v25 != 1)
      goto LABEL_613;
    v252 = v527;
    if (!v527)
      goto LABEL_613;
    goto LABEL_380;
  }
  v486 = a2;
  if (!*(_WORD *)(v22 + 12))
    goto LABEL_613;
  v535 = 0;
  v536 = 0;
  v528[4] = 0;
  *(_DWORD *)v528 = 0;
  LODWORD(v527) = 0;
  inited = (*(uint64_t (**)(uint64_t, uint64_t, char **))(a6 + 40))(a7, a8, &v527);
  if ((inited & 0x80000000) != 0)
    goto LABEL_613;
  v474 = a5;
  if (a11)
  {
    v255 = (unsigned __int32 *)heap_Calloc((_QWORD *)a1[1], (*(unsigned __int16 *)(v22 + 12) + 2) * v527, 4);
    if (!v255)
      goto LABEL_612;
    *v255 = 1120534528;
    v256 = &v255[v527];
  }
  else
  {
    v255 = (unsigned __int32 *)heap_Calloc((_QWORD *)a1[1], *(unsigned __int16 *)(v22 + 12)* (unint64_t)(unsigned __int16)(a10 + (_WORD)v527 + 14), 4);
    v256 = v255;
    if (!v255)
      goto LABEL_612;
  }
  v460 = (const char *)v255;
  v469 = a3;
  v465 = a4;
  v257 = *(unsigned __int16 *)(v22 + 8);
  if (*(_WORD *)(v22 + 8))
  {
    v258 = 0;
    while (1)
    {
      v501 = v258;
      v259 = *(_QWORD *)v22 + (v258 << 6);
      v260 = *(const char **)(v259 + 24);
      v476 = *(_QWORD *)(v259 + 40);
      v261 = *(unsigned __int16 *)(v259 + 48);
      v262 = *(unsigned __int16 *)(v259 + 52);
      v263 = *(unsigned __int16 *)(v259 + 54);
      v492 = *(char **)(v259 + 56);
      if ((!strcmp(v260, "normal") || !strcmp(v260, "mnx")) && v262 >= v263 && (_DWORD)v261 != 0)
        break;
LABEL_306:
      v258 = v501 + 1;
      if (v501 + 1 >= (unint64_t)v257)
        goto LABEL_376;
    }
    v479 = v22;
    v511 = a6;
    v265 = 0;
    v498 = 0;
    v472 = (v261 - 1);
    v462 = v263 - 1;
    v267 = a7;
    v266 = a8;
    v481 = v261;
    while (1)
    {
      v495 = v265;
      v268 = v476 + 40 * v265;
      __sc = *(char **)(v268 + 8);
      v514 = *(const char **)(v268 + 24);
      v269 = Utf8_Utf8NbrOfSymbols(v514);
      if (v269 != 1)
        break;
LABEL_373:
      v265 = v495 + 1;
      if (v495 + 1 == v261)
      {
        v22 = v479;
        v257 = *(unsigned __int16 *)(v479 + 8);
        a6 = v511;
        goto LABEL_306;
      }
    }
    v270 = 0;
    v271 = 0;
    v272 = (_DWORD)v261 == 1;
    v517 = (unsigned __int16)(v269 - 1);
    if (v517 == 1)
      v273 = 3;
    else
      v273 = 0;
    v484 = v273;
    if ((unsigned __int16)(v269 - 1) != 1)
      v272 = 0;
    v467 = v272;
    while (2)
    {
      v274 = v271;
      inited = utf8_getUTF8Char((uint64_t)v514, v271, v528);
      if ((inited & 0x80000000) != 0)
      {
        v252 = v460;
        v22 = v479;
        goto LABEL_379;
      }
      v275 = strlen(v528);
      if (utf8_IsChineseLetter(v528))
      {
        if (a11)
        {
          v276 = (*(uint64_t (**)(uint64_t, uint64_t, char *, unsigned __int32 *))(v511 + 72))(v267, v266, v528, v256);
          inited = v276;
          if (*(float *)v256 == 0.0 && (_DWORD)v276 != 0)
          {
            v277.n128_u32[0] = *v256;
            inited = (*(uint64_t (**)(uint64_t, uint64_t, const char *, unsigned __int32 *, __n128))(v511 + 72))(v267, v266, "</s>", v256, v277);
          }
          v256 += v527;
          goto LABEL_372;
        }
        v279 = (*(uint64_t (**)(uint64_t, uint64_t, char *, unsigned __int32 *))(v511 + 56))(v267, v266, v528, v256);
        LODWORD(inited) = v279;
        if (*(float *)v256 == 0.0 && v279 != 0)
        {
          v283.n128_u32[0] = *v256;
          LODWORD(inited) = (*(uint64_t (**)(uint64_t, uint64_t, const char *, unsigned __int32 *, __n128))(v511 + 56))(v267, v266, "</s>", v256, v283);
        }
        v506 = &v492[32 * (unsigned __int16)v498];
        v285 = (_BYTE *)*((_QWORD *)v506 + 1);
        v286 = 2;
        switch(*v285)
        {
          case '1':
            v286 = 4;
            break;
          case '2':
            break;
          case '3':
            if (v285[1] == 53)
              v286 = 1;
            else
              v286 = 5;
            break;
          case '5':
            if (v285[1] == 53)
              v286 = 0;
            else
              v286 = 3;
            break;
          default:
            v286 = 0;
            break;
        }
        v287 = &v256[v527];
        v287[v286] = 1065353216;
        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 4, 0, (uint64_t)"NN STRESS: %s get tune %d", v280, v281, v282, (uint64_t)v528);
        if (__sc)
        {
          utf8_ToLower(__sc, 0, (uint64_t)&v526);
          v291 = v526 - 99;
          if (v291 > 0x16)
            v292 = 0;
          else
            v292 = word_1DEC65966[(char)v291];
        }
        else
        {
          v292 = 2;
        }
        v293 = v517 + v270;
        v287[v292 + 6] = 1065353216;
        v294 = (uint64_t)&v287[a10 + 6];
        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 4, 0, (uint64_t)"NN STRESS: %s get pos %d", v288, v289, v290, (uint64_t)v528);
        if (v517 + v270 == 1)
          v298 = 2;
        else
          v298 = 1;
        if (!v270)
          v298 = v484;
        *(_DWORD *)(v294 + 4 * v298) = 1065353216;
        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 4, 0, (uint64_t)"NN STRESS: %s get word bmes tag %d", v295, v296, v297, (uint64_t)v528);
        if (v495)
        {
          if (v495 == v472 && v293 == 1)
            v303 = 2;
          else
            v303 = 1;
          goto LABEL_355;
        }
        if (v467 && v270 == 0)
          v303 = 3;
        else
          v303 = 0;
        if (v270)
        {
          v261 = v481;
          if (v293 == 1 && (_DWORD)v481 == 1)
            v303 = 2;
          else
            v303 = 1;
          inited = inited;
        }
        else
        {
LABEL_355:
          inited = inited;
          v261 = v481;
        }
        *(_DWORD *)(v294 + 16 + 4 * v303) = 1065353216;
        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 4, 0, (uint64_t)"NN STRESS: %s get pw bmes tag %d", v299, v300, v301, (uint64_t)v528);
        v267 = a7;
        v266 = a8;
        v256 = (unsigned __int32 *)(v294 + 32);
        log_OutText(a1[4], (uint64_t)"FE_PHRASING", 4, 0, (uint64_t)"NN STRESS: %s get phrase bmes tag %c", v305, v306, v307, (uint64_t)v528);
        if (!isERphon((unsigned __int8 *)v528, *(char **)v506))
        {
          if (v462 <= (unsigned __int16)v498)
            v308 = v498;
          else
            v308 = v498 + 1;
          v498 = v308;
        }
      }
LABEL_372:
      v271 = v274 + v275;
      --v270;
      if (!(v517 + v270))
        goto LABEL_373;
      continue;
    }
  }
LABEL_376:
  v252 = v460;
  if (a11)
    *(_DWORD *)&v460[4 * *(unsigned __int16 *)(v22 + 12) + 4] = 1120665600;
  v536 = v460;
LABEL_379:
  if ((inited & 0x80000000) != 0)
  {
LABEL_380:
    v251 = (_QWORD *)a1[1];
    goto LABEL_381;
  }
  v309 = *(unsigned __int16 *)(v22 + 12);
  if (!a11)
  {
    v23 = fi_predict(a9, (const void **)&v536, v309, &v535, v30, v31, v32, v33);
    if ((v23 & 0x80000000) == 0)
    {
      v522 = v535;
      goto LABEL_387;
    }
LABEL_572:
    inited = v23;
    goto LABEL_613;
  }
  v23 = fi_predict(a9, (const void **)&v536, (v309 + 2), &v535, v30, v31, v32, v33);
  if ((v23 & 0x80000000) != 0)
    goto LABEL_572;
  v522 = v535 + 8;
  v535 += 8;
LABEL_387:
  v313 = *(unsigned __int16 *)(v22 + 8);
  if (!*(_WORD *)(v22 + 8))
    goto LABEL_424;
  v314 = 0;
  v315 = 0;
  v316 = *(_QWORD *)v22;
  while (1)
  {
    v317 = v316 + (v314 << 6);
    v318 = *(const char **)(v317 + 24);
    if ((!strcmp(v318, "normal") || !strcmp(v318, "mnx"))
      && *(unsigned __int16 *)(v317 + 52) >= *(unsigned __int16 *)(v317 + 54)
      && *(_WORD *)(v316 + (v314 << 6) + 54))
    {
      break;
    }
LABEL_423:
    if (++v314 >= (unint64_t)v313)
      goto LABEL_424;
  }
  v319 = 0;
  while (2)
  {
    if (*(unsigned __int16 *)(v22 + 12) <= (unsigned __int16)v315)
    {
      log_OutText(a1[4], (uint64_t)"FE_PHRASING", 4, 0, (uint64_t)"Not Severe Error: Stress label out of range. Skip some stress tag.", v310, v311, v312, v446);
      v316 = *(_QWORD *)v22;
      v320 = *(_QWORD *)(*(_QWORD *)v22 + (v314 << 6) + 56);
    }
    else
    {
      v320 = *(_QWORD *)(v316 + (v314 << 6) + 56);
      v321 = (_DWORD *)(v320 + 32 * v319 + 24);
      *v321 = **(unsigned __int8 **)&v522[8 * (unsigned __int16)v315] == 49;
    }
    v322 = *(const char **)(v320 + 32 * v319);
    v323 = *(unsigned __int8 *)v322;
    v324 = strlen(v322);
    v325 = v324;
    if (v324 < 2)
      goto LABEL_421;
    if (v324 >= 5 && !strcmp(&v322[v324 - 5], "%\"~r\""))
    {
      if ((v323 > 0x3E) | (0x2FFFFBFFFFFFFFFFuLL >> v323) & 1)
        goto LABEL_403;
      goto LABEL_421;
    }
    if ((((v323 > 0x3E) | (0x2FFFFBFFFFFFFFFFuLL >> v323)) & (strcmp(&v322[v325 - 2], "%r") == 0)) == 0)
      goto LABEL_421;
LABEL_403:
    if (v323 == 36 || v323 == 97)
    {
LABEL_421:
      ++v319;
      ++v315;
      if (v319 >= *(unsigned __int16 *)(v316 + (v314 << 6) + 54))
      {
        v313 = *(unsigned __int16 *)(v22 + 8);
        goto LABEL_423;
      }
      continue;
    }
    break;
  }
  v326 = 0;
  v327 = 0;
  v528[4] = 0;
  *(_DWORD *)v528 = 0;
  while ((utf8_getUTF8Char(*(_QWORD *)(*(_QWORD *)v22 + (v314 << 6)), v327, v528) & 0x80000000) == 0)
  {
    v328 = utf8_GetNextUtf8Offset(*(char **)(*(_QWORD *)v22 + (v314 << 6)), v327);
    if (v328 != v327)
    {
      v329 = v328;
      if (utf8_IsChineseLetter(v528))
        ++v326;
      v327 = v329;
      if ((unsigned __int16)(v319 + 1) >= v326)
        continue;
    }
    if (v528[0] == 229 && v528[1] == 132 && v528[2] == 191)
      ++v315;
    v316 = *(_QWORD *)v22;
    goto LABEL_421;
  }
LABEL_424:
  BYTE4(v535) = 0;
  LODWORD(v535) = 0;
  v536 = 0;
  v332 = v474;
  if (!v474)
  {
    log_OutText(a1[4], (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"IGTree model for stress does not exist. Skip processing IGTree.", v310, v311, v312, v446);
    v402 = v465;
    goto LABEL_579;
  }
  v333 = (uint64_t *)heap_Calloc((_QWORD *)a1[1], 1, 8 * *(unsigned __int8 *)(v474 + 1296) - 8);
  if (!v333)
  {
    inited = 2315264010;
    goto LABEL_613;
  }
  v334 = v333;
  inited = hlp_igtree_initFeatureVector((uint64_t)a1, v333, (unsigned __int16)(*(unsigned __int8 *)(v474 + 1296) - 1));
  if ((inited & 0x80000000) == 0)
  {
    v335 = *(unsigned __int16 *)(v22 + 8);
    if (*(_WORD *)(v22 + 8))
    {
      v336 = 0;
      while (1)
      {
        v337 = *(_QWORD *)v22;
        v338 = *(_QWORD *)v22 + (v336 << 6);
        v339 = *(const char **)(v338 + 24);
        if (!strcmp(v339, "normal") || !strcmp(v339, "mnx"))
        {
          v341 = *(unsigned __int16 *)(v338 + 54);
          v340 = (unsigned __int16 *)(v338 + 54);
          v342 = *(v340 - 1);
          v512 = v340 - 1;
          v343 = v341 + 1;
          if (v341 == v342 || v343 == v342)
          {
            v345 = v337 + (v336 << 6);
            v346 = *(_WORD *)(v345 + 48);
            if (v346)
              break;
          }
        }
LABEL_570:
        if (++v336 >= (unint64_t)v335)
          goto LABEL_578;
      }
      v347 = 0;
      v518 = 0;
      v348 = (_QWORD *)(v345 + 40);
      v502 = (_QWORD *)(v345 + 56);
      v520 = (uint64_t)v334;
      v504 = v340;
      v496 = (_QWORD *)(v345 + 40);
      v499 = (unsigned __int16 *)(v345 + 48);
      while (1)
      {
        v349 = *v348 + 40 * v347;
        v351 = *(unsigned __int16 *)(v349 + 32);
        v350 = (unsigned __int16 *)(v349 + 32);
        if (v351)
          break;
LABEL_568:
        if (++v347 >= v346)
        {
          v335 = *(unsigned __int16 *)(v22 + 8);
          goto LABEL_570;
        }
      }
      v352 = 0;
      v523 = 0;
      v515 = v347;
      v353 = (uint64_t *)(*v348 + 40 * v347 + 24);
      v507 = v350;
      v509 = v353;
      while (2)
      {
        inited = utf8_getUTF8Char(*v353, v523, &v535);
        if ((inited & 0x80000000) != 0)
          break;
        if (utf8_IsChineseLetter((const char *)&v535))
        {
          v354 = *(_QWORD *)(v332 + 1312);
          v355 = *(unsigned __int8 *)(v332 + 1296);
          v356 = heap_Calloc((_QWORD *)a1[1], 1, 2048);
          if (!v356)
          {
            inited = 2315264010;
            log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v357, v358, v359, v360, v446);
LABEL_577:
            v334 = (uint64_t *)v520;
            break;
          }
          v361 = (char *)v356;
          if (v355 > 1)
          {
            v362 = 0;
            v363 = v355 - 1;
            while (strcmp(*(const char **)(v354 + v362), "char0"))
            {
              v362 += 8;
              if (8 * (v355 - 1) == v362)
              {
                inited = 0;
                goto LABEL_451;
              }
            }
            v364 = fe_stress_feat_character((uint64_t)a1, (uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, v523, 0, v361);
            if ((v364 & 0x80000000) != 0)
            {
LABEL_575:
              inited = v364;
              goto LABEL_576;
            }
            inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 0, v520, v361);
            if ((inited & 0x80000000) != 0)
              goto LABEL_576;
LABEL_451:
            v365 = 0;
            while (strcmp(*(const char **)(v354 + 8 * v365), "lchar"))
            {
              if (v363 == ++v365)
                goto LABEL_457;
            }
            v364 = fe_stress_feat_character((uint64_t)a1, (uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, v523, -1, v361);
            if ((v364 & 0x80000000) != 0)
              goto LABEL_575;
            inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 1, v520, v361);
            if ((inited & 0x80000000) == 0)
            {
LABEL_457:
              v366 = 0;
              while (strcmp(*(const char **)(v354 + 8 * v366), "llchar"))
              {
                if (v363 == ++v366)
                  goto LABEL_463;
              }
              v364 = fe_stress_feat_character((uint64_t)a1, (uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, v523, -2, v361);
              if ((v364 & 0x80000000) != 0)
                goto LABEL_575;
              inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 2, v520, v361);
              if ((inited & 0x80000000) == 0)
              {
LABEL_463:
                v367 = 0;
                while (strcmp(*(const char **)(v354 + 8 * v367), "l3char"))
                {
                  if (v363 == ++v367)
                    goto LABEL_469;
                }
                v364 = fe_stress_feat_character((uint64_t)a1, (uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, v523, -3, v361);
                if ((v364 & 0x80000000) != 0)
                  goto LABEL_575;
                inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 3, v520, v361);
                if ((inited & 0x80000000) == 0)
                {
LABEL_469:
                  v368 = 0;
                  while (strcmp(*(const char **)(v354 + 8 * v368), "rchar"))
                  {
                    if (v363 == ++v368)
                      goto LABEL_475;
                  }
                  v364 = fe_stress_feat_character((uint64_t)a1, (uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, v523, 1, v361);
                  if ((v364 & 0x80000000) != 0)
                    goto LABEL_575;
                  inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 4, v520, v361);
                  if ((inited & 0x80000000) == 0)
                  {
LABEL_475:
                    v369 = 0;
                    while (strcmp(*(const char **)(v354 + 8 * v369), "rrchar"))
                    {
                      if (v363 == ++v369)
                        goto LABEL_481;
                    }
                    v364 = fe_stress_feat_character((uint64_t)a1, (uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, v523, 2, v361);
                    if ((v364 & 0x80000000) != 0)
                      goto LABEL_575;
                    inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 5, v520, v361);
                    if ((inited & 0x80000000) == 0)
                    {
LABEL_481:
                      v370 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v370), "r3char"))
                      {
                        if (v363 == ++v370)
                          goto LABEL_487;
                      }
                      v364 = fe_stress_feat_character((uint64_t)a1, (uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, v523, 3, v361);
                      if ((v364 & 0x80000000) != 0)
                        goto LABEL_575;
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 6, v520, v361);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_487:
                      v371 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v371), "phon0"))
                      {
                        if (v363 == ++v371)
                          goto LABEL_492;
                      }
                      v372 = (char *)fe_stress_feat_phon((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v518, 0);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 7, v520, v372);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_492:
                      v373 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v373), "lphon"))
                      {
                        if (v363 == ++v373)
                          goto LABEL_497;
                      }
                      v374 = (char *)fe_stress_feat_phon((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v518, -1);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 8, v520, v374);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_497:
                      v375 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v375), "rphon"))
                      {
                        if (v363 == ++v375)
                          goto LABEL_502;
                      }
                      v376 = (char *)fe_stress_feat_phon((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v518, 1);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 9, v520, v376);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_502:
                      v377 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v377), "tone0"))
                      {
                        if (v363 == ++v377)
                          goto LABEL_507;
                      }
                      v378 = (char *)fe_stress_feat_tone((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v518, 0);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 10, v520, v378);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_507:
                      v379 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v379), "ltone"))
                      {
                        if (v363 == ++v379)
                          goto LABEL_512;
                      }
                      v380 = (char *)fe_stress_feat_tone((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v518, -1);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 11, v520, v380);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_512:
                      v381 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v381), "rtone"))
                      {
                        if (v363 == ++v381)
                          goto LABEL_517;
                      }
                      v382 = (char *)fe_stress_feat_tone((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v518, 1);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 12, v520, v382);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_517:
                      v383 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v383), "word0"))
                      {
                        if (v363 == ++v383)
                          goto LABEL_522;
                      }
                      v384 = (char *)fe_stress_feat_word((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, 0);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 13, v520, v384);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_522:
                      v385 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v385), "lword"))
                      {
                        if (v363 == ++v385)
                          goto LABEL_527;
                      }
                      v386 = (char *)fe_stress_feat_word((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, -1);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 14, v520, v386);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_527:
                      v387 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v387), "rword"))
                      {
                        if (v363 == ++v387)
                          goto LABEL_532;
                      }
                      v388 = (char *)fe_stress_feat_word((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, 1);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 15, v520, v388);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_532:
                      v389 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v389), "wordlen"))
                      {
                        if (v363 == ++v389)
                          goto LABEL_540;
                      }
                      *v361 = 0;
                      v390 = *(_QWORD *)v22 + (v336 << 6);
                      if (v515 >= *(unsigned __int16 *)(v390 + 48))
                        *(_WORD *)v361 = 61;
                      else
                        sprintf(v361, "%d", *(unsigned __int16 *)(*(_QWORD *)(v390 + 40) + 40 * v515 + 32));
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 16, v520, v361);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_540:
                      v391 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v391), "pos0"))
                      {
                        if (v363 == ++v391)
                          goto LABEL_545;
                      }
                      v392 = (char *)fe_stress_feat_pos((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, 0);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 17, v520, v392);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_545:
                      v393 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v393), "lpos"))
                      {
                        if (v363 == ++v393)
                          goto LABEL_550;
                      }
                      v394 = (char *)fe_stress_feat_pos((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, -1);
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v354, v355, 18, v520, v394);
                      if ((inited & 0x80000000) != 0)
                        goto LABEL_576;
LABEL_550:
                      v395 = 0;
                      while (strcmp(*(const char **)(v354 + 8 * v395), "rpos"))
                      {
                        if (v363 == ++v395)
                        {
                          v334 = (uint64_t *)v520;
                          goto LABEL_555;
                        }
                      }
                      v396 = (char *)fe_stress_feat_pos((uint64_t *)v22, (unsigned __int16)v336, (unsigned __int16)v515, 1);
                      v397 = v354;
                      v334 = (uint64_t *)v520;
                      inited = fe_stress_igtr_setFeature((uint64_t)a1, v397, v355, 19, v520, v396);
LABEL_555:
                      heap_Free((_QWORD *)a1[1], (uint64_t)v361);
                      v332 = v474;
                      v353 = v509;
                      if ((inited & 0x80000000) != 0)
                        break;
                      goto LABEL_556;
                    }
                  }
                }
              }
            }
LABEL_576:
            heap_Free((_QWORD *)a1[1], (uint64_t)v361);
            v332 = v474;
            goto LABEL_577;
          }
          heap_Free((_QWORD *)a1[1], v356);
          inited = 0;
          v334 = (uint64_t *)v520;
          v353 = v509;
LABEL_556:
          igtree_Process(v332, (uint64_t)v334, &v536);
          v398 = v536;
          if (strcmp(v536, "NOMATCH"))
          {
            v399 = atoi(v398);
            if (v399 <= 1)
              *(_DWORD *)(*v502 + 32 * (unsigned __int16)v518 + 24) = v399;
          }
          v523 = utf8_GetNextUtf8Offset((char *)*v353, v523);
          v400 = *v504;
          v350 = v507;
          if (v400 + 1 == *v512)
          {
            if (!isERphon((unsigned __int8 *)&v535, *(char **)(*v502 + 32 * (unsigned __int16)v518)))
            {
              v400 = *v504;
              goto LABEL_562;
            }
          }
          else
          {
LABEL_562:
            if (v400 <= (unsigned __int16)(v518 + 1))
              v401 = v518;
            else
              v401 = v518 + 1;
            v518 = v401;
          }
        }
        if (++v352 >= *v350)
        {
          v348 = v496;
          v346 = *v499;
          v347 = v515;
          goto LABEL_568;
        }
        continue;
      }
    }
  }
LABEL_578:
  hlp_igtree_freeFeatureVector((uint64_t)a1, v334, (unsigned __int16)(*(unsigned __int8 *)(v332 + 1296) - 1));
  heap_Free((_QWORD *)a1[1], (uint64_t)v334);
  v402 = v465;
  if ((inited & 0x80000000) == 0)
  {
LABEL_579:
    LOWORD(v527) = 0;
    LOWORD(v526) = 0;
    v525 = 0;
    *(_WORD *)__s2 = 0;
    v535 = 0;
    v536 = 0;
    v403 = (char *)heap_Calloc((_QWORD *)a1[1], 1, 2048);
    if (v403)
    {
      v404 = v403;
      *(_DWORD *)v528 = 0;
      *v403 = 0;
      v405 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char **))(v402 + 104))(v486, v469, 1, 0, &v527);
      if ((v405 & 0x80000000) != 0)
        goto LABEL_651;
      inited = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char **))(v402 + 104))(v486, v469, 2, (unsigned __int16)v527, &v526);
      if ((inited & 0x80000000) == 0)
      {
        v406 = (unsigned __int16)v526;
        if ((_WORD)v526)
        {
          v407 = 0;
          v524 = 2048;
          while (1)
          {
            v405 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, __int16 *))(v465 + 168))(v486, v469, v406, 0, 1, v528, &v525);
            if ((v405 & 0x80000000) != 0)
              break;
            if (*(_DWORD *)v528 <= 0xAu && ((1 << v528[0]) & 0x610) != 0)
            {
              v405 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, __int16 *))(v465 + 176))(v486, v469, (unsigned __int16)v526, 9, &v536, &v525);
              if ((v405 & 0x80000000) != 0)
                break;
              v405 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, __int16 *))(v465 + 176))(v486, v469, (unsigned __int16)v526, 3, &v535, &v525);
              if ((v405 & 0x80000000) != 0)
                break;
              v409 = v536;
              if (!strcmp(v536, "normal") || !strcmp(v409, "mnx"))
              {
                v410 = *(_QWORD *)v22 + ((unint64_t)v407 << 6);
                v411 = *(unsigned __int16 *)(v410 + 54);
                if (v411 <= *(unsigned __int16 *)(v410 + 52))
                {
                  v412 = v411 + (unsigned __int16)strlen(v535);
                  if (v412 >= v524)
                  {
                    v524 = v412 + 1;
                    v413 = heap_Realloc((uint64_t *)a1[1], (uint64_t)v404, (unsigned __int16)(v412 + 1));
                    if (!v413)
                    {
                      inited = 2315264010;
                      log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v414, v415, v416, v417, v446);
                      goto LABEL_652;
                    }
                    v411 = *(unsigned __int16 *)(*(_QWORD *)v22 + ((unint64_t)v407 << 6) + 54);
                    v404 = (char *)v413;
                  }
                  if (v411)
                  {
                    v418 = 0;
                    v419 = 0;
                    do
                    {
                      if (v418)
                      {
                        *(_WORD *)&v404[strlen(v404)] = 46;
                      }
                      else if (strstr(v535, "[SVOX]"))
                      {
                        strcpy(v404, "[SVOX]");
                      }
                      v420 = *(_QWORD *)(*(_QWORD *)v22 + ((unint64_t)v407 << 6) + 56);
                      if (*(_DWORD *)(v420 + v418 + 24) == 1)
                      {
                        *(_WORD *)&v404[strlen(v404)] = 39;
                        v420 = *(_QWORD *)(*(_QWORD *)v22 + ((unint64_t)v407 << 6) + 56);
                      }
                      strcat(v404, *(const char **)(v420 + v418));
                      ++v419;
                      v418 += 32;
                    }
                    while (v419 < *(unsigned __int16 *)(*(_QWORD *)v22 + ((unint64_t)v407 << 6) + 54));
                  }
                  v421 = strlen(v404);
                  v405 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(v465 + 160))(v486, v469, (unsigned __int16)v526, 3, (unsigned __int16)(v421 + 1), v404, __s2);
                  if ((v405 & 0x80000000) != 0)
                    break;
                  *v404 = 0;
                }
              }
              ++v407;
            }
            inited = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char **))(v465 + 120))(v486, v469, (unsigned __int16)v526, &v526);
            if ((inited & 0x80000000) == 0)
            {
              v406 = (unsigned __int16)v526;
              if ((_WORD)v526)
                continue;
            }
            goto LABEL_652;
          }
LABEL_651:
          inited = v405;
        }
      }
LABEL_652:
      v251 = (_QWORD *)a1[1];
      v252 = v404;
LABEL_381:
      heap_Free(v251, (uint64_t)v252);
      goto LABEL_613;
    }
LABEL_612:
    inited = 2315264010;
    log_OutPublic(a1[4], (uint64_t)"FE_PHRASING", 37000, 0, v30, v31, v32, v33, v446);
  }
LABEL_613:
  if (*(_WORD *)(v22 + 8))
  {
    v422 = 0;
    do
    {
      v423 = *(_QWORD *)v22;
      if (*(_QWORD *)v22)
      {
        v424 = (uint64_t *)(v423 + (v422 << 6));
        if (*v424)
        {
          heap_Free((_QWORD *)a1[1], *v424);
          *v424 = 0;
        }
        v425 = v423 + (v422 << 6);
        v426 = *(_QWORD *)(v425 + 16);
        if (v426)
        {
          heap_Free((_QWORD *)a1[1], v426);
          *(_QWORD *)(v425 + 16) = 0;
        }
        v429 = *(_QWORD *)(v425 + 24);
        v428 = (_QWORD *)(v425 + 24);
        v427 = v429;
        if (v429)
        {
          heap_Free((_QWORD *)a1[1], v427);
          *v428 = 0;
        }
        v430 = v423 + (v422 << 6);
        v432 = (uint64_t *)(v430 + 56);
        v431 = *(_QWORD *)(v430 + 56);
        if (v431)
        {
          if (*(_WORD *)(v430 + 54))
          {
            v433 = 0;
            v434 = 0;
            v435 = *(_QWORD *)(v430 + 56);
            do
            {
              if (v435)
              {
                if (*(_QWORD *)(v435 + v433))
                {
                  heap_Free((_QWORD *)a1[1], *(_QWORD *)(v435 + v433));
                  v431 = *v432;
                  *(_QWORD *)(*v432 + v433) = 0;
                }
                if (*(_QWORD *)(v431 + v433 + 16))
                {
                  heap_Free((_QWORD *)a1[1], *(_QWORD *)(v431 + v433 + 16));
                  v431 = *v432;
                  *(_QWORD *)(*v432 + v433 + 16) = 0;
                }
                v435 = v431;
                if (*(_QWORD *)(v431 + v433 + 8))
                {
                  heap_Free((_QWORD *)a1[1], *(_QWORD *)(v431 + v433 + 8));
                  v431 = *v432;
                  *(_QWORD *)(*v432 + v433 + 8) = 0;
                  v435 = v431;
                }
              }
              ++v434;
              v433 += 32;
            }
            while (v434 < *(unsigned __int16 *)(v430 + 54));
          }
          heap_Free((_QWORD *)a1[1], v431);
          *v432 = 0;
        }
        v438 = *(_QWORD *)(v430 + 40);
        v437 = (uint64_t *)(v430 + 40);
        v436 = v438;
        if (v438)
        {
          v439 = v423 + (v422 << 6);
          v441 = *(unsigned __int16 *)(v439 + 50);
          v440 = (unsigned __int16 *)(v439 + 50);
          if (v441)
          {
            v442 = 0;
            v443 = 0;
            v444 = v436;
            do
            {
              if (v444)
              {
                if (*(_QWORD *)(v444 + v442))
                {
                  heap_Free((_QWORD *)a1[1], *(_QWORD *)(v444 + v442));
                  v436 = *v437;
                  *(_QWORD *)(*v437 + v442) = 0;
                }
                if (*(_QWORD *)(v436 + v442 + 8))
                {
                  heap_Free((_QWORD *)a1[1], *(_QWORD *)(v436 + v442 + 8));
                  v436 = *v437;
                  *(_QWORD *)(*v437 + v442 + 8) = 0;
                }
                v444 = v436;
                if (*(_QWORD *)(v436 + v442 + 24))
                {
                  heap_Free((_QWORD *)a1[1], *(_QWORD *)(v436 + v442 + 24));
                  v436 = *v437;
                  *(_QWORD *)(*v437 + v442 + 24) = 0;
                  v444 = v436;
                }
              }
              ++v443;
              v442 += 40;
            }
            while (v443 < *v440);
          }
          heap_Free((_QWORD *)a1[1], v436);
          *v437 = 0;
        }
      }
      ++v422;
    }
    while (v422 < *(unsigned __int16 *)(v22 + 8));
  }
  if (*(_QWORD *)v22)
    heap_Free((_QWORD *)a1[1], *(_QWORD *)v22);
  *(_QWORD *)v22 = 0;
  *(_QWORD *)(v22 + 8) = 0;
  heap_Free((_QWORD *)a1[1], v22);
  return inited;
}

_QWORD *stat_stress_freeCandidatePhons(_QWORD *result, uint64_t a2)
{
  uint64_t v3;
  _QWORD *v4;
  unsigned int v5;
  uint64_t v6;
  unint64_t v7;
  uint64_t v8;

  v3 = *(_QWORD *)a2;
  if (v3)
  {
    v4 = result;
    v5 = *(unsigned __int16 *)(a2 + 8);
    if (*(_WORD *)(a2 + 8))
    {
      v6 = 0;
      v7 = 0;
      v8 = v3;
      do
      {
        if (v8)
        {
          if (*(_QWORD *)(v8 + v6))
          {
            heap_Free((_QWORD *)v4[1], *(_QWORD *)(v8 + v6));
            v3 = *(_QWORD *)a2;
            *(_QWORD *)(v3 + v6) = 0;
            v5 = *(unsigned __int16 *)(a2 + 8);
            v8 = v3;
          }
        }
        ++v7;
        v6 += 16;
      }
      while (v7 < v5);
    }
    result = heap_Free((_QWORD *)v4[1], v3);
    *(_QWORD *)a2 = 0;
  }
  return result;
}

BOOL isPunc(const char *a1)
{
  _BOOL8 result;
  int v3;

  if (strlen(a1) > 1)
    return 0;
  v3 = *(unsigned __int8 *)a1;
  result = 1;
  if ((v3 - 33) > 0x3E || ((1 << (v3 - 33)) & 0x740000007E003FCFLL) == 0)
    return v3 == 124;
  return result;
}

BOOL isERphon(unsigned __int8 *a1, char *__s)
{
  unsigned int v4;
  unsigned int v5;
  _BOOL4 v6;
  int v7;
  __int16 v10;

  v4 = strlen(__s);
  v5 = v4;
  if (v4 >= 2 && (v4 >= 5 && !strcmp(&__s[v4 - 5], "%\"~r\"") || !strcmp(&__s[v5 - 2], "%r")))
  {
    v7 = *__s;
    v6 = v7 != 97 && v7 != 36;
  }
  else
  {
    v6 = 0;
  }
  v10 = 0;
  utf8_Utf8CharTo16bit(a1, (uint64_t)&v10);
  return v10 != 20799 && v6;
}

uint64_t fe_stress_igtr_isFeatureRequired(uint64_t a1, unsigned int a2, int a3, _WORD *a4)
{
  uint64_t v6;
  uint64_t v7;
  const char *v8;

  if (a2 < 2)
    return 0;
  v6 = 0;
  v7 = a2 - 1;
  v8 = g_featureNames_1[a3];
  while (strcmp(*(const char **)(a1 + 8 * v6), v8))
  {
    if (v7 == ++v6)
      return 0;
  }
  *a4 = v6;
  return 1;
}

uint64_t fe_stress_feat_character(uint64_t a1, uint64_t *a2, unsigned int a3, unsigned int a4, unsigned int a5, int a6, _BYTE *a7)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  int v13;
  uint64_t v14;
  uint64_t v15;
  const char **v16;
  const char *v17;
  uint64_t v18;
  const char **v19;
  const char *v20;
  unsigned int v21;
  unsigned __int16 v22;
  int v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  const char **v27;
  const char *v28;
  unsigned int v29;
  uint64_t v30;
  const char **v31;
  uint64_t v32;
  const char *v33;
  BOOL v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  char *v40;
  unsigned int v41;
  uint64_t v42;
  unint64_t v43;
  uint64_t v44;
  unint64_t v45;
  uint64_t v46;
  unsigned int NextUtf8Offset;
  int v48;
  unsigned int PreviousUtf8Offset;
  unsigned int v51;
  uint64_t v54;
  int v55;
  const char **v57;

  v10 = *a2;
  v11 = a3;
  v54 = a4;
  v57 = *(const char ***)(*a2 + ((unint64_t)a3 << 6) + 40);
  v55 = strlen(v57[5 * a4]);
  if (a3)
  {
    v12 = 0;
    v13 = 0;
    do
    {
      v14 = v10 + (v12 << 6);
      v15 = *(unsigned __int16 *)(v14 + 48);
      if (*(_WORD *)(v14 + 48))
      {
        v16 = *(const char ***)(v14 + 40);
        do
        {
          v17 = *v16;
          v16 += 5;
          v13 += strlen(v17);
          --v15;
        }
        while (v15);
      }
      ++v12;
    }
    while (v12 != v11);
  }
  else
  {
    v13 = 0;
  }
  if (a4)
  {
    v18 = v54;
    v19 = v57;
    do
    {
      v20 = *v19;
      v19 += 5;
      v13 += strlen(v20);
      --v18;
    }
    while (v18);
  }
  v21 = *((unsigned __int16 *)a2 + 4);
  v22 = a3 + 1;
  if (v21 <= (unsigned __int16)(a3 + 1))
  {
    v23 = 0;
  }
  else
  {
    v23 = 0;
    v24 = v22;
    do
    {
      v25 = v10 + (v24 << 6);
      v26 = *(unsigned __int16 *)(v25 + 48);
      if (*(_WORD *)(v25 + 48))
      {
        v27 = *(const char ***)(v25 + 40);
        do
        {
          v28 = *v27;
          v27 += 5;
          v23 += strlen(v28);
          --v26;
        }
        while (v26);
      }
      ++v24;
    }
    while (v21 != (unsigned __int16)v24);
  }
  v29 = *(unsigned __int16 *)(v10 + (v11 << 6) + 48);
  if (v29 <= (unsigned __int16)(a4 + 1))
  {
    v30 = a1;
  }
  else
  {
    v30 = a1;
    v31 = &v57[5 * (unsigned __int16)(a4 + 1)];
    v32 = (unsigned __int16)(a4 + 1) + 1;
    do
    {
      v33 = *v31;
      v31 += 5;
      v23 += strlen(v33);
      v34 = v29 == (unsigned __int16)v32++;
    }
    while (!v34);
  }
  v35 = heap_Calloc(*(_QWORD **)(v30 + 8), 1, (v55 + v13 + v23 + 1));
  if (!v35)
  {
    log_OutPublic(*(_QWORD *)(v30 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v36, v37, v38, v39, v51);
    return 2315264010;
  }
  v40 = (char *)v35;
  v41 = *((unsigned __int16 *)a2 + 4);
  v42 = *a2;
  if (*((_WORD *)a2 + 4))
  {
    v43 = 0;
    do
    {
      if (*(_WORD *)(v42 + (v43 << 6) + 48))
      {
        v44 = 0;
        v45 = 0;
        do
        {
          strcat(v40, *(const char **)(*(_QWORD *)(v42 + (v43 << 6) + 40) + v44));
          ++v45;
          v42 = *a2;
          v44 += 40;
        }
        while (v45 < *(unsigned __int16 *)(*a2 + (v43 << 6) + 48));
        v41 = *((unsigned __int16 *)a2 + 4);
      }
      ++v43;
    }
    while (v43 < v41);
  }
  v46 = v42 + (v11 << 6);
  if (*(unsigned __int16 *)(v46 + 48) <= a4
    || strlen(*(const char **)(*(_QWORD *)(v46 + 40) + 40 * v54)) <= a5)
  {
    goto LABEL_47;
  }
  NextUtf8Offset = v13 + a5;
  if (a6 < 0)
  {
    if (!NextUtf8Offset)
      goto LABEL_47;
    do
    {
      PreviousUtf8Offset = utf8_GetPreviousUtf8Offset((uint64_t)v40, NextUtf8Offset);
      NextUtf8Offset = PreviousUtf8Offset;
      v34 = (unsigned __int16)~(_WORD)a6 == 0;
      LOWORD(a6) = a6 + 1;
    }
    while (!v34 && PreviousUtf8Offset);
    if ((_WORD)a6)
      goto LABEL_47;
  }
  else if (a6)
  {
    while (NextUtf8Offset != strlen(v40))
    {
      NextUtf8Offset = utf8_GetNextUtf8Offset(v40, NextUtf8Offset);
      v48 = (__int16)a6--;
      if (v48 <= 1)
        goto LABEL_46;
    }
    goto LABEL_47;
  }
LABEL_46:
  if ((utf8_getUTF8Char((uint64_t)v40, NextUtf8Offset, a7) & 0x80000000) != 0)
LABEL_47:
    *(_WORD *)a7 = 61;
  heap_Free(*(_QWORD **)(v30 + 8), (uint64_t)v40);
  return 0;
}

uint64_t fe_stress_igtr_setFeature(uint64_t a1, uint64_t a2, unsigned int a3, int a4, uint64_t a5, char *a6)
{
  uint64_t v9;
  uint64_t v10;
  unsigned __int16 v12;

  v12 = -1;
  if (!fe_stress_igtr_isFeatureRequired(a2, a3, a4, &v12))
    return 0;
  if (*a6)
  {
    v9 = v12;
    if (strlen(a6) < 0x41)
    {
      v10 = 0;
    }
    else
    {
      v10 = hlp_resizeFeature(a1, (uint64_t *)(a5 + 8 * v12), a6);
      if ((v10 & 0x80000000) != 0)
        return v10;
    }
    strcpy(*(char **)(a5 + 8 * v9), a6);
  }
  else
  {
    v10 = 0;
    **(_WORD **)(a5 + 8 * v12) = 61;
  }
  return v10;
}

const char *fe_stress_feat_phon(uint64_t *a1, uint64_t a2, int a3, int a4)
{
  uint64_t v4;
  unsigned int v5;
  signed int v6;
  unsigned __int16 *v7;
  int v8;
  uint64_t v9;

  v4 = *a1;
  v5 = a4 + a3;
  v6 = *(unsigned __int16 *)(*a1 + ((unint64_t)a2 << 6) + 54);
  if (a4 + a3 >= v6)
  {
    while (*((unsigned __int16 *)a1 + 4) - 1 > (unsigned __int16)a2)
    {
      a4 -= v6;
      LOWORD(a2) = a2 + 1;
      v5 = a3 + (__int16)a4;
      v6 = *(unsigned __int16 *)(v4 + ((unint64_t)(unsigned __int16)a2 << 6) + 54);
      if ((int)v5 < v6)
        goto LABEL_6;
    }
    v5 = a3 + (__int16)a4;
  }
LABEL_6:
  if ((_WORD)a2 && (v5 & 0x80000000) != 0)
  {
    a2 = (unsigned __int16)a2;
    v7 = (unsigned __int16 *)(v4 + ((unint64_t)(unsigned __int16)a2 << 6) - 10);
    do
    {
      v8 = *v7;
      v7 -= 32;
      a4 += v8;
      v5 = a3 + (__int16)a4;
      --a2;
    }
    while (a2 && (v5 & 0x80000000) != 0);
  }
  if ((v5 & 0x80000000) != 0)
    return "=";
  v9 = v4 + ((unint64_t)(unsigned __int16)a2 << 6);
  if (v5 >= *(unsigned __int16 *)(v9 + 54))
    return "=";
  else
    return *(const char **)(*(_QWORD *)(v9 + 56) + 32 * v5);
}

const char *fe_stress_feat_tone(uint64_t *a1, uint64_t a2, int a3, int a4)
{
  uint64_t v4;
  unsigned int v5;
  signed int v6;
  unsigned __int16 *v7;
  int v8;
  uint64_t v9;

  v4 = *a1;
  v5 = a4 + a3;
  v6 = *(unsigned __int16 *)(*a1 + ((unint64_t)a2 << 6) + 54);
  if (a4 + a3 >= v6)
  {
    while (*((unsigned __int16 *)a1 + 4) - 1 > (unsigned __int16)a2)
    {
      a4 -= v6;
      LOWORD(a2) = a2 + 1;
      v5 = a3 + (__int16)a4;
      v6 = *(unsigned __int16 *)(v4 + ((unint64_t)(unsigned __int16)a2 << 6) + 54);
      if ((int)v5 < v6)
        goto LABEL_6;
    }
    v5 = a3 + (__int16)a4;
  }
LABEL_6:
  if ((_WORD)a2 && (v5 & 0x80000000) != 0)
  {
    a2 = (unsigned __int16)a2;
    v7 = (unsigned __int16 *)(v4 + ((unint64_t)(unsigned __int16)a2 << 6) - 10);
    do
    {
      v8 = *v7;
      v7 -= 32;
      a4 += v8;
      v5 = a3 + (__int16)a4;
      --a2;
    }
    while (a2 && (v5 & 0x80000000) != 0);
  }
  if ((v5 & 0x80000000) != 0)
    return "=";
  v9 = v4 + ((unint64_t)(unsigned __int16)a2 << 6);
  if (v5 >= *(unsigned __int16 *)(v9 + 54))
    return "=";
  else
    return *(const char **)(*(_QWORD *)(v9 + 56) + 32 * v5 + 8);
}

const char *fe_stress_feat_word(uint64_t *a1, uint64_t a2, int a3, int a4)
{
  uint64_t v4;
  unsigned int v5;
  signed int v6;
  unsigned __int16 *v7;
  int v8;
  uint64_t v9;

  v4 = *a1;
  v5 = a4 + a3;
  v6 = *(unsigned __int16 *)(*a1 + ((unint64_t)a2 << 6) + 48);
  if (a4 + a3 >= v6)
  {
    while (*((unsigned __int16 *)a1 + 4) - 1 > (unsigned __int16)a2)
    {
      a4 -= v6;
      LOWORD(a2) = a2 + 1;
      v5 = a3 + (__int16)a4;
      v6 = *(unsigned __int16 *)(v4 + ((unint64_t)(unsigned __int16)a2 << 6) + 48);
      if ((int)v5 < v6)
        goto LABEL_6;
    }
    v5 = a3 + (__int16)a4;
  }
LABEL_6:
  if ((_WORD)a2 && (v5 & 0x80000000) != 0)
  {
    a2 = (unsigned __int16)a2;
    v7 = (unsigned __int16 *)(v4 + ((unint64_t)(unsigned __int16)a2 << 6) - 16);
    do
    {
      v8 = *v7;
      v7 -= 32;
      a4 += v8;
      v5 = a3 + (__int16)a4;
      --a2;
    }
    while (a2 && (v5 & 0x80000000) != 0);
  }
  if ((v5 & 0x80000000) != 0)
    return "=";
  v9 = v4 + ((unint64_t)(unsigned __int16)a2 << 6);
  if (v5 >= *(unsigned __int16 *)(v9 + 48))
    return "=";
  else
    return *(const char **)(*(_QWORD *)(v9 + 40) + 40 * v5 + 24);
}

const char *fe_stress_feat_pos(uint64_t *a1, uint64_t a2, int a3, int a4)
{
  uint64_t v4;
  unsigned int v5;
  signed int v6;
  unsigned __int16 *v7;
  int v8;
  uint64_t v9;
  const char *result;
  uint64_t v11;

  v4 = *a1;
  v5 = a4 + a3;
  v6 = *(unsigned __int16 *)(*a1 + ((unint64_t)a2 << 6) + 48);
  if (a4 + a3 >= v6)
  {
    while (*((unsigned __int16 *)a1 + 4) - 1 > (unsigned __int16)a2)
    {
      a4 -= v6;
      LOWORD(a2) = a2 + 1;
      v5 = a3 + (__int16)a4;
      v6 = *(unsigned __int16 *)(v4 + ((unint64_t)(unsigned __int16)a2 << 6) + 48);
      if ((int)v5 < v6)
        goto LABEL_6;
    }
    v5 = a3 + (__int16)a4;
  }
LABEL_6:
  if ((_WORD)a2 && (v5 & 0x80000000) != 0)
  {
    a2 = (unsigned __int16)a2;
    v7 = (unsigned __int16 *)(v4 + ((unint64_t)(unsigned __int16)a2 << 6) - 16);
    do
    {
      v8 = *v7;
      v7 -= 32;
      a4 += v8;
      v5 = a3 + (__int16)a4;
      --a2;
    }
    while (a2 && (v5 & 0x80000000) != 0);
  }
  if ((v5 & 0x80000000) != 0)
    return "=";
  v9 = v4 + ((unint64_t)(unsigned __int16)a2 << 6);
  result = "=";
  if (v5 < *(unsigned __int16 *)(v9 + 48))
  {
    v11 = *(_QWORD *)(*(_QWORD *)(v9 + 40) + 40 * v5 + 8);
    if (v11)
      return (const char *)v11;
  }
  return result;
}

uint64_t last_POSNN(uint64_t result, uint64_t a2, unsigned int a3, const char **a4, unsigned int a5)
{
  const char *v6;
  uint64_t i;
  const char *v8;
  uint64_t v9;

  if (!result)
    return result;
  v6 = 0;
  for (i = *(_QWORD *)(*(_QWORD *)(a2 + 1064) + 184 * a3 + 48) + 1; *(_BYTE *)(i - 1) == 45; ++i)
  {
    v6 = (const char *)i;
LABEL_7:
    ;
  }
  if (*(_BYTE *)(i - 1))
    goto LABEL_7;
  if (v6)
    v8 = v6;
  else
    v8 = *(const char **)(*(_QWORD *)(a2 + 1064) + 184 * a3 + 48);
  if (!a5)
    return 0;
  v9 = a5;
  while (strcmp(*a4, v8))
  {
    ++a4;
    if (!--v9)
      return 0;
  }
  return 1;
}

uint64_t first_POSNN(uint64_t a1, uint64_t a2, unsigned int a3, const char **a4, int a5)
{
  uint64_t v5;
  uint64_t v10;
  int v11;
  uint64_t v12;
  const char *v13;
  unsigned __int16 v14;
  _BYTE *i;
  int v16;
  uint64_t v17;
  uint64_t v18;

  LODWORD(v5) = a5;
  v10 = *(_QWORD *)(a1 + 8);
  v11 = strlen(*(const char **)(*(_QWORD *)(a2 + 1064) + 184 * a3 + 48));
  v12 = heap_Alloc(v10, (v11 + 1));
  if (!v12)
    return 0;
  v13 = (const char *)v12;
  v14 = 0;
  for (i = *(_BYTE **)(*(_QWORD *)(a2 + 1064) + 184 * a3 + 48); ; ++i)
  {
    v16 = *i;
    if (!*i || v16 == 45)
      break;
    v17 = v14++;
    *(_BYTE *)(v12 + v17) = v16;
  }
  *(_BYTE *)(v12 + v14) = 0;
  if ((_DWORD)v5)
  {
    v5 = v5;
    while (strcmp(v13, *a4))
    {
      ++a4;
      if (!--v5)
        goto LABEL_10;
    }
    v18 = 1;
  }
  else
  {
LABEL_10:
    v18 = 0;
  }
  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v13);
  return v18;
}

uint64_t has_POSNN(uint64_t a1, uint64_t a2, unsigned int a3, const char **a4, unsigned int a5)
{
  uint64_t result;
  char *v8;
  uint64_t v9;

  result = 0;
  if (a1 && a5)
  {
    v8 = *(char **)(*(_QWORD *)(a2 + 1064) + 184 * a3 + 48);
    v9 = a5;
    while (!strstr(v8, *a4))
    {
      ++a4;
      if (!--v9)
        return 0;
    }
    return 1;
  }
  return result;
}

uint64_t first_characterNN(uint64_t result, uint64_t a2, unsigned int a3, const char **a4, int a5)
{
  uint64_t v5;
  char __s2[5];

  if (result)
  {
    LODWORD(v5) = a5;
    utf8_getUTF8Char(*(_QWORD *)(*(_QWORD *)(a2 + 1064) + 184 * a3 + 48), 0, __s2);
    if ((_DWORD)v5)
    {
      v5 = v5;
      while (strcmp(*a4, __s2))
      {
        ++a4;
        if (!--v5)
          return 0;
      }
      return 1;
    }
    else
    {
      return 0;
    }
  }
  return result;
}

uint64_t last_characterNN(uint64_t result, uint64_t a2, unsigned int a3, const char **a4, int a5)
{
  uint64_t v5;
  const char *v7;
  int v8;
  int v9;
  int v10;
  int CurrentUtf8Offset;
  int v12;
  unsigned int v13;
  char __s2[4];
  __int16 v15;

  v15 = 0;
  *(_DWORD *)__s2 = 0;
  if (result)
  {
    LODWORD(v5) = a5;
    v7 = *(const char **)(*(_QWORD *)(a2 + 1064) + 184 * a3 + 48);
    v8 = strlen(v7);
    v9 = v8 - utf8_GetCurrentUtf8Offset((unint64_t)v7, v8 - 1);
    v10 = strlen(v7);
    CurrentUtf8Offset = utf8_GetCurrentUtf8Offset((unint64_t)v7, v10 - 1);
    if (v9 >= (int)Utf8_LengthInBytes((unsigned __int8 *)&v7[CurrentUtf8Offset], 1))
    {
      v12 = strlen(v7);
      v13 = utf8_GetCurrentUtf8Offset((unint64_t)v7, v12 - 1);
      utf8_getUTF8Char((uint64_t)v7, v13, __s2);
    }
    if ((_DWORD)v5)
    {
      v5 = v5;
      while (strcmp(*a4, __s2))
      {
        ++a4;
        if (!--v5)
          return 0;
      }
      return 1;
    }
    else
    {
      return 0;
    }
  }
  return result;
}

uint64_t addPhrasingRuleNN(uint64_t a1, uint64_t *a2, const char *a3)
{
  unsigned __int16 v6;
  const char *i;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t result;

  v6 = 1;
  for (i = a3; *i == 94; ++i)
  {
    ++v6;
LABEL_6:
    ;
  }
  if (*i)
    goto LABEL_6;
  v8 = heap_Calloc(*(_QWORD **)(a1 + 8), v6, 40);
  v9 = *a2;
  v10 = *((unsigned __int16 *)a2 + 4);
  *(_QWORD *)(*a2 + 16 * v10) = v8;
  if (!v8)
    return 2315264010;
  *(_WORD *)(v9 + 16 * v10 + 8) = v6;
  result = parseOneRuleNN(a1, v8, v6, a3);
  if ((result & 0x80000000) == 0)
  {
    result = 0;
    ++*((_WORD *)a2 + 4);
  }
  return result;
}

uint64_t parseOneRuleNN(uint64_t a1, uint64_t a2, unsigned int a3, const char *a4)
{
  unsigned __int16 i;
  uint64_t v7;
  uint64_t v8;
  const char *v9;
  int v10;
  int v11;
  const char *v12;
  int v13;
  int v14;
  int v15;
  const char *v16;
  int v17;
  _QWORD *v18;
  uint64_t v19;
  _WORD *v20;
  const char *v21;
  int v22;
  int v23;
  uint64_t v24;
  int v25;
  const char *v26;
  char *v27;
  uint64_t v28;
  _QWORD *v29;
  _QWORD *v30;
  uint64_t v31;
  _QWORD *v32;
  unint64_t v33;
  _QWORD *v34;
  _BYTE *j;
  _BYTE *v36;
  int v37;

  for (i = 0; a4[i] != 45 || a4[i + 1] != 45 || a4[i + 2] != 62; ++i)
    ;
  a4[i] = 0;
  if (!a3)
    return 0;
  v7 = 0;
  v8 = a3;
  while (2)
  {
    v9 = a4 - 1;
    do
    {
      v11 = *(unsigned __int8 *)++v9;
      v10 = v11;
    }
    while (v11 == 32);
    v12 = v9;
    while (v10 != 95)
    {
      v13 = *(unsigned __int8 *)++v12;
      v10 = v13;
    }
    *v12 = 0;
    *(_WORD *)(a2 + 40 * v7 + 8) = atoi(v9);
    do
    {
      v15 = *(unsigned __int8 *)++v12;
      v14 = v15;
    }
    while (v15 == 32);
    v16 = v12;
    if (v14 != 40)
    {
      v16 = v12;
      do
        v17 = *(unsigned __int8 *)++v16;
      while (v17 != 40);
    }
    v18 = (_QWORD *)(a2 + 40 * v7);
    *v16 = 0;
    if (!strcmp(v12, "last-pos"))
      *v18 = last_POSNN;
    if (!strcmp(v12, "first-pos"))
      *v18 = first_POSNN;
    if (!strcmp(v12, "has-pos"))
      *v18 = has_POSNN;
    if (!strcmp(v12, "first-character"))
      *v18 = first_characterNN;
    if (!strcmp(v12, "last-character"))
      *v18 = last_characterNN;
    v19 = a2 + 40 * v7;
    *(_WORD *)(v19 + 32) = 1;
    v20 = (_WORD *)(v19 + 32);
    v21 = v16;
    do
    {
      v23 = *(unsigned __int8 *)++v16;
      v22 = v23;
      ++v21;
    }
    while (v23 == 32);
    v24 = 0;
    v25 = 1;
    while (v22 == 124)
    {
      *v20 = ++v25;
LABEL_35:
      v22 = v16[++v24];
    }
    if (v22 != 41)
      goto LABEL_35;
    v16[v24] = 0;
    v26 = &v16[v24 + 1];
    v27 = (char *)heap_Alloc(*(_QWORD *)(a1 + 8), (unsigned __int16)(v24 + 2));
    v28 = a2 + 40 * v7;
    *(_QWORD *)(v28 + 16) = v27;
    v29 = (_QWORD *)(v28 + 16);
    if (v27)
    {
      strcpy(v27, v16);
      v30 = (_QWORD *)heap_Alloc(*(_QWORD *)(a1 + 8), 8 * (unsigned __int16)*v20);
      v31 = a2 + 40 * v7;
      *(_QWORD *)(v31 + 24) = v30;
      v32 = (_QWORD *)(v31 + 24);
      if (v30)
      {
        *v30 = *v29;
        if ((unsigned __int16)*v20 >= 2u)
        {
          v33 = 1;
          do
          {
            v34 = (_QWORD *)(*v32 + 8 * v33);
            for (j = (_BYTE *)*(v34 - 1); ; j = v36 + 1)
            {
              *v34 = j;
              v34 = (_QWORD *)(*v32 + 8 * v33);
              v36 = (_BYTE *)*v34;
              if (*(_BYTE *)*v34 == 124)
                break;
            }
            *v34 = v36 + 1;
            *v36 = 0;
            ++v33;
          }
          while (v33 < (unsigned __int16)*v20);
        }
        while (1)
        {
          v37 = *(unsigned __int8 *)v26;
          if (!*v26 || v37 == 94)
            break;
          ++v26;
        }
        if (v37 == 94)
          a4 = v26 + 1;
        else
          a4 = v26;
        if (++v7 == v8)
          return 0;
        continue;
      }
    }
    return 2315264010;
  }
}

uint64_t releasePhrasingRuleStructNN(uint64_t a1, uint64_t a2)
{
  uint64_t v3;
  unsigned int v5;
  unint64_t v6;
  unint64_t v7;
  uint64_t v8;
  uint64_t v9;
  unint64_t v10;

  v3 = *(_QWORD *)a2;
  if (v3)
  {
    v5 = *(unsigned __int16 *)(a2 + 10);
    if (*(_WORD *)(a2 + 10))
    {
      v6 = 0;
      do
      {
        v7 = v3 + 16 * v6;
        v8 = *(_QWORD *)v7;
        if (*(_QWORD *)v7)
        {
          if (*(_WORD *)(v7 + 8))
          {
            v9 = 0;
            v10 = 0;
            do
            {
              if (*(_QWORD *)(*(_QWORD *)v7 + v9 + 16))
              {
                heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(*(_QWORD *)v7 + v9 + 16));
                v3 = *(_QWORD *)a2;
              }
              if (*(_QWORD *)(*(_QWORD *)(v3 + 16 * v6) + v9 + 24))
              {
                heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(*(_QWORD *)(v3 + 16 * v6) + v9 + 24));
                v3 = *(_QWORD *)a2;
              }
              ++v10;
              v7 = v3 + 16 * v6;
              v9 += 40;
            }
            while (v10 < *(unsigned __int16 *)(v7 + 8));
            v8 = *(_QWORD *)v7;
          }
          heap_Free(*(_QWORD **)(a1 + 8), v8);
          v3 = *(_QWORD *)a2;
          *(_QWORD *)(*(_QWORD *)a2 + 16 * v6) = 0;
          v5 = *(unsigned __int16 *)(a2 + 10);
        }
        ++v6;
      }
      while (v6 < v5);
    }
    heap_Free(*(_QWORD **)(a1 + 8), v3);
  }
  *(_WORD *)(a2 + 10) = 0;
  *(_QWORD *)a2 = 0;
  return 0;
}

uint64_t com_IncludeCRF(uint64_t a1, uint64_t a2, uint64_t a3, _BOOL4 *a4)
{
  uint64_t CfgParamVal;
  char *v6;
  _BOOL4 v7;
  char *__s1;

  __s1 = 0;
  CfgParamVal = com_mosynt_GetCfgParamVal(a1, a2, a3, (uint64_t)"statbnd_include", "NO", &__s1);
  if ((CfgParamVal & 0x80000000) != 0)
  {
    v7 = 0;
  }
  else
  {
    v6 = __s1;
    v7 = !strcmp(__s1, "CRF") || strcmp(v6, "crf") == 0;
  }
  *a4 = v7;
  return CfgParamVal;
}

uint64_t pandpCrfInit(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11)
{
  uint64_t *v17;
  int v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int Only_ReferenceCnt;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  int v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  char *v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  int v39;
  uint64_t v40;
  signed int v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  signed int v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  signed int ChunkData;
  char *v51;
  char *v52;
  unsigned __int16 v53;
  unsigned int v54;
  int v55;
  char *v56;
  char *i;
  unsigned int v58;
  char v59;
  signed int v60;
  int v61;
  uint64_t v63;
  char *v64;
  char *v65;
  int v66;
  unsigned __int16 v67;
  uint64_t j;
  uint64_t v69;
  char *v70;
  unsigned int v72;
  uint64_t v73;
  unsigned __int16 v74;
  uint64_t *v76;
  uint64_t v77;
  char *v78;
  int v79[2];
  int __c;
  unsigned __int8 v81;
  char **v82;
  char **v83;
  __int128 v84;
  __int128 v85;
  __int128 v86;
  __int128 v87;
  __int128 v88;
  __int128 v89;
  __int128 v90;
  __int128 v91;
  __int128 v92;
  __int128 v93;
  __int128 v94;
  __int128 v95;
  __int128 v96;
  __int128 v97;
  __int128 v98;
  __int128 v99;
  _QWORD v100[7];

  v100[4] = *MEMORY[0x1E0C80C00];
  *(_QWORD *)(a11 + 224) = 0;
  v17 = (uint64_t *)(a11 + 224);
  v98 = 0u;
  v99 = 0u;
  v96 = 0u;
  v97 = 0u;
  v94 = 0u;
  v95 = 0u;
  v92 = 0u;
  v93 = 0u;
  v90 = 0u;
  v91 = 0u;
  v88 = 0u;
  v89 = 0u;
  v86 = 0u;
  v87 = 0u;
  v84 = 0u;
  v85 = 0u;
  v18 = hlp_BrokerString(a5, (char *)&v84);
  if (v18 < 0)
  {
    v28 = v18;
    log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"Could not assemble broker string for CRF phrasing model %s", v19, v20, v21, (uint64_t)"crfphrase");
    goto LABEL_7;
  }
  v77 = a5;
  Only_ReferenceCnt = crf_Init_ReadOnly_ReferenceCnt(a1, a2, a3, a4, v17, 2, (uint64_t)&v84, (uint64_t)"CRPH", 1031, 0, 0);
  if (Only_ReferenceCnt < 0)
  {
    v28 = Only_ReferenceCnt;
    log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"no CRF Phrasing model found", v23, v24, v25, (uint64_t)&v84);
LABEL_7:
    v29 = v28 | 0x8A002000;
    if (*v17)
    {
      crf_Deinit_ReadOnly_DereferenceCnt(a5, a6, *v17);
      *v17 = 0;
    }
    return v29;
  }
  v76 = (uint64_t *)(a11 + 232);
  v98 = 0u;
  v99 = 0u;
  v96 = 0u;
  v97 = 0u;
  v94 = 0u;
  v95 = 0u;
  v92 = 0u;
  v93 = 0u;
  v90 = 0u;
  v91 = 0u;
  v88 = 0u;
  v89 = 0u;
  v86 = 0u;
  v87 = 0u;
  v84 = 0u;
  v85 = 0u;
  v81 = 0;
  __c = 0;
  v78 = 0;
  *(_QWORD *)v79 = 0;
  v100[0] = 0;
  v82 = 0;
  v83 = 0;
  v26 = a5;
  if ((com_mosynt_GetCfgParamVal(a9, a10, a7, (uint64_t)"fephrase_max_rule", "1024", &v78) & 0x80000000) != 0)
    v27 = 1024;
  else
    v27 = atoi(v78);
  v30 = heap_Calloc(*(_QWORD **)(a5 + 8), 1, v27);
  if (v30)
  {
    v35 = (char *)v30;
    v39 = hlp_BrokerString(a5, (char *)&v84);
    v40 = *(_QWORD *)(a5 + 32);
    if (v39 < 0)
    {
      log_OutText(v40, (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"Could not assemble broker string for SP rules %s", v36, v37, v38, (uint64_t)"sprules");
      v60 = v39 | 0x8A002000;
    }
    else
    {
      log_OutText(v40, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"looking for SP rules %s at %s", v36, v37, v38, (uint64_t)"sprules");
      v41 = ssftriff_reader_ObjOpen(a1, a2, 2, (const char *)&v84, "SPDT", 1031, (uint64_t *)&v82);
      if (v41 < 0)
      {
        v60 = v41;
        log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"no sp rules", v43, v44, v45, v73);
        *(_WORD *)(a11 + 242) = 0;
        *(_QWORD *)(a11 + 232) = 0;
      }
      else
      {
        while (1)
        {
          v46 = ssftriff_reader_OpenChunk((uint64_t)v82, &__c, (unsigned int *)&v79[1], v100, v42, v43, v44, v45);
          if (v46 < 0)
            break;
          if (!(__c ^ 0x52545344 | v81))
          {
            ChunkData = ssftriff_reader_GetChunkData((uint64_t)v82, v79[1], &v83, v49, v42, v43, v44, v45);
            if (ChunkData < 0)
              goto LABEL_41;
            v79[0] = 0;
            ssftriff_reader_ReadStringZ((uint64_t)v82, (uint64_t)v83, v79[1], 0, 0, (unsigned int *)v79);
            ssftriff_reader_ReadStringZ((uint64_t)v82, (uint64_t)v83, v79[1], 0, v35, (unsigned int *)v79);
            v51 = strchr(v35, 10);
            if (v51)
              *v51 = 0;
            v52 = strchr(v35, 58);
            v53 = v52 ? atoi(v52 + 2) : 0;
            v54 = v79[0];
            ChunkData = initPhrasingRuleStruct(v77, (uint64_t)v76, v53);
            if (ChunkData < 0)
              goto LABEL_41;
            v74 = v53;
            if (v53)
            {
              v55 = 0;
              while (1)
              {
                do
                {
                  v79[0] = 0;
                  ssftriff_reader_ReadStringZ((uint64_t)v82, (uint64_t)v83, v79[1], v54, 0, (unsigned int *)v79);
                  ssftriff_reader_ReadStringZ((uint64_t)v82, (uint64_t)v83, v79[1], v54, v35, (unsigned int *)v79);
                  v54 += v79[0];
                  v56 = v35 + 1;
                  for (i = v35; ; ++i)
                  {
                    v58 = *i;
                    if (v58 > 0x23)
                      goto LABEL_33;
                    if (((1 << v58) & 0x100000200) == 0)
                      break;
                    ++v56;
                  }
                }
                while (((1 << v58) & 0x800002401) != 0);
LABEL_33:
                while ((_BYTE)v58)
                {
                  if (v58 == 35)
                  {
                    *(v56 - 1) = 0;
                    break;
                  }
                  v59 = *v56++;
                  LOBYTE(v58) = v59;
                }
                ChunkData = addPhrasingRule(v77, v76, v35);
                if (ChunkData < 0)
                  break;
                if ((unsigned __int16)++v55 >= v74)
                  goto LABEL_15;
              }
LABEL_41:
              v60 = ChunkData;
              goto LABEL_42;
            }
          }
LABEL_15:
          ChunkData = ssftriff_reader_CloseChunk((uint64_t)v82);
          if (ChunkData < 0)
            goto LABEL_41;
        }
        if ((v46 & 0x1FFF) == 0x14)
          v60 = 0;
        else
          v60 = v46;
LABEL_42:
        v26 = v77;
      }
    }
    if (v82)
    {
      v61 = ssftriff_reader_ObjClose(v82, v47, v48, v49, v42, v43, v44, v45);
      if (v61 < 0 && v60 > -1)
        v60 = v61;
    }
    heap_Free(*(_QWORD **)(v26 + 8), (uint64_t)v35);
    if ((v60 & 0x80000000) == 0)
      goto LABEL_52;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v31, v32, v33, v34, v72);
  }
  releasePhrasingRuleStruct(v26, (uint64_t)v76);
LABEL_52:
  v63 = 0;
  v82 = 0;
  v83 = 0;
  LOWORD(v78) = -1;
  LOBYTE(__c) = 0;
  *(_OWORD *)(a11 + 250) = 0u;
  *(_OWORD *)(a11 + 266) = 0u;
  *(_OWORD *)(a11 + 282) = 0u;
  *(_OWORD *)(a11 + 298) = 0u;
  *(_OWORD *)(a11 + 314) = 0u;
  v100[0] = "JOY_KEYS";
  v100[1] = "DID_KEYS";
  v100[2] = "NEU_KEYS";
  v100[3] = "COM_KEYS";
  while (1)
  {
    strcpy((char *)&v84, "statbnd_");
    __strcat_chk();
    LOWORD(v78) = 0;
    if (((*(uint64_t (**)(uint64_t, uint64_t, const char *, __int128 *, char ***, char **, int *))(a7 + 96))(a9, a10, "fecfg", &v84, &v83, &v78, &__c) & 0x80000000) != 0|| !(_WORD)v78)
    {
      return 0;
    }
    v64 = *v83;
    v65 = strchr(*v83, __c);
    if (v65)
    {
      *v65 = 0;
      v64 = *v83;
    }
    v66 = *v64;
    if (*v64)
      break;
    v67 = 0;
LABEL_79:
    if (++v63 == 4)
    {
      *(_WORD *)(a11 + 248) = v67;
      return 0;
    }
  }
  v67 = 0;
  while (1)
  {
    for (j = 0; v66; v66 = v64[++j])
    {
      if (v66 == 44)
        break;
    }
    strcpy((char *)&v84, "statbnd_");
    __strncat_chk();
    LOWORD(v78) = 0;
    v69 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, __int128 *, char ***, char **, int *))(a7 + 96))(a9, a10, "fecfg", &v84, &v82, &v78, &__c);
    if ((v69 & 0x80000000) != 0)
      return v69;
    if ((_WORD)v78)
    {
      v70 = strchr(*v82, __c);
      if (v70)
        *v70 = 0;
      if ((unsigned __int16)v63 == 2)
      {
        *(_WORD *)(a11 + 2 * v67 + 290) = atoi(*v82);
      }
      else if ((unsigned __int16)v63 == 1)
      {
        *(_WORD *)(a11 + 2 * v67 + 270) = atoi(*v82);
      }
      else if ((_WORD)v63)
      {
        *(_WORD *)(a11 + 2 * v67 + 310) = atoi(*v82);
      }
      else
      {
        *(_WORD *)(a11 + 2 * v67 + 250) = atoi(*v82);
      }
    }
    if (v64[j] == 44)
      v64 += j + 1;
    else
      v64 += j;
    ++v67;
    v66 = *v64;
    if (!*v64)
      goto LABEL_79;
  }
}

uint64_t pandpCrfDeinit(uint64_t result, uint64_t a2, uint64_t a3)
{
  uint64_t v4;
  uint64_t v5;

  if (a3)
  {
    v4 = result;
    v5 = *(_QWORD *)(a3 + 224);
    if (v5)
    {
      crf_Deinit_ReadOnly_DereferenceCnt(result, a2, v5);
      *(_QWORD *)(a3 + 224) = 0;
    }
    return releasePhrasingRuleStruct(v4, a3 + 232);
  }
  return result;
}

uint64_t crfWeakPhrasing(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unsigned int v15;
  unsigned int v16;
  uint64_t v17;
  uint64_t v18;
  _BYTE *v19;
  char *v20;
  char *v21;
  char *v22;
  char *v23;
  char *v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  _QWORD *v34;
  _QWORD *v35;
  uint64_t v36;
  char *v37;
  uint64_t v38;
  const char *v39;
  int v40;
  char *v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  char *v47;
  const char **v48;
  uint64_t v49;
  char *v50;
  int v51;
  char *v52;
  char *v53;
  int v54;
  uint64_t v55;
  char *v56;
  char *v57;
  char *v58;
  unsigned __int16 v59;
  const char *v60;
  int v61;
  const char *v62;
  unint64_t v63;
  const char *v64;
  __int16 v65;
  unsigned __int16 i;
  __int16 v67;
  __int16 v68;
  unsigned __int16 v69;
  int v70;
  unsigned int CurrentUtf8Offset;
  int v72;
  unsigned int v73;
  int v74;
  unsigned int PreviousUtf8Offset;
  char *v76;
  char *v77;
  const char *v78;
  char *v79;
  char *v80;
  int v81;
  char *v82;
  unint64_t v83;
  uint64_t v84;
  char *v85;
  char *v86;
  unsigned __int16 v87;
  const char *v88;
  int v89;
  const char *v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t v93;
  int v94;
  char *v95;
  uint64_t v96;
  const char *v97;
  int v98;
  uint64_t v99;
  uint64_t v100;
  char *v101;
  char v102;
  uint64_t v103;
  _BYTE *v104;
  uint64_t v105;
  unint64_t v106;
  uint64_t v107;
  uint64_t v109;
  uint64_t v110;
  uint64_t v111;
  unint64_t v112;
  unint64_t v113;
  uint64_t v114;
  uint64_t v115;
  unsigned int v116;
  char v117;
  unint64_t v118;
  uint64_t v119;
  uint64_t v120;
  unsigned int v121;
  unint64_t v122;
  uint64_t v123;
  int v124;
  uint64_t v125;
  unsigned int v126;
  unsigned __int16 v127;
  uint64_t v128;
  unsigned int v129;
  int v130;
  unsigned __int16 v131;
  unsigned __int16 v132;
  int v133;
  char *v134;
  uint64_t v135;
  uint64_t v136;
  char *v137;
  char *__s2;
  _BYTE *v139;
  char *__dst;
  char *v141;
  char *v142;
  uint64_t v143;
  const char *v144;
  char *v145;
  char *v146;
  uint64_t v147;
  char *v148;
  unint64_t v149;
  uint64_t v150;
  char *v152;
  char *v153;
  char *v154;
  char *__lasts;
  char *v156;
  unsigned int v157;
  uint64_t v158;

  v158 = 0;
  v157 = 0;
  v156 = 0;
  if ((com_mosynt_GetCfgParamVal(a2, a3, a1, (uint64_t)"fephrase_max_char", "6", &v156) & 0x80000000) != 0)
    v15 = 6;
  else
    v15 = atoi(v156);
  if ((com_mosynt_GetCfgParamVal(a2, a3, a1, (uint64_t)"fephrase_max_pos", "6", &v156) & 0x80000000) != 0)
    v16 = 6;
  else
    v16 = atoi(v156);
  v150 = a6;
  if ((com_mosynt_GetCfgParamVal(a2, a3, a1, (uint64_t)"fephrase_max_obs", "1024", &v156) & 0x80000000) != 0)
    v17 = 1024;
  else
    v17 = atoi(v156);
  v147 = v17;
  v18 = v15;
  v19 = (_BYTE *)heap_Calloc(*(_QWORD **)(a4 + 8), 1, v15);
  v20 = (char *)heap_Calloc(*(_QWORD **)(a4 + 8), 1, v15);
  v21 = (char *)heap_Calloc(*(_QWORD **)(a4 + 8), 2, v18);
  v22 = (char *)heap_Calloc(*(_QWORD **)(a4 + 8), 1, v18);
  v23 = (char *)heap_Calloc(*(_QWORD **)(a4 + 8), 1, v18);
  v24 = (char *)heap_Calloc(*(_QWORD **)(a4 + 8), 2, v18);
  v148 = (char *)heap_Calloc(*(_QWORD **)(a4 + 8), 1, v16);
  v152 = (char *)heap_Calloc(*(_QWORD **)(a4 + 8), 1, v16);
  if (!v19 || !v20 || !v21 || !v22 || !v23 || !v24 || !v148 || !v152)
    goto LABEL_95;
  *v19 = 0;
  *v20 = 0;
  *v21 = 0;
  *v22 = 0;
  *v23 = 0;
  *v24 = 0;
  if (a5 | a7)
    log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Parameter errors: %s %s\n", v26, v27, v28, (uint64_t)"level0");
  v143 = heap_Calloc(*(_QWORD **)(a4 + 8), *(unsigned __int16 *)(v150 + 8), 8);
  if (!v143
    || (v141 = v21, (v29 = heap_Calloc(*(_QWORD **)(a4 + 8), *(unsigned __int16 *)(v150 + 8), 8)) == 0)
    || (v30 = v29, (v31 = heap_Calloc(*(_QWORD **)(a4 + 8), *(unsigned __int16 *)(v150 + 8), 4)) == 0))
  {
LABEL_95:
    v107 = 2315264010;
    log_OutPublic(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v25, v26, v27, v28, v129);
    return v107;
  }
  v32 = v31;
  v139 = v19;
  v137 = v22;
  v134 = v23;
  v146 = v24;
  __s2 = v20;
  if (*(_WORD *)(v150 + 8))
  {
    v33 = 0;
    v130 = 0;
    v34 = (_QWORD *)v143;
    v35 = (_QWORD *)v150;
    while (1)
    {
      v149 = v33;
      v154 = 0;
      __lasts = 0;
      v153 = 0;
      v36 = strlen(*(const char **)(*v35 + 224 * v33 + 8)) + 2;
      v37 = (char *)heap_Alloc(*(_QWORD *)(a4 + 8), v36);
      if (!v37)
        goto LABEL_95;
      v39 = v37;
      extractAndConvertTones(a4, *(_BYTE **)(*(_QWORD *)v150 + 224 * v33 + 8), v37, v38, v25, v26, v27, v28);
      v40 = (unsigned __int16)strlen(v39);
      if (v40)
      {
        v135 = v39[v40 - 1];
        v136 = *(unsigned __int8 *)v39;
      }
      else
      {
        v135 = 48;
        v136 = 48;
      }
      v144 = v39;
      v41 = *(char **)(*(_QWORD *)(*(_QWORD *)v150 + 224 * v33 + 16) + 8);
      if (!strcmp(v41, "{T:comma}"))
        *(_WORD *)v41 = 103;
      v145 = (char *)heap_Alloc(*(_QWORD *)(a4 + 8), v147);
      if (!v145 || (v46 = heap_Alloc(*(_QWORD *)(a4 + 8), v147)) == 0)
      {
LABEL_111:
        v107 = 2315264010;
        log_OutPublic(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v42, v43, v44, v45, v129);
        LODWORD(v112) = *(unsigned __int16 *)(v150 + 8);
LABEL_112:
        v19 = v139;
        v24 = v146;
        goto LABEL_113;
      }
      v47 = (char *)v46;
      v48 = *(const char ***)(*(_QWORD *)v150 + 224 * v149 + 16);
      if (!strcmp(*v48, "-"))
      {
        if (*(_QWORD *)(*(_QWORD *)(a8 + 224) + 32))
        {
          sprintf(v145, "%s %d %s %s %s %s %s %s %s %s %s %s %s %s %d %d %s %s %d", "-", 1, v48[1], v39, "-", "-", "-", "-", "NULL", "NULL", "-", "-", v48[1], v48[1], 1, 1, v39,
            v39,
            1);
          v57 = strtok_r(v145, " ", &v153);
          *v47 = 0;
          if (v57)
          {
            v58 = v57;
            v59 = 0;
            do
            {
              v60 = *(const char **)(*(_QWORD *)(*(_QWORD *)(a8 + 224) + 32) + 8);
              if (v60[v59] == 49)
              {
                v61 = strlen(v60) - 1;
                *(_WORD *)&v47[strlen(v47)] = 32;
                strcat(v47, v58);
                if (v61 != v59)
                  *(_WORD *)&v47[strlen(v47)] = 32;
              }
              ++v59;
              v58 = strtok_r(0, " ", &v153);
            }
            while (v58);
          }
          v62 = v145;
          strcpy(v145, v47);
          v63 = v149;
          v64 = v144;
        }
        else
        {
          v62 = v145;
          strcpy(v145, "- 1 ");
          v63 = v149;
          v79 = strcat(v145, *(const char **)(*(_QWORD *)(*(_QWORD *)v150 + 224 * v149 + 16) + 8));
          *(_WORD *)&v145[strlen(v79)] = 32;
          v64 = v144;
          v80 = strcat(v145, v144);
          strcpy(&v145[strlen(v80)], " 1 - - NULL NULL");
        }
        v81 = strlen(v62);
        v82 = (char *)heap_Alloc(*(_QWORD *)(a4 + 8), (v81 + 1));
        v34[v63] = v82;
        if (!v82)
          goto LABEL_95;
        v83 = v63;
        strcpy(v82, v145);
        v84 = (uint64_t)v64;
        goto LABEL_93;
      }
      v49 = heap_Alloc(*(_QWORD *)(a4 + 8), v147);
      if (!v49)
        goto LABEL_111;
      v50 = (char *)v49;
      v51 = strlen(*(const char **)(*(_QWORD *)(*(_QWORD *)v150 + 224 * v149 + 16) + 8));
      __dst = (char *)heap_Alloc(*(_QWORD *)(a4 + 8), (v51 + 2));
      if (!__dst)
        goto LABEL_111;
      *v50 = 0;
      strcpy(__dst, *(const char **)(*(_QWORD *)(*(_QWORD *)v150 + 224 * v149 + 16) + 8));
      v52 = strtok_r(**(char ***)(*(_QWORD *)v150 + 224 * v149 + 16), "-", &__lasts);
      v53 = strtok_r(*(char **)(*(_QWORD *)(*(_QWORD *)v150 + 224 * v149 + 16) + 8), "-", &v154);
      v54 = strlen(v52);
      v142 = (char *)heap_Alloc(*(_QWORD *)(a4 + 8), (v54 + 2));
      if (!v142)
        goto LABEL_111;
      v55 = heap_Alloc(*(_QWORD *)(a4 + 8), v147);
      if (!v55)
        goto LABEL_111;
      v56 = (char *)v55;
      strcpy(v142, v52);
      if (v53)
        strcpy(v148, v53);
      else
        strcpy(v148, "NULL");
      v65 = strlen(v142);
      v132 = Utf8_LengthInUtf8chars((unint64_t)v142, v65);
      for (i = 0; v52; ++i)
      {
        strcat(v50, v52);
        strcpy(v56, v52);
        v52 = strtok_r(0, "-", &__lasts);
        if (v53)
          strcpy(v152, v53);
        else
          strcpy(v152, "NULL");
        if (v154)
          v53 = strtok_r(0, "-", &v154);
      }
      v67 = strlen(v56);
      v131 = Utf8_LengthInUtf8chars((unint64_t)v56, v67);
      strcpy(**(char ***)(*(_QWORD *)v150 + 224 * v149 + 16), v50);
      v68 = strlen(v50);
      v69 = Utf8_LengthInUtf8chars((unint64_t)v50, v68);
      utf8_getUTF8Char((uint64_t)v50, 0, v139);
      v70 = strlen(v50);
      CurrentUtf8Offset = utf8_GetCurrentUtf8Offset((unint64_t)v50, v70 - 1);
      utf8_getUTF8Char((uint64_t)v50, CurrentUtf8Offset, v137);
      v72 = v69;
      v133 = v69;
      if (v69 < 3u)
      {
        if (v69 == 2)
        {
          strcpy(v141, v50);
          strcpy(v146, v50);
          v72 = v69;
        }
        else
        {
          strcpy(v141, "NULL");
          strcpy(v146, "NULL");
        }
        v78 = v137;
      }
      else
      {
        v73 = strlen(v139);
        utf8_getUTF8Char((uint64_t)v50, v73, __s2);
        v74 = strlen(v50);
        PreviousUtf8Offset = utf8_GetPreviousUtf8Offset((uint64_t)v50, v74 - 1);
        utf8_getUTF8Char((uint64_t)v50, PreviousUtf8Offset, v134);
        v76 = strcpy(v141, v139);
        strcat(v76, __s2);
        v77 = strcpy(v146, v134);
        strcat(v77, v137);
        v72 = v69;
        v78 = v137;
      }
      if (*(_QWORD *)(*(_QWORD *)(a8 + 224) + 32))
      {
        sprintf(v145, "%s %d %s %s %s %s %s %s %s %s %s %s %s %s %d %d %c %c %d", v50, v72, __dst, v144, v139, v78, __s2, v134, v141, v146, v142, v56, v148, v152, v132, v131, v136,
          v135,
          i);
        v85 = strtok_r(v145, " ", &v153);
        *v47 = 0;
        if (v85)
        {
          v86 = v85;
          v87 = 0;
          do
          {
            v88 = *(const char **)(*(_QWORD *)(*(_QWORD *)(a8 + 224) + 32) + 8);
            if (v88[v87] == 49)
            {
              v89 = strlen(v88) - 1;
              *(_WORD *)&v47[strlen(v47)] = 32;
              strcat(v47, v86);
              if (v89 != v87)
                *(_WORD *)&v47[strlen(v47)] = 32;
            }
            ++v87;
            v86 = strtok_r(0, " ", &v153);
          }
          while (v86);
        }
        v90 = v145;
        strcpy(v145, v47);
      }
      else
      {
        v90 = v145;
        sprintf(v145, "%s %d %s %s %d %s %s %s %s", v50, v72, __dst, v144, i, v139, v78, v141, v146);
      }
      v34 = (_QWORD *)v143;
      log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Crf Phrasing Obversation: %s", v91, v92, v93, (uint64_t)v90);
      v94 = strlen(v90);
      v95 = (char *)heap_Alloc(*(_QWORD *)(a4 + 8), (v94 + 1));
      *(_QWORD *)(v143 + 8 * v149) = v95;
      if (!v95)
        goto LABEL_95;
      strcpy(v95, v145);
      v96 = *(_QWORD *)v150 + 224 * v149;
      v97 = *(const char **)(v96 + 136);
      if (v97)
        break;
      *(_DWORD *)(v32 + 4 * v149) = 0;
      *(_QWORD *)(v30 + 8 * v149) = 0;
      v83 = v149;
      v99 = (uint64_t)v144;
LABEL_92:
      heap_Free(*(_QWORD **)(a4 + 8), v99);
      heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v50);
      heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v142);
      heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v56);
      heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v145);
      heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v47);
      v84 = (uint64_t)__dst;
LABEL_93:
      heap_Free(*(_QWORD **)(a4 + 8), v84);
      v33 = v83 + 1;
      v35 = (_QWORD *)v150;
      v106 = *(unsigned __int16 *)(v150 + 8);
      if (v33 >= v106)
      {
        v19 = v139;
        v24 = v146;
        goto LABEL_98;
      }
    }
    if (!strcmp(*(const char **)(v96 + 136), "B"))
    {
      v83 = v149;
      *(_DWORD *)(v32 + 4 * v149) = 1;
      v100 = heap_Calloc(*(_QWORD **)(a4 + 8), 1, 8);
      *(_QWORD *)(v30 + 8 * v149) = v100;
      if (!v100)
        goto LABEL_95;
      **(_QWORD **)(v30 + 8 * v149) = heap_Calloc(*(_QWORD **)(a4 + 8), 2, 1);
      v101 = **(char ***)(v30 + 8 * v149);
      if (!v101)
        goto LABEL_95;
      v102 = 66;
    }
    else
    {
      if (!strcmp(v97, "E"))
      {
        v83 = v149;
        *(_DWORD *)(v32 + 4 * v149) = 1;
        v103 = heap_Calloc(*(_QWORD **)(a4 + 8), 1, 8);
        *(_QWORD *)(v30 + 8 * v149) = v103;
        if (!v103)
          goto LABEL_95;
        **(_QWORD **)(v30 + 8 * v149) = heap_Calloc(*(_QWORD **)(a4 + 8), 2, 1);
        v104 = **(_BYTE ***)(v30 + 8 * v149);
        if (!v104)
          goto LABEL_95;
        v98 = v133 + v130;
        *v104 = 69;
        goto LABEL_91;
      }
      if (strcmp(v97, "S"))
      {
        v98 = v133 + v130;
        v83 = v149;
        *(_DWORD *)(v32 + 4 * v149) = 0;
        *(_QWORD *)(v30 + 8 * v149) = 0;
LABEL_91:
        v99 = (uint64_t)v144;
        *(_DWORD *)(*(_QWORD *)v150 + 224 * v83 + 144) = v98;
        v130 = v98;
        goto LABEL_92;
      }
      v83 = v149;
      *(_DWORD *)(v32 + 4 * v149) = 1;
      v105 = heap_Calloc(*(_QWORD **)(a4 + 8), 1, 8);
      *(_QWORD *)(v30 + 8 * v149) = v105;
      if (!v105)
        goto LABEL_95;
      **(_QWORD **)(v30 + 8 * v149) = heap_Calloc(*(_QWORD **)(a4 + 8), 2, 1);
      v101 = **(char ***)(v30 + 8 * v149);
      if (!v101)
        goto LABEL_95;
      v102 = 83;
    }
    *v101 = v102;
    v98 = v133;
    goto LABEL_91;
  }
  LODWORD(v106) = 0;
  v34 = (_QWORD *)v143;
LABEL_98:
  v107 = crf_Process_Constrained(*(_QWORD *)(a8 + 224), v34, v106, &v158, &v157, v30, v32);
  LODWORD(v112) = *(unsigned __int16 *)(v150 + 8);
  if ((v107 & 0x80000000) != 0)
  {
LABEL_113:
    if ((_DWORD)v112)
    {
      v118 = 0;
      v119 = v150;
      do
      {
        v120 = v34[v118];
        if (v120)
        {
          heap_Free(*(_QWORD **)(a4 + 8), v120);
          LODWORD(v112) = *(unsigned __int16 *)(v150 + 8);
        }
        ++v118;
      }
      while (v118 < v112);
      goto LABEL_120;
    }
  }
  else if (*(_WORD *)(v150 + 8))
  {
    v113 = 0;
    v114 = v158;
    v115 = 73;
    while (1)
    {
      log_OutText(*(_QWORD *)(a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"returned labels: %s\n", v109, v110, v111, *(_QWORD *)(v114 + 8 * v113));
      v114 = v158;
      v116 = **(unsigned __int8 **)(v158 + 8 * v113);
      v117 = 1;
      if (v116 <= 0x4C)
        break;
      if (v116 == 77)
        goto LABEL_108;
      if (v116 == 83)
        goto LABEL_107;
LABEL_109:
      ++v113;
      v112 = *(unsigned __int16 *)(v150 + 8);
      v115 += 224;
      if (v113 >= v112)
        goto LABEL_112;
    }
    if (v116 != 66)
    {
      if (v116 != 69)
        goto LABEL_109;
LABEL_107:
      v117 = 3;
    }
LABEL_108:
    *(_BYTE *)(*(_QWORD *)v150 + v115) = v117;
    goto LABEL_109;
  }
  v119 = v150;
LABEL_120:
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v34);
  v121 = *(unsigned __int16 *)(v119 + 8);
  if (*(_WORD *)(v119 + 8))
  {
    v122 = 0;
    do
    {
      v123 = *(_QWORD *)(v30 + 8 * v122);
      if (v123)
      {
        if (*(_DWORD *)(v32 + 4 * v122))
        {
          v124 = 0;
          do
            heap_Free(*(_QWORD **)(a4 + 8), *(_QWORD *)(*(_QWORD *)(v30 + 8 * v122) + 8 * (unsigned __int16)v124++));
          while (*(_DWORD *)(v32 + 4 * v122) > (unsigned __int16)v124);
          v123 = *(_QWORD *)(v30 + 8 * v122);
          v24 = v146;
        }
        heap_Free(*(_QWORD **)(a4 + 8), v123);
        v121 = *(unsigned __int16 *)(v119 + 8);
      }
      ++v122;
    }
    while (v122 < v121);
  }
  heap_Free(*(_QWORD **)(a4 + 8), v30);
  heap_Free(*(_QWORD **)(a4 + 8), v32);
  v125 = v158;
  if (v158)
  {
    v126 = v157;
    if (v157)
    {
      v127 = 0;
      do
      {
        v128 = *(_QWORD *)(v158 + 8 * v127);
        if (v128)
        {
          heap_Free(*(_QWORD **)(a4 + 8), v128);
          v126 = v157;
        }
        ++v127;
      }
      while (v126 > v127);
      v125 = v158;
    }
    heap_Free(*(_QWORD **)(a4 + 8), v125);
  }
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v19);
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)__s2);
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v141);
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v137);
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v134);
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v24);
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v148);
  heap_Free(*(_QWORD **)(a4 + 8), (uint64_t)v152);
  return v107;
}

uint64_t extractAndConvertTones(uint64_t a1, _BYTE *a2, char *__s, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  __int16 v10;
  _BYTE *v11;
  int v12;
  uint64_t v13;
  uint64_t v14;
  _BYTE *v15;
  uint64_t v16;
  int v17;
  uint64_t v18;
  const char *v19;
  const char *v20;
  char __s1[4];

  if (!a2)
  {
    v16 = 2315264006;
    v18 = *(_QWORD *)(a1 + 32);
    v19 = "szSourcePron";
    v20 = "invalid input parameter: %s\n";
LABEL_23:
    log_OutText(v18, (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)v20, a6, a7, a8, (uint64_t)v19);
    return v16;
  }
  if (!__s)
  {
    v16 = 2315264006;
    v18 = *(_QWORD *)(a1 + 32);
    v19 = "szTargetTone";
    v20 = "invalid input prone: %s\n";
    goto LABEL_23;
  }
  *__s = 0;
  v10 = *a2;
  if (*a2)
  {
    do
    {
      v11 = a2 + 1;
      if ((unsigned __int16)(v10 - 48) - 1 <= 8)
      {
        v12 = *v11;
        if (v12 == 125)
        {
          v11 = a2 + 2;
        }
        else
        {
          __s1[0] = v10;
          if (v12)
          {
            v13 = 0;
            v14 = 1;
            while (1)
            {
              if ((unsigned __int16)(v12 - 48) - 1 > 4)
              {
                v14 = (unsigned __int16)(v13 + 1);
                v11 = &a2[v13 + 1];
                goto LABEL_17;
              }
              v15 = &a2[v13];
              __s1[v13 + 1] = v12;
              if (v13 == 1)
                break;
              ++v14;
              LOWORD(v12) = v15[2];
              ++v13;
              if (!v15[2])
                goto LABEL_16;
            }
            v14 = 3;
LABEL_16:
            v11 = v15 + 2;
          }
          else
          {
            v14 = 1;
          }
LABEL_17:
          __s1[v14] = 0;
          convertTones(a1, __s1, __s);
        }
      }
      v10 = *v11;
      a2 = v11;
    }
    while (*v11);
  }
  v16 = 0;
  v17 = (unsigned __int16)strlen(__s);
  if (v17)
    __s[v17 - 1] = 0;
  else
    *(_WORD *)__s = 48;
  return v16;
}

uint64_t recursiveFindSplit(uint64_t result, unsigned int a2, unsigned int a3, unsigned int a4, uint64_t a5, _WORD *a6, unsigned int a7)
{
  uint64_t v9;
  unsigned __int16 v10;
  unsigned __int16 v11;

  v9 = result;
  if (a2 <= a3)
  {
    v10 = 0;
    v11 = a2;
    do
    {
      v10 += *(_WORD *)(result + 2 * v11);
      if (a4 >> 1 <= v10)
        break;
      ++v11;
    }
    while (a3 >= v11);
  }
  else
  {
    v10 = 0;
    v11 = a2;
  }
  if (a7 <= v10 && (int)(a4 - v10) >= (int)a7)
  {
    recursiveFindSplit(result);
    result = recursiveFindSplit(v9);
    *(_WORD *)(a5 + 2 * (unsigned __int16)(*a6)++) = v11;
  }
  return result;
}

uint64_t getDocumentClass(uint64_t *a1)
{
  int v1;
  __int16 v2;
  uint64_t v3;
  uint64_t v4;
  char *v5;

  v1 = *((unsigned __int16 *)a1 + 4);
  if (!*((_WORD *)a1 + 4))
    return 0;
  v2 = 0;
  v3 = *a1;
  while (1)
  {
    v4 = v3 + 224 * v2;
    v5 = *(char **)(v4 + 152);
    if (v5)
    {
      if (strstr(*(char **)(v4 + 152), "joyfulstyle"))
        return 1;
      if (strstr(v5, "didacticstyle"))
        return 2;
      if (strstr(v5, "neutralstyle"))
        break;
    }
    if (v1 <= ++v2)
      return 0;
  }
  return 3;
}

uint64_t puncPhrasing(uint64_t a1, uint64_t *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v8;
  int16x4_t *v10;
  __int16 v11;
  int DocumentClass;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  int v19;
  int v20;
  int v21;
  __int16 v22;
  int v23;
  int v24;
  int v25;
  unint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  const char **v30;
  const char *v31;
  size_t v32;
  unsigned int v33;
  BOOL v34;
  uint64_t v35;
  BOOL v36;
  const char *v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  int v49;
  uint64_t v50;
  int v51;
  int v52;
  unsigned int v53;
  char *v54;
  int v55;
  __int16 v56;
  unsigned __int16 v57;
  unsigned __int16 v58;
  char *v59;
  __int16 v60;
  uint64_t v61;
  char *v62;
  char *v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  int v67;
  __int16 v68;
  int v69;
  uint64_t v70;
  uint64_t v71;
  char *v72;
  __int16 v73;
  __int16 v74;
  unsigned __int16 v75;
  uint64_t v76;
  uint64_t v77;
  uint64_t v78;
  int v79;
  unsigned int CurrentUtf8Offset;
  uint64_t v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  uint64_t v86;
  unsigned __int16 v87;
  unsigned __int16 v88;
  unsigned int v89;
  int v90;
  BOOL v91;
  uint64_t v92;
  unsigned __int16 *v93;
  int v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t v97;
  uint64_t v98;
  uint64_t v99;
  uint64_t v100;
  int v101;
  int v102;
  uint64_t v103;
  int v104;
  unsigned __int16 v105;
  uint64_t v106;
  int v107;
  unsigned __int16 v108;
  int v109;
  __int16 v110;
  int v111;
  _BYTE *v112;
  int v113;
  _BOOL4 v114;
  int v115;
  unsigned __int16 v116;
  char *v117;
  __int16 v118;
  uint64_t v119;
  uint64_t v120;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  uint64_t v124;
  int v125;
  int v126;
  int v127;
  uint64_t v128;
  uint64_t v129;
  int v130;
  uint64_t v131;
  int v132;
  uint64_t v133;
  __int16 v134;
  int v135;
  int v136;
  int v137;
  int v138;
  int v139;
  int v140;
  uint64_t v141;
  uint64_t v142;
  uint64_t v143;
  uint64_t v144;
  uint64_t v145;
  uint64_t v146;
  unsigned __int16 v147;
  uint64_t v148;
  unsigned int v149;
  const char **v150;
  const char *v151;
  size_t v152;
  unsigned int v153;
  uint64_t v154;
  BOOL v155;
  int v156;
  uint64_t v157;
  __int16 v158;
  uint64_t v160;
  unsigned int v161;
  unsigned int v162;
  int8x8_t v163;
  unsigned int v164;
  int v165;
  __int16 v166;
  uint64_t v167;
  unsigned int v168;
  unsigned __int16 v169;
  uint64_t *v170;
  int v171;
  unsigned int v172;
  uint64_t v173;
  _WORD *v175;
  uint64_t v176;
  int v177;
  unsigned __int16 v178;
  _BYTE v179[6];

  v8 = (uint64_t)a2;
  if (!a2)
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"%s\n", a6, a7, a8, (uint64_t)"input parameter: sent is NULL");
    return v8;
  }
  if (!a3)
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s\n", a6, a7, a8, (uint64_t)"input parameter: rules is NULL, but it is ok");
    return 0;
  }
  v10 = (int16x4_t *)(a3 + 270);
  v11 = *(_WORD *)(a3 + 242);
  DocumentClass = getDocumentClass(a2);
  v166 = v11;
  switch(DocumentClass)
  {
    case 3:
      v163 = vbsl_s8((int8x8_t)vceqz_s16(*(int16x4_t *)(a3 + 290)), (int8x8_t)0x6001400030009, *(int8x8_t *)(a3 + 290));
      v23 = *(unsigned __int16 *)(a3 + 298);
      if (!*(_WORD *)(a3 + 298))
        v23 = 9;
      v168 = v23;
      v24 = *(unsigned __int16 *)(a3 + 300);
      if (!*(_WORD *)(a3 + 300))
        v24 = 21;
      v164 = v24;
      v25 = *(unsigned __int16 *)(a3 + 302);
      if (!*(_WORD *)(a3 + 302))
        v25 = 6;
      v172 = v25;
      v22 = *(_WORD *)(a3 + 304);
      if (!v22)
        goto LABEL_24;
      break;
    case 2:
      v163 = vbsl_s8((int8x8_t)vceqz_s16(*v10), (int8x8_t)0x6001400030009, (int8x8_t)*v10);
      v135 = *(unsigned __int16 *)(a3 + 278);
      if (!*(_WORD *)(a3 + 278))
        v135 = 9;
      v168 = v135;
      v136 = *(unsigned __int16 *)(a3 + 280);
      if (!*(_WORD *)(a3 + 280))
        v136 = 21;
      v164 = v136;
      v137 = *(unsigned __int16 *)(a3 + 282);
      if (!*(_WORD *)(a3 + 282))
        v137 = 6;
      v172 = v137;
      v22 = *(_WORD *)(a3 + 284);
      if (!v22)
        goto LABEL_24;
      break;
    case 1:
      v163 = vbsl_s8((int8x8_t)vceqz_s16(*(int16x4_t *)(a3 + 250)), (int8x8_t)0x6001400030009, *(int8x8_t *)(a3 + 250));
      v19 = *(unsigned __int16 *)(a3 + 258);
      if (!*(_WORD *)(a3 + 258))
        v19 = 9;
      v168 = v19;
      v20 = *(unsigned __int16 *)(a3 + 260);
      if (!*(_WORD *)(a3 + 260))
        v20 = 21;
      v164 = v20;
      v21 = *(unsigned __int16 *)(a3 + 262);
      if (!*(_WORD *)(a3 + 262))
        v21 = 6;
      v172 = v21;
      v22 = *(_WORD *)(a3 + 264);
      if (!v22)
        goto LABEL_24;
      break;
    default:
      v163 = vbsl_s8((int8x8_t)vceqz_s16(*(int16x4_t *)(a3 + 310)), (int8x8_t)0x6001400030009, *(int8x8_t *)(a3 + 310));
      v138 = *(unsigned __int16 *)(a3 + 318);
      if (!*(_WORD *)(a3 + 318))
        v138 = 9;
      v168 = v138;
      v139 = *(unsigned __int16 *)(a3 + 320);
      if (!*(_WORD *)(a3 + 320))
        v139 = 21;
      v164 = v139;
      v140 = *(unsigned __int16 *)(a3 + 322);
      if (!*(_WORD *)(a3 + 322))
        v140 = 6;
      v172 = v140;
      v22 = *(_WORD *)(a3 + 324);
      if (!v22)
        goto LABEL_24;
      break;
  }
  *(_WORD *)(a3 + 242) = v22;
LABEL_24:
  v167 = a3;
  v178 = 0;
  v177 = 0;
  v26 = *(unsigned __int16 *)(v8 + 8);
  if (*(_WORD *)(v8 + 8))
  {
    v27 = 0;
    v28 = 0;
    v29 = *(_QWORD *)v8;
    while (1)
    {
      v30 = *(const char ***)(v29 + v27 + 16);
      v31 = *v30;
      if (*v30)
      {
        v32 = strlen(*v30);
        if (v32)
        {
          v33 = v31[v32 - 1];
          v34 = v33 > 0x3B;
          v35 = (1 << v33) & 0xC00500000000000;
          v36 = v34 || v35 == 0;
          if (!v36 && v28 + 1 < v26)
            *(_BYTE *)(v29 + v27 + 73) = 4;
        }
      }
      v38 = *(const char **)(v29 + v27 + 136);
      if (!v38)
        goto LABEL_45;
      if (strcmp(*(const char **)(v29 + v27 + 136), "B") && strcmp(v38, "S"))
        break;
      if (v27)
      {
        v39 = (v28 - 1);
LABEL_44:
        *(_BYTE *)(v29 + 224 * v39 + 73) = 4;
      }
LABEL_45:
      ++v28;
      v27 += 224;
      if (224 * v26 == v27)
        goto LABEL_46;
    }
    if (strcmp(v38, "E"))
      goto LABEL_45;
    v39 = v28;
    if (*(_DWORD *)(v29 + v27 + 144) < v168)
      goto LABEL_45;
    goto LABEL_44;
  }
LABEL_46:
  v40 = a1;
  printPhrases(a1, v8, v13, v14, v15, v16, v17, v18);
  v41 = heap_Calloc(*(_QWORD **)(a1 + 8), 1024, 2);
  if (!v41)
  {
    v8 = 2315264010;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v44, v45, v46, v47, v161);
    v133 = v167;
    v134 = v11;
    goto LABEL_194;
  }
  v48 = v41;
  v170 = (uint64_t *)(v167 + 232);
  if (!*(_WORD *)(v8 + 8))
  {
LABEL_103:
    printPhrases(v40, v8, v42, v43, v44, v45, v46, v47);
    v101 = *(unsigned __int16 *)(v8 + 8);
    v176 = v48;
    if (*(_WORD *)(v8 + 8))
    {
      v102 = 0;
      do
      {
        v103 = *(_QWORD *)v8;
        if (*(_BYTE *)(*(_QWORD *)v8 + 224 * (unsigned __int16)v102 + 73) != 3)
          goto LABEL_143;
        v104 = v102 + 1;
        if ((unsigned __int16)(v102 + 1) < (unsigned __int16)v101)
        {
          v105 = 1;
          LODWORD(v106) = v102 + 1;
          while (1)
          {
            v107 = *(unsigned __int8 *)(v103 + 224 * (unsigned __int16)v106 + 73);
            if (v107 == 3)
            {
              ++v105;
            }
            else if (v107 == 4)
            {
              goto LABEL_114;
            }
            LODWORD(v106) = v106 + 1;
            if ((unsigned __int16)v106 >= (unsigned __int16)v101)
            {
              LODWORD(v106) = v101;
LABEL_114:
              if (v105 == 1)
              {
                v104 = v106;
                break;
              }
              v108 = v102 + 1;
              if ((v102 & 0x8000) == 0)
              {
                do
                {
                  if (*(_BYTE *)(v103 + 224 * (unsigned __int16)v102 + 73) == 4)
                    goto LABEL_120;
                  v109 = (__int16)v102;
                  LOWORD(v102) = v102 - 1;
                }
                while (v109 > 0);
                LOWORD(v102) = -1;
LABEL_120:
                v108 = v102 + 1;
              }
              if (v105 < 9u)
              {
                v110 = v105;
              }
              else
              {
                LODWORD(v106) = v104;
                v110 = 8;
              }
              if (v105 < 9u || (unsigned __int16)v104 >= (unsigned __int16)v101)
                goto LABEL_135;
              v111 = 0;
              v106 = (unsigned __int16)v104;
              v112 = (_BYTE *)(v103 + 224 * (unsigned __int16)v104 + 73);
              while (1)
              {
                v113 = *v112;
                if (v113 == 3)
                {
                  if ((unsigned __int16)++v111 >= 8u)
                  {
                    *v112 = 4;
LABEL_134:
                    v110 = 8;
LABEL_135:
                    v114 = (unsigned __int16)v106 == (unsigned __int16)v101;
                    v102 = v106 - v114;
                    if (v108 <= (unsigned __int16)(v106 - v114))
                    {
                      v115 = 0;
                      v116 = v108;
                      do
                      {
                        v117 = **(char ***)(*(_QWORD *)v8 + 224 * v116 + 16);
                        if (!strstr(v117, "comma"))
                        {
                          v118 = strlen(v117);
                          v115 += Utf8_LengthInUtf8chars((unint64_t)v117, v118);
                        }
                        ++v116;
                      }
                      while (v116 <= (unsigned __int16)v102);
                      if (v164 <= (unsigned __int16)v115)
                      {
                        LOWORD(v177) = v115;
                        HIWORD(v177) = v110;
                        astar_search(a1, (uint64_t *)v8, v108, (unsigned __int16)v102, (unsigned __int16 *)&v177, v170);
                      }
                    }
                    v48 = v176;
LABEL_143:
                    v104 = v102 + 1;
                    v101 = *(unsigned __int16 *)(v8 + 8);
                    goto LABEL_144;
                  }
                }
                else if (v113 == 4)
                {
                  goto LABEL_134;
                }
                ++v106;
                v112 += 224;
                if ((unsigned __int16)v101 == v106)
                {
                  v110 = 8;
                  LODWORD(v106) = v101;
                  goto LABEL_135;
                }
              }
            }
          }
        }
LABEL_144:
        v102 = v104;
      }
      while ((unsigned __int16)v104 < (unsigned __int16)v101);
    }
    printPhrases(a1, v8, v95, v96, v97, v98, v99, v100);
    v125 = *(unsigned __int16 *)(v8 + 8);
    v126 = v125 - 2;
    LOWORD(v127) = *(_WORD *)(v8 + 8);
    while (1)
    {
      v127 = (__int16)(v127 - 1);
      if (v127 < 1)
        break;
      LOWORD(v128) = v126;
      v129 = *(_QWORD *)v8;
      --v126;
      if (*(_QWORD *)(*(_QWORD *)v8 + 224 * (unsigned __int16)v127 + 136))
      {
        *(_BYTE *)(v129 + 224 * (unsigned __int16)v127 + 73) = 4;
        v128 = (unsigned __int16)v128;
        v130 = (unsigned __int16)(v125 - 1) - (__int16)(v125 - 2);
        v131 = v129 + 224 * (unsigned __int16)v128 + 73;
        while (!*(_QWORD *)(v131 + 63) || *(_BYTE *)v131 != 4)
        {
          v132 = (__int16)v128--;
          ++v130;
          v131 -= 224;
          if (v132 <= 0)
            goto LABEL_172;
        }
        if (v130 <= v163.u16[1])
          *(_BYTE *)v131 = 3;
        break;
      }
    }
LABEL_172:
    printPhrases(a1, v8, v119, v120, v121, v122, v123, v124);
    if (*(_WORD *)(v8 + 8))
    {
      v147 = 0;
      v148 = *(_QWORD *)v8;
      do
      {
        v149 = v147;
        if (*(_BYTE *)(v148 + 224 * v147 + 73) == 4
          && ((v150 = *(const char ***)(v148 + 224 * v147 + 16), (v151 = *v150) == 0)
           || (v152 = strlen(*v150)) == 0
           || ((v153 = v151[v152 - 1],
                v34 = v153 > 0x3B,
                v154 = (1 << v153) & 0xC00500000000000,
                !v34)
             ? (v155 = v154 == 0)
             : (v155 = 1),
               v155)))
        {
          ++v147;
          if (*(unsigned __int16 *)(v8 + 8) <= (unsigned __int16)(v149 + 1))
          {
            LOWORD(v156) = 0;
          }
          else
          {
            v156 = 0;
            do
            {
              v157 = 224 * v147;
              v158 = strlen(**(const char ***)(v148 + v157 + 16));
              v156 += Utf8_LengthInUtf8chars(**(_QWORD **)(v148 + v157 + 16), v158);
              v148 = *(_QWORD *)v8;
              if (*(_BYTE *)(*(_QWORD *)v8 + v157 + 73) == 4)
                break;
              ++v147;
            }
            while (*(unsigned __int16 *)(v8 + 8) > v147);
          }
          if (v172 > (unsigned __int16)v156)
            *(_BYTE *)(v148 + 224 * v149 + 73) = 3;
        }
        else
        {
          ++v147;
        }
        v48 = v176;
      }
      while (*(unsigned __int16 *)(v8 + 8) > v147);
    }
    printPhrases(a1, v8, v141, v142, v143, v144, v145, v146);
    v8 = 0;
    goto LABEL_192;
  }
  v49 = 0;
  v169 = 0;
  v50 = 0;
  v51 = 0;
  v171 = 1024;
  v165 = 0;
  while (1)
  {
    v52 = *(unsigned __int8 *)(*(_QWORD *)v8 + 224 * (unsigned __int16)v51 + 73);
    if (v52 == 4)
      goto LABEL_99;
    if (v52 == 3)
      break;
LABEL_100:
    v49 = (unsigned __int16)++v51;
    if ((unsigned __int16)v51 >= *(unsigned __int16 *)(v8 + 8))
      goto LABEL_103;
  }
  v53 = (unsigned __int16)v50;
  v54 = **(char ***)(*(_QWORD *)v8 + 224 * (unsigned __int16)v50 + 16);
  if (strstr(v54, "comma"))
  {
    v55 = 0;
  }
  else
  {
    v56 = strlen(v54);
    v55 = Utf8_LengthInUtf8chars((unint64_t)v54, v56);
  }
  v175 = (_WORD *)v48;
  v57 = v50 + 1;
  v173 = v50;
  if ((unsigned __int16)(v50 + 1) <= (unsigned __int16)v51)
  {
    v58 = v50 + 1;
    do
    {
      v59 = **(char ***)(*(_QWORD *)v8 + 224 * v58 + 16);
      if (!strstr(v59, "comma"))
      {
        v60 = strlen(v59);
        v55 += Utf8_LengthInUtf8chars((unint64_t)v59, v60);
      }
      ++v58;
    }
    while (v58 <= (unsigned __int16)v51);
  }
  v61 = heap_Alloc(*(_QWORD *)(a1 + 8), (4 * (unsigned __int16)v55) | 2);
  if (!v61)
  {
    v8 = 2315264010;
    v133 = v167;
    v134 = v166;
    v48 = (uint64_t)v175;
    goto LABEL_193;
  }
  v62 = (char *)v61;
  v63 = **(char ***)(*(_QWORD *)v8 + 224 * v53 + 16);
  v48 = (uint64_t)v175;
  if (strstr(v63, "comma"))
  {
    v67 = 0;
    *v62 = 0;
  }
  else
  {
    v68 = strlen(v63);
    *v175 = Utf8_LengthInUtf8chars((unint64_t)v63, v68);
    strcpy(v62, **(const char ***)(*(_QWORD *)v8 + 224 * v53 + 16));
    v67 = 1;
  }
  v69 = v49 - (unsigned __int16)v173 + v67;
  if (v69 > v171)
  {
    v70 = 2 * (unsigned __int16)v69;
    if (v70 > 0x1000)
    {
      v160 = a1;
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"Memory exceeds upper boundary: %d/%d", v64, v65, v66, 2 * (unsigned __int16)v69);
      v8 = 2315264015;
    }
    else
    {
      v71 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v175, v70);
      if (v71)
      {
        v171 = (unsigned __int16)v69;
        v48 = v71;
        goto LABEL_70;
      }
      v8 = 2315264010;
      v160 = a1;
    }
    heap_Free(*(_QWORD **)(v160 + 8), (uint64_t)v62);
    goto LABEL_192;
  }
LABEL_70:
  while (v57 <= (unsigned __int16)v51)
  {
    v72 = **(char ***)(*(_QWORD *)v8 + 224 * v57 + 16);
    if (!strstr(v72, "comma"))
    {
      strcat(v62, v72);
      v73 = strlen(**(const char ***)(*(_QWORD *)v8 + 224 * v57 + 16));
      *(_WORD *)(v48 + 2 * (unsigned __int16)v67) = Utf8_LengthInUtf8chars(**(_QWORD **)(*(_QWORD *)v8 + 224 * v57 + 16), v73);
      LOWORD(v67) = v67 + 1;
    }
    ++v57;
  }
  v74 = strlen(v62);
  v75 = Utf8_LengthInUtf8chars((unint64_t)v62, v74);
  v40 = a1;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"WEAK PHRASE:%s %d\n", v76, v77, v78, (uint64_t)v62);
  v79 = strlen(v62);
  CurrentUtf8Offset = utf8_GetCurrentUtf8Offset((unint64_t)v62, v79 - 1);
  utf8_getUTF8Char((uint64_t)v62, CurrentUtf8Offset, v179);
  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v62);
  if (v75 && applyRules(a1, v8, (unsigned __int16)v51, v170) == 1)
  {
    v169 += v75;
    v165 = v51;
    v50 = v173;
    goto LABEL_100;
  }
  if (v75 < v163.u16[0])
  {
LABEL_99:
    v50 = (v51 + 1);
    goto LABEL_100;
  }
  if (v75 - v169 <= v163.u16[3] && v169)
  {
    v169 = 0;
    v165 = 0;
    goto LABEL_78;
  }
  if (v169)
  {
    v169 = 0;
    v51 = v165 + 1;
    v50 = (v165 + 1);
    v165 = 0;
    goto LABEL_100;
  }
  if (v75 < v163.u16[2] && applyRules(a1, v8, (unsigned __int16)v51, v170) != 1)
  {
LABEL_78:
    *(_BYTE *)(*(_QWORD *)v8 + 224 * (unsigned __int16)v51 + 73) = 4;
    goto LABEL_99;
  }
  if ((unsigned __int16)v67 < 0x801u)
  {
    v81 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 2 * (unsigned __int16)v67);
    if (!v81)
    {
      v8 = 2315264010;
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v82, v83, v84, v85, v162);
      goto LABEL_192;
    }
    v86 = v81;
    v178 = 0;
    recursiveFindSplit(v48, 0, (unsigned __int16)v67, v75, v81, &v178, v168);
    if ((unsigned __int16)v173 <= (unsigned __int16)v51)
    {
      v87 = 0;
      v88 = v173;
      do
      {
        v89 = v88;
        v90 = v88;
        if (strstr(**(char ***)(*(_QWORD *)v8 + 224 * v88 + 16), "comma"))
          v91 = 1;
        else
          v91 = v90 == (unsigned __int16)v173;
        if (!v91)
          ++v87;
        v92 = v178;
        v93 = (unsigned __int16 *)v86;
        if (v178)
        {
          while (1)
          {
            v94 = *v93++;
            if (v94 == v87)
              break;
            if (!--v92)
              goto LABEL_97;
          }
          if (applyRules(a1, v8, v89, v170) != 1)
            *(_BYTE *)(*(_QWORD *)v8 + 224 * v89 + 73) = 4;
        }
LABEL_97:
        v88 = v89 + 1;
      }
      while ((unsigned __int16)(v89 + 1) <= (unsigned __int16)v51);
    }
    v40 = a1;
    heap_Free(*(_QWORD **)(a1 + 8), v86);
    goto LABEL_99;
  }
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"Memory exceeds upper boundary: %d/%d", v45, v46, v47, 2 * (unsigned __int16)v67);
  v8 = 2315264015;
LABEL_192:
  v133 = v167;
  v134 = v166;
LABEL_193:
  heap_Free(*(_QWORD **)(a1 + 8), v48);
LABEL_194:
  *(_WORD *)(v133 + 242) = v134;
  return v8;
}

uint64_t printPhrases(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  unint64_t v11;

  if (*(_WORD *)(a2 + 8))
  {
    v9 = result;
    v10 = 0;
    v11 = 0;
    do
    {
      result = log_OutText(*(_QWORD *)(v9 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s\t\t%s\n", a6, a7, a8, **(_QWORD **)(*(_QWORD *)a2 + v10 + 16));
      ++v11;
      v10 += 224;
    }
    while (v11 < *(unsigned __int16 *)(a2 + 8));
  }
  return result;
}

uint64_t convertTones(uint64_t a1, char *__s1, const char *a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  char *v9;
  __int16 v10;

  if (!strcmp(__s1, "55"))
  {
    v9 = (char *)&a3[strlen(a3)];
    v10 = 11569;
LABEL_18:
    *(_WORD *)v9 = v10;
    v9[2] = 0;
    return 0;
  }
  if (!strcmp(__s1, "35"))
  {
    v9 = (char *)&a3[strlen(a3)];
    v10 = 11570;
    goto LABEL_18;
  }
  if (!strcmp(__s1, "214") || !strcmp(__s1, "33"))
  {
    v9 = (char *)&a3[strlen(a3)];
    v10 = 11571;
    goto LABEL_18;
  }
  if (!strcmp(__s1, "51") || !strcmp(__s1, "21"))
  {
    v9 = (char *)&a3[strlen(a3)];
    v10 = 11572;
    goto LABEL_18;
  }
  if (!strcmp(__s1, "11") || !strcmp(__s1, "13"))
  {
    v9 = (char *)&a3[strlen(a3)];
    v10 = 11573;
    goto LABEL_18;
  }
  if (!strcmp(__s1, "34") || !strcmp(__s1, "22"))
  {
    v9 = (char *)&a3[strlen(a3)];
    v10 = 11574;
    goto LABEL_18;
  }
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"invalid input prone: %s\n", v6, v7, v8, (uint64_t)__s1);
  return 0;
}

uint64_t hlp_BrokerString(uint64_t a1, char *a2)
{
  uint64_t result;
  uint64_t v5;
  int v6[2];
  _OWORD v7[6];
  int v8;
  uint64_t v9;

  v9 = *MEMORY[0x1E0C80C00];
  v5 = 0;
  *(_QWORD *)v6 = 0;
  v8 = 0;
  memset(v7, 0, sizeof(v7));
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", v6);
  if ((result & 0x80000000) == 0)
  {
    result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"fecfg", &v5);
    if ((result & 0x80000000) == 0)
    {
      __strcpy_chk();
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      return brokeraux_ComposeBrokerString(a1, (const char *)v7, 1, 1, *(char **)v6, 0, 0, a2, 0x100uLL);
    }
  }
  return result;
}

uint64_t getTokenRuleset(uint64_t a1, __int16 a2, _DWORD *a3, _WORD *a4)
{
  uint64_t v7;
  unint64_t v8;
  uint64_t v9;
  const char **v10;
  _WORD *v11;
  uint64_t v12;
  uint64_t result;
  int v14;
  int v15;
  __int16 v16;
  __int16 v17;
  __int16 v18;
  __int16 v19;

  v19 = 0;
  *a3 = 0;
  v16 = a2;
  v14 = 0;
  v15 = 2;
  v17 = 0;
  v18 = 0;
  if (!*(_WORD *)(a1 + 192))
    return 0;
  v7 = 0;
  v8 = 0;
  v9 = a1 + 8;
  v10 = (const char **)(a1 + 1088);
  v11 = (_WORD *)(a1 + 1104);
  v12 = a1 + 672;
  do
  {
    result = matchPANDPRULE_TRule(*(unsigned int *)(a1 + 1108), v10, v11, *(char **)(a1 + 1096), v9, v12, *(_QWORD *)(*(_QWORD *)(a1 + 184) + v7), (uint64_t)&v15, &v14);
    if ((result & 0x80000000) != 0)
      break;
    if (v14)
    {
      if (v14 == 1)
      {
        *a3 = 1;
        *a4 = v8;
      }
      return result;
    }
    ++v8;
    v7 += 40;
  }
  while (v8 < *(unsigned __int16 *)(a1 + 192));
  return result;
}

uint64_t handleTokenWord(uint64_t a1, unsigned int a2, int a3, unsigned __int16 *a4, _DWORD *a5, uint64_t a6)
{
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  unsigned int v14;
  uint64_t v15;
  uint64_t v16;
  unint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t matched;
  int v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  int v42;
  unsigned __int16 *v43;
  unsigned int v44;
  uint64_t v45;
  int v47;
  int v48;
  int v49;
  int v50;
  int v51;
  __int16 v52;
  _BYTE v53[6];

  *(_DWORD *)&v53[2] = 0;
  v49 = 0;
  v47 = 0;
  v48 = 0;
  FLOATSUR_SET_INT(&v49, 0, 0);
  FLOATSUR_SET_INT(&v48, *(_WORD *)(*(_QWORD *)(a1 + 672) + 224 * a2 + 24), 0);
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    [1] apply word weight rules", v11, v12, v13, 0);
  v44 = a2;
  v52 = a2;
  v50 = 0;
  v51 = 1;
  *(_DWORD *)v53 = 0;
  v14 = a6;
  v15 = *(_QWORD *)(a1 + 184);
  v45 = a6;
  v42 = a3;
  v43 = a4;
  if (*(_WORD *)(v15 + 40 * a6 + 32))
  {
    v16 = 0;
    v17 = 0;
    while (1)
    {
      matched = matchMAPRULE2NUMANDOPERATOR_TRule(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), (_WORD *)(a1 + 1104), *(char **)(a1 + 1096), a1 + 8, a1 + 672, *(_QWORD *)(v15 + 40 * v14 + 24) + v16, (uint64_t)&v51, &v50, (unsigned __int16 *)&v49);
      if ((matched & 0x80000000) != 0)
        break;
      v22 = v50;
      if (v50 == 1)
      {
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    wordwweight : rulset %d, idx %d FIRED wordWeight=%d.%d", v18, v19, v20, v45);
        v22 = v50;
      }
      if (!v22)
      {
        ++v17;
        v15 = *(_QWORD *)(a1 + 184);
        v16 += 32;
        if (v17 < *(unsigned __int16 *)(v15 + 40 * v14 + 32))
          continue;
      }
      goto LABEL_10;
    }
  }
  else
  {
    matched = 0;
LABEL_10:
    FLOATSUR_PLUS(&v47, (unsigned __int16 *)&v49, (unsigned __int16 *)&v48);
    FLOATSUR_PLUS(v43, v43, (unsigned __int16 *)&v47);
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    runningPhraseWeight=%d.%d (wordWeight=%d.%d pronWeight=%d.%d)", v23, v24, v25, *v43);
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    [2] apply token rules", v26, v27, v28, 0);
    v52 = v44;
    v50 = 0;
    v51 = 1;
    *(_DWORD *)v53 = 0;
    v32 = *(_QWORD *)(a1 + 184);
    if (*(_WORD *)(v32 + 40 * v14 + 16))
    {
      v33 = 0;
      v34 = 8;
      while (1)
      {
        matched = matchMAPRULE2NUM_TRule(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), (_WORD *)(a1 + 1104), *(char **)(a1 + 1096), a1 + 8, a1 + 672, (_DWORD *)(*(_QWORD *)(v32 + 40 * v14 + 8) + v34 - 8), (uint64_t)&v51, &v50, a5);
        if ((matched & 0x80000000) != 0)
          break;
        if (v50 == 1)
        {
          matched = logPANDPRULE_TRule(*(unsigned int *)(a1 + 1108), (const char **)(a1 + 1088), (_WORD *)(a1 + 1104), *(char **)(a1 + 1096), (uint64_t *)(a1 + 8), (uint64_t **)(*(_QWORD *)(*(_QWORD *)(a1 + 184) + 40 * v14 + 8) + v34));
          if ((matched & 0x80000000) == 0)
          {
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    FIRED : ruleset %d, idx %d <%s> bndWeight=%d.%d", v38, v39, v40, v45);
            **(_BYTE **)(a1 + 1088) = 0;
          }
          return matched;
        }
        ++v33;
        v32 = *(_QWORD *)(a1 + 184);
        v34 += 32;
        if (v33 >= *(unsigned __int16 *)(v32 + 40 * v14 + 16))
        {
          if (v50)
            goto LABEL_17;
          goto LABEL_16;
        }
      }
    }
    else
    {
LABEL_16:
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    no token rules fire.", v29, v30, v31, 0);
LABEL_17:
      if (v44 + 1 == v42)
      {
        FLOATSUR_SET_INT(a5, *(_WORD *)(a1 + 176), 0);
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"    END token word; set TOKENENDWORDBNDWEIGHT bndWeight=%d.%d",
          v35,
          v36,
          v37,
          *(unsigned __int16 *)a5);
      }
      else
      {
        FLOATSUR_SET_INT(a5, 0, 0);
      }
    }
  }
  return matched;
}

uint64_t getPhrasingForToken(uint64_t *a1, uint64_t a2, unsigned int a3)
{
  unsigned __int16 v3;
  uint64_t v6;
  uint64_t v7;
  __int16 v8;
  uint64_t TokenRuleset;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  unsigned __int16 v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unsigned __int16 v19;
  unsigned __int16 v20;
  uint64_t v21;
  uint64_t v22;
  unsigned int v24;
  unsigned __int16 v25;
  int v26;
  uint64_t v27;

  v3 = a3;
  v27 = 0;
  v26 = 0;
  v25 = 0;
  v6 = *(_QWORD *)(a1[84] + 224 * a3 + 56) + 32 * *((unsigned __int16 *)a1 + 15);
  v7 = *(_QWORD *)(v6 + 16);
  v8 = *(_WORD *)(v6 + 10);
  FLOATSUR_SET_INT((_WORD *)&v27 + 2, 0, 0);
  FLOATSUR_SET_INT(&v27, 0, 0);
  TokenRuleset = getTokenRuleset((uint64_t)a1, v3, &v26, &v25);
  if ((TokenRuleset & 0x80000000) != 0)
    return TokenRuleset;
  v13 = *(_QWORD *)(*a1 + 32);
  if (v26 == 1)
  {
    v14 = v8 + 1;
    v15 = v25;
    log_OutText(v13, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  using token rule set %d (for \"%s\")", v10, v11, v12, v25);
    v24 = (unsigned __int16)(v14 - v3);
    v19 = v3;
    do
    {
      v20 = v3;
      log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  doing token word[%d]=%s", v16, v17, v18, v3);
      v21 = handleTokenWord((uint64_t)a1, v3, v14, (unsigned __int16 *)&v27 + 2, &v27, v15);
      if ((v21 & 0x80000000) != 0)
        break;
      if (FLOATSUR_GT_INT((unsigned __int16 *)&v27, 0, 0))
      {
        log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  add token node %d,%d", v16, v17, v18, v19);
        v21 = addNode(*a1, a2, v19, v3 + 1, 2, v24);
        if ((v21 & 0x80000000) != 0)
          return v21;
        *(_DWORD *)(*(_QWORD *)a2 + 32 * *(unsigned __int16 *)(a2 + 8) - 24) = HIDWORD(v27);
        v22 = *(_QWORD *)a2 + 32 * *(unsigned __int16 *)(a2 + 8);
        *(_DWORD *)(v22 - 12) = 1;
        *(_DWORD *)(v22 - 20) = v27;
        FLOATSUR_SET_INT((_WORD *)&v27 + 2, 0, 0);
        FLOATSUR_SET_INT(&v27, 0, 0);
        v19 = v3 + 1;
      }
      ++v3;
    }
    while ((unsigned __int16)(v20 + 1) < v14);
  }
  else
  {
    log_OutText(v13, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"  no rules match for token type =%s", v10, v11, v12, v7);
    return 2315264000;
  }
  return v21;
}

uint64_t assignTokenPOS(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unsigned __int16 v8;
  unsigned __int16 v10;
  uint64_t matched;
  uint64_t v12;
  uint64_t v13;
  const char **v14;
  _WORD *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unsigned int v19;
  uint64_t v20;
  unint64_t v21;
  int v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unsigned __int16 v28;
  char *v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  unsigned int v36;
  unsigned int v37;
  _WORD *v38;
  const char **v39;
  uint64_t v40;
  uint64_t v41;
  _BYTE v42[12];
  int v43;

  v43 = 0;
  v8 = *(_WORD *)(a1 + 680);
  if (!v8)
    return 0;
  v10 = 0;
  matched = 0;
  v12 = a1 + 672;
  memset(v42, 0, sizeof(v42));
  v13 = a1 + 8;
  v14 = (const char **)(a1 + 1088);
  v15 = (_WORD *)(a1 + 1104);
  v16 = *(_QWORD *)(a1 + 672);
  v40 = a1 + 8;
  v41 = a1 + 672;
  v38 = (_WORD *)(a1 + 1104);
  v39 = (const char **)(a1 + 1088);
  while (1)
  {
    v17 = *(_QWORD *)(v16 + 224 * v10 + 56);
    if (!v17)
      goto LABEL_7;
    v18 = *(unsigned __int16 *)(a1 + 30);
    if (*(_DWORD *)(v17 + 32 * v18) != 1)
      goto LABEL_7;
    v19 = *(unsigned __int16 *)(*(_QWORD *)(v16 + 224 * v10 + 56) + 32 * v18 + 10);
    if (v19 >= v10)
      break;
LABEL_6:
    v10 = v19;
LABEL_7:
    if (++v10 >= v8)
      return matched;
  }
  v37 = v10;
  while (1)
  {
    v43 = 0;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"get token POS for \"%s\"", a6, a7, a8, *(_QWORD *)(*(_QWORD *)(v16 + 224 * v10 + 16) + 8 * *(unsigned __int16 *)(a1 + 24)));
    if (!v43)
    {
      if (*(_WORD *)(a1 + 128))
        break;
    }
LABEL_11:
    ++v10;
    v16 = *(_QWORD *)(a1 + 672);
    v19 = *(unsigned __int16 *)(*(_QWORD *)(v16 + 224 * v37 + 56) + 32 * *(unsigned __int16 *)(a1 + 30) + 10);
    if (v19 < v10)
    {
      v8 = *(_WORD *)(a1 + 680);
      goto LABEL_6;
    }
  }
  v20 = 0;
  v21 = 0;
  while (1)
  {
    *(_WORD *)&v42[4] = v10;
    *(_DWORD *)v42 = 1;
    *(_DWORD *)&v42[6] = 0;
    matched = matchMAPRULE2STR_TRule(*(unsigned int *)(a1 + 1108), v14, v15, *(char **)(a1 + 1096), v13, v12, *(_QWORD *)(a1 + 120) + v20, (uint64_t)v42, &v43);
    if ((matched & 0x80000000) != 0)
      return matched;
    v22 = v43;
    if (v43 == 1)
    {
      v23 = 224 * v10;
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"POS tagging rule %d FIRED (word %d) \"%s\" -> \"%s\"", a6, a7, a8, v21);
      v24 = *(_QWORD *)(a1 + 672);
      v25 = *(_QWORD *)(a1 + 536);
      v26 = *(_QWORD *)(a1 + 544);
      v27 = *(_QWORD *)(a1 + 120);
      if (!*(_QWORD *)(v24 + v23 + 88)
        && !strcmp("UNK", (const char *)(v25 + *(unsigned int *)(v26 + 4 * *(unsigned int *)(v27 + v20)))))
      {
        v28 = strlen(*(const char **)(*(_QWORD *)(v24 + v23 + 16) + 8 * *(unsigned __int16 *)(a1 + 26)));
        v29 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, v28 + 1);
        v34 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v34 + v23 + 88) = v29;
        if (!v29)
        {
          log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v30, v31, v32, v33, v36);
          return 2315264010;
        }
        strcpy(v29, *(const char **)(*(_QWORD *)(v34 + 224 * v10 + 16) + 8 * *(unsigned __int16 *)(a1 + 26)));
        v24 = *(_QWORD *)(a1 + 672);
        v25 = *(_QWORD *)(a1 + 536);
        v26 = *(_QWORD *)(a1 + 544);
        v27 = *(_QWORD *)(a1 + 120);
      }
      matched = doMapStr(*(_QWORD *)a1, (const char **)(*(_QWORD *)(v24 + 224 * v10 + 16) + 8 * *(unsigned __int16 *)(a1 + 26)), (char *)(v25 + *(unsigned int *)(v26 + 4 * *(unsigned int *)(v27 + v20))));
      if ((matched & 0x80000000) != 0)
        return matched;
      v22 = v43;
      v13 = v40;
      v12 = v41;
      v15 = v38;
      v14 = v39;
    }
    if (!v22)
    {
      ++v21;
      v20 += 32;
      if (v21 < *(unsigned __int16 *)(a1 + 128))
        continue;
    }
    goto LABEL_11;
  }
}

uint64_t assignTokenTags(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unsigned __int16 v8;
  unsigned __int16 v10;
  uint64_t v11;
  uint64_t *v12;
  unsigned __int16 *v13;
  uint64_t v14;
  unsigned int v15;
  uint64_t v16;
  uint64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t matched;
  int v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v28;
  _QWORD v29[2];
  unsigned __int16 v30;
  int v31;

  v31 = 0;
  v30 = 0;
  v8 = *(_WORD *)(a1 + 680);
  if (!v8)
    return 0;
  v10 = 0;
  v11 = 0;
  v12 = (uint64_t *)(a1 + 672);
  memset(v29, 0, 12);
  v13 = (unsigned __int16 *)(a1 + 8);
  v14 = *(_QWORD *)(a1 + 672);
  while (1)
  {
    v15 = v10;
    v16 = *(_QWORD *)(v14 + 224 * v10 + 56);
    if (!v16)
      goto LABEL_7;
    v17 = *(unsigned __int16 *)(a1 + 30);
    if (*(_DWORD *)(v16 + 32 * v17) != 1)
      goto LABEL_7;
    v18 = *(unsigned __int16 *)(*(_QWORD *)(v14 + 224 * v10 + 56) + 32 * v17 + 10);
    if (v18 >= v10)
      break;
LABEL_6:
    v10 = v18;
LABEL_7:
    if (++v10 >= v8)
      return v11;
  }
  while (1)
  {
    v31 = 0;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"get token tag for word %d \"%s\"", a6, a7, a8, v10);
    if (!v31)
    {
      v19 = 0;
      while (v19 < *(unsigned __int16 *)(a1 + 152))
      {
        if (*(_DWORD *)(*(_QWORD *)(a1 + 144) + 4 * v19) == 1)
        {
          WORD2(v29[0]) = v10;
          LODWORD(v29[0]) = 1;
          *(_DWORD *)((char *)v29 + 6) = 0;
          matched = matchMMAPREGEX2STR_TRule(v13, (uint64_t)v12, *(unsigned __int16 **)(*(_QWORD *)(a1 + 136) + 8 * v19), (unsigned __int16 *)v29, &v31, (uint64_t)&v30, a7, a8);
        }
        else
        {
          matched = matchMAPSTRSTR_TRule((uint64_t)v13, v12, *(unsigned int **)(*(_QWORD *)(a1 + 136) + 8 * v19), (uint64_t)v29, &v31, a6, a7, a8);
        }
        v11 = matched;
        if ((matched & 0x80000000) != 0)
          return v11;
        v21 = v31;
        if (v31 == 1)
        {
          v22 = *(_QWORD *)(*(_QWORD *)a1 + 32);
          if (*(_DWORD *)(*(_QWORD *)(a1 + 144) + 4 * v19) == 1)
          {
            log_OutText(v22, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"regex rule %d FIRED \"%s\" -> \"%s\"", a6, a7, a8, v30);
            v23 = *(_QWORD *)a1;
            v24 = *(_QWORD *)(a1 + 536);
            v25 = *(_QWORD *)(a1 + 544);
            v26 = *(unsigned int *)(*(_QWORD *)(*(_QWORD *)(a1 + 136) + 8 * v19) + 8);
          }
          else
          {
            log_OutText(v22, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"normal rule FIRED \"%s\" -> \"%s\"", a6, a7, a8, *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 672) + 224 * v10 + 16) + 8 * *(unsigned __int16 *)(a1 + 24)));
            v23 = *(_QWORD *)a1;
            v24 = *(_QWORD *)(a1 + 536);
            v25 = *(_QWORD *)(a1 + 544);
            v26 = *(unsigned int *)(*(_QWORD *)(*(_QWORD *)(a1 + 136) + 8 * v19) + 4);
          }
          v11 = addTokenTag(v23, v10, (char *)(v24 + *(unsigned int *)(v25 + 4 * v26)), (uint64_t)v13, v12);
          if ((v11 & 0x80000000) != 0)
            return v11;
          v21 = v31;
        }
        ++v19;
        if (v21)
          goto LABEL_10;
      }
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"no matches found", a6, a7, a8, v28);
      v11 = addTokenTag(*(_QWORD *)a1, v10, "UNK", (uint64_t)v13, v12);
      if ((v11 & 0x80000000) != 0)
        return v11;
    }
LABEL_10:
    ++v10;
    v14 = *(_QWORD *)(a1 + 672);
    v18 = *(unsigned __int16 *)(*(_QWORD *)(v14 + 224 * v15 + 56) + 32 * *(unsigned __int16 *)(a1 + 30) + 10);
    if (v18 < v10)
    {
      v8 = *(_WORD *)(a1 + 680);
      goto LABEL_6;
    }
  }
}

uint64_t extendPHRContainingTokenTags(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v9;
  uint64_t v10;
  int v11;
  int v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  _QWORD *v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int v24;
  BOOL v25;
  _BOOL4 v26;
  unsigned int v27;
  uint64_t v28;
  BOOL v30;
  int v31;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  int v37;
  char *v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  int v52;
  char *v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  unsigned int v60;

  if (!*(_WORD *)(a1 + 680))
    return 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  LODWORD(v13) = 0;
  v14 = 0;
  v15 = *(_QWORD *)(a1 + 672);
  while (1)
  {
    v16 = *(_QWORD *)(v15 + 224 * v9 + 56);
    if (!v16)
      goto LABEL_46;
    v17 = *(unsigned __int16 *)(a1 + 32);
    if (*(_DWORD *)(v16 + 32 * v17) == 1)
    {
      v18 = v16 + 32 * v17;
      v13 = *(unsigned __int16 *)(v18 + 10);
      v19 = *(unsigned __int16 *)(v18 + 8);
      v14 = (unsigned __int16)v9;
      if (v19 >= v13)
      {
        v11 = 0;
        v12 = 0;
      }
      else
      {
        v12 = 0;
        v20 = (_QWORD *)(v15 + 224 * *(unsigned __int16 *)(v18 + 8) + 56);
        v21 = v13 - v19;
        do
        {
          if (*v20 && *(_DWORD *)(*v20 + 32 * *(unsigned __int16 *)(a1 + 30)) == 1)
            ++v12;
          v20 += 28;
          --v21;
        }
        while (v21);
        v11 = 0;
      }
    }
    v22 = *(unsigned __int16 *)(a1 + 30);
    v23 = v16 + 32 * v22;
    if (!*(_QWORD *)(v23 + 16))
      goto LABEL_46;
    v24 = v11 + 1;
    v25 = (_WORD)v11 || v9 == v14;
    v26 = !v25;
    v27 = *(unsigned __int16 *)(v23 + 10);
    v28 = *(_QWORD *)(v15 + 224 * *(unsigned __int16 *)(v23 + 10) + 56);
    if (!v28)
      break;
    v30 = *(_DWORD *)(v28 + 32 * v22 + 4) == 1
       && v27 < v13
       && (unsigned __int16)v24 == (unsigned __int16)v12;
    v31 = v30;
    if (v30 && v26)
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Extend token at %d to Left and Right", a6, a7, a8, v10);
      v33 = *(_QWORD *)(a1 + 672);
      v34 = *(unsigned __int16 *)(a1 + 30);
      v35 = *(_QWORD *)(v33 + 224 * v9 + 56) + 32 * v34;
      *(_DWORD *)v35 = 0;
      *(_DWORD *)(*(_QWORD *)(v33 + 224 * v27 + 56) + 32 * v34 + 4) = 0;
      v36 = *(_QWORD *)(v33 + 224 * v14 + 56) + 32 * v34;
      *(_DWORD *)v36 = 1;
      *(_WORD *)(v36 + 8) = v14;
      *(_WORD *)(v36 + 10) = v13;
      *(_DWORD *)(v36 + 24) = 1;
      v37 = strlen(*(const char **)(v35 + 16));
      v38 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, (v37 + 1));
      v43 = *(_QWORD *)(a1 + 672);
      v44 = *(unsigned __int16 *)(a1 + 30);
      *(_QWORD *)(*(_QWORD *)(v43 + 224 * v14 + 56) + 32 * v44 + 16) = v38;
      if (!v38)
        goto LABEL_48;
      strcpy(v38, *(const char **)(*(_QWORD *)(v43 + 224 * v9 + 56) + 32 * v44 + 16));
      heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 672) + 224 * v9 + 56) + 32 * *(unsigned __int16 *)(a1 + 30) + 16));
      v15 = *(_QWORD *)(a1 + 672);
      v45 = *(unsigned __int16 *)(a1 + 30);
      *(_QWORD *)(*(_QWORD *)(v15 + 224 * v9 + 56) + 32 * v45 + 16) = 0;
      v46 = *(_QWORD *)(v15 + 224 * v13 + 56) + 32 * v45;
      v11 = 1;
      *(_DWORD *)(v46 + 4) = 1;
      *(_WORD *)(v46 + 8) = v14;
    }
    else
    {
      if (v26)
        goto LABEL_39;
      if (!v31)
      {
LABEL_45:
        v11 = v24;
        goto LABEL_46;
      }
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Extend token at %d to Right", a6, a7, a8, v10);
      v15 = *(_QWORD *)(a1 + 672);
      v56 = *(unsigned __int16 *)(a1 + 30);
      *(_DWORD *)(*(_QWORD *)(v15 + 224 * v27 + 56) + 32 * v56 + 4) = 0;
      v57 = *(_QWORD *)(v15 + 224 * v9 + 56) + 32 * v56;
      *(_WORD *)(v57 + 10) = v13;
      *(_DWORD *)(v57 + 24) = 1;
      v58 = *(_QWORD *)(v15 + 224 * v13 + 56) + 32 * v56;
      *(_DWORD *)(v58 + 4) = 1;
      *(_WORD *)(v58 + 8) = *(_WORD *)(v57 + 8);
      v11 = v12;
    }
LABEL_46:
    v10 = ++v9;
    if (v9 >= *(unsigned __int16 *)(a1 + 680))
      return 0;
  }
  if (!v26)
    goto LABEL_45;
LABEL_39:
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Extend token at %d to Left", a6, a7, a8, v10);
  v15 = *(_QWORD *)(a1 + 672);
  v47 = *(_QWORD *)(v15 + 224 * v9 + 56);
  v48 = *(unsigned __int16 *)(a1 + 30);
  *(_DWORD *)(v47 + 32 * v48) = 0;
  v49 = *(_QWORD *)(v15 + 224 * v14 + 56);
  if (!v49)
  {
LABEL_42:
    *(_WORD *)(*(_QWORD *)(v15 + 224 * *(unsigned __int16 *)(v47 + 32 * v48 + 10) + 56) + 32 * v48 + 8) = v14;
    v11 = 1;
    goto LABEL_46;
  }
  v50 = v49 + 32 * v48;
  *(_DWORD *)v50 = 1;
  *(_WORD *)(v50 + 8) = v14;
  v51 = v47 + 32 * v48;
  *(_WORD *)(v50 + 10) = *(_WORD *)(v51 + 10);
  *(_DWORD *)(v50 + 24) = 1;
  v52 = strlen(*(const char **)(v51 + 16));
  v53 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, (v52 + 1));
  v54 = *(_QWORD *)(a1 + 672);
  v55 = *(unsigned __int16 *)(a1 + 30);
  *(_QWORD *)(*(_QWORD *)(v54 + 224 * v14 + 56) + 32 * v55 + 16) = v53;
  if (v53)
  {
    strcpy(v53, *(const char **)(*(_QWORD *)(v54 + 224 * v9 + 56) + 32 * v55 + 16));
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 672) + 224 * v9 + 56) + 32 * *(unsigned __int16 *)(a1 + 30) + 16));
    v15 = *(_QWORD *)(a1 + 672);
    v47 = *(_QWORD *)(v15 + 224 * v9 + 56);
    v48 = *(unsigned __int16 *)(a1 + 30);
    *(_QWORD *)(v47 + 32 * v48 + 16) = 0;
    goto LABEL_42;
  }
LABEL_48:
  log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v39, v40, v41, v42, v60);
  return 2315264010;
}

uint64_t annotateTokenTypeOnEachWord(uint64_t a1)
{
  uint64_t v1;
  uint64_t v2;
  _QWORD *v3;
  uint64_t v4;
  uint64_t v5;

  v1 = *(unsigned __int16 *)(a1 + 680);
  if (*(_WORD *)(a1 + 680))
  {
    v2 = 0;
    v3 = (_QWORD *)(*(_QWORD *)(a1 + 672) + 104);
    do
    {
      v4 = *(v3 - 6);
      if (v4)
      {
        v5 = *(unsigned __int16 *)(a1 + 30);
        if (*(_DWORD *)(v4 + 32 * v5) == 1)
          v2 = *(_QWORD *)(v4 + 32 * v5 + 16);
        *v3 = v2;
        if (*(_DWORD *)(v4 + 32 * v5 + 4) == 1)
          v2 = 0;
      }
      else
      {
        *v3 = v2;
      }
      v3 += 28;
      --v1;
    }
    while (v1);
  }
  return 0;
}

uint64_t load_pw_igtree_cfg(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t v5;
  char v7;
  __int16 v8;
  const char **v9;

  v9 = 0;
  v8 = -1;
  v7 = 0;
  *a4 = 0;
  v5 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, const char ***, __int16 *, char *))(a3 + 96))(a1, a2, "fecfg", "statbnd_pw_igtree", &v9, &v8, &v7);
  if ((v5 & 0x80000000) == 0 && v8 == 1)
  {
    (*v9)[strlen(*v9) - 1] = 0;
    if (!strcmp(*v9, "yes"))
      *a4 = 1;
  }
  return v5;
}

uint64_t load_pw_igtree(_WORD *a1, uint64_t a2, uint64_t a3, char **a4)
{
  uint64_t BrokerString;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  char *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int v22;
  unsigned int v25;
  int v26[2];
  _OWORD v27[16];
  uint64_t v28;

  v28 = *MEMORY[0x1E0C80C00];
  memset(v27, 0, sizeof(v27));
  *(_QWORD *)v26 = 0;
  *a4 = 0;
  BrokerString = nn_model_getBrokerString(a3, (char *)v27, (uint64_t)"pwigtree_", 0x100uLL);
  if ((BrokerString & 0x80000000) != 0
    || (BrokerString = ssftriff_reader_ObjOpen(a1, a2, 2, (const char *)v27, "IGTR", 1031, (uint64_t *)v26),
        (BrokerString & 0x80000000) != 0))
  {
    v21 = BrokerString;
  }
  else
  {
    v16 = (char *)heap_Calloc(*(_QWORD **)(a3 + 8), 1, 1600);
    *a4 = v16;
    if (v16)
    {
      v21 = igtree_Init(a1, a2, *(uint64_t *)v26, v16);
      ssftriff_reader_CloseChunk(*(uint64_t *)v26);
      if ((v21 & 0x80001FFF) == 0x14)
      {
        ssftriff_reader_CloseChunk(*(uint64_t *)v26);
        v21 = 0;
      }
    }
    else
    {
      log_OutPublic(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v17, v18, v19, v20, v25);
      v21 = 2315264010;
    }
  }
  if (*(_QWORD *)v26)
  {
    v22 = ssftriff_reader_ObjClose(*(_QWORD **)v26, v9, v10, v11, v12, v13, v14, v15);
    if (v22 >= 0 || (int)v21 <= -1)
      return v21;
    else
      return v22;
  }
  return v21;
}

uint64_t hlp_igtree_initFeatureVector(uint64_t a1, _QWORD *a2, unsigned int a3)
{
  uint64_t v5;
  _WORD *v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  unsigned int v12;

  if (!a3)
    return 0;
  v5 = a3;
  while (1)
  {
    v6 = (_WORD *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 65);
    *a2 = v6;
    if (!v6)
      break;
    *v6 = 61;
    ++a2;
    if (!--v5)
      return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v7, v8, v9, v10, v12);
  return 2315264010;
}

uint64_t hlp_igtree_freeFeatureVector(uint64_t a1, uint64_t *a2, unsigned int a3)
{
  uint64_t v5;

  if (a3)
  {
    v5 = a3;
    do
    {
      if (*a2)
      {
        heap_Free(*(_QWORD **)(a1 + 8), *a2);
        *a2 = 0;
      }
      ++a2;
      --v5;
    }
    while (v5);
  }
  return 0;
}

uint64_t hlp_resizeFeature(uint64_t a1, uint64_t *a2, char *__s)
{
  int v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t result;
  unsigned int v13;

  v5 = strlen(__s);
  v6 = heap_Realloc(*(uint64_t **)(a1 + 8), *a2, (v5 + 1));
  if (v6)
  {
    v11 = v6;
    result = 0;
    *a2 = v11;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v7, v8, v9, v10, v13);
    return 2315264010;
  }
  return result;
}

uint64_t hlp_igtree_setFeature(uint64_t a1, uint64_t a2, unsigned int a3, int a4, uint64_t a5, char *a6)
{
  uint64_t result;
  uint64_t v10;
  unsigned __int16 v11;

  v11 = -1;
  result = hlp_igtree_isFeatureRequired(a2, a3, a4, &v11);
  if ((_DWORD)result)
  {
    if (*a6)
    {
      v10 = v11;
      if (strlen(a6) < 0x41
        || (result = hlp_resizeFeature(a1, (uint64_t *)(a5 + 8 * v11), a6), (result & 0x80000000) == 0))
      {
        strcpy(*(char **)(a5 + 8 * v10), a6);
        return 0;
      }
    }
    else
    {
      result = 0;
      **(_WORD **)(a5 + 8 * v11) = 61;
    }
  }
  return result;
}

uint64_t hlp_igtree_isFeatureRequired(uint64_t a1, unsigned int a2, int a3, _WORD *a4)
{
  uint64_t v6;
  uint64_t v7;
  const char *v8;

  if (a2 < 2)
    return 0;
  v6 = 0;
  v7 = a2 - 1;
  v8 = g_featureNames_2[a3];
  while (strcmp(*(const char **)(a1 + 8 * v6), v8))
  {
    if (v7 == ++v6)
      return 0;
  }
  *a4 = v6;
  return 1;
}

char *feat_wordlength(uint64_t a1, unsigned int a2, int a3, int a4, char *__src, char *__dst)
{
  *__dst = 0;
  if (a4 + a3 >= a2)
    return strcpy(__dst, __src);
  else
    return (char *)sprintf(__dst, "%d", *(unsigned __int16 *)(a1 + 40 * (a4 + a3) + 26));
}

uint64_t hlp_igtree_setFeatureVector(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4, uint64_t a5, unsigned int a6, unsigned int a7)
{
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  char *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  char *v23;
  uint64_t v24;
  uint64_t v25;
  char *v26;
  uint64_t v27;
  char *v28;
  uint64_t v29;
  char *v30;
  uint64_t v31;
  char *v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  char *v37;
  uint64_t v38;
  char *v39;
  uint64_t v40;
  char *v41;
  uint64_t v42;
  char *v43;
  uint64_t v44;
  char *v45;
  char *v46;
  char *v47;
  char *v48;
  char *v49;
  uint64_t v50;
  char *v51;
  unsigned int v52;
  int v53;
  uint64_t v54;
  char *v55;
  unsigned int v56;
  int v57;
  char *v58;
  unsigned __int16 v59;
  char *v60;
  unsigned __int16 v61;
  char v62;
  char *v63;
  char v64;
  char *v65;
  char v66;
  char *v67;
  char v68;
  char *v69;
  char v70;
  char *v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  char v75;
  char *v76;
  int v77;
  unsigned int v78;
  unsigned int v80;
  unsigned int v81;
  unsigned __int16 v82;

  v82 = 0;
  v14 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 2048);
  if (v14)
  {
    v19 = (char *)v14;
    v81 = a6;
    if (a4 < 2)
      goto LABEL_99;
    v20 = 0;
    v21 = a4 - 1;
    while (strcmp(*(const char **)(a3 + 8 * v20), "word"))
    {
      if (v21 == ++v20)
        goto LABEL_12;
    }
    v82 = v20;
    if (a7 >= v81)
      v23 = "=";
    else
      v23 = *(char **)(a5 + 40 * a7);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 0, a2, v23);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_12:
    v25 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v25), "lword"))
    {
      if (v21 == ++v25)
        goto LABEL_20;
    }
    v82 = v25;
    if (a7 - 1 >= v81)
      v26 = "=";
    else
      v26 = *(char **)(a5 + 40 * (a7 - 1));
    v24 = hlp_igtree_setFeature(a1, a3, a4, 1, a2, v26);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_20:
    v27 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v27), "llword"))
    {
      if (v21 == ++v27)
        goto LABEL_28;
    }
    v82 = v27;
    if (a7 - 2 >= v81)
      v28 = "=";
    else
      v28 = *(char **)(a5 + 40 * (a7 - 2));
    v24 = hlp_igtree_setFeature(a1, a3, a4, 2, a2, v28);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_28:
    v29 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v29), "rword"))
    {
      if (v21 == ++v29)
        goto LABEL_36;
    }
    v82 = v29;
    if (a7 + 1 >= v81)
      v30 = "=";
    else
      v30 = *(char **)(a5 + 40 * (a7 + 1));
    v24 = hlp_igtree_setFeature(a1, a3, a4, 3, a2, v30);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_36:
    v31 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v31), "rrword"))
    {
      if (v21 == ++v31)
        goto LABEL_44;
    }
    v82 = v31;
    if (a7 + 2 >= v81)
      v32 = "=";
    else
      v32 = *(char **)(a5 + 40 * (a7 + 2));
    v24 = hlp_igtree_setFeature(a1, a3, a4, 4, a2, v32);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_44:
    v33 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v33), "wordlen"))
    {
      if (v21 == ++v33)
        goto LABEL_49;
    }
    v82 = v33;
    feat_wordlength(a5, v81, a7, 0, "=", v19);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 5, a2, v19);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_49:
    v34 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v34), "lwordlen"))
    {
      if (v21 == ++v34)
        goto LABEL_54;
    }
    v82 = v34;
    feat_wordlength(a5, v81, a7, -1, "=", v19);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 6, a2, v19);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_54:
    v35 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v35), "rwordlen"))
    {
      if (v21 == ++v35)
        goto LABEL_59;
    }
    v82 = v35;
    feat_wordlength(a5, v81, a7, 1, "=", v19);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 7, a2, v19);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_59:
    v36 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v36), "pos"))
    {
      if (v21 == ++v36)
        goto LABEL_67;
    }
    v82 = v36;
    if (a7 >= v81)
      v37 = "=";
    else
      v37 = *(char **)(a5 + 40 * a7 + 8);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 8, a2, v37);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_67:
    v38 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v38), "lpos"))
    {
      if (v21 == ++v38)
        goto LABEL_75;
    }
    v82 = v38;
    if (a7 - 1 >= v81)
      v39 = "=";
    else
      v39 = *(char **)(a5 + 40 * (a7 - 1) + 8);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 9, a2, v39);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_75:
    v40 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v40), "llpos"))
    {
      if (v21 == ++v40)
        goto LABEL_83;
    }
    v82 = v40;
    if (a7 - 2 >= v81)
      v41 = "=";
    else
      v41 = *(char **)(a5 + 40 * (a7 - 2) + 8);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 10, a2, v41);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_83:
    v42 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v42), "rpos"))
    {
      if (v21 == ++v42)
        goto LABEL_91;
    }
    v82 = v42;
    if (a7 + 1 >= v81)
      v43 = "=";
    else
      v43 = *(char **)(a5 + 40 * (a7 + 1) + 8);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 11, a2, v43);
    if ((v24 & 0x80000000) != 0)
      goto LABEL_186;
LABEL_91:
    v44 = 0;
    while (strcmp(*(const char **)(a3 + 8 * v44), "rrpos"))
    {
      if (v21 == ++v44)
        goto LABEL_99;
    }
    v82 = v44;
    v45 = a7 + 2 >= v81 ? "=" : *(char **)(a5 + 40 * (a7 + 2) + 8);
    v24 = hlp_igtree_setFeature(a1, a3, a4, 12, a2, v45);
    if ((v24 & 0x80000000) == 0)
    {
LABEL_99:
      if (!hlp_igtree_isFeatureRequired(a3, a4, 13, &v82)
        || (v46 = (char *)feat_char(a5, a7, 0, v19),
            v24 = hlp_igtree_setFeature(a1, a3, a4, 13, a2, v46),
            (v24 & 0x80000000) == 0))
      {
        if (!hlp_igtree_isFeatureRequired(a3, a4, 15, &v82)
          || (v47 = (char *)feat_char(a5, a7, 1, v19),
              v24 = hlp_igtree_setFeature(a1, a3, a4, 15, a2, v47),
              (v24 & 0x80000000) == 0))
        {
          if (!hlp_igtree_isFeatureRequired(a3, a4, 14, &v82)
            || (v48 = (char *)feat_char(a5, a7, -1, v19),
                v24 = hlp_igtree_setFeature(a1, a3, a4, 14, a2, v48),
                (v24 & 0x80000000) == 0))
          {
            if (!hlp_igtree_isFeatureRequired(a3, a4, 16, &v82)
              || (v49 = (char *)feat_char(a5, a7, -2, v19),
                  v24 = hlp_igtree_setFeature(a1, a3, a4, 16, a2, v49),
                  (v24 & 0x80000000) == 0))
            {
              if (!hlp_igtree_isFeatureRequired(a3, a4, 17, &v82))
                goto LABEL_194;
              if (a7)
              {
                v50 = a7;
                v51 = "=";
                while (v50 != 1)
                {
                  v52 = v50 - 2;
                  v53 = **(unsigned __int8 **)(a5 + 40 * (v50-- - 2) + 8);
                  if (v53 == 110)
                  {
                    v51 = *(char **)(a5 + 40 * v52);
                    break;
                  }
                }
              }
              else
              {
                v51 = "=";
              }
              v24 = hlp_igtree_setFeature(a1, a3, a4, 17, a2, v51);
              if ((v24 & 0x80000000) == 0)
              {
LABEL_194:
                if (!hlp_igtree_isFeatureRequired(a3, a4, 18, &v82))
                  goto LABEL_191;
                if (a7)
                {
                  v54 = a7;
                  v55 = "=";
                  while (v54 != 1)
                  {
                    v56 = v54 - 2;
                    v57 = **(unsigned __int8 **)(a5 + 40 * (v54-- - 2) + 8);
                    if (v57 == 118)
                    {
                      v55 = *(char **)(a5 + 40 * v56);
                      break;
                    }
                  }
                }
                else
                {
                  v55 = "=";
                }
                v24 = hlp_igtree_setFeature(a1, a3, a4, 18, a2, v55);
                if ((v24 & 0x80000000) == 0)
                {
LABEL_191:
                  if (!hlp_igtree_isFeatureRequired(a3, a4, 19, &v82))
                    goto LABEL_192;
                  v58 = "=";
                  v59 = a7;
                  while (v81 > ++v59)
                  {
                    if (**(_BYTE **)(a5 + 40 * v59 + 8) == 110)
                    {
                      v58 = *(char **)(a5 + 40 * v59);
                      break;
                    }
                  }
                  v24 = hlp_igtree_setFeature(a1, a3, a4, 19, a2, v58);
                  if ((v24 & 0x80000000) == 0)
                  {
LABEL_192:
                    if (!hlp_igtree_isFeatureRequired(a3, a4, 19, &v82))
                      goto LABEL_193;
                    v60 = "=";
                    v61 = a7;
                    while (v81 > ++v61)
                    {
                      if (**(_BYTE **)(a5 + 40 * v61 + 8) == 118)
                      {
                        v60 = *(char **)(a5 + 40 * v61);
                        break;
                      }
                    }
                    v24 = hlp_igtree_setFeature(a1, a3, a4, 20, a2, v60);
                    if ((v24 & 0x80000000) == 0)
                    {
LABEL_193:
                      if (!hlp_igtree_isFeatureRequired(a3, a4, 21, &v82)
                        || (a7 >= v81
                          ? (v63 = "=")
                          : ((v19[1] = 0, *(unsigned __int16 *)(a5 + 40 * a7 + 26) > 5u) ? (v62 = 48) : (v62 = 49),
                             *v19 = v62,
                             v63 = v19),
                            v24 = hlp_igtree_setFeature(a1, a3, a4, 21, a2, v63),
                            (v24 & 0x80000000) == 0))
                      {
                        if (!hlp_igtree_isFeatureRequired(a3, a4, 22, &v82)
                          || (a7 >= v81
                            ? (v65 = "=")
                            : ((v19[1] = 0, *(unsigned __int16 *)(a5 + 40 * a7 + 26) < 2u) ? (v64 = 48) : (v64 = 49),
                               *v19 = v64,
                               v65 = v19),
                              v24 = hlp_igtree_setFeature(a1, a3, a4, 22, a2, v65),
                              (v24 & 0x80000000) == 0))
                        {
                          if (!hlp_igtree_isFeatureRequired(a3, a4, 23, &v82)
                            || (a7 - 1 >= v81
                              ? (v67 = "=")
                              : ((v19[1] = 0, *(unsigned __int16 *)(a5 + 40 * (a7 - 1) + 26) > 5u)
                               ? (v66 = 48)
                               : (v66 = 49),
                                 *v19 = v66,
                                 v67 = v19),
                                v24 = hlp_igtree_setFeature(a1, a3, a4, 23, a2, v67),
                                (v24 & 0x80000000) == 0))
                          {
                            if (!hlp_igtree_isFeatureRequired(a3, a4, 24, &v82)
                              || (a7 - 1 >= v81
                                ? (v69 = "=")
                                : ((v19[1] = 0, *(unsigned __int16 *)(a5 + 40 * (a7 - 1) + 26) < 2u)
                                 ? (v68 = 48)
                                 : (v68 = 49),
                                   *v19 = v68,
                                   v69 = v19),
                                  v24 = hlp_igtree_setFeature(a1, a3, a4, 24, a2, v69),
                                  (v24 & 0x80000000) == 0))
                            {
                              if (!hlp_igtree_isFeatureRequired(a3, a4, 25, &v82)
                                || (a7 + 1 >= v81
                                  ? (v71 = "=")
                                  : ((v19[1] = 0, *(unsigned __int16 *)(a5 + 40 * (a7 + 1) + 26) > 5u)
                                   ? (v70 = 48)
                                   : (v70 = 49),
                                     *v19 = v70,
                                     v71 = v19),
                                    v24 = hlp_igtree_setFeature(a1, a3, a4, 25, a2, v71),
                                    (v24 & 0x80000000) == 0))
                              {
                                if (!hlp_igtree_isFeatureRequired(a3, a4, 26, &v82)
                                  || (a7 + 1 >= v81
                                    ? (v76 = "=")
                                    : ((v19[1] = 0, *(unsigned __int16 *)(a5 + 40 * (a7 + 1) + 26) < 2u)
                                     ? (v75 = 48)
                                     : (v75 = 49),
                                       *v19 = v75,
                                       v76 = v19),
                                      v24 = hlp_igtree_setFeature(a1, a3, a4, 26, a2, v76),
                                      (v24 & 0x80000000) == 0))
                                {
                                  v77 = 0;
                                  v78 = v82;
                                  do
                                  {
                                    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"igtree feature %s", v72, v73, v74, *(_QWORD *)(a2 + 8 * (unsigned __int16)v77));
                                    v22 = 0;
                                    ++v77;
                                  }
                                  while (v78 >= (unsigned __int16)v77);
                                  goto LABEL_187;
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
LABEL_186:
    v22 = v24;
LABEL_187:
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v19);
    return v22;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v15, v16, v17, v18, v80);
  return 2315264010;
}

const char *feat_char(uint64_t a1, unsigned int a2, int a3, char *a4)
{
  int v5;
  unsigned int v6;
  unsigned __int16 v7;
  uint64_t *v8;

  v5 = a3;
  v6 = *(unsigned __int16 *)(a1 + 40 * a2 + 26);
  if (a3 < 0)
  {
    if ((((_WORD)v6 + (_WORD)a3) & 0x8000) != 0)
      return "=";
    v5 = (__int16)(v6 + a3);
  }
  if (v6 <= (unsigned __int16)v5)
    return "=";
  v7 = 0;
  v8 = (uint64_t *)(a1 + 40 * a2);
  do
  {
    utf8_getUTF8Char(*v8, v7, a4);
    v7 += strlen(a4);
  }
  while ((unsigned __int16)v5-- != 0);
  return a4;
}

uint64_t pandpIgtreeInit(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, uint64_t a6, _QWORD *a7)
{
  int v14;
  uint64_t v15;
  char *v16;
  _WORD *v17;
  uint64_t v18;
  _WORD *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  int v23;
  uint64_t v24;

  v14 = IgtreeContextInit(a1, a2, a3, a4, a5, a6, (uint64_t)(a7 + 7), "igtree2ps");
  if (v14 < 0)
    goto LABEL_5;
  if (a7[8])
  {
    v14 = IgtreeContextInit(a1, a2, a3, a4, a5, a6, (uint64_t)(a7 + 14), "igtree2pw");
    if ((v14 & 0x80000000) == 0)
    {
      v15 = (uint64_t)(a7 + 21);
      v16 = "igtreexsh";
      v17 = a1;
      v18 = a2;
      v19 = a3;
      v20 = a4;
      v21 = a5;
      v22 = a6;
      goto LABEL_7;
    }
LABEL_5:
    v23 = v14;
    pandpIgtreeDeinit(a5, a6, a7);
    return v23 | 0x8A002000;
  }
  v16 = "igtree1p";
  v17 = a1;
  v18 = a2;
  v19 = a3;
  v20 = a4;
  v21 = a5;
  v22 = a6;
  v15 = (uint64_t)a7;
LABEL_7:
  v24 = IgtreeContextInit(v17, v18, v19, v20, v21, v22, v15, v16);
  if ((v24 & 0x80000000) != 0)
  {
    pandpIgtreeDeinit(a5, a6, a7);
    return v24 | 0x8A002000;
  }
  return v24;
}

uint64_t IgtreeContextInit(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, char *__s1)
{
  int v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  int v26;
  int v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unsigned int v33;
  uint64_t v34;
  const char *v35;
  char **v36;
  const char *v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  char *v41;
  uint64_t v42;
  unsigned __int16 v43;
  uint64_t v44;
  uint64_t v45;
  const char *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  unsigned int v57;
  char *__s1a;

  __s1a = 0;
  *(_QWORD *)a7 = __s1;
  *(_QWORD *)(a7 + 24) = 0;
  *(_QWORD *)(a7 + 40) = 0;
  *(_QWORD *)(a7 + 48) = 0;
  if (!strcmp(__s1, "igtree2ps"))
  {
    v16 = 1;
    if ((paramc_ParamGetStr(*(_QWORD *)(a5 + 40), (uint64_t)"compatstrongbnd", &__s1a) & 0x80000000) == 0
      && __s1a
      && !strcmp(__s1a, "yes"))
    {
      log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"<%s> disables voice-dependent strong BND model", v21, v22, v23, (uint64_t)"compatstrongbnd");
      v16 = 0;
    }
  }
  else
  {
    v16 = 1;
  }
  if ((paramc_ParamGetStr(*(_QWORD *)(a5 + 40), (uint64_t)"basicclcprosody", &__s1a) & 0x80000000) == 0
    && __s1a
    && !strcmp(__s1a, "yes"))
  {
    log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"<%s> disables voice-dependent %s", v17, v18, v19, (uint64_t)"basicclcprosody");
  }
  else if (v16)
  {
    v20 = tryLoadingIgtreeModel(a1, a2, a3, a4, a5, a7, (uint64_t)__s1, 1);
    if (v20 < 0)
      return v20 | 0x8A002000;
  }
  v24 = *(_QWORD *)(a7 + 8);
  if (v24)
    goto LABEL_15;
  v20 = tryLoadingIgtreeModel(a1, a2, a3, a4, a5, a7, (uint64_t)__s1, 0);
  if (v20 < 0)
    return v20 | 0x8A002000;
  v24 = *(_QWORD *)(a7 + 8);
  if (v24)
  {
LABEL_15:
    *(_QWORD *)(a7 + 16) = 0;
    v25 = *(_QWORD *)(v24 + 1312);
    v26 = *(unsigned __int8 *)(v24 + 1296);
    v27 = v26 - 1;
    v28 = heap_Calloc(*(_QWORD **)(a5 + 8), (unsigned __int16)(v26 - 1), 8);
    *(_QWORD *)(a7 + 16) = v28;
    if (v28)
    {
      if (!v27)
      {
LABEL_25:
        *(_QWORD *)(a7 + 24) = &byte_1DEBD87CE;
        *(_DWORD *)(a7 + 32) = 1;
        v42 = *(_QWORD *)(a7 + 8);
        if (v42 && *(_QWORD *)(v42 + 1328) && *(_DWORD *)(v42 + 1336))
        {
          v43 = 0;
          do
          {
            v44 = *(_QWORD *)(v42 + 1328);
            v45 = v43;
            v46 = *(const char **)(v44 + 16 * v43);
            if (!strcmp("orth_top200", v46))
            {
              *(_QWORD *)(a7 + 24) = *(_QWORD *)(v44 + 16 * v45 + 8);
            }
            else if (!strcmp("bnd1_dist_min", v46))
            {
              v47 = strtol(*(const char **)(v44 + 16 * v45 + 8), 0, 10);
              if (v47 < 1)
                log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 1, 0, (uint64_t)"readIgtreeParams: ignore invalid bnd1_dist_min value %s", v48, v49, v50, *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a7 + 8) + 1328) + 16 * v45 + 8));
              else
                *(_DWORD *)(a7 + 32) = v47;
            }
            v43 = v45 + 1;
            v42 = *(_QWORD *)(a7 + 8);
          }
          while (*(_DWORD *)(v42 + 1336) > (unsigned __int16)(v45 + 1));
        }
        return 0;
      }
      v33 = 0;
      while (1)
      {
        v34 = v33;
        *(_QWORD *)(v28 + 8 * v33) = 0;
        v35 = *(const char **)(v25 + 8 * v33);
        v36 = &off_1EA90B250;
        v37 = "pos_current";
        while (strcmp(v37, v35))
        {
          v41 = *v36;
          v36 += 2;
          v37 = v41;
          if (!v41)
            goto LABEL_23;
        }
        log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"traceFeatureMap %s [%d] => %s", v38, v39, v40, *(_QWORD *)a7);
        *(_QWORD *)(*(_QWORD *)(a7 + 16) + 8 * v34) = *(v36 - 1);
LABEL_23:
        v28 = *(_QWORD *)(a7 + 16);
        if (!*(_QWORD *)(v28 + 8 * v34))
          break;
        v33 = (unsigned __int16)(v34 + 1);
        if (v33 >= (unsigned __int16)v27)
          goto LABEL_25;
      }
      log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"no implementation for feature[%d] => %s", v38, v39, v40, v34);
      log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37001, "%s%s", v52, v53, v54, v55, "unimplemented feature");
      heap_Free(*(_QWORD **)(a5 + 8), *(_QWORD *)(a7 + 16));
      *(_QWORD *)(a7 + 16) = 0;
      v51 = 2315264025;
    }
    else
    {
      log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v29, v30, v31, v32, v57);
      v51 = 2315264010;
    }
    IgtreeContextDeinit(a5, a6, (_QWORD *)a7);
    return v51;
  }
  return 0;
}

uint64_t pandpIgtreeDeinit(uint64_t a1, uint64_t a2, _QWORD *a3)
{
  IgtreeContextDeinit(a1, a2, a3);
  IgtreeContextDeinit(a1, a2, a3 + 7);
  IgtreeContextDeinit(a1, a2, a3 + 14);
  return IgtreeContextDeinit(a1, a2, a3 + 21);
}

uint64_t IgtreeContextDeinit(uint64_t result, uint64_t a2, _QWORD *a3)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;

  v4 = result;
  *a3 = 0;
  a3[3] = 0;
  v5 = a3[1];
  if (v5)
  {
    result = igtree_Deinit_ReadOnly_DereferenceCnt(result, a2, v5);
    a3[1] = 0;
  }
  v6 = a3[2];
  if (v6)
  {
    result = (uint64_t)heap_Free(*(_QWORD **)(v4 + 8), v6);
    a3[2] = 0;
  }
  a3[3] = 0;
  a3[5] = 0;
  a3[6] = 0;
  return result;
}

uint64_t singlePassIgtreePhrasing(uint64_t a1, uint64_t a2, _QWORD *a3, uint64_t a4, uint64_t *a5)
{
  int v5;
  uint64_t v10;
  int v12;
  const char **v13;
  int v14;
  uint64_t v15;
  unsigned __int16 v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  unsigned int v20;
  const char *v21;
  _QWORD *v22;
  uint64_t v23;
  uint64_t v24;
  char v25;
  unsigned __int16 v26;
  uint64_t v27;
  unsigned int v28;
  int v29;
  uint64_t v30;
  uint64_t v31;
  const char **v32;

  v5 = *(unsigned __int8 *)(a5[1] + 1296);
  v30 = 0;
  v31 = 0;
  if (*(unsigned __int16 *)(a2 + 8) < 2u)
    return 0;
  v10 = a2;
  v32 = 0;
  v29 = v5 - 1;
  v12 = allocateFeatureVector(a1, (unsigned __int16)(v5 - 1), (uint64_t *)&v32, &v31);
  if (v12 < 0)
    return v12 | 0x8A002000;
  a5[5] = (uint64_t)a3;
  a5[6] = a4;
  v13 = v32;
  if (*(unsigned __int16 *)(v10 + 8) >= 2u)
  {
    v14 = 0;
    v28 = 0;
    v27 = v10;
    while (1)
    {
      v15 = *(_QWORD *)v10 + 32 * (unsigned __int16)v14;
      if (*(_DWORD *)(v15 + 4) == 2 && *(_DWORD *)(*(_QWORD *)v10 + 32 * (v14 + 1) + 4) == 2)
        goto LABEL_24;
      v16 = *(_WORD *)(v15 + 2) - 1;
      if (v29)
      {
        v17 = 0;
        do
        {
          (*(void (**)(uint64_t *, _QWORD, const char *, uint64_t))(a5[2] + v17 * 8))(a5, v16, v13[v17], 128);
          ++v17;
        }
        while ((unsigned __int16)v29 != v17);
      }
      v28 = igtree_Process(a5[1], (uint64_t)v13, &v30);
      if ((v28 & 0x80000000) != 0)
        goto LABEL_24;
      v20 = v16;
      v21 = "?";
      v22 = a3;
      if ((*(_BYTE *)(*a3 + 224 * v16 + 75) - 1) <= 3u)
        v21 = off_1EA93F388[(char)(*(_BYTE *)(*a3 + 224 * v16 + 75) - 1)];
      v23 = v30;
      traceFeatureVector(a1, a5, v16, v13, v30, (uint64_t)v21, v18, v19);
      v24 = *v22;
      if (!*(_BYTE *)(*v22 + 224 * v20 + 75))
        v21 = (const char *)v23;
      if (!strcmp("1", v21))
        break;
      if (!strcmp("2", v21))
      {
        v25 = 3;
        goto LABEL_22;
      }
      a3 = v22;
      if (!strcmp(".", v21))
      {
        v25 = 2;
        goto LABEL_23;
      }
      v10 = v27;
LABEL_24:
      v26 = v14 + 1;
      v14 = (unsigned __int16)(v14 + 1);
      if (*(unsigned __int16 *)(v10 + 8) - 1 <= v26)
        goto LABEL_29;
    }
    v25 = 4;
LABEL_22:
    a3 = v22;
LABEL_23:
    v10 = v27;
    *(_BYTE *)(v24 + 224 * v20 + 73) = v25;
    goto LABEL_24;
  }
  v28 = 0;
LABEL_29:
  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v13);
  heap_Free(*(_QWORD **)(a1 + 8), v31);
  return v28;
}

uint64_t allocateFeatureVector(uint64_t a1, unsigned int a2, uint64_t *a3, uint64_t *a4)
{
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unsigned int v17;

  v8 = a2;
  v9 = heap_Calloc(*(_QWORD **)(a1 + 8), a2, 128);
  *a4 = v9;
  if (!v9)
    goto LABEL_8;
  v14 = heap_Calloc(*(_QWORD **)(a1 + 8), v8, 8);
  *a3 = v14;
  if (!v14)
  {
    heap_Free(*(_QWORD **)(a1 + 8), *a4);
    *a4 = 0;
LABEL_8:
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v10, v11, v12, v13, v17);
    return 2315264010;
  }
  if (a2)
  {
    v15 = 0;
    do
    {
      *(_QWORD *)(*a3 + 8 * v15) = *a4 + (v15 << 7);
      ++v15;
    }
    while (v15 != v8);
  }
  return 0;
}

uint64_t traceFeatureVector(uint64_t a1, uint64_t *a2, uint64_t a3, const char **a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;

  v11 = (unsigned __int16)(*(unsigned __int8 *)(a2[1] + 1296) - 1);
  if (v11 >= 2)
  {
    v12 = 8 * v11;
    v13 = 8;
    do
    {
      *(_WORD *)&(*a4)[strlen(*a4)] = 32;
      strcat((char *)*a4, a4[(unint64_t)v13 / 8]);
      v13 += 8;
    }
    while (v12 != v13);
  }
  return log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"traceFeatureVector %s [%02d] %-16s | %-44s | %s %s", a6, a7, a8, *a2);
}

uint64_t twoPassIgtreePhrasing(uint64_t a1, uint64_t a2, _QWORD *a3, uint64_t a4, uint64_t *a5)
{
  uint64_t v5;
  uint64_t v9;
  uint64_t v10;
  unsigned __int16 v11;
  uint64_t v12;
  int v13;
  int v14;
  __int16 v15;
  unsigned int v16;
  int v17;
  const char **v18;
  uint64_t v19;
  unsigned __int16 v20;
  uint64_t i;
  uint64_t v22;
  uint64_t v23;
  const char *v24;
  uint64_t v25;
  uint64_t v26;
  const char *v27;
  char v28;
  unsigned __int16 v29;
  uint64_t v30;
  __int16 v31;
  const char **v32;
  int v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t j;
  uint64_t v37;
  uint64_t v38;
  const char *v39;
  _QWORD *v40;
  uint64_t v41;
  uint64_t v42;
  char *v43;
  int v44;
  const char *v45;
  char v46;
  unsigned __int16 v47;
  uint64_t v49;
  uint64_t v50;
  _QWORD *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  unsigned int v56;
  unsigned int v57;
  uint64_t v58;
  uint64_t v59;
  const char **v60;

  v58 = 0;
  v59 = 0;
  if (*(unsigned __int16 *)(a2 + 8) < 2u)
    return 0;
  v9 = a2;
  v10 = a1;
  v11 = *(unsigned __int8 *)(a5[8] + 1296) - 1;
  v12 = a5[15];
  if (v12)
  {
    v13 = *(unsigned __int8 *)(v12 + 1296) - 1;
    if (v13 > v11)
      v11 = v13;
  }
  v60 = 0;
  v14 = allocateFeatureVector(a1, v11, (uint64_t *)&v60, &v59);
  if (v14 < 0)
    return v14 | 0x8A002000;
  v15 = *(unsigned __int8 *)(a5[8] + 1296);
  a5[12] = (uint64_t)a3;
  a5[13] = a4;
  v16 = *(unsigned __int16 *)(v9 + 8);
  v50 = v9;
  v51 = a3;
  if (v16 < 2)
  {
    v5 = 0;
  }
  else
  {
    v49 = a4;
    v54 = v10;
    v17 = 0;
    v56 = 0;
    v18 = v60;
    v52 = (unsigned __int16)(v15 - 1);
    do
    {
      v19 = *(_QWORD *)v9 + 32 * (unsigned __int16)v17;
      if (*(_DWORD *)(v19 + 4) != 2 || *(_DWORD *)(*(_QWORD *)v9 + 32 * (v17 + 1) + 4) != 2)
      {
        v20 = *(_WORD *)(v19 + 2) - 1;
        if ((_DWORD)v52)
        {
          for (i = 0; i != v52; ++i)
            (*(void (**)(uint64_t *, _QWORD, const char *, uint64_t))(a5[9] + i * 8))(a5 + 7, v20, v18[i], 128);
        }
        v56 = igtree_Process(a5[8], (uint64_t)v18, &v58);
        if ((v56 & 0x80000000) == 0)
        {
          v24 = "?";
          if ((*(_BYTE *)(*v51 + 224 * v20 + 75) - 1) <= 3u)
            v24 = off_1EA93F3A8[(char)(*(_BYTE *)(*v51 + 224 * v20 + 75) - 1)];
          v25 = v58;
          traceFeatureVector(v54, a5 + 7, v20, v18, v58, (uint64_t)v24, v22, v23);
          v26 = *v51 + 224 * v20;
          if (*(_BYTE *)(v26 + 75))
            v27 = v24;
          else
            v27 = (const char *)v25;
          if (!strcmp("+", v27))
            v28 = 4;
          else
            v28 = 2;
          *(_BYTE *)(v26 + 73) = v28;
          v9 = v50;
        }
      }
      v29 = v17 + 1;
      v17 = (unsigned __int16)(v17 + 1);
      v16 = *(unsigned __int16 *)(v9 + 8);
    }
    while ((int)(v16 - 1) > v29);
    v10 = v54;
    a3 = v51;
    v5 = v56;
    a4 = v49;
  }
  v30 = a5[15];
  if (v30)
  {
    v31 = *(unsigned __int8 *)(v30 + 1296);
    a5[19] = (uint64_t)a3;
    a5[20] = a4;
    v32 = v60;
    if (v16 >= 2)
    {
      v57 = v5;
      v55 = v10;
      v33 = 0;
      v53 = (unsigned __int16)(v31 - 1);
      do
      {
        v34 = *(_QWORD *)v9 + 32 * (unsigned __int16)v33;
        if (*(_DWORD *)(v34 + 4) != 2 || *(_DWORD *)(*(_QWORD *)v9 + 32 * (v33 + 1) + 4) != 2)
        {
          v35 = (unsigned __int16)(*(_WORD *)(v34 + 2) - 1);
          if (*(_BYTE *)(*a3 + 224 * v35 + 73) != 4 || *(_BYTE *)(*a3 + 224 * v35 + 75) != 4)
          {
            if ((_DWORD)v53)
            {
              for (j = 0; j != v53; ++j)
                (*(void (**)(uint64_t *, uint64_t, const char *, uint64_t))(a5[16] + j * 8))(a5 + 14, v35, v32[j], 128);
            }
            v57 = igtree_Process(a5[15], (uint64_t)v32, &v58);
            if ((v57 & 0x80000000) == 0)
            {
              v39 = "?";
              v40 = a3;
              if ((*(_BYTE *)(*a3 + 224 * v35 + 75) - 1) <= 3u)
                v39 = off_1EA93F3C8[(char)(*(_BYTE *)(*a3 + 224 * v35 + 75) - 1)];
              v41 = v58;
              traceFeatureVector(v55, a5 + 14, v35, v32, v58, (uint64_t)v39, v37, v38);
              v42 = *v40 + 224 * v35;
              v44 = *(unsigned __int8 *)(v42 + 73);
              v43 = (char *)(v42 + 73);
              if (v44 != 4)
              {
                if (*(_BYTE *)(*v40 + 224 * v35 + 75))
                  v45 = v39;
                else
                  v45 = (const char *)v41;
                if (!strcmp("+", v45))
                  v46 = 3;
                else
                  v46 = 2;
                *v43 = v46;
              }
              v9 = v50;
              a3 = v51;
            }
          }
        }
        v47 = v33 + 1;
        v33 = (unsigned __int16)(v33 + 1);
      }
      while (*(unsigned __int16 *)(v9 + 8) - 1 > v47);
      v10 = v55;
      v5 = v57;
    }
  }
  else
  {
    v32 = v60;
  }
  heap_Free(*(_QWORD **)(v10 + 8), (uint64_t)v32);
  heap_Free(*(_QWORD **)(v10 + 8), v59);
  return v5;
}

uint64_t threePassIgtreePhrasing(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t a4, uint64_t *a5)
{
  uint64_t v8;
  int v10;
  __int16 v11;
  unint64_t v12;
  const char **v13;
  unint64_t v14;
  int v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t i;
  uint64_t v19;
  uint64_t v20;
  const char *v21;
  uint64_t v22;
  uint64_t v23;
  int v24;
  char *v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unsigned int v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  const char **v38;

  v8 = a2;
  v36 = 0;
  v37 = 0;
  v10 = twoPassIgtreePhrasing(a1, a2, a3, a4, a5);
  if (v10 < 0)
    return v10 | 0x8A002000;
  v38 = 0;
  v10 = allocateFeatureVector(a1, (unsigned __int16)(*(unsigned __int8 *)(a5[22] + 1296) - 1), (uint64_t *)&v38, &v37);
  if (v10 < 0)
    return v10 | 0x8A002000;
  v11 = *(unsigned __int8 *)(a5[22] + 1296);
  a5[26] = (uint64_t)a3;
  a5[27] = a4;
  LODWORD(v12) = *(unsigned __int16 *)(v8 + 8);
  v13 = v38;
  v32 = a1;
  if (*(_WORD *)(v8 + 8))
  {
    v14 = 0;
    v15 = 0;
    v34 = 0;
    v33 = (unsigned __int16)(v11 - 1);
    v31 = v8;
    while (1)
    {
      v16 = *a3;
      v17 = (unsigned __int16)(*(_WORD *)(*(_QWORD *)v8 + 32 * v14 + 2) - 1);
      if (*(_DWORD *)(*a3 + 224 * v17 + 216) == 2)
        *(_BYTE *)(v16 + 224 * v17 + 73) = 4;
      if ((_DWORD)v12 - 1 == v15 || *(unsigned __int8 *)(v16 + 224 * v17 + 73) - 3 <= 1)
      {
        if ((_DWORD)v33)
        {
          for (i = 0; i != v33; ++i)
            (*(void (**)(uint64_t *, uint64_t, const char *, uint64_t))(a5[23] + i * 8))(a5 + 21, v17, v13[i], 128);
        }
        v34 = igtree_Process(a5[22], (uint64_t)v13, &v36);
        if ((v34 & 0x80000000) == 0)
        {
          v35 = v36;
          if (*(_QWORD *)(*a3 + 224 * v17 + 120))
            v21 = *(const char **)(*a3 + 224 * v17 + 120);
          else
            v21 = "?";
          traceFeatureVector(v32, a5 + 21, v17, v13, v36, (uint64_t)v21, v19, v20);
          v22 = *a3 + 224 * v17;
          v23 = *(_QWORD *)(v22 + 112);
          if (!*(_QWORD *)(v22 + 120))
            v21 = (const char *)v35;
          v24 = strlen(v21);
          v25 = (char *)heap_Realloc(*(uint64_t **)(v32 + 8), v23, (v24 + 1));
          if (!v25)
          {
            log_OutPublic(*(_QWORD *)(v32 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v26, v27, v28, v29, v31);
            return 2315264010;
          }
          *(_QWORD *)(*a3 + 224 * v17 + 112) = v25;
          strcpy(v25, v21);
          v8 = v31;
        }
      }
      ++v14;
      v12 = *(unsigned __int16 *)(v8 + 8);
      v15 = v14;
      if (v14 >= v12)
        goto LABEL_24;
    }
  }
  v34 = 0;
LABEL_24:
  heap_Free(*(_QWORD **)(v32 + 8), (uint64_t)v13);
  heap_Free(*(_QWORD **)(v32 + 8), v37);
  return v34;
}

uint64_t simplifiedTokenPhrasing(uint64_t a1, _QWORD *a2, _QWORD *a3, unsigned __int16 *a4)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  unsigned __int16 *v7;
  unsigned __int16 *v8;
  unsigned __int16 *v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  _BOOL4 v15;
  char v16;
  unsigned __int16 *v18;
  _QWORD *v19;
  unsigned __int16 *v20;
  int v23;
  uint64_t v24;
  uint64_t v25;
  unsigned __int16 v26[6];

  if (*((unsigned __int16 *)a2 + 4) >= 2u)
  {
    v4 = 0;
    v5 = 0;
    v20 = a4 + 186;
    v18 = a4 + 188;
    v19 = a2;
    v6 = *a2;
    v7 = a4 + 196;
    v8 = a4 + 194;
    v9 = a4 + 192;
    do
    {
      *(_DWORD *)v26 = 0;
      if (*(_DWORD *)(v6 + 32 * (unsigned __int16)v5 + 4) == 2)
      {
        v10 = v6 + v4;
        if (*(_DWORD *)(v6 + v4 + 36) == 2)
        {
          v25 = 0;
          v24 = 0;
          v23 = 0;
          v11 = v6 + 32 * (unsigned __int16)v5;
          FLOATSUR_PLUS((_WORD *)&v25 + 2, v8, v7);
          FLOATSUR_PLUS(&v23, v9, (unsigned __int16 *)&v25 + 2);
          FLOATSUR_TIMES((_WORD *)&v25 + 2, (unsigned __int16 *)(v11 + 8), v9);
          FLOATSUR_TIMES(&v25, (unsigned __int16 *)(v10 + 40), v8);
          FLOATSUR_TIMES((_WORD *)&v24 + 2, (unsigned __int16 *)(v11 + 12), v7);
          FLOATSUR_PLUS(&v24, (unsigned __int16 *)&v25 + 2, (unsigned __int16 *)&v25);
          FLOATSUR_PLUS(&v24, (unsigned __int16 *)&v24, (unsigned __int16 *)&v24 + 2);
          FLOATSUR_DIV((_WORD *)&v25 + 2, (unsigned __int16 *)&v24, (unsigned __int16 *)&v23);
          FLOATSUR_TIMES_INT(v26, (unsigned __int16 *)&v25 + 2, 0xAu, 0);
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"bndVal[%d] = %d.%d (thisphraseWeight=%d.%d thisBndWeight=%d.%d nextphraseWeight=%d.%d)", v12, v13, v14, v5);
          if (FLOATSUR_LT(v26, v20))
          {
            a2 = v19;
            v6 = *v19;
            *(_BYTE *)(*a3 + 224 * *(unsigned __int16 *)(*v19 + 32 * (unsigned __int16)v5 + 2) - 151) = 2;
          }
          else
          {
            v15 = FLOATSUR_LT(v26, v18);
            a2 = v19;
            v6 = *v19;
            if (v15)
              v16 = 3;
            else
              v16 = 4;
            *(_BYTE *)(*a3 + 224 * *(unsigned __int16 *)(*v19 + 32 * (unsigned __int16)v5 + 2) - 151) = v16;
          }
        }
      }
      v5 = (v5 + 1);
      v4 += 32;
    }
    while (*((unsigned __int16 *)a2 + 4) - 1 > (unsigned __int16)v5);
  }
  return 0;
}

uint64_t tryLoadingIgtreeModel(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, int a8)
{
  int Str;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int v24;
  uint64_t result;
  uint64_t v26;
  uint64_t v27;
  char *v28;
  char *__s1;
  char *v30;
  _OWORD v31[8];
  char v32;
  __int128 v33;
  __int128 v34;
  __int128 v35;
  __int128 v36;
  __int128 v37;
  __int128 v38;
  _BYTE v39[31];
  uint64_t v40;

  v40 = *MEMORY[0x1E0C80C00];
  memset(v31, 0, sizeof(v31));
  *(_QWORD *)(a6 + 8) = 0;
  __s1 = 0;
  v30 = 0;
  v27 = 0;
  v28 = &byte_1DEBD87CE;
  memset(v39, 0, sizeof(v39));
  v38 = 0u;
  v37 = 0u;
  v36 = 0u;
  v35 = 0u;
  v34 = 0u;
  v33 = 0u;
  Str = paramc_ParamGetStr(*(_QWORD *)(a5 + 40), (uint64_t)"langcode", &v30);
  if (Str < 0)
    goto LABEL_11;
  Str = paramc_ParamGetStr(*(_QWORD *)(a5 + 40), (uint64_t)"fecfg", &v28);
  if (Str < 0)
    goto LABEL_11;
  v32 = 0;
  __strcat_chk();
  __strcat_chk();
  __strcat_chk();
  if (a8 == 1)
  {
    Str = paramc_ParamGetStr(*(_QWORD *)(a5 + 40), (uint64_t)"voice", &__s1);
    if (Str < 0)
    {
LABEL_11:
      v24 = Str;
      log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 3, 0, (uint64_t)"Could not assemble broker string for IGtree phrasing model %s", v17, v18, v19, a7);
      return v24 | 0x8A002000;
    }
    if (strstr(__s1, "uni"))
    {
      __s1 = 0;
    }
    else
    {
      __strcat_chk();
      __strcat_chk();
    }
  }
  __strcat_chk();
  __strcat_chk();
  __strcat_chk();
  Str = brokeraux_ComposeBrokerString(a5, &v32, 1, 1, v30, __s1, 0, (char *)v31, 0x80uLL);
  if (Str < 0)
    goto LABEL_11;
  if ((igtree_Init_ReadOnly_ReferenceCnt(a1, a2, a3, a4, &v27, 2, (uint64_t)v31, (uint64_t)"IGTR", 1031, 0) & 0x80000000) != 0)
  {
    log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 3, 0, (uint64_t)"failed to read IGtree phrasing model data - going on without", v20, v21, v22, v26);
    v23 = 0;
  }
  else
  {
    v23 = v27;
  }
  result = 0;
  *(_QWORD *)(a6 + 8) = v23;
  return result;
}

char *BND_pos_current(uint64_t a1, unsigned int a2, char *__s1, unsigned int a4)
{
  uint64_t *v6;
  uint64_t v7;
  uint64_t v8;
  const char **v9;
  uint64_t v10;
  size_t v11;
  char *v12;
  size_t v13;
  char *v14;
  const char *v15;
  char *result;

  *__s1 = 0;
  v6 = *(uint64_t **)(a1 + 40);
  if (*((unsigned __int16 *)v6 + 4) <= a2)
  {
    v11 = a4 - 1;
    v15 = "%";
LABEL_8:
    v14 = __s1;
    v13 = v11;
    goto LABEL_9;
  }
  v7 = *v6;
  v8 = v7 + 224 * a2;
  v10 = *(_QWORD *)(v8 + 104);
  v9 = (const char **)(v8 + 104);
  if (!v10)
  {
    v15 = *(const char **)(v7 + 224 * a2 + 88);
    if (!v15)
      v15 = *(const char **)(*(_QWORD *)(v7 + 224 * a2 + 16) + 8
                                                               * *(unsigned __int16 *)(*(_QWORD *)(a1 + 48) + 18));
    v11 = a4 - 1;
    goto LABEL_8;
  }
  v11 = a4 - 1;
  v12 = strncat(__s1, "_", v11);
  strncat(v12, *v9, (int)(a4 - 2));
  v13 = (int)(a4 - 2) - strlen(*v9);
  v14 = __s1;
  v15 = "_";
LABEL_9:
  result = strncat(v14, v15, v13);
  __s1[v11] = 0;
  return result;
}

char *BND_pos_prev(char *result, unsigned int a2, char *a3, unsigned int a4)
{
  uint64_t v4;
  uint64_t v5;
  int v6;
  unsigned __int16 v7;

  if (!a2)
    goto LABEL_6;
  v4 = *(_QWORD *)(**((_QWORD **)result + 5) + 224 * a2 + 56);
  if (!v4 || (v5 = v4 + 32 * *(unsigned __int16 *)(*((_QWORD *)result + 6) + 22), *(_DWORD *)(v5 + 4) != 1))
  {
    v7 = a2 - 1;
    return BND_pos_current((uint64_t)result, v7, a3, a4);
  }
  v6 = *(unsigned __int16 *)(v5 + 8);
  if (!v6)
  {
LABEL_6:
    *(_WORD *)a3 = 37;
    return result;
  }
  v7 = v6 - 1;
  return BND_pos_current((uint64_t)result, v7, a3, a4);
}

char *BND_pos_next(uint64_t a1, __int16 a2, char *a3, unsigned int a4)
{
  return BND_pos_current(a1, (unsigned __int16)(a2 + 1), a3, a4);
}

unint64_t BND_syn_boundary_current(unint64_t result, unsigned int a2, char *__s1, unsigned int a4)
{
  uint64_t v6;
  uint64_t *v7;
  uint64_t v9;
  unsigned __int16 i;
  uint64_t v11;
  const char *v12;
  char v13;
  char *v14;

  v6 = *(unsigned __int16 *)(*(_QWORD *)(result + 48) + 24);
  *__s1 = 0;
  v7 = *(uint64_t **)(result + 40);
  if (*((unsigned __int16 *)v7 + 4) <= a2)
    return (unint64_t)strncat(__s1, "%", a4 - 1);
  v9 = *v7;
  for (i = a2; ; --i)
  {
    v11 = *(_QWORD *)(v9 + 224 * i + 56);
    if (!v11)
    {
LABEL_9:
      if (!i)
        goto LABEL_20;
      continue;
    }
    if (*(_DWORD *)(v11 + 32 * v6) == 1)
      break;
    if (a2 <= i)
      goto LABEL_9;
    if (!i || *(_DWORD *)(v11 + 32 * v6 + 4) == 1)
      goto LABEL_20;
  }
  v12 = *(const char **)(v11 + 32 * v6 + 16);
  result = strcmp(v12, "O");
  if (!(_DWORD)result)
  {
LABEL_20:
    *(_WORD *)__s1 = 79;
    return result;
  }
  if (a2 == i)
    v13 = 66;
  else
    v13 = 73;
  *__s1 = v13;
  *(_WORD *)(__s1 + 1) = 45;
  v14 = strncat(__s1, v12, (int)(a4 - 3));
  __s1[a4 - 1] = 0;
  result = strlen(v14);
  if (result >= 5 && __s1[result - 2] == 45 && __s1[result - 1] == 80)
    __s1[result - 2] = 0;
  return result;
}

unint64_t BND_syn_boundary_prev(unint64_t result, unsigned int a2, char *a3, unsigned int a4)
{
  uint64_t v4;
  uint64_t v5;
  int v6;
  unsigned __int16 v7;

  if (!a2)
    goto LABEL_6;
  v4 = *(_QWORD *)(**(_QWORD **)(result + 40) + 224 * a2 + 56);
  if (!v4 || (v5 = v4 + 32 * *(unsigned __int16 *)(*(_QWORD *)(result + 48) + 22), *(_DWORD *)(v5 + 4) != 1))
  {
    v7 = a2 - 1;
    return BND_syn_boundary_current(result, v7, a3, a4);
  }
  v6 = *(unsigned __int16 *)(v5 + 8);
  if (!v6)
  {
LABEL_6:
    *(_WORD *)a3 = 37;
    return result;
  }
  v7 = v6 - 1;
  return BND_syn_boundary_current(result, v7, a3, a4);
}

unint64_t BND_syn_boundary_next(unint64_t a1, __int16 a2, char *a3, unsigned int a4)
{
  return BND_syn_boundary_current(a1, (unsigned __int16)(a2 + 1), a3, a4);
}

char *BND_orth_uni200(uint64_t a1, unsigned int a2, char *__s1, unsigned int a4)
{
  uint64_t *v6;
  uint64_t v7;
  uint64_t v8;
  const char **v9;
  uint64_t v10;
  uint64_t v11;
  char *v12;
  size_t v13;
  char *v14;
  const char *v15;
  char *result;
  uint64_t v18;
  uint64_t v19;
  const char *v20;
  size_t v21;
  char *v22;
  char *v23;
  int v24;
  char *v25;
  int v26;
  int v27;
  char *v28;

  *__s1 = 0;
  v6 = *(uint64_t **)(a1 + 40);
  if (*((unsigned __int16 *)v6 + 4) <= a2)
  {
    v11 = a4;
    v13 = a4 - 1;
    v15 = "%";
LABEL_5:
    v14 = __s1;
    goto LABEL_6;
  }
  v7 = *v6;
  v8 = v7 + 224 * a2;
  v10 = *(_QWORD *)(v8 + 104);
  v9 = (const char **)(v8 + 104);
  if (v10)
  {
    v11 = a4;
    v12 = strncat(__s1, "_", a4 - 1);
    strncat(v12, *v9, (int)(a4 - 2));
    v13 = (int)(a4 - 2) - strlen(*v9);
    v14 = __s1;
    v15 = "_";
LABEL_6:
    result = strncat(v14, v15, v13);
    goto LABEL_7;
  }
  v18 = *(_QWORD *)(v7 + 224 * a2 + 16);
  v19 = *(unsigned __int16 *)(*(_QWORD *)(a1 + 48) + 16);
  v20 = *(const char **)(v18 + 8 * v19);
  if (!v20)
  {
    v11 = a4;
    v13 = a4 - 1;
    v15 = "?";
    goto LABEL_5;
  }
  v21 = strlen(*(const char **)(v18 + 8 * v19));
  v11 = a4;
  v22 = strncat(__s1, " ", a4 - 1);
  v23 = strncat(v22, v20, (int)(a4 - 2));
  strncat(v23, " ", a4 - v21 - 2);
  if (v21 >= 2)
  {
    v24 = __s1[1];
    if (v24 != 32)
    {
      v25 = __s1 + 2;
      do
      {
        if ((v24 - 91) >= 0xFFFFFFE6)
          *(v25 - 1) = v24 | 0x60;
        v26 = *v25++;
        v24 = v26;
      }
      while (v26 != 32);
    }
  }
  result = strstr(*(char **)(a1 + 24), __s1);
  if (!result)
  {
    *__s1 = 0;
    v15 = "?";
    v14 = __s1;
    v13 = a4 - 1;
    goto LABEL_6;
  }
  if (v21)
  {
    v27 = 0;
    v28 = __s1 + 1;
    do
    {
      *(v28 - 1) = *v28;
      ++v27;
      ++v28;
    }
    while (v21 > (unsigned __int16)v27);
  }
  __s1[v21] = 0;
LABEL_7:
  __s1[v11 - 1] = 0;
  return result;
}

char *BND_orth_uni200_next(uint64_t a1, __int16 a2, char *a3, unsigned int a4)
{
  return BND_orth_uni200(a1, (unsigned __int16)(a2 + 1), a3, a4);
}

char *BND_punct_current(char *result, unsigned int a2, char *__s1, unsigned int a4)
{
  unsigned int v4;
  _BYTE *v6;
  int v7;
  uint64_t v8;
  int v9;
  char __s[16];
  uint64_t v11;

  v4 = a4;
  v11 = *MEMORY[0x1E0C80C00];
  v6 = *(_BYTE **)(*(_QWORD *)(**((_QWORD **)result + 5) + 224 * a2 + 16)
                 + 8 * *(unsigned __int16 *)(*((_QWORD *)result + 6) + 16));
  *__s1 = 0;
  if (!v6)
    return strncat(__s1, "?", a4 - 1);
  LOBYTE(v7) = *v6;
  if (*v6)
  {
    v8 = 0;
    v9 = 0;
    do
    {
      result = strchr(__s, (char)v7);
      if (result)
      {
        v9 = 1;
        result = strncat(__s1, &v6[v8], 1uLL);
        --v4;
      }
      else
      {
        if (v9 == 1 || !v8)
          result = strncat(__s1, "_", (unsigned __int16)--v4);
        v9 = 0;
      }
      v7 = v6[++v8];
    }
    while (v7);
  }
  return result;
}

uint64_t BND_phr1_dist(uint64_t result, int a2, _WORD *a3, unsigned int a4)
{
  char v5;

  if (a4 >= 2)
  {
    result = bnd_dist(result, a2, 4);
    if (result >= 2)
      v5 = 2;
    else
      v5 = result;
    *a3 = v5 | 0x30;
  }
  return result;
}

uint64_t BND_phr1_dist3(uint64_t result, int a2, _WORD *a3, unsigned int a4)
{
  char v5;

  if (a4 >= 2)
  {
    result = bnd_dist(result, a2, 4);
    if (result >= 3)
      v5 = 3;
    else
      v5 = result;
    *a3 = v5 | 0x30;
  }
  return result;
}

uint64_t BND_phr1_dist3_fwd(uint64_t result, unsigned int a2, _BYTE *a3, unsigned int a4)
{
  uint64_t *v4;
  unsigned int v5;
  unsigned int v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  char v12;

  if (a4 >= 2)
  {
    v4 = *(uint64_t **)(result + 40);
    v5 = *((unsigned __int16 *)v4 + 4);
    if (v5 <= a2)
    {
      v12 = 0;
    }
    else
    {
      v6 = 0;
      v7 = *v4;
      while (1)
      {
        v8 = v7 + 224 * (unsigned __int16)a2;
        v9 = *(_QWORD *)(v8 + 56);
        if (v9)
        {
          v10 = *(unsigned __int16 *)(*(_QWORD *)(result + 48) + 22);
          if (*(_DWORD *)(v9 + 32 * v10) == 1)
          {
            LOWORD(a2) = *(_WORD *)(v9 + 32 * v10 + 10);
            v8 = v7 + 224 * (unsigned __int16)a2;
          }
        }
        if (*(_BYTE *)(v8 + 73) == 4 || v5 - 1 == (unsigned __int16)a2)
          break;
        v12 = v6 + 1;
        LOWORD(a2) = a2 + 1;
        if (v5 > (unsigned __int16)a2 && v6++ < 2)
          continue;
        goto LABEL_17;
      }
      v12 = v6;
    }
LABEL_17:
    *a3 = v12 + 48;
    a3[1] = 0;
  }
  return result;
}

uint64_t BND_phr2_dist(uint64_t result, int a2, _WORD *a3, unsigned int a4)
{
  char v5;

  if (a4 >= 2)
  {
    result = bnd_dist(result, a2, 3);
    if (result >= 2)
      v5 = 2;
    else
      v5 = result;
    *a3 = v5 | 0x30;
  }
  return result;
}

uint64_t BND_bnd1_dist_min_passed(uint64_t result, int a2, char *a3, unsigned int a4)
{
  uint64_t v5;
  char v6;

  if (a4 >= 2)
  {
    v5 = result;
    result = bnd_dist(result, a2, 4);
    if (*(_DWORD *)(v5 + 32) >= result)
      v6 = 45;
    else
      v6 = 43;
    *a3 = v6;
    a3[1] = 0;
  }
  return result;
}

char *BND_trailpunct(uint64_t a1, unsigned int a2, char *__s1, unsigned int a4)
{
  const char *v6;
  size_t v7;
  const char *v8;
  char *result;
  char __s[16];
  uint64_t v11;

  v11 = *MEMORY[0x1E0C80C00];
  v6 = *(const char **)(*(_QWORD *)(**(_QWORD **)(a1 + 40) + 224 * a2 + 16)
                      + 8 * *(unsigned __int16 *)(*(_QWORD *)(a1 + 48) + 16));
  *__s1 = 0;
  if (!v6)
    return strncat(__s1, "?", a4 - 1);
  v7 = strlen(v6);
  if (!*v6)
    return strncat(__s1, "?", a4 - 1);
  v8 = &v6[v7 - 1];
  *(_WORD *)&__s1[strlen(__s1)] = 95;
  result = strchr(__s, *v8);
  if (result)
    return strncat(__s1, v8, 1uLL);
  return result;
}

char *BND_doc_class(char *result, unsigned int a2, char *__s1, unsigned int a4)
{
  uint64_t v4;
  const char *v5;
  const char *v6;

  v4 = **((_QWORD **)result + 5);
  *__s1 = 0;
  if (a4 >= 2)
  {
    v5 = *(const char **)(v4 + 224 * a2 + 152);
    if (v5)
      v6 = v5;
    else
      v6 = "%";
    return strncat(__s1, v6, a4 - 1);
  }
  return result;
}

size_t BND_doc_punc(size_t result, unsigned int a2, char *a3, unsigned int a4)
{
  const char *v4;
  const char *v5;
  char *v6;
  int v8;
  uint64_t *v9;
  uint64_t v10;
  uint64_t v12;
  unsigned int v13;
  uint64_t v14;
  char **v15;
  char *v16;
  uint64_t v17;
  unsigned int v18;
  uint64_t v19;
  unsigned int v20;
  uint64_t v21;
  unsigned int v22;
  unsigned __int16 __n;
  const char *__n_2[13];

  if (a4 >= 2)
  {
    __n_2[11] = v4;
    __n_2[12] = v5;
    v6 = a3;
    if (*(unsigned __int16 *)(*(_QWORD *)(result + 40) + 8) <= a2)
    {
LABEL_42:
      *(_WORD *)v6 = 37;
      return result;
    }
    v8 = 0;
    __n_2[0] = 0;
    __n = 0;
    *a3 = 0;
    v9 = *(uint64_t **)(result + 40);
    v10 = *v9;
    if (*((unsigned __int16 *)v9 + 4) - 1 > (int)a2)
    {
      v8 = 0;
      if (hlp_NLUStrFind(*(char **)(v10 + 224 * a2 + 384), "S_PUNC", (uint64_t *)__n_2, &__n))
      {
        do
        {
          if (v8 && v8 + 1 < a4)
          {
            *(_WORD *)&v6[strlen(v6)] = 59;
            v8 = (unsigned __int16)(v8 + 1);
          }
          if (v8 + 7 < a4)
          {
            *(_QWORD *)&v6[strlen(v6)] = 0x3A434E55505F53;
            v8 = (unsigned __int16)(v8 + 7);
          }
          v12 = __n;
          v13 = v8 + __n;
          if (v13 < a4)
          {
            strncat(v6, __n_2[0], __n);
            v8 = (unsigned __int16)v13;
            v12 = __n;
          }
        }
        while (hlp_NLUStrFind((char *)&__n_2[0][v12], "S_PUNC", (uint64_t *)__n_2, &__n));
      }
    }
    v14 = v10 + 224 * a2;
    v16 = *(char **)(v14 + 160);
    v15 = (char **)(v14 + 160);
    if (hlp_NLUStrFind(v16, "I_PUNC", (uint64_t *)__n_2, &__n))
    {
      do
      {
        if (v8 && v8 + 1 < a4)
        {
          *(_WORD *)&v6[strlen(v6)] = 59;
          v8 = (unsigned __int16)(v8 + 1);
        }
        if (v8 + 7 < a4)
        {
          *(_QWORD *)&v6[strlen(v6)] = 0x3A434E55505F49;
          v8 = (unsigned __int16)(v8 + 7);
        }
        v17 = __n;
        v18 = v8 + __n;
        if (v18 < a4)
        {
          strncat(v6, __n_2[0], __n);
          v8 = (unsigned __int16)v18;
          v17 = __n;
        }
      }
      while (hlp_NLUStrFind((char *)&__n_2[0][v17], "I_PUNC", (uint64_t *)__n_2, &__n));
    }
    if (hlp_NLUStrFind(*v15, "S_PUNC", (uint64_t *)__n_2, &__n))
    {
      do
      {
        if (v8 && v8 + 1 < a4)
        {
          *(_WORD *)&v6[strlen(v6)] = 59;
          v8 = (unsigned __int16)(v8 + 1);
        }
        if (v8 + 7 < a4)
        {
          *(_QWORD *)&v6[strlen(v6)] = 0x3A434E55505F49;
          v8 = (unsigned __int16)(v8 + 7);
        }
        v19 = __n;
        v20 = v8 + __n;
        if (v20 < a4)
        {
          strncat(v6, __n_2[0], __n);
          v8 = (unsigned __int16)v20;
          v19 = __n;
        }
      }
      while (hlp_NLUStrFind((char *)&__n_2[0][v19], "S_PUNC", (uint64_t *)__n_2, &__n));
    }
    for (result = (size_t)hlp_NLUStrFind(*v15, "E_PUNC", (uint64_t *)__n_2, &__n);
          result;
          result = (size_t)hlp_NLUStrFind((char *)&__n_2[0][v21], "E_PUNC", (uint64_t *)__n_2, &__n))
    {
      if (v8 && v8 + 1 < a4)
      {
        *(_WORD *)&v6[strlen(v6)] = 59;
        v8 = (unsigned __int16)(v8 + 1);
      }
      if (v8 + 7 < a4)
      {
        *(_QWORD *)&v6[strlen(v6)] = 0x3A434E55505F45;
        v8 = (unsigned __int16)(v8 + 7);
      }
      v21 = __n;
      v22 = v8 + __n;
      if (v22 < a4)
      {
        strncat(v6, __n_2[0], __n);
        v8 = (unsigned __int16)v22;
        v21 = __n;
      }
    }
    if (!v8)
    {
      result = strlen(v6);
      v6 += result;
      goto LABEL_42;
    }
  }
  return result;
}

char *BND_orth(uint64_t a1, unsigned int a2, char *__s1, unsigned int a4)
{
  uint64_t *v6;
  uint64_t v7;
  uint64_t v8;
  const char **v9;
  uint64_t v10;
  size_t v11;
  char *v12;
  size_t v13;
  char *v14;
  const char *v15;
  char *result;
  uint64_t v18;
  uint64_t v19;
  unsigned __int8 *v20;
  int64_t v21;
  uint64_t v22;
  unsigned __int8 *v23;
  unsigned int v24;
  size_t v25;
  const char *v26;
  char *v27;
  size_t v28;
  int v29;
  char *v30;
  _BYTE v31[7];

  *__s1 = 0;
  v6 = *(uint64_t **)(a1 + 40);
  if (*((unsigned __int16 *)v6 + 4) <= a2)
  {
    v11 = a4 - 1;
    v15 = "%";
LABEL_5:
    v14 = __s1;
    v13 = v11;
    goto LABEL_6;
  }
  v7 = *v6;
  v8 = v7 + 224 * a2;
  v10 = *(_QWORD *)(v8 + 104);
  v9 = (const char **)(v8 + 104);
  if (v10)
  {
    v11 = a4 - 1;
    v12 = strncat(__s1, "_", v11);
    strncat(v12, *v9, (int)(a4 - 2));
    v13 = (int)(a4 - 2) - strlen(*v9);
    v14 = __s1;
    v15 = "_";
LABEL_6:
    result = strncat(v14, v15, v13);
    goto LABEL_7;
  }
  v18 = *(_QWORD *)(v7 + 224 * a2 + 16);
  v19 = *(unsigned __int16 *)(*(_QWORD *)(a1 + 48) + 16);
  v20 = *(unsigned __int8 **)(v18 + 8 * v19);
  if (!v20)
  {
    v11 = a4 - 1;
LABEL_25:
    v15 = "?";
    goto LABEL_5;
  }
  v21 = strlen(*(const char **)(v18 + 8 * v19));
  v22 = a4;
  v11 = a4 - 1;
  strncat(__s1, " ", v11);
  if (v21 >= 1)
  {
    v23 = &v20[v21];
    do
    {
      v24 = Utf8_LengthInBytes(v20, 1);
      if (!utf8_BelongsToSet(0xAu, v20, 0, v24))
      {
        if (utf8_ToLower((char *)v20, 0, (uint64_t)v31) == 1)
        {
          v25 = v11 - strlen(__s1);
          v26 = v31;
          v27 = __s1;
LABEL_16:
          strncat(v27, v26, v25);
          goto LABEL_17;
        }
        if (v22 - strlen(__s1) > v24)
        {
          v25 = v24;
          v27 = __s1;
          v26 = (const char *)v20;
          goto LABEL_16;
        }
      }
LABEL_17:
      v20 += v24;
    }
    while (v20 < v23);
  }
  v28 = strlen(__s1);
  strncat(__s1, " ", v11 - v28);
  result = strstr(*(char **)(a1 + 24), __s1);
  if (!result)
  {
    *__s1 = 0;
    goto LABEL_25;
  }
  if (v21)
  {
    v29 = 0;
    v30 = __s1 + 1;
    do
    {
      *(v30 - 1) = *v30;
      ++v29;
      ++v30;
    }
    while (v21 > (unint64_t)(unsigned __int16)v29);
  }
  __s1[v21] = 0;
LABEL_7:
  __s1[v11] = 0;
  return result;
}

char *BND_orth_next(uint64_t a1, __int16 a2, char *a3, unsigned int a4)
{
  return BND_orth(a1, (unsigned __int16)(a2 + 1), a3, a4);
}

size_t BND_dummy(int a1, int a2, char *__s)
{
  size_t result;

  result = strlen(__s);
  *(_WORD *)&__s[result] = 63;
  return result;
}

uint64_t BND_bnd_type(uint64_t result, unsigned int a2, _BYTE *a3)
{
  uint64_t v3;
  unsigned int v4;
  unint64_t v5;

  v3 = *(_QWORD *)(result + 40);
  if (*(unsigned __int16 *)(v3 + 8) <= a2)
  {
    LOBYTE(v5) = 37;
  }
  else
  {
    v4 = *(unsigned __int8 *)(*(_QWORD *)v3 + 224 * a2 + 73);
    if (v4 > 4)
      LOBYTE(v5) = 63;
    else
      v5 = 0x53574E3F3FuLL >> (8 * v4);
  }
  *a3 = v5;
  a3[1] = 0;
  return result;
}

size_t BND_phrase_type(uint64_t a1, unsigned int a2, char *__s1, unsigned int a4)
{
  uint64_t v5;
  const char *v6;
  size_t result;

  *__s1 = 0;
  v5 = *(_QWORD *)(a1 + 40);
  if (*(unsigned __int16 *)(v5 + 8) > a2)
  {
    v6 = *(const char **)(v5 + 40);
    if (v6)
    {
      if (*v6)
        return (size_t)strncat(__s1, v6, a4 - 1);
    }
  }
  result = strlen(__s1);
  *(_WORD *)&__s1[result] = 37;
  return result;
}

size_t BND_tn(size_t result, unsigned int a2, char *__s1, unsigned int a4)
{
  const char *v5;
  unsigned __int16 v6;
  uint64_t v7;
  uint64_t v8;
  const char *v9;
  uint64_t v10;

  if (a4 >= 2)
  {
    if (*(unsigned __int16 *)(*(_QWORD *)(result + 40) + 8) <= a2)
    {
      *(_WORD *)__s1 = 37;
    }
    else
    {
      v5 = 0;
      v6 = 0;
      *__s1 = 0;
      do
      {
        v7 = *(_QWORD *)(**(_QWORD **)(result + 40) + 224 * v6 + 56);
        if (v7)
        {
          v8 = *(unsigned __int16 *)(*(_QWORD *)(result + 48) + 22);
          v9 = *(const char **)(v7 + 32 * v8 + 16);
          if (v9)
          {
            if (*(_DWORD *)(v7 + 32 * v8) == 1)
            {
              v10 = v7 + 32 * v8;
              if (*(unsigned __int16 *)(v10 + 10) >= a2 && *(unsigned __int16 *)(v10 + 8) <= a2)
              {
                v6 = a2;
                v5 = v9;
              }
            }
          }
        }
        ++v6;
      }
      while (a2 >= v6);
      if (v5)
      {
        return (size_t)strncat(__s1, v5, a4 - 1);
      }
      else
      {
        result = strlen(__s1);
        *(_WORD *)&__s1[result] = 37;
      }
    }
  }
  return result;
}

size_t BND_doc_punc_prev(size_t result, unsigned int a2, char *a3, unsigned int a4)
{
  uint64_t v4;
  uint64_t v5;
  int v6;
  unsigned __int16 v7;

  if (!a2)
    goto LABEL_6;
  v4 = *(_QWORD *)(**(_QWORD **)(result + 40) + 224 * a2 + 56);
  if (!v4 || (v5 = v4 + 32 * *(unsigned __int16 *)(*(_QWORD *)(result + 48) + 22), *(_DWORD *)(v5 + 4) != 1))
  {
    v7 = a2 - 1;
    return BND_doc_punc(result, v7, a3, a4);
  }
  v6 = *(unsigned __int16 *)(v5 + 8);
  if (!v6)
  {
LABEL_6:
    *(_WORD *)a3 = 37;
    return result;
  }
  v7 = v6 - 1;
  return BND_doc_punc(result, v7, a3, a4);
}

size_t BND_doc_punc_next(size_t a1, __int16 a2, char *a3, unsigned int a4)
{
  return BND_doc_punc(a1, (unsigned __int16)(a2 + 1), a3, a4);
}

uint64_t bnd_dist(uint64_t a1, int a2, int a3)
{
  uint64_t v3;
  unsigned __int16 v4;
  uint64_t v5;
  uint64_t v6;

  if (a2)
  {
    v3 = **(_QWORD **)(a1 + 40);
    v4 = 1;
    do
    {
      LOWORD(a2) = a2 - 1;
      if (*(unsigned __int8 *)(v3 + 224 * (unsigned __int16)a2 + 73) == a3)
        break;
      v5 = *(_QWORD *)(v3 + 224 * (unsigned __int16)a2 + 56);
      if (v5)
      {
        v6 = v5 + 32 * *(unsigned __int16 *)(*(_QWORD *)(a1 + 48) + 22);
        if (*(_DWORD *)(v6 + 4) == 1)
          LOWORD(a2) = *(_WORD *)(v6 + 8);
      }
      ++v4;
    }
    while ((_WORD)a2);
  }
  else
  {
    return 1;
  }
  return v4;
}

uint64_t checkForExternalSildur(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v10;
  __int16 v12;
  char *__s1;
  __int16 v14;

  v14 = 0;
  __s1 = 0;
  v12 = 0;
  *a5 = 0;
  v10 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(a1 + 184))(a2, a3, a4, 18, &v14);
  if ((v10 & 0x80000000) == 0)
  {
    if (v14)
    {
      v10 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, __int16 *))(a1 + 176))(a2, a3, a4, 18, &__s1, &v12);
      if ((v10 & 0x80000000) == 0 && !strcmp(__s1, "external"))
        *a5 = 1;
    }
  }
  return v10;
}

BOOL doesWordEndInComma(const char *a1)
{
  size_t v2;
  unsigned int v3;
  BOOL v4;
  uint64_t v5;
  _BOOL8 result;

  result = 0;
  if (a1)
  {
    v2 = strlen(a1);
    if (v2)
    {
      v3 = a1[v2 - 1];
      v4 = v3 > 0x3B;
      v5 = (1 << v3) & 0xC00100000000000;
      if (!v4 && v5 != 0)
        return 1;
    }
  }
  return result;
}

uint64_t addWord(uint64_t a1, const char *a2, _DWORD *a3, const char *a4, uint64_t a5, uint64_t a6)
{
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  int v20;
  char *v21;
  int v22;
  char *v23;
  uint64_t v24;
  unsigned int v26;

  if (!*(_WORD *)(a6 + 10))
  {
    v18 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 11200);
    *(_QWORD *)a6 = v18;
    if (v18)
    {
      v12 = v18;
      *(_WORD *)(a6 + 10) = 50;
      goto LABEL_7;
    }
    goto LABEL_11;
  }
  v12 = *(_QWORD *)a6;
  if (*(unsigned __int16 *)(a6 + 8) >= *(unsigned __int16 *)(a6 + 10))
  {
    v13 = heap_Realloc(*(uint64_t **)(a1 + 8), v12, 224 * *(unsigned __int16 *)(a6 + 10) + 11200);
    if (v13)
    {
      *(_QWORD *)a6 = v13;
      bzero((void *)(v13 + 224 * *(unsigned __int16 *)(a6 + 8)), 0x2BC0uLL);
      *(_WORD *)(a6 + 10) += 50;
      v12 = *(_QWORD *)a6;
      goto LABEL_7;
    }
LABEL_11:
    v24 = 2315264010;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v14, v15, v16, v17, v26);
    return v24;
  }
LABEL_7:
  *(_DWORD *)(v12 + 224 * *(unsigned __int16 *)(a6 + 8)) = *a3;
  v19 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (8 * *(unsigned __int16 *)(a5 + 72)) | 1);
  *(_QWORD *)(*(_QWORD *)a6 + 224 * *(unsigned __int16 *)(a6 + 8) + 16) = v19;
  if (!v19)
    goto LABEL_11;
  v20 = strlen(a2);
  v21 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v20 + 1));
  *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a6 + 224 * *(unsigned __int16 *)(a6 + 8) + 16)
            + 8 * *(unsigned __int16 *)(a5 + 16)) = v21;
  if (!v21)
    goto LABEL_11;
  strcpy(v21, a2);
  v22 = strlen(a4);
  v23 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v22 + 1));
  *(_QWORD *)(*(_QWORD *)a6 + 224 * *(unsigned __int16 *)(a6 + 8) + 8) = v23;
  if (!v23)
    goto LABEL_11;
  strcpy(v23, a4);
  v24 = 0;
  ++*(_WORD *)(a6 + 8);
  return v24;
}

uint64_t addToken(uint64_t a1, unsigned __int16 *a2, const char *a3, uint64_t a4, uint64_t *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v11;
  int v12;
  int v13;
  uint64_t v15;
  unsigned __int16 v16;
  unsigned __int16 v17;
  uint64_t v18;
  unsigned int v19;
  unsigned int v20;
  unsigned int v21;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  int v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  unsigned int v42;
  char *v43;
  const char *v44;
  size_t v45;
  uint64_t v46;
  int v47;
  char *v48;
  size_t v49;
  unsigned __int16 v50;
  int v51;
  char *v52;
  uint64_t v53;
  unsigned __int16 v54;
  unsigned int v56;

  v11 = *((unsigned __int16 *)a5 + 4);
  v12 = *a2;
  if (*((_WORD *)a5 + 4))
  {
    v13 = a6;
    v15 = 0;
    v16 = 0;
    v17 = v11 + 1;
    v18 = *a5;
    v19 = a2[1];
    while (1)
    {
      v20 = *(unsigned __int16 *)(v18 + v15);
      if (v12 == v20)
        v17 = v16;
      v21 = *(unsigned __int16 *)(v18 + v15 + 2);
      if (v19 == v21)
        break;
      if (v19 >= v20 && v19 < v21)
        break;
      ++v16;
      v12 = *a2;
      v15 += 224;
      if (224 * v11 == v15)
        goto LABEL_14;
    }
    if ((_DWORD)v11 + 1 != v17)
    {
      v29 = checkSpan(a1, a4, (uint64_t *)(v18 + 224 * v17 + 56));
      if ((v29 & 0x80000000) != 0)
        return v29;
      v29 = checkSpan(a1, a4, (uint64_t *)(*a5 + v15 + 56));
      if ((v29 & 0x80000000) != 0)
        return v29;
      v30 = *a5;
      v31 = 224 * v17;
      v32 = *(unsigned __int16 *)(a4 + 22);
      v33 = *(_QWORD *)(*a5 + v31 + 56) + 32 * v32;
      *(_DWORD *)v33 = 1;
      *(_WORD *)(v33 + 8) = v17;
      *(_WORD *)(v33 + 10) = v16;
      v34 = *(_QWORD *)(v30 + v15 + 56) + 32 * v32;
      *(_DWORD *)(v34 + 4) = 1;
      *(_WORD *)(v34 + 8) = v17;
      v35 = strlen(a3);
      v36 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v35 - 1));
      v41 = *a5 + v31;
      v42 = v17;
      *(_QWORD *)(*(_QWORD *)(v41 + 56) + 32 * *(unsigned __int16 *)(a4 + 22) + 16) = v36;
      if (v36)
      {
        v43 = (char *)v36;
        v44 = a3 + 1;
        v45 = strlen(a3 + 1);
        strncpy(v43, a3 + 1, v45 - 1);
        if (v13 != 1)
          return 0;
        v46 = *(_QWORD *)(*a5 + 224 * v17 + 168);
        if (v46)
          heap_Free(*(_QWORD **)(a1 + 8), v46);
        v47 = strlen(a3);
        v48 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v47 + 1));
        *(_QWORD *)(*a5 + 224 * v17 + 168) = v48;
        if (v48)
        {
          strcpy(v48, "B-");
          v49 = strlen(v44);
          strncpy((char *)(*(_QWORD *)(*a5 + 224 * v17 + 168) + 2), v44, v49 - 1);
          v23 = 0;
          v50 = v17 + 1;
          if (v50 > v16)
            return v23;
          while (1)
          {
            v51 = strlen(*(const char **)(*a5 + 224 * v42 + 168));
            v52 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v51 + 1));
            v53 = *a5;
            v54 = v50;
            *(_QWORD *)(*a5 + 224 * v50 + 168) = v52;
            if (!v52)
              break;
            strcpy(v52, *(const char **)(v53 + 224 * v42 + 168));
            v23 = 0;
            **(_BYTE **)(*a5 + 224 * v50++ + 168) = 73;
            if ((unsigned __int16)(v54 + 1) > v16)
              return v23;
          }
        }
      }
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v37, v38, v39, v40, v56);
      return 2315264010;
    }
  }
LABEL_14:
  v23 = 2315264000;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"could not resolve token positions (find start and end) : token=%s from=%d to=%d", a6, a7, a8, (uint64_t)a3);
  if (*((_WORD *)a5 + 4))
  {
    v27 = 0;
    v28 = 0;
    do
    {
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"word[%d] %d,%d", v24, v25, v26, v28++);
      v27 += 224;
    }
    while (v28 < *((unsigned __int16 *)a5 + 4));
  }
  return v23;
}

uint64_t checkSpan(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  uint64_t result;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unsigned int v12;

  if (*a3)
    return 0;
  v6 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (32 * *(unsigned __int16 *)(a2 + 72)) | 1);
  if (v6)
  {
    v11 = v6;
    result = 0;
    *a3 = v11;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v7, v8, v9, v10, v12);
    return 2315264010;
  }
  return result;
}

uint64_t addTokenTag(uint64_t a1, unsigned int a2, char *__s, uint64_t a4, uint64_t *a5)
{
  uint64_t v9;
  uint64_t v10;
  unsigned __int16 v11;
  char *v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  int v18;
  char *v19;
  uint64_t v20;
  unsigned int v22;

  v9 = *a5;
  v10 = a2;
  if (!*(_QWORD *)(*a5 + 224 * a2 + 88) && !strcmp("UNK", __s))
  {
    v11 = strlen(*(const char **)(*(_QWORD *)(v9 + 224 * v10 + 16) + 8 * *(unsigned __int16 *)(a4 + 18)));
    v12 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v11 + 1);
    v17 = *a5;
    *(_QWORD *)(*a5 + 224 * v10 + 88) = v12;
    if (!v12)
    {
LABEL_7:
      v20 = 2315264010;
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v13, v14, v15, v16, v22);
      return v20;
    }
    strcpy(v12, *(const char **)(*(_QWORD *)(v17 + 224 * v10 + 16) + 8 * *(unsigned __int16 *)(a4 + 18)));
  }
  v18 = strlen(__s);
  v19 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v18 + 1));
  *(_QWORD *)(*(_QWORD *)(*a5 + 224 * v10 + 16) + 8 * *(unsigned __int16 *)(a4 + 20)) = v19;
  if (!v19)
    goto LABEL_7;
  strcpy(v19, __s);
  return 0;
}

uint64_t addSynChunk(uint64_t a1, const char *a2, const char *a3, uint64_t a4, unsigned int a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unsigned int v9;
  unsigned int v11;
  uint64_t v13;
  uint64_t v19;
  unsigned int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  _QWORD *v25;
  int v26;
  int v27;
  int v28;
  char *v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  char *v34;
  unsigned int v35;

  v9 = a4;
  v11 = *(unsigned __int16 *)(a7 + 8);
  if (a4 <= a5 && v11 > a4 && v11 > a5)
  {
    v19 = checkSpan(a1, a6, (uint64_t *)(*(_QWORD *)a7 + 224 * a4 + 56));
    if ((v19 & 0x80000000) != 0)
      return v19;
    v19 = checkSpan(a1, a6, (uint64_t *)(*(_QWORD *)a7 + 224 * a5 + 56));
    if ((v19 & 0x80000000) != 0)
      return v19;
    v20 = v9;
    v21 = *(_QWORD *)a7;
    v22 = *(unsigned __int16 *)(a6 + 24);
    v23 = *(_QWORD *)(*(_QWORD *)a7 + 224 * v9 + 56) + 32 * v22;
    *(_DWORD *)v23 = 1;
    *(_WORD *)(v23 + 8) = v9;
    *(_WORD *)(v23 + 10) = a5;
    v24 = *(_QWORD *)(v21 + 224 * a5 + 56) + 32 * v22;
    *(_DWORD *)(v24 + 4) = 1;
    *(_WORD *)(v24 + 8) = v9;
    v25 = *(_QWORD **)(a1 + 8);
    v26 = strlen(a2);
    v27 = v26;
    if (a3)
    {
      v28 = strlen(a3);
      v29 = (char *)heap_Calloc(v25, 1, (v27 + v28 + 1));
      *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a7 + 224 * v20 + 56) + 32 * *(unsigned __int16 *)(a6 + 24) + 16) = v29;
      if (v29)
      {
        strcpy(v29, a2);
        strcat(*(char **)(*(_QWORD *)(*(_QWORD *)a7 + 224 * v20 + 56) + 32 * *(unsigned __int16 *)(a6 + 24) + 16), a3);
        return 0;
      }
    }
    else
    {
      v34 = (char *)heap_Calloc(v25, 1, (v26 + 1));
      *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a7 + 224 * v20 + 56) + 32 * *(unsigned __int16 *)(a6 + 24) + 16) = v34;
      if (v34)
      {
        strcpy(v34, a2);
        return 0;
      }
    }
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v30, v31, v32, v33, v35);
    return 2315264010;
  }
  v13 = 2315264000;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"syntactic chunks out of order : fromWordIdx=%d toWordIdx=%d numWords=%d", a6, a7, a8, a4);
  return v13;
}

uint64_t addPHRRange(uint64_t a1, unsigned int a2, unsigned int a3, char *__s, _QWORD *a5)
{
  unsigned int v5;
  unsigned __int16 v12;
  int v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  char *v19;
  const char *v20;

  if (a2 > a3)
    return 0;
  v12 = a2;
  while (1)
  {
    v13 = strlen(__s);
    v14 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v13 + 3));
    *(_QWORD *)(*a5 + 224 * v12 + 80) = v14;
    if (!v14)
      break;
    v19 = (char *)v14;
    if (!strcmp(__s, "O"))
    {
      strcpy(v19, __s);
    }
    else
    {
      v20 = "I-";
      if (v12 == a2)
        v20 = "B-";
      *(_WORD *)v19 = *(_WORD *)v20;
      v19[2] = v20[2];
      strcat(*(char **)(*a5 + 224 * v12 + 80), __s);
    }
    *(_WORD *)(*a5 + 224 * v12++ + 4) = a2;
    if (a3 < v12)
      return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v15, v16, v17, v18, v5);
  return 2315264010;
}

uint64_t addMSPOS(uint64_t a1, unsigned int a2, char *__s, uint64_t a4, _QWORD *a5)
{
  _QWORD *v10;
  int v11;
  char *v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unsigned int v18;

  v10 = *(_QWORD **)(a1 + 8);
  v11 = strlen(__s);
  v12 = (char *)heap_Calloc(v10, 1, (v11 + 1));
  *(_QWORD *)(*(_QWORD *)(*a5 + 224 * a2 + 16) + 8 * *(unsigned __int16 *)(a4 + 18)) = v12;
  if (v12)
  {
    strcpy(v12, __s);
    return 0;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v13, v14, v15, v16, v18);
    return 2315264010;
  }
}

uint64_t expandAndValidateCompounds(uint64_t a1, uint64_t *a2, uint64_t a3)
{
  unint64_t v3;
  unint64_t i;
  uint64_t v8;
  char *v9;
  int v10;
  const char *v11;
  size_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unsigned __int16 v16;
  const char *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  const char *v24;

  LODWORD(v3) = *((unsigned __int16 *)a2 + 4);
  if (*((_WORD *)a2 + 4))
  {
    for (i = 0; i < v3; ++i)
    {
      v8 = *a2;
      v9 = *(char **)(*a2 + 224 * i + 96);
      if (!v9)
        goto LABEL_22;
      v10 = *(_DWORD *)(a3 + 656);
      if (v10 == 1 || !v10 && (!strncmp(v9, "B-", 2uLL) || !strncmp(v9, "I-", 2uLL)))
        goto LABEL_22;
      v11 = *(const char **)(a3 + 640);
      v12 = strlen(v11);
      if (!strncmp(v9, v11, v12))
      {
        v23 = i + 1;
        if (i + 1 != v3)
        {
          if (v23 >= v3)
            goto LABEL_22;
          v24 = *(const char **)(v8 + 224 * v23 + 96);
          if (v24)
          {
            if (strncmp(v24, v11, v12))
              goto LABEL_22;
          }
        }
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"single word cannot be a compound word : word index=%d compound tag=%s", v13, v14, v15, i);
      }
      else
      {
        if (i)
        {
          v16 = i;
          while (1)
          {
            v17 = *(const char **)(v8 + 224 * v16 + 96);
            if (!v17 || !strncmp(v17, v11, v12))
              break;
            if (!--v16)
              goto LABEL_14;
          }
        }
        else
        {
LABEL_14:
          v16 = 0;
        }
        v18 = v8 + 224 * v16;
        v19 = *(_QWORD *)(v18 + 96);
        if (v19)
        {
          if (!strncmp(*(const char **)(v18 + 96), v11, v12))
          {
            strcat(v9, (const char *)(v19 + 1));
            goto LABEL_22;
          }
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"compound word has no beginning tag : word index=%d compound tag=%s", v20, v21, v22, i);
        }
        else
        {
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"no start word for internal compound word : word index=%d compound tag=%s", v13, v14, v15, i);
        }
      }
      heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(*a2 + 224 * i + 96));
      *(_QWORD *)(*a2 + 224 * i + 96) = 0;
LABEL_22:
      v3 = *((unsigned __int16 *)a2 + 4);
    }
  }
  return 0;
}

uint64_t checkMSPOSForCompound(uint64_t a1, unsigned int a2, char *__s, uint64_t a4, _QWORD *a5)
{
  unint64_t v10;
  uint64_t CompoundAccent;
  unint64_t v12;
  unsigned int v13;
  unsigned __int16 v14;
  uint64_t v15;
  uint64_t v16;
  int v17;
  uint64_t v18;
  uint64_t v19;
  const char *v20;
  uint64_t v21;
  uint64_t v22;
  int v23;
  char *v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  int v36;
  char *v37;
  const char *v38;
  uint64_t v40;
  unsigned int v41;
  int v42;
  int v43;

  v10 = 0;
  CompoundAccent = 0;
  v42 = 0;
  v43 = 0;
  do
  {
    v12 = v10;
    if (v10 >= *(unsigned __int16 *)(a4 + 360))
      return CompoundAccent;
    if (*(_DWORD *)(*(_QWORD *)(a4 + 352) + 4 * v10) == 1)
    {
      v13 = *(unsigned __int16 *)(*(_QWORD *)(*(_QWORD *)(a4 + 344) + 8 * v10) + 2);
      v14 = strlen(__s);
      CompoundAccent = do_pcre_exec(a4, v13, __s, v14, 0, (uint64_t)&v43, v15, v16);
      if ((CompoundAccent & 0x80000000) != 0)
        return CompoundAccent;
      v17 = v43;
    }
    else if (!strcmp((const char *)(*(_QWORD *)(a4 + 528)+ *(unsigned int *)(*(_QWORD *)(a4 + 536)+ 4 * **(unsigned int **)(*(_QWORD *)(a4 + 344) + 8 * v10))), __s))
    {
      v17 = 1;
      v43 = 1;
    }
    else
    {
      v17 = 0;
    }
    v10 = v12 + 1;
  }
  while (!v17);
  if (v17 != 1)
    return CompoundAccent;
  v18 = (unsigned __int16)v12;
  v19 = 4;
  if (*(_DWORD *)(*(_QWORD *)(a4 + 352) + 4 * (unsigned __int16)v12) == 1)
    v19 = 8;
  v20 = (const char *)(*(_QWORD *)(a4 + 528)
                     + *(unsigned int *)(*(_QWORD *)(a4 + 536)
                                       + 4
                                       * *(unsigned int *)(*(_QWORD *)(*(_QWORD *)(a4 + 344)
                                                                     + 8 * (unsigned __int16)v12)
                                                         + v19)));
  if (strcmp(v20, *(const char **)(a4 + 640)))
  {
    LODWORD(v21) = a2;
    v22 = *(_QWORD *)(*a5 + 224 * a2 + 96);
    if (v22)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v22);
      *(_QWORD *)(*a5 + 224 * a2 + 96) = 0;
    }
    v23 = strlen(v20);
    v24 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v23 + 52));
    *(_QWORD *)(*a5 + 224 * a2 + 96) = v24;
    if (v24)
    {
      strcpy(v24, v20);
      goto LABEL_18;
    }
LABEL_25:
    CompoundAccent = 2315264010;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v25, v26, v27, v28, v41);
    return CompoundAccent;
  }
  v42 = 0;
  v43 = 0;
  CompoundAccent = getCompoundAccent(a4, __s, &v43, (_WORD *)&v42 + 1, &v42);
  if ((CompoundAccent & 0x80000000) != 0)
    return CompoundAccent;
  if (v43)
  {
    v36 = strlen(v20);
    v37 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v36 + (unsigned __int16)v42 - HIWORD(v42) + 2);
    *(_QWORD *)(*a5 + 224 * a2 + 96) = v37;
    if (!v37)
      goto LABEL_25;
    v21 = a2;
    strcpy(v37, v20);
    v38 = *(const char **)(*a5 + 224 * a2 + 96);
    *(_WORD *)&v38[strlen(v38)] = 45;
    strncat(*(char **)(*a5 + 224 * v21 + 96), &__s[HIWORD(v42)], (unsigned __int16)v42 - (unint64_t)HIWORD(v42));
  }
  else
  {
    LODWORD(v21) = a2;
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"no stress information on first word of compound word : word index=%d pos=%s", v33, v34, v35, a2);
    v40 = 224 * a2;
    heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(*a5 + v40 + 96));
    *(_QWORD *)(*a5 + v40 + 96) = 0;
  }
LABEL_18:
  if (*(_QWORD *)(*a5 + 224 * v21 + 96))
  {
    v32 = *(_QWORD *)(a1 + 32);
    if (*(_DWORD *)(*(_QWORD *)(a4 + 352) + 4 * v18) == 1)
      log_OutText(v32, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"COMPOUND regex rule %d FIRED : SET \"%s\" -> \"%s\"", v29, v30, v31, *(unsigned __int16 *)(*(_QWORD *)(*(_QWORD *)(a4 + 344) + 8 * v18) + 2));
    else
      log_OutText(v32, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"COMPOUND normal rule FIRED : SET \"%s\" -> \"%s\"", v29, v30, v31, (uint64_t)__s);
  }
  return CompoundAccent;
}

uint64_t insert_NLU_info(uint64_t a1, unsigned int a2, int a3, uint64_t a4, uint64_t a5, uint64_t *a6, int a7)
{
  unsigned __int16 v10;
  __int16 v11;
  unsigned int v13;
  uint64_t i;
  const char *v15;
  uint64_t v16;
  int v17;
  char *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  const char *v23;
  uint64_t v24;
  int v25;
  char *v26;
  const char *v27;
  BOOL v28;
  char v29;
  uint64_t v30;
  char v31;
  const char *v32;
  int v33;
  uint64_t v34;
  char v35;
  const char *v36;
  uint64_t v37;
  int v38;
  char *v39;
  uint64_t v40;
  uint64_t v41;
  int v42;
  const char *v43;
  const char *v44;
  int v45;
  char *v46;
  const char *v47;
  int v48;
  char *v49;
  const char *v50;
  int v51;
  char *v52;
  char *v53;
  char *v54;
  uint64_t v55;
  char *v56;
  char *v57;
  const char *v58;
  char *v59;
  unsigned __int16 v60;
  size_t v61;
  char *v62;
  char *v63;
  const char *v64;
  size_t v65;
  char *v66;
  char *v67;
  const char *v68;
  size_t v69;
  char *v70;
  uint64_t v71;
  const char *v72;
  size_t v73;
  char *v74;
  unsigned int v76;
  int v78;

  v10 = a3;
  v11 = a2;
  if (a2 == a3)
  {
    if (a2 + 1 == *((unsigned __int16 *)a6 + 4))
      v10 = a2 + 1;
    else
      v10 = a2;
  }
  if (a2 >= v10)
    return 0;
  v13 = a2;
  v78 = v10 - 1;
  for (i = 224 * a2 + 120; ; i += 224)
  {
    v15 = *(const char **)a4;
    if (!*(_QWORD *)a4)
      goto LABEL_12;
    v16 = *(_QWORD *)(*(_QWORD *)(*a6 + i - 104) + 8 * *(unsigned __int16 *)(a5 + 18));
    if (v16)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v16);
      *(_QWORD *)(*(_QWORD *)(*a6 + i - 104) + 8 * *(unsigned __int16 *)(a5 + 18)) = 0;
      v15 = *(const char **)a4;
    }
    v17 = strlen(v15);
    v18 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v17 + 1));
    *(_QWORD *)(*(_QWORD *)(*a6 + i - 104) + 8 * *(unsigned __int16 *)(a5 + 18)) = v18;
    if (!v18)
      break;
    strcpy(v18, *(const char **)a4);
LABEL_12:
    v23 = *(const char **)(a4 + 8);
    if (v23)
    {
      v24 = *(_QWORD *)(*a6 + i - 40);
      if (v24)
      {
        heap_Free(*(_QWORD **)(a1 + 8), v24);
        *(_QWORD *)(*a6 + i - 40) = 0;
        v23 = *(const char **)(a4 + 8);
      }
      v25 = strlen(v23);
      v26 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v25 + 1));
      *(_QWORD *)(*a6 + i - 40) = v26;
      if (!v26)
        break;
      strcpy(v26, *(const char **)(a4 + 8));
      *(_WORD *)(*a6 + i - 116) = v11;
    }
    v27 = *(const char **)(a4 + 16);
    if (v27)
      v28 = v78 == v13;
    else
      v28 = 0;
    if (v28)
    {
      if (!strcmp(*(const char **)(a4 + 16), "W"))
      {
        v30 = *a6 + i;
        v31 = 3;
      }
      else
      {
        if (strcmp(v27, "S"))
        {
          if (!strcmp(v27, "N"))
            v29 = 2;
          else
            v29 = 1;
          *(_BYTE *)(*a6 + i - 45) = v29;
          goto LABEL_31;
        }
        v30 = *a6 + i;
        v31 = 4;
      }
      *(_BYTE *)(v30 - 45) = v31;
    }
LABEL_31:
    v32 = *(const char **)(a4 + 32);
    if (!v32)
      goto LABEL_40;
    if (!strcmp(*(const char **)(a4 + 32), "0"))
    {
      v34 = *a6 + i;
LABEL_37:
      *(_BYTE *)(v34 - 46) = 0;
      goto LABEL_40;
    }
    if (!strcmp(v32, "1"))
    {
      v34 = *a6 + i;
      v35 = 1;
    }
    else
    {
      v33 = strcmp(v32, "2");
      v34 = *a6 + i;
      if (v33)
        goto LABEL_37;
      v35 = 2;
    }
    *(_BYTE *)(v34 - 46) = v35;
LABEL_40:
    v36 = *(const char **)(a4 + 56);
    if (v36)
    {
      v37 = *(_QWORD *)(*a6 + i - 24);
      if (v37)
      {
        heap_Free(*(_QWORD **)(a1 + 8), v37);
        *(_QWORD *)(*a6 + i - 24) = 0;
        v36 = *(const char **)(a4 + 56);
      }
      v38 = strlen(v36);
      v39 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v38 + 1));
      *(_QWORD *)(*a6 + i - 24) = v39;
      if (!v39)
        break;
      strcpy(v39, *(const char **)(a4 + 56));
      v40 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 6);
      *(_QWORD *)(*a6 + i + 56) = v40;
      if (!v40)
        break;
      v41 = v40;
      v42 = strncmp(*(const char **)(a4 + 56), "B-", 2uLL);
      v43 = "COMP]";
      if (!v42)
        v43 = "[COMP";
      *(_DWORD *)v41 = *(_DWORD *)v43;
      *(_WORD *)(v41 + 4) = *((_WORD *)v43 + 2);
    }
    v44 = *(const char **)(a4 + 24);
    if (v44 && v78 == v13)
    {
      v45 = strlen(v44);
      v46 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(*a6 + i), (v45 + 1));
      if (!v46)
        break;
      *(_QWORD *)(*a6 + i) = v46;
      strcpy(v46, *(const char **)(a4 + 24));
    }
    v47 = *(const char **)(a4 + 40);
    if (v47)
    {
      v48 = strlen(v47);
      v49 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(*a6 + i + 32), (v48 + 32) & 0xFFFFFFE0);
      if (!v49)
        break;
      *(_QWORD *)(*a6 + i + 32) = strcpy(v49, *(const char **)(a4 + 40));
    }
    v50 = *(const char **)(a4 + 48);
    if (v50)
    {
      v51 = strlen(v50);
      v52 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(*a6 + i + 40), (v51 + 32) & 0xFFFFFFE0);
      if (!v52)
        break;
      v53 = v52;
      v54 = strcpy(v52, *(const char **)(a4 + 48));
      v55 = *a6;
      *(_QWORD *)(*a6 + i + 40) = v54;
      if (i != 120 && strstr(v53, "S_PUNC"))
        *(_DWORD *)(v55 + 224 * (v13 - 1) + 28) = 1;
      if (strstr(v53, "E_PUNC"))
        *(_DWORD *)(v55 + i - 92) = 1;
      if (a7 == 1)
      {
        v56 = *(char **)(a4 + 48);
        v57 = strstr(v56, "S_PUNC:");
        if (v57)
        {
          v58 = v57 + 7;
          v59 = strchr(v57 + 7, 59);
          if (v59)
            v60 = (_WORD)v59 - (_WORD)v58;
          else
            v60 = strlen(v58);
          v61 = v60;
          v62 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v60 + 1);
          *(_QWORD *)(*a6 + i + 64) = v62;
          if (!v62)
            break;
          strncpy(v62, v58, v61);
          v56 = *(char **)(a4 + 48);
        }
        v63 = strstr(v56, "E_PUNC:");
        if (v63)
        {
          v64 = v63 + 7;
          v65 = strlen(v63 + 7);
          v66 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v65 + 1);
          *(_QWORD *)(*a6 + i + 72) = v66;
          if (!v66)
            break;
          strcpy(v66, v64);
          v56 = *(char **)(a4 + 48);
        }
        v67 = strstr(v56, "X_PUNC:");
        if (v67)
        {
          v68 = v67 + 7;
          v69 = strlen(v67 + 7);
          v70 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v69 + 1);
          *(_QWORD *)(*a6 + i + 80) = v70;
          if (!v70)
            break;
          strcpy(v70, v68);
        }
      }
    }
    v71 = *(_QWORD *)(a4 + 72);
    if (v71)
    {
      *(_QWORD *)(*a6 + i + 16) = v71;
      v72 = *(const char **)(a4 + 64);
      if (v72)
      {
        v73 = strlen(v72);
        v74 = (char *)heap_Alloc(*(_QWORD *)(a1 + 8), v73 + 1);
        *(_QWORD *)(*a6 + i + 8) = v74;
        if (!v74)
          break;
        strcpy(v74, *(const char **)(a4 + 64));
      }
    }
    if (v10 == (unsigned __int16)++v13)
      return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v19, v20, v21, v22, v76);
  return 2315264010;
}

uint64_t resolvePHR(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v12;
  unint64_t v13;
  unsigned __int16 *v14;
  uint64_t v15;
  const char *v16;
  unint64_t v17;
  int v18;
  char *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  char *v26;
  int v27;
  char *v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  int v34;
  int v35;
  char *v36;
  uint64_t v37;
  int v38;
  char *v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  int v45;
  char *v46;
  uint64_t v47;
  int v48;
  char *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  unint64_t v55;
  unint64_t v56;
  uint64_t v57;
  uint64_t v58;
  _QWORD *v59;
  uint64_t v60;
  unint64_t v61;
  uint64_t v62;
  char *v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  const char *v71;
  int v72;
  uint64_t v73;
  uint64_t v74;
  int v75;
  unsigned int v76;
  uint64_t v77;
  uint64_t v78;
  uint64_t v79;
  uint64_t v80;
  int v81;
  uint64_t v82;
  uint64_t v83;
  unsigned __int16 *v84;
  const char **v85;
  const char *v86;
  int v87;
  uint64_t v88;
  int v89;
  int v90;
  unsigned __int16 v91;
  uint64_t v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  unsigned int v97;
  uint64_t v98;
  const char *v99;
  uint64_t v100;
  uint64_t v101;
  uint64_t v102;
  unint64_t v103;
  uint64_t v104;
  uint64_t v105;
  uint64_t v106;
  unsigned int v108;
  int v109;
  char __s2[2];
  uint64_t v112;

  v112 = *MEMORY[0x1E0C80C00];
  if (!*(_WORD *)(a4 + 8))
    return 0;
  v12 = 0;
  v13 = 0;
  do
  {
    if (v12)
    {
      v14 = (unsigned __int16 *)(*(_QWORD *)a4 + v12);
      if (!*((_QWORD *)v14 + 10))
      {
        v15 = (v13 - 1);
        v16 = *(const char **)(*(_QWORD *)a4 + 224 * v15 + 80);
        if (v16)
        {
          v17 = *v14;
          if (v17 >= 2 && *(_BYTE *)(a1 + (v17 - 1)) == 95)
          {
            v18 = strlen(v16);
            v19 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v18 + 3));
            v24 = *(_QWORD *)a4;
            *(_QWORD *)(*(_QWORD *)a4 + v12 + 80) = v19;
            if (!v19)
              goto LABEL_86;
            strcpy(v19, *(const char **)(v24 + 224 * v15 + 80));
            v25 = *(_QWORD *)a4;
            v26 = *(char **)(*(_QWORD *)a4 + v12 + 80);
            if (strcmp(v26, "O"))
            {
              *v26 = 73;
              v25 = *(_QWORD *)a4;
            }
            v27 = strlen(*(const char **)(*(_QWORD *)(v25 + 224 * v15 + 16)
                                        + 8 * *(unsigned __int16 *)(a3 + 18)));
            v28 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v27 + 3));
            v29 = *(_QWORD *)a4;
            v30 = *(unsigned __int16 *)(a3 + 18);
            *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v12 + 16) + 8 * v30) = v28;
            if (!v28)
            {
LABEL_86:
              v106 = 2315264010;
              log_OutPublic(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v20, v21, v22, v23, v108);
              return v106;
            }
            strcpy(v28, *(const char **)(*(_QWORD *)(v29 + 224 * v15 + 16) + 8 * v30));
            log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"[1] set missing PHR on word : word index=%d to %s (also copy POS %s)", v31, v32, v33, v13);
          }
          else
          {
            v34 = *(unsigned __int8 *)v16;
            if (v34 == 66)
            {
              v45 = strlen(v16);
              v46 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v45 + 3));
              v47 = *(_QWORD *)a4;
              *(_QWORD *)(*(_QWORD *)a4 + v12 + 80) = v46;
              if (!v46)
                goto LABEL_86;
              strcpy(v46, *(const char **)(v47 + 224 * v15 + 80));
              **(_BYTE **)(*(_QWORD *)a4 + v12 + 80) = 73;
              v48 = strlen(*(const char **)(*(_QWORD *)(*(_QWORD *)a4 + 224 * v15 + 16)
                                          + 8 * *(unsigned __int16 *)(a3 + 18)));
              v49 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v48 + 3));
              v50 = *(_QWORD *)a4;
              v51 = *(unsigned __int16 *)(a3 + 18);
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v12 + 16) + 8 * v51) = v49;
              if (!v49)
                goto LABEL_86;
              strcpy(v49, *(const char **)(*(_QWORD *)(v50 + 224 * v15 + 16) + 8 * v51));
              log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"[3] set missing PHR on word : word index=%d to %s (also copy POS %s)", v52, v53, v54, v13);
            }
            else if (v34 == 79 || v34 == 73)
            {
              v35 = strlen(v16);
              v36 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v35 + 3));
              v37 = *(_QWORD *)a4;
              *(_QWORD *)(*(_QWORD *)a4 + v12 + 80) = v36;
              if (!v36)
                goto LABEL_86;
              strcpy(v36, *(const char **)(v37 + 224 * v15 + 80));
              v38 = strlen(*(const char **)(*(_QWORD *)(*(_QWORD *)a4 + 224 * v15 + 16)
                                          + 8 * *(unsigned __int16 *)(a3 + 18)));
              v39 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v38 + 3));
              v40 = *(_QWORD *)a4;
              v41 = *(unsigned __int16 *)(a3 + 18);
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v12 + 16) + 8 * v41) = v39;
              if (!v39)
                goto LABEL_86;
              strcpy(v39, *(const char **)(*(_QWORD *)(v40 + 224 * v15 + 16) + 8 * v41));
              log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"[2] set missing PHR on word : word index=%d to %s (also copy POS %s)", v42, v43, v44, v13);
            }
          }
        }
      }
    }
    ++v13;
    v55 = *(unsigned __int16 *)(a4 + 8);
    v12 += 224;
  }
  while (v13 < v55);
  if (!*(_WORD *)(a4 + 8))
    return 0;
  v56 = 0;
  v57 = 80;
  do
  {
    if (!*(_QWORD *)(*(_QWORD *)a4 + v57))
    {
      if ((insert_NLU_info(a2, (unsigned __int16)v56, (unsigned __int16)(v56 + 1), (uint64_t)&unk_1EA93F3E8, a3, (uint64_t *)a4, a5) & 0x80000000) != 0)
      {
        log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Failed to fill out PHR=B-NIL on word : word index=%d", a6, a7, a8, v56);
        return 2315264000;
      }
      LODWORD(v55) = *(unsigned __int16 *)(a4 + 8);
    }
    ++v56;
    v57 += 224;
  }
  while (v56 < v55);
  if (!(_DWORD)v55)
    return 0;
  v58 = 0;
  v59 = (_QWORD *)(*(_QWORD *)a4 + 80);
  do
  {
    if (!*v59)
    {
      log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"could not work out PHR on word : word index=%d", a6, a7, a8, v58);
      return 2315264000;
    }
    ++v58;
    v59 += 28;
  }
  while (v55 != v58);
  v60 = 0;
  v61 = 0;
  v62 = *(_QWORD *)a4;
  do
  {
    v63 = *(char **)(v62 + v60 + 80);
    if (!strncmp(v63, "I-", 2uLL))
    {
      if (v60)
      {
        if (strcmp(*(const char **)(v62 + 224 * (v61 - 1) + 80), v63))
        {
          __strcpy_chk();
          __s2[0] = 66;
          v67 = *(_QWORD *)a4;
          if (strcmp(*(const char **)(*(_QWORD *)a4 + 224 * (v61 - 1) + 80), __s2))
          {
            **(_BYTE **)(v67 + v60 + 80) = 66;
            log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Error : no B- preceding I- PHR : change PHR on word %d to %s", v68, v69, v70, v61);
          }
        }
      }
      else
      {
        *v63 = 66;
        log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Error : no B- preceding I- PHR : change PHR on word %d to %s", v64, v65, v66, 0);
      }
    }
    v62 = *(_QWORD *)a4;
    v71 = *(const char **)(*(_QWORD *)a4 + v60 + 176);
    if (v71)
    {
      v72 = strcmp(v71, "COMP]");
      if (v60)
      {
        if (!v72)
        {
          v73 = v62 + 224 * (v61 - 1);
          v74 = *(_QWORD *)(v73 + 176);
          if (v74)
          {
            if (!strcmp(*(const char **)(v73 + 176), "COMP]"))
            {
              heap_Free(*(_QWORD **)(a2 + 8), v74);
              v62 = *(_QWORD *)a4;
              *(_QWORD *)(*(_QWORD *)a4 + 224 * (v61 - 1) + 176) = 0;
            }
          }
        }
      }
    }
    ++v61;
    v60 += 224;
  }
  while (v61 < *(unsigned __int16 *)(a4 + 8));
  if (!*(_WORD *)(a4 + 8))
    return 0;
  v75 = 0;
  do
  {
    v76 = (unsigned __int16)v75;
    __strcpy_chk();
    if (*(unsigned __int16 *)__s2 == 11586)
      __strcpy_chk();
    v80 = *(unsigned __int16 *)(a4 + 8);
    v81 = v75;
    if (v80 > (unsigned __int16)v75)
    {
      v82 = *(_QWORD *)a4 + 224 * (unsigned __int16)v75;
      v83 = (unsigned __int16)v75;
      v84 = (unsigned __int16 *)(v82 + 4);
      v85 = (const char **)(v82 + 80);
      while (1)
      {
        v86 = *v85;
        if (!*v85
          || strcmp(*v85, __s2)
          && (strlen(v86) < 3 || strcmp(v86 + 2, __s2) || strncmp(v86, "I-", 2uLL))
          && *((unsigned __int16 *)v85 - 38) != *v84)
        {
          break;
        }
        ++v83;
        v85 += 28;
        if (v80 == v83)
        {
          v81 = v80;
          goto LABEL_62;
        }
      }
      v81 = v83;
LABEL_62:
      v76 = (unsigned __int16)v75;
    }
    v87 = (unsigned __int16)v81 - 1;
    v88 = (unsigned __int16)v75;
    if (v87 <= (unsigned __int16)v75)
      goto LABEL_73;
    v109 = v81;
    v89 = 0;
    v90 = v75;
    v91 = v75;
    do
    {
      if (*(_DWORD *)(*(_QWORD *)a4 + 224 * (unsigned __int16)v90 + 28) == 1)
      {
        v92 = v91;
        log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"[1] add syn chunk %s%s from %d to %d", v77, v78, v79, (uint64_t)__s2);
        v94 = addSynChunk(a2, __s2, "-P", v92, (unsigned __int16)v90, a3, a4, v93);
        if ((v94 & 0x80000000) != 0)
          return v94;
        ++v90;
        v89 = 1;
        v91 = v90;
      }
      else
      {
        ++v90;
      }
    }
    while (v87 > (unsigned __int16)v90);
    v76 = (unsigned __int16)v75;
    v81 = v109;
    v88 = (unsigned __int16)v75;
    if (v89)
    {
      if ((unsigned __int16)v109 <= v91)
        goto LABEL_75;
      v95 = v91;
      log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"[2] add syn chunk %s%s from %d to %d", v77, v78, v79, (uint64_t)__s2);
      v97 = (unsigned __int16)v87;
      v98 = a2;
      v99 = "-P";
      v100 = v95;
      v81 = v109;
      v76 = (unsigned __int16)v75;
    }
    else
    {
LABEL_73:
      log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"[3] add syn chunk %s from %d to %d", v77, v78, v79, (uint64_t)__s2);
      v97 = (unsigned __int16)v87;
      v98 = a2;
      v99 = 0;
      v100 = v88;
    }
    v94 = addSynChunk(v98, __s2, v99, v100, v97, a3, a4, v96);
    if ((v94 & 0x80000000) != 0)
      return v94;
LABEL_75:
    v101 = *(_QWORD *)a4;
    *(_DWORD *)(*(_QWORD *)a4 + 224 * v76 + 44) = 1;
    v102 = v101 + 224 * v87;
    *(_DWORD *)(v102 + 40) = 1;
    if (*(_DWORD *)(v102 + 28) == 1)
      *(_DWORD *)(v101 + 224 * v76 + 32) = 1;
    if ((unsigned __int16)v75 == (unsigned __int16)v81)
      v75 = v81 + 1;
    else
      v75 = v81;
  }
  while ((unsigned __int16)v75 < *(unsigned __int16 *)(a4 + 8));
  if (!*(_WORD *)(a4 + 8))
    return 0;
  v103 = 0;
  v104 = *(_QWORD *)a4;
  v105 = 80;
  do
  {
    heap_Free(*(_QWORD **)(a2 + 8), *(_QWORD *)(v104 + v105));
    v106 = 0;
    v104 = *(_QWORD *)a4;
    *(_QWORD *)(*(_QWORD *)a4 + v105) = 0;
    ++v103;
    v105 += 224;
  }
  while (v103 < *(unsigned __int16 *)(a4 + 8));
  return v106;
}

uint64_t addMarkerType(uint64_t a1, const char *a2, const char *a3, unsigned int a4, unsigned int a5, uint64_t a6, uint64_t *a7)
{
  uint64_t result;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  int v27;
  char *v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unsigned int v33;
  const char *v34;

  result = checkSpan(a1, a6, (uint64_t *)(*a7 + 224 * a4 + 56));
  if ((result & 0x80000000) == 0)
  {
    result = checkSpan(a1, a6, (uint64_t *)(*a7 + 224 * a5 + 56));
    if ((result & 0x80000000) == 0)
    {
      v34 = a3;
      v18 = *(unsigned __int16 *)(a6 + 74);
      if (v18 <= *(unsigned __int16 *)(a6 + 72))
        v19 = *(unsigned __int16 *)(a6 + 72);
      else
        v19 = *(unsigned __int16 *)(a6 + 74);
      v20 = 8 * v18;
      do
      {
        if (v19 == v18 || (v21 = *(_QWORD *)(a6 + 528)) == 0)
        {
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Ignoring marker :%s, as not in DEFMAPPING list", v15, v16, v17, (uint64_t)a2);
          return 0;
        }
        v22 = strcmp((const char *)(v21+ *(unsigned int *)(*(_QWORD *)(a6 + 536)+ 4 * *(unsigned int *)(*(_QWORD *)(a6 + 64) + v20))), a2);
        ++v18;
        v20 += 8;
      }
      while (v22);
      v23 = *a7;
      v24 = (unsigned __int16)(v18 - 1);
      v25 = *(_QWORD *)(*a7 + 224 * a4 + 56) + 32 * v24;
      *(_DWORD *)v25 = 1;
      *(_WORD *)(v25 + 8) = a4;
      *(_WORD *)(v25 + 10) = a5;
      v26 = *(_QWORD *)(v23 + 224 * a5 + 56) + 32 * v24;
      *(_DWORD *)(v26 + 4) = 1;
      *(_WORD *)(v26 + 8) = a4;
      v27 = strlen(v34);
      v28 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v27 + 1));
      *(_QWORD *)(*(_QWORD *)(*a7 + 224 * a4 + 56) + 32 * v24 + 16) = v28;
      if (v28)
      {
        strcpy(v28, v34);
        return 0;
      }
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v29, v30, v31, v32, v33);
      return 2315264010;
    }
  }
  return result;
}

uint64_t createPOSString(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  int v12;
  uint64_t *v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unint64_t v17;
  int v18;
  uint64_t v19;
  uint64_t v20;
  void *v21;
  size_t v22;
  int v23;
  unint64_t v24;
  unsigned int v26;

  v6 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (2 * *(unsigned __int16 *)(a3 + 8)) | 1);
  *(_QWORD *)(a3 + 24) = v6;
  if (!v6)
    goto LABEL_14;
  v11 = *(unsigned __int16 *)(a3 + 8);
  if (*(_WORD *)(a3 + 8))
  {
    v12 = 0;
    v13 = (uint64_t *)(*(_QWORD *)a3 + 16);
    do
    {
      v14 = *v13;
      v13 += 28;
      v12 += strlen(*(const char **)(v14 + 8 * *(unsigned __int16 *)(a2 + 18))) + 1;
      --v11;
    }
    while (v11);
    v15 = (unsigned __int16)v12 + 1;
  }
  else
  {
    v15 = 1;
  }
  v16 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v15);
  *(_QWORD *)(a3 + 16) = v16;
  if (v16)
  {
    if (*(_WORD *)(a3 + 8))
    {
      v17 = 0;
      v18 = 0;
      v19 = 16;
      do
      {
        v20 = *(_QWORD *)(a3 + 16);
        *(_WORD *)(*(_QWORD *)(a3 + 24) + 2 * v17) = v18;
        v21 = (void *)(v20 + (unsigned __int16)v18);
        v22 = strlen(*(const char **)(*(_QWORD *)(*(_QWORD *)a3 + v19) + 8 * *(unsigned __int16 *)(a2 + 18)));
        memcpy(v21, *(const void **)(*(_QWORD *)(*(_QWORD *)a3 + v19) + 8 * *(unsigned __int16 *)(a2 + 18)), v22);
        v23 = v18 + strlen(*(const char **)(*(_QWORD *)(*(_QWORD *)a3 + v19) + 8 * *(unsigned __int16 *)(a2 + 18)));
        v24 = *(unsigned __int16 *)(a3 + 8);
        if ((int)v17 + 1 < v24)
        {
          *(_WORD *)(*(_QWORD *)(a3 + 16)
                   + (unsigned __int16)v23
                   + strlen((const char *)(*(_QWORD *)(a3 + 16) + (unsigned __int16)v23))) = 32;
          v24 = *(unsigned __int16 *)(a3 + 8);
        }
        v18 = v23 + 1;
        ++v17;
        v19 += 224;
      }
      while (v17 < v24);
    }
    return 0;
  }
  else
  {
LABEL_14:
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v7, v8, v9, v10, v26);
    return 2315264010;
  }
}

uint64_t getSyllCount(const char *a1)
{
  const char *v1;
  size_t v2;
  unsigned __int16 v3;
  unsigned __int16 v4;
  uint64_t v5;
  int v6;

  if (a1)
  {
    v1 = a1;
    v2 = strlen(a1);
    if (!v2)
      return 0;
    v3 = v2;
    if (!strcmp(v1, "."))
    {
      return 0;
    }
    else
    {
      v4 = 1;
      v5 = v3;
      if (v3)
      {
        do
        {
          v6 = *(unsigned __int8 *)v1++;
          if (v6 == 46)
            ++v4;
          --v5;
        }
        while (v5);
      }
    }
  }
  else
  {
    return 0;
  }
  return v4;
}

uint64_t getPhonWeights(unsigned __int16 *a1)
{
  uint64_t v1;
  const char **v2;

  v1 = a1[4];
  if (a1[4])
  {
    v2 = (const char **)(*(_QWORD *)a1 + 24);
    do
    {
      *(_WORD *)v2 = getSyllCount(*(v2 - 2));
      v2 += 28;
      --v1;
    }
    while (v1);
  }
  return 0;
}

uint64_t add2Str(uint64_t a1, const char **a2, _WORD *a3, char *__s)
{
  size_t v8;
  uint64_t v9;
  char *v10;
  size_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unsigned int v19;

  v8 = strlen(__s);
  v9 = (unsigned __int16)*a3;
  v10 = (char *)*a2;
  v11 = strlen(*a2);
  if (v8 >= v9 - v11)
  {
    if ((unsigned __int16)(v8 - v9 + v11) <= 0x80u)
      v12 = 128;
    else
      v12 = (unsigned __int16)(v8 - v9 + v11);
    v13 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v10, v9 + v12 + 1);
    if (!v13)
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v14, v15, v16, v17, v19);
      return 2315264010;
    }
    v10 = (char *)v13;
    *a2 = (const char *)v13;
    *a3 += v12;
  }
  if (*v10)
    strcat(v10, __s);
  else
    strcpy(v10, __s);
  return 0;
}

unsigned __int16 **setDomainOnWord(unsigned __int16 **result, unsigned int a2, unsigned int a3, int a4)
{
  unsigned __int16 *v4;
  uint64_t v5;
  unsigned int v6;
  BOOL v7;

  if (*((_WORD *)result + 4))
  {
    v4 = *result;
    v5 = *((unsigned __int16 *)result + 4) - 1;
    do
    {
      v6 = *v4;
      if (v6 >= a2 && v4[1] <= a3)
        *((_DWORD *)v4 + 13) = a4;
      v7 = v6 > a3 || v5-- == 0;
      v4 += 112;
    }
    while (!v7);
  }
  return result;
}

unsigned __int16 **setPhoneticRange(unsigned __int16 **result, unsigned int a2, unsigned int a3)
{
  unsigned __int16 *v3;
  uint64_t v4;
  unsigned int v5;
  BOOL v6;

  if (*((_WORD *)result + 4))
  {
    v3 = *result;
    v4 = *((unsigned __int16 *)result + 4) - 1;
    do
    {
      v5 = *v3;
      if (v5 >= a2 && v3[1] <= a3)
        *((_DWORD *)v3 + 12) = 1;
      v6 = v5 > a3 || v4-- == 0;
      v3 += 112;
    }
    while (!v6);
  }
  return result;
}

uint64_t printAsChunks(uint64_t result, const char **a2, _WORD *a3, uint64_t a4, uint64_t *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;

  if ((_DWORD)result)
  {
    log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"CHUNKS", a6, a7, a8, 0);
    if (*((_WORD *)a5 + 4))
    {
      v15 = 0;
      v16 = 0;
      do
      {
        v17 = *a5;
        v18 = *(_QWORD *)(*a5 + v15 + 56);
        if (v18 && *(_DWORD *)(v18 + 32 * *(unsigned __int16 *)(a4 + 24)) == 1)
        {
          result = add2Str(*(_QWORD *)a4, a2, a3, "[");
          if ((result & 0x80000000) != 0)
            return result;
          result = add2Str(*(_QWORD *)a4, a2, a3, *(char **)(*(_QWORD *)(*a5 + v15 + 56) + 32 * *(unsigned __int16 *)(a4 + 24) + 16));
          if ((result & 0x80000000) != 0)
            return result;
          result = add2Str(*(_QWORD *)a4, a2, a3, " ");
          if ((result & 0x80000000) != 0)
            return result;
          v17 = *a5;
        }
        result = add2Str(*(_QWORD *)a4, a2, a3, *(char **)(*(_QWORD *)(v17 + v15 + 16) + 8 * *(unsigned __int16 *)(a4 + 16)));
        if ((result & 0x80000000) != 0)
          return result;
        result = add2Str(*(_QWORD *)a4, a2, a3, "_");
        if ((result & 0x80000000) != 0)
          return result;
        result = add2Str(*(_QWORD *)a4, a2, a3, *(char **)(*(_QWORD *)(*a5 + v15 + 16) + 8 * *(unsigned __int16 *)(a4 + 18)));
        if ((result & 0x80000000) != 0)
          return result;
        result = add2Str(*(_QWORD *)a4, a2, a3, " ");
        if ((result & 0x80000000) != 0)
          return result;
        v19 = *(_QWORD *)(*a5 + v15 + 56);
        if (v19 && *(_DWORD *)(v19 + 32 * *(unsigned __int16 *)(a4 + 24) + 4) == 1)
        {
          result = add2Str(*(_QWORD *)a4, a2, a3, "] ");
          if ((result & 0x80000000) != 0)
            return result;
          log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s", v20, v21, v22, (uint64_t)*a2);
          **a2 = 0;
        }
        ++v16;
        v15 += 224;
      }
      while (v16 < *((unsigned __int16 *)a5 + 4));
    }
    log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s", v12, v13, v14, (uint64_t)*a2);
    result = 0;
    **a2 = 0;
  }
  return result;
}

uint64_t printSent(uint64_t a1, int a2, const char **a3, char *a4, _WORD *a5, uint64_t a6, uint64_t a7, uint64_t a8, int a9)
{
  uint64_t v15;
  const char *v16;
  uint64_t result;
  uint64_t v18;
  unsigned int v19;
  BOOL v20;
  const char *v21;
  uint64_t v22;
  const char *v23;
  unsigned int v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  unint64_t v36;
  BOOL v37;
  unint64_t v38;
  uint64_t v39;
  const char *v40;
  char *v41;
  _WORD *v42;

  if (!a2)
    return 0;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Sentence :%s", a6, a7, a8, a8);
  if (*(_WORD *)(a7 + 8))
  {
    v15 = 0;
    v16 = "tmphr=%4s ";
    if (a9 == 1)
      v16 = "%4s ";
    v41 = (char *)v16;
    while (1)
    {
      sprintf(a4, "[%2d] ", v15);
      result = add2Str(a1, a3, a5, a4);
      if ((result & 0x80000000) != 0)
        return result;
      v18 = 224 * v15;
      strncpy(a4, *(const char **)(*(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 16) + 8 * *(unsigned __int16 *)(a6 + 16)), 0x14uLL);
      v19 = (unsigned __int16)strlen(*(const char **)(*(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 16)
                                                    + 8 * *(unsigned __int16 *)(a6 + 16)));
      if (v19 <= 0x13)
      {
        do
        {
          *(_WORD *)&a4[strlen(a4)] = 32;
          v20 = v19++ >= 0x13;
        }
        while (!v20);
      }
      result = add2Str(a1, a3, a5, a4);
      if ((result & 0x80000000) != 0)
        return result;
      result = add2Str(a1, a3, a5, " ");
      if ((result & 0x80000000) != 0)
        return result;
      v21 = *(const char **)(*(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 16) + 8 * *(unsigned __int16 *)(a6 + 18));
      if (!v21)
        v21 = " ";
      sprintf(a4, "%6s ", v21);
      result = add2Str(a1, a3, a5, a4);
      if ((result & 0x80000000) != 0)
        return result;
      v22 = *(_QWORD *)a7;
      if (*(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 80))
      {
        sprintf(a4, v41, *(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 80));
        result = add2Str(a1, a3, a5, a4);
        if ((result & 0x80000000) != 0)
          return result;
        v22 = *(_QWORD *)a7;
      }
      if (*(_QWORD *)(v22 + 224 * v15 + 88))
      {
        sprintf(a4, "retag=%4s ", *(const char **)(v22 + 224 * v15 + 88));
        result = add2Str(a1, a3, a5, a4);
        if ((result & 0x80000000) != 0)
          return result;
        v22 = *(_QWORD *)a7;
      }
      v23 = *(const char **)(*(_QWORD *)(v22 + 224 * v15 + 16) + 8 * *(unsigned __int16 *)(a6 + 20));
      if (!v23)
        v23 = " ";
      sprintf(a4, "%6s ", v23);
      result = add2Str(a1, a3, a5, a4);
      if ((result & 0x80000000) != 0)
        return result;
      strncpy(a4, *(const char **)(*(_QWORD *)a7 + v18 + 8), 0x14uLL);
      v24 = (unsigned __int16)strlen(*(const char **)(*(_QWORD *)a7 + v18 + 8));
      if (v24 <= 0x13)
      {
        do
        {
          *(_WORD *)&a4[strlen(a4)] = 32;
          v20 = v24++ >= 0x13;
        }
        while (!v20);
      }
      result = add2Str(a1, a3, a5, a4);
      if ((result & 0x80000000) != 0)
        return result;
      if (*(_WORD *)(*(_QWORD *)a7 + 224 * v15 + 24))
      {
        sprintf(a4, "(nsyll=%d) ", *(unsigned __int16 *)(*(_QWORD *)a7 + 224 * v15 + 24));
        result = add2Str(a1, a3, a5, a4);
        if ((result & 0x80000000) != 0)
          return result;
      }
      if (a9 == 1)
      {
        v28 = *(_QWORD *)a7;
        if (*(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 184))
        {
          sprintf(a4, "startDocPunc=%s ", *(const char **)(*(_QWORD *)a7 + 224 * v15 + 184));
          result = add2Str(a1, a3, a5, a4);
          if ((result & 0x80000000) != 0)
            return result;
          v28 = *(_QWORD *)a7;
        }
        if (*(_QWORD *)(v28 + 224 * v15 + 192))
        {
          sprintf(a4, "endDocPunc=%s ", *(const char **)(v28 + 224 * v15 + 192));
          result = add2Str(a1, a3, a5, a4);
          if ((result & 0x80000000) != 0)
            return result;
          v28 = *(_QWORD *)a7;
        }
        if (*(_QWORD *)(v28 + 224 * v15 + 200))
        {
          sprintf(a4, "singleDocPunc=%s ", *(const char **)(v28 + 224 * v15 + 200));
          result = add2Str(a1, a3, a5, a4);
          if ((result & 0x80000000) != 0)
            return result;
          v28 = *(_QWORD *)a7;
        }
        if (*(_QWORD *)(v28 + 224 * v15 + 208))
        {
          sprintf(a4, "orthPunc=%s ", *(const char **)(v28 + 224 * v15 + 208));
          result = add2Str(a1, a3, a5, a4);
          if ((result & 0x80000000) != 0)
            return result;
          v28 = *(_QWORD *)a7;
        }
        if (*(_QWORD *)(v28 + 224 * v15 + 168))
        {
          sprintf(a4, "tokTag=%s ", *(const char **)(v28 + 224 * v15 + 168));
          result = add2Str(a1, a3, a5, a4);
          if ((result & 0x80000000) != 0)
            return result;
          v28 = *(_QWORD *)a7;
        }
        if (*(_QWORD *)(v28 + 224 * v15 + 176))
        {
          sprintf(a4, "compoundInfo=%s ");
          goto LABEL_72;
        }
      }
      else if (!a9)
      {
        v29 = *(_QWORD *)a7;
        if (*(_DWORD *)(*(_QWORD *)a7 + 224 * v15 + 220))
        {
          result = add2Str(a1, a3, a5, "DUMMYWORD ");
          if ((result & 0x80000000) != 0)
            return result;
          v29 = *(_QWORD *)a7;
        }
        if (*(_DWORD *)(v29 + 224 * v15 + 28))
        {
          result = add2Str(a1, a3, a5, "_HASCOMMA ");
          if ((result & 0x80000000) != 0)
            return result;
          v29 = *(_QWORD *)a7;
        }
        if (*(_DWORD *)(v29 + 224 * v15 + 36))
        {
          result = add2Str(a1, a3, a5, "_HASBNDBEFORESET ");
          if ((result & 0x80000000) != 0)
            return result;
          v29 = *(_QWORD *)a7;
        }
        if (*(_DWORD *)(v29 + 224 * v15 + 44))
        {
          result = add2Str(a1, a3, a5, "_ISFIRSTINPHR ");
          if ((result & 0x80000000) != 0)
            return result;
          v29 = *(_QWORD *)a7;
        }
        if (*(_DWORD *)(v29 + 224 * v15 + 40))
        {
          result = add2Str(a1, a3, a5, "_ISLASTINPHR ");
          if ((result & 0x80000000) != 0)
            return result;
          v29 = *(_QWORD *)a7;
        }
        if (*(_DWORD *)(v29 + 224 * v15 + 32))
        {
          result = add2Str(a1, a3, a5, "_PHRENDSINCOMMA ");
          if ((result & 0x80000000) != 0)
            return result;
          v29 = *(_QWORD *)a7;
        }
        if (*(_QWORD *)(v29 + 224 * v15 + 96))
        {
          sprintf(a4, "compoundTag=%s ", *(const char **)(v29 + 224 * v15 + 96));
          result = add2Str(a1, a3, a5, a4);
          if ((result & 0x80000000) != 0)
            return result;
          v29 = *(_QWORD *)a7;
        }
        if (*(_DWORD *)(v29 + 224 * v15 + 52))
        {
          sprintf(a4, "domain=%s ");
LABEL_72:
          result = add2Str(a1, a3, a5, a4);
          if ((result & 0x80000000) != 0)
            return result;
        }
      }
      if (!*(_DWORD *)(*(_QWORD *)a7 + 224 * v15 + 48)
        || (result = add2Str(a1, a3, a5, " bPHONETIC "), (result & 0x80000000) == 0))
      {
        if (a9 == 1 && *(_WORD *)(a6 + 72))
        {
          v42 = a5;
          v30 = 0;
          v31 = 0;
          v32 = 4;
          do
          {
            v33 = *(_QWORD *)a7;
            v34 = *(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 56);
            if (v34)
            {
              if (*(_DWORD *)(v34 + v30) != 1)
                goto LABEL_85;
              if (*(_DWORD *)(v34 + v30 + 24) == 1)
                sprintf(a4, "<%s_%s_ext ");
              else
                sprintf(a4, "<%s_%s ");
              result = add2Str(a1, a3, v42, a4);
              if ((result & 0x80000000) != 0)
                return result;
              v33 = *(_QWORD *)a7;
              v34 = *(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 56);
              if (v34)
              {
LABEL_85:
                v35 = v34 + v30;
                if (*(_DWORD *)(v35 + 4) == 1)
                {
                  if (*(_DWORD *)(*(_QWORD *)(v33 + 224 * *(unsigned __int16 *)(v35 + 8) + 56) + v30 + 24) == 1)
                    sprintf(a4, "%s_ext_%s> ");
                  else
                    sprintf(a4, "%s_%s> ");
                  result = add2Str(a1, a3, v42, a4);
                  if ((result & 0x80000000) != 0)
                    return result;
                }
              }
            }
            ++v31;
            v36 = *(unsigned __int16 *)(a6 + 72);
            v30 += 32;
            v32 += 8;
          }
          while (v31 < v36);
          if (*(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 64))
            v37 = (_DWORD)v36 == 0;
          else
            v37 = 1;
          a5 = v42;
          if (!v37)
          {
            v38 = 0;
            v39 = 4;
            do
            {
              v40 = *(const char **)(*(_QWORD *)(*(_QWORD *)a7 + 224 * v15 + 64) + 8 * v38);
              if (v40)
              {
                snprintf(a4, 0x400uLL, "[%s %s] ", (const char *)(*(_QWORD *)(a6 + 528)+ *(unsigned int *)(*(_QWORD *)(a6 + 536)+ 4 * *(unsigned int *)(*(_QWORD *)(a6 + 64) + v39))), v40);
                result = add2Str(a1, a3, v42, a4);
                if ((result & 0x80000000) != 0)
                  return result;
                LOWORD(v36) = *(_WORD *)(a6 + 72);
              }
              ++v38;
              v39 += 8;
            }
            while (v38 < (unsigned __int16)v36);
          }
        }
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s", v25, v26, v27, (uint64_t)*a3);
        result = 0;
        **a3 = 0;
        if (++v15 < (unint64_t)*(unsigned __int16 *)(a7 + 8))
          continue;
      }
      return result;
    }
  }
  return 0;
}

uint64_t printMSTree(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t a4, const char *a5, unsigned int a6, const char **a7, char *a8, _WORD *a9, char *a10, unsigned __int16 a11)
{
  uint64_t v15;
  uint64_t *v16;
  char *v18;
  int v19;
  uint64_t result;
  unsigned int v21;
  uint64_t v22;
  int v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unsigned __int16 v27;
  int v28;
  uint64_t v29;
  BOOL v30;
  int v31;
  char *v32;
  uint64_t v33;
  const char **v34;
  _WORD *v35;
  char *v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  _QWORD *v40;
  const char *v41;
  int v42;
  int v43;
  uint64_t *v44;
  char *__dst;
  uint64_t v46;

  if (!a4)
    return 0;
  v15 = a4;
  v16 = a3;
  v18 = a10;
  kbsymtab_ConsSymString(a3, *(__int16 *)(a4 + 16), a10, a11);
  if (a6)
  {
    v19 = 0;
    *a8 = 0;
    do
    {
      strcat(a8, "  ");
      ++v19;
    }
    while (a6 > (unsigned __int16)v19);
    result = add2Str(a1, a7, a9, a8);
    v18 = a10;
    if ((result & 0x80000000) != 0)
      return result;
  }
  result = add2Str(a1, a7, a9, v18);
  if ((result & 0x80000000) != 0)
    return result;
  result = add2Str(a1, a7, a9, "(");
  if ((result & 0x80000000) != 0)
    return result;
  __dst = v18;
  if (*(__int16 *)(v15 + 24) < 1)
  {
LABEL_18:
    result = add2Str(a1, a7, a9, ")");
    if ((result & 0x80000000) != 0)
      return result;
    if (!*(_QWORD *)(v15 + 8))
    {
      v27 = strlen(a5);
      v28 = *(_DWORD *)(v15 + 56);
      if (v28 > v27)
      {
        *(_DWORD *)(v15 + 56) = v27;
        v28 = v27;
      }
      v29 = *(int *)(v15 + 52);
      if ((int)v29 > v27
        || v28 > v27
        || (v30 = __OFSUB__(v28, (_DWORD)v29), v31 = v28 - v29, (v31 < 0) ^ v30 | (v31 == 0)))
      {
        v36 = "<ERROR>";
        v33 = a1;
        v34 = a7;
        v35 = a9;
      }
      else
      {
        v32 = strncpy(__dst, &a5[v29], (unsigned __int16)(v31 - 1));
        v32[(unsigned __int16)(*(_DWORD *)(v15 + 56) + ~*(_WORD *)(v15 + 52))] = 0;
        sprintf(a8, " <%s>", v32);
        v33 = a1;
        v34 = a7;
        v35 = a9;
        v36 = a8;
      }
      result = add2Str(v33, v34, v35, v36);
      if ((result & 0x80000000) != 0)
        return result;
    }
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s", v24, v25, v26, (uint64_t)*a7);
    **a7 = 0;
    v40 = *(_QWORD **)(v15 + 8);
    if (v40)
    {
      v44 = v16;
      do
      {
        if (a6 && v40 != *(_QWORD **)(v15 + 8))
        {
          v41 = a5;
          v42 = 0;
          *a8 = 0;
          do
          {
            strcat(a8, "  ");
            ++v42;
          }
          while (a6 > (unsigned __int16)v42);
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s,", v37, v38, v39, (uint64_t)a8);
          **a7 = 0;
          a5 = v41;
          v16 = v44;
        }
        LOWORD(v43) = a11;
        result = printMSTree(a1, a2, v16, v40, a5, (unsigned __int16)(a6 + 1), a7, a8, a9, __dst, v43);
        if ((result & 0x80000000) != 0)
          break;
        result = 0;
        v40 = (_QWORD *)*v40;
      }
      while (v40);
      return result;
    }
    return 0;
  }
  v21 = 0;
  v22 = v15 + 26;
  v46 = v15;
  while (1)
  {
    if (v21)
    {
      result = add2Str(a1, a7, a9, ",");
      if ((result & 0x80000000) != 0)
        return result;
    }
    v23 = *(__int16 *)(v22 + 2 * v21);
    if (v23 < 0)
    {
      result = mosyntkbsymtab_AtomSymString(a2, v16, -v23, __dst, a11);
      if ((result & 0x80000000) != 0)
        return result;
      result = add2Str(a1, a7, a9, __dst);
      v15 = v46;
      if ((result & 0x80000000) != 0)
        return result;
    }
    else
    {
      sprintf(a8, "?%d", *(__int16 *)(v22 + 2 * v21));
      result = add2Str(a1, a7, a9, a8);
      if ((result & 0x80000000) != 0)
        return result;
    }
    if (*(__int16 *)(v15 + 24) <= (__int16)++v21)
      goto LABEL_18;
  }
}

uint64_t getStartAndEndFromMSTree(uint64_t a1, _WORD *a2, _WORD *a3, _DWORD *a4)
{
  _QWORD *v7;

  if (a1)
  {
    v7 = *(_QWORD **)(a1 + 8);
    if (v7)
    {
      do
      {
        getStartAndEndFromMSTree(v7, a2, a3, a4);
        v7 = (_QWORD *)*v7;
      }
      while (v7);
    }
    else
    {
      if (!*a4)
      {
        *a2 = *(_DWORD *)(a1 + 52);
        *a4 = 1;
      }
      *a3 = *(_DWORD *)(a1 + 56);
    }
  }
  return 0;
}

uint64_t addMSNode(uint64_t a1, char *__s, __int16 a3, __int16 a4, uint64_t a5)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  __int16 v16;
  uint64_t v17;
  int v18;
  char *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unsigned int v24;

  if (!*(_WORD *)(a5 + 8))
  {
    v17 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 513);
    *(_QWORD *)a5 = v17;
    if (v17)
    {
      v16 = 32;
      goto LABEL_7;
    }
LABEL_10:
    v20 = 2315264010;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v12, v13, v14, v15, v24);
    return v20;
  }
  v10 = *(unsigned __int16 *)(a5 + 10);
  if (*(unsigned __int16 *)(a5 + 8) + 1 < v10)
    goto LABEL_8;
  v11 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)a5, 16 * v10 + 257);
  if (!v11)
    goto LABEL_10;
  *(_QWORD *)a5 = v11;
  v16 = *(_WORD *)(a5 + 10) + 16;
LABEL_7:
  *(_WORD *)(a5 + 10) = v16;
LABEL_8:
  v18 = strlen(__s);
  v19 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v18 + 1));
  *(_QWORD *)(*(_QWORD *)a5 + 16 * *(unsigned __int16 *)(a5 + 8)) = v19;
  if (!v19)
    goto LABEL_10;
  strcpy(v19, __s);
  v20 = 0;
  v21 = *(unsigned __int16 *)(a5 + 8);
  v22 = *(_QWORD *)a5 + 16 * v21;
  *(_WORD *)(v22 + 8) = a3;
  *(_WORD *)(v22 + 10) = a4;
  *(_DWORD *)(v22 + 12) = 1;
  *(_WORD *)(a5 + 8) = v21 + 1;
  return v20;
}

uint64_t printMSNodes(uint64_t a1, char *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  int v8;
  uint64_t result;
  uint64_t v14;
  unint64_t v15;
  uint64_t v16;
  __int16 v17;
  uint64_t v18;
  unsigned int v19;
  size_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;

  v8 = a6;
  result = log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s", a6, a7, a8, a5);
  if (*(_WORD *)(a4 + 8))
  {
    v14 = 0;
    v15 = 0;
    while (1)
    {
      v16 = *(_QWORD *)a4 + v14;
      v17 = *(_WORD *)(v16 + 10);
      v18 = *(unsigned __int16 *)(v16 + 8);
      v19 = (unsigned __int16)(v17 - v18);
      v20 = v19 >= 0x3FF ? 1023 : v19;
      result = (uint64_t)strncpy(a2, (const char *)(a3 + v18), v20);
      a2[v20] = 0;
      if (v8 == 1)
        break;
      if (*(_DWORD *)(*(_QWORD *)a4 + v14 + 12) == 1)
      {
        v24 = *(_QWORD *)(a1 + 32);
        goto LABEL_10;
      }
LABEL_11:
      ++v15;
      v14 += 16;
      if (v15 >= *(unsigned __int16 *)(a4 + 8))
        return result;
    }
    v24 = *(_QWORD *)(a1 + 32);
LABEL_10:
    result = log_OutText(v24, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%d [%d] %s : <%d - %d> <%s>", v21, v22, v23, v15);
    goto LABEL_11;
  }
  return result;
}

uint64_t validateMSNodes(uint64_t a1, uint64_t *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v8;
  unsigned __int16 v9;
  uint64_t v10;
  uint64_t v11;
  int *v12;
  int v13;
  unsigned __int16 v14;

  v8 = *((unsigned __int16 *)a2 + 4);
  if (*((_WORD *)a2 + 4))
  {
    v9 = 0;
    v10 = *a2;
    while (2)
    {
      v11 = v9;
      v12 = (int *)(*a2 + 12 + 16 * v9);
      while (1)
      {
        v13 = *v12;
        v12 += 4;
        if (v13)
          break;
        if (++v11 >= v8)
          goto LABEL_12;
      }
      v14 = v11;
      do
        ++v14;
      while (v8 > v14 && !*(_DWORD *)(v10 + 16 * v14 + 12));
      if (v14 + 1 < v8
        && *(unsigned __int16 *)(v10 + 16 * (unsigned __int16)v11 + 10) != *(unsigned __int16 *)(v10 + 16 * v14 + 8))
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"could not extract from MS tree : node=%d", a6, a7, a8, (unsigned __int16)v11);
        return 2315264000;
      }
LABEL_12:
      v9 = v11 + 1;
      if (v8 > (unsigned __int16)(v11 + 1))
        continue;
      break;
    }
  }
  return 0;
}

uint64_t getWordIdxForMSPhr(uint64_t a1, unsigned __int16 *a2, unsigned int a3, int a4, _WORD *a5, _WORD *a6, uint64_t a7, uint64_t a8)
{
  unsigned int v8;
  unsigned __int16 *v9;
  unint64_t v10;
  uint64_t v11;
  unint64_t v12;
  int v13;
  int v14;

  if (a2[4])
  {
    v8 = 0;
    v9 = (unsigned __int16 *)(*(_QWORD *)a2 + 2);
    v10 = 1;
    while (*(unsigned __int16 *)(*(_QWORD *)a2 + 224 * v8) != a3)
    {
      ++v8;
      ++v10;
      v9 += 112;
      if (v8 >= a2[4])
        goto LABEL_5;
    }
    *a5 = v8;
    *a6 = v8;
    LODWORD(v12) = a2[4];
    if (v8 >= v12)
    {
LABEL_12:
      v11 = 2315264000;
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"cant match MS terminal node with end word : start position=%d start word=%d unknown end=%d", (uint64_t)a6, a7, a8, a3);
    }
    else
    {
      while (1)
      {
        v14 = *v9;
        v9 += 112;
        v13 = v14;
        if (a4 - 1 == v14 || (_DWORD)v10 == (_DWORD)v12 && v13 == a4)
          return 0;
        *a6 = v10;
        v12 = a2[4];
        if (v10++ >= v12)
          goto LABEL_12;
      }
    }
  }
  else
  {
LABEL_5:
    v11 = 2315264000;
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"cant match MS terminal node with start word : start position=%d", (uint64_t)a6, a7, a8, a3);
  }
  return v11;
}

uint64_t mapMSNodes2PHR(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unsigned __int16 v8;
  unsigned __int16 v11;
  uint64_t v12;
  unsigned __int16 *v13;
  uint64_t v14;
  int *v15;
  int v16;
  unint64_t v17;
  unsigned __int16 v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t result;
  int v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  char *v28;
  uint64_t v29;
  uint64_t v30;
  int v31;
  int v32;

  v31 = 0;
  v32 = 0;
  v8 = *(_WORD *)(a2 + 8);
  if (v8)
  {
    v11 = 0;
    v12 = (uint64_t)(a1 + 1);
    v13 = (unsigned __int16 *)(a1 + 84);
    while (2)
    {
      v14 = v11;
      v15 = (int *)(*(_QWORD *)a2 + 16 * v11 + 12);
      while (1)
      {
        v16 = *v15;
        v15 += 4;
        if (v16)
          break;
        if (++v14 >= (unint64_t)v8)
          goto LABEL_24;
      }
      v17 = 0;
      v32 = 0;
      do
      {
        if (v17 >= *((unsigned __int16 *)a1 + 320))
          goto LABEL_19;
        if (*(_DWORD *)(a1[79] + 4 * v17) == 1)
        {
          v18 = strlen(*(const char **)(*(_QWORD *)a2 + 16 * (unsigned __int16)v14));
          result = do_pcre_exec(v12, *(unsigned __int16 *)(*(_QWORD *)(a1[78] + 8 * v17) + 2), *(char **)(*(_QWORD *)a2 + 16 * (unsigned __int16)v14), v18, 0, (uint64_t)&v32, v19, v20);
          if ((result & 0x80000000) != 0)
            return result;
          v22 = v32;
        }
        else if (!strcmp((const char *)(a1[67] + *(unsigned int *)(a1[68] + 4 * **(unsigned int **)(a1[78] + 8 * v17))), *(const char **)(*(_QWORD *)a2 + 16 * (unsigned __int16)v14)))
        {
          v22 = 1;
          v32 = 1;
        }
        else
        {
          v22 = 0;
        }
        v23 = (unsigned __int16)v17++;
      }
      while (!v22);
      if (v22 != 1)
      {
LABEL_19:
        log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"no rules FIRE on \"%s\" -> \"%s\"", a6, a7, a8, *(_QWORD *)(*(_QWORD *)a2 + 16 * (unsigned __int16)v14));
        v28 = "O";
        goto LABEL_21;
      }
      v24 = a1[67];
      v25 = a1[68];
      v26 = *(_QWORD *)(a1[78] + 8 * v23);
      v27 = *(_QWORD *)(*a1 + 32);
      if (*(_DWORD *)(a1[79] + 4 * v23) == 1)
      {
        v28 = (char *)(v24 + *(unsigned int *)(v25 + 4 * *(unsigned int *)(v26 + 8)));
        log_OutText(v27, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"regex rule %d FIRED \"%s\" -> \"%s\"", a6, a7, a8, *(unsigned __int16 *)(v26 + 2));
      }
      else
      {
        v28 = (char *)(v24 + *(unsigned int *)(v25 + 4 * *(unsigned int *)(v26 + 4)));
        log_OutText(v27, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"normal rule FIRED \"%s\" -> \"%s\"", a6, a7, a8, *(_QWORD *)(*(_QWORD *)a2 + 16 * (unsigned __int16)v14));
      }
LABEL_21:
      result = getWordIdxForMSPhr(*a1, v13, *(unsigned __int16 *)(*(_QWORD *)a2 + 16 * (unsigned __int16)v14 + 8), *(unsigned __int16 *)(*(_QWORD *)a2 + 16 * (unsigned __int16)v14 + 10), (_WORD *)&v31 + 1, &v31, v29, v30);
      if ((result & 0x80000000) != 0)
        return result;
      result = addPHRRange(*a1, HIWORD(v31), (unsigned __int16)v31, v28, v13);
      if ((result & 0x80000000) != 0)
        return result;
      v8 = *(_WORD *)(a2 + 8);
LABEL_24:
      v11 = v14 + 1;
      if ((unsigned __int16)(v14 + 1) < v8)
        continue;
      break;
    }
  }
  return 0;
}

uint64_t sortMSNodes(uint64_t a1, uint64_t *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unint64_t v13;
  unint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unsigned int v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  unint64_t v21;
  unsigned __int16 v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t result;
  const char *v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unsigned int v34;
  unsigned __int16 v35;
  _DWORD *v36;
  unsigned __int16 v37;
  _DWORD *v38;
  int v39;
  unsigned int v40;
  uint64_t v41;
  unsigned __int16 *v42;
  uint64_t v43;
  _DWORD *v44;
  unsigned int v45;
  unsigned int v48;
  unsigned int v49;
  unsigned int v50;
  int v51;

  v51 = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Sort MS Nodes Pass 1 : constrain nodes containing primitives", a6, a7, a8, 0);
  LODWORD(v13) = *((unsigned __int16 *)a2 + 4);
  if (*((_WORD *)a2 + 4))
  {
    v14 = 0;
    v15 = 0;
    v50 = 0;
    do
    {
      v16 = *a2 + 16 * v14;
      if (*(_DWORD *)(v16 + 12) == 1)
      {
        v17 = *(unsigned __int16 *)(v16 + 8);
        v18 = *(unsigned __int16 *)(v16 + 10);
        if (*(unsigned __int16 *)(a1 + 16) >= 2u)
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"doing node %d", v10, v11, v12, v15);
          LODWORD(v13) = *((unsigned __int16 *)a2 + 4);
        }
        if ((_DWORD)v13)
        {
          v19 = 0;
          v48 = v18;
          v49 = v17;
          while (1)
          {
            if (v14 != v19)
            {
              v20 = *a2 + 16 * v19;
              if (*(_DWORD *)(v20 + 12) == 1
                && *(unsigned __int16 *)(v20 + 8) >= v17
                && *(unsigned __int16 *)(*a2 + 16 * v19 + 10) <= v18)
              {
                break;
              }
            }
LABEL_32:
            ++v19;
            v13 = *((unsigned __int16 *)a2 + 4);
            if (v19 >= v13)
              goto LABEL_33;
          }
          if (*(unsigned __int16 *)(a1 + 16) >= 2u)
            log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"checking node %d apply %d basicdef rules", v10, v11, v12, v19);
          v21 = 0;
          v51 = 0;
          do
          {
            if (v21 >= *(unsigned __int16 *)(a1 + 616))
            {
              v18 = v48;
              v17 = v49;
              goto LABEL_32;
            }
            if (*(_DWORD *)(*(_QWORD *)(a1 + 608) + 4 * v21) == 1)
            {
              v22 = strlen(*(const char **)(*a2 + 16 * v19));
              result = do_pcre_exec(a1 + 8, *(unsigned __int16 *)(*(_QWORD *)(*(_QWORD *)(a1 + 600) + 8 * v21) + 2), *(char **)(*a2 + 16 * v19), v22, 0, (uint64_t)&v51, v23, v24);
              if ((result & 0x80000000) != 0)
                return result;
              v50 = result;
              if (*(unsigned __int16 *)(a1 + 16) >= 2u)
              {
                v26 = "NOMATCH ";
                if (v51 == 1)
                  v26 = "FIRED ";
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           %sbasicDef: rule %d : regexNum %d [%s] target %s", v10, v11, v12, (uint64_t)v26);
              }
            }
            else if (!strcmp((const char *)(*(_QWORD *)(a1 + 536)+ *(unsigned int *)(*(_QWORD *)(a1 + 544)+ 4 * **(unsigned int **)(*(_QWORD *)(a1 + 600) + 8 * v21))), *(const char **)(*a2 + 16 * v19)))
            {
              v51 = 1;
              if (*(unsigned __int16 *)(a1 + 16) >= 2u)
                log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           basicDef: rule %d %s matched string with rule %s", v10, v11, v12, v21);
            }
            else if (*(unsigned __int16 *)(a1 + 16) >= 2u)
            {
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"           basicDef: rule %d %s does not match string %s", v10, v11, v12, v21);
            }
            ++v21;
          }
          while (!v51);
          v18 = v48;
          v17 = v49;
          if (v51 != 1)
            goto LABEL_32;
          v27 = *(_QWORD *)(*(_QWORD *)a1 + 32);
          if (*(unsigned __int16 *)(*a2 + 16 * v14 + 8) == *(unsigned __int16 *)(*a2 + 16 * v19 + 8))
          {
            log_OutText(v27, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"BLOCK decrease node %d from %d to %d, since matches entire node", v10, v11, v12, v15);
            goto LABEL_32;
          }
          log_OutText(v27, (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"decrease node %d from %d to %d", v10, v11, v12, v15);
          *(_WORD *)(*a2 + 16 * v14 + 10) = *(_WORD *)(*a2 + 16 * v19 + 8);
          LODWORD(v13) = *((unsigned __int16 *)a2 + 4);
        }
      }
LABEL_33:
      v15 = ++v14;
    }
    while (v14 < v13);
  }
  else
  {
    v50 = 0;
  }
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Sort MS Nodes Pass 2 : delete consumed nodes", v10, v11, v12, 0);
  v28 = *((unsigned __int16 *)a2 + 4);
  if (*((_WORD *)a2 + 4))
  {
    v29 = 0;
    v30 = *a2;
    v31 = *a2 + 12;
    do
    {
      v32 = v30 + 16 * v29;
      if (*(_DWORD *)(v32 + 12) == 1)
      {
        v33 = 0;
        v34 = *(unsigned __int16 *)(v32 + 8);
        v35 = *(_WORD *)(v32 + 10);
        v36 = (_DWORD *)v31;
        v37 = v29;
        v38 = (_DWORD *)v31;
        do
        {
          v39 = *v38;
          v38 += 4;
          if (v39 == 1 && *((unsigned __int16 *)v36 - 2) == v34)
          {
            v40 = *((unsigned __int16 *)v36 - 1);
            if (v40 > v35)
            {
              v35 = v40;
              v37 = v33;
            }
          }
          ++v33;
          v36 = v38;
        }
        while (v28 != v33);
        v41 = v37;
        v42 = (unsigned __int16 *)(v30 + 16 * v37 + 10);
        v43 = v28;
        v44 = (_DWORD *)v31;
        do
        {
          v45 = *((unsigned __int16 *)v44 - 2);
          if (v45 == v34 && *v44 == 1 && v41 != 0)
            *v44 = 0;
          if (v45 > v34 && *v44 == 1 && *((unsigned __int16 *)v44 - 1) <= *v42 && v41 != 0)
            *v44 = 0;
          v44 += 4;
          --v41;
          --v43;
        }
        while (v43);
      }
      ++v29;
    }
    while (v29 != v28);
  }
  return v50;
}

_QWORD *freeMSNodes(_QWORD *result, uint64_t a2)
{
  _QWORD *v3;
  int v4;
  uint64_t v5;
  uint64_t v6;
  unint64_t v7;

  v3 = result;
  v4 = *(unsigned __int16 *)(a2 + 8);
  v5 = *(_QWORD *)a2;
  if (v4)
  {
    v6 = 0;
    v7 = 0;
    do
    {
      heap_Free((_QWORD *)v3[1], *(_QWORD *)(v5 + v6));
      v5 = *(_QWORD *)a2;
      *(_QWORD *)(*(_QWORD *)a2 + v6) = 0;
      ++v7;
      v6 += 16;
    }
    while (v7 < *(unsigned __int16 *)(a2 + 8));
    goto LABEL_6;
  }
  if (v5)
  {
LABEL_6:
    result = heap_Free((_QWORD *)v3[1], v5);
    *(_QWORD *)a2 = 0;
  }
  *(_DWORD *)(a2 + 8) = 0;
  return result;
}

uint64_t extractFromMSTree(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t a4, char *a5, int a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, char *a11, unsigned __int16 a12)
{
  unint64_t v17;
  unsigned __int16 v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t result;
  int v22;
  _QWORD *v23;
  uint64_t v24;
  unsigned __int16 v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  int v29;
  uint64_t v30;
  int v31;
  uint64_t v32;
  uint64_t v33;
  int v36;
  int v37;
  int v38;

  if (!a4)
    return 0;
  HIDWORD(v33) = a6;
  kbsymtab_ConsSymString(a3, *(__int16 *)(a4 + 16), a11, a12);
  v17 = 0;
  v38 = 0;
  while (v17 < *(unsigned __int16 *)(a1 + 592))
  {
    if (*(_DWORD *)(*(_QWORD *)(a1 + 584) + 4 * v17) == 1)
    {
      v18 = strlen(a11);
      result = do_pcre_exec(a1 + 8, *(unsigned __int16 *)(*(_QWORD *)(*(_QWORD *)(a1 + 576) + 8 * v17) + 2), a11, v18, 0, (uint64_t)&v38, v19, v20);
      if ((result & 0x80000000) != 0)
        return result;
      v22 = v38;
    }
    else if (!strcmp((const char *)(*(_QWORD *)(a1 + 536)+ *(unsigned int *)(*(_QWORD *)(a1 + 544)+ 4 * **(unsigned int **)(*(_QWORD *)(a1 + 576) + 8 * v17))), a11))
    {
      v22 = 1;
      v38 = 1;
    }
    else
    {
      v22 = 0;
    }
    ++v17;
    if (v22)
    {
      if (v22 == 1)
      {
        v36 = 0;
        v37 = 0;
        getStartAndEndFromMSTree(a4, (_WORD *)&v37 + 1, &v37, &v36);
        result = addMSNode(*(_QWORD *)a1, a11, SHIWORD(v37), v37, a10);
        if ((result & 0x80000000) != 0)
          return result;
      }
      break;
    }
  }
  v23 = *(_QWORD **)(a4 + 8);
  if (v23)
  {
    v24 = (unsigned __int16)(WORD2(v33) + 1);
    do
    {
      LOWORD(v33) = a12;
      result = extractFromMSTree(a1, a2, a3, v23, a5, v24, a7, a8, a9, a10, a11, v33);
      if ((result & 0x80000000) != 0)
        break;
      v23 = (_QWORD *)*v23;
    }
    while (v23);
  }
  else
  {
    v25 = strlen(a5);
    v29 = *(_DWORD *)(a4 + 56);
    if (v29 > v25)
    {
      *(_DWORD *)(a4 + 56) = v25;
      v29 = v25;
    }
    v30 = *(unsigned int *)(a4 + 52);
    if ((int)v30 > v25 || v29 > v25 || v29 <= (int)v30)
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"error extracting from MS tree : OUTOFRANGE s32StartPos=%d s32EndPos=%d len=%d", v26, v27, v28, v30);
      return 2315264000;
    }
    else
    {
      if (v29 - (_DWORD)v30 == 1)
      {
        v31 = 0;
      }
      else
      {
        if (utf8_BelongsToSet(0, a5, v29 - 1, v25))
          v31 = -1;
        else
          v31 = 0;
        LODWORD(v30) = *(_DWORD *)(a4 + 52);
        v29 = *(_DWORD *)(a4 + 56);
      }
      strncpy(a11, &a5[(int)v30], (unsigned __int16)(v31 - v30 + v29));
      a11[*(_DWORD *)(a4 + 56) + v31 - *(_DWORD *)(a4 + 52)] = 0;
      v32 = addMSNode(*(_QWORD *)a1, a11, *(_WORD *)(a4 + 52), *(_WORD *)(a4 + 56), a10);
      result = 0;
      if ((v32 & 0x80000000) != 0)
        return v32;
    }
  }
  return result;
}

uint64_t setNNPausingDefault(uint64_t a1, char **a2, char *__s)
{
  _QWORD *v6;
  int v7;
  char *v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unsigned int v14;

  v6 = *(_QWORD **)(a1 + 8);
  v7 = strlen(__s);
  v8 = (char *)heap_Calloc(v6, 1, (v7 + 1));
  *a2 = v8;
  if (v8)
  {
    strcpy(v8, __s);
    return 0;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v9, v10, v11, v12, v14);
    return 2315264010;
  }
}

uint64_t getStartOfOrthPunc(const char *a1, _DWORD *a2)
{
  unsigned __int16 v4;
  unsigned __int16 v5;
  __int16 v6;
  unsigned int v7;
  BOOL v8;
  unint64_t v9;

  v4 = strlen(a1);
  *a2 = 0;
  if (v4)
  {
    v5 = 0;
    while (1)
    {
      v6 = utf8_determineUTF8CharLength(a1[v5]);
      v7 = a1[v5];
      if (v6 == 1 && v7 == 44)
        break;
      v8 = v7 > 0x3F;
      v9 = (1 << v7) & 0x8C00430200000000;
      if (!v8 && v9 != 0)
        break;
      v5 += v6;
      if (v5 >= v4)
        return v4;
    }
    *a2 = 1;
  }
  else
  {
    return v4;
  }
  return v5;
}

uint64_t getSentenceData(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t *a7, uint64_t a8)
{
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unsigned __int16 v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  char *v32;
  uint64_t v33;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  size_t v38;
  unsigned int v39;
  unint64_t v40;
  uint64_t v41;
  int v42;
  uint64_t POSString;
  unsigned __int16 v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  const char *v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  int v52;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  uint64_t v76;
  uint64_t v77;
  uint64_t v78;
  uint64_t v79;
  uint64_t v80;
  uint64_t v81;
  _QWORD *v82;
  int v83;
  unsigned __int16 v84;
  unsigned __int16 v85;
  unsigned int v86;
  uint64_t v87;
  uint64_t v88;
  unsigned __int16 v89;
  int v91;
  uint64_t v92;
  int v93;
  int v95;
  unsigned __int16 v96;
  int v97;
  int v98;
  unint64_t v99;
  uint64_t v100;
  uint64_t v101;
  const char *v102;
  int v103;
  uint64_t v104;
  uint64_t v105;
  uint64_t v106;
  unsigned int StartOfOrthPunc;
  unsigned int v108;
  int v109;
  char *v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  _WORD *v116;
  uint64_t v117;
  uint64_t v118;
  char **v119;
  uint64_t v120;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  uint64_t v124;
  uint64_t v125;
  uint64_t v126;
  uint64_t v127;
  uint64_t v128;
  uint64_t v129;
  uint64_t v130;
  uint64_t v131;
  uint64_t v132;
  uint64_t v133;
  uint64_t v134;
  uint64_t v135;
  uint64_t v136;
  uint64_t v137;
  uint64_t v138;
  uint64_t v139;
  uint64_t v140;
  uint64_t v141;
  uint64_t v142;
  uint64_t v143;
  uint64_t v144;
  uint64_t v145;
  uint64_t v146;
  uint64_t v147;
  uint64_t v148;
  uint64_t v149;
  uint64_t v150;
  uint64_t v151;
  uint64_t v152;
  uint64_t v153;
  uint64_t v154;
  uint64_t v155;
  uint64_t v156;
  uint64_t v157;
  uint64_t v158;
  uint64_t v159;
  uint64_t v160;
  uint64_t v161;
  uint64_t v162;
  uint64_t v163;
  uint64_t v164;
  uint64_t v165;
  uint64_t v166;
  uint64_t v167;
  uint64_t v168;
  uint64_t v169;
  uint64_t v170;
  uint64_t v171;
  uint64_t v172;
  uint64_t v173;
  uint64_t v174;
  uint64_t v175;
  uint64_t v176;
  uint64_t v177;
  uint64_t v178;
  unsigned int v179;
  unsigned int v180;
  const char **v181;
  _WORD *v182;
  unsigned __int16 v183;
  int v184;
  uint64_t v185;
  char *v186;
  const char **v187;
  uint64_t v188;
  uint64_t *v189;
  __int16 v190;
  char *__s;
  int v192;
  unsigned __int16 v193;
  uint64_t v194[2];
  uint64_t v195;
  char *v196;
  int v197;
  char *v198;
  const char *v199;
  const char *v200;
  unsigned int v201;
  int v202;
  uint64_t v203;
  char *v204;
  __int16 v205;
  unsigned __int16 v206[6];

  *(_DWORD *)v206 = 0;
  v205 = 0;
  v203 = 0;
  v204 = 0;
  v201 = 0;
  v202 = 0;
  v199 = 0;
  v200 = 0;
  v198 = 0;
  v197 = 0;
  v195 = 0;
  v196 = 0;
  v193 = 0;
  v192 = 0;
  v194[0] = 0;
  v194[1] = 0;
  *(_DWORD *)(a6 + 1108) = log_GetLogLevel(*(_QWORD *)(a1 + 32)) > 4;
  v16 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a3 + 104))(a4, a5, 1, 0, &v206[1]);
  if ((v16 & 0x80000000) != 0)
    return v16;
  v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a3 + 184))(a4, a5, v206[1], 0, &v205);
  if ((v17 & 0x80000000) == 0 && v205 == 1)
  {
    v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a3 + 176))(a4, a5, v206[1], 0, &v204, &v202);
    if ((v17 & 0x80000000) == 0 && (unsigned __int16)v202 >= 2u)
    {
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Method PandP : processing=\"%s\"", v18, v19, v20, (uint64_t)v204);
      v21 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 1024);
      *(_QWORD *)(a6 + 1088) = v21;
      if (v21
        && (*(_WORD *)(a6 + 1104) = 1024,
            v26 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 1024),
            (*(_QWORD *)(a6 + 1096) = v26) != 0))
      {
        v27 = strlen(v204) + 1;
        v32 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v27);
        if (v32)
        {
          v183 = v27;
          v33 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a3 + 104))(a4, a5, 2, v206[1], v206);
          if ((v33 & 0x80000000) == 0)
          {
            v184 = 0;
            v181 = (const char **)(a6 + 1088);
            v182 = (_WORD *)(a6 + 1104);
            v17 = 2315271857;
            v188 = a6 + 8;
            v189 = (uint64_t *)(a6 + 672);
            v185 = a2;
            v186 = v32;
            while (v206[0])
            {
              v33 = (*(uint64_t (**)(uint64_t, uint64_t))(a3 + 168))(a4, a5);
              if ((v33 & 0x80000000) != 0)
                goto LABEL_60;
              if (v201 <= 0xA && ((1 << v201) & 0x610) != 0)
              {
                v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a3 + 168))(a4, a5, v206[0], 1, 1, &v197, &v202);
                if ((v33 & 0x80000000) != 0)
                  goto LABEL_60;
                v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a3 + 168))(a4, a5, v206[0], 2, 1, (char *)&v197 + 2, &v202);
                if ((v33 & 0x80000000) != 0)
                  goto LABEL_60;
                if ((unsigned __int16)v197 > HIWORD(v197))
                  goto LABEL_61;
                v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, int *))(a3 + 176))(a4, a5, v206[0], 3, &v199, &v202);
                if ((v33 & 0x80000000) != 0)
                  goto LABEL_60;
                strncpy(v32, &v204[(unsigned __int16)v197], HIWORD(v197) - (unint64_t)(unsigned __int16)v197);
                v32[HIWORD(v197) - (unsigned __int16)v197] = 0;
                if (HIWORD(v197) == (unsigned __int16)v197)
                {
                  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"WARNING! : IGNORE EMPTY WORD lingdb position %d,%d", v35, v36, v37, HIWORD(v197));
                }
                else
                {
                  __s = 0;
                  v190 = 0;
                  v38 = strlen(v32);
                  if (v38 && (v39 = v32[v38 - 1], v39 <= 0x3B))
                    v40 = (0x3FFEFFFFFFFFFFFuLL >> v39) & 1;
                  else
                    LOBYTE(v40) = 1;
                  v41 = addWord(a1, v186, &v197, v199, v188, (uint64_t)v189);
                  if ((v41 & 0x80000000) != 0)
                  {
LABEL_72:
                    v17 = v41;
LABEL_166:
                    v32 = v186;
                    goto LABEL_61;
                  }
                  v42 = *(unsigned __int16 *)(a6 + 680);
                  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a3 + 184))(a4, a5, v206[0], 8, &v205) & 0x80000000) == 0&& v205 == 1)
                  {
                    v16 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(a3 + 168))(a4, a5, v206[0], 8, 1, &v190, &v202);
                    if ((v16 & 0x80000000) != 0)
                      return v16;
                  }
                  if (v190)
                    *(_DWORD *)(*(_QWORD *)(a6 + 672) + 224 * *(unsigned __int16 *)(a6 + 680) - 8) = 2;
                  if ((v40 & 1) == 0)
                    *(_DWORD *)(*(_QWORD *)(a6 + 672) + 224 * *(unsigned __int16 *)(a6 + 680) - 196) = 1;
                  POSString = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a3 + 184))(a4, a5, v206[0], 14, &v205);
                  if ((POSString & 0x80000000) != 0)
                    goto LABEL_165;
                  v44 = v42 - 1;
                  if (v205)
                  {
                    if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a3 + 176))(a4, a5, v206[0], 14, &__s, &v202) & 0x80000000) == 0)
                    {
                      v192 = 1;
                      POSString = parse_NLU_string((uint64_t *)a6, __s, (unsigned __int16)(v42 - 1), v42, &v192, a8);
                      if ((POSString & 0x80000000) != 0)
                        goto LABEL_165;
                    }
                  }
                  POSString = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a3 + 176))(a4, a5, v206[0], 5, &v198, &v202);
                  if ((POSString & 0x80000000) != 0)
                    goto LABEL_165;
                  a2 = v185;
                  v184 = v192;
                  if (!v192)
                  {
                    v41 = addMSPOS(a1, v44, v198, v188, v189);
                    if ((v41 & 0x80000000) != 0)
                      goto LABEL_72;
                  }
                  v41 = checkMSPOSForCompound(a1, v44, v198, v188, v189);
                  if ((v41 & 0x80000000) != 0)
                    goto LABEL_72;
                  v32 = v186;
                }
              }
              v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a3 + 120))(a4, a5, v206[0], v206);
              if ((v33 & 0x80000000) != 0)
                goto LABEL_60;
            }
            expandAndValidateCompounds(a1, v189, v188);
            v33 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a3 + 104))(a4, a5, 2, v206[1], v206);
            if ((v33 & 0x80000000) != 0)
              goto LABEL_60;
            while (v206[0])
            {
              v33 = (*(uint64_t (**)(uint64_t, uint64_t))(a3 + 168))(a4, a5);
              if ((v33 & 0x80000000) != 0)
                goto LABEL_60;
              if (v201 == 6)
              {
                v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a3 + 168))(a4, a5, v206[0], 1, 1, &v197, &v202);
                a2 = v185;
                if ((v33 & 0x80000000) != 0)
                  goto LABEL_60;
                v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a3 + 168))(a4, a5, v206[0], 2, 1, (char *)&v197 + 2, &v202);
                if ((v33 & 0x80000000) != 0)
                  goto LABEL_60;
                if ((unsigned __int16)v197 > HIWORD(v197))
                  goto LABEL_61;
                v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, int *))(a3 + 176))(a4, a5, v206[0], 4, &v200, &v202);
                if ((v33 & 0x80000000) != 0)
                  goto LABEL_60;
                v48 = v200;
                if (strcmp(v200, "_PR_"))
                {
                  v51 = addToken(a1, (unsigned __int16 *)&v197, v48, v188, v189, a8, v49, v50);
                  if ((v51 & 0x80000000) != 0 && (_DWORD)v51 != -1979703296)
                  {
                    v17 = v51;
                    a2 = v185;
                    goto LABEL_61;
                  }
                }
              }
              v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a3 + 120))(a4, a5, v206[0], v206);
              a2 = v185;
              if ((v33 & 0x80000000) != 0)
                goto LABEL_60;
            }
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Added words from lingdb", v45, v46, v47, 0);
            v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(a3 + 176))(a4, a5, v206[1], 1, &v203, (char *)&v202 + 2);
            if ((v17 & 0x80000000) != 0)
              goto LABEL_61;
            if (!v184 && *(_DWORD *)(a6 + 568) == 1)
            {
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"USE MS - get PHR from MS tree", v54, v55, v56, 0);
              v16 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a3 + 176))(a4, a5, v206[1], 2, &v196, &v202);
              if ((v16 & 0x80000000) != 0)
                return v16;
              if (!a7)
              {
                log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"empty symbol table for MS rules", v57, v58, v59, 0);
                return 2315264000;
              }
              mosynt_StringToSyntTree(v185, a7, v196, &v195);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              POSString = printMSTree(a1, v185, a7, v195, v204, 0, v181, *(char **)(a6 + 1096), v182, v186, v183);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              POSString = extractFromMSTree(a6, v185, a7, v195, v204, 0, (uint64_t)v181, *(_QWORD *)(a6 + 1096), (uint64_t)v182, (uint64_t)v194, v186, v183);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              printMSNodes(a1, *(char **)(a6 + 1096), (uint64_t)v204, (uint64_t)v194, (uint64_t)"START", 1, v60, v61);
              POSString = sortMSNodes(a6, v194, v62, v63, v64, v65, v66, v67);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              printMSNodes(a1, *(char **)(a6 + 1096), (uint64_t)v204, (uint64_t)v194, (uint64_t)"END", 0, v68, v69);
              POSString = validateMSNodes(a1, v194, v70, v71, v72, v73, v74, v75);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              POSString = mapMSNodes2PHR((uint64_t *)a6, (uint64_t)v194, v76, v77, v78, v79, v80, v81);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              freeMSNodes((_QWORD *)a1, (uint64_t)v194);
              v17 = 0;
            }
            v82 = (_QWORD *)(a6 + 8);
            if (HIWORD(v202))
            {
              v83 = 0;
              v84 = 0;
              do
              {
                if (*(_DWORD *)(v203 + 32 * v84) == 21
                  && getDomainFromPausingDefs((uint64_t)v82, *(char **)(v203 + 32 * v84 + 24), &v193) == 1)
                {
                  v85 = v84 + 1;
                  v86 = HIWORD(v202);
                  if (HIWORD(v202) <= (unsigned __int16)(v84 + 1))
                  {
LABEL_94:
                    setDomainOnWord((unsigned __int16 **)v189, (unsigned __int16)(*(_WORD *)(v203 + 32 * v84 + 12) - *(_DWORD *)(v203 + 12)), *(unsigned __int16 *)(v203 + 16), v193);
                  }
                  else
                  {
                    v87 = v203;
                    v187 = (const char **)(v203 + 32 * v84 + 24);
                    while (1)
                    {
                      v88 = v85;
                      if (*(_DWORD *)(v87 + 32 * v85) == 21)
                      {
                        if (strcmp(*v187, *(const char **)(v87 + 32 * v85 + 24)))
                          break;
                      }
                      v85 = v88 + 1;
                      if (v86 <= (unsigned __int16)(v88 + 1))
                        goto LABEL_94;
                    }
                    setDomainOnWord((unsigned __int16 **)v189, (unsigned __int16)(*(_WORD *)(v203 + 32 * v84 + 12) - *(_DWORD *)(v203 + 12)), (unsigned __int16)(*(_WORD *)(v203 + 32 * v88 + 12) - *(_DWORD *)(v203 + 12)), v193);
                    v84 = v88 - ((_DWORD)v88 + 1 != v83);
                  }
                  v82 = (_QWORD *)(a6 + 8);
                }
                v83 = ++v84;
                v89 = HIWORD(v202);
              }
              while (v84 < HIWORD(v202));
              if (HIWORD(v202))
              {
                v91 = 0;
                do
                {
                  v92 = (unsigned __int16)v91;
                  if (*(_DWORD *)(v203 + 32 * (unsigned __int16)v91) == 34)
                  {
                    if ((unsigned __int16)++v91 >= v89)
                      goto LABEL_113;
                    do
                    {
                      v93 = *(_DWORD *)(v203 + 32 * (unsigned __int16)v91);
                      if (v93 != 21)
                        ++v91;
                    }
                    while ((unsigned __int16)v91 < v89 && v93 != 21);
                    if (v93 == 21)
                    {
                      v97 = *(_DWORD *)(v203 + 32 * v92 + 12);
                      v98 = *(_DWORD *)(v203 + 12);
                      v96 = v97 - v98;
                      v95 = *(_DWORD *)(v203 + 32 * (unsigned __int16)v91 + 12) - v98;
                    }
                    else
                    {
LABEL_113:
                      v95 = *(_DWORD *)(v203 + 16);
                      v96 = *(_DWORD *)(v203 + 32 * v92 + 12) - *(_DWORD *)(v203 + 12);
                    }
                    setPhoneticRange((unsigned __int16 **)v189, v96, (unsigned __int16)v95);
                  }
                  ++v91;
                  v89 = HIWORD(v202);
                }
                while (HIWORD(v202) > (unsigned __int16)v91);
              }
            }
            if ((_DWORD)a8 == 1)
            {
              if (*(_WORD *)(a6 + 680))
              {
                v99 = 0;
                v100 = 168;
                do
                {
                  v101 = *v189;
                  v102 = *(const char **)(*v189 + v100 + 8);
                  if (!v102)
                    goto LABEL_126;
                  v103 = strcmp(v102, "COMP]");
                  if (v100 != 168 && !v103)
                  {
                    v104 = v101 + 224 * (v99 - 1);
                    v105 = *(_QWORD *)(v104 + 176);
                    if (v105)
                    {
                      if (!strcmp(*(const char **)(v104 + 176), "COMP]"))
                      {
                        heap_Free(*(_QWORD **)(a1 + 8), v105);
                        v106 = *v189 + 224 * (v99 - 1);
                        *(_QWORD *)(v106 + 176) = 0;
                        setNNPausingDefault(a1, (char **)(v106 + 176), "-");
                        v101 = *v189;
                        if (!*(_QWORD *)(*v189 + v100 + 8))
                        {
LABEL_126:
                          setNNPausingDefault(a1, (char **)(v101 + v100 + 8), "-");
                          v101 = *v189;
                        }
                      }
                    }
                  }
                  if (!*(_QWORD *)(v101 + v100))
                  {
                    setNNPausingDefault(a1, (char **)(v101 + v100), "-");
                    v101 = *v189;
                  }
                  LODWORD(__s) = 0;
                  StartOfOrthPunc = getStartOfOrthPunc(*(const char **)(*(_QWORD *)(v101 + v100 - 152)+ 8 * *(unsigned __int16 *)(a6 + 24)), &__s);
                  if ((_DWORD)__s == 1)
                  {
                    v108 = StartOfOrthPunc;
                    v109 = strlen((const char *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a6 + 672) + v100 - 152)
                                                           + 8 * *(unsigned __int16 *)(a6 + 24))
                                               + StartOfOrthPunc));
                    v110 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v109 + 1));
                    v115 = *(_QWORD *)(a6 + 672) + v100;
                    *(_QWORD *)(v115 + 40) = v110;
                    if (!v110)
                      goto LABEL_168;
                    strcpy(v110, (const char *)(*(_QWORD *)(*(_QWORD *)(v115 - 152) + 8 * *(unsigned __int16 *)(a6 + 24)) + v108));
                  }
                  else
                  {
                    v116 = (_WORD *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 2);
                    *(_QWORD *)(*v189 + v100 + 40) = v116;
                    if (!v116)
                    {
LABEL_168:
                      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v111, v112, v113, v114, v180);
                      return 2315264010;
                    }
                    *v116 = 88;
                  }
                  v117 = *v189;
                  v118 = *v189 + v100;
                  v120 = *(_QWORD *)(v118 + 16);
                  v119 = (char **)(v118 + 16);
                  if (!v120)
                  {
                    setNNPausingDefault(a1, v119, "X");
                    v117 = *v189;
                  }
                  if (!*(_QWORD *)(v117 + v100 + 24))
                  {
                    setNNPausingDefault(a1, (char **)(v117 + v100 + 24), "X");
                    v117 = *v189;
                  }
                  if (!*(_QWORD *)(v117 + v100 + 32))
                    setNNPausingDefault(a1, (char **)(v117 + v100 + 32), "X");
                  ++v99;
                  v100 += 224;
                }
                while (v99 < *(unsigned __int16 *)(a6 + 680));
              }
              POSString = printSent(a1, *(_DWORD *)(a6 + 1108), v181, *(char **)(a6 + 1096), v182, v188, (uint64_t)v189, (uint64_t)"At Start of NN Phrasing", 1);
              if ((POSString & 0x80000000) == 0)
              {
                heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v186);
                return 0;
              }
              goto LABEL_165;
            }
            if (*v82)
            {
              POSString = printSent(a1, *(_DWORD *)(a6 + 1108), v181, *(char **)(a6 + 1096), v182, (uint64_t)v82, (uint64_t)v189, (uint64_t)"At Start", a8);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              POSString = resolvePHR((uint64_t)v204, a1, v188, (uint64_t)v189, a8, v121, v122, v123);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              POSString = printSent(a1, *(_DWORD *)(a6 + 1108), v181, *(char **)(a6 + 1096), v182, v188, (uint64_t)v189, (uint64_t)"Initialized data", a8);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              POSString = createPOSString(a1, v188, (uint64_t)v189);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Created POS string for retagging : \"%s\"", v124, v125, v126, *(_QWORD *)(a6 + 688));
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"do retagging", v127, v128, v129, 0);
              POSString = doRetagging(*(unsigned int *)(a6 + 1108), v181, v182, *(char **)(a6 + 1096), a1, v188, (uint64_t)v189, v130);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              POSString = printAsChunks(*(unsigned int *)(a6 + 1108), v181, v182, v188, v189, v131, v132, v133);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"do subtagging", v134, v135, v136, 0);
              POSString = doSubtagging(*(unsigned int *)(a6 + 1108), v181, v182, *(char **)(a6 + 1096), a1, v188, (uint64_t)v189, v137);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              v138 = *(_QWORD *)(a6 + 688);
              if (v138)
              {
                heap_Free(*(_QWORD **)(a1 + 8), v138);
                *(_QWORD *)(a6 + 688) = 0;
                heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(a6 + 696));
                *(_QWORD *)(a6 + 696) = 0;
              }
              POSString = createPOSString(a1, v188, (uint64_t)v189);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"set phrase type", v139, v140, v141, 0);
              POSString = setPhraseType(*(unsigned int *)(a6 + 1108), v181, v182, *(char **)(a6 + 1096), a1, v188, (uint64_t)v189, (uint64_t)v204);
              if ((POSString & 0x80000000) != 0)
                goto LABEL_165;
              v145 = *(_QWORD *)(a6 + 688);
              if (v145)
              {
                heap_Free(*(_QWORD **)(a1 + 8), v145);
                *(_QWORD *)(a6 + 688) = 0;
                heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(a6 + 696));
                *(_QWORD *)(a6 + 696) = 0;
              }
              if (*(_QWORD *)(a6 + 816) || *(_QWORD *)(a6 + 760))
              {
                log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"skip extending PHR containing token tags", v142, v143, v144, 0);
              }
              else
              {
                log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"extend PHR containing token tags", v142, v143, v144, 0);
                POSString = extendPHRContainingTokenTags(a6, v172, v173, v174, v175, v176, v177, v178);
                if ((POSString & 0x80000000) != 0
                  || (POSString = annotateTokenTypeOnEachWord(a6), (POSString & 0x80000000) != 0)
                  || (POSString = printSent(a1, *(_DWORD *)(a6 + 1108), v181, *(char **)(a6 + 1096), v182, v188, (uint64_t)v189, (uint64_t)"After token tag extension", a8), (POSString & 0x80000000) != 0))
                {
LABEL_165:
                  v17 = POSString;
                  a2 = v185;
                  goto LABEL_166;
                }
              }
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"assign token tags", v146, v147, v148, 0);
              POSString = assignTokenTags(a6, v149, v150, v151, v152, v153, v154, v155);
              if ((POSString & 0x80000000) == 0)
              {
                log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"assign token POS", v156, v157, v158, 0);
                POSString = assignTokenPOS(a6, v159, v160, v161, v162, v163, v164, v165);
                if ((POSString & 0x80000000) == 0)
                {
                  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"creating working lists (regex domains)", v166, v167, v168, 0);
                  POSString = createLists(a1, v188, v189);
                  if ((POSString & 0x80000000) == 0)
                  {
                    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"get phon weights (nsyll)", v169, v170, v171, 0);
                    getPhonWeights((unsigned __int16 *)v189);
                    POSString = printSent(a1, *(_DWORD *)(a6 + 1108), v181, *(char **)(a6 + 1096), v182, v188, (uint64_t)v189, (uint64_t)"AFTER GET PHON WEIGHTS", a8);
                  }
                }
              }
              goto LABEL_165;
            }
            heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v186);
            return v17;
          }
LABEL_60:
          v17 = v33;
        }
        else
        {
          v17 = 2315264010;
          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v28, v29, v30, v31, v179);
        }
      }
      else
      {
        v17 = 2315264010;
        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v22, v23, v24, v25, v179);
        v32 = 0;
      }
LABEL_61:
      if (*(_DWORD *)(a6 + 568) == 1)
        freeMSNodes((_QWORD *)a1, (uint64_t)v194);
      if (v32)
        heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v32);
      if (v195)
      {
        v52 = mosyntdata_DisposeSyntTree(a2, &v195);
        if ((int)v17 >= 0 && v52 <= -1)
          return v52;
        else
          return v17;
      }
    }
  }
  return v17;
}

uint64_t parse_NLU_string(uint64_t *a1, char *__s, unsigned int a3, int a4, _DWORD *a5, int a6)
{
  _QWORD *v12;
  int v13;
  char *v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unint64_t v19;
  char *v20;
  unsigned __int8 *i;
  unsigned int v22;
  BOOL v23;
  uint64_t v24;
  const char *v26;
  const char *v27;
  unint64_t v28;
  char *v29;
  char *v30;
  char *v31;
  char *v32;
  const char *v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  int v37;
  uint64_t inserted;
  const char *v39;
  int v40;
  uint64_t v41;
  char *v42;
  int v43;
  const char *v44;
  char *v45;
  const char *v46;
  int v47;
  int v48;
  char *v49;
  char *v50;
  char *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  unsigned int v56;
  _DWORD *v57;
  unsigned int v58;
  int v59;
  int v60;
  char *__sa;
  uint64_t *v62;
  uint64_t v63;
  const char *v64;
  uint64_t v65;
  __int128 v66;
  unsigned int v67;
  const char *v68;
  const char *v69;
  __int128 v70;
  const char *v71;
  __int128 v72;
  __int128 v73;
  __int128 v74;
  __int128 v75;
  __int128 v76;

  v75 = 0u;
  v76 = 0u;
  v73 = 0u;
  v74 = 0u;
  v72 = 0u;
  v12 = *(_QWORD **)(*a1 + 8);
  v13 = strlen(__s);
  v14 = (char *)heap_Calloc(v12, 1, (v13 + 1));
  if (!v14)
  {
LABEL_69:
    inserted = 2315264010;
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v15, v16, v17, v18, v56);
    return inserted;
  }
  v19 = (unint64_t)v14;
  v67 = a3;
  v59 = a6;
  __sa = __s;
  v20 = strcpy(v14, __s);
  for (i = (unsigned __int8 *)(v19 + strlen(v20) - 1); (unint64_t)i >= v19; --i)
  {
    v22 = *i;
    v23 = v22 > 0x3B;
    v24 = (1 << v22) & 0x800000100002600;
    if (v23 || v24 == 0)
      break;
    *i = 0;
  }
  v57 = a5;
  v26 = 0;
  v71 = 0;
  v69 = 0;
  v70 = 0uLL;
  v68 = 0;
  v64 = 0;
  v65 = 0;
  v66 = 0uLL;
  v27 = 0;
  v60 = a4;
  v62 = a1 + 84;
  v63 = (uint64_t)(a1 + 1);
  v58 = (unsigned __int16)(a4 - 1);
  v28 = v19;
  do
  {
    v29 = strchr((char *)v28, 59);
    v30 = v29;
    if (v29)
      *v29 = 0;
    v31 = strchr((char *)v28, 58);
    v32 = v31;
    if (v31)
    {
      *v31 = 0;
      v33 = v31 + 1;
    }
    else
    {
      v33 = "null";
    }
    if (!strcmp((const char *)v28, "POS"))
    {
      inserted = 0;
      v27 = v33;
      goto LABEL_35;
    }
    if (!strcmp((const char *)v28, "PHR"))
    {
      inserted = 0;
      v26 = v33;
      goto LABEL_35;
    }
    if (!strcmp((const char *)v28, "BND"))
    {
      inserted = 0;
      v71 = v33;
      goto LABEL_35;
    }
    if (!strcmp((const char *)v28, "BNDSHAPE"))
    {
      inserted = 0;
      v69 = v33;
      goto LABEL_35;
    }
    if (!strcmp((const char *)v28, "S_POI"))
    {
      inserted = 0;
      v39 = "B";
LABEL_34:
      *(_QWORD *)&v70 = v33;
      *((_QWORD *)&v70 + 1) = v39;
      goto LABEL_35;
    }
    if (!strcmp((const char *)v28, "I_POI"))
    {
      inserted = 0;
      v39 = "I";
      goto LABEL_34;
    }
    if (!strcmp((const char *)v28, "E_POI"))
    {
      inserted = 0;
      v39 = "S";
      if (!*((_QWORD *)&v70 + 1))
        v39 = "E";
      goto LABEL_34;
    }
    if (!strcmp((const char *)v28, "PRM"))
    {
      inserted = 0;
      v68 = v33;
      goto LABEL_35;
    }
    v37 = *((_DWORD *)a1 + 166);
    if (v37 == 1)
    {
      if (!strcmp((const char *)(v28 + 1), "_COMP"))
      {
        v40 = strlen(v33);
        v41 = heap_Calloc(*(_QWORD **)(*a1 + 8), 1, (v40 + 3));
        if (!v41)
          goto LABEL_69;
        v42 = (char *)v41;
        v43 = strcmp((const char *)v28, "S_COMP");
        v44 = "I-";
        if (!v43)
          v44 = "B-";
        *(_WORD *)v42 = *(_WORD *)v44;
        v42[2] = v44[2];
        strcat(v42, v33);
        v45 = v42;
        inserted = 0;
        *((_QWORD *)&v66 + 1) = v45;
        v65 = (uint64_t)v45;
        goto LABEL_35;
      }
    }
    else if (!v37 && !strcmp((const char *)v28, "COMP"))
    {
      inserted = 0;
      *((_QWORD *)&v66 + 1) = v33;
      goto LABEL_35;
    }
    if (v32 && (unint64_t)v32 > v28 + 1)
    {
      if (!strcmp((const char *)(v28 + 1), "_CLASS"))
      {
        inserted = 0;
        v64 = v33;
        goto LABEL_35;
      }
      if (v59 == 1 && !strcmp((const char *)v28, "PUNC"))
      {
        if ((_QWORD)v66)
        {
          inserted = 0;
          goto LABEL_35;
        }
        v48 = strlen(__sa);
        v49 = (char *)heap_Calloc(*(_QWORD **)(*a1 + 8), 1, (v48 + 4));
        if (!v49)
          goto LABEL_69;
        v50 = v49;
        strcpy(v49, "X_");
        v51 = strcat(v49, (const char *)v28);
        *(_WORD *)&v50[strlen(v51)] = 58;
        *(_QWORD *)&v66 = v50;
        strcat(v50, v33);
        goto LABEL_56;
      }
      if (!strcmp((const char *)(v28 + 1), "_PUNC"))
      {
        v46 = (const char *)v66;
        if (!(_QWORD)v66)
        {
          v47 = strlen(__sa);
          v46 = (const char *)heap_Calloc(*(_QWORD **)(*a1 + 8), 1, (v47 + 1));
          if (!v46)
            goto LABEL_69;
          *v46 = 0;
        }
        *v32 = 58;
        *(_QWORD *)&v66 = v46;
        hlp_NLUStrJoin(v46, (const char *)v28);
LABEL_56:
        inserted = 0;
        goto LABEL_35;
      }
    }
    inserted = addMarkerType(*a1, (const char *)v28, v33, v67, v58, v63, v62);
LABEL_35:
    if (!v30)
      break;
    v28 = (unint64_t)(v30 + 1);
  }
  while ((inserted & 0x80000000) == 0);
  v75 = v66;
  *(_QWORD *)&v74 = v68;
  *((_QWORD *)&v74 + 1) = v64;
  v76 = v70;
  *(_QWORD *)&v73 = v71;
  *((_QWORD *)&v73 + 1) = v69;
  *(_QWORD *)&v72 = v27;
  *((_QWORD *)&v72 + 1) = v26;
  log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"parsed NLU %s[%d,%d] -> POS=%s, PHR=%s, BND=%s, BNDSHAPE=%s, PRM=%s, CLASS=%s, PUNC=%s, COMP=%s, POIClass=%s, POIPosi=%s", v34, v35, v36, (uint64_t)__sa);
  if ((inserted & 0x80000000) == 0)
  {
    if (!v27)
    {
      log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"missing POS in NLU string: arg=%s", v52, v53, v54, v19);
      *v57 = 0;
    }
    inserted = insert_NLU_info(*a1, v67, v60, (uint64_t)&v72, v63, v62, v59);
  }
  heap_Free(*(_QWORD **)(*a1 + 8), v19);
  if ((_QWORD)v66)
    heap_Free(*(_QWORD **)(*a1 + 8), v66);
  if (v65)
    heap_Free(*(_QWORD **)(*a1 + 8), v65);
  return inserted;
}

double freeSentenceData(uint64_t a1)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  unint64_t v5;
  uint64_t v6;
  unsigned __int16 v7;
  unint64_t i;
  uint64_t v9;
  uint64_t v10;
  unsigned __int16 v11;
  unint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unsigned __int16 v16;
  unint64_t j;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  double result;

  v2 = *(_QWORD *)(a1 + 1088);
  if (v2)
  {
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v2);
    *(_QWORD *)(a1 + 1088) = 0;
    *(_WORD *)(a1 + 1104) = 0;
  }
  v3 = *(_QWORD *)(a1 + 1096);
  if (v3)
  {
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v3);
    *(_QWORD *)(a1 + 1096) = 0;
  }
  v4 = *(_QWORD *)(a1 + 672);
  if (*(_WORD *)(a1 + 680))
  {
    v5 = 0;
    do
    {
      if (*(_QWORD *)(v4 + 224 * v5 + 80))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 80));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 80) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 112))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 112));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 112) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 120))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 120));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 120) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 152))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 152));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 152) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 160))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 160));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 160) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 184))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 184));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 184) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 192))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 192));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 192) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 200))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 200));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 200) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 208))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 208));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 208) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 168))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 168));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 168) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 88))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 88));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 88) = 0;
      }
      v6 = *(_QWORD *)(v4 + 224 * v5 + 16);
      if (v6)
      {
        v7 = *(_WORD *)(a1 + 80);
        if (v7)
        {
          for (i = 0; i < v7; ++i)
          {
            v6 = *(_QWORD *)(v4 + 224 * v5 + 16);
            v9 = *(_QWORD *)(v6 + 8 * i);
            if (v9)
            {
              heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v9);
              v4 = *(_QWORD *)(a1 + 672);
              v6 = *(_QWORD *)(v4 + 224 * v5 + 16);
              *(_QWORD *)(v6 + 8 * i) = 0;
              v7 = *(_WORD *)(a1 + 80);
            }
          }
        }
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v6);
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 16) = 0;
      }
      v10 = *(_QWORD *)(v4 + 224 * v5 + 56);
      if (v10)
      {
        v11 = *(_WORD *)(a1 + 80);
        if (v11)
        {
          v12 = 0;
          v13 = 16;
          do
          {
            v10 = *(_QWORD *)(v4 + 224 * v5 + 56);
            v14 = *(_QWORD *)(v10 + v13);
            if (v14)
            {
              heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v14);
              v4 = *(_QWORD *)(a1 + 672);
              v10 = *(_QWORD *)(v4 + 224 * v5 + 56);
              *(_QWORD *)(v10 + v13) = 0;
              v11 = *(_WORD *)(a1 + 80);
            }
            ++v12;
            v13 += 32;
          }
          while (v12 < v11);
        }
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v10);
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 56) = 0;
      }
      v15 = *(_QWORD *)(v4 + 224 * v5 + 64);
      if (v15)
      {
        v16 = *(_WORD *)(a1 + 80);
        if (v16)
        {
          for (j = 0; j < v16; ++j)
          {
            v15 = *(_QWORD *)(v4 + 224 * v5 + 64);
            v18 = *(_QWORD *)(v15 + 8 * j);
            if (v18)
            {
              heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v18);
              v4 = *(_QWORD *)(a1 + 672);
              v15 = *(_QWORD *)(v4 + 224 * v5 + 64);
              *(_QWORD *)(v15 + 8 * j) = 0;
              v16 = *(_WORD *)(a1 + 80);
            }
          }
        }
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v15);
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 64) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 8))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 8));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 8) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 96))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 96));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 96) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 176))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 176));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 176) = 0;
      }
      if (*(_QWORD *)(v4 + 224 * v5 + 128))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + 224 * v5 + 128));
        v4 = *(_QWORD *)(a1 + 672);
        *(_QWORD *)(v4 + 224 * v5 + 128) = 0;
      }
      ++v5;
    }
    while (v5 < *(unsigned __int16 *)(a1 + 680));
  }
  else if (!v4)
  {
    goto LABEL_62;
  }
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v4);
  *(_QWORD *)(a1 + 672) = 0;
LABEL_62:
  v19 = *(_QWORD *)(a1 + 688);
  if (v19)
  {
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v19);
    *(_QWORD *)(a1 + 688) = 0;
  }
  v20 = *(_QWORD *)(a1 + 696);
  if (v20)
  {
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v20);
    *(_QWORD *)(a1 + 696) = 0;
  }
  v21 = *(_QWORD *)(a1 + 712);
  if (v21)
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v21);
  result = 0.0;
  *(_OWORD *)(a1 + 688) = 0u;
  *(_OWORD *)(a1 + 704) = 0u;
  *(_OWORD *)(a1 + 672) = 0u;
  return result;
}

uint64_t updateLingdb(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4)
{
  uint64_t PhraseStartingAtThisWord;
  uint64_t v9;
  unsigned __int16 i;
  __int16 v12;
  uint64_t v13;
  unsigned int v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  __int16 v18;
  char *v19;
  char *v20;
  int v22;
  char *v23;
  int v24;
  int v25;
  int v26;
  __int16 v27;
  uint64_t v28;
  unsigned int v29;
  __int16 v30;
  int v31;
  int v32;
  __int16 v33;
  char v34[10];
  char __dst[32];
  char __s1[16];
  __int128 v37;
  __int16 v38;
  char __s[10];
  uint64_t v40;

  v40 = *MEMORY[0x1E0C80C00];
  v33 = 0;
  v31 = 0;
  v32 = 0;
  v30 = 0;
  v29 = 0;
  v28 = 0;
  v27 = 0;
  v25 = 0;
  v26 = 0;
  v23 = 0;
  v22 = 0;
  *(_OWORD *)__s1 = 0u;
  v37 = 0u;
  PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 1, 0, (char *)&v32 + 2);
  if ((PhraseStartingAtThisWord & 0x80000000) != 0)
    return PhraseStartingAtThisWord;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a1 + 184))(a2, a3, HIWORD(v32), 0, &v33);
  if ((v9 & 0x80000000) == 0 && v33 == 1)
  {
    v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a1 + 176))(a2, a3, HIWORD(v32), 0, &v23, &v31);
    if ((v9 & 0x80000000) == 0 && (unsigned __int16)v31 >= 2u)
    {
      v9 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 2, HIWORD(v32), &v32);
      if ((v9 & 0x80000000) == 0)
      {
        v24 = 0;
        __s[0] = 0;
        LOBYTE(v38) = 0;
        **(_BYTE **)(a4 + 1088) = 0;
        for (i = v32; (_WORD)v32; i = v32)
        {
          PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a1 + 168))(a2, a3, i, 0, 1, &v29, &v31);
          if ((PhraseStartingAtThisWord & 0x80000000) != 0)
            return PhraseStartingAtThisWord;
          if (v29 <= 0xA && ((1 << v29) & 0x610) != 0)
          {
            PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v32, 1, 1, &v26, &v31);
            if ((PhraseStartingAtThisWord & 0x80000000) != 0)
              return PhraseStartingAtThisWord;
            PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v32, 2, 1, (char *)&v26 + 2, &v31);
            if ((PhraseStartingAtThisWord & 0x80000000) != 0)
              return PhraseStartingAtThisWord;
            PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, int *))(a1 + 176))(a2, a3, (unsigned __int16)v32, 3, &v28, &v31);
            if ((PhraseStartingAtThisWord & 0x80000000) != 0)
              return PhraseStartingAtThisWord;
            if ((unsigned __int16)v26 != HIWORD(v26))
            {
              PhraseStartingAtThisWord = getPhraseStartingAtThisWord((uint64_t *)(a4 + 672), a4 + 8, (unsigned __int16)v26, (__int16 *)&v25 + 1, __s, &v27, (__int16 *)&v24 + 1, &v24);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              if (__s[0])
              {
                __strcpy_chk();
                LOWORD(v25) = 0;
                if (HIWORD(v25) <= 1u)
                {
                  if (HIWORD(v24))
                    setSilDurOnWord(a4 + 672, (_QWORD *)(a4 + 8), (unsigned __int16)(HIWORD(v24) - 1), &v25);
                  else
                    LOWORD(v25) = 200;
                }
                PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1 + 88))(a2, a3, (unsigned __int16)v32, (char *)&v31 + 2);
                if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                  return PhraseStartingAtThisWord;
                v29 = 15;
                PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v31), 0, 1, &v29, &v30);
                if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                  return PhraseStartingAtThisWord;
                PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v31), 1, 1, &v26, &v30);
                if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                  return PhraseStartingAtThisWord;
                PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v31), 2, 1, &v27, &v30);
                if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                  return PhraseStartingAtThisWord;
                v12 = strlen(__s);
                PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v31), 4, (unsigned __int16)(v12 + 1), __s, &v30);
                if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                  return PhraseStartingAtThisWord;
                PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v31), 7, 1, (char *)&v25 + 2, &v30);
                if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                  return PhraseStartingAtThisWord;
                PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v31), 8, 1, &v25, &v30);
                if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                  return PhraseStartingAtThisWord;
              }
              v13 = HIWORD(v24);
              setSilDurOnWord(a4 + 672, (_QWORD *)(a4 + 8), HIWORD(v24), &v25);
              PhraseStartingAtThisWord = checkForExternalSildur(a1, a2, a3, (unsigned __int16)v32, &v22);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              if (!v22)
              {
                PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v32, 8, 1, &v25, &v30);
                if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                  return PhraseStartingAtThisWord;
              }
              v14 = *(unsigned __int8 *)(*(_QWORD *)(a4 + 672) + 224 * v13 + 72);
              get_phr_for_nlu_output(a4, v13, __s1);
              get_pos_for_nlu_output(a4, v13, __dst);
              PhraseStartingAtThisWord = updateNLUField(a1, a2, a3, (unsigned __int16)v32, a4, v13, __dst, __s1, *(char **)(*(_QWORD *)(a4 + 672) + 224 * v13 + 96), *(char **)(*(_QWORD *)(a4 + 672) + 224 * v13 + 112));
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"updating WordRecord[%d] word[%d] LD_W_PRM -> %d dur=%d", v15, v16, v17, (unsigned __int16)v32);
              LH_itoa(v14, v34, 0xAu);
              v18 = strlen(v34);
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v32, 13, (unsigned __int16)(v18 + 1), v34, &v30);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
            }
          }
          v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, (unsigned __int16)v32, &v32);
          if ((v9 & 0x80000000) != 0)
            return v9;
        }
        **(_BYTE **)(a4 + 1088) = 0;
        if (v38 != 89)
        {
          v19 = v23;
          v20 = strrchr(v23, 63);
          if (v20)
          {
            if (v20 != v19 && *(v20 - 1) != 32)
              *v20 = 46;
          }
        }
      }
    }
  }
  return v9;
}

uint64_t getPhraseStartingAtThisWord(uint64_t *a1, uint64_t a2, uint64_t a3, __int16 *a4, char *__dst, _WORD *a6, __int16 *a7, _WORD *a8)
{
  unsigned int v13;
  uint64_t v14;
  unsigned __int8 *v15;
  uint64_t v16;
  unsigned int v17;
  BOOL v18;
  unsigned int v19;
  unsigned int v20;
  int v21;
  const char *v22;
  __int16 v23;
  __int16 v24;

  *a4 = 0;
  if (!*((_WORD *)a1 + 4))
  {
LABEL_5:
    v16 = 2315264000;
    if (a2)
      log_OutText(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"cant align lingdb word : no word found with fromPos=%d", (uint64_t)a6, (uint64_t)a7, (uint64_t)a8, a3);
    return v16;
  }
  v13 = 0;
  v14 = *a1;
  v15 = (unsigned __int8 *)(*a1 + 73);
  while (*(unsigned __int16 *)(v14 + 224 * v13) != (_DWORD)a3)
  {
    ++v13;
    v15 += 224;
    if (v13 >= *((unsigned __int16 *)a1 + 4))
      goto LABEL_5;
  }
  v17 = (unsigned __int16)*a8;
  *a7 = v13;
  if (v13 | v17)
    v18 = v13 > v17;
  else
    v18 = 1;
  if (!v18)
  {
    v16 = 0;
    *__dst = 0;
    return v16;
  }
  v19 = *((unsigned __int16 *)a1 + 4);
  v20 = v13;
  if (v13 < v19)
  {
    LOWORD(v20) = v13;
    while (1)
    {
      v21 = *v15;
      v15 += 224;
      if ((v21 - 3) < 2)
        break;
      LOWORD(v20) = v20 + 1;
      if (v19 == (unsigned __int16)v20)
        goto LABEL_19;
    }
    v20 = (unsigned __int16)v20;
  }
  if (v20 == v19)
  {
LABEL_19:
    *a6 = *(_WORD *)(v14 + 224 * *((unsigned __int16 *)a1 + 4) - 222);
    *a8 = *((_WORD *)a1 + 4);
  }
  else
  {
    *a8 = v20;
    *a6 = *(_WORD *)(v14 + 224 * v20 + 2);
    if (v20 + 1 != *((unsigned __int16 *)a1 + 4))
    {
      *a6 = *(_WORD *)(v14 + 224 * (v20 + 1));
      v23 = 80;
      goto LABEL_25;
    }
  }
  v22 = (const char *)a1[5];
  if (!v22)
  {
    v23 = 84;
LABEL_25:
    *(_WORD *)__dst = v23;
    goto LABEL_26;
  }
  strcpy(__dst, v22);
LABEL_26:
  v24 = *a7;
  if (*a7)
  {
    *a4 = 1;
    if (*(_BYTE *)(*a1 + 224 * (unsigned __int16)*a7 - 151) == 3)
      v24 = 2;
    else
      v24 = 1;
  }
  *a4 = v24;
  if (a2)
    log_OutText(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"Phrase lingdb=%d,%d PHRTYPE=%s BNDTYPE=%d internal word %d,%d", (uint64_t)a6, (uint64_t)a7, (uint64_t)a8, a3);
  return 0;
}

size_t setSilDurOnWord(size_t result, _QWORD *a2, int a3, _WORD *a4)
{
  unsigned int v6;
  uint64_t v7;
  int v8;
  unsigned int v9;
  unsigned int v10;
  unsigned int *v12;
  size_t v13;
  unsigned int v14;
  char __s[256];
  uint64_t v16;

  v16 = *MEMORY[0x1E0C80C00];
  v14 = 0;
  *a4 = 0;
  v6 = *(unsigned __int16 *)(result + 8);
  v7 = *(_QWORD *)result;
  if (a3 + 1 < v6 && *(_DWORD *)(v7 + 224 * (a3 + 1) + 220) == 1)
  {
    do
    {
      LOWORD(a3) = a3 + 1;
      v8 = (unsigned __int16)a3;
      v9 = (unsigned __int16)a3 + 1;
    }
    while (v9 < v6 && *(_DWORD *)(v7 + 224 * v9 + 220) == 1);
  }
  else
  {
    v8 = a3;
  }
  v10 = v6 - 1;
  if (*(_BYTE *)(v7 + 224 * (unsigned __int16)a3 + 73) == 4 && v10 != v8)
  {
    v12 = (unsigned int *)(a2[6] + 8 * *(unsigned int *)(v7 + 224 * (unsigned __int16)a3 + 52));
    *a4 = *((_WORD *)v12 + 2);
    strcpy(__s, "tnpausedur");
    v13 = strlen((const char *)(a2[66] + *(unsigned int *)(a2[67] + 4 * *v12)));
    result = strlen(__s);
    if (v13 < 255 - result)
    {
      __strcat_chk();
      result = paramc_ParamGetUInt(*(_QWORD *)(*a2 + 40), (uint64_t)__s, &v14);
      if ((result & 0x80000000) == 0)
        *a4 = v14;
    }
  }
  return result;
}

unint64_t get_phr_for_nlu_output(unint64_t result, unsigned int a2, char *__s1)
{
  uint64_t v4;
  unint64_t v5;
  uint64_t v6;
  const char *v7;
  unint64_t v9;

  v4 = *(_QWORD *)(*(_QWORD *)(result + 672) + 224 * a2 + 56);
  if (v4 && (v5 = result, v6 = v4 + 32 * *(unsigned __int16 *)(result + 32), (v7 = *(const char **)(v6 + 16)) != 0))
  {
    if (!strcmp(*(const char **)(v6 + 16), "O") || !strcmp(v7, "O-P"))
    {
      strcpy(__s1, v7);
    }
    else
    {
      strcpy(__s1, "B-");
      strcat(__s1, *(const char **)(*(_QWORD *)(*(_QWORD *)(v5 + 672) + 224 * a2 + 56)+ 32 * *(unsigned __int16 *)(v5 + 32)+ 16));
    }
    result = strlen(__s1);
    if (result >= 2)
    {
      v9 = result;
      result = strcmp(&__s1[result - 2], "-P");
      if (!(_DWORD)result)
        __s1[v9 - 2] = 0;
    }
  }
  else if (*__s1)
  {
    result = strcmp(__s1, "O");
    if ((_DWORD)result)
      *__s1 = 73;
  }
  return result;
}

char *get_pos_for_nlu_output(uint64_t a1, unsigned int a2, char *__dst)
{
  uint64_t v3;
  const char *v4;

  v3 = *(_QWORD *)(a1 + 672);
  v4 = *(const char **)(v3 + 224 * a2 + 88);
  if (!v4)
    v4 = *(const char **)(*(_QWORD *)(v3 + 224 * a2 + 16) + 8 * *(unsigned __int16 *)(a1 + 26));
  return strcpy(__dst, v4);
}

uint64_t updateNLUField(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, int a6, char *a7, char *a8, char *a9, char *a10)
{
  uint64_t result;
  char *v18;
  size_t v19;
  size_t v20;
  char *v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  const char *v29;
  __int16 v30;
  unsigned int v31;
  uint64_t v32;
  char *__s;
  __int16 v34;
  int v35;

  v35 = 0;
  v34 = 0;
  __s = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a1 + 184))(a2, a3, a4, 14, (char *)&v35 + 2);
  if ((result & 0x80000000) != 0)
    return result;
  if (!HIWORD(v35))
  {
    v32 = a3;
LABEL_7:
    v18 = &byte_1DEBD87CE;
    __s = &byte_1DEBD87CE;
    goto LABEL_8;
  }
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, int *))(a1 + 176))(a2, a3, a4, 14, &__s, &v35);
  if ((result & 0x80000000) != 0)
    return result;
  v32 = a3;
  if ((unsigned __int16)v35 < 2u)
    goto LABEL_7;
  v18 = __s;
LABEL_8:
  v19 = strlen(v18);
  if (a7)
    v20 = v19 + strlen(a7) + 6;
  else
    v20 = v19 + 1;
  if (a8)
    v20 += strlen(a8) + 5;
  if (a9 && !*(_DWORD *)(a5 + 664))
    v20 += strlen(a9) + 6;
  if (a10)
    v20 += strlen(a10) + 10;
  if (v20 <= *(unsigned __int16 *)(a5 + 1104))
  {
    v21 = *(char **)(a5 + 1088);
  }
  else
  {
    v21 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a5 + 8), *(_QWORD *)(a5 + 1088), v20);
    if (!v21)
    {
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v22, v23, v24, v25, v31);
      return 2315264010;
    }
    *(_QWORD *)(a5 + 1088) = v21;
    *(_WORD *)(a5 + 1104) = v20;
    v18 = __s;
  }
  strcpy(v21, v18);
  if (a7 && *a7)
    hlp_NLUStrSet(*(char **)(a5 + 1088), "POS", a7);
  if (a8 && *a8)
    hlp_NLUStrSet(*(char **)(a5 + 1088), "PHR", a8);
  if (a9 && !*(_DWORD *)(a5 + 664) && *a9)
    hlp_NLUStrSet(*(char **)(a5 + 1088), "COMP", a9);
  if (a10)
  {
    if (*a10)
      hlp_NLUStrSet(*(char **)(a5 + 1088), "BNDSHAPE", a10);
  }
  log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"updating WordRecord[%d] word[%d] LD_W_NLU %s -> %s", v26, v27, v28, a4);
  v29 = *(const char **)(a5 + 1088);
  v30 = strlen(v29);
  return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD, const char *, __int16 *))(a1 + 160))(a2, v32, a4, 14, (unsigned __int16)(v30 + 1), v29, &v34);
}

uint64_t updateLingdbCrfPhrasing(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4)
{
  uint64_t PhraseStartingAtThisWord;
  uint64_t v9;
  unsigned __int16 v10;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  __int16 v16;
  uint64_t v17;
  unsigned int v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  __int16 v22;
  char *v23;
  char *v24;
  uint64_t v26;
  int v27;
  __int16 v28;
  uint64_t v29;
  char *v30;
  int v31;
  int v32;
  int v33;
  __int16 v34;
  uint64_t v35;
  unsigned int v36;
  __int16 v37;
  int v38;
  int v39;
  __int16 v40;
  char v41[10];
  char __dst[64];
  char __s1[16];
  __int128 v44;
  char __s[2];
  unsigned __int8 v46;
  uint64_t v47;

  v47 = *MEMORY[0x1E0C80C00];
  v40 = 0;
  v38 = 0;
  v39 = 0;
  v37 = 0;
  v36 = 0;
  v35 = 0;
  v34 = 0;
  v32 = 0;
  v33 = 0;
  v29 = 0;
  v30 = 0;
  v28 = 0;
  v27 = 0;
  *(_OWORD *)__s1 = 0u;
  v44 = 0u;
  PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 1, 0, (char *)&v39 + 2);
  if ((PhraseStartingAtThisWord & 0x80000000) != 0)
    return PhraseStartingAtThisWord;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a1 + 184))(a2, a3, HIWORD(v39), 0, &v40);
  if ((v9 & 0x80000000) != 0)
    return v9;
  if (v40 != 1)
    return v9;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a1 + 176))(a2, a3, HIWORD(v39), 0, &v30, &v38);
  if ((v9 & 0x80000000) != 0 || (unsigned __int16)v38 < 2u)
    return v9;
  PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, __int16 *))(a1 + 176))(a2, a3, HIWORD(v39), 1, &v29, &v28);
  if ((PhraseStartingAtThisWord & 0x80000000) != 0)
    return PhraseStartingAtThisWord;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 2, HIWORD(v39), &v39);
  if ((v9 & 0x80000000) == 0)
  {
    v31 = 0;
    __s[0] = 0;
    **(_BYTE **)(a4 + 1088) = 0;
    v10 = v39;
    if ((_WORD)v39)
    {
      v26 = a4 + 8;
      do
      {
        PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a1 + 168))(a2, a3, v10, 0, 1, &v36, &v38);
        if ((PhraseStartingAtThisWord & 0x80000000) != 0)
          return PhraseStartingAtThisWord;
        if (v36 <= 0xA && ((1 << v36) & 0x610) != 0)
        {
          PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v39, 1, 1, &v33, &v38);
          if ((PhraseStartingAtThisWord & 0x80000000) != 0)
            return PhraseStartingAtThisWord;
          PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v39, 2, 1, (char *)&v33 + 2, &v38);
          if ((PhraseStartingAtThisWord & 0x80000000) != 0)
            return PhraseStartingAtThisWord;
          PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, int *))(a1 + 176))(a2, a3, (unsigned __int16)v39, 3, &v35, &v38);
          if ((PhraseStartingAtThisWord & 0x80000000) != 0)
            return PhraseStartingAtThisWord;
          if ((unsigned __int16)v33 != HIWORD(v33))
          {
            PhraseStartingAtThisWord = getPhraseStartingAtThisWord((uint64_t *)(a4 + 672), 0, (unsigned __int16)v33, (__int16 *)&v32 + 1, __s, &v34, (__int16 *)&v31 + 1, &v31);
            if ((PhraseStartingAtThisWord & 0x80000000) != 0)
              return PhraseStartingAtThisWord;
            if (__s[0])
            {
              LOWORD(v32) = 0;
              if (HIWORD(v32) <= 1u)
              {
                if (HIWORD(v31))
                  setSilDurOnWordCrf(a4 + 672, v26, (unsigned __int16)(HIWORD(v31) - 1), (__int16 *)&v32, v12, v13, v14, v15);
                else
                  LOWORD(v32) = 200;
              }
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1 + 88))(a2, a3, (unsigned __int16)v39, (char *)&v38 + 2);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              v36 = 15;
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v38), 0, 1, &v36, &v37);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v38), 1, 1, &v33, &v37);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v38), 2, 1, &v34, &v37);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              v16 = strlen(__s);
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v38), 4, (unsigned __int16)(v16 + 1), __s, &v37);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v38), 7, 1, (char *)&v32 + 2, &v37);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1 + 160))(a2, a3, HIWORD(v38), 8, 1, &v32, &v37);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
            }
            v17 = HIWORD(v31);
            setSilDurOnWordCrf(a4 + 672, v26, HIWORD(v31), (__int16 *)&v32, v12, v13, v14, v15);
            PhraseStartingAtThisWord = checkForExternalSildur(a1, a2, a3, (unsigned __int16)v39, &v27);
            if ((PhraseStartingAtThisWord & 0x80000000) != 0)
              return PhraseStartingAtThisWord;
            if (!v27)
            {
              PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v39, 8, 1, &v32, &v37);
              if ((PhraseStartingAtThisWord & 0x80000000) != 0)
                return PhraseStartingAtThisWord;
            }
            v18 = *(unsigned __int8 *)(*(_QWORD *)(a4 + 672) + 224 * v17 + 72);
            get_phr_for_nlu_output(a4, v17, __s1);
            get_pos_for_nlu_output(a4, v17, __dst);
            PhraseStartingAtThisWord = updateNLUField(a1, a2, a3, (unsigned __int16)v39, a4, v17, __dst, __s1, *(char **)(*(_QWORD *)(a4 + 672) + 224 * v17 + 96), *(char **)(*(_QWORD *)(a4 + 672) + 224 * v17 + 112));
            if ((PhraseStartingAtThisWord & 0x80000000) != 0)
              return PhraseStartingAtThisWord;
            log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"updating WordRecord[%d] word[%d] LD_W_PRM -> %d dur=%d", v19, v20, v21, (unsigned __int16)v39);
            LH_itoa(v18, v41, 0xAu);
            v22 = strlen(v41);
            PhraseStartingAtThisWord = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v39, 13, (unsigned __int16)(v22 + 1), v41, &v37);
            if ((PhraseStartingAtThisWord & 0x80000000) != 0)
              return PhraseStartingAtThisWord;
          }
        }
        v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, (unsigned __int16)v39, &v39);
        if ((v9 & 0x80000000) != 0)
          return v9;
        v10 = v39;
      }
      while ((_WORD)v39);
    }
    **(_BYTE **)(a4 + 1088) = 0;
    if (*(unsigned __int16 *)__s == 87 || !(*(unsigned __int16 *)__s ^ 0x4641 | v46))
    {
      v23 = v30;
      v24 = strrchr(v30, 63);
      if (v24 && v24 != v23 && *(v24 - 1) != 32)
        *v24 = 46;
    }
  }
  return v9;
}

size_t setSilDurOnWordCrf(size_t result, uint64_t a2, int a3, __int16 *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  size_t v10;
  unsigned int v11;
  uint64_t v12;
  int v13;
  unsigned int v14;
  unsigned int v15;
  const char *v17;
  int v18;
  unsigned int v19;
  BOOL v20;
  uint64_t v21;
  BOOL v22;
  __int16 v23;

  v10 = result;
  if (a2)
    result = log_OutText(*(_QWORD *)(*(_QWORD *)a2 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"the parameter %s is ready", a6, a7, a8, (uint64_t)"pandpRules");
  *a4 = 0;
  v11 = *(unsigned __int16 *)(v10 + 8);
  v12 = *(_QWORD *)v10;
  if (a3 + 1 < v11 && *(_DWORD *)(v12 + 224 * (a3 + 1) + 220) == 1)
  {
    do
    {
      LOWORD(a3) = a3 + 1;
      v13 = (unsigned __int16)a3;
      v14 = (unsigned __int16)a3 + 1;
    }
    while (v14 < v11 && *(_DWORD *)(v12 + 224 * v14 + 220) == 1);
  }
  else
  {
    v13 = a3;
  }
  v15 = v11 - 1;
  if (*(_BYTE *)(v12 + 224 * (unsigned __int16)a3 + 73) == 4 && v15 != v13)
  {
    v17 = **(const char ***)(v12 + 224 * (unsigned __int16)a3 + 16);
    result = strlen(v17);
    v18 = result;
    *a4 = 100;
    if (v17
      && (result = strlen(v17)) != 0
      && ((v19 = v17[result - 1], v20 = v19 > 0x3B, v21 = (1 << v19) & 0xC00100000000000, !v20)
        ? (v22 = v21 == 0)
        : (v22 = 1),
          !v22))
    {
      v23 = 300;
    }
    else
    {
      if (v17[v18 - 1] != 46)
        return result;
      v23 = 600;
    }
    *a4 = v23;
  }
  return result;
}

uint64_t heapAdjustDown(uint64_t result, unsigned int a2, unsigned int a3)
{
  unsigned int v3;
  uint64_t v4;
  uint64_t v5;
  unsigned int v6;
  uint64_t v7;

  v3 = (2 * a2) | 1;
  if (v3 < a3)
  {
    v4 = *(_QWORD *)(result + 8 * a2);
    v5 = a2;
    do
    {
      v6 = (unsigned __int16)v3;
      if ((unsigned __int16)v3 < a3 - 1)
      {
        if (*(__int16 *)(*(_QWORD *)(result + 8 * (unsigned __int16)v3) + 2) < *(__int16 *)(*(_QWORD *)(result + 8 * ((unsigned __int16)v3 + 1))
                                                                                               + 2))
          LOWORD(v3) = v3 + 1;
        v6 = (unsigned __int16)v3;
      }
      v7 = *(_QWORD *)(result + 8 * v6);
      if (*(__int16 *)(*(_QWORD *)(result + 8 * v5) + 2) >= *(__int16 *)(v7 + 2))
        break;
      *(_QWORD *)(result + 8 * v5) = v7;
      *(_QWORD *)(result + 8 * v6) = v4;
      v5 = (unsigned __int16)v3;
      v3 = (2 * (unsigned __int16)v3) | 1;
    }
    while (v3 < a3);
  }
  return result;
}

uint64_t heapPop(uint64_t **a1)
{
  uint64_t v1;
  uint64_t result;
  uint64_t v4;
  unsigned __int16 v5;

  v1 = *((unsigned __int16 *)a1 + 4);
  if (!*((_WORD *)a1 + 4))
    return 0;
  if ((_DWORD)v1 == 2)
  {
    result = **a1;
    **a1 = (*a1)[1];
    *((_WORD *)a1 + 4) = 1;
  }
  else if ((_DWORD)v1 == 1)
  {
    *((_WORD *)a1 + 4) = 0;
    return **a1;
  }
  else
  {
    v4 = **a1;
    **a1 = (*a1)[(v1 - 1)];
    (*a1)[v1 - 1] = v4;
    heapAdjustDown((uint64_t)*a1, 0, (unsigned __int16)(v1 - 1));
    v5 = *((_WORD *)a1 + 4) - 1;
    *((_WORD *)a1 + 4) = v5;
    return (*a1)[v5];
  }
  return result;
}

uint64_t heapAdd(uint64_t result, uint64_t a2)
{
  int v2;
  BOOL v3;
  uint64_t v4;
  int v5;
  unsigned int v6;

  v2 = *(unsigned __int16 *)(result + 8);
  *(_QWORD *)(*(_QWORD *)result + 8 * *(unsigned __int16 *)(result + 8)) = a2;
  *(_WORD *)(result + 8) = v2 + 1;
  if (v2)
    v3 = v2 == 0xFFFF;
  else
    v3 = 1;
  if (!v3)
  {
    v4 = result;
    v5 = (unsigned __int16)(v2 + 1) >> 1;
    do
    {
      v6 = (unsigned __int16)v5--;
      result = heapAdjustDown(*(_QWORD *)v4, (unsigned __int16)v5, *(unsigned __int16 *)(v4 + 8));
    }
    while (v6 > 1);
  }
  return result;
}

uint64_t astar_search(uint64_t a1, uint64_t *a2, __int16 a3, int a4, unsigned __int16 *a5, uint64_t *a6)
{
  uint64_t v11;
  unsigned __int16 v12;
  __int16 v13;
  unsigned __int16 v14;
  unsigned int v15;
  __int16 v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  unsigned __int16 v21;
  __int16 v22;
  unsigned __int16 v23;
  unsigned int v24;
  __int16 v25;
  uint64_t v26;
  uint64_t *v27;
  uint64_t v28;
  unsigned int v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  char v33;
  char v34;
  uint64_t v35;
  __int16 *v36;
  int v37;
  uint64_t *v38;
  uint64_t v40;
  uint64_t *v42;
  uint64_t v43;
  _QWORD v44[2];

  v44[1] = *MEMORY[0x1E0C80C00];
  v11 = *(_QWORD *)(a1 + 8);
  v12 = a5[1] + 2;
  if (a5[1] == 0xFFFE)
  {
    v17 = 16;
  }
  else
  {
    v13 = 2;
    v14 = 1;
    do
    {
      v15 = v12;
      if ((v12 & 1) != 0)
        v16 = v13;
      else
        v16 = 1;
      v14 *= v16;
      v12 >>= 1;
      v13 *= v13;
    }
    while (v15 > 1);
    v17 = 16 * v14;
  }
  v18 = 2315264010;
  v19 = heap_Alloc(v11, v17);
  if (v19)
  {
    v20 = v19;
    v21 = a5[1] + 2;
    if (a5[1] == 0xFFFE)
    {
      v26 = 8;
    }
    else
    {
      v22 = 2;
      v23 = 1;
      do
      {
        v24 = v21;
        if ((v21 & 1) != 0)
          v25 = v22;
        else
          v25 = 1;
        v23 *= v25;
        v21 >>= 1;
        v22 *= v22;
      }
      while (v24 > 1);
      v26 = 8 * v23;
    }
    v27 = (uint64_t *)heap_Alloc(*(_QWORD *)(a1 + 8), v26);
    v42 = v27;
    if (!v27)
      goto LABEL_36;
    v28 = 0;
    *(_DWORD *)v20 = 0xFFFF;
    v43 = 0;
    *(_WORD *)(v20 + 4) = a3 - 1;
    *(_WORD *)(v20 + 6) = 0;
    *(_WORD *)(v20 + 12) = 0;
    *(_WORD *)(v20 + 14) = *a5;
    *(_DWORD *)(v20 + 8) = 0;
    v44[0] = 0x100000000;
    *v27 = v20;
    v29 = 1;
    LOWORD(v43) = 1;
    do
    {
      v30 = heapPop(&v42);
      v31 = v30;
      if (*(__int16 *)(v30 + 4) == a4 && (!v28 || *(__int16 *)(v30 + 2) > *(__int16 *)(v28 + 2)))
        v28 = v30;
      v40 = v28;
      v32 = 0;
      v33 = 1;
      do
      {
        v34 = v33;
        if (generateNewState(a1, v31, v20 + 16 * v29, *((_DWORD *)v44 + v32), a2, a4, a5, a6))
        {
          *(_WORD *)(v20 + 16 * v29 + 6) = v29;
          heapAdd((uint64_t)&v42, v20 + 16 * v29++);
        }
        v33 = 0;
        v32 = 1;
      }
      while ((v34 & 1) != 0);
      v28 = v40;
    }
    while ((_WORD)v43);
    if (v40 && *(__int16 *)(v40 + 6) >= 1)
    {
      v35 = *(unsigned __int16 *)(v40 + 6);
      do
      {
        v36 = (__int16 *)(v20 + 16 * v35);
        if (!*((_DWORD *)v36 + 2))
          *(_BYTE *)(*a2 + 224 * v36[2] + 73) = 4;
        v37 = *v36;
        v35 = (unsigned __int16)*v36;
      }
      while (v37 > 0);
    }
    v38 = v42;
    heap_Free(*(_QWORD **)(a1 + 8), v20);
    v18 = 0;
    v20 = (uint64_t)v38;
    if (v38)
LABEL_36:
      heap_Free(*(_QWORD **)(a1 + 8), v20);
  }
  return v18;
}

_WORD *generateNewState(uint64_t a1, uint64_t a2, uint64_t a3, int a4, uint64_t *a5, int a6, unsigned __int16 *a7, uint64_t *a8)
{
  __int16 v8;
  _WORD *v9;
  int v16;
  uint64_t v17;
  const char *v18;
  __int16 v19;
  int v20;
  __int16 v21;
  __int16 v22;

  *(_WORD *)a3 = *(_WORD *)(a2 + 6);
  *(_DWORD *)(a3 + 8) = a4;
  v8 = *(_WORD *)(a2 + 4) + 1;
  *(_WORD *)(a3 + 4) = v8;
  if (a6 >= v8)
  {
    v9 = (_WORD *)a3;
    v16 = 0;
    v17 = *a5;
    do
    {
      v18 = **(const char ***)(v17 + 224 * v8 + 16);
      v19 = strlen(v18);
      v16 += Utf8_LengthInUtf8chars((unint64_t)v18, v19);
      v17 = *a5;
      v20 = (__int16)v9[2];
      if (*(_BYTE *)(*a5 + 224 * (__int16)v9[2] + 73) == 3)
        break;
      v8 = v20 + 1;
      v9[2] = v20 + 1;
      v20 = (__int16)(v20 + 1);
    }
    while (v20 <= a6);
    if (v20 > a6)
      v9[2] = a6;
    v9[7] = *(_WORD *)(a2 + 14) - v16;
    v21 = *(_WORD *)(a2 + 2);
    v9[1] = calculateScore(a1, a4, (uint64_t)v9, (unsigned __int16)(*(_WORD *)(a2 + 12) + v16), *a7, *(_DWORD *)(a2 + 8), a8, (uint64_t)a5)+ v21;
    if (a4)
    {
      if (a4 != 1)
        return v9;
      v22 = *(_WORD *)(a2 + 12) + v16;
    }
    else
    {
      v22 = 0;
    }
    v9[6] = v22;
    return v9;
  }
  return 0;
}

uint64_t calculateScore(uint64_t a1, int a2, uint64_t a3, unsigned int a4, unsigned int a5, int a6, uint64_t *a7, uint64_t a8)
{
  __int16 v10;
  unsigned int v11;
  __int16 v12;

  if (a2 == 1 && a4 < 6)
    v10 = 5;
  else
    v10 = 0;
  if (a2 == 0 && a4 > 7)
    v10 += 5;
  v11 = *(unsigned __int16 *)(a3 + 14);
  if (a2 == 1 && v11 < 6)
    v10 += 10;
  if (a2 == 0 && 1000 * v11 / a5 - 400 < 0xC9)
    v12 = v10 + 5;
  else
    v12 = v10;
  if (a2 == 1 && applyRules(a1, a8, *(unsigned __int16 *)(a3 + 4), a7) == 1)
    v12 += 20;
  if (a6 | a2)
    return v12;
  else
    return (__int16)(v12 - 10);
}

uint64_t fe_phrasing_ObjOpen(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5)
{
  uint64_t stress_models;
  uint64_t inited;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t *v17;
  uint64_t v18;
  _QWORD *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t Object;
  uint64_t v23;
  uint64_t v24;
  uint64_t *v25;
  _BOOL4 v26;
  uint64_t v27;
  uint64_t *v28;
  uint64_t v29;
  int v30;
  unsigned int v32;
  char *__s1;
  char v34;
  __int16 v35;
  const char **v36;
  int v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t *v42;

  v41 = 0;
  v42 = 0;
  v40 = 0;
  stress_models = 2315264010;
  v38 = 0;
  v39 = 0;
  v37 = 0;
  v36 = 0;
  v35 = -1;
  v34 = 0;
  if (!a5)
    return 2315264007;
  *(_QWORD *)a5 = 0;
  *(_DWORD *)(a5 + 8) = 0;
  inited = InitRsrcFunction(a3, a4, &v42);
  if ((inited & 0x80000000) == 0)
  {
    inited = InitRsrcFunction(a1, a2, &v41);
    if ((inited & 0x80000000) == 0)
    {
      v12 = heap_Calloc((_QWORD *)v42[1], 1, 1728);
      v17 = v42;
      if (!v12
        || (v18 = v12,
            v19 = (_QWORD *)heap_Calloc((_QWORD *)v42[1], 1, 1040),
            *(_QWORD *)(v18 + 48) = v19,
            v17 = v42,
            !v19))
      {
        log_OutPublic(v17[4], (uint64_t)"FE_PHRASING", 37000, 0, v13, v14, v15, v16, v32);
        goto LABEL_46;
      }
      *(_QWORD *)v18 = v42;
      *(_QWORD *)(v18 + 8) = a3;
      v20 = v41;
      *(_QWORD *)(v18 + 16) = a4;
      *(_QWORD *)(v18 + 24) = v20;
      *(_QWORD *)(v18 + 32) = a1;
      *(_QWORD *)(v18 + 40) = a2;
      *v19 = a3;
      v19[1] = a4;
      *(_DWORD *)(*(_QWORD *)(v18 + 48) + 1020) = 0;
      *(_DWORD *)(v18 + 1456) = 0;
      *(_DWORD *)(v18 + 1520) = 0;
      *(_QWORD *)(v18 + 1448) = 0;
      *(_QWORD *)(v18 + 1464) = 0;
      *(_OWORD *)(v18 + 144) = 0u;
      *(_QWORD *)(v18 + 136) = 0;
      *(_DWORD *)(v18 + 1680) = 0;
      *(_OWORD *)(v18 + 1664) = 0u;
      *(_OWORD *)(v18 + 1688) = 0u;
      *(_QWORD *)(v18 + 1704) = safeh_GetNullHandle();
      *(_QWORD *)(v18 + 1712) = v21;
      *(_QWORD *)(v18 + 1536) = 0;
      Object = objc_GetObject(v42[6], (uint64_t)"LINGDB", &v40);
      if ((Object & 0x80000000) != 0)
        goto LABEL_45;
      *(_QWORD *)(v18 + 56) = *(_QWORD *)(v40 + 8);
      Object = objc_GetObject(v42[6], (uint64_t)"FE_DEPES", &v39);
      if ((Object & 0x80000000) != 0)
        goto LABEL_45;
      v23 = v39;
      *(_QWORD *)(v18 + 80) = *(_QWORD *)(v39 + 8);
      *(_OWORD *)(v18 + 64) = *(_OWORD *)(v23 + 16);
      Object = objc_GetObject(v42[6], (uint64_t)"FE_DCTLKP", &v38);
      if ((Object & 0x80000000) != 0)
        goto LABEL_45;
      v24 = v38;
      *(_QWORD *)(v18 + 104) = *(_QWORD *)(v38 + 8);
      *(_OWORD *)(v18 + 88) = *(_OWORD *)(v24 + 16);
      *(_DWORD *)(v18 + 1296) = 0;
      Object = nn_phrasing_checkIfActive(a3, a4, (uint64_t)v42, (_DWORD *)(v18 + 1296));
      if ((Object & 0x80000000) != 0)
        goto LABEL_45;
      if (*(_DWORD *)(v18 + 1296) == 1)
      {
        Object = nn_phrasing_Load(a3, a4, *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), (uint64_t)v42, *(_QWORD *)(v18 + 104), *(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), (unsigned __int16 *)(v18 + 1304));
        if ((Object & 0x80000000) != 0)
          goto LABEL_45;
      }
      Object = isCorpusAlignmentEnabled((uint64_t)v42, &v37);
      if ((Object & 0x80000000) != 0)
      {
LABEL_45:
        stress_models = Object;
        goto LABEL_46;
      }
      if (v37 == 1)
      {
        *(_DWORD *)(v18 + 160) = 0;
        *(_DWORD *)(v18 + 116) = 0;
      }
      else
      {
        Object = usePandP(v42, (_DWORD *)(v18 + 160));
        if ((Object & 0x80000000) != 0)
          goto LABEL_45;
        if (*(_DWORD *)(v18 + 160))
        {
          Object = paramc_ParamSetUInt(v42[5], (uint64_t)"prmigactive", 1u);
          if ((Object & 0x80000000) != 0)
            goto LABEL_45;
          Object = pandpIgtreeInit(a3, a4, a1, a2, (uint64_t)v42, v41, (_QWORD *)(v18 + 920));
          if ((Object & 0x80000000) != 0)
            goto LABEL_45;
          *(_QWORD *)(v18 + 600) = 0;
          *(_DWORD *)(v18 + 608) = 0;
          Object = nuance_pcre_ObjOpen(a3, a4, v18 + 600);
          if ((Object & 0x80000000) != 0)
            goto LABEL_45;
          Object = nuance_pcre_Init(*(_QWORD **)(v18 + 600), *(_QWORD *)(v18 + 608), 0x1Eu, 50);
          if ((Object & 0x80000000) != 0)
            goto LABEL_45;
          v25 = v42;
          *(_QWORD *)(v18 + 168) = v42;
          Object = readPandPRules(a3, a4, (uint64_t)v25, v18 + 176);
          if ((Object & 0x80000000) != 0)
            goto LABEL_45;
        }
        Object = com_mosynt_UseMosynt(*(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), *(_QWORD *)(v18 + 104), (_BOOL4 *)(v18 + 116));
        if ((Object & 0x80000000) != 0)
          goto LABEL_45;
        if (*(_DWORD *)(v18 + 116))
        {
LABEL_30:
          __s1 = 0;
          Object = com_mosynt_GetCfgParamVal(*(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), *(_QWORD *)(v18 + 104), (uint64_t)"mosynt_enablegraphsymcache", "yes", &__s1);
          if ((Object & 0x80000000) != 0)
            goto LABEL_45;
          v26 = strcmp(__s1, "yes") == 0;
          Object = kbsymtab_LoadData(a3, a4, *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), (uint64_t *)(v18 + 120), v26);
          if ((Object & 0x80000000) != 0)
            goto LABEL_45;
          Object = accphr_LoadData(a3, a4, (uint64_t *)(v18 + 128));
          if ((Object & 0x80000000) != 0)
            goto LABEL_45;
LABEL_33:
          Object = com_IncludeCRF(*(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), *(_QWORD *)(v18 + 104), (_BOOL4 *)(v18 + 112));
          if ((Object & 0x80000000) == 0)
          {
            if (!*(_DWORD *)(v18 + 112)
              || (v29 = v41,
                  v28 = v42,
                  *(_QWORD *)(v18 + 168) = v42,
                  Object = pandpCrfInit(a3, a4, a1, a2, (uint64_t)v28, v29, *(_QWORD *)(v18 + 104), v27, *(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), v18 + 920), (Object & 0x80000000) == 0))
            {
              (*(void (**)(_QWORD, _QWORD, const char *, const char *, const char ***, __int16 *, char *))(*(_QWORD *)(v18 + 104) + 96))(*(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), "fecfg", "statbnd_enable_nnets", &v36, &v35, &v34);
              if (v35 && v36)
              {
                (*v36)[strlen(*v36) - 1] = 0;
                *(_DWORD *)(v18 + 1456) = strcmp(*v36, "yes") == 0;
              }
              Object = fe_phrasing_InitNNPhrasing(v18);
              if ((Object & 0x80000000) == 0)
              {
                Object = hlp_useNLUPOSMap(*(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), *(_QWORD *)(v18 + 104), (_DWORD *)(v18 + 1280));
                if ((Object & 0x80000000) == 0)
                {
                  if (*(_DWORD *)(v18 + 1280) != 1
                    || (Object = hlp_loadNLUPOSMap((uint64_t)v42, *(_QWORD *)(v18 + 104), *(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), (uint64_t *)(v18 + 1288)), (Object & 0x80000000) == 0))
                  {
                    fe_phraseing_tryLoadingIGTree(*(_WORD **)(v18 + 8), *(_QWORD *)(v18 + 16), *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), *(_QWORD *)v18, (_QWORD *)(v18 + 1648));
                    stress_models = load_stress_models(*(_WORD **)(v18 + 8), *(_QWORD *)(v18 + 16), *(_QWORD *)v18, *(_QWORD *)(v18 + 88), *(_QWORD *)(v18 + 96), *(_QWORD *)(v18 + 104), a1, a2, (_DWORD *)(v18 + 1680), (_QWORD *)(v18 + 1696), (_QWORD *)(v18 + 1688), *(_QWORD *)(v18 + 1464), (_QWORD *)(v18 + 1472), (_OWORD *)(v18 + 1704), (_WORD *)(v18 + 1720), (_BOOL4 *)(v18 + 1684));
                    if ((stress_models & 0x80000000) == 0)
                    {
                      v30 = 62343;
LABEL_47:
                      *(_QWORD *)a5 = v18;
                      *(_DWORD *)(a5 + 8) = v30;
                      return stress_models;
                    }
LABEL_46:
                    fe_phrasing_ObjClose(*(_QWORD ***)a5, *(_QWORD *)(a5 + 8));
                    v18 = 0;
                    v30 = 0;
                    goto LABEL_47;
                  }
                }
              }
            }
          }
          goto LABEL_45;
        }
      }
      Object = paramc_ParamSetUInt(v42[5], (uint64_t)"prmigactive", 1u);
      if ((Object & 0x80000000) != 0)
        goto LABEL_45;
      if (!*(_DWORD *)(v18 + 116))
        goto LABEL_33;
      goto LABEL_30;
    }
  }
  return inited;
}

uint64_t isCorpusAlignmentEnabled(uint64_t a1, _DWORD *a2)
{
  uint64_t UInt;
  uint64_t result;
  unsigned int v5;

  v5 = 0;
  *a2 = 0;
  UInt = paramc_ParamGetUInt(*(_QWORD *)(a1 + 40), (uint64_t)"statpos_do_corpus_alignment", &v5);
  result = 0;
  if ((UInt & 0x1FFF) != 0x14)
  {
    result = UInt;
    if ((UInt & 0x80000000) == 0)
    {
      result = 0;
      if (v5 == 1)
        *a2 = 1;
    }
  }
  return result;
}

uint64_t fe_phrasing_InitNNPhrasing(uint64_t a1)
{
  uint64_t result;
  uint64_t v3;
  unsigned __int8 *v4;
  uint64_t *v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  int v12;
  char v13;
  __int16 v14;
  const char **v15;

  result = 0;
  v15 = 0;
  v14 = -1;
  v13 = 0;
  if (*(_DWORD *)(a1 + 1456) == 1)
  {
    result = ruleNNInit(*(_WORD **)(a1 + 8), *(_QWORD *)(a1 + 16), *(_QWORD *)a1, *(_QWORD *)(a1 + 104), *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), a1 + 1544, a1 + 1560);
    if ((result & 0x80000000) == 0)
    {
      result = initFiModel(*(_QWORD *)a1, *(_WORD **)(a1 + 8), *(_QWORD *)(a1 + 16), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), *(_QWORD *)(a1 + 104), (_DWORD *)(a1 + 1460), (_QWORD *)(a1 + 1448));
      if ((result & 0x80000000) == 0)
      {
        *(_QWORD *)(a1 + 1464) = 0;
        *(_QWORD *)(a1 + 1472) = safeh_GetNullHandle();
        *(_QWORD *)(a1 + 1480) = v3;
        *(_DWORD *)(a1 + 1520) = 1;
        result = loadEmbedding(*(_QWORD *)(a1 + 8), *(_QWORD *)(a1 + 16), (_QWORD *)(a1 + 1464), (_QWORD *)(a1 + 1472), (uint64_t *)(a1 + 1488), *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), *(_QWORD *)(a1 + 104), (_BOOL4 *)(a1 + 1520));
        if ((result & 0x80000000) == 0)
        {
          v4 = (unsigned __int8 *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, 1776);
          *(_QWORD *)(a1 + 1528) = v4;
          if (v4)
          {
            result = load_pw_cfg(*(_QWORD *)(a1 + 104), *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), v4, *(_QWORD *)a1);
            if ((result & 0x80000000) == 0)
            {
              result = getphraseCfg(*(_QWORD *)a1, *(_QWORD *)(a1 + 104), *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), (unsigned int *)(a1 + 1656), (char **)(a1 + 1664), (char **)(a1 + 1672));
              if ((result & 0x80000000) == 0)
              {
                v12 = 0;
                *(_DWORD *)(a1 + 1524) = 0;
                result = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, const char ***, __int16 *, char *))(*(_QWORD *)(a1 + 104) + 96))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), "fecfg", "statbnd_nopos", &v15, &v14, &v13);
                if ((result & 0x80000000) == 0)
                {
                  if (v14 == 1)
                  {
                    (*v15)[strlen(*v15) - 1] = 0;
                    if (!strcmp(*v15, "yes"))
                      *(_DWORD *)(a1 + 1524) = 1;
                  }
                  result = load_pw_igtree_cfg(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), *(_QWORD *)(a1 + 104), &v12);
                  if ((result & 0x80000000) == 0)
                  {
                    if (v12)
                    {
                      v5 = (uint64_t *)(a1 + 1536);
                      result = load_pw_igtree(*(_WORD **)(a1 + 8), *(_QWORD *)(a1 + 16), *(_QWORD *)a1, (char **)(a1 + 1536));
                      if ((result & 0x80000000) != 0)
                      {
                        if (*v5)
                        {
                          igtree_Deinit(*(_QWORD *)a1, *v5, v6, v7, v8, v9, v10, v11);
                          result = 0;
                          *(_QWORD *)(a1 + 1536) = 0;
                        }
                        else
                        {
                          return 0;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          else
          {
            return 2315264010;
          }
        }
      }
    }
  }
  return result;
}

uint64_t hlp_useNLUPOSMap(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t result;
  const char *v7;
  char *v8;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  *a4 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a3 + 96))(a1, a2, "fecfg", "nluposmap", &__c[3], &__c[1], __c);
  if ((result & 0x80000000) == 0)
  {
    if (*(unsigned __int16 *)&__c[1] != 1 || *(_QWORD *)&__c[3] == 0)
      return 0;
    v7 = **(const char ***)&__c[3];
    v8 = strchr(**(char ***)&__c[3], __c[0]);
    if (v8)
    {
      *v8 = 0;
      v7 = **(const char ***)&__c[3];
    }
    if (!strcmp(v7, "YES") || !strcmp(v7, "yes"))
    {
      result = 0;
      *a4 = 1;
    }
    else
    {
      return 0;
    }
  }
  return result;
}

uint64_t hlp_loadNLUPOSMap(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t *a5)
{
  uint64_t v10;
  const char *v12;
  char *v13;
  int v14;
  _QWORD *v15;
  uint64_t v16;
  unsigned int v17;
  uint64_t v18;
  char *v19;
  char *v20;
  char *v21;
  char *v22;
  int v24;
  char v25[4];
  _BYTE __c[11];
  _BYTE v27[32];
  _QWORD *(*v28)(_QWORD *, _QWORD *);
  uint64_t v29;

  v29 = *MEMORY[0x1E0C80C00];
  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v10 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a2 + 96))(a3, a4, "fecfg", "nluposmapcounter", &__c[3], &__c[1], __c);
  if ((v10 & 0x80000000) == 0 && *(unsigned __int16 *)&__c[1] == 1 && *(_QWORD *)&__c[3] != 0)
  {
    v12 = **(const char ***)&__c[3];
    v13 = strchr(**(char ***)&__c[3], __c[0]);
    if (v13)
    {
      *v13 = 0;
      v12 = **(const char ***)&__c[3];
    }
    v14 = (unsigned __int16)atoi(v12);
    if (v14)
    {
      v15 = *(_QWORD **)(a1 + 8);
      *(_QWORD *)v27 = ssftmap_ElemCopyString;
      *(_QWORD *)&v27[8] = ssftmap_ElemFreeString;
      *(_QWORD *)&v27[16] = ssftmap_ElemCompareKeysString;
      *(_QWORD *)&v27[24] = ssftmap_ElemCopyString;
      v28 = ssftmap_ElemFreeString;
      v16 = ssftmap_ObjOpen(v15, 0, (__int128 *)v27, a5);
      if ((v16 & 0x80000000) != 0)
      {
        return v16;
      }
      else
      {
        v17 = 0;
        v18 = 0;
        v24 = v14;
        do
        {
          memset(&v27[10], 0, 22);
          strcpy(v27, "nluposmap");
          LH_itoa(v17, v25, 0xAu);
          __strcat_chk();
          *(_WORD *)&__c[1] = -1;
          v10 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, _BYTE *, _BYTE *, _BYTE *, _BYTE *))(a2 + 96))(a3, a4, "fecfg", v27, &__c[3], &__c[1], __c);
          if ((v10 & 0x80000000) != 0)
            break;
          if (*(_WORD *)&__c[1])
          {
            v19 = **(char ***)&__c[3];
            v20 = strchr(**(char ***)&__c[3], __c[0]);
            if (v20)
            {
              *v20 = 0;
              v18 = (uint64_t)(v20 + 1);
            }
            if (v19)
            {
              while (1)
              {
                v21 = strchr(v19, 124);
                v22 = v21;
                if (v21)
                  *v21 = 0;
                v10 = ssftmap_Insert(*a5, (uint64_t)v19, v18);
                if ((v10 & 0x80000000) != 0)
                  return v10;
                v19 = v22 + 1;
                if (!v22)
                {
                  v14 = v24;
                  break;
                }
              }
            }
          }
          ++v17;
        }
        while (v17 != v14);
      }
    }
  }
  return v10;
}

uint64_t fe_phraseing_tryLoadingIGTree(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, _QWORD *a6)
{
  uint64_t result;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  _OWORD v19[16];
  uint64_t v20;

  v20 = *MEMORY[0x1E0C80C00];
  memset(v19, 0, sizeof(v19));
  v18 = 0;
  *a6 = 0;
  result = nn_model_getBrokerString(a5, (char *)v19, (uint64_t)"wprules_", 0x100uLL);
  if ((result & 0x80000000) != 0)
    goto LABEL_5;
  result = igtree_Init_ReadOnly_ReferenceCnt(a1, a2, a3, a4, &v18, 2, (uint64_t)v19, (uint64_t)"IGTR", 1031, 0);
  if ((result & 0x80000000) != 0)
  {
    result = log_OutText(*(_QWORD *)(a5 + 32), (uint64_t)"FE_PHRASING", 3, 0, (uint64_t)"failed to read IGtree phrasing model data - going on without", v13, v14, v15, v17);
LABEL_5:
    v16 = 0;
    goto LABEL_6;
  }
  v16 = v18;
LABEL_6:
  *a6 = v16;
  return result;
}

uint64_t fe_phrasing_ObjClose(_QWORD **a1, int a2)
{
  uint64_t result;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t **v17;
  _QWORD *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;

  result = safeh_HandleCheck((uint64_t)a1, a2, 62343, 1728);
  if ((result & 0x80000000) != 0)
    return 2315264008;
  if (a1)
  {
    if (*((_DWORD *)a1 + 40))
    {
      pandpIgtreeDeinit((uint64_t)a1[21], (uint64_t)a1[3], a1 + 115);
      freePandPRules(a1 + 22, v10, v11, v12, v13, v14, v15, v16);
    }
    if (*((_DWORD *)a1 + 364) == 1)
    {
      v17 = (uint64_t **)a1[181];
      if (v17)
      {
        if (*v17)
        {
          fi_deinit((uint64_t)*a1, (uint64_t)a1[3], *v17);
          v17 = (uint64_t **)a1[181];
        }
        if (!*((_DWORD *)a1 + 365))
        {
          fi_deinit((uint64_t)*a1, (uint64_t)a1[3], v17[1]);
          v17 = (uint64_t **)a1[181];
        }
        heap_Free((_QWORD *)(*a1)[1], (uint64_t)v17);
        a1[181] = 0;
      }
      v18 = a1[183];
      if (v18)
      {
        ((void (*)(_QWORD *, _QWORD *))v18[3])(a1[186], a1[187]);
        if (*((_DWORD *)a1 + 380))
          ((void (*)(_QWORD *, _QWORD *))a1[183][3])(a1[188], a1[189]);
        if (!*((_DWORD *)a1 + 420))
        {
          a1[183] = 0;
          objc_UnregisterObject((*a1)[6], (uint64_t)"NNWRDLKP");
        }
      }
      v19 = (uint64_t)a1[192];
      if (v19)
      {
        igtree_Deinit((uint64_t)*a1, v19, v4, v5, v6, v7, v8, v9);
        heap_Free((_QWORD *)(*a1)[1], (uint64_t)a1[192]);
        a1[192] = 0;
      }
      freeSpRules(*a1, (uint64_t)(a1 + 193));
      freePwInObjClose((uint64_t)*a1, (unsigned __int8 *)a1[191], v20, v21, v22, v23, v24, v25);
      freeSPPunc(*a1, (uint64_t)a1[208]);
      freeSPPunc(*a1, (uint64_t)a1[209]);
    }
    if (a1[15])
      kbsymtab_UnloadData(a1[1], (int)a1[2], a1[4], (int)a1[5], (uint64_t *)a1 + 15);
    if (a1[16])
      accphr_UnloadData(a1[1], (int)a1[2], (uint64_t *)a1 + 16);
    if (a1[7])
      objc_ReleaseObject((*a1)[6], (uint64_t)"LINGDB");
    if (a1[10])
      objc_ReleaseObject((*a1)[6], (uint64_t)"FE_DEPES");
    if (a1[13])
      objc_ReleaseObject((*a1)[6], (uint64_t)"FE_DCTLKP");
    v26 = (uint64_t)a1[6];
    if (v26)
      heap_Free((_QWORD *)(*a1)[1], v26);
    if (*((_DWORD *)a1 + 28))
      pandpCrfDeinit((uint64_t)a1[21], (uint64_t)a1[3], (uint64_t)(a1 + 115));
    if (*((_DWORD *)a1 + 324) != 1
      || (result = nn_phrasing_UnLoad((uint64_t)*a1, (uint64_t)a1[3], (uint64_t)(a1 + 163)), (result & 0x80000000) == 0))
    {
      if (*((_DWORD *)a1 + 320) == 1)
        ssftmap_ObjClose((uint64_t)a1[161]);
      v27 = (uint64_t)a1[206];
      if (v27)
      {
        igtree_Deinit_ReadOnly_DereferenceCnt((uint64_t)*a1, (uint64_t)a1[3], v27);
        a1[206] = 0;
      }
      if (*((_DWORD *)a1 + 420))
      {
        free_stress_model((uint64_t)*a1, (uint64_t)a1[3], (uint64_t)a1[212], (uint64_t)a1[211], (uint64_t)a1[183], (uint64_t)a1[213], (uint64_t)a1[214], v9);
        a1[212] = 0;
        a1[183] = 0;
        objc_UnregisterObject((*a1)[6], (uint64_t)"NNWRDLKP");
      }
      heap_Free((_QWORD *)(*a1)[1], (uint64_t)a1);
      return 0;
    }
  }
  return result;
}

uint64_t fe_phrasing_ObjReopen(_QWORD **a1, int a2)
{
  uint64_t v3;
  uint64_t nn_option;
  _DWORD *v5;
  uint64_t v6;
  unsigned __int8 *v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  unsigned __int8 *v22;
  uint64_t *v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  _QWORD *v30;
  _QWORD *v31;
  _DWORD *v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t PandPRules;
  _WORD *v41;
  uint64_t v42;
  int *v43;
  int v44;
  int v45;
  _BOOL4 v46;
  uint64_t v47;
  uint64_t v48;
  char *__s1;
  int v51;

  v3 = 2315264006;
  if ((safeh_HandleCheck((uint64_t)a1, a2, 62343, 1728) & 0x80000000) != 0)
    return 2315264008;
  if (a1)
  {
    if (*((_DWORD *)a1 + 324) == 1)
    {
      nn_option = nn_phrasing_UnLoad((uint64_t)*a1, (uint64_t)a1[3], (uint64_t)(a1 + 163));
      if ((nn_option & 0x80000000) != 0)
        return nn_option;
    }
    *((_DWORD *)a1 + 324) = 0;
    nn_option = nn_phrasing_checkIfActive(a1[1], (uint64_t)a1[2], (uint64_t)*a1, (_DWORD *)a1 + 324);
    if ((nn_option & 0x80000000) != 0)
      return nn_option;
    if (*((_DWORD *)a1 + 324) == 1)
    {
      nn_option = nn_phrasing_Load(a1[1], (uint64_t)a1[2], a1[4], (uint64_t)a1[5], (uint64_t)*a1, (uint64_t)a1[13], (uint64_t)a1[11], (uint64_t)a1[12], (unsigned __int16 *)a1 + 652);
      if ((nn_option & 0x80000000) != 0)
        return nn_option;
    }
    if (*((_DWORD *)a1 + 28))
      pandpCrfDeinit((uint64_t)a1[21], (uint64_t)a1[3], (uint64_t)(a1 + 115));
    v5 = a1 + 182;
    if (*((_DWORD *)a1 + 364))
    {
      freeSpRules(*a1, (uint64_t)(a1 + 193));
      v6 = (uint64_t)*a1;
      v7 = (unsigned __int8 *)a1[191];
      *((_QWORD *)v7 + 138) = *a1;
      freePwInObjClose(v6, v7, v8, v9, v10, v11, v12, v13);
      freeSPPunc(*a1, (uint64_t)a1[208]);
      freeSPPunc(*a1, (uint64_t)a1[209]);
      v20 = (uint64_t)a1[192];
      if (v20)
      {
        igtree_Deinit((uint64_t)*a1, v20, v14, v15, v16, v17, v18, v19);
        heap_Free((_QWORD *)(*a1)[1], (uint64_t)a1[192]);
        a1[192] = 0;
      }
      v21 = (uint64_t)a1[206];
      if (v21)
      {
        igtree_Deinit_ReadOnly_DereferenceCnt((uint64_t)*a1, (uint64_t)a1[3], v21);
        a1[206] = 0;
      }
      if (*((_DWORD *)a1 + 420))
      {
        free_stress_model((uint64_t)*a1, (uint64_t)a1[3], (uint64_t)a1[212], (uint64_t)a1[211], (uint64_t)a1[183], (uint64_t)a1[213], (uint64_t)a1[214], v19);
        *(_OWORD *)(a1 + 211) = 0u;
      }
      nn_option = load_nn_option(a1, (int *)a1 + 364);
      if ((nn_option & 0x80000000) != 0)
        return nn_option;
      if (*v5)
      {
        nn_option = nnEmbeddingReLoad((uint64_t)a1[1], (uint64_t)a1[2], a1 + 183, (uint64_t *)a1 + 184, (uint64_t *)a1 + 186, (uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], (_BOOL4 *)a1 + 380);
        if ((nn_option & 0x80000000) != 0)
          return nn_option;
        nn_option = nnModelReload((uint64_t)*a1, a1[1], (uint64_t)a1[2], (uint64_t)a1[3], a1[4], (uint64_t)a1[5], (uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], (_DWORD *)a1 + 365, (uint64_t ***)a1 + 181);
        if ((nn_option & 0x80000000) != 0)
          return nn_option;
        nn_option = ruleNNInit(a1[1], (uint64_t)a1[2], (uint64_t)*a1, (uint64_t)a1[13], (uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)(a1 + 193), (uint64_t)(a1 + 195));
        if ((nn_option & 0x80000000) != 0)
          return nn_option;
        v22 = (unsigned __int8 *)heap_Calloc((_QWORD *)(*a1)[1], 1, 1776);
        a1[191] = v22;
        nn_option = load_pw_cfg((uint64_t)a1[13], (uint64_t)a1[11], (uint64_t)a1[12], v22, (uint64_t)*a1);
        if ((nn_option & 0x80000000) != 0)
          return nn_option;
        nn_option = getphraseCfg((uint64_t)*a1, (uint64_t)a1[13], (uint64_t)a1[11], (uint64_t)a1[12], (unsigned int *)a1 + 414, (char **)a1 + 208, (char **)a1 + 209);
        if ((nn_option & 0x80000000) != 0)
          return nn_option;
        v51 = 0;
        nn_option = load_pw_igtree_cfg((uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], &v51);
        if ((nn_option & 0x80000000) != 0)
          return nn_option;
        if (v51)
        {
          v23 = (uint64_t *)(a1 + 192);
          if ((load_pw_igtree(a1[1], (uint64_t)a1[2], (uint64_t)*a1, (char **)a1 + 192) & 0x80000000) != 0)
          {
            if (*v23)
            {
              igtree_Deinit((uint64_t)*a1, *v23, v24, v25, v26, v27, v28, v29);
              a1[192] = 0;
            }
          }
        }
        fe_phraseing_tryLoadingIGTree(a1[1], (uint64_t)a1[2], a1[4], (uint64_t)a1[5], (uint64_t)*a1, a1 + 206);
      }
      else
      {
        nn_option = releaseEmbedding((uint64_t)(a1 + 183), (uint64_t *)a1 + 184, a1 + 186, (_DWORD *)a1 + 380);
        if ((nn_option & 0x80000000) != 0)
          return nn_option;
        nn_option = releaseFIModel((uint64_t)*a1, (uint64_t)a1[3], *((_DWORD *)a1 + 365), (uint64_t *)a1 + 181);
        if ((nn_option & 0x80000000) != 0)
          return nn_option;
      }
      a1[213] = (_QWORD *)safeh_GetNullHandle();
      a1[214] = v31;
      *((_DWORD *)a1 + 420) = 0;
      nn_option = load_stress_models(a1[1], (uint64_t)a1[2], (uint64_t)*a1, (uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], a1[4], (uint64_t)a1[5], (_DWORD *)a1 + 420, a1 + 212, a1 + 211, (uint64_t)a1[183], a1 + 184, a1 + 213, (_WORD *)a1 + 860, (_BOOL4 *)a1 + 421);
    }
    else
    {
      nn_option = load_nn_option(a1, (int *)a1 + 364);
      if ((nn_option & 0x80000000) != 0)
        return nn_option;
      if (!*v5)
        goto LABEL_39;
      nn_option = fe_phrasing_InitNNPhrasing((uint64_t)a1);
      if ((nn_option & 0x80000000) != 0)
        return nn_option;
      fe_phraseing_tryLoadingIGTree(a1[1], (uint64_t)a1[2], a1[4], (uint64_t)a1[5], (uint64_t)*a1, a1 + 206);
      a1[213] = (_QWORD *)safeh_GetNullHandle();
      a1[214] = v30;
      *((_DWORD *)a1 + 420) = 0;
      nn_option = load_stress_models(a1[1], (uint64_t)a1[2], (uint64_t)*a1, (uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], a1[4], (uint64_t)a1[5], (_DWORD *)a1 + 420, a1 + 212, a1 + 211, (uint64_t)a1[183], a1 + 184, a1 + 213, (_WORD *)a1 + 860, (_BOOL4 *)a1 + 421);
    }
    if ((nn_option & 0x80000000) != 0)
      return nn_option;
LABEL_39:
    v32 = a1 + 20;
    if (*((_DWORD *)a1 + 40) == 1)
    {
      pandpIgtreeDeinit((uint64_t)a1[21], (uint64_t)a1[3], a1 + 115);
      freePandPRules(a1 + 22, v33, v34, v35, v36, v37, v38, v39);
    }
    bzero(a1 + 22, 0x298uLL);
    nn_option = usePandP(*a1, (_DWORD *)a1 + 40);
    if ((nn_option & 0x80000000) != 0)
      return nn_option;
    if (*v32 != 1)
      goto LABEL_48;
    PandPRules = paramc_ParamSetUInt((*a1)[5], (uint64_t)"prmigactive", 1u);
    if ((PandPRules & 0x80000000) == 0)
    {
      PandPRules = pandpIgtreeInit(a1[1], (uint64_t)a1[2], a1[4], (uint64_t)a1[5], (uint64_t)*a1, (uint64_t)a1[3], a1 + 115);
      if ((PandPRules & 0x80000000) == 0)
      {
        a1[75] = 0;
        *((_DWORD *)a1 + 152) = 0;
        PandPRules = nuance_pcre_ObjOpen(a1[1], (int)a1[2], (uint64_t)(a1 + 75));
        if ((PandPRules & 0x80000000) == 0)
        {
          PandPRules = nuance_pcre_Init(a1[75], (int)a1[76], 0x1Eu, 50);
          if ((PandPRules & 0x80000000) == 0)
          {
            v42 = (uint64_t)*a1;
            v41 = a1[1];
            a1[21] = *a1;
            PandPRules = readPandPRules(v41, (uint64_t)a1[2], v42, (uint64_t)(a1 + 22));
            if ((PandPRules & 0x80000000) == 0)
            {
LABEL_48:
              v43 = (int *)a1 + 29;
              v44 = *((_DWORD *)a1 + 29);
              nn_option = com_mosynt_UseMosynt((uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], (_BOOL4 *)a1 + 29);
              if ((nn_option & 0x80000000) != 0)
                return nn_option;
              v45 = *v43;
              if (v44 == 1)
              {
                if (v45 == 1)
                  goto LABEL_58;
                if (!v45)
                {
                  nn_option = paramc_ParamSetUInt((*a1)[5], (uint64_t)"prmigactive", 1u);
                  if ((nn_option & 0x80000000) != 0)
                    return nn_option;
                  if (a1[15])
                  {
                    nn_option = kbsymtab_UnloadData(a1[1], (int)a1[2], a1[4], (int)a1[5], (uint64_t *)a1 + 15);
                    a1[15] = 0;
                    if ((nn_option & 0x80000000) != 0)
                      return nn_option;
                  }
                  if (a1[16])
                  {
                    nn_option = accphr_UnloadData(a1[1], (int)a1[2], (uint64_t *)a1 + 16);
                    a1[16] = 0;
                    if ((nn_option & 0x80000000) != 0)
                      return nn_option;
                  }
                  if (*v43 == 1)
                  {
LABEL_58:
                    __s1 = 0;
                    if (a1[15])
                    {
                      nn_option = kbsymtab_UnloadData(a1[1], (int)a1[2], a1[4], (int)a1[5], (uint64_t *)a1 + 15);
                      a1[15] = 0;
                      if ((nn_option & 0x80000000) != 0)
                        return nn_option;
                    }
                    if (a1[16])
                    {
                      nn_option = accphr_UnloadData(a1[1], (int)a1[2], (uint64_t *)a1 + 16);
                      a1[16] = 0;
                      if ((nn_option & 0x80000000) != 0)
                        return nn_option;
                    }
LABEL_66:
                    nn_option = com_mosynt_GetCfgParamVal((uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], (uint64_t)"mosynt_enablegraphsymcache", "yes", &__s1);
                    if ((nn_option & 0x80000000) == 0)
                    {
                      v46 = strcmp(__s1, "yes") == 0;
                      nn_option = kbsymtab_LoadData(a1[1], (int)a1[2], a1[4], (int)a1[5], (uint64_t *)a1 + 15, v46);
                      if ((nn_option & 0x80000000) == 0)
                      {
                        nn_option = accphr_LoadData(a1[1], (uint64_t)a1[2], (uint64_t *)a1 + 16);
                        if ((nn_option & 0x80000000) == 0)
                          goto LABEL_69;
                      }
                    }
                    return nn_option;
                  }
                }
              }
              else if (v45 == 1)
              {
                __s1 = 0;
                goto LABEL_66;
              }
LABEL_69:
              nn_option = com_IncludeCRF((uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], (_BOOL4 *)a1 + 28);
              if ((nn_option & 0x80000000) == 0)
              {
                if (!*((_DWORD *)a1 + 28)
                  || (v47 = (uint64_t)*a1,
                      a1[21] = *a1,
                      pandpCrfDeinit(v47, (uint64_t)a1[3], (uint64_t)(a1 + 115)),
                      nn_option = pandpCrfInit(a1[1], (uint64_t)a1[2], a1[4], (uint64_t)a1[5], (uint64_t)*a1, (uint64_t)a1[3], (uint64_t)a1[13], v48, (uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)(a1 + 115)), (nn_option & 0x80000000) == 0))
                {
                  if (*((_DWORD *)a1 + 320) == 1)
                    ssftmap_ObjClose((uint64_t)a1[161]);
                  nn_option = hlp_useNLUPOSMap((uint64_t)a1[11], (uint64_t)a1[12], (uint64_t)a1[13], (_DWORD *)a1 + 320);
                  if ((nn_option & 0x80000000) == 0)
                  {
                    if (*((_DWORD *)a1 + 320) != 1)
                      return 0;
                    return hlp_loadNLUPOSMap((uint64_t)*a1, (uint64_t)a1[13], (uint64_t)a1[11], (uint64_t)a1[12], (uint64_t *)a1 + 161);
                  }
                }
              }
              return nn_option;
            }
          }
        }
      }
    }
    v3 = PandPRules;
    *v32 = 0;
  }
  return v3;
}

uint64_t load_nn_option(_QWORD *a1, int *a2)
{
  uint64_t v3;
  int v4;
  char v6;
  unsigned __int16 v7;
  const char **v8;

  v8 = 0;
  v7 = -1;
  v6 = 0;
  *a2 = 0;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, const char ***, unsigned __int16 *, char *))(a1[13] + 96))(a1[11], a1[12], "fecfg", "statbnd_enable_nnets", &v8, &v7, &v6);
  if ((v3 & 0x80000000) == 0)
  {
    v4 = v7;
    if (v7)
    {
      (*v8)[strlen(*v8) - 1] = 0;
      v4 = strcmp(*v8, "yes") == 0;
    }
    *a2 = v4;
  }
  return v3;
}

uint64_t fe_phrasing_ProcessStart(uint64_t a1, int a2)
{
  uint64_t result;

  result = safeh_HandleCheck(a1, a2, 62343, 1728);
  if ((result & 0x80000000) != 0)
    return 2315264008;
  if (*(_DWORD *)(a1 + 160))
    return setParams(*(_QWORD *)a1, *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), *(_QWORD *)(a1 + 104), a1 + 176);
  return result;
}

uint64_t fe_phrasing_Process_PandP(uint64_t a1, int a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t SentenceData;
  uint64_t Prominence;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;

  if ((safeh_HandleCheck(a1, a2, 62343, 1728) & 0x80000000) != 0)
    return 2315264008;
  *a5 = 1;
  SentenceData = getSentenceData(*(_QWORD *)a1, *(_QWORD *)(a1 + 48), *(_QWORD *)(a1 + 56), a3, a4, a1 + 168, *(uint64_t **)(a1 + 120), 0);
  if ((SentenceData & 0x80000000) == 0 && *(_WORD *)(a1 + 848))
  {
    getProsodicStructure(a1 + 168, v9, v10, v11, v12, v13, v14, v15);
    if ((Prominence & 0x80000000) == 0)
    {
      Prominence = getProminence(a1 + 168, v18, v19, v20, v21, v22, v23, v24);
      if ((Prominence & 0x80000000) == 0)
        Prominence = updateLingdb(*(_QWORD *)(a1 + 56), a3, a4, a1 + 168);
    }
    SentenceData = Prominence;
  }
  freeSentenceData(a1 + 168);
  freeProsodicStructure((_QWORD *)(a1 + 168));
  return SentenceData;
}

uint64_t fe_phrasing_Process_Mosynt(uint64_t *a1, int a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t PhrasingOutput;
  uint64_t v10;
  unsigned __int16 v11;
  void *v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  _OWORD *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t started;
  unsigned int v27;
  __int16 v28;
  __int16 v29;
  __int16 v30;
  __int16 v31;
  int v32;
  char *v33;
  char *__s;

  v31 = 0;
  PhrasingOutput = 2315264010;
  if ((safeh_HandleCheck((uint64_t)a1, a2, 62343, 1728) & 0x80000000) != 0)
    return 2315264008;
  v33 = 0;
  __s = 0;
  v32 = 0;
  *a5 = 1;
  v10 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1[7] + 104))(a3, a4, 1, 0, (char *)&v32 + 2);
  if ((v10 & 0x80000000) == 0
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a1[7] + 184))(a3, a4, HIWORD(v32), 0, &v31) & 0x80000000) == 0&& v31 == 1)
  {
    v10 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a1[7] + 176))(a3, a4, HIWORD(v32), 0, &__s, &v32);
    if ((v10 & 0x80000000) == 0 && (unsigned __int16)v32 >= 2u)
    {
      v11 = strlen(__s);
      v12 = (void *)heap_Alloc(*(_QWORD *)(*a1 + 8), v11 + 1);
      if (v12)
      {
        v17 = (uint64_t)v12;
        memset(v12, 32, v11);
        *(_BYTE *)(v17 + v11) = 0;
        v18 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1[7] + 176))(a3, a4, HIWORD(v32), 2, &v33, &v32);
        if ((v18 & 0x80000000) != 0)
        {
          PhrasingOutput = v18;
          goto LABEL_29;
        }
        v19 = (_OWORD *)heap_Alloc(*(_QWORD *)(*a1 + 8), 32);
        if (!v19)
        {
          log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v20, v21, v22, v23, v27);
          goto LABEL_29;
        }
        v24 = (uint64_t)v19;
        *v19 = 0u;
        v19[1] = 0u;
        started = mosynt_StartAccentPhrasing(a1[6], a1[11], a1[12], a1[13], (uint64_t *)a1[15], a1[16], (uint64_t)v19);
        if ((started & 0x80000000) == 0)
        {
          started = fe_phrasing_mosynt_SetupInput((uint64_t)a1, a3, a4, HIWORD(v32), v24);
          if ((started & 0x80000000) == 0)
          {
            mosynt_DoAccentPhrasing(a1[6], v24, v33);
            if ((started & 0x80000000) == 0)
            {
              started = fe_phrasing_mosynt_SetProminenceValues((uint64_t)a1, a3, a4, HIWORD(v32), v24);
              if ((started & 0x80000000) == 0)
              {
                v30 = 0;
                started = fe_phrasing_mosynt_DeleteAuxWords(a1, a3, a4, HIWORD(v32), v17, &v30);
                if ((started & 0x80000000) == 0)
                {
                  v28 = 0;
                  started = fe_phrasing_mosynt_SplitWords(a1, a3, a4, HIWORD(v32), v17, &v28);
                  if ((started & 0x80000000) == 0)
                  {
                    v29 = 0;
                    started = fe_phrasing_mosynt_MeltClitics(a1, a3, a4, HIWORD(v32), v17, &v29);
                    if ((started & 0x80000000) == 0)
                    {
                      PhrasingOutput = fe_phrasing_mosynt_CreatePhrasingOutput((uint64_t)a1, a3, a4, HIWORD(v32), v24);
                      if ((PhrasingOutput & 0x80000000) != 0 || !v28 && !v30 && !v29)
                        goto LABEL_23;
                      started = fe_phrasing_mosynt_AdjustSentenceAndMarkers(a1, a3, a4, HIWORD(v32), v11, (unsigned __int16)(v28 + v11 - (v30 + v29)), v17);
                    }
                  }
                }
              }
            }
          }
        }
        PhrasingOutput = started;
LABEL_23:
        mosynt_FinishAccentPhrasing(a1[6], v24);
        heap_Free(*(_QWORD **)(*a1 + 8), v24);
LABEL_29:
        heap_Free(*(_QWORD **)(*a1 + 8), v17);
        return PhrasingOutput;
      }
      log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v13, v14, v15, v16, v27);
      return 2315264010;
    }
  }
  return v10;
}

uint64_t fe_phrasing_mosynt_SetupInput(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t result;
  unsigned __int16 v11;
  unsigned __int16 v12;
  int v13;
  char v15;
  _BOOL4 IsPunctChar;
  uint64_t v17;
  uint64_t v18;
  char *__s;
  int v20;
  __int16 v21;
  unsigned __int16 v22;
  _WORD v23[3];
  int v24;

  v24 = 0;
  memset(v23, 0, sizeof(v23));
  v21 = 0;
  v18 = 0;
  __s = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t *, int *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, a4, 0, &v18, &v24);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, a4, (char *)&v24 + 2);
    if ((result & 0x80000000) == 0)
    {
      v22 = 0;
      v11 = HIWORD(v24);
      if (HIWORD(v24))
      {
        v12 = 0;
        v13 = 0;
        v20 = 0;
        while (1)
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, _WORD *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v11, 0, 1, &v23[1], &v24);
          if ((result & 0x80000000) != 0)
            break;
          if (*(_DWORD *)&v23[1] > 0xAu || ((1 << SLOBYTE(v23[1])) & 0x610) == 0)
          {
            v17 = HIWORD(v24);
          }
          else
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, _WORD *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v24), 1, 1, v23, &v24);
            if ((result & 0x80000000) != 0)
              return result;
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v24), 2, 1, &v22, &v24);
            if ((result & 0x80000000) != 0)
              return result;
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(*(_QWORD *)(a1 + 56)
                                                                                                  + 176))(a2, a3, HIWORD(v24), 3, &__s, &v24);
            if ((result & 0x80000000) != 0)
              return result;
            if (v12)
            {
              result = hlp_ReadSildur(a1, a2, a3, v12, &v21, &v20);
              if ((result & 0x80000000) != 0)
                return result;
              if (v20 && v21)
                mosynt_InsertAccPhrPunct(*(_QWORD *)(a1 + 48), a5, v13 + 1, 44);
            }
            mosynt_InsertAccPhrTermWord(*(_QWORD *)(a1 + 48), a5, v23[0], v22 + 1, HIWORD(v24), __s);
            if (v22)
            {
              v15 = *(_BYTE *)(v18 + v22 - 1);
              if (mosynt_IsPunctChar(*(_QWORD *)(a1 + 48), a5, v15))
                mosynt_InsertAccPhrPunct(*(_QWORD *)(a1 + 48), a5, v22 + 1, v15);
              v13 = v22;
              if (v22)
              {
                if (!*(_BYTE *)(v18 + v22))
                {
                  IsPunctChar = mosynt_IsPunctChar(*(_QWORD *)(a1 + 48), a5, *(char *)(v18 + v22 - 1));
                  v13 = v22;
                  if (!IsPunctChar)
                  {
                    mosynt_InsertAccPhrPunct(*(_QWORD *)(a1 + 48), a5, v22 + 1, 46);
                    v13 = v22;
                  }
                }
              }
            }
            else
            {
              v13 = 0;
            }
            v17 = HIWORD(v24);
            v12 = HIWORD(v24);
          }
          result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, v17, (char *)&v24 + 2);
          if ((result & 0x80000000) == 0)
          {
            v11 = HIWORD(v24);
            if (HIWORD(v24))
              continue;
          }
          return result;
        }
      }
    }
  }
  return result;
}

uint64_t fe_phrasing_mosynt_SetProminenceValues(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t result;
  unsigned __int16 i;
  __int16 v12;
  __int16 v13;
  int v14;
  unsigned int v15;
  __int16 v16;
  unsigned __int16 v17;
  char __s[10];
  uint64_t v19;

  v19 = *MEMORY[0x1E0C80C00];
  v17 = 0;
  v16 = 0;
  v14 = 0;
  v15 = 0;
  v13 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, unsigned __int16 *))(*(_QWORD *)(a1 + 56)
                                                                                             + 104))(a2, a3, 2, a4, &v17);
  if ((result & 0x80000000) == 0)
  {
    for (i = v17; v17; i = v17)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, __int16 *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, i, 0, 1, &v15, &v16);
      if ((result & 0x80000000) != 0)
        break;
      if (v15 <= 0xA && ((1 << v15) & 0x610) != 0)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v17, 1, 1, (char *)&v14 + 2, &v16);
        if ((result & 0x80000000) != 0)
          break;
        result = mosynt_GetWordProminence(*(_QWORD *)(a1 + 48), a5, HIWORD(v14), &v14);
        if ((result & 0x80000000) != 0)
          break;
        LH_itoa((unsigned __int16)v14, __s, 0xAu);
        v12 = strlen(__s);
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v17, 13, (unsigned __int16)(v12 + 1), __s, &v13);
        if ((result & 0x80000000) != 0)
          break;
      }
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, v17, &v17);
      if ((result & 0x80000000) != 0)
        break;
    }
  }
  return result;
}

uint64_t fe_phrasing_mosynt_DeleteAuxWords(_QWORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _WORD *a6)
{
  uint64_t v12;
  uint64_t v13;
  const char *v14;
  uint64_t v16;
  char *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  char *v22;
  __int16 v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  _BYTE *v28;
  unint64_t v29;
  int v30;
  int v31;
  unsigned int v33;
  int v34;
  uint64_t v35;
  char *__s1;
  int v37;
  unsigned int v38;
  __int16 v39;
  int v40;

  v40 = 0;
  v39 = 0;
  v37 = 0;
  v38 = 0;
  v35 = 0;
  __s1 = 0;
  v34 = 0;
  *a6 = 0;
  v12 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t *, int *))(a1[7] + 176))(a2, a3, a4, 0, &v35, &v40);
  if ((v12 & 0x80000000) != 0)
    return v12;
  v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a1[7] + 104))(a2, a3, 2, a4, (char *)&v40 + 2);
  if ((v13 & 0x80000000) == 0 && HIWORD(v40))
  {
    v12 = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a2, a3);
    if ((v12 & 0x80000000) == 0)
    {
      v14 = 0;
      while (1)
      {
        if (v38 > 0xA || ((1 << v38) & 0x610) == 0)
          goto LABEL_18;
        v16 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1[7] + 168))(a2, a3, HIWORD(v40), 1, 1, (char *)&v37 + 2, &v40);
        if ((v16 & 0x80000000) != 0
          || (v16 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1[7] + 168))(a2, a3, HIWORD(v40), 2, 1, &v37, &v40), (v16 & 0x80000000) != 0)|| (v16 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1[7] + 176))(a2, a3, HIWORD(v40), 3, &__s1, &v40), (v16 & 0x80000000) != 0))
        {
LABEL_37:
          v13 = v16;
LABEL_38:
          if (!v14)
            return v13;
LABEL_39:
          heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v14);
          return v13;
        }
        if (!strstr(__s1, "{DEL}"))
          goto LABEL_18;
        v16 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1[7] + 312))(a2, a3, HIWORD(v37), &v34);
        if ((v16 & 0x80000000) != 0)
          goto LABEL_37;
        if (v34)
          break;
        v26 = HIWORD(v37);
        v27 = (unsigned __int16)v37;
        if (HIWORD(v37) < (unsigned __int16)v37)
        {
          v28 = (_BYTE *)(a5 + HIWORD(v37));
          v29 = (unsigned __int16)v37 - (unint64_t)HIWORD(v37);
          do
          {
            *v28++ = 100;
            ++*a6;
            --v29;
          }
          while (v29);
        }
        v25 = HIWORD(v40);
        v30 = *(unsigned __int8 *)(v35 + v27);
        if (v30 != 32 && v30 != 95)
        {
          if (!(_DWORD)v26)
            goto LABEL_19;
          v31 = *(unsigned __int8 *)(v35 + (v26 - 1));
          if (v31 != 95 && v31 != 32)
            goto LABEL_19;
          v27 = v26 - 1;
        }
        *(_BYTE *)(a5 + v27) = 100;
        ++*a6;
LABEL_19:
        v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1[7] + 120))(a2, a3, HIWORD(v40), (char *)&v40 + 2);
        if ((v13 & 0x80000000) != 0)
          goto LABEL_38;
        if ((_DWORD)v25)
        {
          v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(a1[7] + 192))(a2, a3, v25);
          if ((v13 & 0x80000000) != 0)
            goto LABEL_38;
        }
        if (!HIWORD(v40))
          goto LABEL_38;
        v16 = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a2, a3);
        if ((v16 & 0x80000000) != 0)
          goto LABEL_37;
      }
      v17 = (char *)heap_Alloc(*(_QWORD *)(*a1 + 8), 5000);
      if (!v17)
      {
        log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v18, v19, v20, v21, v33);
        return 2315264010;
      }
      v14 = v17;
      v22 = strcpy(v17, __s1);
      mosynt_RemoveAllSubstrOcc(v22, "{DEL}");
      v23 = strlen(v14);
      v24 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a1[7] + 160))(a2, a3, HIWORD(v40), 3, (unsigned __int16)(v23 + 1), v14, &v39);
      if ((v24 & 0x80000000) != 0)
      {
        v13 = v24;
        goto LABEL_39;
      }
LABEL_18:
      v25 = 0;
      goto LABEL_19;
    }
    return v12;
  }
  return v13;
}

uint64_t fe_phrasing_mosynt_SplitWords(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _WORD *a6)
{
  _WORD *v6;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  char *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  const char *v25;
  uint64_t UTF8Char;
  uint64_t v27;
  unsigned __int16 v28;
  unsigned __int8 *v30;
  unsigned int v31;
  unsigned int v32;
  unsigned int v33;
  unsigned __int16 v34;
  BOOL v35;
  char v36;
  uint64_t v37;
  __int16 v38;
  __int16 v39;
  unsigned int v40;
  char v41;
  __int16 v42;
  BOOL v43;
  int v44;
  unsigned __int16 v45;
  unsigned __int16 v46;
  __int16 v47;
  unsigned int v48;
  int v49;
  unsigned int v50;
  uint64_t SubPosForSEPX;
  char *v52;
  const char *v53;
  __int16 v54;
  const char *v55;
  __int16 v56;
  __int16 v57;
  const char *v58;
  __int16 v59;
  unsigned int v61;
  uint64_t v62;
  _WORD *v63;
  uint64_t v64;
  const char *v65;
  unsigned int v66;
  unsigned int v67;
  unsigned int v68;
  int v69[2];
  int v70[2];
  unsigned __int16 v71;
  const char *v72;
  char *v73;
  char *__s;
  char *v75;
  __int16 v76;
  int v77;
  int v78;
  unsigned int v79;
  int v80;
  unsigned __int16 v81;
  uint64_t v82;
  char *v83;
  int v84;
  unsigned int v85;
  __int16 v86;
  int v87;

  v6 = a6;
  v87 = 0;
  v86 = 0;
  v84 = 0;
  v85 = 0;
  v83 = 0;
  v82 = 0;
  v81 = 0;
  v79 = 0;
  v80 = 0;
  v77 = 0;
  v78 = 0;
  v76 = 0;
  __s = 0;
  v75 = 0;
  *a6 = 0;
  if ((com_mosynt_GetCfgParamVal(a1[11], a1[12], a1[13], (uint64_t)"fephrase_max_utf8_sym", "5", &v75) & 0x80000000) != 0)
    v12 = 5;
  else
    v12 = atoi(v75);
  v13 = heap_Alloc(*(_QWORD *)(*a1 + 8), v12);
  v18 = *a1;
  if (v13)
  {
    v19 = (char *)v13;
    v20 = heap_Alloc(*(_QWORD *)(v18 + 8), 5000);
    if (!v20)
    {
      v27 = 2315264010;
      log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v21, v22, v23, v24, v61);
LABEL_107:
      heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v19);
      return v27;
    }
    v25 = (const char *)v20;
    UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t *, int *))(a1[7] + 176))(a2, a3, a4, 0, &v82, &v87);
    if ((UTF8Char & 0x80000000) == 0)
    {
      v27 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a1[7] + 104))(a2, a3, 2, a4, (char *)&v87 + 2);
      if ((v27 & 0x80000000) != 0)
        goto LABEL_106;
      v28 = HIWORD(v87);
      if (!HIWORD(v87))
        goto LABEL_106;
      v62 = a5;
      while (1)
      {
        UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a1[7] + 168))(a2, a3, v28, 0, 1, &v85, &v87);
        if ((UTF8Char & 0x80000000) != 0)
          break;
        if (v85 <= 0xA && ((1 << v85) & 0x610) != 0)
        {
          UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1[7] + 168))(a2, a3, HIWORD(v87), 1, 1, (char *)&v84 + 2, &v87);
          if ((UTF8Char & 0x80000000) != 0)
            break;
          UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1[7] + 168))(a2, a3, HIWORD(v87), 2, 1, &v84, &v87);
          if ((UTF8Char & 0x80000000) != 0)
            break;
          UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1[7] + 176))(a2, a3, HIWORD(v87), 3, &v83, &v87);
          if ((UTF8Char & 0x80000000) != 0)
            break;
          v77 = 0;
          v30 = (unsigned __int8 *)strstr(v83, "{SEP");
          if (v30)
          {
            UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1[7] + 312))(a2, a3, HIWORD(v84), &v77);
            if ((UTF8Char & 0x80000000) != 0)
              break;
            v63 = v6;
            v31 = v30[4] - 48;
            if (v31 <= 9 && v30[5] == 125 && v30[6])
            {
              v32 = (unsigned __int16)((_WORD)v30 - (_WORD)v83);
            }
            else
            {
              LOWORD(v31) = 0;
              v32 = 0;
            }
            v33 = HIWORD(v84);
            UTF8Char = utf8_getUTF8Char(v82, HIWORD(v84), v19);
            if ((UTF8Char & 0x80000000) != 0)
              break;
            v67 = v32;
            v65 = v25;
            if (v33 < (unsigned __int16)v84)
            {
              v34 = 0;
              while (1)
              {
                if (*v19)
                  v35 = v34 >= (unsigned __int16)v31;
                else
                  v35 = 1;
                v36 = v35;
                if (v35)
                {
LABEL_41:
                  v38 = v33;
                  goto LABEL_44;
                }
                v33 += strlen(v19);
                v37 = utf8_getUTF8Char(v82, (unsigned __int16)v33, v19);
                if ((v37 & 0x80000000) != 0)
                  break;
                ++v34;
                while (!strcmp(v19, "-"))
                {
                  v33 += strlen(v19);
                  v37 = utf8_getUTF8Char(v82, (unsigned __int16)v33, v19);
                  if ((v37 & 0x80000000) != 0)
                    goto LABEL_109;
                }
                if ((unsigned __int16)v84 <= (unsigned __int16)v33)
                  goto LABEL_41;
              }
LABEL_109:
              v27 = v37;
              v25 = v65;
              goto LABEL_106;
            }
            v34 = 0;
            v36 = 0;
            v38 = v33;
LABEL_44:
            if (v34 == (unsigned __int16)v31)
            {
              v41 = v36 ^ 1;
              if (HIWORD(v84) >= (unsigned __int16)v33)
                v41 = 1;
              v42 = v38 - HIWORD(v84);
              if ((v41 & 1) != 0)
                v39 = 0;
              else
                v39 = v42;
            }
            else
            {
              v39 = 0;
            }
            v6 = v63;
            v25 = v65;
            v40 = v67;
          }
          else
          {
            v39 = 0;
            v40 = 0;
          }
          if (!v77 && v39 && v40)
          {
            v72 = 0;
            v73 = 0;
            v71 = 0;
            v43 = (*(int (**)(uint64_t, uint64_t, _QWORD, uint64_t, int *))(a1[7] + 184))(a2, a3, HIWORD(v87), 14, &v87) >= 0&& (unsigned __int16)v87 == 1;
            v44 = v43;
            if (v43)
            {
              UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1[7] + 176))(a2, a3, HIWORD(v87), 14, &v73, &v87);
              if ((UTF8Char & 0x80000000) != 0)
                break;
              hlp_NLUStrFind(v73, "POS", (uint64_t *)&v72, &v71);
            }
            v68 = v40;
            HIWORD(v78) = HIWORD(v87);
            v45 = HIWORD(v87);
            LOWORD(v78) = HIWORD(v84);
            if (HIWORD(v87))
            {
              while (1)
              {
                v46 = v45;
                UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1[7] + 120))(a2, a3, v45, (char *)&v78 + 2);
                if ((UTF8Char & 0x80000000) != 0)
                  goto LABEL_105;
                if (!HIWORD(v78))
                  goto LABEL_76;
                UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a2, a3);
                if ((UTF8Char & 0x80000000) != 0)
                  goto LABEL_105;
                v45 = HIWORD(v78);
                if (!HIWORD(v78) || (unsigned __int16)v78 != HIWORD(v84))
                  goto LABEL_76;
              }
            }
            v46 = 0;
LABEL_76:
            UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1[7] + 80))(a2, a3, v46, &v81);
            if ((UTF8Char & 0x80000000) != 0)
              break;
            hlp_CopyWordRec((uint64_t)a1, a2, a3, HIWORD(v87), v81);
            v48 = (unsigned __int16)v84;
            LOWORD(v84) = HIWORD(v84) + v39;
            UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1[7] + 160))(a2, a3, HIWORD(v87), 2, 1, &v84, &v86);
            if ((UTF8Char & 0x80000000) != 0)
              break;
            UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1[7] + 160))(a2, a3, v81, 1, 1, &v84, &v86);
            if ((UTF8Char & 0x80000000) != 0)
              break;
            v66 = v48;
            if (v71)
              v49 = v44;
            else
              v49 = 0;
            v50 = v68;
            if (v49 == 1)
            {
              *(_QWORD *)v69 = 0;
              *(_QWORD *)v70 = 0;
              UTF8Char = hlp_splitNLURangeTags(a1, v73, (unsigned __int8 **)v70, (unsigned __int8 **)v69);
              if ((UTF8Char & 0x80000000) != 0)
                break;
              SubPosForSEPX = hlp_GetSubPosForSEPX((uint64_t)a1, HIWORD(v84), (unsigned __int16)v84, v82, v72, v71, 0, &__s);
              v52 = __s;
              if ((SubPosForSEPX & 0x80000000) != 0)
                goto LABEL_110;
              v53 = *(const char **)v70;
              hlp_NLUStrSet(*(char **)v70, "POS", __s);
              v54 = strlen(v53);
              v64 = (uint64_t)v53;
              SubPosForSEPX = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a1[7] + 160))(a2, a3, HIWORD(v87), 14, (unsigned __int16)(v54 + 1), v53, &v86);
              if ((SubPosForSEPX & 0x80000000) != 0)
                goto LABEL_110;
              if (v52)
              {
                heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v52);
                __s = 0;
              }
              SubPosForSEPX = hlp_GetSubPosForSEPX((uint64_t)a1, (unsigned __int16)v84, v66, v82, v72, v71, 1, &__s);
              v52 = __s;
              if ((SubPosForSEPX & 0x80000000) != 0
                || (v55 = *(const char **)v69,
                    hlp_NLUStrSet(*(char **)v69, "POS", __s),
                    v56 = strlen(v55),
                    SubPosForSEPX = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a1[7] + 160))(a2, a3, v81, 14, (unsigned __int16)(v56 + 1), v55, &v86), (SubPosForSEPX & 0x80000000) != 0))
              {
LABEL_110:
                v27 = SubPosForSEPX;
                if (v52)
                  heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v52);
                goto LABEL_106;
              }
              if (v52)
              {
                heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v52);
                __s = 0;
              }
              v50 = v68;
              if (v64)
                heap_Free(*(_QWORD **)(*a1 + 8), v64);
              if (v55)
                heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v55);
            }
            v79 = 0;
            mosynt_App((uint64_t)v25, 5000, &v79, v83, &v80);
            v25[v50] = 0;
            v57 = strlen(v25);
            UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a1[7] + 160))(a2, a3, HIWORD(v87), 3, (unsigned __int16)(v57 + 1), v25, &v86);
            if ((UTF8Char & 0x80000000) != 0)
              break;
            v58 = &v83[v50 + 6];
            v59 = strlen(v58);
            UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a1[7] + 160))(a2, a3, v81, 3, (unsigned __int16)(v59 + 1), v58, &v86);
            if ((UTF8Char & 0x80000000) != 0)
              break;
            UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a1[7] + 160))(a2, a3, HIWORD(v87), 8, 1, &v76, &v86);
            if ((UTF8Char & 0x80000000) != 0)
              break;
            *(_BYTE *)(v62 + (unsigned __int16)v84) = 105;
            ++*v6;
          }
          else if (v30)
          {
            v79 = 0;
            mosynt_App((uint64_t)v25, 5000, &v79, v83, &v80);
            v79 = v40;
            mosynt_App((uint64_t)v25, 5000, &v79, v30 + 6, &v80);
            v47 = strlen(v25);
            UTF8Char = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a1[7] + 160))(a2, a3, HIWORD(v87), 3, (unsigned __int16)(v47 + 1), v25, &v86);
            if ((UTF8Char & 0x80000000) != 0)
              break;
          }
        }
        v27 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1[7] + 120))(a2, a3, HIWORD(v87), (char *)&v87 + 2);
        if ((v27 & 0x80000000) == 0)
        {
          v28 = HIWORD(v87);
          if (HIWORD(v87))
            continue;
        }
        goto LABEL_106;
      }
    }
LABEL_105:
    v27 = UTF8Char;
LABEL_106:
    heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v25);
    goto LABEL_107;
  }
  v27 = 2315264010;
  log_OutPublic(*(_QWORD *)(v18 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v14, v15, v16, v17, v61);
  return v27;
}

uint64_t fe_phrasing_mosynt_MeltClitics(_QWORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _WORD *a6)
{
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  char *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int v22;
  char *v24;
  _BOOL4 v25;
  _BOOL4 v26;
  char *v27;
  int v28;
  int v29;
  int v30;
  _BOOL4 v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  int v35;
  __int16 v36;
  __int16 v37;
  unsigned int v39;
  _BOOL4 v40;
  uint64_t v41;
  _WORD *v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  int v46;
  uint64_t v47;
  _BYTE *v48;
  char *__s;
  __int16 v50;
  unsigned __int16 v51;
  unsigned __int16 v52;
  unsigned int v53;
  __int16 v54;
  int v55;

  v55 = 0;
  v54 = 0;
  v53 = 0;
  v52 = 0;
  v51 = 0;
  v48 = 0;
  __s = 0;
  v47 = 0;
  v46 = 0;
  v45 = 0;
  *a6 = 0;
  v12 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t *, int *))(a1[7] + 176))(a2, a3, a4, 0, &v45, &v55);
  if ((v12 & 0x80000000) != 0)
    return v12;
  v13 = heap_Alloc(*(_QWORD *)(*a1 + 8), 5000);
  if (v13)
  {
    v18 = (char *)v13;
    v50 = 0;
    v19 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a1[7] + 104))(a2, a3, 2, a4, (char *)&v55 + 2);
    if ((v19 & 0x80000000) == 0)
    {
      v41 = a5;
      v42 = a6;
      if (HIWORD(v55))
      {
        v20 = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a2, a3);
        if ((v20 & 0x80000000) == 0)
        {
          v43 = 0;
          v21 = 0;
          v22 = 0;
          do
          {
            if (v53 > 0xA || ((1 << v53) & 0x610) == 0)
            {
              v32 = 0;
              v33 = HIWORD(v55);
              v34 = v21;
            }
            else
            {
              v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(a1[7] + 168))(a2, a3, HIWORD(v55), 1, 1, &v52, &v55);
              if ((v20 & 0x80000000) != 0)
                break;
              v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(a1[7] + 168))(a2, a3, HIWORD(v55), 2, 1, &v51, &v55);
              if ((v20 & 0x80000000) != 0)
                break;
              v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1[7] + 176))(a2, a3, HIWORD(v55), 3, &__s, &v55);
              if ((v20 & 0x80000000) != 0)
                break;
              v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t *))(a1[7] + 312))(a2, a3, v52, &v47);
              if ((v20 & 0x80000000) != 0)
                break;
              v24 = __s;
              if (strchr(__s, 123))
              {
                v25 = strstr(v24, "{LPC}") != 0;
                v26 = strstr(v24, "{LEC}") != 0;
                HIDWORD(v44) = strstr(v24, "{RPC}") != 0;
                LODWORD(v44) = strstr(v24, "{REC}") != 0;
                v27 = strstr(v24, "{LPCC}");
                v28 = v52;
                if (v27 && v52 && *(_BYTE *)(v45 + v52 - 1) == 95)
                  v25 = 1;
                if (strstr(v24, "{LECC}") && v28 && *(_BYTE *)(v45 + (v28 - 1)) == 95)
                  v26 = 1;
                if (strstr(v24, "{RPCC}"))
                {
                  v29 = HIDWORD(v44);
                  if (*(_BYTE *)(v45 + v51) == 95)
                    v29 = 1;
                  HIDWORD(v44) = v29;
                }
                if (strstr(v24, "{RECC}"))
                {
                  v30 = v44;
                  if (*(_BYTE *)(v45 + v51) == 95)
                    v30 = 1;
                  LODWORD(v44) = v30;
                }
                v31 = v26;
              }
              else
              {
                v25 = 0;
                v31 = 0;
                v44 = 0;
              }
              if (WORD2(v43) && (v35 = v25 | v22, v35 | v31 | v21))
              {
                v40 = v31;
                v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(a1[7] + 168))(a2, a3, WORD2(v43), 1, 1, &v50, &v55);
                if ((v20 & 0x80000000) != 0)
                  break;
                v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _BYTE **, int *))(a1[7] + 176))(a2, a3, WORD2(v43), 3, &v48, &v55);
                if ((v20 & 0x80000000) != 0)
                  break;
                if (v35 && !(_DWORD)v43 && !(_DWORD)v47)
                  hlp_CopyWordRec((uint64_t)a1, a2, a3, HIWORD(v55), WORD2(v43));
                HIDWORD(v47) = 0;
                mosynt_App((uint64_t)v18, 5000, (unsigned int *)&v47 + 1, v48, &v46);
                if (!(v43 | v47))
                  mosynt_App((uint64_t)v18, 5000, (unsigned int *)&v47 + 1, __s, &v46);
                mosynt_RemoveAllSubstrOcc(v18, "{LEC}");
                mosynt_RemoveAllSubstrOcc(v18, "{LPC}");
                mosynt_RemoveAllSubstrOcc(v18, "{RPC}");
                mosynt_RemoveAllSubstrOcc(v18, "{REC}");
                mosynt_RemoveAllSubstrOcc(v18, "{LECC}");
                mosynt_RemoveAllSubstrOcc(v18, "{LPCC}");
                mosynt_RemoveAllSubstrOcc(v18, "{RPCC}");
                mosynt_RemoveAllSubstrOcc(v18, "{RECC}");
                v36 = strlen(v18);
                v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1[7] + 160))(a2, a3, WORD2(v43), 3, (unsigned __int16)(v36 + 1), v18, &v54);
                v22 = HIDWORD(v44);
                if ((v20 & 0x80000000) != 0)
                  break;
                if (v43 | v47)
                {
                  v32 = 0;
                  v34 = v44;
                }
                else
                {
                  v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(a1[7] + 160))(a2, a3, WORD2(v43), 1, 1, &v50, &v54);
                  v34 = v44;
                  if ((v20 & 0x80000000) != 0)
                    break;
                  v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, __int16 *))(a1[7] + 160))(a2, a3, WORD2(v43), 2, 1, &v51, &v54);
                  if ((v20 & 0x80000000) != 0)
                    break;
                  *(_BYTE *)(v52 + v41 - 1) = 100;
                  ++*v42;
                  v32 = HIWORD(v55);
                }
                v31 = v40;
              }
              else
              {
                v32 = 0;
                v34 = v44;
                v22 = HIDWORD(v44);
              }
              v33 = v32;
              if ((_DWORD)v32 != HIWORD(v55))
              {
                if ((v31 || v25) | v22 | v34)
                {
                  HIDWORD(v47) = 0;
                  mosynt_App((uint64_t)v18, 5000, (unsigned int *)&v47 + 1, __s, &v46);
                  mosynt_RemoveAllSubstrOcc(v18, "{LEC}");
                  mosynt_RemoveAllSubstrOcc(v18, "{LPC}");
                  mosynt_RemoveAllSubstrOcc(v18, "{RPC}");
                  mosynt_RemoveAllSubstrOcc(v18, "{REC}");
                  mosynt_RemoveAllSubstrOcc(v18, "{LECC}");
                  mosynt_RemoveAllSubstrOcc(v18, "{LPCC}");
                  mosynt_RemoveAllSubstrOcc(v18, "{RPCC}");
                  mosynt_RemoveAllSubstrOcc(v18, "{RECC}");
                  v37 = strlen(v18);
                  v20 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, __int16 *))(a1[7] + 160))(a2, a3, HIWORD(v55), 3, (unsigned __int16)(v37 + 1), v18, &v54);
                  if ((v20 & 0x80000000) != 0)
                    break;
                  v33 = HIWORD(v55);
                  WORD2(v43) = HIWORD(v55);
                }
                else
                {
                  v33 = HIWORD(v55);
                  WORD2(v43) = HIWORD(v55);
                }
              }
              LODWORD(v43) = v47;
            }
            v19 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, char *))(a1[7] + 120))(a2, a3, v33, (char *)&v55 + 2);
            if ((v19 & 0x80000000) != 0)
              goto LABEL_65;
            if ((_DWORD)v32)
            {
              v19 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(a1[7] + 192))(a2, a3, v32);
              if ((v19 & 0x80000000) != 0)
                goto LABEL_65;
            }
            if (!HIWORD(v55))
              goto LABEL_65;
            v20 = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a2, a3);
            v21 = v34;
          }
          while ((v20 & 0x80000000) == 0);
        }
        v19 = v20;
      }
    }
LABEL_65:
    heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v18);
  }
  else
  {
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v14, v15, v16, v17, v39);
    return 2315264010;
  }
  return v19;
}

uint64_t fe_phrasing_mosynt_CreatePhrasingOutput(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t PhraseInfo;
  uint64_t v11;
  unsigned __int16 v12;
  unsigned __int16 v13;
  unsigned __int16 v14;
  unsigned __int16 v16;
  __int16 v17;
  char *v18;
  char *v19;
  char *v21;
  unsigned __int16 v22;
  int v23;
  int v24;
  int v25;
  unsigned int v26;
  int v27;
  _BYTE v28[10];
  char __s[2];
  unsigned __int8 v30;
  uint64_t v31;

  v31 = *MEMORY[0x1E0C80C00];
  v26 = 0;
  v27 = 0;
  v23 = 0;
  v24 = 0;
  v21 = 0;
  PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char **, int *))(*(_QWORD *)(a1 + 56)
                                                                                            + 176))(a2, a3, a4, 0, &v21, &v27);
  if ((PhraseInfo & 0x80000000) != 0)
    return PhraseInfo;
  v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, a4, (char *)&v27 + 2);
  if ((v11 & 0x80000000) == 0)
  {
    v25 = 0;
    __s[0] = 0;
    v22 = 0;
    v12 = HIWORD(v27);
    if (HIWORD(v27))
    {
      v13 = 0;
      v14 = 0;
      while (1)
      {
        PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v12, 0, 1, &v26, &v27);
        if ((PhraseInfo & 0x80000000) != 0)
          return PhraseInfo;
        if (v26 <= 0xA && ((1 << v26) & 0x610) != 0)
        {
          PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v27), 1, 1, (char *)&v25 + 2, &v27);
          if ((PhraseInfo & 0x80000000) != 0)
            return PhraseInfo;
          PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v27), 2, 1, &v25, &v27);
          if ((PhraseInfo & 0x80000000) != 0)
            return PhraseInfo;
          v22 = 0;
          if (!v14)
          {
            v16 = 0;
            HIWORD(v24) = 0;
            __s[0] = 0;
LABEL_17:
            while (1)
            {
              PhraseInfo = mosynt_GetPhraseInfo(*(_QWORD *)(a1 + 48), a5, v16, &v24, v28, 10);
              if ((PhraseInfo & 0x80000000) != 0)
                return PhraseInfo;
              if (v28[0])
              {
                __strcpy_chk();
                if ((unsigned __int16)(HIWORD(v24) - 1) >= (unsigned __int16)v24)
                  HIWORD(v24) = v24;
              }
              if (HIWORD(v25) < ++v16)
              {
                if (__s[0])
                {
                  if (v13)
                  {
                    PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v13, 2, 1, (char *)&v25 + 2, &v23);
                    if ((PhraseInfo & 0x80000000) != 0)
                      return PhraseInfo;
                  }
                  PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 88))(a2, a3, HIWORD(v27), (char *)&v23 + 2);
                  if ((PhraseInfo & 0x80000000) != 0)
                    return PhraseInfo;
                  v13 = HIWORD(v23);
                  v26 = 15;
                  PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v23), 0, 1, &v26, &v23);
                  if ((PhraseInfo & 0x80000000) != 0)
                    return PhraseInfo;
                  PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v23), 1, 1, (char *)&v25 + 2, &v23);
                  if ((PhraseInfo & 0x80000000) != 0)
                    return PhraseInfo;
                  v17 = strlen(__s);
                  PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v23), 4, (unsigned __int16)(v17 + 1), __s, &v23);
                  if ((PhraseInfo & 0x80000000) != 0)
                    return PhraseInfo;
                  PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v23), 7, 1, (char *)&v24 + 2, &v23);
                  if ((PhraseInfo & 0x80000000) != 0)
                    return PhraseInfo;
                }
                goto LABEL_30;
              }
            }
          }
          PhraseInfo = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v14, 2, 1, &v22, &v27);
          if ((PhraseInfo & 0x80000000) != 0)
            return PhraseInfo;
          v16 = v22;
          HIWORD(v24) = 0;
          __s[0] = 0;
          if (v22 <= HIWORD(v25))
            goto LABEL_17;
LABEL_30:
          v14 = HIWORD(v27);
        }
        v11 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 120))(a2, a3);
        if ((v11 & 0x80000000) != 0)
          return v11;
        v12 = HIWORD(v27);
        if (!HIWORD(v27))
        {
          if (v13)
          {
            v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v13, 2, 1, &v25, &v23);
            if ((v11 & 0x80000000) != 0)
              return v11;
          }
          break;
        }
      }
    }
    if (*(unsigned __int16 *)__s == 87 || !(*(unsigned __int16 *)__s ^ 0x4641 | v30))
    {
      v18 = v21;
      v19 = strrchr(v21, 63);
      if (v19 && v19 != v18 && *(v19 - 1) != 32)
        *v19 = 46;
    }
  }
  return v11;
}

uint64_t fe_phrasing_mosynt_AdjustSentenceAndMarkers(_QWORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5, int a6, uint64_t a7)
{
  uint64_t v14;
  int v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  const char *v29;
  uint64_t v30;
  int v31;
  uint64_t v32;
  int v33;
  __int16 v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  _DWORD *v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  unsigned int v43;
  int v44;
  unsigned __int16 v45;
  uint64_t v46;
  unsigned __int16 v47;
  int v48;
  int v49;
  uint64_t v50;

  v50 = 0;
  v48 = 0;
  v49 = 0;
  v47 = 0;
  v46 = 0;
  v45 = 0;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t *, char *))(a1[7] + 176))(a2, a3, a4, 0, &v50, (char *)&v49 + 2);
  if ((v14 & 0x80000000) != 0)
    return v14;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t *, unsigned __int16 *))(a1[7] + 176))(a2, a3, a4, 1, &v46, &v45);
  if ((v14 & 0x80000000) != 0)
    return v14;
  v44 = a6;
  v15 = *(_DWORD *)(v46 + 12);
  v16 = heap_Alloc(*(_QWORD *)(*a1 + 8), 2 * a5 + 2);
  v21 = *a1;
  if (!v16)
  {
    v40 = 2315264010;
    log_OutPublic(*(_QWORD *)(v21 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v17, v18, v19, v20, v43);
    return v40;
  }
  v22 = v16;
  v27 = heap_Alloc(*(_QWORD *)(v21 + 8), 2 * a5 + 2);
  v28 = *a1;
  if (v27)
  {
    v43 = a5;
    v29 = (const char *)heap_Alloc(*(_QWORD *)(v28 + 8), (v44 + 1));
    if (v29)
    {
      v30 = (uint64_t)v29;
      LOWORD(v31) = v43;
      if (v43)
      {
        v32 = 0;
        v31 = 0;
        do
        {
          v33 = *(unsigned __int8 *)(a7 + v32);
          if (v33 == 105)
          {
            v29[(unsigned __int16)v31] = 32;
            *(_WORD *)(v22 + 2 * v32) = v31 + 1;
            *(_WORD *)(v27 + 2 * v32) = v31;
            v29[(unsigned __int16)(v31 + 1)] = *(_BYTE *)(v50 + v32);
            v31 += 2;
          }
          else
          {
            *(_WORD *)(v22 + 2 * v32) = v31;
            *(_WORD *)(v27 + 2 * v32) = v31;
            if (v33 != 100)
              v29[(unsigned __int16)v31++] = *(_BYTE *)(v50 + v32);
          }
          ++v32;
        }
        while (v43 != v32);
      }
      v29[(unsigned __int16)v31] = 0;
      *(_WORD *)(v22 + 2 * v43) = v31;
      *(_WORD *)(v27 + 2 * v43) = v31;
      v34 = strlen(v29);
      v35 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *))(a1[7] + 160))(a2, a3, a4, 0, (unsigned __int16)(v34 + 1), v30, &v49);
      if ((v35 & 0x80000000) != 0)
      {
LABEL_39:
        v40 = v35;
      }
      else
      {
        v36 = v45;
        v37 = v46;
        if (v45)
        {
          v38 = (_DWORD *)(v46 + 12);
          do
          {
            *v38 = v15 + *(unsigned __int16 *)(v22 + 2 * (unsigned __int16)(*v38 - v15));
            v38 += 8;
            --v36;
          }
          while (v36);
        }
        *(_DWORD *)(v37 + 16) = v44;
        v39 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a1[7] + 104))(a2, a3, 2, a4, (char *)&v48 + 2);
LABEL_19:
        v40 = v39;
        if ((v39 & 0x80000000) == 0)
        {
          while (HIWORD(v48))
          {
            v35 = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a2, a3);
            if ((v35 & 0x80000000) != 0)
              goto LABEL_39;
            v35 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(a1[7] + 168))(a2, a3, HIWORD(v48), 2, 1, &v47, (char *)&v49 + 2);
            if ((v35 & 0x80000000) != 0)
              goto LABEL_39;
            LOWORD(v48) = *(_WORD *)(v22 + 2 * (unsigned __int16)v48);
            v35 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1[7] + 160))(a2, a3, HIWORD(v48), 1, 1, &v48, &v49);
            if ((v35 & 0x80000000) != 0)
              goto LABEL_39;
            v47 = v47 <= v43 ? *(_WORD *)(v27 + 2 * v47) : v43;
            v35 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(a1[7] + 160))(a2, a3, HIWORD(v48), 2, 1, &v47, &v49);
            if ((v35 & 0x80000000) != 0)
              goto LABEL_39;
            if (v47 == (unsigned __int16)v48)
              v41 = HIWORD(v48);
            else
              v41 = 0;
            v40 = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 120))(a2, a3);
            if ((v40 & 0x80000000) != 0)
              goto LABEL_40;
            if ((_DWORD)v41)
            {
              v39 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(a1[7] + 192))(a2, a3, v41);
              goto LABEL_19;
            }
          }
        }
      }
      goto LABEL_40;
    }
    v28 = *a1;
  }
  v40 = 2315264010;
  log_OutPublic(*(_QWORD *)(v28 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v23, v24, v25, v26, v43);
  v30 = 0;
LABEL_40:
  heap_Free(*(_QWORD **)(*a1 + 8), v22);
  if (v27)
    heap_Free(*(_QWORD **)(*a1 + 8), v27);
  if (v30)
    heap_Free(*(_QWORD **)(*a1 + 8), v30);
  return v40;
}

uint64_t fe_phrasing_Process_NN_Phrasing(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, _DWORD *a5, uint64_t a6, _DWORD *a7)
{
  _QWORD *v12;
  uint64_t v13;
  uint64_t SentenceData;

  *a5 = 1;
  v12 = (_QWORD *)(a1 + 168);
  v13 = a1 + 176;
  if (!*(_QWORD *)(a1 + 176))
  {
    *(_WORD *)(a1 + 248) = 2;
    *(_DWORD *)(a1 + 192) = 0x10000;
  }
  SentenceData = getSentenceData(*(_QWORD *)a1, *(_QWORD *)(a1 + 48), *(_QWORD *)(a1 + 56), a3, a4, (uint64_t)v12, *(uint64_t **)(a1 + 120), 1);
  if ((SentenceData & 0x80000000) == 0 && *(_WORD *)(a1 + 848))
    SentenceData = nn_phrasing_ProcessSent(*(uint64_t **)a1, *(_QWORD *)(a1 + 56), a3, a4, a1 + 840, v13, a1 + 1304, a6, a7);
  freeSentenceData((uint64_t)v12);
  freeProsodicStructure(v12);
  return SentenceData;
}

uint64_t fe_phrasing_Process_CRFPhrasing(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  unint64_t v8;
  uint64_t SentenceData;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t IsUpdatable;
  unsigned __int16 v16;
  void *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unsigned int v24;
  int v25;
  int v26;
  char *__s;
  int v28;

  v25 = 0;
  v26 = 0;
  v28 = 0;
  *a5 = 1;
  v8 = a1 + 168;
  if (!*(_QWORD *)(a1 + 176))
  {
    *(_WORD *)(a1 + 248) = 2;
    *(_DWORD *)(a1 + 192) = 0x10000;
  }
  __s = 0;
  *(_QWORD *)(a1 + 176) = 0;
  SentenceData = getSentenceData(*(_QWORD *)a1, *(_QWORD *)(a1 + 48), *(_QWORD *)(a1 + 56), a3, a4, v8, *(uint64_t **)(a1 + 120), 0);
  if ((SentenceData & 0x80000000) != 0)
    goto LABEL_20;
  IsUpdatable = kaldi::nnet1::Component::IsUpdatable(*(kaldi::nnet1::Component **)a1);
  if ((IsUpdatable & 0x80000000) != 0 || !*(_WORD *)(a1 + 848))
    goto LABEL_21;
  if (!v28
    && (SentenceData = crfWeakPhrasing(*(_QWORD *)(a1 + 104), *(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), *(_QWORD *)a1, 0, a1 + 840, 0, a1 + 920), (SentenceData & 0x80000000) != 0)|| (SentenceData = puncPhrasing(*(_QWORD *)a1, (uint64_t *)(a1 + 840), a1 + 920, v10, v11, v12, v13, v14), (SentenceData & 0x80000000) != 0)|| (*(_QWORD *)(a1 + 176) = *(_QWORD *)a1, SentenceData = updateLingdbCrfPhrasing(*(_QWORD *)(a1 + 56), a3, a4, v8), (SentenceData & 0x80000000) != 0))
  {
LABEL_20:
    IsUpdatable = SentenceData;
    goto LABEL_21;
  }
  IsUpdatable = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 104))(a3, a4, 1, 0, &v26);
  if ((IsUpdatable & 0x80000000) == 0
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 184))(a3, a4, (unsigned __int16)v26, 0, (char *)&v25 + 2) & 0x80000000) == 0&& HIWORD(v25) == 1)
  {
    IsUpdatable = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(*(_QWORD *)(a1 + 56)
                                                                                              + 176))(a3, a4, (unsigned __int16)v26, 0, &__s, &v25);
    if ((IsUpdatable & 0x80000000) == 0 && (unsigned __int16)v25 >= 2u)
    {
      v16 = strlen(__s);
      v17 = (void *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), v16 + 1);
      if (v17)
      {
        v22 = (uint64_t)v17;
        memset(v17, 32, v16);
        *(_BYTE *)(v22 + v16) = 0;
        IsUpdatable = fe_phrasing_mosynt_SplitWords((uint64_t *)a1, a3, a4, (unsigned __int16)v26, v22, (_WORD *)&v26 + 1);
        if ((IsUpdatable & 0x80000000) == 0 && HIWORD(v26))
          IsUpdatable = fe_phrasing_mosynt_AdjustSentenceAndMarkers((_QWORD *)a1, a3, a4, (unsigned __int16)v26, v16, (unsigned __int16)(HIWORD(v26) + v16), v22);
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v22);
      }
      else
      {
        log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v18, v19, v20, v21, v24);
        IsUpdatable = 2315264010;
      }
    }
  }
LABEL_21:
  freeSentenceData(v8);
  return IsUpdatable;
}

uint64_t fe_phrasing_Process_NNPhrasing(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _DWORD *a6)
{
  uint64_t *v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  const char *v10;
  unsigned __int16 v11;
  uint64_t v12;
  unsigned __int16 v13;
  unsigned __int8 v14;
  uint64_t v15;
  int v16;
  int v17;
  uint64_t v18;
  void *v19;
  uint64_t NNSentenceData;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  int v37;
  _DWORD *v38;
  const char *v39;
  int v40;
  int v41;
  int v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  const char *v51;
  char *v52;
  uint64_t v53;
  uint64_t v54;
  __int128 v55;
  __int128 v56;
  uint64_t updated;
  unsigned __int16 v58;
  void *v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  unint64_t v65;
  uint64_t v66;
  uint64_t v67;
  int v68;
  char v69;
  char *v70;
  char *v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  unsigned __int16 v76;
  char *v77;
  unsigned int v78;
  unint64_t v79;
  uint64_t v80;
  unsigned int v81;
  unint64_t v82;
  uint64_t v83;
  unsigned int v84;
  unint64_t v85;
  uint64_t v86;
  uint64_t v88;
  uint64_t v92;
  _OWORD v94[5];
  __int16 v95;
  unsigned __int16 v96;
  uint64_t v97;
  __int16 v98;
  _DWORD v99[3];

  v6 = (uint64_t *)a1;
  v99[0] = 0;
  v98 = 0;
  v97 = 0;
  *a6 = 1;
  v7 = *(unsigned __int16 *)(*(_QWORD *)(a1 + 1528) + 1072);
  if (*(_WORD *)(*(_QWORD *)(a1 + 1528) + 1072))
  {
    v8 = 0;
    v92 = *(unsigned __int16 *)(*(_QWORD *)(a1 + 1528) + 1072);
    do
    {
      v9 = *(_QWORD *)(v6[191] + 1064);
      v10 = *(const char **)(v9 + 184 * v8 + 56);
      v11 = strlen(v10);
      if (!v11)
        break;
      if (doesWordEndInCommaNN((uint64_t)v10, ",:;.?!|_~'\"<>{}#()[]^\\=@/&$*#"))
      {
        v12 = v11 - 1;
        if (memchr(",:;.?!|_~'\"<>{}#()[]^\\=@/&$*#", v10[v12], 0x1EuLL))
        {
          v13 = 0;
          while (1)
          {
            v14 = Utf8_LengthInBytes((unsigned __int8 *)&v10[v13], 1);
            if (!utf8_IsChineseLetter(&v10[v13]))
              break;
LABEL_11:
            v13 += v14;
            if (v13 >= v11)
            {
              v17 = 0;
              LOBYTE(v16) = v10[v12];
              goto LABEL_14;
            }
          }
          v15 = 0;
          v16 = v10[v13];
          while (v16 != asc_1DEC05250[v15])
          {
            if (++v15 == 9)
              goto LABEL_11;
          }
          v17 = 1;
LABEL_14:
          v18 = v9 + 184 * v8;
          *(_BYTE *)(v18 + 104) = v16;
          *(_DWORD *)(v18 + 108) = v17;
          *(_DWORD *)(v18 + 100) = 1;
          v7 = v92;
          v6 = (uint64_t *)a1;
        }
      }
      if (v11 == 1)
      {
        v19 = memchr(",:;.?!|_~'\"<>{}#()[]^\\=@/&$*#", *v10, 0x1EuLL);
        if (v8)
        {
          if (v19 && *(_DWORD *)(*(_QWORD *)(v6[191] + 1064) + 184 * (v8 - 1) + 108))
            *(_DWORD *)(v9 + 184 * v8 + 108) = 1;
        }
      }
      ++v8;
    }
    while (v8 != v7);
  }
  if (!*(_QWORD *)(a5 + 1104))
  {
    *(_WORD *)(a5 + 1176) = 2;
    *(_DWORD *)(a5 + 1120) = 0x10000;
  }
  *(_QWORD *)(a5 + 1104) = 0;
  NNSentenceData = getNNSentenceData(*v6, v6[7], a3, a4, v6[191]);
  if ((NNSentenceData & 0x80000000) == 0)
  {
    if (*(_QWORD *)(a5 + 1088))
    {
      NNSentenceData = doesNNCustermizedFE(*v6, v6[191], v99);
      if ((NNSentenceData & 0x80000000) == 0)
      {
        if (*(_WORD *)(a5 + 1072))
        {
          v96 = 0;
          if (v6[206])
          {
            v21 = heap_Calloc(*(_QWORD **)(*v6 + 8), *(unsigned __int16 *)(v6[191] + 1072), 8);
            v26 = *v6;
            if (!v21)
            {
              NNSentenceData = 2315264010;
              log_OutPublic(*(_QWORD *)(v26 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v22, v23, v24, v25, v88);
              goto LABEL_111;
            }
            v27 = v21;
            v32 = heap_Calloc(*(_QWORD **)(v26 + 8), *(unsigned __int16 *)(v6[191] + 1072), 8);
            v33 = *v6;
            if (!v32)
            {
              v34 = 0;
              goto LABEL_88;
            }
            v34 = heap_Calloc(*(_QWORD **)(v33 + 8), *(unsigned __int16 *)(v6[191] + 1072), 8);
            if (!v34)
            {
LABEL_87:
              v33 = *v6;
              goto LABEL_88;
            }
          }
          else
          {
            v27 = 0;
            v32 = 0;
            v34 = 0;
          }
          v35 = v6[191];
          v36 = *(unsigned __int16 *)(v35 + 1072);
          if (*(_WORD *)(v35 + 1072))
          {
            v37 = 0;
            v38 = (_DWORD *)(*(_QWORD *)(v35 + 1064) + 176);
            do
            {
              v39 = (const char *)*((_QWORD *)v38 - 3);
              if (v39)
              {
                if (!strcmp(*((const char **)v38 - 3), "B"))
                {
                  v37 = strlen(*((const char **)v38 - 15));
                }
                else if (!strcmp(v39, "E"))
                {
                  v37 += strlen(*((const char **)v38 - 15));
                }
                else
                {
                  v40 = strcmp(v39, "S");
                  v41 = strlen(*((const char **)v38 - 15));
                  if (v40)
                    v42 = v37;
                  else
                    v42 = 0;
                  v37 = v42 + v41;
                }
              }
              *v38 = v37;
              v38 += 46;
              --v36;
            }
            while (v36);
          }
          if (!v99[0] && *(_WORD *)(a5 + 1072))
          {
            v65 = 0;
            v66 = 76;
            do
            {
              v67 = *(_QWORD *)(a5 + 1064);
              v68 = *(_DWORD *)(v67 + v66 - 4);
              if (v68 == 1)
              {
                v69 = 3;
              }
              else
              {
                if (v68)
                  goto LABEL_71;
                v69 = 1;
              }
              *(_BYTE *)(v67 + v66) = v69;
LABEL_71:
              *(_QWORD *)(v67 + v66 - 28) = 0;
              hlp_NLUStrFind(*(char **)(v67 + v66 - 36), "POS", (uint64_t *)(v67 + v66 - 28), &v96);
              if (v27)
              {
                v70 = (char *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), v96 + 1);
                *(_QWORD *)(v27 + 8 * v65) = v70;
                if (!v70)
                {
                  v6 = (uint64_t *)a1;
                  goto LABEL_87;
                }
                strncpy(v70, *(const char **)(*(_QWORD *)(a5 + 1064) + v66 - 28), v96);
                *(_BYTE *)(*(_QWORD *)(v27 + 8 * v65) + v96) = 0;
              }
              if (v32)
              {
                v71 = (char *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), v96 + 1);
                *(_QWORD *)(v32 + 8 * v65) = v71;
                if (!v71)
                  goto LABEL_85;
                strncpy(v71, *(const char **)(*(_QWORD *)(a5 + 1064) + v66 - 28), v96);
                *(_BYTE *)(*(_QWORD *)(v32 + 8 * v65) + v96) = 0;
              }
              if (v34)
              {
                v76 = strlen(*(const char **)(*(_QWORD *)(a5 + 1064) + v66 - 20));
                v77 = (char *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), v76 + 1);
                *(_QWORD *)(v34 + 8 * v65) = v77;
                if (!v77)
                {
LABEL_85:
                  NNSentenceData = 2315264010;
                  v6 = (uint64_t *)a1;
                  log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v72, v73, v74, v75, v88);
                  goto LABEL_61;
                }
                strcpy(v77, *(const char **)(*(_QWORD *)(a5 + 1064) + v66 - 20));
              }
              ++v65;
              v66 += 184;
            }
            while (v65 < *(unsigned __int16 *)(a5 + 1072));
          }
          v6 = (uint64_t *)a1;
          if (!v32 || !v27 || !v34)
          {
LABEL_53:
            v50 = *(_QWORD *)a1;
            v51 = *(const char **)(a1 + 1664);
            v52 = *(char **)(a1 + 1672);
            v53 = *(_QWORD *)(a1 + 1544);
            v54 = *(_QWORD *)(a1 + 1552);
            v55 = *(_OWORD *)(a1 + 1608);
            v94[2] = *(_OWORD *)(a1 + 1592);
            v94[3] = v55;
            v94[4] = *(_OWORD *)(a1 + 1624);
            v95 = *(_WORD *)(a1 + 1640);
            v56 = *(_OWORD *)(a1 + 1576);
            v94[0] = *(_OWORD *)(a1 + 1560);
            v94[1] = v56;
            updated = nnpuncPhrasing(v50, a5, v53, v54, (unsigned __int16 *)v94, v51, v52);
            if ((updated & 0x80000000) != 0
              || (updated = updateLingdbNNPhrasing(*(_QWORD *)a1, *(_QWORD *)(a1 + 56), a3, a4, *(_QWORD *)(a1 + 1528), *(_DWORD *)(a1 + 1656), *(const char **)(a1 + 1664), *(_DWORD *)(a1 + 1524)), (updated & 0x80000000) != 0))
            {
              NNSentenceData = updated;
LABEL_61:
              v64 = 0;
            }
            else
            {
              v58 = strlen(*(const char **)(*(_QWORD *)(a1 + 1528) + 1088));
              v59 = (void *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), v58 + 1);
              v64 = (uint64_t)v59;
              if (v59)
              {
                memset(v59, 32, v58);
                *(_BYTE *)(v64 + v58) = 0;
                NNSentenceData = fe_phrasing_mosynt_SplitWords((uint64_t *)a1, a3, a4, *(unsigned __int16 *)(a5 + 1096), v64, &v98);
                if ((NNSentenceData & 0x80000000) != 0 || !v98)
                {
                  v6 = (uint64_t *)a1;
                }
                else
                {
                  v6 = (uint64_t *)a1;
                  NNSentenceData = fe_phrasing_mosynt_AdjustSentenceAndMarkers((_QWORD *)a1, a3, a4, *(unsigned __int16 *)(a5 + 1096), v58, (unsigned __int16)(v98 + v58), v64);
                }
              }
              else
              {
                NNSentenceData = 2315264010;
                log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v60, v61, v62, v63, v88);
                v6 = (uint64_t *)a1;
              }
            }
            if (!v27)
              goto LABEL_95;
            goto LABEL_89;
          }
          v43 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), *(unsigned __int16 *)(*(_QWORD *)(a1 + 1528) + 1072), 24);
          v97 = v43;
          v33 = *(_QWORD *)a1;
          if (v43)
          {
            if ((fe_phrasing_genLW(v33, *(_QWORD *)(a1 + 1528), v32, v34, v27, &v97) & 0x80000000) == 0)
              fe_phrasing_ProcessIGTree((uint64_t *)a1, v43, v44, v45, v46, v47, v48, v49, v88);
            freeIwInfo((_QWORD *)a1, v43);
            goto LABEL_53;
          }
LABEL_88:
          NNSentenceData = 2315264010;
          log_OutPublic(*(_QWORD *)(v33 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v28, v29, v30, v31, v88);
          v64 = 0;
LABEL_89:
          v78 = *(unsigned __int16 *)(a5 + 1072);
          if (*(_WORD *)(a5 + 1072))
          {
            v79 = 0;
            do
            {
              v80 = *(_QWORD *)(v27 + 8 * v79);
              if (v80)
              {
                heap_Free(*(_QWORD **)(*v6 + 8), v80);
                v78 = *(unsigned __int16 *)(a5 + 1072);
              }
              ++v79;
            }
            while (v79 < v78);
          }
          heap_Free(*(_QWORD **)(*v6 + 8), v27);
LABEL_95:
          if (v32)
          {
            v81 = *(unsigned __int16 *)(a5 + 1072);
            if (*(_WORD *)(a5 + 1072))
            {
              v82 = 0;
              do
              {
                v83 = *(_QWORD *)(v32 + 8 * v82);
                if (v83)
                {
                  heap_Free(*(_QWORD **)(*v6 + 8), v83);
                  v81 = *(unsigned __int16 *)(a5 + 1072);
                }
                ++v82;
              }
              while (v82 < v81);
            }
            heap_Free(*(_QWORD **)(*v6 + 8), v32);
          }
          if (v34)
          {
            v84 = *(unsigned __int16 *)(a5 + 1072);
            if (*(_WORD *)(a5 + 1072))
            {
              v85 = 0;
              do
              {
                v86 = *(_QWORD *)(v34 + 8 * v85);
                if (v86)
                {
                  heap_Free(*(_QWORD **)(*v6 + 8), v86);
                  v84 = *(unsigned __int16 *)(a5 + 1072);
                }
                ++v85;
              }
              while (v85 < v84);
            }
            heap_Free(*(_QWORD **)(*v6 + 8), v34);
          }
          if (v64)
            heap_Free(*(_QWORD **)(*v6 + 8), v64);
        }
      }
    }
  }
LABEL_111:
  freeSentenceDataNN((_QWORD *)*v6, v6[191]);
  return NNSentenceData;
}

uint64_t fe_phrasing_genLW(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t *a6)
{
  uint64_t v6;
  uint64_t v7;
  unsigned int v8;
  uint64_t v9;
  char *v10;
  uint64_t v11;
  unsigned __int16 v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  int v18;
  uint64_t v19;
  _DWORD *v20;
  uint64_t v21;
  _QWORD *v22;
  char *v23;
  char *v24;
  char *v25;
  char *v26;
  unsigned __int16 v27;
  BOOL v28;
  BOOL v29;
  const char *v30;
  char *v31;
  unsigned int v33;
  uint64_t v34;
  uint64_t v37;
  unsigned int v38;
  uint64_t v40;
  unsigned __int16 *v41;
  char *v42;
  char *v43;
  char *__lasts;

  v38 = *(unsigned __int16 *)(a2 + 1072);
  if (!*(_WORD *)(a2 + 1072))
    return 0;
  v6 = a3;
  v7 = a1;
  v8 = 0;
  v9 = *a6;
  v37 = a5;
  v40 = a4;
  v34 = *a6;
  while (1)
  {
    v43 = 0;
    __lasts = 0;
    v42 = 0;
    v10 = *(char **)(a5 + 8 * v8);
    if (!v10)
      return 2315264007;
    v11 = v8;
    if (!*(_QWORD *)(a4 + 8 * v8) || !*(_QWORD *)(v6 + 8 * v8))
      return 2315264007;
    v12 = 0;
    if (strtok_r(v10, "-", &__lasts))
    {
      do
        ++v12;
      while (strtok_r(0, "-", &__lasts));
    }
    v13 = heap_Calloc(*(_QWORD **)(v7 + 8), 1, 8 * v12);
    v41 = (unsigned __int16 *)(v9 + 24 * v11);
    *((_QWORD *)v41 + 2) = v13;
    if (!v13)
      break;
    v18 = strlen(*(const char **)(a2 + 1088));
    v19 = v9 + 24 * v11;
    *(_DWORD *)(v19 + 4) = v18 + 1;
    v20 = (_DWORD *)(v19 + 4);
    v21 = heap_Calloc(*(_QWORD **)(v7 + 8), 1, (v18 + 1) * v12);
    *(_QWORD *)(v19 + 8) = v21;
    v22 = (_QWORD *)(v19 + 8);
    if (!v21)
      break;
    v23 = *(char **)(v6 + 8 * v11);
    v24 = *(char **)(v40 + 8 * v11);
    *v41 = v12;
    v25 = strtok_r(v23, "-", &v43);
    v26 = strtok_r(v24, "-", &v42);
    v27 = 0;
    v28 = v25 != 0;
    v29 = v26 != 0;
    if (v25)
    {
      v30 = v26;
      if (v26)
      {
        v27 = 0;
        while (v27 <= v12)
        {
          strcpy((char *)(*((_QWORD *)v41 + 2) + 8 * v27), v25);
          strcpy((char *)(*v22 + *v20 * v27), v30);
          v25 = strtok_r(0, "-", &v43);
          v31 = strtok_r(0, "-", &v42);
          ++v27;
          v28 = v25 != 0;
          v29 = v31 != 0;
          if (v25)
          {
            v30 = v31;
            if (v31)
              continue;
          }
          goto LABEL_16;
        }
        return 2315264015;
      }
    }
LABEL_16:
    if (v28 || v29)
      return 2315264007;
    if (*v41 != v27)
      return 2315264015;
    v8 = v11 + 1;
    v6 = a3;
    a5 = v37;
    a4 = v40;
    v9 = v34;
    v7 = a1;
    if ((int)v11 + 1 >= v38)
      return 0;
  }
  log_OutPublic(*(_QWORD *)(v7 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v14, v15, v16, v17, v33);
  return 2315264010;
}

_QWORD *fe_phrasing_ProcessIGTree(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t *v13;
  _QWORD *result;
  uint64_t v15;
  uint64_t v16;
  _QWORD *v17;
  _WORD *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  uint64_t v24;
  unsigned int v25;
  uint64_t v26;
  uint64_t v27;
  char *v28;
  uint64_t v29;
  uint64_t v30;
  int v31;
  const char *v32;
  uint64_t v33;
  size_t v34;
  uint64_t v35;
  size_t v36;
  uint64_t v37;
  size_t v38;
  uint64_t v39;
  size_t v40;
  uint64_t v41;
  size_t v42;
  uint64_t v43;
  const char *v44;
  uint64_t v45;
  const char *v46;
  uint64_t v47;
  const char *v48;
  uint64_t v49;
  const char *v50;
  uint64_t v51;
  const char *v52;
  uint64_t v53;
  const char *v54;
  uint64_t v55;
  const char *v56;
  uint64_t v57;
  const char *v58;
  uint64_t v59;
  const char *v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  const char *v66;
  uint64_t v67;
  const char *v68;
  uint64_t v69;
  const char *v70;
  uint64_t v71;
  const char *v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  const char *v76;
  uint64_t v77;
  const char *v78;
  uint64_t v79;
  const char *v80;
  uint64_t v81;
  const char *v82;
  uint64_t v83;
  const char *v84;
  const char *v85;
  const char *v86;
  char *v87;
  unsigned int v88;
  uint64_t v89;
  uint64_t *v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t *v93;
  uint64_t v94;
  uint64_t v95;
  char *__s1;
  __int16 v97;

  v9 = *a1;
  v10 = *(unsigned __int16 *)(a1[191] + 1072);
  __s1 = 0;
  v11 = a1[206];
  if (!v11)
    return (_QWORD *)log_OutText(*(_QWORD *)(v9 + 32), (uint64_t)"FE_PHRASING", 0, 0, (uint64_t)"IGTree model for phrasing does not exist. Skip processing IGTree.", a6, a7, a8, a9);
  v13 = a1;
  result = (_QWORD *)heap_Alloc(*(_QWORD *)(v9 + 8), 8 * *(unsigned __int8 *)(v11 + 1296) - 8);
  if (!result)
    return result;
  v15 = (uint64_t)result;
  if (*(_BYTE *)(v11 + 1296) == 1)
  {
LABEL_7:
    v95 = a2;
    if (!(_DWORD)v10)
    {
LABEL_226:
      if (*(_BYTE *)(v11 + 1296) != 1)
      {
        v89 = (unsigned __int16)(*(unsigned __int8 *)(v11 + 1296) - 1);
        v90 = (uint64_t *)v15;
        do
        {
          v91 = *v90++;
          heap_Free(*(_QWORD **)(v9 + 8), v91);
          --v89;
        }
        while (v89);
      }
      return heap_Free(*(_QWORD **)(v9 + 8), v15);
    }
    v23 = 0;
    v92 = v10;
    v93 = v13;
    v94 = v11;
    while (1)
    {
      v24 = *(_QWORD *)(v11 + 1312);
      v25 = *(unsigned __int8 *)(v11 + 1296);
      v26 = v13[191];
      v97 = 0;
      v27 = heap_Calloc(*(_QWORD **)(v9 + 8), 1, 2048);
      if (!v27)
        break;
      v28 = (char *)v27;
      if (v25 < 2)
      {
        v31 = 0;
      }
      else
      {
        v29 = 0;
        v30 = v25 - 1;
        while (strcmp(*(const char **)(v24 + 8 * v29), "pw"))
        {
          if (v30 == ++v29)
          {
            v31 = 0;
            goto LABEL_17;
          }
        }
        v97 = v29;
        v32 = fe_phrasing_feat_word(v26, (unsigned __int16)v23, 0);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 0, v15, v32);
        if (v31 < 0)
          goto LABEL_232;
LABEL_17:
        v33 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v33), "pwlen"))
        {
          if (v30 == ++v33)
            goto LABEL_22;
        }
        v97 = v33;
        *v28 = 0;
        v34 = strlen(v28);
        fe_phrasing_feat_wordlen((char *)v26, (unsigned __int16)v23, 0, &v28[v34]);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 1, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_22:
        v35 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v35), "lpwlen"))
        {
          if (v30 == ++v35)
            goto LABEL_27;
        }
        v97 = v35;
        *v28 = 0;
        v36 = strlen(v28);
        fe_phrasing_feat_wordlen((char *)v26, (unsigned __int16)v23, -1, &v28[v36]);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 2, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_27:
        v37 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v37), "llpwlen"))
        {
          if (v30 == ++v37)
            goto LABEL_32;
        }
        v97 = v37;
        *v28 = 0;
        v38 = strlen(v28);
        fe_phrasing_feat_wordlen((char *)v26, (unsigned __int16)v23, -2, &v28[v38]);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 3, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_32:
        v39 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v39), "rpwlen"))
        {
          if (v30 == ++v39)
            goto LABEL_37;
        }
        v97 = v39;
        *v28 = 0;
        v40 = strlen(v28);
        fe_phrasing_feat_wordlen((char *)v26, (unsigned __int16)v23, 1, &v28[v40]);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 4, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_37:
        v41 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v41), "rrpwlen"))
        {
          if (v30 == ++v41)
            goto LABEL_42;
        }
        *v28 = 0;
        v42 = strlen(v28);
        fe_phrasing_feat_wordlen((char *)v26, (unsigned __int16)v23, 2, &v28[v42]);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 5, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_42:
        v43 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v43), "pos"))
        {
          if (v30 == ++v43)
            goto LABEL_49;
        }
        v97 = v43;
        v44 = "=";
        if (v23 < *(unsigned __int16 *)(v26 + 1072))
          v44 = *(const char **)(*(_QWORD *)(v26 + 1064) + 184 * v23 + 48);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 6, v15, v44);
        if (v31 < 0)
          goto LABEL_232;
LABEL_49:
        v45 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v45), "lpos"))
        {
          if (v30 == ++v45)
            goto LABEL_58;
        }
        if (v23)
        {
          v46 = "=";
          if ((int)v23 - 1 < *(unsigned __int16 *)(v26 + 1072))
            v46 = *(const char **)(*(_QWORD *)(v26 + 1064) + 184 * (v23 - 1) + 48);
        }
        else
        {
          v46 = "=";
        }
        v31 = fe_phrasing_setFeature(v9, v24, v25, 7, v15, v46);
        if (v31 < 0)
          goto LABEL_232;
LABEL_58:
        v47 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v47), "rpos"))
        {
          if (v30 == ++v47)
            goto LABEL_65;
        }
        v97 = v47;
        v48 = "=";
        if ((int)v23 + 1 < *(unsigned __int16 *)(v26 + 1072))
          v48 = *(const char **)(*(_QWORD *)(v26 + 1064) + 184 * (v23 + 1) + 48);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 8, v15, v48);
        if (v31 < 0)
          goto LABEL_232;
LABEL_65:
        v49 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v49), "bpos"))
        {
          if (v30 == ++v49)
            goto LABEL_72;
        }
        v50 = "=";
        if (v23 < *(unsigned __int16 *)(v26 + 1072))
          v50 = *(const char **)(v95 + 24 * v23 + 16);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 9, v15, v50);
        if (v31 < 0)
          goto LABEL_232;
LABEL_72:
        v51 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v51), "blpos"))
        {
          if (v30 == ++v51)
            goto LABEL_81;
        }
        if (v23)
        {
          v52 = "=";
          if ((int)v23 - 1 < *(unsigned __int16 *)(v26 + 1072))
            v52 = *(const char **)(v95 + 24 * (v23 - 1) + 16);
        }
        else
        {
          v52 = "=";
        }
        v31 = fe_phrasing_setFeature(v9, v24, v25, 10, v15, v52);
        if (v31 < 0)
          goto LABEL_232;
LABEL_81:
        v53 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v53), "brpos"))
        {
          if (v30 == ++v53)
            goto LABEL_88;
        }
        v54 = "=";
        if ((int)v23 + 1 < *(unsigned __int16 *)(v26 + 1072))
          v54 = *(const char **)(v95 + 24 * (v23 + 1) + 16);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 11, v15, v54);
        if (v31 < 0)
          goto LABEL_232;
LABEL_88:
        v55 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v55), "epos"))
        {
          if (v30 == ++v55)
            goto LABEL_95;
        }
        v56 = "=";
        if (v23 < *(unsigned __int16 *)(v26 + 1072))
          v56 = (const char *)(*(_QWORD *)(v95 + 24 * v23 + 16) + 8 * *(unsigned __int16 *)(v95 + 24 * v23) - 8);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 12, v15, v56);
        if (v31 < 0)
          goto LABEL_232;
LABEL_95:
        v57 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v57), "elpos"))
        {
          if (v30 == ++v57)
            goto LABEL_104;
        }
        v97 = v57;
        if (v23)
        {
          v58 = "=";
          if ((int)v23 - 1 < *(unsigned __int16 *)(v26 + 1072))
            v58 = (const char *)(*(_QWORD *)(v95 + 24 * (v23 - 1) + 16)
                               + 8 * *(unsigned __int16 *)(v95 + 24 * (v23 - 1))
                               - 8);
        }
        else
        {
          v58 = "=";
        }
        v31 = fe_phrasing_setFeature(v9, v24, v25, 13, v15, v58);
        if (v31 < 0)
          goto LABEL_232;
LABEL_104:
        v59 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v59), "erpos"))
        {
          if (v30 == ++v59)
            goto LABEL_111;
        }
        v60 = "=";
        if ((int)v23 + 1 < *(unsigned __int16 *)(v26 + 1072))
          v60 = (const char *)(*(_QWORD *)(v95 + 24 * (v23 + 1) + 16)
                             + 8 * *(unsigned __int16 *)(v95 + 24 * (v23 + 1))
                             - 8);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 14, v15, v60);
        if (v31 < 0)
          goto LABEL_232;
LABEL_111:
        v61 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v61), "bchar"))
        {
          if (v30 == ++v61)
            goto LABEL_116;
        }
        v97 = v61;
        fe_phrasing_feat_character(v26, (unsigned __int16)v23, 0, 0, v28);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 15, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_116:
        v62 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v62), "echar"))
        {
          if (v30 == ++v62)
            goto LABEL_121;
        }
        fe_phrasing_feat_character(v26, (unsigned __int16)v23, -1, 0, v28);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 16, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_121:
        v63 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v63), "elchar"))
        {
          if (v30 == ++v63)
            goto LABEL_126;
        }
        v97 = v63;
        fe_phrasing_feat_character(v26, (unsigned __int16)v23, -1, -1, v28);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 17, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_126:
        v64 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v64), "erchar"))
        {
          if (v30 == ++v64)
            goto LABEL_131;
        }
        fe_phrasing_feat_character(v26, (unsigned __int16)v23, -1, 1, v28);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 18, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_131:
        v65 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v65), "blwword"))
        {
          if (v30 == ++v65)
            goto LABEL_138;
        }
        v97 = v65;
        v66 = "=";
        if (v23 < *(unsigned __int16 *)(v26 + 1072))
          v66 = *(const char **)(v95 + 24 * v23 + 8);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 19, v15, v66);
        if (v31 < 0)
          goto LABEL_232;
LABEL_138:
        v67 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v67), "elwword"))
        {
          if (v30 == ++v67)
            goto LABEL_145;
        }
        v68 = "=";
        if (v23 < *(unsigned __int16 *)(v26 + 1072))
          v68 = (const char *)(*(_QWORD *)(v95 + 24 * v23 + 8)
                             + (*(unsigned __int16 *)(v95 + 24 * v23) - 1)
                             * *(_DWORD *)(v95 + 24 * v23 + 4));
        v31 = fe_phrasing_setFeature(v9, v24, v25, 20, v15, v68);
        if (v31 < 0)
          goto LABEL_232;
LABEL_145:
        v69 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v69), "lpw"))
        {
          if (v30 == ++v69)
            goto LABEL_150;
        }
        v70 = fe_phrasing_feat_word(v26, (unsigned __int16)v23, -1);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 21, v15, v70);
        if (v31 < 0)
          goto LABEL_232;
LABEL_150:
        v71 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v71), "rpw"))
        {
          if (v30 == ++v71)
            goto LABEL_155;
        }
        v97 = v71;
        v72 = fe_phrasing_feat_word(v26, (unsigned __int16)v23, 1);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 22, v15, v72);
        if (v31 < 0)
          goto LABEL_232;
LABEL_155:
        v73 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v73), "blchar"))
        {
          if (v30 == ++v73)
            goto LABEL_160;
        }
        fe_phrasing_feat_character(v26, (unsigned __int16)v23, 0, -1, v28);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 23, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_160:
        v74 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v74), "brchar"))
        {
          if (v30 == ++v74)
            goto LABEL_165;
        }
        fe_phrasing_feat_character(v26, (unsigned __int16)v23, 0, 1, v28);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 24, v15, v28);
        if (v31 < 0)
          goto LABEL_232;
LABEL_165:
        v75 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v75), "blpwword"))
        {
          if (v30 == ++v75)
            goto LABEL_174;
        }
        v97 = v75;
        if (v23)
        {
          v76 = "=";
          if ((int)v23 - 1 < *(unsigned __int16 *)(v26 + 1072))
            v76 = *(const char **)(v95 + 24 * (v23 - 1) + 8);
        }
        else
        {
          v76 = "=";
        }
        v31 = fe_phrasing_setFeature(v9, v24, v25, 25, v15, v76);
        if (v31 < 0)
          goto LABEL_232;
LABEL_174:
        v77 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v77), "brpwword"))
        {
          if (v30 == ++v77)
            goto LABEL_181;
        }
        v78 = "=";
        if ((int)v23 + 1 < *(unsigned __int16 *)(v26 + 1072))
          v78 = *(const char **)(v95 + 24 * (v23 + 1) + 8);
        v31 = fe_phrasing_setFeature(v9, v24, v25, 26, v15, v78);
        if (v31 < 0)
          goto LABEL_232;
LABEL_181:
        v79 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v79), "elpwword"))
        {
          if (v30 == ++v79)
            goto LABEL_190;
        }
        if (v23)
        {
          v80 = "=";
          if ((int)v23 - 1 < *(unsigned __int16 *)(v26 + 1072))
            v80 = (const char *)(*(_QWORD *)(v95 + 24 * (v23 - 1) + 8)
                               + (*(unsigned __int16 *)(v95 + 24 * (v23 - 1)) - 1)
                               * *(_DWORD *)(v95 + 24 * (v23 - 1) + 4));
        }
        else
        {
          v80 = "=";
        }
        v31 = fe_phrasing_setFeature(v9, v24, v25, 27, v15, v80);
        if (v31 < 0)
          goto LABEL_232;
LABEL_190:
        v81 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v81), "erpwword"))
        {
          if (v30 == ++v81)
            goto LABEL_197;
        }
        v82 = "=";
        if ((int)v23 + 1 < *(unsigned __int16 *)(v26 + 1072))
          v82 = (const char *)(*(_QWORD *)(v95 + 24 * (v23 + 1) + 8)
                             + (*(unsigned __int16 *)(v95 + 24 * (v23 + 1)) - 1)
                             * *(_DWORD *)(v95 + 24 * (v23 + 1) + 4));
        v31 = fe_phrasing_setFeature(v9, v24, v25, 28, v15, v82);
        if (v31 < 0)
          goto LABEL_232;
LABEL_197:
        v83 = 0;
        while (strcmp(*(const char **)(v24 + 8 * v83), "isnum"))
        {
          if (v30 == ++v83)
            goto LABEL_206;
        }
        v97 = v83;
        v84 = "=";
        if (v23 < *(unsigned __int16 *)(v26 + 1072))
        {
          if (**(unsigned __int8 **)(*(_QWORD *)(v26 + 1064) + 184 * v23 + 56) - 48 >= 0xA)
            v84 = "0";
          else
            v84 = "1";
        }
        v31 = fe_phrasing_setFeature(v9, v24, v25, 29, v15, v84);
        if (v31 < 0)
        {
LABEL_232:
          heap_Free(*(_QWORD **)(v9 + 8), (uint64_t)v28);
          return heap_Free(*(_QWORD **)(v9 + 8), v15);
        }
      }
LABEL_206:
      if (fe_phrasing_isFeatureRequired(v24, v25, 30, &v97))
      {
        if (v23)
        {
          v85 = "=";
          if ((int)v23 - 1 < *(unsigned __int16 *)(v26 + 1072))
          {
            if (**(unsigned __int8 **)(*(_QWORD *)(v26 + 1064) + 184 * (v23 - 1) + 56)
               - 48 >= 0xA)
              v85 = "0";
            else
              v85 = "1";
          }
        }
        else
        {
          v85 = "=";
        }
        v31 = fe_phrasing_setFeature(v9, v24, v25, 30, v15, v85);
        if (v31 < 0)
          goto LABEL_232;
      }
      if (fe_phrasing_isFeatureRequired(v24, v25, 31, &v97))
      {
        v86 = "=";
        if ((int)v23 + 1 < *(unsigned __int16 *)(v26 + 1072))
        {
          if (**(unsigned __int8 **)(*(_QWORD *)(v26 + 1064) + 184 * (v23 + 1) + 56) - 48 >= 0xA)
            v86 = "0";
          else
            v86 = "1";
        }
        v31 = fe_phrasing_setFeature(v9, v24, v25, 31, v15, v86);
      }
      heap_Free(*(_QWORD **)(v9 + 8), (uint64_t)v28);
      v11 = v94;
      if (v31 < 0 || (igtree_Process(v94, v15, &__s1) & 0x80000000) != 0)
        return heap_Free(*(_QWORD **)(v9 + 8), v15);
      v87 = __s1;
      v13 = v93;
      if (strcmp(__s1, "NOMATCH"))
      {
        v88 = atoi(v87);
        if (v88 <= 3)
          *(_BYTE *)(*(_QWORD *)(v93[191] + 1064) + 184 * v23 + 76) = v88;
      }
      if (++v23 == v92)
        goto LABEL_226;
    }
  }
  else
  {
    v16 = (unsigned __int16)(*(unsigned __int8 *)(v11 + 1296) - 1);
    v17 = result;
    while (1)
    {
      v18 = (_WORD *)heap_Calloc(*(_QWORD **)(v9 + 8), 1, 65);
      *v17 = v18;
      if (!v18)
        break;
      *v18 = 61;
      ++v17;
      if (!--v16)
        goto LABEL_7;
    }
  }
  log_OutPublic(*(_QWORD *)(v9 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v19, v20, v21, v22, v92);
  return heap_Free(*(_QWORD **)(v9 + 8), v15);
}

_QWORD *freeIwInfo(_QWORD *result, uint64_t a2)
{
  _QWORD *v3;
  unint64_t v4;
  uint64_t *v5;

  if (a2)
  {
    v3 = result;
    if (*(_WORD *)(result[191] + 1072))
    {
      v4 = 0;
      v5 = (uint64_t *)(a2 + 16);
      do
      {
        heap_Free(*(_QWORD **)(*v3 + 8), *(v5 - 1));
        *(v5 - 1) = 0;
        heap_Free(*(_QWORD **)(*v3 + 8), *v5);
        *v5 = 0;
        v5 += 3;
        ++v4;
      }
      while (v4 < *(unsigned __int16 *)(v3[191] + 1072));
    }
    return heap_Free(*(_QWORD **)(*v3 + 8), a2);
  }
  return result;
}

uint64_t fe_phrasing_Process(_QWORD **a1, uint64_t a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v10;
  _QWORD *v11;
  _QWORD *v12;
  _QWORD *v13;
  _QWORD *v14;
  char v15;
  const char *v16;
  char *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  BOOL v21;
  int v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t inserted;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  char v37;
  uint64_t v39;
  unsigned __int16 v40;
  uint64_t v41;
  int v42;
  unsigned int v43;
  _BYTE __c[11];

  v42 = 0;
  v43 = 0;
  v41 = 0;
  v40 = 0;
  v39 = 0;
  if ((safeh_HandleCheck((uint64_t)a1, a2, 62343, 1728) & 0x80000000) != 0)
    return 2315264008;
  *(_DWORD *)&__c[1] = 0;
  v10 = ((uint64_t (*)(uint64_t, uint64_t, uint64_t, _QWORD, _BYTE *))a1[7][13])(a3, a4, 1, 0, &__c[3]);
  if ((v10 & 0x80000000) != 0)
    return v10;
  if ((((uint64_t (*)(uint64_t, uint64_t, _QWORD, _QWORD, _BYTE *))a1[7][23])(a3, a4, *(unsigned __int16 *)&__c[3], 0, &__c[1]) & 0x80000000) != 0|| *(unsigned __int16 *)&__c[1] != 1)
  {
    inserted = 0;
    *a5 = 1;
    return inserted;
  }
  if (*((_DWORD *)a1 + 364))
  {
    v11 = a1[191];
    *((_WORD *)v11 + 548) = *(_WORD *)&__c[3];
    *((_WORD *)v11 + 549) = 1;
  }
  v12 = a1[12];
  v13 = a1[13];
  v14 = a1[11];
  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v10 = ((uint64_t (*)(_QWORD *, _QWORD *, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))v13[12])(v14, v12, "fecfg", "usecompound", &__c[3], &__c[1], __c);
  if ((v10 & 0x80000000) != 0)
    return v10;
  v15 = 1;
  if (*(unsigned __int16 *)&__c[1] == 1 && *(_QWORD *)&__c[3])
  {
    v16 = **(const char ***)&__c[3];
    v17 = strchr(**(char ***)&__c[3], __c[0]);
    if (v17)
    {
      *v17 = 0;
      v16 = **(const char ***)&__c[3];
    }
    if (!strcmp("yes", v16) || !strcmp("YES", v16))
      v15 = 0;
  }
  v21 = (int)paramc_ParamGetInt((*a1)[5], (uint64_t)"nnpausingoverride", (int *)&v43) >= 0 && v43 == 1;
  v22 = !v21;
  if (v21)
    log_OutText((*a1)[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN pausing Override enabled - NN pausing will skipped even if data loaded", v18, v19, v20, 0);
  if ((paramc_ParamGetInt((*a1)[5], (uint64_t)"nnpausingminwordspan", (int *)&v43) & 0x80000000) != 0
    || (v26 = v43, v43 > 0x270E))
  {
    v26 = 0xFFFFFFFFLL;
    if (!v22)
      goto LABEL_37;
  }
  else
  {
    log_OutText((*a1)[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN pausing min word span set to %d", v23, v24, v25, v43);
    if (!v22)
      goto LABEL_37;
  }
  if (*((_DWORD *)a1 + 324) == 1)
  {
    log_OutText((*a1)[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN Phrasing Enabled", v23, v24, v25, 0);
    v10 = hlp_MarkSildursExternal((uint64_t)a1, a3, a4);
    if ((v10 & 0x80000000) != 0)
      return v10;
    v10 = hlp_Markup((uint64_t)a1, a3, a4);
    if ((v10 & 0x80000000) != 0)
      return v10;
    v10 = fe_phrasing_Process_NN_Phrasing((uint64_t)a1, a2, a3, a4, a5, v26, &v42);
    if ((v10 & 0x80000000) != 0)
      return v10;
    v10 = hlp_SetExternalSildurs((uint64_t)a1, a3, a4);
    if ((v10 & 0x80000000) != 0)
      return v10;
    v10 = hlp_SetInternalSildurs((uint64_t)a1, a3, a4, 1);
    if ((v10 & 0x80000000) != 0)
      return v10;
  }
LABEL_37:
  if (!*((_DWORD *)a1 + 40))
  {
LABEL_56:
    if (*((_DWORD *)a1 + 364))
    {
      v36 = pw_Process(a3, a4, (uint64_t)a1[7], (uint64_t)*a1, (uint64_t)a1[191], (uint64_t ****)a1[181], (uint64_t)a1[183], a1 + 186, *((_DWORD *)a1 + 365), &v39, (uint64_t)a1[192], *((_DWORD *)a1 + 381), *((_DWORD *)a1 + 380));
      if ((v36 & 0x80000000) != 0)
      {
        inserted = v36;
        freeSentenceDataNN(*a1, (uint64_t)a1[191]);
        return inserted;
      }
      v10 = hlp_MarkSildursExternal((uint64_t)a1, a3, a4);
      if ((v10 & 0x80000000) == 0)
      {
        setbndfromTN(*a1, v39, (uint64_t)a1[191]);
        v10 = fe_phrasing_Process_NNPhrasing((uint64_t)a1, a2, a3, a4, (uint64_t)a1[191], a5);
        if ((v10 & 0x80000000) == 0)
        {
          v10 = hlp_SetExternalSildurs((uint64_t)a1, a3, a4);
          if ((v10 & 0x80000000) == 0)
          {
            v10 = hlp_SetInternalSildurs((uint64_t)a1, a3, a4, 1);
            if ((v10 & 0x80000000) == 0)
            {
              inserted = hlp_InsertWordPhraseBoundaries((uint64_t)a1, a3, a4, a1[206] != 0, 0, 0);
              if ((inserted & 0x80000000) != 0)
                return inserted;
              if (*((_DWORD *)a1 + 320) == 1)
              {
                inserted = hlp_setNLUPOSMappings(a1, a3, a4);
                if ((inserted & 0x80000000) != 0)
                  return inserted;
              }
              if (!*((_DWORD *)a1 + 420))
                return inserted;
              return fe_stress_process(*a1, a3, a4, (uint64_t)a1[7], (uint64_t)a1[212], (uint64_t)a1[183], (uint64_t)a1[213], (uint64_t)a1[214], (uint64_t ***)a1[211], *((_WORD *)a1 + 860), *((_DWORD *)a1 + 421));
            }
          }
        }
      }
    }
    else if (*((_DWORD *)a1 + 28))
    {
      log_OutText((*a1)[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"FEPHRRES: CRF Phrasing Enabled", v23, v24, v25, 0);
      v10 = hlp_MarkSildursExternal((uint64_t)a1, a3, a4);
      if ((v10 & 0x80000000) == 0)
      {
        v10 = fe_phrasing_Process_CRFPhrasing((uint64_t)a1, a2, a3, a4, a5);
        if ((v10 & 0x80000000) == 0)
        {
          v10 = hlp_SetExternalSildurs((uint64_t)a1, a3, a4);
          if ((v10 & 0x80000000) == 0)
          {
            v10 = hlp_SetInternalSildurs((uint64_t)a1, a3, a4, 1);
            if ((v10 & 0x80000000) == 0)
            {
              inserted = hlp_InsertWordPhraseBoundaries((uint64_t)a1, a3, a4, 0, 0, 0);
              if ((inserted & 0x80000000) != 0 || *((_DWORD *)a1 + 320) != 1)
                return inserted;
              return hlp_setNLUPOSMappings(a1, a3, a4);
            }
          }
        }
      }
    }
    else
    {
      v37 = v15 ^ 1;
      if (!*((_DWORD *)a1 + 29))
        v37 = 1;
      if ((v37 & 1) != 0)
      {
        return fe_phrasing_Process_Depes(a1, a2, a3, a4, a5);
      }
      else
      {
        v10 = hlp_MarkSildursExternal((uint64_t)a1, a3, a4);
        if ((v10 & 0x80000000) == 0)
        {
          v10 = hlp_SetExternalSildurs((uint64_t)a1, a3, a4);
          if ((v10 & 0x80000000) == 0)
          {
            v10 = fe_phrasing_Process_Mosynt((uint64_t *)a1, a2, a3, a4, a5);
            if ((v10 & 0x80000000) == 0)
              return hlp_SetInternalSildurs((uint64_t)a1, a3, a4, 0);
          }
        }
      }
    }
    return v10;
  }
  v10 = hlp_MarkSildursExternal((uint64_t)a1, a3, a4);
  if ((v10 & 0x80000000) != 0)
    return v10;
  if ((fe_phrasing_Process_PandP((uint64_t)a1, a2, a3, a4, a5) & 0x80000000) != 0)
  {
    log_OutText((*a1)[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"FEPHRRES: processing failed, fall back to alternative method", v28, v29, v30, 0);
    v10 = paramc_ParamSetUInt((*a1)[5], (uint64_t)"prmigactive", 0);
    if ((v10 & 0x80000000) != 0)
      return v10;
    goto LABEL_56;
  }
  v10 = hlp_Markup((uint64_t)a1, a3, a4);
  if ((v10 & 0x80000000) != 0)
    return v10;
  v10 = hlp_SetExternalSildurs((uint64_t)a1, a3, a4);
  if ((v10 & 0x80000000) != 0)
    return v10;
  v10 = hlp_SetInternalSildurs((uint64_t)a1, a3, a4, 0);
  if ((v10 & 0x80000000) != 0)
    return v10;
  inserted = paramc_ParamSetUInt((*a1)[5], (uint64_t)"prmigactive", 1u);
  if ((inserted & 0x80000000) == 0)
  {
    if (*((_DWORD *)a1 + 320) != 1 || (inserted = hlp_setNLUPOSMappings(a1, a3, a4), (inserted & 0x80000000) == 0))
    {
      if (v22 && *((_DWORD *)a1 + 324) == 1 && *((_WORD *)a1 + 720) && v42 == 1)
      {
        v31 = hlp_RemoveWordPhraseBoundaries(a1, a3, a4, *((unsigned __int16 *)a1 + 720), &v41, &v40);
        v32 = v41;
        if ((v31 & 0x80000000) == 0)
        {
          v31 = hlp_InsertWordPhraseBoundaries((uint64_t)a1, a3, a4, 1, v41, v40);
          if ((v31 & 0x80000000) == 0)
          {
            log_OutText((*a1)[4], (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NN Phrasing : cleanup lingdb (numwords=%d)", v33, v34, v35, *((unsigned __int16 *)a1 + 720));
            v31 = NNPausing_cleanLingdb((uint64_t)*a1, (uint64_t)a1[7], a3, a4, (uint64_t)(a1 + 163));
          }
        }
        inserted = v31;
        if (v32)
          heap_Free((_QWORD *)(*a1)[1], v32);
      }
    }
  }
  return inserted;
}

uint64_t hlp_MarkSildursExternal(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  unsigned __int16 v7;
  uint64_t v8;
  uint64_t v11;
  unsigned int v12;
  int v13;
  int v14;
  int v15;

  v14 = 0;
  v15 = 0;
  v12 = 0;
  v13 = 0;
  v11 = 0;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 1, 0, (char *)&v14 + 2);
  if ((v6 & 0x80000000) == 0
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, HIWORD(v14), 0, (char *)&v15 + 2) & 0x80000000) == 0&& HIWORD(v15) == 1)
  {
    v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, HIWORD(v14), 0, &v11, (char *)&v13 + 2);
    if ((v6 & 0x80000000) == 0 && HIWORD(v13) >= 2u)
    {
      v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, HIWORD(v14), &v14);
      if ((v6 & 0x80000000) == 0)
      {
        v7 = v14;
        if ((_WORD)v14)
        {
          while (1)
          {
            v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v7, 0, 1, &v12, (char *)&v13 + 2);
            if ((v8 & 0x80000000) != 0)
              break;
            if (v12 <= 0xA && ((1 << v12) & 0x610) != 0)
            {
              v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, (unsigned __int16)v14, 8, (char *)&v15 + 2);
              if ((v8 & 0x80000000) != 0)
                break;
              if (HIWORD(v15))
              {
                v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v14, 8, 1, &v15, (char *)&v13 + 2);
                if ((v8 & 0x80000000) != 0)
                  break;
                if ((_WORD)v15)
                {
                  v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v14, 18, 9, "external", &v13);
                  if ((v8 & 0x80000000) != 0)
                    break;
                }
              }
            }
            v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, (unsigned __int16)v14, &v14);
            if ((v6 & 0x80000000) == 0)
            {
              v7 = v14;
              if ((_WORD)v14)
                continue;
            }
            return v6;
          }
          return v8;
        }
      }
    }
  }
  return v6;
}

uint64_t hlp_Markup(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t v7;
  unsigned __int16 v8;
  uint64_t v9;
  unsigned __int16 v10;
  int v11;
  unsigned __int16 v12;
  int v13;
  uint64_t v15;
  __int16 v16;
  uint64_t v17;
  _WORD *v18;
  __int16 v19;
  uint64_t v21;
  __int16 v22;
  char *__s;
  __int16 v24;
  int v25;
  int v26;
  uint64_t v27;
  int v28;
  int v29;
  int v30;

  v29 = 0;
  v30 = 0;
  v28 = 0;
  v27 = 0;
  v25 = 0;
  v26 = 0;
  v24 = 1;
  __s = 0;
  v22 = 0;
  v21 = 0;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 1, 0, (char *)&v28 + 2);
  if ((v6 & 0x80000000) == 0
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, HIWORD(v28), 0, &v22) & 0x80000000) == 0&& v22 == 1)
  {
    v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, HIWORD(v28), 0, &v21, (char *)&v30 + 2);
    if ((v6 & 0x80000000) == 0 && HIWORD(v30) >= 2u)
    {
      v7 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, HIWORD(v28), &v28);
      if ((v7 & 0x80000000) != 0)
        return v7;
      v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, HIWORD(v28), 1, &v27, (char *)&v26 + 2);
      if ((v6 & 0x80000000) == 0)
      {
        v8 = v28;
        if ((_WORD)v28)
        {
          v9 = 0;
          v10 = 0;
          v11 = 0;
          v12 = 0;
          v13 = *(_DWORD *)(v27 + 12);
          while (1)
          {
            v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v8, 0, 1, &v29, (char *)&v30 + 2);
            if ((v7 & 0x80000000) != 0)
              return v7;
            if ((v29 - 9) < 2 || v29 == 4)
            {
              v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v28, 1, 1, &v26, (char *)&v30 + 2);
              if ((v7 & 0x80000000) != 0)
                return v7;
              v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v28, 2, 1, (char *)&v25 + 2, (char *)&v30 + 2);
              if ((v7 & 0x80000000) != 0)
                return v7;
              LOWORD(v25) = 0;
              v15 = HIWORD(v26);
              if (v9 >= HIWORD(v26))
              {
                v15 = v9;
              }
              else
              {
                v16 = 0;
                v17 = v9;
                v18 = (_WORD *)(v27 + 32 * v9 + 12);
                while ((__int16)(HIWORD(v25) - ((__int16)(HIWORD(v25) - v26) > 1)) > (__int16)(*v18 - v13))
                {
                  if (*((_DWORD *)v18 - 3) == 8)
                  {
                    v16 += v18[6];
                    LOWORD(v25) = v16;
                  }
                  ++v17;
                  v18 += 16;
                  if (HIWORD(v26) == v17)
                    goto LABEL_34;
                }
                v15 = (unsigned __int16)v17;
LABEL_34:
                if (v16 && v10)
                {
                  v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v10, 8, 1, &v25, &v30);
                  if ((v7 & 0x80000000) != 0)
                    return v7;
                  v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v10, 18, 9, "external", &v30);
                  if ((v7 & 0x80000000) != 0)
                    return v7;
                  v16 = v25;
                }
                if (v16 && v12)
                {
                  if (v11 && (unsigned __int16)v26 == v11)
                  {
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v12, 7, 1, &v24, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v12, 8, 1, &v25, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                  }
                  else if ((unsigned __int16)v26 != v11)
                  {
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 88))(a2, a3, (unsigned __int16)v28, &v28);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v29 = 15;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v28, 0, 1, &v29, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v28, 1, 1, &v26, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v12, 2, 1, (char *)&v25 + 2, (char *)&v30 + 2);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v28, 2, 1, (char *)&v25 + 2, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v12, 2, 1, &v26, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, v12, 4, &__s, (char *)&v30 + 2);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v19 = strlen(__s);
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v28, 4, (unsigned __int16)(v19 + 1), __s, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v12, 4, 2, "P", &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v28, 7, 1, &v24, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v28, 8, 1, &v25, &v30);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                    v12 = v28;
                    v11 = (unsigned __int16)v26;
                    v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, (unsigned __int16)v28, &v28);
                    if ((v7 & 0x80000000) != 0)
                      return v7;
                  }
                }
              }
              v10 = v28;
              v9 = v15;
            }
            else if (v29 == 15)
            {
              v12 = v28;
              v7 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, (unsigned __int16)v28, 1, 1, &v26, (char *)&v30 + 2);
              if ((v7 & 0x80000000) != 0)
                return v7;
              v11 = (unsigned __int16)v26;
            }
            v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, (unsigned __int16)v28, &v28);
            if ((v6 & 0x80000000) == 0)
            {
              v8 = v28;
              if ((_WORD)v28)
                continue;
            }
            return v6;
          }
        }
      }
    }
  }
  return v6;
}

uint64_t hlp_SetExternalSildurs(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t updated;
  int v8;
  unsigned __int16 v9;
  uint64_t v10;
  unsigned int v11;
  uint64_t v12;
  unsigned __int16 v13;
  int v15;
  uint64_t v16;
  int v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  unsigned int *v21;
  int v22;
  char *v23;
  char *v24;
  unsigned __int16 v25;
  unsigned int v26;
  BOOL v27;
  unint64_t v28;
  BOOL v29;
  int v30;
  uint64_t v31;
  __int16 v32;
  uint64_t v33;
  uint64_t v34;
  int *v35;
  int v36;
  __int16 v37;
  int v38;
  BOOL v39;
  uint64_t v40;
  unsigned __int16 v42;
  uint64_t v43;
  int v44;
  int v45;
  unsigned __int16 v46;
  unsigned __int16 v47;
  unsigned __int16 v48;
  uint64_t v49;
  int v50;
  int v51;
  int v52;
  unsigned int v53;
  int v54;
  int v55;
  char __s1[8];
  char v57[260];
  uint64_t v58;

  v58 = *MEMORY[0x1E0C80C00];
  v54 = 0;
  v55 = 0;
  v52 = 0;
  v53 = 0;
  v51 = 0;
  HIWORD(v50) = 0;
  v49 = 0;
  v48 = 0;
  v44 = 0;
  v43 = 0;
  v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 1, 0, &v55);
  if ((v6 & 0x80000000) == 0
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, (unsigned __int16)v55, 0, (char *)&v55 + 2) & 0x80000000) == 0&& HIWORD(v55) == 1)
  {
    v6 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, int *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, (unsigned __int16)v55, 0, &v43, &v54);
    if ((v6 & 0x80000000) == 0 && (unsigned __int16)v54 >= 2u)
    {
      updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, (unsigned __int16)v55, 1, &v49, &v48);
      if ((updated & 0x80000000) != 0)
      {
        return updated;
      }
      else
      {
        v8 = *(_DWORD *)(v49 + 12);
        v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, (unsigned __int16)v55, (char *)&v54 + 2);
        if ((v6 & 0x80000000) == 0)
        {
          v52 = 0;
          HIWORD(v51) = 0;
          v47 = 0;
          v46 = 0;
          strcpy(__s1, "normal");
          strcpy(v57, "normal");
          v45 = 0;
          v50 = 0;
          v9 = HIWORD(v54);
          if (HIWORD(v54))
          {
            v10 = 0;
            v11 = 0;
            v12 = 0;
            v13 = 0;
            while (1)
            {
              updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v9, 0, 1, &v53, &v54);
              if ((updated & 0x80000000) != 0)
                return updated;
              if (v53 > 0xA || ((1 << v53) & 0x610) == 0)
              {
                v31 = HIWORD(v54);
                v20 = v12;
                goto LABEL_76;
              }
              updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v54), 1, 1, (char *)&v52 + 2, &v54);
              if ((updated & 0x80000000) != 0)
                return updated;
              updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v54), 2, 1, &v52, &v54);
              if ((updated & 0x80000000) != 0)
                return updated;
              HIWORD(v50) = 0;
              if (v13)
              {
                updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v13, 2, 1, (char *)&v50 + 2, &v54);
                if ((updated & 0x80000000) != 0)
                  return updated;
              }
              __strcpy_chk();
              updated = hlp_UpdateDomain(a1, a2, a3, (unsigned __int16)v55, &v47, HIWORD(v52), (unsigned __int16)v52, &v46, v57);
              if ((updated & 0x80000000) != 0)
                return updated;
              if (v46)
              {
                updated = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a2, a3);
                if ((updated & 0x80000000) != 0)
                  return updated;
                v15 = HIWORD(v51);
              }
              else
              {
                v15 = (unsigned __int16)v52;
                HIWORD(v51) = v52;
              }
              v42 = v13;
              if (v15 && v11 < v48)
              {
                v16 = v10;
                v17 = (__int16)(v15 - 1);
                v18 = v11;
                v19 = v49 + 32 * v11;
                v20 = v12;
                if (v17 >= (__int16)(*(_WORD *)(v19 + 12) - v8))
                {
                  v21 = (unsigned int *)(v19 + 24);
                  v20 = v12;
                  while (1)
                  {
                    if (*(v21 - 6) == 31)
                      v20 = *v21;
                    if (v48 - 1 == v18)
                      break;
                    v22 = v21[5] - v8;
                    v21 += 8;
                    ++v18;
                    if (v17 < (__int16)v22)
                    {
                      v11 = (unsigned __int16)v18;
                      goto LABEL_34;
                    }
                  }
                  v11 = v48;
                }
              }
              else
              {
                v16 = v10;
                v20 = v12;
              }
LABEL_34:
              hlp_GetDomainPauseDur(a1, "spell", &v45, &v44);
              v23 = strstr(__s1, "spell");
              v24 = strstr(v57, "spell");
              v10 = v16;
              if (v23)
              {
                if (v24)
                {
                  v25 = v42;
                  if (!HIWORD(v50)
                    || ((v26 = *(unsigned __int8 *)(v43 + HIWORD(v50) - 1),
                         v27 = v26 > 0x3F,
                         v28 = (1 << v26) & 0x8C00500200000000,
                         !v27)
                      ? (v29 = v28 == 0)
                      : (v29 = 1),
                        v29))
                  {
                    LOWORD(v12) = 0;
                    v30 = 1;
                  }
                  else
                  {
                    v30 = 0;
                    if (!(_DWORD)v12)
                      LOWORD(v12) = v45;
                  }
                  goto LABEL_55;
                }
                v25 = v42;
                if (!(_DWORD)v12)
                {
LABEL_51:
                  v30 = 0;
                  if (v44)
                    LOWORD(v12) = v45;
                  else
                    LOWORD(v12) = 200;
                  goto LABEL_55;
                }
                v30 = 0;
              }
              else if (v24)
              {
                v25 = v42;
                if (!(_DWORD)v20)
                  goto LABEL_51;
                v30 = 0;
                LOWORD(v12) = v20;
              }
              else
              {
                LOWORD(v12) = 0;
                v30 = 1;
                v25 = v42;
              }
LABEL_55:
              if (v16 >= v48)
              {
                v32 = 0;
              }
              else
              {
                v32 = 0;
                v33 = v16;
                v34 = v49 + 32 * v16 + 12;
                v35 = (int *)v34;
                while (1)
                {
                  v36 = *v35;
                  v35 += 8;
                  if ((__int16)(v52 - ((__int16)(v52 - HIWORD(v52)) > 1)) <= (__int16)(v36 - v8))
                    break;
                  if (*(_DWORD *)(v34 - 12) == 8)
                    v32 += *(_WORD *)(v34 + 12);
                  ++v33;
                  v34 = (uint64_t)v35;
                  if (v48 == v33)
                  {
                    v10 = v48;
                    goto LABEL_64;
                  }
                }
                v10 = (unsigned __int16)v33;
              }
LABEL_64:
              if (v30)
                v37 = 0;
              else
                v37 = v12;
              v38 = v30 ^ 1;
              v39 = v32 == 0;
              if (!v32)
                v32 = v37;
              LOWORD(v50) = v32;
              if (!v39)
                v38 = 1;
              if (v25)
              {
                if (v38)
                {
                  v40 = v25;
                  updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v40, 8, 1, &v50, &v51);
                  if ((updated & 0x80000000) != 0)
                    return updated;
                  updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v40, 18, 9, "external", &v51);
                  if ((updated & 0x80000000) != 0)
                    return updated;
                }
              }
              v31 = HIWORD(v54);
              v13 = HIWORD(v54);
LABEL_76:
              v6 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, v31, (char *)&v54 + 2);
              if ((v6 & 0x80000000) == 0)
              {
                v9 = HIWORD(v54);
                v12 = v20;
                if (HIWORD(v54))
                  continue;
              }
              return v6;
            }
          }
        }
      }
    }
  }
  return v6;
}

uint64_t hlp_SetInternalSildurs(uint64_t a1, uint64_t a2, uint64_t a3, int a4)
{
  uint64_t v8;
  unsigned __int16 v9;
  uint64_t v10;
  unsigned __int16 v11;
  uint64_t updated;
  int v14;
  BOOL v15;
  __int16 v16;
  _BOOL4 v17;
  uint64_t v19;
  int v20;
  int v21;
  int v22;
  int v23;
  int v24;
  int v25;
  int v26;
  int v27;
  int v28;
  int v29;
  int v30;
  int v31;
  char __s[8];
  char v33[260];
  uint64_t v34;

  v34 = *MEMORY[0x1E0C80C00];
  v30 = 0;
  v31 = 0;
  v28 = 0;
  v29 = 0;
  v27 = 0;
  HIWORD(v26) = 0;
  v22 = 0;
  v19 = 0;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 1, 0, &v31);
  if ((v8 & 0x80000000) == 0
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, (unsigned __int16)v31, 0, (char *)&v31 + 2) & 0x80000000) == 0&& HIWORD(v31) == 1)
  {
    v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, int *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, (unsigned __int16)v31, 0, &v19, &v30);
    if ((v8 & 0x80000000) == 0 && (unsigned __int16)v30 >= 2u)
    {
      v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, (unsigned __int16)v31, (char *)&v30 + 2);
      if ((v8 & 0x80000000) == 0)
      {
        LOWORD(v27) = 0;
        v25 = 0;
        v26 = 0;
        v28 = 0;
        v23 = 0;
        strcpy(__s, "normal");
        strcpy(v33, "normal");
        v9 = HIWORD(v30);
        if (HIWORD(v30))
        {
          LOWORD(v10) = 0;
          v11 = 0;
          while (1)
          {
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v9, 0, 1, &v29, &v30);
            if ((updated & 0x80000000) != 0)
              return updated;
            if ((v29 - 9) < 2 || v29 == 4)
              break;
            if (v29 == 15)
            {
              v10 = HIWORD(v30);
              updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v30), 1, 1, &v27, &v30);
              if ((updated & 0x80000000) != 0)
                return updated;
              updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v10, 7, 1, (char *)&v26 + 2, &v30);
              if ((updated & 0x80000000) != 0)
                return updated;
            }
LABEL_43:
            v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, HIWORD(v30), (char *)&v30 + 2);
            if ((v8 & 0x80000000) != 0)
              return v8;
            v9 = HIWORD(v30);
            if (!HIWORD(v30))
            {
              if (!v11)
                return v8;
              HIWORD(v25) = 0;
              return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v11, 8, 1, (char *)&v25 + 2, (char *)&v27 + 2);
            }
          }
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v30), 1, 1, (char *)&v28 + 2, &v30);
          if ((updated & 0x80000000) != 0)
            return updated;
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v30), 2, 1, &v28, &v30);
          if ((updated & 0x80000000) != 0)
            return updated;
          LOWORD(v26) = 0;
          if (v11)
          {
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v11, 2, 1, &v26, &v30);
            if ((updated & 0x80000000) != 0)
              return updated;
            LOWORD(v25) = 0;
            v24 = 0;
            updated = hlp_ReadSildur(a1, a2, a3, v11, &v25, &v24);
            if ((updated & 0x80000000) != 0)
              return updated;
            if (v24)
            {
              v14 = 1;
            }
            else
            {
              if (a4)
                v15 = (unsigned __int16)v25 == 0;
              else
                v15 = 1;
              v14 = !v15;
            }
          }
          else
          {
            v14 = 0;
            LOWORD(v25) = 0;
            v24 = 0;
          }
          __strcpy_chk();
          updated = hlp_UpdateDomain(a1, a2, a3, (unsigned __int16)v31, (unsigned __int16 *)&v23 + 1, HIWORD(v28), (unsigned __int16)v28, (unsigned __int16 *)&v23, v33);
          if ((updated & 0x80000000) != 0)
            return updated;
          hlp_GetDomainPauseDur(a1, __s, &v22, &v20);
          hlp_GetDomainPauseDur(a1, v33, &v21, &v20);
          v16 = v22;
          HIWORD(v25) = 0;
          v17 = (unsigned __int16)v10 != 0;
          if (v14)
          {
            v16 = v25;
          }
          else if (!HIWORD(v28) || !(_WORD)v10 || (v17 = 1, (unsigned __int16)v27 != HIWORD(v28)) || HIWORD(v26) > 1u)
          {
LABEL_37:
            if (v11)
            {
              updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, v11, 8, 1, (char *)&v25 + 2, (char *)&v27 + 2);
              if ((updated & 0x80000000) != 0)
                return updated;
            }
            if (v17 && (unsigned __int16)v27 == HIWORD(v28))
            {
              updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v10, 8, 1, (char *)&v25 + 2, (char *)&v27 + 2);
              if ((updated & 0x80000000) != 0)
                return updated;
            }
            v11 = HIWORD(v30);
            goto LABEL_43;
          }
          HIWORD(v25) = v16;
          goto LABEL_37;
        }
      }
    }
  }
  return v8;
}

uint64_t hlp_setNLUPOSMappings(_QWORD *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  unsigned __int16 v15;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  __int16 v23;
  uint64_t (*v24)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, int *);
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  char *v29;
  unsigned int v31;
  char *v32;
  uint64_t v33;
  char *v34;
  char *__s;
  unsigned __int16 __n[8];
  __int16 v37;
  int v38[2];
  unsigned int v39;
  int v40;
  int v41;

  v40 = 0;
  v41 = 0;
  v39 = 0;
  *(_QWORD *)v38 = 0;
  v37 = 0;
  *(_QWORD *)&__n[1] = 0;
  __n[0] = 0;
  v34 = 0;
  __s = 0;
  v32 = 0;
  v33 = 0;
  if ((com_mosynt_GetCfgParamVal(a1[11], a1[12], a1[13], (uint64_t)"fephrase_max_search_key", "64", &v32) & 0x80000000) != 0)
    v6 = 64;
  else
    v6 = atoi(v32);
  v7 = heap_Calloc(*(_QWORD **)(*a1 + 8), 1, v6);
  if (v7)
  {
    v12 = v7;
    v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1[7] + 104))(a2, a3, 1, 0, (char *)&v41 + 2);
    if ((v13 & 0x80000000) != 0)
    {
LABEL_33:
      v14 = v13;
    }
    else
    {
      v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a1[7] + 184))(a2, a3, HIWORD(v41), 0, &v37);
      if ((v14 & 0x80000000) == 0 && v37 == 1)
      {
        v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, char *))(a1[7] + 176))(a2, a3, HIWORD(v41), 0, &v33, (char *)&v40 + 2);
        if ((v14 & 0x80000000) == 0 && HIWORD(v40) >= 2u)
        {
          v14 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1[7] + 104))(a2, a3, 2, HIWORD(v41), &v41);
          if ((v14 & 0x80000000) == 0)
          {
            v15 = v41;
            if ((_WORD)v41)
            {
              while (1)
              {
                v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a1[7] + 168))(a2, a3, v15, 0, 1, &v39, (char *)&v40 + 2);
                if ((v13 & 0x80000000) != 0)
                  goto LABEL_33;
                if (v39 <= 0xA && ((1 << v39) & 0x610) != 0)
                {
                  v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v41, 5, &__s, (char *)&v40 + 2);
                  if ((v13 & 0x80000000) != 0)
                    goto LABEL_33;
                  if (strlen(__s) != 1)
                  {
                    v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a1[7] + 184))(a2, a3, (unsigned __int16)v41, 14, &v37);
                    if ((v13 & 0x80000000) != 0)
                      goto LABEL_33;
                    if (v37)
                    {
                      v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, int *, char *))(a1[7] + 176))(a2, a3, (unsigned __int16)v41, 14, v38, (char *)&v40 + 2);
                      if ((v13 & 0x80000000) != 0)
                        goto LABEL_33;
                      if (!HIWORD(v40))
                      {
                        *(_BYTE *)v12 = *__s;
                        *(_BYTE *)(v12 + 1) = 0;
                        log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NLUPOSMAP from %s to %s (default in lieu of NLU field)", v17, v18, v19, (uint64_t)__s);
                        v24 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, int *))(a1[7] + 160);
                        v25 = (unsigned __int16)(strlen((const char *)v12) + 1);
                        v26 = a2;
                        v27 = a3;
                        v28 = (unsigned __int16)v41;
                        v29 = (char *)v12;
                        goto LABEL_28;
                      }
                      hlp_NLUStrFind(*(char **)v38, "POS", (uint64_t *)&__n[1], __n);
                      strncpy((char *)v12, *(const char **)&__n[1], __n[0]);
                      *(_BYTE *)(v12 + __n[0]) = 0;
                      if ((ssftmap_FindReadOnly(a1[161], v12, &v34) & 0x1FFF) != 0x14)
                      {
                        log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NLUPOSMAP from %s (NLU %s) to %s", v20, v21, v22, (uint64_t)__s);
                        v24 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, int *))(a1[7] + 160);
                        v25 = (unsigned __int16)(strlen(v34) + 1);
                        v26 = a2;
                        v27 = a3;
                        v28 = (unsigned __int16)v41;
                        v29 = v34;
LABEL_28:
                        v13 = v24(v26, v27, v28, 5, v25, v29, &v40);
                        if ((v13 & 0x80000000) != 0)
                          goto LABEL_33;
                        goto LABEL_29;
                      }
                      *(_BYTE *)(v12 + 1) = 0;
                      log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"NLUPOSMAP from %s (NLU %s) to %s", v20, v21, v22, (uint64_t)__s);
                      v23 = strlen((const char *)v12);
                      v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, uint64_t, int *))(a1[7] + 160))(a2, a3, (unsigned __int16)v41, 5, (unsigned __int16)(v23 + 1), v12, &v40);
                      if ((v13 & 0x80000000) != 0)
                        goto LABEL_33;
                    }
                  }
                }
LABEL_29:
                v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1[7] + 120))(a2, a3, (unsigned __int16)v41, &v41);
                if ((v14 & 0x80000000) == 0)
                {
                  v15 = v41;
                  if ((_WORD)v41)
                    continue;
                }
                break;
              }
            }
          }
        }
      }
    }
    heap_Free(*(_QWORD **)(*a1 + 8), v12);
  }
  else
  {
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v8, v9, v10, v11, v31);
    return 2315264010;
  }
  return v14;
}

uint64_t hlp_RemoveWordPhraseBoundaries(_QWORD *a1, uint64_t a2, uint64_t a3, unsigned int a4, uint64_t *a5, _WORD *a6)
{
  uint64_t result;
  unsigned __int16 v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  unsigned int v22;
  int v23;
  int v24;
  int v25;
  unsigned int v26;
  int v27;

  v26 = 0;
  v27 = 0;
  v24 = 0;
  v25 = 0;
  v23 = 0;
  *a6 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1[7] + 104))(a2, a3, 1, 0, (char *)&v27 + 2);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1[7] + 152))(a2, a3, 2, HIWORD(v27), &v23);
    if ((result & 0x80000000) == 0)
    {
      if (!(_WORD)v23)
        goto LABEL_26;
      result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1[7] + 104))(a2, a3, 2, HIWORD(v27), &v27);
      if ((result & 0x80000000) != 0)
        return result;
      v13 = v27;
      if ((_WORD)v27)
      {
        v14 = 0;
        v15 = 4 * a4;
        do
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a1[7] + 168))(a2, a3, v13, 0, 1, &v26, (char *)&v25 + 2);
          if ((result & 0x80000000) != 0)
            break;
          v16 = (unsigned __int16)v27;
          if (v26 <= 0xA && ((1 << v26) & 0x610) != 0)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, (unsigned __int16)v27, 1, 1, &v24, (char *)&v25 + 2);
            if ((result & 0x80000000) != 0)
              break;
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a1[7] + 168))(a2, a3, (unsigned __int16)v27, 2, 1, (char *)&v23 + 2, (char *)&v25 + 2);
            if ((result & 0x80000000) != 0)
              break;
            if (*a6 && v14)
              *(_WORD *)(v14 + 4 * ((unsigned __int16)*a6 - 1) + 2) = HIWORD(v23);
          }
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1[7] + 120))(a2, a3, (unsigned __int16)v27, &v27);
          if ((result & 0x80000000) != 0)
            break;
          if (v26 == 15)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a2, a3, v16, 1, 1, &v25, (char *)&v25 + 2);
            if ((result & 0x80000000) != 0)
              break;
            result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, char *))(a1[7] + 168))(a2, a3, v16, 2, 1, (char *)&v24 + 2, (char *)&v25 + 2);
            if ((result & 0x80000000) != 0)
              break;
            if (!v14)
            {
              v14 = heap_Calloc(*(_QWORD **)(*a1 + 8), 1, v15);
              if (!v14)
              {
                log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v18, v19, v20, v21, v22);
                result = 2315264010;
                break;
              }
            }
            *(_WORD *)(v14 + 4 * (unsigned __int16)*a6) = v25;
            *(_WORD *)(v14 + 4 * (unsigned __int16)(*a6)++ + 2) = HIWORD(v24);
            result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(a1[7] + 192))(a2, a3, v16);
          }
          v13 = v27;
        }
        while ((_WORD)v27);
      }
      else
      {
LABEL_26:
        v14 = 0;
      }
      *a5 = v14;
    }
  }
  return result;
}

uint64_t hlp_InsertWordPhraseBoundaries(uint64_t a1, uint64_t a2, uint64_t a3, int a4, uint64_t a5, unsigned int a6)
{
  uint64_t result;
  unsigned __int16 v13;
  int v14;
  __int16 v15;
  int v16;
  const char *v17;
  uint64_t v19;
  unsigned __int16 *v20;
  int v21;
  __int16 v22;
  __int16 v23;
  const char *v24;
  int v25;
  __int16 v28;
  _BOOL4 v29;
  int v30;
  char *__s1;
  char *v32;
  char *__s;
  unsigned __int16 v34;
  int v35;
  int v36;
  int v37;
  int v38;
  _WORD v39[2];
  int v40;
  unsigned __int16 v41;

  v39[0] = 0;
  v37 = 0;
  v38 = 0;
  v35 = 0;
  v36 = 0;
  v34 = 0;
  v32 = 0;
  __s = 0;
  __s1 = 0;
  v30 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, _WORD *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 1, 0, v39);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 152))(a2, a3, 2, v39[0], &v30);
    if ((result & 0x80000000) == 0)
    {
      if (!(_WORD)v30
        || (result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, v39[0], (char *)&v38 + 2), (result & 0x80000000) == 0))
      {
        v13 = HIWORD(v38);
        if (HIWORD(v38))
        {
          v14 = 0;
          v29 = 0;
          if (a4 == 1)
            v15 = 0;
          else
            v15 = 200;
          v28 = v15;
          v16 = -1;
          v17 = "*?";
          while (1)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v13, 0, 1, &v37, (char *)&v36 + 2);
            if ((result & 0x80000000) != 0)
              return result;
            if ((v37 - 9) < 2 || v37 == 4)
              break;
            if (v37 == 15)
              LOWORD(v38) = HIWORD(v38);
LABEL_71:
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, HIWORD(v38), (char *)&v38 + 2);
            if ((result & 0x80000000) != 0)
              return result;
            v13 = HIWORD(v38);
            if (!HIWORD(v38))
              goto LABEL_83;
          }
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v38), 1, 1, (char *)&v35 + 2, (char *)&v36 + 2);
          if ((result & 0x80000000) != 0)
            return result;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v38), 2, 1, &v35, (char *)&v36 + 2);
          if ((result & 0x80000000) != 0)
            return result;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, HIWORD(v38), 8, 1, &v34, (char *)&v36 + 2);
          if ((result & 0x80000000) != 0)
            return result;
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, HIWORD(v38), 18, (char *)&v30 + 2);
          if ((result & 0x80000000) != 0)
            return result;
          LOWORD(v30) = 0;
          if (a6)
          {
            v20 = (unsigned __int16 *)(a5 + 2);
            v19 = a6;
            do
            {
              v21 = *v20;
              v20 += 2;
              if (v21 == (unsigned __int16)v35)
                LOWORD(v30) = 1;
              --v19;
            }
            while (v19);
          }
          if (HIWORD(v30))
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, HIWORD(v38), 18, &__s1, (char *)&v36 + 2);
            if ((result & 0x80000000) != 0)
              return result;
            v29 = strcmp(__s1, "external") == 0;
          }
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56)
                                                                                                 + 176))(a2, a3, HIWORD(v38), 3, &v32, (char *)&v36 + 2);
          if ((result & 0x80000000) != 0)
            return result;
          if (strstr(v32, v17))
            v14 = 1;
          v22 = HIWORD(v35);
          v23 = v35;
          if (HIWORD(v35) > (unsigned __int16)v35)
            return 2315271857;
          if (!(_WORD)v38)
          {
            result = hlp_InsertWordPhrase(a1, a2, a3, HIWORD(v38), SHIWORD(v35), v35, 0, v28, (unsigned __int16 *)&v38);
            if ((result & 0x80000000) != 0)
              return result;
LABEL_48:
            if (v34)
            {
              v24 = v17;
              v41 = HIWORD(v38);
              v40 = 0;
              v39[1] = 0;
              if (((*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 120))(a2, a3) & 0x80000000) == 0)
              {
                v25 = 0;
                while (v41
                     && ((*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a2, a3) & 0x80000000) == 0)
                {
                  if (v40 == 15)
                  {
                    v25 = 1;
                  }
                  else if ((v40 - 9) < 2 || v40 == 4)
                  {
                    if (v25)
                      break;
                    v16 = v34;
                    v17 = v24;
                    if (v34 <= 0x1Du && !v29)
                    {
                      v34 = 0;
                      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, HIWORD(v38), 8, 1, &v34, &v36);
                      if ((result & 0x80000000) != 0)
                        return result;
                      v16 = v34;
                    }
                    goto LABEL_71;
                  }
                  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56)
                                                                                                + 120))(a2, a3, v41, &v41) & 0x80000000) != 0)break;
                }
              }
              v17 = v24;
            }
            else if ((unsigned __int16)v30 == 1 && a4 == 1)
            {
              v16 = 0;
            }
            goto LABEL_71;
          }
          if (v16 < 1)
          {
            if (v16)
            {
LABEL_45:
              if (!a4)
              {
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v38, 2, 1, &v35, &v36);
                if ((result & 0x80000000) != 0)
                  return result;
              }
              v16 = -1;
              goto LABEL_48;
            }
            if (a4 == 1)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 160))(a2, a3);
              if ((result & 0x80000000) != 0)
                return result;
              v22 = HIWORD(v35);
              v23 = v35;
            }
            result = hlp_InsertWordPhrase(a1, a2, a3, HIWORD(v38), v22, v23, 2, 0, (unsigned __int16 *)&v38);
          }
          else
          {
            if (a4 == 1)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 160))(a2, a3);
              if ((result & 0x80000000) != 0)
                return result;
              v22 = HIWORD(v35);
              v23 = v35;
            }
            result = hlp_InsertWordPhrase(a1, a2, a3, HIWORD(v38), v22, v23, 1, v16, (unsigned __int16 *)&v38);
          }
          if ((result & 0x80000000) != 0)
            return result;
          goto LABEL_45;
        }
        v14 = 0;
LABEL_83:
        if (a4 == 1 && (_WORD)v38)
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v38, 2, 1, &v35, &v36);
          if ((result & 0x80000000) != 0 || !(_WORD)v38)
            return result;
        }
        else if (!(_WORD)v38)
        {
          return result;
        }
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, char *))(*(_QWORD *)(a1 + 56)
                                                                                              + 176))(a2, a3, v39[0], 0, &__s, (char *)&v36 + 2);
        if ((result & 0x80000000) == 0)
        {
          if (__s && *__s && __s[strlen(__s) - 1] == 63 || v14)
            return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v38, 4, 2, "Y", &v36);
          else
            return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, (unsigned __int16)v38, 4, 2, "T", &v36);
        }
      }
    }
  }
  return result;
}

uint64_t fe_phrasing_Process_Depes(_QWORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v8;
  uint64_t v9;
  int v10;
  uint64_t LastTnMarkerUpToPos;
  int v12;
  int v13;
  __int16 v15;
  int v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  _BYTE *v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  _BYTE *v26;
  _BYTE *v27;
  int v28;
  int v29;
  __int16 v31;
  unint64_t v32;
  unsigned __int16 v33;
  uint64_t v34;
  uint64_t v35;
  unsigned __int16 v37;
  int v38;
  char *v39;
  size_t v40;
  char *v41;
  unsigned int v42;
  uint64_t v43;
  uint64_t v44;
  unsigned int v45;
  int v46;
  __int16 v47;
  int v48;
  char *__s1;
  __int16 v50;
  int v51;
  uint64_t v52;
  char *__s;
  unsigned int v54;
  unsigned __int16 v55;
  int v56;
  int v57;
  int v58;
  char *v59;
  char v60[256];
  char v61[256];
  uint64_t v62;

  v62 = *MEMORY[0x1E0C80C00];
  v59 = 0;
  v57 = 0;
  v58 = 0;
  v56 = 0;
  v55 = 0;
  v54 = 0;
  v52 = 0;
  __s = 0;
  v51 = 0;
  v50 = 0;
  __s1 = 0;
  v48 = 0;
  *a5 = 1;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1[7] + 104))(a3, a4, 1, 0, (char *)&v58 + 2);
  if ((v8 & 0x80000000) != 0)
    return v8;
  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a1[7] + 184))(a3, a4, HIWORD(v58), 0, &v50) & 0x80000000) != 0)return v8;
  if (v50 != 1)
    return v8;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, char *))(a1[7] + 176))(a3, a4, HIWORD(v58), 0, &v59, (char *)&v56 + 2);
  if ((v8 & 0x80000000) != 0 || HIWORD(v56) < 2u)
    return v8;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(a1[7] + 176))(a3, a4, HIWORD(v58), 1, &v52, (char *)&v51 + 2);
  if ((v9 & 0x80000000) != 0)
    return v9;
  v10 = *(_DWORD *)(v52 + 12);
  LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1[7] + 104))(a3, a4, 2, HIWORD(v58), &v58);
  if ((LastTnMarkerUpToPos & 0x80000000) != 0)
    goto LABEL_25;
  v12 = 1;
  v13 = 1;
  while (1)
  {
    if (!(_WORD)v58)
    {
      v21 = (_BYTE *)heap_Alloc(*(_QWORD *)(*a1 + 8), (unsigned __int16)v12 + 128);
      a1[17] = v21;
      if (!v21
        || (*v21 = 0, v26 = (_BYTE *)heap_Alloc(*(_QWORD *)(*a1 + 8), (unsigned __int16)v12), (a1[18] = v26) == 0)
        || (*v26 = 0, v27 = (_BYTE *)heap_Alloc(*(_QWORD *)(*a1 + 8), (unsigned __int16)v12), (a1[19] = v27) == 0))
      {
        v8 = 2315264010;
        log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v22, v23, v24, v25, v45);
        goto LABEL_26;
      }
      *v27 = 0;
      LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1[7] + 104))(a3, a4, 2, HIWORD(v58), &v58);
      if ((LastTnMarkerUpToPos & 0x80000000) == 0)
      {
        LOWORD(v28) = v58;
        HIWORD(v57) = v58;
        if ((_WORD)v58)
        {
          v29 = 0;
          do
          {
            LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a1[7] + 168))(a3, a4, (unsigned __int16)v28, 0, 1, &v54, (char *)&v56 + 2);
            if ((LastTnMarkerUpToPos & 0x80000000) != 0)
              goto LABEL_25;
            if (v54 - 9 < 2 || v54 == 4)
            {
              *(_WORD *)v60 = 0;
              v47 = 0;
              v50 = 0;
              LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a3, a4, HIWORD(v57), 1, 1, &v56, (char *)&v56 + 2);
              if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                goto LABEL_25;
              LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(a1[7] + 168))(a3, a4, HIWORD(v57), 2, 1, &v55, (char *)&v56 + 2);
              if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                goto LABEL_25;
              if ((__int16)(v55 - v56) <= 1)
                v31 = 0;
              else
                v31 = -1;
              *(_WORD *)v60 = 0;
              v32 = (unsigned __int16)v51;
              v33 = HIWORD(v51);
              if ((unsigned __int16)v51 < HIWORD(v51))
              {
                v46 = v29;
                v34 = (unsigned __int16)v57;
                v35 = 32 * (unsigned __int16)v51;
                do
                {
                  if ((__int16)(*(_DWORD *)(v52 + v35 + 12) - v10) >= (__int16)(v55 + v31))
                    break;
                  if (*(_DWORD *)(v52 + v35) == 8 && (_DWORD)v34 != 0)
                  {
                    *(_WORD *)v60 += *(_WORD *)(v52 + v35 + 24);
                    LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, __int16 *))(a1[7] + 160))(a3, a4, v34, 8, 1, v60, &v47);
                    if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                      goto LABEL_25;
                    LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const char *, __int16 *))(a1[7] + 160))(a3, a4, v34, 18, 9, "external", &v47);
                    if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                      goto LABEL_25;
                    v33 = HIWORD(v51);
                  }
                  ++v32;
                  v35 += 32;
                }
                while (v32 < v33);
                v29 = v46;
              }
              LOWORD(v51) = v32;
              *(_WORD *)v60 = 0;
              if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a1[7] + 184))(a3, a4, HIWORD(v57), 8, &v50) & 0x80000000) != 0|| !v50)
              {
                LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(a1[7] + 160))(a3, a4, HIWORD(v57), 8, 1, v60, &v47);
                if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                  goto LABEL_25;
              }
              v37 = HIWORD(v57);
              LOWORD(v57) = HIWORD(v57);
            }
            else if (v54 == 5)
            {
              v38 = HIWORD(v57);
              v37 = v29;
              if (HIWORD(v57) != (unsigned __int16)v29)
              {
                LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a3, a4, HIWORD(v57), 4, &__s1, (char *)&v56 + 2);
                if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                  goto LABEL_25;
                LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a3, a4, HIWORD(v57), 1, 1, &v56, (char *)&v56 + 2);
                if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                  goto LABEL_25;
                LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(a1[7] + 168))(a3, a4, HIWORD(v57), 2, 1, &v55, (char *)&v56 + 2);
                if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                  goto LABEL_25;
                LastTnMarkerUpToPos = hlp_GetLastTnMarkerUpToPos((uint64_t)a1, a3, a4, HIWORD(v58), v56, v61);
                if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                  goto LABEL_25;
                v39 = __s1;
                if (!strcmp(__s1, "phon"))
                {
                  v39 = v61;
                  __s1 = v61;
                }
                LastTnMarkerUpToPos = hlp_Remap(a1, a3, a4, HIWORD(v58), HIWORD(v57), v39, &v55);
                if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                  goto LABEL_25;
                v48 = 0;
                strcpy(v60, "tnpausedur");
                v40 = strlen(__s1);
                if (v40 < 255 - strlen(v60))
                {
                  __strcat_chk();
                  if ((paramc_ParamGetUInt(*(_QWORD *)(*a1 + 40), (uint64_t)v60, (unsigned int *)&v48) & 0x80000000) != 0)
                    v48 = 0;
                }
                v41 = __s1;
                if (strstr(__s1, "spell"))
                {
                  v42 = v55;
                  v43 = v52;
                  if (HIWORD(v51))
                  {
                    v44 = 0;
                    do
                    {
                      if ((__int16)v55 <= (__int16)(*(_WORD *)(v52 + v44 + 12) - v10))
                        break;
                      if (*(_DWORD *)(v52 + v44) == 31)
                        v48 = *(_DWORD *)(v52 + v44 + 24);
                      v44 += 32;
                    }
                    while (32 * HIWORD(v51) != v44);
                  }
                }
                else
                {
                  v42 = v55;
                  v43 = v52;
                }
                LastTnMarkerUpToPos = hlp_Phrasing((uint64_t)a1, v59, v42, v41, a3, a4, (unsigned __int16 *)&v58, v43, &v51, (unsigned __int16 *)&v51 + 1, v10, v48, (unsigned __int16 *)&v57, v12);
                if ((LastTnMarkerUpToPos & 0x80000000) != 0)
                  goto LABEL_25;
                v28 = (unsigned __int16)v58;
                HIWORD(v57) = v58;
                v29 = v38;
                if (!(_WORD)v58)
                  break;
                continue;
              }
            }
            else
            {
              v37 = HIWORD(v57);
            }
            LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1[7] + 120))(a3, a4, v37, (char *)&v57 + 2);
            if ((LastTnMarkerUpToPos & 0x80000000) != 0)
              goto LABEL_25;
            v28 = HIWORD(v57);
            if (!(_WORD)v58)
              break;
          }
          while (v28);
        }
        LastTnMarkerUpToPos = hlp_InsertWordPhraseBoundaries((uint64_t)a1, a3, a4, 0, 0, 0);
      }
LABEL_25:
      v8 = LastTnMarkerUpToPos;
      goto LABEL_26;
    }
    LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a3, a4);
    if ((LastTnMarkerUpToPos & 0x80000000) != 0)
      goto LABEL_25;
    if (v54 > 0xA || ((1 << v54) & 0x610) == 0)
      goto LABEL_24;
    if (!v13)
      ++v12;
    LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1[7] + 168))(a3, a4, (unsigned __int16)v58, 1, 1, &v56, (char *)&v56 + 2);
    if ((LastTnMarkerUpToPos & 0x80000000) != 0)
      goto LABEL_25;
    LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(a1[7] + 168))(a3, a4, (unsigned __int16)v58, 2, 1, &v55, (char *)&v56 + 2);
    if ((LastTnMarkerUpToPos & 0x80000000) != 0)
      goto LABEL_25;
    LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1[7] + 176))(a3, a4, (unsigned __int16)v58, 5, &__s, (char *)&v56 + 2);
    if ((LastTnMarkerUpToPos & 0x80000000) != 0)
      goto LABEL_25;
    v15 = v55 - v56;
    if (v55 < (unsigned __int16)v56)
      break;
    v13 = 0;
    v16 = (__int16)strlen(__s);
    if (v16 <= v15)
      v16 = v15;
    v12 += v16;
LABEL_24:
    LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1[7] + 120))(a3, a4, (unsigned __int16)v58, &v58);
    if ((LastTnMarkerUpToPos & 0x80000000) != 0)
      goto LABEL_25;
  }
  v8 = 2315271857;
LABEL_26:
  v17 = a1[17];
  if (v17)
    heap_Free(*(_QWORD **)(*a1 + 8), v17);
  a1[17] = 0;
  v18 = a1[18];
  if (v18)
    heap_Free(*(_QWORD **)(*a1 + 8), v18);
  a1[18] = 0;
  v19 = a1[19];
  if (v19)
    heap_Free(*(_QWORD **)(*a1 + 8), v19);
  a1[19] = 0;
  return v8;
}

uint64_t fe_phrasing_ProcessEnd(uint64_t a1, int a2)
{
  uint64_t result;

  LODWORD(result) = safeh_HandleCheck(a1, a2, 62343, 1728);
  if ((int)result >= 0)
    return result;
  else
    return 2315264008;
}

uint64_t fe_phrasing_GetInterface(unsigned int a1, _QWORD *a2)
{
  uint64_t result;

  if (a1 > 1)
    return 2315264001;
  result = 0;
  *a2 = &IFePhrasing;
  return result;
}

uint64_t hlp_ReadSildur(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, _WORD *a5, _DWORD *a6)
{
  uint64_t v12;
  uint64_t v13;
  __int16 v15;
  char *__s1;
  __int16 v17;

  *a5 = 0;
  *a6 = 0;
  if (!(_DWORD)a4)
    return 0;
  v17 = 0;
  __s1 = 0;
  v15 = 0;
  v12 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, a4, 8, &v17);
  if ((v12 & 0x80000000) != 0)
    return v12;
  if (v17)
  {
    v12 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, _WORD *, __int16 *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, a4, 8, 1, a5, &v15);
    if ((v12 & 0x80000000) != 0)
      return v12;
  }
  v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, __int16 *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, a4, 18, &v17);
  if ((v13 & 0x80000000) == 0)
  {
    if (v17)
    {
      v13 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, __int16 *))(*(_QWORD *)(a1 + 56)
                                                                                              + 176))(a2, a3, a4, 18, &__s1, &v15);
      if ((v13 & 0x80000000) == 0 && !strcmp(__s1, "external"))
        *a6 = 1;
    }
  }
  return v13;
}

uint64_t hlp_CopyWordRec(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  int v10;
  unsigned __int8 v11;
  uint64_t result;
  unsigned int v13;
  __int16 v14;
  __int16 v15;
  int v16;
  char *__s;
  int v18;

  v10 = 0;
  v11 = 0;
  v18 = 0;
  __s = 0;
  v16 = 0;
  v15 = 0;
  while (1)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, a4, v11, (char *)&v18 + 2);
    if ((result & 0x80000000) != 0)
      break;
    if (HIWORD(v18))
    {
      if (v11 <= 0x11u && ((1 << v11) & 0x20186) != 0)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, a4, v11, 1, &v18, (char *)&v16 + 2);
        if ((result & 0x80000000) != 0)
          return result;
        if (v11 == 8 && *(_DWORD *)(a1 + 112) && (_WORD)v18)
        {
          v15 = 0;
          v10 = 1;
          (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56)
                                                                                                + 160))(a2, a3, a4, 8, 1, &v15, &v16);
        }
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, a5, v11, 1, &v18, &v16);
        if ((result & 0x80000000) != 0)
          return result;
      }
      else
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, a4);
        if ((result & 0x80000000) != 0)
          return result;
        v14 = strlen(__s);
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, _QWORD, char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, a5, v11, (unsigned __int16)(v14 + 1), __s, &v16);
        if ((result & 0x80000000) != 0)
          return result;
      }
    }
    v13 = v11++;
    if (v13 >= 0x15)
    {
      if (v10 == 1)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 184))(a2, a3, a4, 7, (char *)&v18 + 2);
        if ((result & 0x80000000) == 0)
        {
          v15 = 3;
          return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, __int16 *, int *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, a4, 7, 1, &v15, &v16);
        }
      }
      return result;
    }
  }
  return result;
}

uint64_t hlp_splitNLURangeTags(uint64_t *a1, char *__s, unsigned __int8 **a3, unsigned __int8 **a4)
{
  uint64_t v4;
  uint64_t v8;
  _QWORD *v9;
  size_t v10;
  char *v11;
  unsigned __int8 *v12;
  size_t v13;
  char *v14;
  unsigned __int16 v15;
  char *v16;
  unsigned int v17;
  BOOL v18;
  int v19;
  BOOL v20;
  uint64_t v21;
  uint64_t v22;
  char *v23;
  uint64_t v24;
  unsigned int v25;
  unsigned int v26;
  int v27;
  BOOL v28;
  unsigned int v29;
  char *v30;
  const char *v31;
  unsigned __int8 *v32;
  uint64_t v33;
  const char **v34;
  uint64_t v35;
  uint64_t *v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  char *v40;
  unsigned int v41;
  unsigned int v42;
  int v43;
  BOOL v44;
  uint64_t v45;
  size_t v46;
  const char *v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  char *v53;
  unsigned int v54;
  unsigned int v55;
  int v56;
  int KeyIdx;
  uint64_t v59;
  uint64_t v60;
  unsigned __int8 *v61;
  const char *v62;
  unsigned int v63;
  char *v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  unint64_t v70;
  const char *v71;
  const char *v72;
  unsigned int v73;
  size_t v74;
  char *v75;
  char *v76;
  size_t v77;
  char *v78;
  char *v79;
  size_t v80;
  char *v81;
  char *v82;
  int v83;
  int v84;
  int v85;
  size_t v86;
  char *v87;
  size_t v88;
  char *v89;
  const char *v90;
  BOOL v91;
  char v92;
  __int16 v93;
  int v94;
  int v95;
  char v96;
  _QWORD *v97;
  uint64_t v98;
  uint64_t v99;
  uint64_t v100;
  uint64_t v101;
  unsigned __int16 v102;
  uint64_t v103;
  unint64_t i;
  uint64_t v105;
  uint64_t v106;
  uint64_t v107;
  uint64_t v108;
  unsigned __int16 v110;
  uint64_t v111;
  unsigned __int8 **v112;
  unsigned __int8 *v113;
  unsigned __int8 **v114;
  unsigned int v115;
  uint64_t v116;
  uint64_t v117;
  uint64_t v118;
  unsigned int v119;
  uint64_t v120;
  char *__sa;
  uint64_t v122;
  unsigned __int8 *v123;
  const char *v124;
  unsigned __int16 v125;

  v4 = 2315264010;
  if (!__s)
    return 2315264007;
  v8 = *a1;
  v9 = *(_QWORD **)(*a1 + 8);
  v10 = strlen(__s);
  v11 = (char *)heap_Calloc(v9, 1, v10 + 1);
  if (v11)
  {
    v12 = (unsigned __int8 *)v11;
    strcpy(v11, __s);
    v13 = strlen(__s);
    v14 = (char *)heap_Calloc(*(_QWORD **)(v8 + 8), 1, v13 + 1);
    if (!v14)
    {
      v97 = *(_QWORD **)(v8 + 8);
      v98 = (uint64_t)v12;
LABEL_235:
      heap_Free(v97, v98);
      return v4;
    }
    v123 = (unsigned __int8 *)v14;
    strcpy(v14, __s);
    v15 = 0;
    v16 = __s;
    do
    {
      if (hlp_NLUStrKeyLen(v16) >= 3)
      {
        v17 = *v16 - 69;
        v18 = v17 > 0xE;
        v19 = (1 << v17) & 0x4011;
        v20 = v18 || v19 == 0;
        if (!v20 && v16[1] == 95)
          ++v15;
      }
      v16 = hlp_NLUStrNext(v16);
    }
    while (v16);
    if (!v15)
      goto LABEL_236;
    v21 = heap_Calloc(*(_QWORD **)(v8 + 8), 8, v15);
    if (!v21)
    {
LABEL_234:
      heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v12);
      v97 = *(_QWORD **)(v8 + 8);
      v98 = (uint64_t)v123;
      goto LABEL_235;
    }
    v22 = v21;
    v112 = a3;
    v114 = a4;
    v23 = __s;
    v24 = 0;
    __sa = v23;
    do
    {
      v25 = hlp_NLUStrKeyLen(v23);
      if (v25 >= 3)
      {
        v26 = *v23 - 69;
        v18 = v26 > 0xE;
        v27 = (1 << v26) & 0x4011;
        v28 = v18 || v27 == 0;
        if (!v28 && v23[1] == 95)
        {
          v29 = v25;
          v30 = (char *)heap_Calloc(*(_QWORD **)(v8 + 8), 1, v25 - 1);
          if (!v30)
          {
            a4 = v114;
            goto LABEL_228;
          }
          v31 = v30;
          v32 = v12;
          strncpy(v30, v23 + 2, v29 - 2);
          if ((_WORD)v24)
          {
            v33 = v24;
            v24 = (unsigned __int16)v24;
            v34 = (const char **)v22;
            v35 = (unsigned __int16)v24;
            while (1)
            {
              if (!*v34)
              {
LABEL_28:
                v4 = 2315264010;
                goto LABEL_30;
              }
              if (!strcmp(*v34, v31))
                break;
              ++v34;
              if (!--v35)
                goto LABEL_28;
            }
            heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v31);
            v24 = v33;
            v12 = v32;
            v4 = 2315264010;
          }
          else
          {
            LODWORD(v33) = v24;
            v24 = 0;
LABEL_30:
            *(_QWORD *)(v22 + 8 * v24) = v31;
            v24 = (v33 + 1);
            v12 = v32;
          }
        }
      }
      v23 = hlp_NLUStrNext(v23);
    }
    while (v23);
    v36 = *(uint64_t **)(v8 + 8);
    a4 = v114;
    if (!(_WORD)v24)
    {
      heap_Free(v36, v22);
      goto LABEL_236;
    }
    v119 = -1979703286;
    v37 = heap_Realloc(v36, v22, 8 * (unsigned __int16)v24);
    if (v37)
    {
      v38 = v37;
      v122 = (unsigned __int16)v24;
      v39 = heap_Calloc(*(_QWORD **)(v8 + 8), 2, (unsigned __int16)v24);
      if (v39)
      {
        v111 = v39;
        v40 = __sa;
        do
        {
          v41 = hlp_NLUStrKeyLen(v40);
          if (v41 >= 3)
          {
            v42 = *v40 - 69;
            v18 = v42 > 0xE;
            v43 = (1 << v42) & 0x4011;
            v44 = v18 || v43 == 0;
            if (!v44 && v40[1] == 95)
            {
              v45 = 0;
              v46 = (unsigned __int16)(v41 - 2);
              do
              {
                v47 = *(const char **)(v38 + 8 * v45);
                if (!v47)
                  break;
                if (!strncmp(v47, v40 + 2, v46))
                {
                  if ((v45 & 0x8000) == 0)
                    ++*(_WORD *)(v111 + 2 * v45);
                  break;
                }
                ++v45;
              }
              while ((unsigned __int16)v24 != v45);
            }
          }
          v40 = hlp_NLUStrNext(v40);
        }
        while (v40);
        v48 = heap_Calloc(*(_QWORD **)(v8 + 8), 8, (unsigned __int16)v24);
        if (v48)
        {
          v49 = v48;
          v110 = v24;
          v50 = 0;
          a4 = v114;
          a3 = v112;
          do
          {
            v51 = heap_Calloc(*(_QWORD **)(v8 + 8), 8, *(unsigned __int16 *)(v111 + 2 * v50));
            *(_QWORD *)(v49 + 8 * v50) = v51;
            if (!v51)
              goto LABEL_210;
            ++v50;
          }
          while (v122 != v50);
          v52 = heap_Calloc(*(_QWORD **)(v8 + 8), 2, v122);
          if (!v52)
          {
LABEL_210:
            v67 = 0;
            LOWORD(v24) = v110;
            goto LABEL_211;
          }
          v116 = v49;
          v117 = v52;
          v118 = v38;
          v53 = __sa;
          LOWORD(v24) = v110;
          do
          {
            v54 = hlp_NLUStrKeyLen(v53);
            if (v54 >= 3)
            {
              v55 = *v53 - 69;
              v18 = v55 > 0xE;
              v56 = (1 << v55) & 0x4011;
              if (!v18 && v56 != 0 && v53[1] == 95)
              {
                KeyIdx = hlp_getKeyIdx(v118, v110, v53 + 2, (unsigned __int16)(v54 - 2));
                if ((KeyIdx & 0x80000000) == 0)
                {
                  v59 = (unsigned __int16)KeyIdx;
                  v60 = *(_QWORD *)(v116 + 8 * (unsigned __int16)KeyIdx);
                  v61 = hlp_NLUStrKeyValue(v53);
                  v62 = (const char *)v61;
                  v63 = v61 ? hlp_NLUStrLength((char *)v61) : 0;
                  if (!hlp_checkValExist(v60, *(unsigned __int16 *)(v117 + 2 * v59), v62, v63))
                  {
                    v64 = (char *)heap_Calloc(*(_QWORD **)(v8 + 8), 1, v63 + 1);
                    if (!v64)
                    {
                      a4 = v114;
                      a3 = v112;
                      v67 = v117;
                      v38 = v118;
LABEL_203:
                      v49 = v116;
                      goto LABEL_211;
                    }
                    if (v62)
                      v64 = strncpy(v64, v62, v63);
                    v65 = *(unsigned __int16 *)(v117 + 2 * v59);
                    *(_QWORD *)(v60 + 8 * v65) = v64;
                    *(_WORD *)(v117 + 2 * v59) = v65 + 1;
                  }
                }
              }
            }
            v53 = hlp_NLUStrNext(v53);
          }
          while (v53);
          v66 = 0;
          a4 = v114;
          a3 = v112;
          v49 = v116;
          v67 = v117;
          while (1)
          {
            v68 = heap_Realloc(*(uint64_t **)(v8 + 8), *(_QWORD *)(v116 + 8 * v66), 8 * *(unsigned __int16 *)(v117 + 2 * v66));
            if (!v68)
              break;
            *(_QWORD *)(v116 + 8 * v66++) = v68;
            if (v122 == v66)
            {
              v69 = 0;
              v113 = v12;
              v38 = v118;
              while (!*(_WORD *)(v67 + 2 * v69))
              {
LABEL_201:
                if (++v69 == v122)
                {
                  v119 = 0;
                  a4 = v114;
                  a3 = v112;
                  LOWORD(v24) = v110;
                  goto LABEL_203;
                }
              }
              v70 = 0;
              v120 = v69;
              while (2)
              {
                v71 = *(const char **)(v38 + 8 * v69);
                v72 = *(const char **)(*(_QWORD *)(v116 + 8 * v69) + 8 * v70);
                v125 = 0;
                v124 = 0;
                if (v72)
                  v73 = (unsigned __int16)strlen(v72);
                else
                  v73 = 0;
                v74 = strlen(v71);
                v75 = (char *)heap_Calloc(*(_QWORD **)(v8 + 8), 1, v74 + 3);
                if (!v75)
                {
                  v87 = 0;
                  v89 = 0;
                  goto LABEL_157;
                }
                v76 = v75;
                strcpy(v75, "S_");
                strcat(v75, v71);
                v77 = strlen(v71);
                v78 = (char *)heap_Calloc(*(_QWORD **)(v8 + 8), 1, v77 + 3);
                v79 = v78;
                if (!v78)
                {
                  v87 = 0;
                  v89 = 0;
                  goto LABEL_121;
                }
                strcpy(v78, "I_");
                strcat(v78, v71);
                v80 = strlen(v71);
                v81 = (char *)heap_Calloc(*(_QWORD **)(v8 + 8), 1, v80 + 3);
                v82 = v81;
                if (!v81)
                {
                  v87 = 0;
                  v89 = 0;
                  goto LABEL_152;
                }
                strcpy(v81, "E_");
                strcat(v81, v71);
                if (!hlp_NLUStrFind(__sa, v76, (uint64_t *)&v124, &v125)
                  || ((v83 = v125, !v72) || v125 || strcmp(v72, " ")) && (!v72 || v83 != v73 || strncmp(v72, v124, v73)))
                {
                  heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v76);
                  v76 = 0;
                }
                if (!hlp_NLUStrFind(__sa, v79, (uint64_t *)&v124, &v125)
                  || ((v84 = v125, !v72) || v125 || strcmp(v72, " ")) && (!v72 || v84 != v73 || strncmp(v72, v124, v73)))
                {
                  heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v79);
                  v79 = 0;
                }
                if (!hlp_NLUStrFind(__sa, v82, (uint64_t *)&v124, &v125)
                  || ((v85 = v125, !v72) || v125 || strcmp(v72, " ")) && (!v72 || v85 != v73 || strncmp(v72, v124, v73)))
                {
                  heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v82);
                  v82 = 0;
                }
                v86 = strlen(__sa);
                v87 = (char *)heap_Calloc(*(_QWORD **)(v8 + 8), 1, v86 + 1);
                if (v87)
                {
                  v115 = v73;
                  v88 = strlen(__sa);
                  v89 = (char *)heap_Calloc(*(_QWORD **)(v8 + 8), 1, v88 + 1);
                  if (v89)
                  {
                    v12 = v113;
                    if (v76 && !v79 && !v82)
                    {
                      strcpy(v87, "S_");
                      strcat(v87, v71);
                      if (v115)
                      {
                        *(_WORD *)&v87[strlen(v87)] = 58;
                        if (v72)
                          strcat(v87, v72);
                        strcpy(v89, "I_");
                        strcat(v89, v71);
                        *(_WORD *)&v89[strlen(v89)] = 58;
                        v90 = v72;
                        if (!v72)
                        {
                          v82 = 0;
                          v79 = 0;
                          goto LABEL_152;
                        }
LABEL_151:
                        strcat(v89, v90);
LABEL_152:
                        heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v76);
LABEL_153:
                        if (v79)
LABEL_154:
                          heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v79);
                        if (v82)
                          goto LABEL_156;
LABEL_157:
                        if (v72 && !strcmp(v72, " "))
                          v72 = 0;
                        hlp_NLUStrRemoveRangeKey(v12, v71, v72);
                        hlp_NLUStrRemoveRangeKey(v123, v71, v72);
                        v94 = (unsigned __int16)strlen((const char *)v12);
                        if (v94 && v12[v94 - 1] != 59)
                          *(_WORD *)&v12[strlen((const char *)v12)] = 59;
                        strcat((char *)v12, v87);
                        v95 = (unsigned __int16)strlen((const char *)v123);
                        if (v95 && v123[v95 - 1] != 59)
                          *(_WORD *)&v123[strlen((const char *)v123)] = 59;
                        strcat((char *)v123, v89);
                        if (v87)
                          heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v87);
                        if (v89)
                          heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v89);
                        ++v70;
                        v67 = v117;
                        v38 = v118;
                        v69 = v120;
                        if (v70 >= *(unsigned __int16 *)(v117 + 2 * v120))
                          goto LABEL_201;
                        continue;
                      }
                      v82 = 0;
                      v79 = 0;
LABEL_149:
                      v89[2] = 0;
                      v93 = 24393;
LABEL_150:
                      *(_WORD *)v89 = v93;
                      v90 = v71;
                      goto LABEL_151;
                    }
                    if (v76)
                      v91 = 1;
                    else
                      v91 = v79 == 0;
                    v92 = !v91;
                    if (!v91 && !v82)
                    {
                      strcpy(v87, "I_");
                      strcat(v87, v71);
                      if (v115)
                      {
                        *(_WORD *)&v87[strlen(v87)] = 58;
                        if (v72)
                          strcat(v87, v72);
                        strcpy(v89, "I_");
                        strcat(v89, v71);
                        *(_WORD *)&v89[strlen(v89)] = 58;
                        if (!v72)
                        {
                          v82 = 0;
                          goto LABEL_154;
                        }
                        goto LABEL_147;
                      }
                      v82 = 0;
                      strcpy(v89, "I_");
LABEL_180:
                      strcat(v89, v71);
                      goto LABEL_154;
                    }
                    if (!v76 && !v79 && v82)
                    {
                      strcpy(v87, "I_");
                      strcat(v87, v71);
                      if (!v115)
                      {
                        strcpy(v89, "E_");
                        strcat(v89, v71);
                        goto LABEL_156;
                      }
                      *(_WORD *)&v87[strlen(v87)] = 58;
                      if (v72)
                        strcat(v87, v72);
                      strcpy(v89, "E_");
                      strcat(v89, v71);
                      *(_WORD *)&v89[strlen(v89)] = 58;
                      if (!v72)
                      {
LABEL_156:
                        heap_Free(*(_QWORD **)(v8 + 8), (uint64_t)v82);
                        goto LABEL_157;
                      }
                      goto LABEL_147;
                    }
                    if (v76 && v82)
                    {
                      strcpy(v87, "S_");
                      strcat(v87, v71);
                      if (v115)
                      {
                        *(_WORD *)&v87[strlen(v87)] = 58;
                        if (v72)
                          strcat(v87, v72);
                        strcpy(v89, "E_");
                        strcat(v89, v71);
                        *(_WORD *)&v89[strlen(v89)] = 58;
                        v90 = v72;
                        if (v72)
                          goto LABEL_151;
                        goto LABEL_152;
                      }
                      v89[2] = 0;
                      v93 = 24389;
                      goto LABEL_150;
                    }
                    if (v76 && v79 && !v82)
                    {
                      strcpy(v87, "S_");
                      strcat(v87, v71);
                      if (!v115)
                      {
                        v82 = 0;
                        goto LABEL_149;
                      }
                      *(_WORD *)&v87[strlen(v87)] = 58;
                      if (v72)
                        strcat(v87, v72);
                      strcpy(v89, "I_");
                      strcat(v89, v71);
                      *(_WORD *)&v89[strlen(v89)] = 58;
                      if (v72)
                      {
                        v90 = v72;
                        goto LABEL_151;
                      }
LABEL_121:
                      v82 = 0;
                      goto LABEL_152;
                    }
                    v96 = v92 ^ 1;
                    if (!v82)
                      v96 = 1;
                    if ((v96 & 1) == 0)
                    {
                      strcpy(v87, "I_");
                      strcat(v87, v71);
                      if (!v115)
                      {
                        strcpy(v89, "E_");
                        goto LABEL_180;
                      }
                      *(_WORD *)&v87[strlen(v87)] = 58;
                      if (v72)
                        strcat(v87, v72);
                      strcpy(v89, "E_");
                      strcat(v89, v71);
                      *(_WORD *)&v89[strlen(v89)] = 58;
                      if (!v72)
                        goto LABEL_154;
LABEL_147:
                      strcat(v89, v72);
                      goto LABEL_153;
                    }
LABEL_125:
                    if (v76)
                      goto LABEL_152;
                    goto LABEL_153;
                  }
                }
                else
                {
                  v89 = 0;
                }
                break;
              }
              v12 = v113;
              goto LABEL_125;
            }
          }
          LOWORD(v24) = v110;
          v38 = v118;
LABEL_211:
          v99 = 0;
          if ((v24 & 0xFFFE) != 0)
            v100 = (unsigned __int16)v24;
          else
            v100 = 1;
          do
          {
            v101 = *(_QWORD *)(v49 + 8 * v99);
            if (v101)
            {
              if (v67)
              {
                v102 = *(_WORD *)(v67 + 2 * v99);
                if (v102)
                {
                  v103 = v67;
                  for (i = 0; i < v102; ++i)
                  {
                    v105 = *(_QWORD *)(*(_QWORD *)(v49 + 8 * v99) + 8 * i);
                    if (v105)
                    {
                      heap_Free(*(_QWORD **)(v8 + 8), v105);
                      v102 = *(_WORD *)(v103 + 2 * v99);
                    }
                  }
                  v101 = *(_QWORD *)(v49 + 8 * v99);
                  v67 = v103;
                  a4 = v114;
                }
              }
              heap_Free(*(_QWORD **)(v8 + 8), v101);
            }
            ++v99;
          }
          while (v99 != v100);
          heap_Free(*(_QWORD **)(v8 + 8), v49);
          v106 = v111;
          if (v67)
            heap_Free(*(_QWORD **)(v8 + 8), v67);
        }
        else
        {
          a4 = v114;
          v106 = v111;
          a3 = v112;
        }
        heap_Free(*(_QWORD **)(v8 + 8), v106);
        v22 = v38;
        v4 = v119;
LABEL_228:
        if (!(_WORD)v24)
          goto LABEL_233;
LABEL_229:
        v107 = 0;
        do
        {
          v108 = *(_QWORD *)(v22 + 8 * v107);
          if (v108)
            heap_Free(*(_QWORD **)(v8 + 8), v108);
          ++v107;
        }
        while ((unsigned __int16)v24 != v107);
LABEL_233:
        heap_Free(*(_QWORD **)(v8 + 8), v22);
        if ((_DWORD)v4)
          goto LABEL_234;
LABEL_236:
        v4 = 0;
        *a3 = v12;
        *a4 = v123;
        return v4;
      }
      v22 = v38;
    }
    v4 = 2315264010;
    goto LABEL_229;
  }
  return v4;
}

uint64_t hlp_GetSubPosForSEPX(uint64_t a1, unsigned int a2, unsigned int a3, uint64_t a4, const char *a5, unsigned int a6, int a7, char **a8)
{
  char *v15;
  unsigned __int8 *v16;
  unint64_t v17;
  __int16 v18;
  int v19;
  uint64_t v20;
  uint64_t v22;
  const char *v23;
  size_t v24;

  v15 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, a6 + 1);
  *a8 = v15;
  if (!v15)
    return 2315264010;
  if (a2 >= a3)
  {
    v18 = 1;
    if (a7)
      goto LABEL_8;
LABEL_17:
    LOWORD(v22) = 0;
    if (a6 && v18)
    {
      v22 = 0;
      while (a5[v22] != 45 || --v18)
      {
        if (++v22 >= (unint64_t)a6)
          goto LABEL_27;
      }
      v18 = 0;
    }
LABEL_27:
    if ((a6 - 1 == (unsigned __int16)v22) == v18)
    {
      v24 = (unsigned __int16)v22;
LABEL_30:
      v23 = a5;
      goto LABEL_31;
    }
LABEL_29:
    v24 = a6;
    goto LABEL_30;
  }
  v16 = (unsigned __int8 *)(a4 + a2);
  v17 = a3 - (unint64_t)a2;
  v18 = 1;
  do
  {
    v19 = *v16++;
    if (v19 == 45)
      ++v18;
    --v17;
  }
  while (v17);
  if (!a7)
    goto LABEL_17;
LABEL_8:
  LOWORD(v20) = a6 - 1;
  if ((_WORD)a6 != 1 && v18)
  {
    v20 = (unsigned __int16)(a6 - 1);
    while (a5[v20] != 45 || --v18)
    {
      if (!(_WORD)--v20)
        goto LABEL_24;
    }
    goto LABEL_25;
  }
LABEL_24:
  if (v18)
    goto LABEL_29;
LABEL_25:
  v23 = &a5[(unsigned __int16)v20 + 1];
  v24 = (int)((~(_WORD)v20 | 0xFFFF0000) + a6);
LABEL_31:
  strncpy(v15, v23, v24);
  return 0;
}

uint64_t hlp_UpdateDomain(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned __int16 *a5, unsigned int a6, unsigned int a7, unsigned __int16 *a8, char *a9)
{
  unsigned int v13;
  unsigned __int16 v17;
  uint64_t v18;
  uint64_t v19;
  char v20;
  uint64_t v21;
  char v22;
  char *v23;
  unsigned int v25;
  char *__src;
  unsigned __int16 v27;
  unsigned __int16 v28;
  __int16 v29;
  int v30;
  unsigned __int16 v31;

  v13 = a4;
  v31 = 0;
  v30 = 0;
  v29 = 0;
  __src = 0;
  *a8 = 0;
  v17 = *a5;
  if (*a5)
  {
    v25 = a4;
    v31 = *a5;
    v28 = 0;
    v27 = 0;
    goto LABEL_3;
  }
  v21 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 104))(a2, a3, 2, a4, &v31);
  if ((v21 & 0x80000000) == 0)
  {
    v25 = v13;
    v17 = v31;
    v28 = 0;
    v27 = 0;
    if (v31)
    {
      do
      {
LABEL_3:
        v18 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, __int16 *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v17, 0, 1, &v30, &v29);
        if ((v18 & 0x80000000) != 0)
          return v18;
        v19 = v31;
        if (v30 == 5)
        {
          *a5 = v31;
          v18 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a2, a3);
          if ((v18 & 0x80000000) != 0)
            return v18;
          v18 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, __int16 *))(*(_QWORD *)(a1 + 56) + 168))(a2, a3, v31, 2, 1, &v27, &v29);
          if ((v18 & 0x80000000) != 0)
            return v18;
          v20 = 0;
          v19 = v31;
          if (v28 <= a6 && v27 >= a7)
          {
            *a8 = v31;
            v20 = 1;
          }
        }
        else
        {
          v20 = 0;
        }
        v21 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a2, a3, v19, &v31);
        if ((v21 & 0x80000000) != 0)
          return v21;
        v17 = v31;
        if (v31)
          v22 = v20;
        else
          v22 = 1;
      }
      while ((v22 & 1) == 0 && v28 <= a6);
      if ((v20 & 1) == 0)
        goto LABEL_24;
      v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, __int16 *))(*(_QWORD *)(a1 + 56)
                                                                                             + 176))(a2, a3, *a8, 4, &__src, &v29);
      if ((v21 & 0x80000000) == 0)
      {
        v23 = strncpy(a9, __src, 0x100uLL);
        a9[256] = 0;
        if (!strcmp(v23, "phon"))
          return hlp_GetLastTnMarkerUpToPos(a1, a2, a3, v25, v28, a9);
      }
    }
    else
    {
LABEL_24:
      strncpy(a9, "normal", 0x100uLL);
      a9[256] = 0;
    }
  }
  return v21;
}

uint64_t hlp_GetDomainPauseDur(uint64_t a1, char *__s, int *a3, _DWORD *a4)
{
  size_t v8;
  uint64_t result;
  int v10;
  int v11;
  char __sa[256];
  uint64_t v13;

  v13 = *MEMORY[0x1E0C80C00];
  *a3 = 0;
  *a4 = 0;
  strcpy(__sa, "tnpausedur");
  v8 = strlen(__s);
  result = strlen(__sa);
  if (v8 < 255 - result)
  {
    v11 = 0;
    __strcat_chk();
    result = paramc_ParamGetUInt(*(_QWORD *)(*(_QWORD *)a1 + 40), (uint64_t)__sa, (unsigned int *)&v11);
    if ((result & 0x80000000) != 0 || !v11)
    {
      result = (uint64_t)strstr(__s, "spell");
      if (result)
        v10 = 100;
      else
        v10 = 200;
      *a3 = v10;
    }
    else
    {
      *a3 = v11;
      *a4 = 1;
    }
  }
  return result;
}

uint64_t hlp_GetLastTnMarkerUpToPos(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, __int16 a5, char *a6)
{
  uint64_t result;
  int v9;
  _DWORD *v10;
  uint64_t v11;
  _DWORD *v12;
  int v13;
  unsigned __int16 v14;
  uint64_t v15;

  v15 = 0;
  v14 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t *, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 176))(a2, a3, a4, 1, &v15, &v14);
  if ((result & 0x80000000) == 0)
  {
    v10 = (_DWORD *)(v15 + 12);
    v9 = *(_DWORD *)(v15 + 12);
    strncpy(a6, "normal", 0xFFuLL);
    a6[255] = 0;
    v11 = v14;
    if (v14)
    {
      v12 = v10;
      do
      {
        v13 = *v12;
        v12 += 8;
        if (a5 < (__int16)(v13 - v9))
          break;
        if (*(v10 - 3) == 21)
        {
          strncpy(a6, *(const char **)(v10 + 3), 0xFFuLL);
          a6[255] = 0;
        }
        v10 = v12;
        --v11;
      }
      while (v11);
    }
    return 0;
  }
  return result;
}

uint64_t hlp_Remap(_QWORD *a1, uint64_t a2, uint64_t a3, unsigned int a4, uint64_t a5, const char *a6, _WORD *a7)
{
  uint64_t v12;
  unsigned __int16 v13;
  uint64_t LastTnMarkerUpToPos;
  char *v15;
  char *v16;
  char *v17;
  char *v18;
  const char *v19;
  const char *v20;
  __int16 v23;
  char **v24;
  _BYTE __c[15];
  int v26;
  char *__s1;
  int v28;
  __int16 v29;
  unsigned __int16 v30;
  char v31[256];
  char v32[256];
  uint64_t v33;

  v33 = *MEMORY[0x1E0C80C00];
  v30 = a5;
  v29 = 0;
  v28 = 0;
  __s1 = 0;
  v26 = 0;
  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v24 = 0;
  v23 = -1;
  v32[0] = 0;
  v12 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, unsigned __int16 *))(a1[7] + 120))(a2, a3, a5, &v30);
  if ((v12 & 0x80000000) == 0)
  {
    v13 = v30;
    if (v30)
    {
      while (1)
      {
        LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, __int16 *))(a1[7] + 168))(a2, a3, v13, 0, 1, &v28, &v29);
        if ((LastTnMarkerUpToPos & 0x80000000) != 0)
          break;
        if (v28 == 5)
        {
          LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, __int16 *))(a1[7] + 176))(a2, a3, v30, 4, &__s1, &v29);
          if ((LastTnMarkerUpToPos & 0x80000000) != 0)
            return LastTnMarkerUpToPos;
          v15 = __s1;
          if (!strcmp(__s1, "phon"))
          {
            LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(a1[7] + 168))(a2, a3, v30, 1, 1, (char *)&v26 + 2, &v29);
            if ((LastTnMarkerUpToPos & 0x80000000) != 0)
              return LastTnMarkerUpToPos;
            LastTnMarkerUpToPos = hlp_GetLastTnMarkerUpToPos((uint64_t)a1, a2, a3, a4, SHIWORD(v26), v31);
            if ((LastTnMarkerUpToPos & 0x80000000) != 0)
              return LastTnMarkerUpToPos;
            v15 = v31;
            __s1 = v31;
          }
          strcpy(v32, "phrasing_");
          strlen(v15);
          __strcat_chk();
          LastTnMarkerUpToPos = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, _BYTE *, _BYTE *, _BYTE *))(a1[13] + 96))(a1[11], a1[12], "fecfg", v32, &__c[3], &__c[1], __c);
          if ((LastTnMarkerUpToPos & 0x80000000) != 0)
            return LastTnMarkerUpToPos;
          strcpy(v32, "phrasing_");
          strlen(a6);
          __strcat_chk();
          v12 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, char ***, __int16 *, _BYTE *))(a1[13] + 96))(a1[11], a1[12], "fecfg", v32, &v24, &v23, __c);
          if ((v12 & 0x80000000) != 0)
            return v12;
          if (*(_WORD *)&__c[1])
          {
            v16 = strchr(**(char ***)&__c[3], __c[0]);
            if (v16)
              *v16 = 0;
          }
          if (v23)
          {
            v17 = strchr(*v24, __c[0]);
            if (v17)
              *v17 = 0;
          }
          v18 = __s1;
          if (strcmp(a6, __s1))
          {
            if (*(unsigned __int16 *)&__c[1] != 1 || v23)
            {
              if (*(_WORD *)&__c[1] || v23 != 1)
              {
                if (*(unsigned __int16 *)&__c[1] != 1 || v23 != 1)
                  return v12;
                v20 = **(const char ***)&__c[3];
                v19 = *v24;
              }
              else
              {
                v19 = *v24;
                v20 = v18;
              }
            }
            else
            {
              v19 = **(const char ***)&__c[3];
              v20 = a6;
            }
            if (strcmp(v20, v19))
              return v12;
          }
          LastTnMarkerUpToPos = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, __int16 *))(a1[7] + 168))(a2, a3, v30, 2, 1, &v26, &v29);
          if ((LastTnMarkerUpToPos & 0x80000000) != 0)
            return LastTnMarkerUpToPos;
          *a7 = v26;
        }
        v12 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(a1[7] + 120))(a2, a3, v30, &v30);
        if ((v12 & 0x80000000) == 0)
        {
          v13 = v30;
          if (v30)
            continue;
        }
        return v12;
      }
      return LastTnMarkerUpToPos;
    }
  }
  return v12;
}

uint64_t hlp_Phrasing(uint64_t a1, char *a2, unsigned int a3, const char *a4, uint64_t a5, uint64_t a6, unsigned __int16 *a7, uint64_t a8, _WORD *a9, unsigned __int16 *a10, __int16 a11, int a12, unsigned __int16 *a13, unsigned __int16 a14)
{
  unsigned __int16 *v15;
  uint64_t v21;
  unsigned __int16 v22;
  uint64_t v23;
  int v24;
  __int16 v26;
  __int16 PreviousUtf8Offset;
  char *v28;
  size_t v29;
  int v30;
  int v31;
  int v32;
  int v33;
  int v34;
  int v35;
  int v36;
  int v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  unsigned __int16 v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  unsigned __int16 v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  unsigned __int16 v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  unsigned __int16 v57;
  char *v59;
  _BYTE *v60;
  int v61;
  unint64_t v62;
  unsigned __int16 v63;
  _BYTE *v64;
  __int16 v65;
  unsigned __int16 v66;
  BOOL v67;
  _BYTE *v69;
  unsigned __int8 *i;
  unsigned int v71;
  uint64_t v72;
  int v73;
  unint64_t v74;
  uint64_t v75;
  int v76;
  __int16 v77;
  unsigned __int8 *v78;
  int v79;
  unsigned __int8 *v80;
  unsigned __int8 *v81;
  int v82;
  __int16 v83;
  unsigned int v84;
  uint64_t v85;
  uint64_t v88;
  unsigned __int16 *v89;
  int v90;
  unsigned __int16 v92;
  unsigned __int16 v93;
  int v94;
  __int16 v95;
  int v96;
  char *v97;
  _BYTE *v98;
  char *v99;
  char *__s2;
  unsigned int v101;
  int v102;
  int v103;
  char v104[16];
  char __s[256];
  uint64_t v106;

  v15 = a7;
  v106 = *MEMORY[0x1E0C80C00];
  v102 = 0;
  v103 = 0;
  v101 = 0;
  v99 = 0;
  __s2 = 0;
  v97 = 0;
  v98 = 0;
  v96 = 0;
  v95 = 0;
  v94 = 0;
  v93 = 0;
  v92 = *a7;
  v21 = v92;
  strcpy(__s, "phrasing");
  v22 = strlen(__s);
  **(_BYTE **)(a1 + 136) = 0;
  **(_BYTE **)(a1 + 144) = 0;
  **(_BYTE **)(a1 + 152) = 0;
  v23 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56)
                                                                                               + 168))(a5, a6, v21, 1, 1, (char *)&v102 + 2, (char *)&v103 + 2);
  if ((v23 & 0x80000000) != 0)
    return v23;
  v89 = v15;
  v88 = a8;
  v90 = HIWORD(v102);
  if ((_DWORD)v21 && HIWORD(v102) < a3)
  {
    v24 = 1;
    do
    {
      v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, (unsigned __int16)v21, 0, 1, &v101, (char *)&v103 + 2);
      if ((v23 & 0x80000000) != 0)
        return v23;
      if (v101 <= 0xA && ((1 << v101) & 0x610) != 0)
      {
        v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v92, 2, 1, &v102, (char *)&v103 + 2);
        if ((v23 & 0x80000000) != 0)
          return v23;
        v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56)
                                                                                            + 176))(a5, a6, v92, 5, &__s2, (char *)&v103 + 2);
        if ((v23 & 0x80000000) != 0)
          return v23;
        v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56)
                                                                                            + 176))(a5, a6, v92, 9, &v99, (char *)&v103 + 2);
        if ((v23 & 0x80000000) != 0)
          return v23;
        if (!v24)
        {
          v26 = HIWORD(v102);
          PreviousUtf8Offset = utf8_GetPreviousUtf8Offset((uint64_t)a2, HIWORD(v102));
          strncat(*(char **)(a1 + 136), &a2[HIWORD(v102) - (unsigned __int16)(v26 - PreviousUtf8Offset)], (unsigned __int16)(v26 - PreviousUtf8Offset));
          *(_WORD *)(*(_QWORD *)(a1 + 144) + strlen(*(const char **)(a1 + 144))) = 32;
          *(_WORD *)(*(_QWORD *)(a1 + 152) + strlen(*(const char **)(a1 + 152))) = 32;
        }
        if (HIWORD(v102) > (unsigned __int16)v102)
          return 2315271857;
        strncat(*(char **)(a1 + 136), &a2[HIWORD(v102)], (unsigned __int16)v102 - (unint64_t)HIWORD(v102));
        strcat(*(char **)(a1 + 144), __s2);
        strncat(*(char **)(a1 + 152), v99, 1uLL);
        v28 = __s2;
        v29 = strlen(__s2);
        v30 = (unsigned __int16)v102 - HIWORD(v102);
        if ((__int16)v29 <= (__int16)(v102 - HIWORD(v102)))
        {
          if ((__int16)v30 > (__int16)v29)
          {
            v33 = Utf8_LengthInUtf8chars((unint64_t)&a2[HIWORD(v102)], v30);
            v34 = v33 - strlen(__s2);
            if (v34 >= 1)
            {
              v35 = (unsigned __int16)v34;
              if ((_WORD)v34)
              {
                do
                {
                  *(_WORD *)(*(_QWORD *)(a1 + 144) + strlen(*(const char **)(a1 + 144))) = 126;
                  --v35;
                }
                while (v35);
              }
            }
            v36 = Utf8_LengthInUtf8chars((unint64_t)&a2[HIWORD(v102)], (unsigned __int16)v102 - HIWORD(v102));
            if (v36 > 1)
            {
              v37 = (unsigned __int16)(v36 - 1);
              if ((_WORD)v36 != 1)
              {
                do
                {
                  strncat(*(char **)(a1 + 152), v99, 1uLL);
                  --v37;
                }
                while (v37);
              }
            }
          }
        }
        else
        {
          if (v29 - (unsigned __int16)v102 + HIWORD(v102))
          {
            v31 = 0;
            do
            {
              *(_WORD *)(*(_QWORD *)(a1 + 136) + strlen(*(const char **)(a1 + 136))) = 126;
              ++v31;
              v28 = __s2;
            }
            while (strlen(__s2) - (unsigned __int16)v102 + HIWORD(v102) > (unsigned __int16)v31);
          }
          if (strlen(v28) != 1)
          {
            v32 = 0;
            do
            {
              strncat(*(char **)(a1 + 152), v99, 1uLL);
              ++v32;
            }
            while (strlen(__s2) - 1 > (unsigned __int16)v32);
          }
        }
        v24 = 0;
      }
      v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a5, a6, v92, &v92);
      if ((v23 & 0x80000000) != 0)
        return v23;
      if (!v92)
        break;
      v23 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
      if ((v23 & 0x80000000) != 0)
        return v23;
      LOWORD(v21) = v92;
      if (!v92)
        break;
    }
    while (HIWORD(v102) < a3);
  }
  v23 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, _QWORD, _QWORD))(*(_QWORD *)(a1 + 104) + 104))(*(_QWORD *)(a1 + 88), *(_QWORD *)(a1 + 96), a4, *(_QWORD *)(a1 + 136), a14);
  if ((v23 & 0x80000000) != 0)
    return v23;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s L1: %s", v38, v39, v40, (uint64_t)__s);
  v41 = strlen(*(const char **)(a1 + 136));
  v23 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 80) + 120))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 0, *(_QWORD *)(a1 + 136), v41);
  if ((v23 & 0x80000000) != 0)
    return v23;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s L2: %s", v42, v43, v44, (uint64_t)__s);
  v45 = strlen(*(const char **)(a1 + 144));
  v23 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 80) + 120))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 1, *(_QWORD *)(a1 + 144), v45);
  if ((v23 & 0x80000000) != 0)
    return v23;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s L5: %s", v46, v47, v48, (uint64_t)__s);
  v49 = strlen(*(const char **)(a1 + 152));
  v23 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 80) + 120))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 4, *(_QWORD *)(a1 + 152), v49);
  if ((v23 & 0x80000000) != 0)
    return v23;
  if (strcmp(a4, "normal") && strlen(a4) + v22 + 2 <= 0xFF)
  {
    __strcat_chk();
    __strcat_chk();
  }
  if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 80) + 80))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), __s) & 0x80000000) != 0)
  {
    __s[v22] = 0;
    (*(void (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 80) + 80))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), __s);
  }
  v23 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _BYTE **, char *))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 0, &v98, (char *)&v96 + 2);
  if ((v23 & 0x80000000) != 0)
    return v23;
  v98[HIWORD(v96)] = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s O1: %s", v50, v51, v52, (uint64_t)__s);
  v23 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 2, &v97, (char *)&v96 + 2);
  if ((v23 & 0x80000000) != 0)
    return v23;
  v97[HIWORD(v96)] = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PHRASING", 5, 0, (uint64_t)"%s O3: %s", v53, v54, v55, (uint64_t)__s);
  if (!v90)
  {
    if (strchr(v97, 87))
    {
      v59 = strrchr(a2, 63);
      if (v59)
      {
        if (v59 != a2 && *(v59 - 1) != 32)
          *v59 = 46;
      }
    }
  }
  v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56)
                                                                                              + 168))(a5, a6, *v15, 1, 1, (char *)&v102 + 2, (char *)&v103 + 2);
  if ((v23 & 0x80000000) != 0)
    return v23;
  v56 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 136))(a5, a6, *v15, &v93);
  if ((v56 & 0x80000000) == 0)
  {
    if (!v93)
      goto LABEL_70;
    v56 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
    if ((v56 & 0x80000000) != 0)
      return v56;
    v57 = v93;
    if (v93)
    {
      do
      {
        if (v101 <= 0xA && ((1 << v101) & 0x610) != 0)
          goto LABEL_71;
        v56 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 136))(a5, a6, v57, &v93);
        if ((v56 & 0x80000000) != 0)
          return v56;
        if (!v93)
          break;
        v56 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
        if ((v56 & 0x80000000) != 0)
          return v56;
        v57 = v93;
      }
      while (v93);
      v57 = 0;
    }
    else
    {
LABEL_70:
      v57 = 0;
    }
LABEL_71:
    v60 = v98;
    if (*v98 == 35)
    {
      memset(v104, 0, 11);
      LOWORD(v96) = 200;
      ++v98;
      if (v60[1] == 91)
      {
        v98 = v60 + 2;
        v61 = v60[2];
        if (v60[2])
        {
          v62 = 0;
          v63 = 0;
          v64 = v60 + 3;
          while (v61 != 93 && v62 <= 9)
          {
            v104[v62] = v61;
            v98 = &v64[v62];
            v61 = v64[v62++];
            ++v63;
            if (!v61)
              goto LABEL_81;
          }
          v63 = v62;
        }
        else
        {
          v63 = 0;
        }
LABEL_81:
        v104[v63] = 0;
      }
      v65 = a12;
      if (!a12)
        v65 = atoi(v104);
      LOWORD(v96) = v65;
      if (v57)
      {
        v56 = hlp_ReadSildur(a1, a5, a6, v57, &v95, &v94);
        if ((v56 & 0x80000000) != 0)
          return v56;
        if (!v94)
        {
          v56 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v93, 8, 1, &v96, &v103);
          if ((v56 & 0x80000000) != 0)
            return v56;
        }
      }
    }
    v66 = *v15;
    if (*v15)
      v67 = HIWORD(v102) >= a3;
    else
      v67 = 1;
    if (!v67)
    {
      do
      {
        v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, v66, 0, 1, &v101, (char *)&v103 + 2);
        if ((v23 & 0x80000000) != 0)
          return v23;
        if (v101 <= 0xA && ((1 << v101) & 0x610) != 0)
        {
          v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, *v15, 1, 1, (char *)&v102 + 2, (char *)&v103 + 2);
          if ((v23 & 0x80000000) != 0)
            return v23;
          v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, *v15, 2, 1, &v102, (char *)&v103 + 2);
          if ((v23 & 0x80000000) != 0)
            return v23;
          v69 = v98 + 1;
          for (i = v98 + 3; ; ++i)
          {
            v71 = *(v69 - 1);
            if (v71 <= 0x22)
            {
              if (!*(v69 - 1) || v71 == 32)
              {
LABEL_110:
                *(_WORD *)v104 = 0;
                LOWORD(v96) = 0;
                if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(*(_QWORD *)(a1 + 56) + 184))(a5, a6, *v15, 8, v104) & 0x80000000) == 0&& *(unsigned __int16 *)v104 == 1)
                {
                  v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a5, a6, *v15, 8, 1, &v96, (char *)&v103 + 2);
                  if ((v23 & 0x80000000) != 0)
                    return v23;
                }
                if (!(_WORD)v96)
                {
LABEL_114:
                  v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, *v15, 8, 1, &v96, &v103);
                  if ((v23 & 0x80000000) != 0)
                    return v23;
                }
LABEL_131:
                v78 = v98;
                v79 = *v98;
                while (1)
                {
                  v80 = v78;
                  if (((v79 - 93) > 0x21 || ((1 << (v79 - 93)) & 0x200000005) == 0)
                    && v79 != 32)
                  {
                    break;
                  }
                  ++v78;
                  v98 = v80 + 1;
                  v79 = v80[1];
                  if (v79 == 35)
                  {
                    v81 = v80 + 2;
                    do
                    {
                      if (v79 == 32)
                        break;
                      if (v79 == 95)
                        break;
                      v98 = v81;
                      v82 = *v81++;
                      v79 = v82;
                    }
                    while (v82);
                    v78 = v81 - 1;
                  }
                }
                if ((__int16)(v102 - HIWORD(v102)) <= 1)
                  v83 = 0;
                else
                  v83 = -1;
                LOWORD(v96) = 0;
                v84 = (unsigned __int16)*a9;
                v85 = v88;
                if (v84 < *a10)
                {
                  while ((__int16)(*(_DWORD *)(v85 + 32 * (unsigned __int16)v84 + 12) - a11) < (__int16)(v102 + v83))
                  {
                    if (*(_DWORD *)(v85 + 32 * (unsigned __int16)v84) == 8 && v93 != 0)
                    {
                      LOWORD(v96) = v96 + *(_WORD *)(v88 + 32 * (unsigned __int16)v84 + 24);
                      v23 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 160))(a5, a6);
                      if ((v23 & 0x80000000) != 0)
                        return v23;
                      v23 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a5, a6, v93, 18, 9, "external", &v103);
                      if ((v23 & 0x80000000) != 0)
                        return v23;
                      LOWORD(v84) = *a9;
                    }
                    LOWORD(v84) = v84 + 1;
                    *a9 = v84;
                    v85 = v88;
                    if (*a10 <= (unsigned __int16)v84)
                      break;
                  }
                }
                v15 = v89;
                v72 = *v89;
                v93 = *v89;
                goto LABEL_155;
              }
            }
            else
            {
              if (v71 == 35)
              {
                memset(v104, 0, 11);
                LOWORD(v96) = 200;
                v98 = v69;
                if (*v69 == 91)
                {
                  v98 = v69 + 1;
                  v73 = v69[1];
                  if (v69[1])
                  {
                    v74 = 0;
                    v75 = 0;
                    while (v73 != 93 && v74 <= 9)
                    {
                      v104[v74++] = v73;
                      ++v75;
                      v98 = i;
                      v76 = *i++;
                      v73 = v76;
                      if (!v76)
                        goto LABEL_126;
                    }
                    v75 = (unsigned __int16)v74;
                  }
                  else
                  {
                    v75 = 0;
                  }
LABEL_126:
                  v104[v75] = 0;
                }
                v77 = a12;
                if (!a12)
                  v77 = atoi(v104);
                LOWORD(v96) = v77;
                v23 = hlp_ReadSildur(a1, a5, a6, *v15, &v95, &v94);
                if ((v23 & 0x80000000) == 0)
                {
                  if (!v94)
                    goto LABEL_114;
                  goto LABEL_131;
                }
                return v23;
              }
              if (v71 == 95 || v71 == 126)
                goto LABEL_110;
            }
            v98 = v69++;
          }
        }
        v72 = *v15;
LABEL_155:
        v56 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 120))(a5, a6, v72, v15);
        if ((v56 & 0x80000000) != 0)
          return v56;
        if (!*v15)
          break;
        v56 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a5, a6);
        if ((v56 & 0x80000000) != 0)
          return v56;
        v66 = *v15;
        if (!*v15)
          break;
      }
      while (HIWORD(v102) < a3);
    }
    *a13 = v93;
  }
  return v56;
}

uint64_t hlp_InsertWordPhrase(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8, unsigned __int16 *a9)
{
  uint64_t result;
  __int16 v13;
  int v14;
  __int16 v15;
  __int16 v16;
  __int16 v17;
  __int16 v18;

  v18 = a5;
  v17 = a6;
  v16 = a7;
  v15 = a8;
  v14 = 15;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, unsigned __int16 *))(*(_QWORD *)(a1 + 56) + 88))(a2, a3, a4, a9);
  if ((result & 0x80000000) == 0)
  {
    v13 = 0;
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, *a9, 0, 1, &v14, &v13);
    if ((result & 0x80000000) == 0)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, *a9, 1, 1, &v18, &v13);
      if ((result & 0x80000000) == 0)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, *a9, 2, 1, &v17, &v13);
        if ((result & 0x80000000) == 0)
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, const char *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, *a9, 4, 2, "P", &v13);
          if ((result & 0x80000000) == 0)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, *a9, 7, 1, &v16, &v13);
            if ((result & 0x80000000) == 0)
              return (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, __int16 *))(*(_QWORD *)(a1 + 56) + 160))(a2, a3, *a9, 8, 1, &v15, &v13);
          }
        }
      }
    }
  }
  return result;
}

uint64_t fe_phrasing_isFeatureRequired(uint64_t a1, unsigned int a2, int a3, _WORD *a4)
{
  uint64_t v6;
  uint64_t v7;
  const char *v8;

  if (a2 < 2)
    return 0;
  v6 = 0;
  v7 = a2 - 1;
  v8 = (&g_featureNames_3)[a3];
  while (strcmp(*(const char **)(a1 + 8 * v6), v8))
  {
    if (v7 == ++v6)
      return 0;
  }
  *a4 = v6;
  return 1;
}

uint64_t fe_phrasing_setFeature(uint64_t a1, uint64_t a2, unsigned int a3, int a4, uint64_t a5, const char *a6)
{
  uint64_t result;
  size_t v10;
  uint64_t v11;
  char *v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  unsigned int v17;
  unsigned __int16 v18;

  v18 = -1;
  result = fe_phrasing_isFeatureRequired(a2, a3, a4, &v18);
  if ((_DWORD)result)
  {
    if (!*a6)
    {
      result = 0;
      **(_WORD **)(a5 + 8 * v18) = 61;
      return result;
    }
    v10 = strlen(a6);
    v11 = v18;
    if (v10 <= 0x40)
    {
      v12 = *(char **)(a5 + 8 * v18);
      goto LABEL_8;
    }
    v12 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(a5 + 8 * v18), (unsigned __int16)v10 + 1);
    if (v12)
    {
      *(_QWORD *)(a5 + 8 * v11) = v12;
LABEL_8:
      strcpy(v12, a6);
      return 0;
    }
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PHRASING", 37000, 0, v13, v14, v15, v16, v17);
    return 2315264010;
  }
  return result;
}

const char *fe_phrasing_feat_word(uint64_t a1, int a2, int a3)
{
  unsigned int v3;
  const char *v4;
  int v5;
  uint64_t v6;

  v3 = a3 + a2;
  if (a3 + a2 < 0 || v3 >= *(unsigned __int16 *)(a1 + 1072))
    return "=";
  v4 = *(const char **)(*(_QWORD *)(a1 + 1064) + 184 * v3 + 56);
  v5 = (unsigned __int16)strlen(v4);
  if (v5)
  {
    if (doesWordEndInCommaNN((uint64_t)v4, ",:;.?!|_~'\"<>{}#()[]^\\=@/&$*#"))
    {
      v6 = (v5 - 1);
      if (memchr(",:;.?!|_~'\"<>{}#()[]^\\=@/&$*#", v4[v6], 0x1EuLL))
        v4[v6] = 0;
    }
  }
  return v4;
}

char *fe_phrasing_feat_wordlen(char *result, int a2, int a3, char *a4)
{
  unsigned int v5;
  int v6;

  *a4 = 0;
  v5 = a3 + a2;
  if (a3 + a2 < 0 || v5 >= *((unsigned __int16 *)result + 536))
  {
    *(_WORD *)a4 = 61;
  }
  else
  {
    v6 = Utf8_Utf8NbrOfSymbols(*(const char **)(*((_QWORD *)result + 133) + 184 * v5 + 56));
    return LH_itoa(v6 - 1, a4, 0xAu);
  }
  return result;
}

uint64_t fe_phrasing_feat_character(uint64_t a1, int a2, int a3, int a4, _WORD *a5)
{
  char *v10;
  uint64_t result;
  __int16 v12;
  unsigned int v13;
  size_t NextUtf8Offset;
  char *v15;
  const char *v16;

  bzero(a5, 0x800uLL);
  v10 = (char *)fe_phrasing_feat_word(a1, a2, a4);
  result = strcmp(v10, "=");
  if (!(_DWORD)result)
    goto LABEL_5;
  result = strlen(v10);
  v12 = result;
  v13 = (unsigned __int16)result;
  if (!(_WORD)result)
    goto LABEL_5;
  if (a3)
  {
    result = utf8_GetPreviousUtf8Offset((uint64_t)v10, (unsigned __int16)result);
    if ((unsigned __int16)result > v13)
    {
LABEL_5:
      *a5 = 61;
      return result;
    }
    v16 = &v10[(unsigned __int16)result];
    NextUtf8Offset = (unsigned __int16)(v12 - result);
    v15 = (char *)a5;
  }
  else
  {
    NextUtf8Offset = (unsigned __int16)utf8_GetNextUtf8Offset(v10, 0);
    v15 = (char *)a5;
    v16 = v10;
  }
  return (uint64_t)strncpy(v15, v16, NextUtf8Offset);
}

uint64_t fe_phrasing_ClassOpen(_WORD *a1, uint64_t a2, uint64_t a3)
{
  uint64_t result;
  uint64_t v7;

  v7 = 0;
  if (!a3)
    return 2315264007;
  *(_QWORD *)a3 = 0;
  *(_DWORD *)(a3 + 8) = 0;
  result = InitRsrcFunction(a1, a2, &v7);
  if ((result & 0x80000000) == 0)
  {
    *(_QWORD *)a3 = a1;
    *(_QWORD *)(a3 + 8) = a2;
  }
  return result;
}

uint64_t fe_phrasing_ClassClose()
{
  return 0;
}

uint64_t statcomp_isDctFeature(char *__s1, _WORD *a2, uint64_t *a3)
{
  uint64_t v3;
  uint64_t v6;
  uint64_t v7;

  v3 = *((unsigned __int16 *)a3 + 4);
  if (!*((_WORD *)a3 + 4))
    return 0;
  v6 = 0;
  v7 = *a3;
  while (strcmp(__s1, *(const char **)(v7 + 8 * v6)))
  {
    if (v3 == ++v6)
      return 0;
  }
  *a2 = v6;
  return 1;
}

uint64_t statcomp_isDctMappedFeature(char *__s1, _WORD *a2, unsigned __int16 *a3)
{
  uint64_t v3;
  uint64_t v6;
  const char **i;

  v3 = a3[4];
  if (!a3[4])
    return 0;
  v6 = 0;
  for (i = (const char **)(*(_QWORD *)a3 + 8); strcmp(__s1, *i); i += 2)
  {
    if (v3 == ++v6)
      return 0;
  }
  *a2 = v6;
  return 1;
}

uint64_t statcomp_isDynamicFeature(char *__s1, _WORD *a2)
{
  uint64_t v4;
  const char *v5;
  unsigned __int16 v6;
  unsigned int v7;

  v4 = 0;
  while (1)
  {
    v5 = (&g_statcomp_FeatureNames)[v4];
    if (!strcmp(__s1, v5))
      break;
    v6 = strlen(v5);
    v7 = (unsigned __int16)strlen(__s1);
    if (v7 > v6 && !strcmp(&__s1[v7 - v6], v5))
      break;
    if (++v4 == 7)
      return 0;
  }
  *a2 = v4;
  return 1;
}

uint64_t statcomp_setFeature(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4, char *__s)
{
  size_t v10;
  char *v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unsigned int v16;
  char *v17;
  const char *v18;
  unsigned __int16 v19;
  unsigned __int16 v20;
  uint64_t v21;
  size_t v22;
  uint64_t v23;
  uint64_t result;
  char *v25;
  char *v26;
  char *v27;
  unsigned __int16 v28;
  unsigned __int16 v29;
  unsigned int v30;
  unint64_t v31;
  char *v32;
  unsigned int v33;

  v10 = strlen(__s);
  if (v10 <= 0x20)
  {
    v11 = *(char **)(a4 + 8 * a3);
  }
  else
  {
    v11 = (char *)heap_Realloc(*(uint64_t **)(a2 + 8), *(_QWORD *)(a4 + 8 * a3), (unsigned __int16)v10 + 1);
    if (!v11)
    {
      log_OutPublic(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 35000, 0, v12, v13, v14, v15, v33);
      return 2313166858;
    }
    *(_QWORD *)(a4 + 8 * a3) = v11;
  }
  strcpy(v11, __s);
  v16 = *(_DWORD *)(a1 + 1336);
  if (!v16)
    return 0;
  v17 = *(char **)(a4 + 8 * a3);
  v18 = *(const char **)(*(_QWORD *)(a1 + 1312) + 8 * a3);
  v19 = strlen(v18);
  v20 = 0;
  v21 = *(_QWORD *)(a1 + 1328);
  v22 = v19;
  while (1)
  {
    v23 = v20;
    if (!strncmp(*(const char **)(v21 + 16 * v20), v18, v22))
      break;
    v20 = v23 + 1;
    if (v16 <= (unsigned __int16)(v23 + 1))
      return 0;
  }
  v25 = *(char **)(v21 + 16 * v23 + 8);
  v26 = strstr(v25, v17);
  if (v26)
  {
    v27 = v26;
    v28 = strlen(v17);
    v29 = strlen(v25);
    v30 = v29;
    v31 = (unint64_t)&v25[v29];
    while (v27 != v25 || v30 != v28 && (v30 <= v28 + 1 || v25[v28] != 32))
    {
      if (v27 > v25)
      {
        v32 = &v27[v28];
        if (v31 > (unint64_t)(v32 + 1) && *v32 == 32)
        {
          result = 0;
          if ((char *)v31 == v32 || *(v27 - 1) == 32)
            return result;
        }
        else if ((char *)v31 == v32)
        {
          return 0;
        }
      }
      v27 = strstr(&v27[v28], v17);
      if (!v27)
        goto LABEL_24;
    }
    return 0;
  }
LABEL_24:
  result = 0;
  *(_WORD *)v17 = 61;
  return result;
}

uint64_t statcomp_setDynamicFeature(uint64_t a1, uint64_t a2, int a3, unsigned int a4, uint64_t a5, const char **a6, const char **a7, int a8, unsigned __int16 a9)
{
  uint64_t v9;
  const char *v15;
  int v16;
  int v18;
  int v19;
  const char **v20;
  const char *v21;
  const char **v22;
  const char *v23;
  unsigned __int16 v24;
  unsigned int v25;
  unsigned int v26;
  const char *v27;
  unsigned int v28;
  char __s[32];
  uint64_t v32;

  LODWORD(v9) = a8;
  v32 = *MEMORY[0x1E0C80C00];
  v15 = (&g_statcomp_FeatureNames)[a3];
  v16 = strcmp(v15, "CW_SYLLABLE_LEN");
  if (v16 && strcmp(v15, "SYLLABLE_LEN_AS_FRACTION"))
  {
    if (!strcmp(v15, "CW_ORTH_LEN"))
    {
      if ((_DWORD)v9)
      {
LABEL_16:
        v19 = 0;
        v9 = v9;
        v22 = a6;
        do
        {
          v23 = *v22++;
          v19 += strlen(v23);
          --v9;
        }
        while (v9);
        goto LABEL_18;
      }
    }
    else if (!strcmp(v15, "ORTH_LEN_AS_FRACTION") && (_DWORD)v9 != 0)
    {
      goto LABEL_16;
    }
    LOWORD(v18) = 0;
    LOWORD(v19) = 0;
    goto LABEL_20;
  }
  if (!(_DWORD)v9)
  {
    LOWORD(v19) = 0;
LABEL_18:
    LOWORD(v18) = 0;
    goto LABEL_19;
  }
  v18 = 0;
  v9 = v9;
  v20 = a7;
  do
  {
    v21 = *v20++;
    v18 += strlen(v21);
    --v9;
  }
  while (v9);
  LOWORD(v19) = 0;
LABEL_19:
  v24 = v18;
  if (v16)
  {
LABEL_20:
    v24 = v18;
    LOWORD(v18) = v19;
    if (strcmp(v15, "CW_ORTH_LEN"))
      goto LABEL_22;
  }
  LH_itoa((unsigned __int16)v18, __s, 0xAu);
LABEL_22:
  if (!strcmp(v15, "SYLLABLE_LEN"))
  {
    v27 = a7[a9];
LABEL_33:
    v28 = (unsigned __int16)strlen(v27);
    goto LABEL_34;
  }
  if (!strcmp(v15, "SYLLABLE_LEN_AS_FRACTION"))
  {
    if (v24)
    {
      v25 = (unsigned __int16)strlen(a7[a9]);
      v26 = v24;
      goto LABEL_31;
    }
LABEL_38:
    v28 = 0;
    goto LABEL_34;
  }
  if (!strcmp(v15, "ORTH_LEN"))
  {
    v27 = a6[a9];
    goto LABEL_33;
  }
  if (strcmp(v15, "ORTH_LEN_AS_FRACTION"))
    goto LABEL_35;
  if (!(_WORD)v19)
    goto LABEL_38;
  v25 = (unsigned __int16)strlen(a6[a9]);
  v26 = (unsigned __int16)v19;
LABEL_31:
  v28 = v25 / v26;
LABEL_34:
  LH_itoa(v28, __s, 0xAu);
LABEL_35:
  if (!strcmp(v15, "ORTH"))
    __strcpy_chk();
  return statcomp_setFeature(a2, a1, a4, a5, __s);
}

uint64_t statcomp_initFeatureVector(uint64_t a1, _QWORD *a2, unsigned int a3)
{
  uint64_t v5;
  _WORD *v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  unsigned int v12;

  if (!a3)
    return 0;
  v5 = a3;
  while (1)
  {
    v6 = (_WORD *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 33);
    *a2 = v6;
    if (!v6)
      break;
    *v6 = 61;
    ++a2;
    if (!--v5)
      return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v7, v8, v9, v10, v12);
  return 2313166858;
}

_QWORD *statcomp_freeFeatureVector(_QWORD *result, uint64_t *a2, unsigned int a3)
{
  _QWORD *v4;
  uint64_t v5;
  uint64_t v6;

  if (a3)
  {
    v4 = result;
    v5 = a3;
    do
    {
      v6 = *a2++;
      result = heap_Free((_QWORD *)v4[1], v6);
      --v5;
    }
    while (v5);
  }
  return result;
}

uint64_t statcomp_dumpFeatureVectorAndResult(uint64_t a1, int a2, const char **a3, _WORD *a4, char *__s, char *a6, uint64_t a7, uint64_t a8, char *__sa)
{
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;

  if (!a2)
    return 0;
  v15 = statcomp_add2Str(a1, a3, a4, __s);
  if ((v15 & 0x80000000) != 0)
    return v15;
  v15 = statcomp_add2Str(a1, a3, a4, " ");
  if ((v15 & 0x80000000) != 0)
    return v15;
  v15 = statcomp_add2Str(a1, a3, a4, a6);
  if ((v15 & 0x80000000) != 0)
    return v15;
  v15 = statcomp_add2Str(a1, a3, a4, " ");
  if ((v15 & 0x80000000) != 0)
    return v15;
  if (*(unsigned __int8 *)(a7 + 1296) >= 2u)
  {
    v16 = 0;
    do
    {
      v15 = statcomp_add2Str(a1, a3, a4, *(char **)(*(_QWORD *)(a7 + 1312) + 8 * v16));
      if ((v15 & 0x80000000) != 0)
        return v15;
      v15 = statcomp_add2Str(a1, a3, a4, "=");
      if ((v15 & 0x80000000) != 0)
        return v15;
      v15 = statcomp_add2Str(a1, a3, a4, *(char **)(a8 + 8 * v16));
      if ((v15 & 0x80000000) != 0)
        return v15;
      v15 = statcomp_add2Str(a1, a3, a4, " ");
      if ((v15 & 0x80000000) != 0)
        return v15;
    }
    while (*(unsigned __int8 *)(a7 + 1296) - 1 > (unsigned __int16)++v16);
  }
  v15 = statcomp_add2Str(a1, a3, a4, "PRED=");
  if ((v15 & 0x80000000) != 0)
    return v15;
  v15 = statcomp_add2Str(a1, a3, a4, __sa);
  if ((v15 & 0x80000000) != 0)
    return v15;
  v15 = statcomp_add2Str(a1, a3, a4, " ");
  if ((v15 & 0x80000000) != 0)
    return v15;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s", v17, v18, v19, (uint64_t)*a3);
  **a3 = 0;
  if (*(unsigned __int8 *)(a7 + 1296) >= 2u)
  {
    v20 = 0;
    do
    {
      v15 = statcomp_add2Str(a1, a3, a4, *(char **)(a8 + 8 * v20));
      if ((v15 & 0x80000000) != 0)
        return v15;
      v15 = statcomp_add2Str(a1, a3, a4, " ");
      if ((v15 & 0x80000000) != 0)
        return v15;
    }
    while (*(unsigned __int8 *)(a7 + 1296) - 1 > (unsigned __int16)++v20);
  }
  v15 = statcomp_add2Str(a1, a3, a4, "PRED=");
  if ((v15 & 0x80000000) != 0)
    return v15;
  v15 = statcomp_add2Str(a1, a3, a4, __sa);
  if ((v15 & 0x80000000) != 0)
    return v15;
  v24 = statcomp_add2Str(a1, a3, a4, " ");
  if ((v24 & 0x80000000) == 0)
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s", v21, v22, v23, (uint64_t)*a3);
    **a3 = 0;
  }
  return v24;
}

uint64_t statpos_checkIfActive(uint64_t a1, uint64_t a2, uint64_t a3, _WORD *a4, uint64_t a5, uint64_t a6, _DWORD *a7, _DWORD *a8, int *a9, _DWORD *a10, _DWORD *a11)
{
  _DWORD *v17;
  uint64_t result;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unsigned int v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  unsigned int info_from_dct;
  unsigned int v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  int v49;
  unsigned int v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  const char *v54;
  _QWORD *v57;
  char *v58;
  unsigned int v59;
  uint64_t v60;
  char v61[256];
  char v62[256];
  _OWORD v63[8];
  uint64_t v64;

  v64 = *MEMORY[0x1E0C80C00];
  v60 = 0;
  memset(v63, 0, sizeof(v63));
  v59 = 0;
  v57 = 0;
  v58 = 0;
  *a8 = 0;
  *a9 = 0;
  *a10 = 0;
  *a11 = 0;
  v17 = a7 + 354;
  *(_OWORD *)(a7 + 354) = 0u;
  a7[358] = 0;
  result = paramc_ParamGetUInt(*(_QWORD *)(a6 + 40), (uint64_t)"statpos_do_corpus_alignment", &v59);
  if ((result & 0x1FFF) != 0x14)
  {
    if ((result & 0x80000000) != 0)
      return result;
    if (v59 == 1)
      *v17 = 1;
  }
  result = paramc_ParamGetUInt(*(_QWORD *)(a6 + 40), (uint64_t)"nluactive", &v59);
  if ((result & 0x1FFF) != 0x14)
  {
    if ((result & 0x80000000) != 0)
      return result;
    if (v59 == 1)
      a7[358] = 1;
  }
  result = statpos_igtrees_getBrkStrs(a6, v62, v61, 0x100uLL);
  if ((result & 0x80000000) == 0)
  {
    result = ssftriff_reader_ObjOpen(a4, a5, 2, v62, "IGTR", 1031, (uint64_t *)&v57);
    if ((result & 0x80000000) != 0)
    {
      if ((result & 0x1FFF) == 0xA)
        return result;
      log_OutText(*(_QWORD *)(a6 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"statPOS %s tree not found", v23, v24, v25, (uint64_t)v62);
    }
    else
    {
      result = ssftriff_reader_ObjClose(v57, v19, v20, v21, v22, v23, v24, v25);
      if ((result & 0x80000000) != 0)
        return result;
      a7[356] = 1;
    }
    result = ssftriff_reader_ObjOpen(a4, a5, 2, v61, "IGTR", 1031, (uint64_t *)&v57);
    if ((result & 0x80000000) != 0)
    {
      if ((result & 0x1FFF) == 0xA)
        return result;
      log_OutText(*(_QWORD *)(a6 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"statPOS %s tree not found", v30, v31, v32, (uint64_t)v61);
    }
    else
    {
      result = ssftriff_reader_ObjClose(v57, v26, v27, v28, v29, v30, v31, v32);
      if ((result & 0x80000000) != 0)
        return result;
      a7[356] = 1;
    }
    result = statpos_get_broker_string(a6, &v58);
    if ((result & 0x80000000) == 0)
    {
      v33 = ssftriff_reader_ObjOpen(a4, a5, 2, v58, "CRPH", 1031, (uint64_t *)&v57);
      if ((v33 & 0x80000000) != 0)
      {
        v42 = v33;
        if ((v33 & 0x1FFF) == 0xA)
        {
LABEL_47:
          if (v58)
            heap_Free(*(_QWORD **)(a6 + 8), (uint64_t)v58);
          if ((v42 & 0x1FFF) == 0xA)
            return v42;
          else
            return 0;
        }
        log_OutText(*(_QWORD *)(a6 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"statPOS %s CRF not found", v38, v39, v40, (uint64_t)v58);
      }
      else
      {
        info_from_dct = ssftriff_reader_ObjClose(v57, v34, v35, v36, v37, v38, v39, v40);
        if ((info_from_dct & 0x80000000) != 0)
        {
LABEL_46:
          v42 = info_from_dct;
          goto LABEL_47;
        }
        a7[357] = 1;
      }
      if (!a7[356] && !a7[357] && !*v17)
      {
        v42 = 0;
        goto LABEL_47;
      }
      info_from_dct = statpos_get_info_from_dct(a6, a1, a2, a3, "fecfg", (uint64_t)"mdesegpos_morpheme_processing", 0, a9, "BOOL");
      if ((info_from_dct & 0x80000000) != 0)
        goto LABEL_46;
      info_from_dct = statpos_get_info_from_dct(a6, a1, a2, a3, "fecfg", (uint64_t)"statphr_kok_force_igtree", 0, a10, "BOOL");
      if ((info_from_dct & 0x80000000) != 0)
        goto LABEL_46;
      if (*a10 == 1)
        log_OutText(*(_QWORD *)(a6 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Key statphr_kok_force_igtree is set, use statphr IGTree data instead of hardcoded values", v43, v44, v45, 0);
      info_from_dct = statpos_get_info_from_dct(a6, a1, a2, a3, "fecfg", (uint64_t)"statphr_kok_remove_unaligned_phrase_boundaries", 0, a11, "BOOL");
      if ((info_from_dct & 0x80000000) != 0)
        goto LABEL_46;
      if (*a11 == 1)
        log_OutText(*(_QWORD *)(a6 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Key statphr_kok_remove_unaligned_phrase_boundaries is set, IGTree prediction overridden if phrase boundary is inside eojeol", v46, v47, v48, 0);
      if (*v17 == 1)
      {
        v49 = a7[356];
        if (v49 != 1)
          v49 = a7[357] == 1;
      }
      else if (a7[357] != 1 || (v49 = *a9, *a9 != 1))
      {
LABEL_42:
        info_from_dct = getBrokerString_0(a6, (char *)v63, 0x80uLL);
        if ((info_from_dct & 0x80000000) == 0)
        {
          v50 = brk_DataOpenEx(*(_QWORD *)(a6 + 24), (uint64_t)v63, 1, (uint64_t)&v60);
          if ((v50 & 0x80000000) != 0)
          {
            v42 = v50;
            if (a7[358] == 1)
              v54 = "openNLP statPOS rules not found";
            else
              v54 = "MS statPOS rules not found";
            log_OutText(*(_QWORD *)(a6 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)v54, v51, v52, v53, 0);
          }
          else
          {
            a7[355] = 1;
            v42 = brk_DataClose(*(_QWORD *)(a6 + 24), v60);
            if ((v42 & 0x80000000) == 0)
              *a8 = 1;
          }
          goto LABEL_47;
        }
        goto LABEL_46;
      }
      *a8 = v49;
      goto LABEL_42;
    }
  }
  return result;
}

uint64_t statpos_load_resources(uint64_t a1, uint64_t a2, uint64_t a3, _WORD *a4, uint64_t a5, _WORD *a6, uint64_t a7, uint64_t a8, uint64_t a9, __int128 a10, uint64_t a11, uint64_t a12, int a13, _DWORD *a14, int a15)
{
  uint64_t inited;
  uint64_t v19;
  uint64_t AddRefCountedObject;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t ObjcForThisApi;
  uint64_t v28;
  uint64_t v29;
  _BYTE v30[512];
  char v31[256];
  char v32[256];
  uint64_t v33;

  v33 = *MEMORY[0x1E0C80C00];
  v29 = 0;
  *(_QWORD *)a12 = a8;
  *(_OWORD *)(a12 + 1448) = a10;
  *(_QWORD *)(a12 + 1464) = a11;
  *(_QWORD *)(a12 + 1472) = a1;
  *(_QWORD *)(a12 + 1480) = a2;
  *(_QWORD *)(a12 + 1488) = a3;
  if (!a13)
  {
    *(_QWORD *)(a12 + 200) = 0;
    *(_DWORD *)(a12 + 208) = 0;
    inited = nuance_pcre_ObjOpen(a4, a5, a12 + 200);
    if ((inited & 0x80000000) == 0)
    {
      AddRefCountedObject = nuance_pcre_Init(*(_QWORD **)(a12 + 200), *(_QWORD *)(a12 + 208), 0x1Eu, 50);
      if ((AddRefCountedObject & 0x80000000) != 0)
        return AddRefCountedObject;
      if (*(_DWORD *)(a12 + 1424) == 1)
      {
        v28 = 0;
        inited = InitRsrcFunction(a6, a7, &v28);
        if ((inited & 0x80000000) != 0)
          return inited;
        inited = statpos_igtrees_getBrkStrs(a8, v32, v31, 0x100uLL);
        if ((inited & 0x80000000) != 0)
          return inited;
        __strcpy_chk();
        __strcat_chk();
        ObjcForThisApi = getObjcForThisApi(a8, v28);
        AddRefCountedObject = objc_GetAddRefCountedObject(ObjcForThisApi, (uint64_t)v30, (uint64_t (*)(_QWORD, _QWORD, uint64_t, __int128 *, uint64_t))statpos_igtrees_ObjcLoad, (void (*)(_QWORD, _QWORD, __int128 *))statpos_igtrees_ObjcClose, a8, &v29);
        if ((AddRefCountedObject & 0x80000000) != 0)
          return AddRefCountedObject;
        memcpy((void *)(a12 + 784), *(const void **)(v29 + 32), 0x218uLL);
      }
      if (*(_DWORD *)(a12 + 1428) == 1)
      {
        AddRefCountedObject = statpos_crf_load(a4, a5, a6, a7, a8, a9, *(_QWORD *)(a12 + 1448), *(_QWORD *)(a12 + 1456), *(_QWORD *)(a12 + 1464), a12 + 1320, a12 + 8, (uint64_t *)(a12 + 1384), a15);
        if ((AddRefCountedObject & 0x80000000) != 0)
          return AddRefCountedObject;
      }
      if (a15)
      {
        *(_QWORD *)(a12 + 8) = a8;
        *(_WORD *)(a12 + 384) = 5;
      }
      else
      {
        AddRefCountedObject = statpos_rules_load(a4, a5, a8, *(_QWORD *)(a12 + 1448), *(_QWORD *)(a12 + 1456), *(_QWORD *)(a12 + 1464), a12 + 8, v26);
        if ((AddRefCountedObject & 0x80000000) != 0)
          return AddRefCountedObject;
      }
      if (*(_DWORD *)(a12 + 1424) == 1 && *(_DWORD *)(a12 + 800) != *(_DWORD *)(a12 + 160))
      {
        *a14 = 0;
        log_OutText(*(_QWORD *)(a8 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"set UseStatPOS to FALSE; OOV model differs in igtrees(%d) versus rules(%d)",
          v24,
          v25,
          v26,
          *(unsigned int *)(a12 + 800));
      }
      return AddRefCountedObject;
    }
    return inited;
  }
  if (*(_DWORD *)(a12 + 1420) != 1)
  {
    AddRefCountedObject = 0;
LABEL_19:
    *(_QWORD *)(a12 + 8) = a8;
    *(_WORD *)(a12 + 384) = 5;
    return AddRefCountedObject;
  }
  *(_QWORD *)(a12 + 200) = 0;
  *(_DWORD *)(a12 + 208) = 0;
  inited = nuance_pcre_ObjOpen(a4, a5, a12 + 200);
  if ((inited & 0x80000000) != 0)
    return inited;
  AddRefCountedObject = nuance_pcre_Init(*(_QWORD **)(a12 + 200), *(_QWORD *)(a12 + 208), 0x1Eu, 50);
  if ((AddRefCountedObject & 0x80000000) == 0)
  {
    if (!a15)
      return statpos_rules_load(a4, a5, a8, *(_QWORD *)(a12 + 1448), *(_QWORD *)(a12 + 1456), *(_QWORD *)(a12 + 1464), a12 + 8, v19);
    goto LABEL_19;
  }
  return AddRefCountedObject;
}

uint64_t statpos_unload_resources(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t NullHandle;
  int v10;
  uint64_t inited;
  int v13;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t ObjcForThisApi;
  uint64_t v23;
  int v24;
  uint64_t v25;

  v25 = 0;
  if ((_DWORD)a5)
  {
    if (*(_DWORD *)(a4 + 1420) == 1)
    {
      statpos_rules_unload((uint64_t *)(a4 + 8), a2, a3, a4, a5, a6, a7, a8);
      NullHandle = safeh_GetNullHandle();
      if (!safeh_HandlesEqual(*(_QWORD *)(a4 + 200), *(_QWORD *)(a4 + 208), NullHandle, v10))
      {
        nuance_pcre_DeInit(*(_QWORD **)(a4 + 200), *(_QWORD *)(a4 + 208));
        nuance_pcre_ObjClose(*(_QWORD *)(a4 + 200), *(_QWORD *)(a4 + 208));
      }
    }
    return 0;
  }
  else
  {
    v13 = a6;
    inited = InitRsrcFunction(a1, a2, &v25);
    if ((inited & 0x80000000) == 0)
    {
      statpos_crf_unload(a3, v25, a4 + 1320, a4 + 8, (uint64_t *)(a4 + 1384), v13);
      if (*(_DWORD *)(a4 + 1424))
      {
        ObjcForThisApi = getObjcForThisApi(a3, v25);
        objc_ReleaseObject(ObjcForThisApi, a4 + 808);
      }
      statpos_rules_unload((uint64_t *)(a4 + 8), v15, v16, v17, v18, v19, v20, v21);
      v23 = safeh_GetNullHandle();
      if (!safeh_HandlesEqual(*(_QWORD *)(a4 + 200), *(_QWORD *)(a4 + 208), v23, v24))
      {
        nuance_pcre_DeInit(*(_QWORD **)(a4 + 200), *(_QWORD *)(a4 + 208));
        nuance_pcre_ObjClose(*(_QWORD *)(a4 + 200), *(_QWORD *)(a4 + 208));
      }
    }
  }
  return inited;
}

uint64_t statpos_process(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, int a11, int a12, int a13, int a14, unsigned int a15)
{
  _BOOL4 v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t SentenceData;
  uint64_t updated;

  v23 = a12 == 1 && (*(_DWORD *)(a10 + 1436) | a13) == 0 && a14 == 1;
  *(_QWORD *)(a10 + 752) = a7;
  *(_QWORD *)(a10 + 760) = a8;
  *(_QWORD *)(a10 + 768) = a9;
  SentenceData = statpos_getSentenceData(a6, a4, a5, a10, a15);
  if ((SentenceData & 0x80000000) == 0 && *(_WORD *)(a10 + 656))
  {
    if (a11 || (updated = statpos_disambiguatePOSTags(a10), (updated & 0x80000000) == 0))
    {
      if (*(_DWORD *)(a10 + 1416) == 1)
      {
        updated = statpos_updateNLULingdbField(a6, a4, a5, a10);
      }
      else if (a15 != 1 || (updated = statpos_setMorphemePRON(a1, a2, a3, a10), (updated & 0x80000000) == 0))
      {
        updated = statpos_alignDisambiguatedPOSToLingdb(a10, a15, v24, v25, v26, v27, v28, v29);
        if ((updated & 0x80000000) == 0)
          updated = statpos_updatePOSLingdbWithDisambiguatedPOS(a6, a4, a5, (uint64_t *)a10, v23, a15);
      }
    }
    SentenceData = updated;
  }
  statpos_freeSentenceData((uint64_t *)a10);
  return SentenceData;
}

uint64_t statPOS_call_one_word(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, const char **a5, const char **a6, char **a7, uint64_t a8)
{
  const char *v15;
  unsigned __int16 v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  unsigned __int16 v21;
  uint64_t v22;
  char *v23;
  uint64_t v24;
  unsigned __int16 v25;
  char *v26;
  const char *v27;
  size_t v28;
  size_t v29;
  uint64_t v30;
  char *v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  char *v43;
  uint64_t v44;
  unsigned __int16 v45;
  char *v46;
  const char *v47;
  size_t v48;
  unsigned int v49;
  char *v50;
  char *__s;
  unsigned __int16 v52;
  char v53[128];
  uint64_t v54;

  v54 = *MEMORY[0x1E0C80C00];
  v52 = 0;
  v50 = 0;
  __s = 0;
  strcpy(v53, "one_word");
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s L1: %s", (uint64_t)a6, (uint64_t)a7, a8, (uint64_t)v53);
  v15 = *a5;
  v16 = strlen(v15);
  v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, const char *, _QWORD))(a4 + 120))(a2, a3, 0, v15, v16);
  if ((v17 & 0x80000000) != 0)
    return v17;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s L2: %s", v18, v19, v20, (uint64_t)v53);
  v21 = strlen(*a6);
  v17 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, const char *, _QWORD))(a4 + 120))(a2, a3, 1, *a6, v21);
  if ((v17 & 0x80000000) != 0)
    return v17;
  v17 = (*(uint64_t (**)(uint64_t, uint64_t, char *))(a4 + 80))(a2, a3, v53);
  if ((v17 & 0x80000000) != 0)
    return v17;
  v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char **, unsigned __int16 *))(a4 + 128))(a2, a3, 0, &__s, &v52);
  if ((v17 & 0x80000000) != 0)
    return v17;
  __s[v52] = 0;
  v22 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char **, unsigned __int16 *))(a4 + 128))(a2, a3, 0, &v50, &v52);
  if ((v22 & 0x80000000) == 0)
  {
    v50[v52] = 0;
    v23 = __s;
    if (*__s)
    {
      v24 = 0;
      v25 = 0;
      do
      {
        if (v23[v24] == 126)
        {
          v26 = &v23[v25 + 1];
          v27 = &v23[v25 + 2];
          v28 = strlen(v27);
          memmove(v26, v27, v28 + 1);
          __s[v24] = 126;
          v23 = __s;
        }
        v24 = ++v25;
        v29 = strlen(v23);
      }
      while (v29 > v25);
      v30 = v29 + 1;
    }
    else
    {
      v30 = 1;
    }
    v32 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v30);
    *a7 = v32;
    if (v32)
    {
      strcpy(v32, __s);
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s O1 (phonetics) : %s", v37, v38, v39, (uint64_t)v53);
      v43 = v50;
      if (*v50)
      {
        v44 = 0;
        v45 = 0;
        do
        {
          if (v43[v44] == 126)
          {
            v46 = &v43[v45 + 1];
            v47 = &v43[v45 + 2];
            v48 = strlen(v47);
            memmove(v46, v47, v48 + 1);
            v50[v44] = 126;
            v43 = v50;
          }
          v44 = ++v45;
        }
        while (strlen(v43) > v45);
      }
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s O3 (POS code): %s (ignored)", v40, v41, v42, (uint64_t)v53);
    }
    else
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v33, v34, v35, v36, v49);
      return 2313166858;
    }
  }
  return v22;
}

uint64_t statphr_setFeature(uint64_t a1, char *__s1, uint64_t a3, const char *a4)
{
  uint64_t v8;
  size_t v9;
  uint64_t result;

  v8 = 0;
  while (strcmp(__s1, (&g_statphr_FeatureNames)[v8]))
  {
    if (++v8 == 8)
      return 0;
  }
  if (*a4)
  {
    v9 = strlen(a4);
    if (v9 < 0x41
      || (result = resizeNFeature(a1, (uint64_t *)(a3 + v8 * 8), (unsigned __int16)(v9 + 1)), (result & 0x80000000) == 0))
    {
      strcpy(*(char **)(a3 + v8 * 8), a4);
      return 0;
    }
  }
  else
  {
    result = 0;
    **(_WORD **)(a3 + v8 * 8) = 95;
  }
  return result;
}

uint64_t statphr_setNFeature(uint64_t a1, char *__s1, uint64_t a3, const char *a4, unsigned int a5)
{
  unint64_t v10;
  uint64_t result;

  v10 = 0;
  while (strcmp(__s1, (&g_statphr_FeatureNames)[v10 / 8]))
  {
    v10 += 8;
    if (v10 == 64)
      return 0;
  }
  if (!a5 || *a4)
  {
    if (a5 < 0x41
      || (result = resizeNFeature(a1, (uint64_t *)(a3 + v10), (unsigned __int16)(a5 + 1)), (result & 0x80000000) == 0))
    {
      strncpy(*(char **)(a3 + v10), a4, a5);
      result = 0;
      *(_BYTE *)(*(_QWORD *)(a3 + v10) + a5) = 0;
    }
  }
  else
  {
    result = 0;
    **(_WORD **)(a3 + v10) = 95;
  }
  return result;
}

uint64_t resizeNFeature(uint64_t a1, uint64_t *a2, unsigned int a3)
{
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t result;
  unsigned int v12;

  v5 = heap_Realloc(*(uint64_t **)(a1 + 8), *a2, a3);
  if (v5)
  {
    v10 = v5;
    result = 0;
    *a2 = v10;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v6, v7, v8, v9, v12);
    return 2313166858;
  }
  return result;
}

uint64_t statphr_initFeatureVector(uint64_t a1, uint64_t a2, unsigned int a3)
{
  unint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t result;
  BOOL v13;
  unsigned int v14;

  if (!a3)
    return 0;
  v5 = 0;
  v6 = 8 * a3 - 8;
  while (1)
  {
    v7 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 65);
    *(_QWORD *)(a2 + v5) = v7;
    if (!v7)
      break;
    result = statphr_setFeature(a1, (&g_statphr_FeatureNames)[v5 / 8], a2, "_");
    if ((result & 0x80000000) == 0)
    {
      v13 = v6 == v5;
      v5 += 8;
      if (!v13)
        continue;
    }
    return result;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v8, v9, v10, v11, v14);
  return 2313166858;
}

uint64_t statphr_dumpFeatureVectorAndResult(uint64_t a1, uint64_t a2, char *__src)
{
  uint64_t v5;
  size_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  char __dst[256];
  uint64_t v12;

  v12 = *MEMORY[0x1E0C80C00];
  strncpy(__dst, __src, 0x100uLL);
  v5 = 0;
  __dst[255] = 0;
  do
  {
    v6 = strlen(*(const char **)(a2 + v5));
    if (v6 + strlen(__dst) + 2 > 0xFF)
      break;
    __strcat_chk();
    __strcat_chk();
    v5 += 8;
  }
  while (v5 != 64);
  return log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s", v7, v8, v9, (uint64_t)__dst);
}

uint64_t statphr_getIgtreeBrkStr(uint64_t a1, char *a2, unint64_t a3)
{
  uint64_t result;
  int v7[2];

  *(_QWORD *)v7 = 0;
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", v7);
  if ((result & 0x80000000) == 0)
    return brokeraux_ComposeBrokerString(a1, "statphr_igtree", 1, 1, *(char **)v7, 0, 0, a2, a3);
  return result;
}

uint64_t statphr_readIGTree(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, _QWORD *a6, _DWORD *a7)
{
  uint64_t result;
  char v14[256];
  uint64_t v15;

  v15 = *MEMORY[0x1E0C80C00];
  *a7 = 0;
  result = statphr_getIgtreeBrkStr(a5, v14, 0x100uLL);
  if ((result & 0x80000000) == 0)
  {
    result = igtree_Init_ReadOnly_ReferenceCnt(a1, a2, a3, a4, a6, 2, (uint64_t)v14, (uint64_t)"IGTR", 1031, 0);
    if ((result & 0x80000000) != 0)
    {
      result = 0;
      *a6 = 0;
    }
    else
    {
      *a7 = 1;
    }
  }
  return result;
}

uint64_t statphr_searchInIGTreeParamDefs(uint64_t a1, char *__s2, const char *a3)
{
  unsigned int v3;
  unsigned __int16 v6;
  uint64_t v7;
  uint64_t v8;
  char *v9;
  char *v10;

  v3 = *(_DWORD *)(a1 + 1336);
  if (!v3)
    return 0;
  v6 = 0;
  v7 = *(_QWORD *)(a1 + 1328);
  while (1)
  {
    v8 = v6;
    if (!strcmp(*(const char **)(v7 + 16 * v6), __s2))
    {
      v9 = strstr(*(char **)(v7 + 16 * v8 + 8), a3);
      if (v9)
        break;
    }
LABEL_4:
    v6 = v8 + 1;
    if (v3 <= (unsigned __int16)(v8 + 1))
      return 0;
  }
  v10 = v9;
  while (*(v10 - 1) != 32 || v10[strlen(a3)] != 32)
  {
    v10 = strstr(v10 + 1, a3);
    if (!v10)
      goto LABEL_4;
  }
  return 1;
}

uint64_t statphr_Process(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, int a6, int a7)
{
  _BOOL4 v15;
  uint64_t v16;
  uint64_t v17;
  char *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  char *v23;
  unsigned __int16 v24;
  char *v25;
  uint64_t v26;
  unsigned __int16 v27;
  uint64_t v28;
  int v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  unsigned __int16 v36;
  int v37;
  unsigned __int16 v38;
  unsigned int v39;
  uint64_t i;
  uint64_t v41;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  unsigned __int16 v47;
  uint64_t inited;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  int v52;
  unsigned __int16 v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  char **v59;
  char *v60;
  char *v61;
  uint64_t v62;
  uint64_t v63;
  char v64;
  char v65;
  char v66;
  int v67;
  const char *v68;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  unsigned __int16 v74;
  unsigned __int16 v75;
  uint64_t v76;
  char *v77;
  int v78;
  void *v79;
  int v80;
  unsigned __int16 NextUtf8Offset;
  uint64_t v82;
  uint64_t v83;
  unsigned __int16 v84;
  int v85;
  uint64_t v86;
  char *v88;
  uint64_t v89;
  const char *v90;
  unsigned __int16 v91;
  unsigned int v92;
  unsigned __int16 v93;
  const char **v94;
  uint64_t v95;
  const char *v96;
  int v97;
  char *v98;
  uint64_t v99;
  uint64_t v100;
  uint64_t v101;
  uint64_t v102;
  const char *v103;
  char *v104;
  uint64_t v105;
  uint64_t v106;
  char **v107;
  char *v108;
  _BOOL4 v109;
  char *v110;
  int v111;
  _BOOL4 v112;
  char v113;
  char *v114;
  int v115;
  char *v116;
  int v117;
  char *v118;
  int v119;
  uint64_t v120;
  uint64_t v121;
  uint64_t v122;
  const char *v123;
  uint64_t v124;
  uint64_t v125;
  uint64_t v126;
  const char *v127;
  uint64_t v128;
  uint64_t v129;
  uint64_t v130;
  uint64_t v131;
  int v132;
  int v133;
  int v134;
  char *v135;
  char *v136;
  int v137;
  int v138;
  char *v139;
  uint64_t v140;
  uint64_t v141;
  uint64_t v142;
  uint64_t v143;
  uint64_t v144;
  uint64_t v145;
  uint64_t v146;
  uint64_t v147;
  uint64_t v148;
  uint64_t v149;
  uint64_t *v150;
  int v151;
  int v152;
  char *v153;
  char *v154;
  uint64_t v155;
  uint64_t v156;
  uint64_t v157;
  uint64_t v158;
  const char *v159;
  char *v160;
  char *v161;
  int v162;
  int v163;
  char *v164;
  char *v165;
  uint64_t v166;
  uint64_t v167;
  uint64_t v168;
  char v169;
  __int16 v170;
  uint64_t v171;
  uint64_t v172;
  const char *__s2;
  char *v174;
  _BOOL4 v175;
  uint64_t v176;
  unsigned __int16 v177;
  unsigned int v178;
  char *v179;
  _BOOL4 v180;
  char *v181;
  int v182;
  uint64_t v183;
  int __s1;
  char *__s1a;
  uint64_t v186;
  unsigned __int16 v187;
  int v188;
  unsigned int v189;
  char *v190;
  _BOOL4 v191;
  const char *v192;
  int v193;
  int v194;
  const char **v195;
  int v196;
  char *v197;
  uint64_t v198;
  int v199;
  char *__dst;
  int v201;
  unsigned __int16 v202;
  const char *v203;
  int v204;
  char *v205;
  char __s[5];
  char *v207;
  unsigned __int16 v208;
  char *__src;
  int v210;
  char *v211;
  char *v212;
  unsigned int v213;
  __int16 v214;
  int v215;
  int v216;
  _OWORD v217[4];
  uint64_t v218;

  v218 = *MEMORY[0x1E0C80C00];
  v215 = 0;
  v216 = 0;
  v214 = 0;
  v213 = 0;
  v211 = 0;
  v212 = 0;
  v210 = 0;
  memset(v217, 0, sizeof(v217));
  __src = 0;
  v208 = -1;
  v207 = 0;
  v205 = 0;
  v204 = 0;
  v15 = (int)paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"statcompwidescope", &v204) >= 0 && v204 == 0;
  v16 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a2 + 104))(a3, a4, 1, 0, &v216);
  if ((v16 & 0x80000000) != 0)
    return v16;
  v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(a2 + 184))(a3, a4, (unsigned __int16)v216, 0, (char *)&v216 + 2);
  if ((v17 & 0x80000000) == 0 && HIWORD(v216) == 1)
  {
    v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a2 + 176))(a3, a4, (unsigned __int16)v216, 0, &v212, &v215);
    if ((v17 & 0x80000000) == 0 && (unsigned __int16)v215 >= 2u)
    {
      v18 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 32);
      if (!v18
        || (v23 = v18,
            v199 = a6,
            *v18 = 0,
            v24 = strlen(v212),
            (v25 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v24 + 1)) == 0))
      {
        v17 = 2313166858;
        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v19, v20, v21, v22, v171);
        return v17;
      }
      __dst = v25;
      strcpy(v25, v212);
      v26 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a2 + 104))(a3, a4, 2, (unsigned __int16)v216, (char *)&v215 + 2);
      if ((v26 & 0x80000000) != 0)
      {
        v17 = v26;
        v31 = 0;
        v36 = 0;
        v32 = 0;
        v33 = 0;
        goto LABEL_31;
      }
      v193 = a7;
      v197 = v23;
      v201 = 0;
      v27 = -1;
      while (HIWORD(v215))
      {
        v28 = (*(uint64_t (**)(uint64_t, uint64_t))(a2 + 168))(a3, a4);
        if ((v28 & 0x80000000) != 0)
          goto LABEL_27;
        if (v213 <= 0xA && ((1 << v213) & 0x610) != 0)
        {
          v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a2 + 168))(a3, a4, HIWORD(v215), 1, 1, (char *)&v210 + 2, &v215);
          if ((v28 & 0x80000000) != 0)
            goto LABEL_27;
          v30 = v201;
          if (HIWORD(v210) != v27)
            v30 = v201 + 1;
          v201 = v30;
          v27 = HIWORD(v210);
        }
        v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a2 + 120))(a3, a4, HIWORD(v215), (char *)&v215 + 2);
        if ((v28 & 0x80000000) != 0)
        {
LABEL_27:
          v17 = v28;
          v31 = 0;
          v32 = 0;
          v33 = 0;
          v34 = 0;
          v35 = 0;
          v36 = v201;
          goto LABEL_32;
        }
      }
      v198 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (unsigned __int16)v201 << 6);
      if (!v198)
      {
        v17 = 2313166858;
        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v43, v44, v45, v46, v171);
        v31 = 0;
        v32 = 0;
        v33 = 0;
        v34 = 0;
        v35 = 0;
        v36 = v201;
        goto LABEL_32;
      }
      if ((_WORD)v201)
      {
        v47 = 0;
        while (1)
        {
          inited = statphr_initFeatureVector(a1, v198 + 8 * v47, 8u);
          if ((inited & 0x80000000) != 0)
            break;
          v47 += 8;
          if (8 * (unsigned __int16)v201 <= v47)
            goto LABEL_55;
        }
LABEL_123:
        v17 = inited;
        v31 = 0;
        v33 = 0;
        v34 = 0;
        v35 = 0;
        v36 = v201;
        v32 = v198;
        goto LABEL_32;
      }
LABEL_55:
      inited = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a2 + 104))(a3, a4, 2, (unsigned __int16)v216, (char *)&v215 + 2);
      if ((inited & 0x80000000) != 0)
        goto LABEL_123;
      v178 = 8 * (unsigned __int16)v201;
      v192 = 0;
      v52 = 0;
      v194 = 0;
      v53 = -1;
      while (HIWORD(v215))
      {
        v54 = (*(uint64_t (**)(uint64_t, uint64_t))(a2 + 168))(a3, a4);
        if ((v54 & 0x80000000) != 0)
          goto LABEL_120;
        if (v213 - 9 < 2)
          goto LABEL_62;
        if (v213 != 6)
        {
          if (v213 != 4)
            goto LABEL_119;
LABEL_62:
          v54 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a2 + 168))(a3, a4, HIWORD(v215), 1, 1, (char *)&v210 + 2, &v215);
          if ((v54 & 0x80000000) != 0)
            goto LABEL_120;
          if (HIWORD(v210) != v53)
          {
            v203 = 0;
            v202 = 0;
            HIWORD(v216) = 0;
            v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(a2 + 184))(a3, a4, HIWORD(v215), 14, (char *)&v216 + 2);
            if ((v17 & 0x80000000) != 0)
              goto LABEL_125;
            if (HIWORD(v216) != 1)
              goto LABEL_125;
            v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a2 + 176))(a3, a4, HIWORD(v215), 14, &v211, &v215);
            if ((v17 & 0x80000000) != 0)
              goto LABEL_125;
            if (!hlp_NLUStrFind(v211, "POS", (uint64_t *)&v203, &v202))
            {
              log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"statPHR: internal ERROR - found a WordRecord %d without POS (NLU=%s), bailing out", v55, v56, v57, HIWORD(v215));
LABEL_125:
              v36 = v201;
              v32 = v198;
              v33 = (uint64_t)v192;
              goto LABEL_272;
            }
            __s1 = v52;
            if ((_WORD)v52 && !v194)
            {
              v58 = 0;
              v186 = v198 + 8 * (unsigned __int16)v52 - 64;
              do
                v59 = &(&g_statphr_FeatureNames)[v58++];
              while (strcmp("pos", v59[1]));
              v60 = *(char **)(v186 + 8 * v58);
              v61 = strstr(v60, "_BVB");
              if (v61)
                *v61 = 0;
              v62 = statphr_setFeature(a1, "Lpos", v198 + 8 * (unsigned __int16)v52, v60);
              if ((v62 & 0x80000000) != 0)
                goto LABEL_124;
              v62 = statphr_setNFeature(a1, "Rpos", v186, v203, v202);
              if ((v62 & 0x80000000) != 0)
                goto LABEL_124;
            }
            if ((unsigned __int16)v52 >= 9u && !v194)
            {
              v62 = statphr_setNFeature(a1, "RRpos", v198 + 8 * (unsigned __int16)v52 - 128, v203, v202);
              if ((v62 & 0x80000000) != 0)
                goto LABEL_124;
            }
            v63 = v198 + 8 * (unsigned __int16)v52;
            v62 = statphr_setNFeature(a1, "pos", v63, v203, v202);
            if ((v62 & 0x80000000) != 0)
              goto LABEL_124;
            v179 = (char *)(v198 + 8 * (unsigned __int16)v52);
            if (HIWORD(v210) > v208 && v207)
            {
              v64 = v207[3];
              v207[3] = 0;
              statphr_setFeature(a1, "Lpos", v63, v207 + 1);
              v62 = statphr_setFeature(a1, "Lchunk", v63, v207 + 1);
              if ((v62 & 0x80000000) != 0)
                goto LABEL_124;
              v207[3] = v64;
              if ((unsigned __int16)__s1 >= 9u)
              {
                v65 = v207[3];
                v207[3] = 0;
                v62 = statphr_setFeature(a1, "Rpos", v198 + 8 * (unsigned __int16)__s1 - 128, v207 + 1);
                if ((v62 & 0x80000000) != 0)
                  goto LABEL_124;
                v207[3] = v65;
                v63 = (uint64_t)v179;
                if ((unsigned __int16)__s1 >= 0x11u)
                {
                  v66 = v207[3];
                  v207[3] = 0;
                  v62 = statphr_setFeature(a1, "RRpos", v198 + 8 * (unsigned __int16)__s1 - 192, v207 + 1);
                  if ((v62 & 0x80000000) != 0)
                    goto LABEL_124;
                  v207[3] = v66;
                }
              }
              v208 = -1;
              v207 = 0;
            }
            v62 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a2 + 168))(a3, a4, HIWORD(v215), 2, 1, &v210, &v215);
            if ((v62 & 0x80000000) != 0
              || (v62 = statphr_set_WBND_feature(a1, v63, v212, HIWORD(v210), 1), (v62 & 0x80000000) != 0)
              || (v62 = statphr_set_WBND_feature(a1, v63, v212, (unsigned __int16)v210, 0), (v62 & 0x80000000) != 0))
            {
LABEL_124:
              v17 = v62;
              goto LABEL_125;
            }
            v67 = (unsigned __int16)v210 - HIWORD(v210);
            v68 = v192;
            v69 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v192, (unsigned __int16)(v210 - HIWORD(v210)) + 1);
            if (!v69)
            {
LABEL_270:
              v17 = 2313166858;
              log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v70, v71, v72, v73, v171);
              goto LABEL_271;
            }
            v74 = HIWORD(v210);
            v75 = v210;
            if (HIWORD(v210) >= (unsigned __int16)v210)
            {
              v187 = 0;
              v192 = (const char *)v69;
              v194 = 0;
            }
            else
            {
              v194 = 0;
              v187 = 0;
              v192 = (const char *)v69;
              v182 = v67;
              do
              {
                v76 = v74;
                v77 = &v212[v74];
                v78 = *v77;
                if (memchr(",:;.?!'\"", v78, 9uLL))
                {
                  v79 = memchr(",:;.?!", v78, 7uLL);
                  v80 = v194;
                  if (v79)
                    v80 = 1;
                  v194 = v80;
                  v74 = v76 + 1;
                }
                else
                {
                  NextUtf8Offset = utf8_GetNextUtf8Offset(v77, 0);
                  v23 = v197;
                  if (utf8_ToLower(v212, v76, (uint64_t)__s))
                  {
                    if (strlen(__s) <= NextUtf8Offset)
                    {
                      strcpy((char *)&v192[v187], __s);
                      v187 = strlen(v192);
                    }
                    else
                    {
                      v182 += 5;
                      v68 = v192;
                      v82 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v192, (unsigned __int16)v182 + 1);
                      if (!v82)
                        goto LABEL_270;
                      v192 = (const char *)v82;
                    }
                  }
                  else
                  {
                    strncpy((char *)&v192[v187], &v212[v76], NextUtf8Offset);
                    v187 += NextUtf8Offset;
                  }
                  v74 = v76 + NextUtf8Offset;
                  v75 = v210;
                }
              }
              while (v74 < v75);
            }
            v68 = v192;
            v192[v187] = 0;
            if (*v192)
            {
              if (statphr_searchInIGTreeParamDefs(a5, "orthtokeep", v192))
              {
                v83 = statphr_setFeature(a1, "orth", (uint64_t)v179, v192);
                if ((v83 & 0x80000000) != 0)
                {
                  v17 = v83;
                  v23 = v197;
LABEL_271:
                  v36 = v201;
                  v32 = v198;
                  v33 = (uint64_t)v68;
LABEL_272:
                  v31 = 0;
LABEL_31:
                  v34 = 0;
                  v35 = 0;
                  goto LABEL_32;
                }
              }
            }
            v52 = __s1 + 8;
            v53 = HIWORD(v210);
            v23 = v197;
          }
          goto LABEL_119;
        }
        v54 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(a2 + 168))(a3, a4, HIWORD(v215), 2, 1, &v208, &v215);
        if ((v54 & 0x80000000) != 0
          || (v54 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a2 + 176))(a3, a4, HIWORD(v215), 4, &v207, &v215), (v54 & 0x80000000) != 0))
        {
LABEL_120:
          v17 = v54;
          v31 = 0;
          v34 = 0;
          v35 = 0;
LABEL_121:
          v36 = v201;
          v32 = v198;
          v33 = (uint64_t)v192;
          goto LABEL_32;
        }
        if (strlen(v207) < 4 || !strcmp(v207, "_PR_"))
        {
          v207 = 0;
          v208 = -1;
        }
LABEL_119:
        v54 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a2 + 120))(a3, a4, HIWORD(v215), (char *)&v215 + 2);
        if ((v54 & 0x80000000) != 0)
          goto LABEL_120;
      }
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Predicting PHR with IGtree", v49, v50, v51, v171);
      v17 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a2 + 104))(a3, a4, 2, (unsigned __int16)v216, (char *)&v215 + 2);
      if ((v17 & 0x80000000) != 0 || (v84 = HIWORD(v215)) == 0)
      {
        v31 = 0;
        v34 = 0;
        v35 = 0;
        goto LABEL_121;
      }
      v183 = 0;
      __s1a = 0;
      v176 = 0;
      v177 = 0;
      v180 = 0;
      v188 = 0;
      v175 = 0;
      __s2 = 0;
      v174 = 0;
      v85 = 0xFFFF;
      while (2)
      {
        v86 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a2 + 168))(a3, a4, v84, 0, 1, &v213, &v215);
        if ((v86 & 0x80000000) != 0)
        {
LABEL_274:
          v17 = v86;
LABEL_275:
          v36 = v201;
          v32 = v198;
          v33 = (uint64_t)v192;
          v31 = (uint64_t)v174;
          v34 = v183;
          goto LABEL_276;
        }
        if (v213 > 0xA || ((1 << v213) & 0x610) == 0)
          goto LABEL_267;
        v86 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a2 + 168))(a3, a4, HIWORD(v215), 1, 1, (char *)&v210 + 2, &v215);
        if ((v86 & 0x80000000) != 0)
          goto LABEL_274;
        v86 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a2 + 168))(a3, a4, HIWORD(v215), 2, 1, &v210, &v215);
        if ((v86 & 0x80000000) != 0)
          goto LABEL_274;
        v88 = strncpy(__dst, &v212[HIWORD(v210)], (unsigned __int16)v210 - (unint64_t)HIWORD(v210));
        v88[(unsigned __int16)v210 - HIWORD(v210)] = 0;
        if (HIWORD(v210) == (unsigned __int16)v85)
        {
LABEL_251:
          if (__src)
          {
            v196 = v85;
            v86 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a2 + 176))(a3, a4, HIWORD(v215), 14, &v211, &v215);
            if ((v86 & 0x80000000) != 0)
              goto LABEL_274;
            v150 = *(uint64_t **)(a1 + 8);
            if (v188)
            {
              v151 = strlen(v23);
              v152 = strlen(v211);
              v153 = __s1a;
              v154 = (char *)heap_Realloc(v150, (uint64_t)__s1a, (v151 + v152 + 8));
              if (!v154)
                goto LABEL_283;
              v159 = v154;
              v160 = strcpy(v154, v211);
              v161 = v23;
            }
            else
            {
              v162 = strlen(__src);
              v163 = strlen(v211);
              v153 = __s1a;
              v164 = (char *)heap_Realloc(v150, (uint64_t)__s1a, (v162 + v163 + 8));
              if (!v164)
              {
LABEL_283:
                v17 = 2313166858;
                log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v155, v156, v157, v158, v172);
                v36 = v201;
                v32 = v198;
                v33 = (uint64_t)v192;
                v31 = (uint64_t)v174;
                v34 = v183;
                v35 = (uint64_t)v153;
                goto LABEL_32;
              }
              v159 = v164;
              v160 = strcpy(v164, v211);
              v161 = __src;
            }
            v165 = hlp_NLUStrSet(v160, "PHR", v161);
            __s1a = (char *)v159;
            if (v180)
            {
              v169 = 66;
            }
            else
            {
              if (!HIDWORD(v176))
              {
LABEL_263:
                if (!v188)
                  strcpy(v23, __src);
                log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"STATPHR : word=%s NLU=%s", v166, v167, v168, (uint64_t)__dst);
                v170 = strlen(v159);
                v86 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a2 + 160))(a3, a4, HIWORD(v215), 14, (unsigned __int16)(v170 + 1), v159, &v214);
                if ((v86 & 0x80000000) != 0)
                  goto LABEL_274;
                v85 = v196;
                goto LABEL_267;
              }
              v169 = 73;
            }
            v165[4] = v169;
            goto LABEL_263;
          }
LABEL_267:
          v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a2 + 120))(a3, a4, HIWORD(v215), (char *)&v215 + 2);
          if ((v17 & 0x80000000) != 0)
            goto LABEL_275;
          v84 = HIWORD(v215);
          if (!HIWORD(v215))
            goto LABEL_275;
          continue;
        }
        break;
      }
      v89 = 0;
      v195 = (const char **)(v198 + 8 * v177);
      do
      {
        if (!strcmp("pos", (&g_statphr_FeatureNames)[v89]))
        {
          v90 = v195[v89];
          goto LABEL_142;
        }
        ++v89;
      }
      while (v89 != 8);
      v90 = 0;
LABEL_142:
      if (statphr_searchInIGTreeParamDefs(a5, "preppos", v90))
      {
        v91 = v177 + 8;
        v92 = v177 + 40;
        if (v92 > (unsigned __int16)(v177 + 8))
        {
          v93 = v177 + 8;
          if (v178 > (unsigned __int16)(v177 + 8))
          {
            v181 = (char *)v90;
            if (v92 >= v178)
              v92 = 8 * (unsigned __int16)v201;
            v189 = v92;
            do
            {
              v94 = (const char **)(v198 + 8 * v91);
              if (strcmp(*v94, "_"))
              {
                v95 = 0;
                while (strcmp("pos", (&g_statphr_FeatureNames)[v95]))
                {
                  if (++v95 == 8)
                  {
                    v96 = 0;
                    goto LABEL_154;
                  }
                }
                v96 = v94[v95];
LABEL_154:
                v23 = v197;
                if (!statphr_searchInIGTreeParamDefs(a5, "verbpos", v96))
                {
                  v91 = v93 + 8;
                  goto LABEL_160;
                }
                v97 = strlen(v181);
                v98 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), v183, (v97 + 5));
                if (!v98)
                {
                  v17 = 2313166858;
                  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v99, v100, v101, v102, v172);
                  v36 = v201;
                  v32 = v198;
                  v33 = (uint64_t)v192;
                  v31 = (uint64_t)v174;
                  v34 = v183;
                  goto LABEL_276;
                }
                v103 = v98;
                v104 = strcpy(v98, v181);
                strcpy((char *)&v103[strlen(v104)], "_BVB");
                v105 = statphr_setFeature(a1, "pos", (uint64_t)v195, v103);
                if ((v105 & 0x80000000) != 0)
                {
                  v17 = v105;
                  v34 = (uint64_t)v103;
                  v36 = v201;
                  v32 = v198;
                  v33 = (uint64_t)v192;
                  v31 = (uint64_t)v174;
LABEL_276:
                  v35 = (uint64_t)__s1a;
LABEL_32:
                  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v23);
                  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)__dst);
                  if (v31)
                    heap_Free(*(_QWORD **)(a1 + 8), v31);
                  if (v35)
                    heap_Free(*(_QWORD **)(a1 + 8), v35);
                  if (v34)
                    heap_Free(*(_QWORD **)(a1 + 8), v34);
                  if (v33)
                    heap_Free(*(_QWORD **)(a1 + 8), v33);
                  if (v32)
                  {
                    v37 = v36;
                    if (v36)
                    {
                      v38 = 0;
                      v39 = 8 * v37;
                      do
                      {
                        for (i = 0; i != 64; i += 8)
                        {
                          v41 = *(_QWORD *)(v32 + 8 * v38 + i);
                          if (v41)
                            heap_Free(*(_QWORD **)(a1 + 8), v41);
                        }
                        v38 += 8;
                      }
                      while (v39 > v38);
                    }
                    heap_Free(*(_QWORD **)(a1 + 8), v32);
                  }
                  return v17;
                }
                v183 = (uint64_t)v103;
              }
              v91 = 8 * v201;
LABEL_160:
              v93 = v91;
            }
            while (v91 < v189);
          }
        }
      }
      v190 = __src;
      if (__src)
      {
        v106 = 0;
        do
          v107 = &(&g_statphr_FeatureNames)[v106++];
        while (strcmp("Lchunk", v107[1]));
        if (!strcmp(v195[v106], "_") && strcmp(*v195, "_"))
          statphr_setFeature(a1, "Lchunk", (uint64_t)v195, v190);
      }
      if (v199 == 1)
      {
        v86 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a2 + 176))(a3, a4, HIWORD(v215), 14, &v211, &v215);
        if ((v86 & 0x80000000) != 0)
          goto LABEL_274;
        v108 = v211;
        if (v211)
          v109 = v15;
        else
          v109 = 0;
        if (v109)
        {
          v110 = strstr(v211, "COMP:");
          if (v110)
          {
            v111 = v176;
            if (v110[5] == 66)
              v111 = 1;
            v175 = v110[5] == 66;
            LODWORD(v176) = v111;
            v112 = 1;
LABEL_191:
            v191 = v112;
LABEL_192:
            if (*(unsigned __int8 *)(a5 + 1296) >= 2u)
            {
              v120 = 0;
              do
              {
                v121 = 0;
                v122 = *(_QWORD *)(a5 + 1312);
                v123 = *(const char **)(v122 + 8 * v120);
                while (strcmp(v123, (&g_statphr_FeatureNames)[v121]))
                {
                  if (++v121 == 8)
                  {
                    v127 = 0;
                    goto LABEL_199;
                  }
                }
                v127 = v195[v121];
LABEL_199:
                *((_QWORD *)v217 + v120) = v127;
                log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Feature %s is %s", v124, v125, v126, *(_QWORD *)(v122 + 8 * v120++));
              }
              while (*(unsigned __int8 *)(a5 + 1296) - 1 > (unsigned __int16)v120);
            }
            v128 = igtree_Process(a5, (uint64_t)v217, &__src);
            if ((v128 & 0x80000000) != 0)
            {
LABEL_281:
              v17 = v128;
LABEL_282:
              v23 = v197;
              goto LABEL_275;
            }
            statphr_dumpFeatureVectorAndResult(a1, (uint64_t)v195, __src);
            v132 = *__src;
            if (__s1a)
            {
              if (v132 != 73 || strstr(__s1a, __src + 1))
                goto LABEL_204;
            }
            else if (v132 != 73)
            {
LABEL_204:
              v180 = 0;
              v133 = 1;
LABEL_207:
              if (v199)
              {
                if (v191)
                {
                  v134 = *__src;
                  if (v134 == 66)
                  {
                    if ((_DWORD)v176 != 1)
                    {
                      v176 = 0;
                      goto LABEL_229;
                    }
                  }
                  else
                  {
                    if (!v180)
                    {
                      v188 = 0;
                      v180 = 0;
                      HIDWORD(v176) = 0;
                      goto LABEL_249;
                    }
                    if (v134 != 73 || (_DWORD)v176 != 1)
                    {
                      HIDWORD(v176) = 0;
                      v188 = 0;
                      v180 = 1;
                      v23 = v197;
                      if (!v193)
                        goto LABEL_250;
                      goto LABEL_236;
                    }
                  }
                  if (v175)
                  {
                    HIDWORD(v176) = 0;
                  }
                  else
                  {
                    if (strcmp("O", v197))
                    {
                      *v197 = 73;
                      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"STATPHR : Force PHR to %s as bisects compound", v147, v148, v149, (uint64_t)v197);
                      v175 = 0;
                      if (v180)
                      {
                        HIDWORD(v176) = 0;
                        v180 = *__src != 73;
                      }
                      else
                      {
                        v180 = 0;
                        HIDWORD(v176) = 0;
                      }
                      LODWORD(v176) = 1;
                      v188 = 1;
                      goto LABEL_249;
                    }
                    HIDWORD(v176) = 0;
                    v175 = 0;
                  }
                  LODWORD(v176) = 1;
                  goto LABEL_229;
                }
                v176 = 0;
                v175 = 0;
LABEL_229:
                if (v193)
                {
                  if (!v133)
                  {
                    v180 = 1;
                    v23 = v197;
                    goto LABEL_236;
                  }
                  if (__src)
                  {
                    v180 = 0;
                    v188 = 0;
                    v23 = v197;
                    if (*__src != 66)
                      goto LABEL_250;
LABEL_236:
                    if (statphr_isWBND((uint64_t)v195))
                    {
                      v188 = 0;
                    }
                    else
                    {
                      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"STATPHR : Force PHR from %s to I-* as it bisects eojeol", v144, v145, v146, (uint64_t)__src);
                      v188 = 0;
                      v180 = 0;
                      HIDWORD(v176) = 1;
                    }
                    goto LABEL_250;
                  }
                  v188 = 0;
                  v180 = 0;
                }
                else
                {
                  v188 = 0;
                }
LABEL_249:
                v23 = v197;
LABEL_250:
                v177 += 8;
                v85 = HIWORD(v210);
                goto LABEL_251;
              }
              v128 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a2 + 176))(a3, a4, HIWORD(v215), 5, &v205, &v215);
              if ((v128 & 0x80000000) != 0)
                goto LABEL_281;
              HIDWORD(v176) = 0;
              v135 = v205;
              if (!__s1a || !__s2)
              {
LABEL_228:
                __s2 = strstr(v135, ",COMP");
                goto LABEL_229;
              }
              if (!strstr(v205, __s2) || *__src == 73 || (v136 = strstr(__s1a, "PHR:"), (__src = v136) == 0))
              {
                HIDWORD(v176) = 0;
                goto LABEL_228;
              }
              __src = v136 + 4;
              v137 = v136[4];
              v138 = strlen(v136 + 4);
              v139 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v174, (v138 + 1));
              if (v139)
              {
                HIDWORD(v176) = v137 == 66;
                __src = strcpy(v139, __src);
                v135 = v205;
                v174 = __src;
                goto LABEL_228;
              }
              v17 = 2313166858;
              log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v140, v141, v142, v143, v172);
              goto LABEL_282;
            }
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Forcing consistency of IOB tags", v129, v130, v131, v172);
            v133 = 0;
            v180 = 1;
            goto LABEL_207;
          }
        }
        if (v108)
          v113 = v15;
        else
          v113 = 1;
        if ((v113 & 1) == 0)
        {
          v114 = strstr(v108, "S_COMP:");
          if (v114)
            v115 = 1;
          else
            v115 = v175;
          v116 = strstr(v108, "I_COMP:");
          v117 = v176;
          if ((unint64_t)v116 | (unint64_t)v114)
            v117 = 1;
          LODWORD(v176) = v117;
          v118 = strstr(v108, "E_COMP:");
          if ((unint64_t)v118 | (unint64_t)v116)
            v119 = 0;
          else
            v119 = v115;
          v175 = v119;
          v112 = ((unint64_t)v118 | (unint64_t)v116 | (unint64_t)v114) != 0;
          goto LABEL_191;
        }
      }
      v191 = 0;
      goto LABEL_192;
    }
  }
  return v17;
}

uint64_t statphr_set_WBND_feature(uint64_t a1, uint64_t a2, char *__s, unsigned int a4, int a5)
{
  BOOL v8;
  __int16 v9;
  __int16 v10;
  const char *v12;
  char *v13;

  if (a4)
    v8 = a5 == 0;
  else
    v8 = 1;
  v9 = !v8;
  if (a4 && (v10 = a4, strlen(__s) > a4) && __s[(unsigned __int16)(v10 - v9)] != 32)
    v12 = "0";
  else
    v12 = "1";
  if (a5)
    v13 = "Lwbnd";
  else
    v13 = "Rwbnd";
  return statphr_setFeature(a1, v13, a2, v12);
}

BOOL statphr_isWBND(uint64_t a1)
{
  uint64_t v2;
  const char *v3;

  v2 = 0;
  while (strcmp("Lwbnd", (&g_statphr_FeatureNames)[v2]))
  {
    if (++v2 == 8)
      return 0;
  }
  v3 = *(const char **)(a1 + v2 * 8);
  return v3 && !strcmp(v3, "1");
}

uint64_t statphr_MorphemeProcess(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v8;
  uint64_t v9;
  unsigned __int16 v10;
  uint64_t v11;
  uint64_t v12;
  size_t v14;
  char *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  const char *v20;
  uint64_t v21;
  const char *v22;
  __int16 v23;
  char *__s;
  uint64_t v26;
  unsigned int v27;
  int v28;
  int v29;
  int v30;

  v29 = 0;
  v30 = 0;
  v27 = 0;
  v28 = 0;
  __s = 0;
  v26 = 0;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a2 + 104))(a3, a4, 1, 0, &v30);
  if ((v8 & 0x80000000) != 0)
    return v8;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(a2 + 184))(a3, a4, (unsigned __int16)v30, 0, (char *)&v30 + 2);
  if ((v9 & 0x80000000) == 0 && HIWORD(v30) == 1)
  {
    v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, int *))(a2 + 176))(a3, a4, (unsigned __int16)v30, 0, &v26, &v29);
    if ((v9 & 0x80000000) == 0 && (unsigned __int16)v29 >= 2u)
    {
      v9 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a2 + 104))(a3, a4, 2, (unsigned __int16)v30, (char *)&v29 + 2);
      if ((v9 & 0x80000000) == 0)
      {
        v10 = HIWORD(v29);
        if (HIWORD(v29))
        {
          v11 = 0;
          while (1)
          {
            v12 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a2 + 168))(a3, a4, v10, 0, 1, &v27, &v29);
            if ((v12 & 0x80000000) != 0)
            {
LABEL_31:
              v9 = v12;
              goto LABEL_34;
            }
            if (v27 <= 0xA && ((1 << v27) & 0x610) != 0)
            {
              v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(a2 + 184))(a3, a4, HIWORD(v29), 14, (char *)&v30 + 2);
              if ((v9 & 0x80000000) != 0 || HIWORD(v30) != 1)
                goto LABEL_34;
              v12 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a2 + 176))(a3, a4, HIWORD(v29), 14, &__s, &v29);
              if ((v12 & 0x80000000) != 0)
                goto LABEL_31;
              v14 = strlen(__s);
              v15 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), v11, v14 + 10);
              if (!v15)
              {
                log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v16, v17, v18, v19, __s);
                v9 = 2313166858;
LABEL_34:
                v20 = (const char *)v11;
                if (!v11)
                  return v9;
LABEL_35:
                heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v20);
                return v9;
              }
              v20 = v15;
              strcpy(v15, __s);
              v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a2 + 168))(a3, a4, HIWORD(v29), 1, 1, &v28, &v29);
              if ((v21 & 0x80000000) != 0
                || (!(_WORD)v28
                  ? (v22 = "PHR:B-WP")
                  : *(_BYTE *)(v26 + (unsigned __int16)v28 - 1) != 95
                  ? (v22 = "PHR:B-WP")
                  : (v22 = "PHR:I-WP"),
                    hlp_NLUStrJoin(v20, v22),
                    v23 = strlen(v20),
                    v21 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, char *))(a2 + 160))(a3, a4, HIWORD(v29), 14, (unsigned __int16)(v23 + 1), v20, (char *)&v28 + 2), (v21 & 0x80000000) != 0))
              {
                v9 = v21;
                goto LABEL_35;
              }
              v11 = (uint64_t)v20;
            }
            v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a2 + 120))(a3, a4, HIWORD(v29), (char *)&v29 + 2);
            if ((v9 & 0x80000000) == 0)
            {
              v10 = HIWORD(v29);
              if (HIWORD(v29))
                continue;
            }
            goto LABEL_34;
          }
        }
      }
    }
  }
  return v9;
}

uint64_t statcomp_setParams(uint64_t a1, uint64_t a2)
{
  int v5;

  v5 = 0;
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"statcompdetailtrace", &v5) & 0x80000000) == 0)
    *(_WORD *)(a2 + 8) = v5;
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"statcompsrctrace", &v5) & 0x80000000) == 0)
    *(_WORD *)(a2 + 10) = v5;
  *(_DWORD *)(a2 + 12) = 1;
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"statcompwidescope", &v5) & 0x80000000) == 0 && !v5)
    *(_DWORD *)(a2 + 12) = 0;
  return 0;
}

uint64_t statcomp_rules_unload(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  _QWORD *v11;
  uint64_t v12;
  uint64_t v13;
  _QWORD *v14;
  uint64_t v15;
  _QWORD *v16;
  unint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t *v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  uint64_t v28;
  unsigned int v29;
  unint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  unint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t *v46;
  uint64_t v47;
  unsigned int v48;
  uint64_t v49;
  unint64_t v50;
  uint64_t v51;
  uint64_t v52;
  _QWORD *v53;

  v9 = *(_QWORD *)a1;
  v10 = *(_QWORD *)(a1 + 272);
  if (v10)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v10);
    *(_QWORD *)(a1 + 272) = 0;
  }
  v11 = *(_QWORD **)(a1 + 288);
  if (v11)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v11, v10, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    *(_QWORD *)(a1 + 288) = 0;
  }
  else
  {
    v12 = 0;
  }
  v13 = *(_QWORD *)(a1 + 312);
  if (v13)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v13);
    *(_QWORD *)(a1 + 312) = 0;
  }
  v14 = *(_QWORD **)(a1 + 328);
  if (v14)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v14, v13, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    *(_QWORD *)(a1 + 328) = 0;
  }
  v15 = *(_QWORD *)(a1 + 232);
  if (v15)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v15);
    *(_QWORD *)(a1 + 232) = 0;
  }
  v16 = *(_QWORD **)(a1 + 248);
  if (v16)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v16, v15, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    *(_QWORD *)(a1 + 248) = 0;
  }
  if (*(_WORD *)(a1 + 72))
  {
    v17 = 0;
    v18 = 104;
    do
    {
      v19 = *(_QWORD *)(a1 + 64);
      if (v19)
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v19 + v18 - 96));
        v20 = *(_QWORD *)(a1 + 64) + v18;
        *(_QWORD *)(v20 - 96) = 0;
        freeRULEREGEXES((_QWORD *)v9, v20 - 80);
        freeRULEREGEXES((_QWORD *)v9, *(_QWORD *)(a1 + 64) + v18 - 64);
        v21 = *(_QWORD *)(a1 + 64);
        v22 = *(_QWORD *)(v21 + v18 - 48);
        if (v22 && *(_WORD *)(v21 + v18 - 40))
        {
          heap_Free(*(_QWORD **)(v9 + 8), v22);
          v21 = *(_QWORD *)(a1 + 64);
          *(_QWORD *)(v21 + v18 - 48) = 0;
        }
        freeRULEREGEXES((_QWORD *)v9, v21 + v18 - 32);
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(*(_QWORD *)(a1 + 64) + v18 - 16));
        v23 = (uint64_t *)(*(_QWORD *)(a1 + 64) + v18);
        *(v23 - 2) = 0;
        heap_Free(*(_QWORD **)(v9 + 8), *v23);
        *(_QWORD *)(*(_QWORD *)(a1 + 64) + v18) = 0;
      }
      if (*(_WORD *)(a1 + 88))
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 80));
        *(_QWORD *)(a1 + 80) = 0;
        *(_WORD *)(a1 + 88) = 0;
      }
      if (*(_WORD *)(a1 + 104))
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 96));
        *(_QWORD *)(a1 + 96) = 0;
        *(_WORD *)(a1 + 104) = 0;
      }
      ++v17;
      v18 += 120;
    }
    while (v17 < *(unsigned __int16 *)(a1 + 72));
    if (*(_WORD *)(a1 + 72))
    {
      heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 64));
      *(_QWORD *)(a1 + 64) = 0;
      *(_WORD *)(a1 + 72) = 0;
    }
  }
  v24 = *(_QWORD *)(a1 + 32);
  if (v24)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v24);
    *(_QWORD *)(a1 + 32) = 0;
  }
  *(_WORD *)(a1 + 40) = 0;
  v25 = *(_QWORD *)(a1 + 48);
  if (v25)
  {
    if (*(_WORD *)(a1 + 56))
    {
      v26 = 0;
      v27 = 0;
      do
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v25 + v26));
        v25 = *(_QWORD *)(a1 + 48);
        v28 = v25 + v26;
        *(_QWORD *)v28 = 0;
        *(_WORD *)(v28 + 8) = 0;
        ++v27;
        v26 += 16;
      }
      while (v27 < *(unsigned __int16 *)(a1 + 56));
    }
    heap_Free(*(_QWORD **)(v9 + 8), v25);
    *(_QWORD *)(a1 + 48) = 0;
  }
  *(_WORD *)(a1 + 56) = 0;
  v29 = *(unsigned __int16 *)(a1 + 340);
  if (*(_WORD *)(a1 + 340))
  {
    v30 = 0;
    do
    {
      v31 = *(_QWORD *)(a1 + 344);
      if (v31)
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v31 + 8 * v30));
        *(_QWORD *)(*(_QWORD *)(a1 + 344) + 8 * v30) = 0;
        v29 = *(unsigned __int16 *)(a1 + 340);
      }
      ++v30;
    }
    while (v30 < v29);
    heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 344));
    *(_QWORD *)(a1 + 344) = 0;
    *(_WORD *)(a1 + 340) = 0;
  }
  v32 = *(_QWORD *)(a1 + 352);
  if (v32)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v32);
    *(_QWORD *)(a1 + 352) = 0;
  }
  v33 = *(_QWORD *)(a1 + 360);
  if (v33)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v33);
    *(_QWORD *)(a1 + 360) = 0;
  }
  if (*(_WORD *)(a1 + 136))
  {
    v34 = 0;
    do
    {
      v35 = *(_QWORD *)(a1 + 152);
      if (v35)
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v35 + 8 * v34));
        *(_QWORD *)(*(_QWORD *)(a1 + 152) + 8 * v34) = 0;
      }
      v36 = *(_QWORD *)(a1 + 160);
      if (v36)
      {
        v37 = *(_QWORD *)(v36 + 8 * v34);
        if (v37)
        {
          v12 = igtree_Deinit(v9, v37, a3, a4, a5, a6, a7, a8);
          if ((v12 & 0x80000000) != 0)
            return v12;
          heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(*(_QWORD *)(a1 + 160) + 8 * v34));
          *(_QWORD *)(*(_QWORD *)(a1 + 160) + 8 * v34) = 0;
        }
      }
      v38 = *(_QWORD *)(a1 + 168);
      if (v38)
      {
        v39 = *(_QWORD *)(v38 + 8 * v34);
        if (v39)
        {
          if (*(_WORD *)(v39 + 8))
          {
            v40 = 0;
            do
            {
              v41 = *(_QWORD *)v39;
              if (v41)
              {
                heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v41 + 8 * v40));
                *(_QWORD *)(**(_QWORD **)(*(_QWORD *)(a1 + 168) + 8 * v34) + 8 * v40) = 0;
                v38 = *(_QWORD *)(a1 + 168);
              }
              ++v40;
              v39 = *(_QWORD *)(v38 + 8 * v34);
            }
            while (v40 < *(unsigned __int16 *)(v39 + 8));
          }
          heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)v39);
          v42 = *(_QWORD *)(a1 + 168);
          **(_QWORD **)(v42 + 8 * v34) = 0;
          heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v42 + 8 * v34));
          *(_QWORD *)(*(_QWORD *)(a1 + 168) + 8 * v34) = 0;
        }
      }
      v43 = *(_QWORD *)(a1 + 176);
      if (v43)
      {
        v44 = *(_QWORD *)(v43 + 8 * v34);
        if (v44)
        {
          heap_Free(*(_QWORD **)(v9 + 8), v44);
          *(_QWORD *)(*(_QWORD *)(a1 + 176) + 8 * v34) = 0;
        }
      }
      v45 = *(_QWORD *)(a1 + 184);
      if (v45)
      {
        v46 = *(uint64_t **)(v45 + 8 * v34);
        if (v46)
        {
          heap_Free(*(_QWORD **)(v9 + 8), *v46);
          v47 = *(_QWORD *)(a1 + 184);
          **(_QWORD **)(v47 + 8 * v34) = 0;
          heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v47 + 8 * v34));
          *(_QWORD *)(*(_QWORD *)(a1 + 184) + 8 * v34) = 0;
        }
      }
      ++v34;
    }
    while (v34 < *(unsigned __int16 *)(a1 + 136));
    heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 144));
    *(_QWORD *)(a1 + 144) = 0;
    heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 152));
    *(_QWORD *)(a1 + 152) = 0;
    heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 160));
    *(_QWORD *)(a1 + 160) = 0;
    heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 168));
    *(_QWORD *)(a1 + 168) = 0;
    heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 176));
    *(_QWORD *)(a1 + 176) = 0;
    heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(a1 + 184));
    *(_QWORD *)(a1 + 184) = 0;
    *(_WORD *)(a1 + 136) = 0;
  }
  v48 = *(unsigned __int16 *)(a1 + 128);
  if (*(_WORD *)(a1 + 128))
  {
    v49 = 0;
    v50 = 0;
    v51 = *(_QWORD *)(a1 + 120);
    v52 = v51;
    do
    {
      if (v52)
      {
        heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v52 + v49));
        v53 = (_QWORD *)(*(_QWORD *)(a1 + 120) + v49);
        *v53 = 0;
        heap_Free(*(_QWORD **)(v9 + 8), v53[1]);
        v51 = *(_QWORD *)(a1 + 120);
        *(_QWORD *)(v51 + v49 + 8) = 0;
        v48 = *(unsigned __int16 *)(a1 + 128);
        v52 = v51;
      }
      ++v50;
      v49 += 16;
    }
    while (v50 < v48);
    *(_WORD *)(a1 + 128) = 0;
    heap_Free(*(_QWORD **)(v9 + 8), v51);
    *(_QWORD *)(a1 + 120) = 0;
  }
  return v12;
}

_QWORD *freeRULEREGEXES(_QWORD *result, uint64_t a2)
{
  uint64_t v3;
  _QWORD *v4;
  uint64_t v5;
  unint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;

  if (a2)
  {
    v3 = *(_QWORD *)a2;
    if (v3)
    {
      v4 = result;
      if (*(_WORD *)(a2 + 8))
      {
        v5 = 0;
        v6 = 0;
        do
        {
          v7 = *(_QWORD *)a2;
          v8 = *(_QWORD *)(*(_QWORD *)a2 + v5);
          if (v8)
          {
            if (*(_WORD *)(v8 + 8))
            {
              heap_Free((_QWORD *)v4[1], *(_QWORD *)v8);
              *(_QWORD *)v8 = 0;
              v8 = *(_QWORD *)(v7 + v5);
            }
            heap_Free((_QWORD *)v4[1], v8);
            *(_QWORD *)(v7 + v5) = 0;
          }
          v9 = v7 + v5;
          v10 = *(_QWORD *)(v9 + 8);
          if (v10)
          {
            if (*(_WORD *)(v10 + 8))
            {
              heap_Free((_QWORD *)v4[1], *(_QWORD *)v10);
              *(_QWORD *)v10 = 0;
              v10 = *(_QWORD *)(v9 + 8);
            }
            heap_Free((_QWORD *)v4[1], v10);
            *(_QWORD *)(v9 + 8) = 0;
          }
          v11 = *(_QWORD *)(v9 + 16);
          if (v11)
          {
            if (*(_WORD *)(v11 + 8))
            {
              heap_Free((_QWORD *)v4[1], *(_QWORD *)v11);
              *(_QWORD *)v11 = 0;
              v11 = *(_QWORD *)(v9 + 16);
            }
            heap_Free((_QWORD *)v4[1], v11);
            *(_QWORD *)(v9 + 16) = 0;
          }
          ++v6;
          v5 += 24;
        }
        while (v6 < *(unsigned __int16 *)(a2 + 8));
        v3 = *(_QWORD *)a2;
      }
      result = heap_Free((_QWORD *)v4[1], v3);
      *(_QWORD *)a2 = 0;
    }
  }
  return result;
}

uint64_t statcomp_rules_load(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v8;
  uint64_t Str;
  char *v16;
  size_t v17;
  unint64_t v18;
  size_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  _QWORD *v28;
  unsigned __int16 *v29;
  int v30;
  uint64_t v31;
  uint64_t v32;
  unsigned __int16 *v33;
  unsigned __int16 *v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  unint64_t v42;
  unsigned int v43;
  unsigned int v44;
  unsigned __int16 *v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  unsigned int v49;
  uint64_t v50;
  uint64_t v51;
  unint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  unsigned int v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  unsigned int v61;
  unint64_t v62;
  int v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  unint64_t v67;
  int v68;
  int v69;
  uint64_t v70;
  uint64_t v71;
  uint64_t v72;
  unint64_t v73;
  unsigned int v74;
  uint64_t v75;
  uint64_t v76;
  unint64_t v77;
  _QWORD *v78;
  unsigned __int16 *v79;
  int v80;
  uint64_t v81;
  uint64_t v82;
  _QWORD *v83;
  unsigned __int16 *v84;
  int v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  unint64_t v91;
  unsigned int v92;
  uint64_t v93;
  uint64_t *v94;
  uint64_t v95;
  uint64_t v96;
  unint64_t v97;
  unsigned int v98;
  uint64_t v99;
  uint64_t v100;
  unint64_t v101;
  unsigned int v102;
  int v103;
  int v104;
  uint64_t v105;
  unsigned int v106;
  uint64_t v107;
  uint64_t v108;
  unsigned int *v109;
  size_t v110;
  int v111;
  const char *v112;
  size_t v113;
  uint64_t v114;
  unint64_t v115;
  __int16 *v116;
  __int16 v117;
  unsigned int v118;
  uint64_t v119;
  unsigned __int16 v120;
  uint64_t v121;
  uint64_t v122;
  unsigned int v123;
  unint64_t v124;
  uint64_t v125;
  uint64_t v126;
  unsigned int *v127;
  unsigned int v128;
  const char *v129;
  size_t v130;
  unint64_t v131;
  int v132;
  _QWORD *v133;
  _WORD *v134;
  int v135;
  uint64_t v136;
  uint64_t v137;
  uint64_t v138;
  uint64_t v139;
  uint64_t v140;
  unint64_t v141;
  uint64_t v142;
  uint64_t v143;
  uint64_t v144;
  unint64_t v145;
  char *v146;
  int v147;
  __int16 v148;
  unsigned __int16 v149;
  uint64_t v150;
  char *v151;
  char *v152;
  char *v153;
  char *v154;
  int v155;
  uint64_t v156;
  uint64_t v157;
  char *v158;
  int v159;
  uint64_t v160;
  uint64_t v161;
  char *v162;
  uint64_t v163;
  uint64_t v164;
  int v165;
  uint64_t v166;
  unsigned __int16 v167;
  uint64_t v168;
  uint64_t v169;
  uint64_t v170;
  uint64_t v171;
  unsigned int *v172;
  size_t v173;
  uint64_t v174;
  uint64_t v175;
  uint64_t v176;
  uint64_t v177;
  unsigned int *v178;
  size_t v179;
  uint64_t v180;
  uint64_t v181;
  uint64_t v182;
  uint64_t v183;
  unsigned int *v184;
  size_t v185;
  uint64_t DctIgtreeMappings;
  uint64_t v187;
  uint64_t v188;
  unint64_t v189;
  unint64_t v190;
  uint64_t v191;
  unint64_t v192;
  unint64_t v193;
  uint64_t v194;
  uint64_t v196;
  unint64_t v197;
  unint64_t v198;
  uint64_t v199;
  uint64_t v200;
  uint64_t v201;
  unint64_t v202;
  unint64_t v203;
  unint64_t v204;
  int v205;
  uint64_t v206;
  uint64_t v207;
  unint64_t v208;
  uint64_t v209;
  uint64_t v210;
  uint64_t v211;
  uint64_t v212;
  unint64_t v213;
  uint64_t v214;
  uint64_t v215;
  uint64_t v216;
  uint64_t v217;
  unint64_t v218;
  uint64_t v219;
  uint64_t v220;
  uint64_t v221;
  int v222;
  unsigned int v223;
  uint64_t v224;
  uint64_t v225;
  unsigned __int16 *v226;
  unsigned __int16 v227;
  uint64_t v228;
  uint64_t v229;
  uint64_t v230;
  unsigned __int16 v231;
  uint64_t v232;
  int v233;
  uint64_t v234;
  _WORD *v235;
  uint64_t v236;
  uint64_t v237;
  unsigned __int16 *v238;
  unsigned int v239;
  int v240;
  unsigned __int8 v241;
  _QWORD *v242;
  char __s2[4];
  char *__s;
  _OWORD v245[8];
  _QWORD v246[20];

  v8 = a7;
  v246[17] = *MEMORY[0x1E0C80C00];
  v242 = 0;
  v241 = 0;
  v239 = 0;
  v240 = 0;
  v237 = 0;
  v238 = 0;
  memset(v245, 0, sizeof(v245));
  *(_QWORD *)a4 = a3;
  *(_WORD *)(a4 + 338) = 5;
  log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"loading StatCOMP rules", a6, a7, a8, 0);
  __s = 0;
  memset(v246, 0, 128);
  *(_DWORD *)__s2 = 0;
  Str = paramc_ParamGetStr(*(_QWORD *)(a3 + 40), (uint64_t)"langcode", &__s);
  if ((Str & 0x80000000) != 0)
    return Str;
  v235 = a1;
  v236 = a2;
  v16 = __s;
  if (*__s)
  {
    v17 = 0;
    do
    {
      v18 = v17;
      __s2[v17] = __tolower(v16[v17]);
      ++v17;
      v16 = __s;
      v19 = strlen(__s);
    }
    while (v18 <= 1 && v17 < v19);
  }
  else
  {
    v17 = 0;
  }
  __s2[v17] = 0;
  if (strcmp(v16, __s2))
  {
    Str = paramc_ParamSetStr(*(_QWORD *)(a3 + 40), (uint64_t)"langcode", __s2);
    if ((Str & 0x80000000) != 0)
      return Str;
    __s = __s2;
  }
  __strcpy_chk();
  __strcat_chk();
  __strcat_chk();
  Str = brokeraux_ComposeBrokerString(a3, (const char *)v246, 0, 1, __s, 0, 0, (char *)v245, 0x80uLL);
  if ((Str & 0x80000000) != 0)
    return Str;
  Str = brk_DataOpenEx(*(_QWORD *)(a3 + 24), (uint64_t)v245, 1, (uint64_t)&v237);
  if ((Str & 0x80000000) != 0)
    return Str;
  Str = brk_DataClose(*(_QWORD *)(a3 + 24), v237);
  if ((Str & 0x80000000) != 0)
    return Str;
  Str = ssftriff_reader_ObjOpen(v235, a2, 0, (const char *)v245, "SCMP", 1031, (uint64_t *)&v242);
  if ((Str & 0x80000000) != 0)
    return Str;
  v230 = a6;
  v228 = a5;
  do
  {
    LODWORD(v27) = ssftriff_reader_OpenChunk((uint64_t)v242, &v240, &v239, &v238, v20, v21, v22, v23);
    if ((v27 & 0x80000000) != 0)
      break;
    if (v240 ^ 0x47494643 | v241)
    {
      if (!(v240 ^ 0x54455353 | v241))
      {
        v34 = v238;
        v35 = *v238;
        *(_WORD *)(a4 + 40) = v35;
        v36 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * v35) | 1);
        *(_QWORD *)(a4 + 32) = v36;
        if (!v36)
          goto LABEL_130;
        if (*(_WORD *)(a4 + 40))
        {
          v41 = 0;
          v42 = 0;
          v43 = 2;
          do
          {
            *(_DWORD *)(*(_QWORD *)(a4 + 32) + v41) = *(_DWORD *)((char *)v34 + v43);
            v44 = v43 + 4;
            *(_DWORD *)(*(_QWORD *)(a4 + 32) + v41 + 4) = *(_DWORD *)((char *)v34 + v44);
            v43 = v44 + 4;
            ++v42;
            v41 += 8;
          }
          while (v42 < *(unsigned __int16 *)(a4 + 40));
        }
        LODWORD(v27) = 0;
        goto LABEL_96;
      }
      if (v240 ^ 0x50414D53 | v241)
      {
        if (v240 ^ 0x4C555243 | v241)
        {
          if (!(v240 ^ 0x58474552 | v241))
          {
            v78 = v242;
            v79 = v238;
            v246[0] = v238;
            v80 = *(_DWORD *)v238;
            *(_DWORD *)(a4 + 216) = *(_DWORD *)v238;
            if (v80)
            {
              v81 = (*((_DWORD *)v79 + 1) + 8);
              *(_QWORD *)(a4 + 224) = (char *)v79 + v81;
              v82 = (v81 + v80);
            }
            else
            {
              v82 = 4;
            }
            v88 = *(unsigned __int16 *)((char *)v79 + v82);
            *(_WORD *)(a4 + 240) = v88;
            v89 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (4 * v88) | 1);
            *(_QWORD *)(a4 + 232) = v89;
            if (!v89)
              goto LABEL_130;
            if (*(_WORD *)(a4 + 240))
            {
              v91 = 0;
              v92 = v82 + 2;
              do
              {
                *(_DWORD *)(*(_QWORD *)(a4 + 232) + 4 * v91) = *(_DWORD *)((char *)v79 + v92);
                v92 += 4;
                ++v91;
              }
              while (v91 < *(unsigned __int16 *)(a4 + 240));
            }
            v93 = (uint64_t)v78;
            v94 = (uint64_t *)(a4 + 248);
            goto LABEL_95;
          }
          if (!(v240 ^ 0x53525453 | v241))
          {
            v83 = v242;
            v84 = v238;
            v246[0] = v238;
            v85 = *(_DWORD *)v238;
            *(_DWORD *)(a4 + 296) = *(_DWORD *)v238;
            if (v85)
            {
              v86 = (*((_DWORD *)v84 + 1) + 8);
              *(_QWORD *)(a4 + 304) = (char *)v84 + v86;
              v87 = (v86 + v85);
            }
            else
            {
              v87 = 4;
            }
            v95 = *(unsigned __int16 *)((char *)v84 + v87);
            *(_WORD *)(a4 + 320) = v95;
            v96 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (4 * v95) | 1);
            *(_QWORD *)(a4 + 312) = v96;
            if (!v96)
              goto LABEL_130;
            if (*(_WORD *)(a4 + 320))
            {
              v97 = 0;
              v98 = v87 + 2;
              do
              {
                *(_DWORD *)(*(_QWORD *)(a4 + 312) + 4 * v97) = *(_DWORD *)((char *)v84 + v98);
                v98 += 4;
                ++v97;
              }
              while (v97 < *(unsigned __int16 *)(a4 + 320));
            }
            v93 = (uint64_t)v83;
            v94 = (uint64_t *)(a4 + 328);
            goto LABEL_95;
          }
          if (!(v240 ^ 0x54534552 | v241))
          {
            v28 = v242;
            v29 = v238;
            v246[0] = v238;
            v30 = *(_DWORD *)v238;
            *(_DWORD *)(a4 + 256) = *(_DWORD *)v238;
            if (v30)
            {
              v31 = (*((_DWORD *)v29 + 1) + 8);
              *(_QWORD *)(a4 + 264) = (char *)v29 + v31;
              v32 = (v31 + v30);
            }
            else
            {
              v32 = 4;
            }
            v99 = *(unsigned __int16 *)((char *)v29 + v32);
            *(_WORD *)(a4 + 280) = v99;
            v100 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (4 * v99) | 1);
            *(_QWORD *)(a4 + 272) = v100;
            if (!v100)
              goto LABEL_130;
            if (*(_WORD *)(a4 + 280))
            {
              v101 = 0;
              v102 = v32 + 2;
              do
              {
                *(_DWORD *)(*(_QWORD *)(a4 + 272) + 4 * v101) = *(_DWORD *)((char *)v29 + v102);
                v102 += 4;
                ++v101;
              }
              while (v101 < *(unsigned __int16 *)(a4 + 280));
            }
            v93 = (uint64_t)v28;
            v94 = (uint64_t *)(a4 + 288);
LABEL_95:
            v27 = ssftriff_reader_DetachChunkData(v93, v94, v246, v90, v37, v38, v39, v40);
            if ((v27 & 0x80000000) != 0)
              return v27;
          }
        }
        else
        {
          v53 = (uint64_t)v238;
          v54 = *v238;
          *(_WORD *)(a4 + 72) = v54;
          v55 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (120 * v54) | 1);
          *(_QWORD *)(a4 + 64) = v55;
          if (!v55)
            goto LABEL_130;
          if (*(_WORD *)(a4 + 72))
          {
            v56 = 0;
            v57 = 2;
            do
            {
              v58 = 120 * v56;
              *(_DWORD *)(v55 + 120 * v56) = *(_DWORD *)(v53 + v57);
              *(_DWORD *)(*(_QWORD *)(a4 + 64) + 120 * v56 + 4) = *(_DWORD *)(v53 + v57 + 4);
              *(_WORD *)(*(_QWORD *)(a4 + 64) + 120 * v56 + 16) = *(_WORD *)(v53 + v57 + 8);
              v59 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (4 * *(unsigned __int16 *)(*(_QWORD *)(a4 + 64) + 120 * v56 + 16)) | 1);
              v60 = *(_QWORD *)(a4 + 64);
              *(_QWORD *)(v60 + 120 * v56 + 8) = v59;
              if (!v59)
                goto LABEL_130;
              v61 = v57 + 10;
              if (*(_WORD *)(v60 + 120 * v56 + 16))
              {
                v62 = 0;
                do
                {
                  *(_DWORD *)(*(_QWORD *)(v60 + v58 + 8) + 4 * v62) = *(unsigned __int16 *)(v53 + v61);
                  v61 += 2;
                  ++v62;
                  v60 = *(_QWORD *)(a4 + 64);
                }
                while (v62 < *(unsigned __int16 *)(v60 + v58 + 16));
              }
              LODWORD(v246[0]) = v61;
              Str = readRULEREGEXES(*(_QWORD *)a4, v53, (unsigned int *)v246, (uint64_t *)(v60 + 120 * v56 + 24));
              if ((Str & 0x80000000) != 0)
                return Str;
              Str = readRULEREGEXES(*(_QWORD *)a4, v53, (unsigned int *)v246, (uint64_t *)(*(_QWORD *)(a4 + 64) + 120 * v56 + 40));
              if ((Str & 0x80000000) != 0)
                return Str;
              v63 = v246[0];
              *(_WORD *)(*(_QWORD *)(a4 + 64) + v58 + 64) = *(_WORD *)(v53 + LODWORD(v246[0]));
              v64 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * *(unsigned __int16 *)(*(_QWORD *)(a4 + 64) + v58 + 64)) | 1);
              v65 = *(_QWORD *)(a4 + 64);
              *(_QWORD *)(v65 + v58 + 56) = v64;
              if (!v64)
                goto LABEL_130;
              if (*(_WORD *)(v65 + 120 * v56 + 64))
              {
                v66 = 0;
                v67 = 0;
                do
                {
                  *(_DWORD *)(*(_QWORD *)(v65 + v58 + 56) + v66) = *(_DWORD *)(v53 + (v63 + v66 + 2));
                  *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a4 + 64) + v58 + 56) + v66 + 4) = *(_DWORD *)(v53
                                                                                                  + (v63 + v66 + 6));
                  ++v67;
                  v65 = *(_QWORD *)(a4 + 64);
                  v66 += 8;
                }
                while (v67 < *(unsigned __int16 *)(v65 + v58 + 64));
                v68 = v63 + v66 + 2;
              }
              else
              {
                v68 = v63 + 2;
              }
              LODWORD(v246[0]) = v68;
              Str = readRULEREGEXES(*(_QWORD *)a4, v53, (unsigned int *)v246, (uint64_t *)(v65 + 120 * v56 + 72));
              if ((Str & 0x80000000) != 0)
                return Str;
              v69 = v246[0];
              *(_WORD *)(*(_QWORD *)(a4 + 64) + v58 + 96) = *(_WORD *)(v53 + LODWORD(v246[0]));
              v70 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * *(unsigned __int16 *)(*(_QWORD *)(a4 + 64) + v58 + 96)) | 1);
              v71 = *(_QWORD *)(a4 + 64);
              *(_QWORD *)(v71 + v58 + 88) = v70;
              if (!v70)
                goto LABEL_130;
              if (*(_WORD *)(v71 + 120 * v56 + 96))
              {
                v72 = 0;
                v73 = 0;
                do
                {
                  *(_DWORD *)(*(_QWORD *)(v71 + v58 + 88) + v72) = *(_DWORD *)(v53 + (v69 + v72 + 2));
                  *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a4 + 64) + v58 + 88) + v72 + 4) = *(_DWORD *)(v53
                                                                                                  + (v69 + v72 + 6));
                  ++v73;
                  v71 = *(_QWORD *)(a4 + 64);
                  v72 += 8;
                }
                while (v73 < *(unsigned __int16 *)(v71 + v58 + 96));
                v74 = v69 + v72 + 2;
              }
              else
              {
                v74 = v69 + 2;
              }
              *(_WORD *)(v71 + v58 + 112) = *(_WORD *)(v53 + v74);
              v75 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * *(unsigned __int16 *)(*(_QWORD *)(a4 + 64) + v58 + 112)) | 1);
              v55 = *(_QWORD *)(a4 + 64);
              *(_QWORD *)(v55 + v58 + 104) = v75;
              if (!v75)
                goto LABEL_130;
              if (*(_WORD *)(v55 + 120 * v56 + 112))
              {
                v76 = 0;
                v77 = 0;
                do
                {
                  *(_DWORD *)(*(_QWORD *)(v55 + v58 + 104) + v76) = *(_DWORD *)(v53 + v74 + v76 + 2);
                  *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a4 + 64) + v58 + 104) + v76 + 4) = *(_DWORD *)(v53 + v74 + v76 + 6);
                  ++v77;
                  v55 = *(_QWORD *)(a4 + 64);
                  v76 += 8;
                }
                while (v77 < *(unsigned __int16 *)(v55 + v58 + 112));
                v57 = v74 + v76 + 2;
              }
              else
              {
                v57 = v74 + 2;
              }
              LODWORD(v246[0]) = v57;
            }
            while (++v56 < (unint64_t)*(unsigned __int16 *)(a4 + 72));
          }
          LODWORD(v27) = 0;
        }
      }
      else
      {
        v45 = v238;
        v46 = *v238;
        *(_WORD *)(a4 + 56) = v46;
        v47 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (16 * v46) | 1);
        *(_QWORD *)(a4 + 48) = v47;
        if (!v47)
          goto LABEL_130;
        if (*(_WORD *)(a4 + 56))
        {
          v48 = 0;
          v49 = 2;
          while (1)
          {
            *(_WORD *)(v47 + 16 * v48 + 8) = *(unsigned __int16 *)((char *)v45 + v49);
            v50 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * *(unsigned __int16 *)(*(_QWORD *)(a4 + 48) + 16 * v48 + 8)) | 1);
            v47 = *(_QWORD *)(a4 + 48);
            *(_QWORD *)(v47 + 16 * v48) = v50;
            if (!v50)
              break;
            if (*(_WORD *)(v47 + 16 * v48 + 8))
            {
              v51 = 0;
              v52 = 0;
              do
              {
                *(_DWORD *)(*(_QWORD *)(v47 + 16 * v48) + v51) = *(_DWORD *)((char *)v45 + v49 + v51 + 2);
                *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a4 + 48) + 16 * v48) + v51 + 4) = *(_DWORD *)((char *)v45
                                                                                                + v49
                                                                                                + v51
                                                                                                + 6);
                ++v52;
                v47 = *(_QWORD *)(a4 + 48);
                v51 += 8;
              }
              while (v52 < *(unsigned __int16 *)(v47 + 16 * v48 + 8));
              v49 += v51 + 2;
            }
            else
            {
              v49 += 2;
            }
            if (++v48 >= (unint64_t)*(unsigned __int16 *)(a4 + 56))
              goto LABEL_42;
          }
LABEL_130:
          v27 = 2313166858;
          goto LABEL_131;
        }
LABEL_42:
        LODWORD(v27) = 0;
      }
    }
    else
    {
      LODWORD(v27) = 0;
      v33 = v238;
      *(_WORD *)(a4 + 16) = *v238;
      *(_WORD *)(a4 + 18) = v33[1];
      *(_WORD *)(a4 + 20) = v33[2];
    }
LABEL_96:
    v103 = ssftriff_reader_CloseChunk((uint64_t)v242);
    if (v103 < 0)
      LODWORD(v27) = v103;
  }
  while ((v27 & 0x80000000) == 0);
  v104 = v27 & 0x1FFF;
  v27 = 2313166858;
  if (v104 == 10)
    return v27;
  ssftriff_reader_ObjClose(v242, v24, v25, v26, v20, v21, v22, v23);
  v242 = 0;
  *(_WORD *)(a4 + 104) = 0;
  *(_DWORD *)(a4 + 22) = 0x10000;
  *(_WORD *)(a4 + 26) = 2;
  *(_WORD *)(a4 + 336) = 0;
  *(_WORD *)(a4 + 88) = 0;
  v105 = *(unsigned __int16 *)(a4 + 72);
  if (!*(_WORD *)(a4 + 72))
  {
    v123 = 0;
    v119 = v230;
    goto LABEL_135;
  }
  v224 = v8;
  v231 = 0;
  v233 = 0;
  v106 = 0;
  v227 = 0;
  v226 = (unsigned __int16 *)(a4 + 104);
  v107 = *(_QWORD *)(a4 + 304);
  v108 = *(_QWORD *)(a4 + 312);
  v109 = *(unsigned int **)(a4 + 64);
  while (2)
  {
    v110 = strlen((const char *)(v107 + *(unsigned int *)(v108 + 4 * v109[1])));
    if (v110 <= (unsigned __int16)v233)
      v111 = v233;
    else
      v111 = v110;
    v233 = v111;
    v112 = (const char *)(v107 + *(unsigned int *)(v108 + 4 * *v109));
    v113 = strlen(v112);
    if (v113 >= 7)
    {
      v115 = v113;
      if (!strncmp(v112, "HYPHEN", 6uLL))
      {
        v117 = v231 + 1;
        v116 = (__int16 *)(a4 + 88);
        ++v231;
LABEL_111:
        *v116 = v117;
      }
      else if (v115 >= 9 && !strncmp(v112, "COMPOUND", 8uLL))
      {
        v116 = (__int16 *)(a4 + 104);
        v117 = ++v227;
        goto LABEL_111;
      }
    }
    v118 = *((unsigned __int16 *)v109 + 8);
    if (v118 > v106)
    {
      *(_WORD *)(a4 + 336) = v118;
      v106 = v118;
      if (v118 >= 0x11)
      {
        log_OutPublic(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 35007, "%s%s", v114, v38, v39, v40, "maximum words");
        return 2313166848;
      }
    }
    v109 += 30;
    if (--v105)
      continue;
    break;
  }
  v119 = v230;
  v8 = v224;
  v120 = v227;
  if (v231)
  {
    v121 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (2 * v231) | 1);
    *(_QWORD *)(a4 + 80) = v121;
    if (!v121)
      goto LABEL_131;
    v120 = *v226;
  }
  if (v120)
  {
    v122 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (2 * v120) | 1);
    *(_QWORD *)(a4 + 96) = v122;
    if (!v122)
    {
LABEL_131:
      v136 = *(_QWORD *)a4;
      goto LABEL_132;
    }
  }
  v123 = *(unsigned __int16 *)(a4 + 72);
  *(_WORD *)(a4 + 88) = 0;
  *(_WORD *)(a4 + 104) = 0;
  if (v123)
  {
    v124 = 0;
    v125 = *(_QWORD *)(a4 + 304);
    v126 = *(_QWORD *)(a4 + 312);
    v127 = *(unsigned int **)(a4 + 64);
    do
    {
      v128 = *v127;
      v127 += 30;
      v129 = (const char *)(v125 + *(unsigned int *)(v126 + 4 * v128));
      v130 = strlen(v129);
      if (v130 >= 7)
      {
        v131 = v130;
        v132 = strncmp(v129, "HYPHEN", 6uLL);
        v133 = (_QWORD *)(a4 + 80);
        v134 = (_WORD *)(a4 + 88);
        if (!v132
          || v131 >= 9
          && (v135 = strncmp(v129, "COMPOUND", 8uLL), v133 = (_QWORD *)(a4 + 96), v134 = (_WORD *)(a4 + 104), !v135))
        {
          *(_WORD *)(*v133 + 2 * (unsigned __int16)(*v134)++) = v124;
        }
      }
      ++v124;
    }
    while (v124 < *(unsigned __int16 *)(a4 + 72));
    v123 = *v226;
    v119 = v230;
  }
  LOWORD(v105) = v233;
LABEL_135:
  log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%d OPEN RULES", v38, v39, v40, v123);
  if (*(_WORD *)(a4 + 104))
  {
    v141 = 0;
    do
      log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"label=%s (%d words)", v138, v139, v140, *(_QWORD *)(a4 + 304)+ *(unsigned int *)(*(_QWORD *)(a4 + 312)+ 4* *(unsigned int *)(*(_QWORD *)(a4 + 64)+ 120 * *(unsigned __int16 *)(*(_QWORD *)(a4 + 96) + 2 * v141++))));
    while (v141 < *(unsigned __int16 *)(a4 + 104));
  }
  log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%d HYPHENATED RULES", v138, v139, v140, *(unsigned __int16 *)(a4 + 88));
  if (*(_WORD *)(a4 + 88))
  {
    v145 = 0;
    do
      log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"label=%s (%d words)", v142, v143, v144, *(_QWORD *)(a4 + 304)+ *(unsigned int *)(*(_QWORD *)(a4 + 312)+ 4* *(unsigned int *)(*(_QWORD *)(a4 + 64)+ 120 * *(unsigned __int16 *)(*(_QWORD *)(a4 + 80) + 2 * v145++))));
    while (v145 < *(unsigned __int16 *)(a4 + 88));
  }
  v246[0] = 0;
  LOWORD(__s) = -1;
  __s2[0] = 0;
  Str = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _QWORD *, char **, char *))(v8 + 96))(v228, v119, "fecfg", "compoundabbrendingstrip", v246, &__s, __s2);
  if ((Str & 0x80000000) != 0)
    return Str;
  *(_WORD *)(a4 + 340) = 0;
  *(_QWORD *)(a4 + 344) = 0;
  if ((unsigned __int16)__s == 1 && v246[0])
  {
    v146 = strchr(*(char **)v246[0], 44);
    if (v146)
    {
      v147 = 0;
      do
      {
        v148 = v147++;
        *(_WORD *)(a4 + 340) = v147;
        v146 = strchr(v146 + 1, 44);
      }
      while (v146);
      v149 = v148 + 2;
    }
    else
    {
      v149 = 1;
    }
    *(_WORD *)(a4 + 340) = v149;
    v150 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (8 * v149) | 1);
    *(_QWORD *)(a4 + 344) = v150;
    if (!v150)
      goto LABEL_131;
    *(_WORD *)(a4 + 340) = 0;
    v151 = *(char **)v246[0];
    v152 = strchr(*(char **)v246[0], __s2[0]);
    if (v152)
    {
      *v152 = 0;
      v151 = *(char **)v246[0];
    }
    if (v151)
    {
      v153 = strchr(v151, 44);
      if (v153)
      {
        v154 = v153;
        do
        {
          *v154 = 0;
          v155 = strlen(v151);
          v156 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (v155 + 1));
          v157 = *(unsigned __int16 *)(a4 + 340);
          *(_QWORD *)(*(_QWORD *)(a4 + 344) + 8 * v157) = v156;
          v158 = *(char **)(*(_QWORD *)(a4 + 344) + 8 * v157);
          if (!v158)
            goto LABEL_131;
          strcpy(v158, v151);
          v151 = v154 + 1;
          ++*(_WORD *)(a4 + 340);
          v154 = strchr(v154 + 1, 44);
        }
        while (v154);
      }
      v159 = strlen(v151);
      v160 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (v159 + 1));
      v161 = *(unsigned __int16 *)(a4 + 340);
      *(_QWORD *)(*(_QWORD *)(a4 + 344) + 8 * v161) = v160;
      v162 = *(char **)(*(_QWORD *)(a4 + 344) + 8 * v161);
      if (!v162)
        goto LABEL_131;
      strcpy(v162, v151);
      ++*(_WORD *)(a4 + 340);
    }
  }
  if (!(_WORD)v105)
  {
LABEL_163:
    *(_WORD *)(a4 + 136) = 0;
    *(_DWORD *)(a4 + 368) = 0;
    v229 = *(unsigned __int16 *)(a4 + 72);
    if (!*(_WORD *)(a4 + 72))
      return 0;
    v225 = v8;
    v165 = 0;
    v166 = 0;
    v167 = 0;
    v168 = *(_QWORD *)(a4 + 64);
    v232 = v168;
    do
    {
      v169 = *(unsigned __int16 *)(v168 + 120 * v166 + 64);
      v234 = v166;
      if (*(_WORD *)(v168 + 120 * v166 + 64))
      {
        v170 = *(_QWORD *)(a4 + 304);
        v171 = *(_QWORD *)(a4 + 312);
        v172 = (unsigned int *)(*(_QWORD *)(v168 + 120 * v166 + 56) + 4);
        do
        {
          if (!strcmp((const char *)(v170 + *(unsigned int *)(v171 + 4 * *(v172 - 1))), "IGTREE"))
          {
            *(_WORD *)(a4 + 136) = ++v165;
            v173 = strlen((const char *)(v170 + *(unsigned int *)(v171 + 4 * *v172)));
            if (v173 > v167)
              v167 = v173;
          }
          v172 += 2;
          --v169;
        }
        while (v169);
      }
      v174 = v232 + 120 * v234;
      v175 = *(unsigned __int16 *)(v174 + 96);
      if (*(_WORD *)(v174 + 96))
      {
        v176 = *(_QWORD *)(a4 + 304);
        v177 = *(_QWORD *)(a4 + 312);
        v178 = (unsigned int *)(*(_QWORD *)(v232 + 120 * v234 + 88) + 4);
        do
        {
          if (!strcmp((const char *)(v176 + *(unsigned int *)(v177 + 4 * *(v178 - 1))), "IGTREE"))
          {
            *(_WORD *)(a4 + 136) = ++v165;
            v179 = strlen((const char *)(v176 + *(unsigned int *)(v177 + 4 * *v178)));
            if (v179 > v167)
              v167 = v179;
          }
          v178 += 2;
          --v175;
        }
        while (v175);
      }
      v180 = v232 + 120 * v234;
      v181 = *(unsigned __int16 *)(v180 + 112);
      if (*(_WORD *)(v180 + 112))
      {
        v182 = *(_QWORD *)(a4 + 304);
        v183 = *(_QWORD *)(a4 + 312);
        v184 = (unsigned int *)(*(_QWORD *)(v232 + 120 * v234 + 104) + 4);
        do
        {
          if (!strcmp((const char *)(v182 + *(unsigned int *)(v183 + 4 * *(v184 - 1))), "IGTREE"))
          {
            *(_WORD *)(a4 + 136) = ++v165;
            v185 = strlen((const char *)(v182 + *(unsigned int *)(v183 + 4 * *v184)));
            if (v185 > v167)
              v167 = v185;
          }
          v184 += 2;
          --v181;
        }
        while (v181);
      }
      v168 = v232;
      v166 = v234 + 1;
    }
    while (v234 + 1 != v229);
    if (!(_WORD)v165)
      return 0;
    *(_DWORD *)(a4 + 116) = 0;
    *(_DWORD *)(a4 + 112) = 0;
    Str = (*(uint64_t (**)(uint64_t, uint64_t, const char *))(v225 + 72))(v228, v230, "compounds_feature_map");
    if ((Str & 0x80000000) == 0)
    {
      Str = (*(uint64_t (**)(uint64_t, uint64_t, const char *, uint64_t))(v225 + 72))(v228, v230, "compounds_feature_key", a4 + 112);
      if ((Str & 0x80000000) == 0)
      {
        DctIgtreeMappings = getDctIgtreeMappings((_DWORD *)a4, v228, v230, v225, a4 + 120);
        if ((DctIgtreeMappings & 0x80000000) == 0)
        {
          v187 = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 20 * *(unsigned __int16 *)(a4 + 136));
          *(_QWORD *)(a4 + 144) = v187;
          if (!v187)
            goto LABEL_243;
          v188 = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 8 * *(unsigned __int16 *)(a4 + 136));
          *(_QWORD *)(a4 + 152) = v188;
          if (!v188)
            goto LABEL_243;
          LODWORD(v189) = *(unsigned __int16 *)(a4 + 136);
          if (*(_WORD *)(a4 + 136))
          {
            v190 = 0;
            do
            {
              *(_QWORD *)(*(_QWORD *)(a4 + 152) + 8 * v190) = heap_Calloc(*(_QWORD **)(a3 + 8), 1, v167 + 1);
              if (!*(_QWORD *)(*(_QWORD *)(a4 + 152) + 8 * v190))
                goto LABEL_243;
              ++v190;
              v189 = *(unsigned __int16 *)(a4 + 136);
            }
            while (v190 < v189);
          }
          v191 = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 8 * v189);
          *(_QWORD *)(a4 + 160) = v191;
          if (!v191)
          {
LABEL_243:
            v137 = *(_QWORD *)(a3 + 32);
            goto LABEL_133;
          }
          if (*(_WORD *)(a4 + 136))
          {
            v192 = 0;
            while (1)
            {
              *(_QWORD *)(*(_QWORD *)(a4 + 160) + 8 * v192) = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 1600);
              if (!*(_QWORD *)(*(_QWORD *)(a4 + 160) + 8 * v192))
                goto LABEL_243;
              ++v192;
              v193 = *(unsigned __int16 *)(a4 + 136);
              if (v192 >= v193)
              {
                v194 = 8 * v193;
                goto LABEL_204;
              }
            }
          }
          v194 = 0;
LABEL_204:
          v196 = heap_Calloc(*(_QWORD **)(a3 + 8), 1, v194);
          *(_QWORD *)(a4 + 168) = v196;
          if (!v196)
            goto LABEL_243;
          if (*(_WORD *)(a4 + 136))
          {
            v197 = 0;
            while (1)
            {
              *(_QWORD *)(*(_QWORD *)(a4 + 168) + 8 * v197) = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 16);
              if (!*(_QWORD *)(*(_QWORD *)(a4 + 168) + 8 * v197))
                goto LABEL_243;
              ++v197;
              v198 = *(unsigned __int16 *)(a4 + 136);
              if (v197 >= v198)
              {
                v199 = 8 * v198;
                goto LABEL_211;
              }
            }
          }
          v199 = 0;
LABEL_211:
          v200 = heap_Calloc(*(_QWORD **)(a3 + 8), 1, v199);
          *(_QWORD *)(a4 + 176) = v200;
          if (!v200)
            goto LABEL_243;
          v201 = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 8 * *(unsigned __int16 *)(a4 + 136));
          *(_QWORD *)(a4 + 184) = v201;
          if (!v201)
            goto LABEL_243;
          LODWORD(v202) = *(unsigned __int16 *)(a4 + 136);
          if (*(_WORD *)(a4 + 136))
          {
            v203 = 0;
            do
            {
              *(_QWORD *)(*(_QWORD *)(a4 + 184) + 8 * v203) = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 8);
              if (!*(_QWORD *)(*(_QWORD *)(a4 + 184) + 8 * v203))
                goto LABEL_243;
              ++v203;
              v202 = *(unsigned __int16 *)(a4 + 136);
            }
            while (v203 < v202);
          }
          if (*(_WORD *)(a4 + 72))
          {
            v204 = 0;
            v205 = 0;
            v206 = *(_QWORD *)(a4 + 64);
            do
            {
              if (*(_WORD *)(v206 + 120 * v204 + 64))
              {
                v207 = 0;
                v208 = 0;
                do
                {
                  v210 = *(_QWORD *)(a4 + 304);
                  v209 = *(_QWORD *)(a4 + 312);
                  v211 = *(_QWORD *)(v206 + 120 * v204 + 56);
                  if (!strcmp((const char *)(v210 + *(unsigned int *)(v209 + 4 * *(unsigned int *)(v211 + v207))), "IGTREE"))
                  {
                    DctIgtreeMappings = setIGTreeInfo(v235, v236, (uint64_t *)a4, (unsigned __int16)v205, (char *)(v210+ *(unsigned int *)(v209 + 4 * *(unsigned int *)(v211 + v207 + 4))), v228, v230, v225);
                    if ((DctIgtreeMappings & 0x80000000) != 0)
                      return DctIgtreeMappings;
                    ++v205;
                    v206 = *(_QWORD *)(a4 + 64);
                  }
                  ++v208;
                  v207 += 8;
                }
                while (v208 < *(unsigned __int16 *)(v206 + 120 * v204 + 64));
              }
              if (*(_WORD *)(v206 + 120 * v204 + 96))
              {
                v212 = 0;
                v213 = 0;
                do
                {
                  v215 = *(_QWORD *)(a4 + 304);
                  v214 = *(_QWORD *)(a4 + 312);
                  v216 = *(_QWORD *)(v206 + 120 * v204 + 88);
                  if (!strcmp((const char *)(v215 + *(unsigned int *)(v214 + 4 * *(unsigned int *)(v216 + v212))), "IGTREE"))
                  {
                    DctIgtreeMappings = setIGTreeInfo(v235, v236, (uint64_t *)a4, (unsigned __int16)v205, (char *)(v215+ *(unsigned int *)(v214 + 4 * *(unsigned int *)(v216 + v212 + 4))), v228, v230, v225);
                    if ((DctIgtreeMappings & 0x80000000) != 0)
                      return DctIgtreeMappings;
                    ++v205;
                    v206 = *(_QWORD *)(a4 + 64);
                  }
                  ++v213;
                  v212 += 8;
                }
                while (v213 < *(unsigned __int16 *)(v206 + 120 * v204 + 96));
              }
              if (*(_WORD *)(v206 + 120 * v204 + 112))
              {
                v217 = 0;
                v218 = 0;
                do
                {
                  v220 = *(_QWORD *)(a4 + 304);
                  v219 = *(_QWORD *)(a4 + 312);
                  v221 = *(_QWORD *)(v206 + 120 * v204 + 104);
                  if (!strcmp((const char *)(v220 + *(unsigned int *)(v219 + 4 * *(unsigned int *)(v221 + v217))), "IGTREE"))
                  {
                    DctIgtreeMappings = setIGTreeInfo(v235, v236, (uint64_t *)a4, (unsigned __int16)v205, (char *)(v220+ *(unsigned int *)(v219 + 4 * *(unsigned int *)(v221 + v217 + 4))), v228, v230, v225);
                    if ((DctIgtreeMappings & 0x80000000) != 0)
                      return DctIgtreeMappings;
                    ++v205;
                    v206 = *(_QWORD *)(a4 + 64);
                  }
                  ++v218;
                  v217 += 8;
                }
                while (v218 < *(unsigned __int16 *)(v206 + 120 * v204 + 112));
              }
              ++v204;
            }
            while (v204 < *(unsigned __int16 *)(a4 + 72));
            LODWORD(v202) = *(unsigned __int16 *)(a4 + 136);
          }
          if ((_DWORD)v202)
          {
            v222 = 0;
            do
              setIGTreeWord2Nindex((char *)a4, (unsigned __int16)v222++);
            while (*(unsigned __int16 *)(a4 + 136) > (unsigned __int16)v222);
          }
        }
        return DctIgtreeMappings;
      }
    }
    return Str;
  }
  v163 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (unsigned __int16)v105 + 11);
  *(_QWORD *)(a4 + 352) = v163;
  v136 = *(_QWORD *)a4;
  if (v163)
  {
    v164 = heap_Calloc(*(_QWORD **)(v136 + 8), 1, (unsigned __int16)v105 + 11);
    *(_QWORD *)(a4 + 360) = v164;
    if (!v164)
      goto LABEL_131;
    goto LABEL_163;
  }
LABEL_132:
  v137 = *(_QWORD *)(v136 + 32);
LABEL_133:
  log_OutPublic(v137, (uint64_t)"FE_POS", 35000, 0, v37, v38, v39, v40, v223);
  return v27;
}

uint64_t getDctIgtreeMappings(_DWORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v10;
  unsigned __int16 v11;
  uint64_t v12;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  unint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  BOOL v25;
  const char *v26;
  char *v27;
  char *v28;
  int v29;
  char *v30;
  int v31;
  char *v32;
  unsigned int v33;
  char v34;
  __int16 v35;
  const char **v36;

  v36 = 0;
  v35 = -1;
  if (a1[92] == 1 || !a1[29])
    return 0;
  v34 = 0;
  v10 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, const char ***, __int16 *, char *))(a4 + 96))(a2, a3, "compounds_feature_map", "numMappings", &v36, &v35, &v34);
  if ((v10 & 0x80000000) != 0)
    return v10;
  if (v35 == 1 && v36)
  {
    v11 = atoi(*v36);
    *(_WORD *)(a5 + 8) = v11;
  }
  else
  {
    v11 = *(_WORD *)(a5 + 8);
  }
  v14 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, (16 * v11) | 1);
  *(_QWORD *)a5 = v14;
  if (!v14)
  {
LABEL_24:
    v12 = 2313166858;
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 35000, 0, v15, v16, v17, v18, v33);
    return v12;
  }
  if (*(_WORD *)(a5 + 8))
  {
    v19 = 0;
    v20 = 0;
    do
    {
      LH_itoa(v20, (char *)&v33 + 1, 0xAu);
      v35 = -1;
      v10 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, char *, const char ***, __int16 *, char *))(a4 + 96))(a2, a3, "compounds_feature_map", (char *)&v33 + 1, &v36, &v35, &v34);
      if ((v10 & 0x80000000) != 0)
        return v10;
      v25 = v35 != 1 || v36 == 0;
      if (v25 || (v26 = *v36, (v27 = strchr((char *)*v36, 43)) == 0))
      {
        log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 35005, 0, v21, v22, v23, v24, v33);
        return 2313166848;
      }
      v28 = v27;
      *v27 = 0;
      v29 = strlen(v26);
      v30 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, (v29 + 1));
      *(_QWORD *)(*(_QWORD *)a5 + v19 + 8) = v30;
      if (!v30)
        goto LABEL_24;
      strcpy(v30, v26);
      v31 = strlen(v28 + 1);
      v32 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, (v31 + 1));
      *(_QWORD *)(*(_QWORD *)a5 + v19) = v32;
      if (!v32)
        goto LABEL_24;
      strcpy(v32, v28 + 1);
      ++v20;
      v19 += 16;
    }
    while (v20 < *(unsigned __int16 *)(a5 + 8));
  }
  v12 = 0;
  a1[92] = 1;
  return v12;
}

uint64_t setIGTreeInfo(_WORD *a1, uint64_t a2, uint64_t *a3, unsigned int a4, char *__src, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v8;
  uint64_t v10;
  char *v12;
  uint64_t v18;
  uint64_t Str;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  char *v32;
  char *v33;
  char *v34;
  unsigned __int16 v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  unint64_t v41;
  char *v42;
  char *v43;
  int v44;
  char *v45;
  unint64_t v46;
  unsigned int v49;
  int v51[2];
  int v52[2];
  _BYTE __c[257];
  _QWORD v54[20];

  v54[17] = *MEMORY[0x1E0C80C00];
  v8 = 2313166855;
  memset(&__c[1], 0, 256);
  if (a3)
  {
    v10 = a3[19];
    if (v10)
    {
      *(_QWORD *)v51 = 0;
      v12 = *(char **)(v10 + 8 * a4);
      if (v12)
      {
        strcpy(v12, __src);
        v18 = *a3;
        *(_QWORD *)v52 = 0;
        memset(v54, 0, 128);
        Str = paramc_ParamGetStr(*(_QWORD *)(v18 + 40), (uint64_t)"langcode", v52);
        if ((Str & 0x80000000) != 0)
          return Str;
        __strcat_chk();
        __strcat_chk();
        Str = brokeraux_ComposeBrokerString(v18, (const char *)v54, 1, 1, *(char **)v52, 0, 0, &__c[1], 0x100uLL);
        if ((Str & 0x80000000) != 0)
          return Str;
        if ((ssftriff_reader_ObjOpen(a1, a2, 2, &__c[1], "IGTR", 1031, (uint64_t *)v51) & 0x80000000) != 0)
        {
          log_OutPublic(*(_QWORD *)(*a3 + 32), (uint64_t)"FE_POS", 35004, 0, v20, v21, v22, v23, v49);
          return 2313166848;
        }
        Str = igtree_Init(a1, a2, *(uint64_t *)v51, *(char **)(a3[20] + 8 * a4));
        if ((Str & 0x80000000) != 0)
          return Str;
        Str = ssftriff_reader_ObjClose(*(_QWORD **)v51, v24, v25, v26, v27, v28, v29, v30);
        if ((Str & 0x80000000) != 0)
          return Str;
        v31 = *(_QWORD *)(a3[21] + 8 * a4);
        v54[0] = 0;
        LOWORD(v52[0]) = -1;
        if (*((_DWORD *)a3 + 28))
        {
          __c[0] = 0;
          Str = (*(uint64_t (**)(uint64_t, uint64_t, const char *, char *, _QWORD *, int *, _BYTE *))(a8 + 96))(a6, a7, "compounds_feature_key", __src, v54, v52, __c);
          if ((Str & 0x80000000) != 0)
            return Str;
          if (LOWORD(v52[0]) == 1 && v54[0])
          {
            v32 = *(char **)v54[0];
            v33 = strchr(*(char **)v54[0], __c[0]);
            v34 = v33;
            if (v33)
              *v33 = 0;
            v35 = atoi(v32);
            *(_WORD *)(v31 + 8) = v35;
            v36 = heap_Calloc(*(_QWORD **)(*a3 + 8), 1, (8 * v35) | 1u);
            *(_QWORD *)v31 = v36;
            if (!v36)
            {
LABEL_33:
              log_OutPublic(*(_QWORD *)(*a3 + 32), (uint64_t)"FE_POS", 35000, 0, v37, v38, v39, v40, v49);
              return 2313166858;
            }
            if (*(_WORD *)(v31 + 8))
            {
              v41 = 0;
              if (v34)
                v32 = v34 + 1;
              do
              {
                v42 = strchr(v32, __c[0]);
                v43 = v42;
                if (v42)
                  *v42 = 0;
                v44 = strlen(v32);
                *(_QWORD *)(*(_QWORD *)v31 + 8 * v41) = heap_Calloc(*(_QWORD **)(*a3 + 8), 1, (v44 + 1));
                v45 = *(char **)(*(_QWORD *)v31 + 8 * v41);
                if (!v45)
                  goto LABEL_33;
                strcpy(v45, v32);
                ++v41;
                v46 = *(unsigned __int16 *)(v31 + 8);
                if ((_DWORD)v41 != (_DWORD)v46 && v43 != 0)
                  v32 = v43 + 1;
              }
              while (v41 < v46);
            }
          }
        }
        *(_QWORD *)(a3[22] + 8 * a4) = heap_Calloc(*(_QWORD **)(*a3 + 8), 1, (2 * *(unsigned __int16 *)(*(_QWORD *)(a3[21] + 8 * a4) + 8)) | 1);
        if (!*(_QWORD *)(a3[22] + 8 * a4))
          return 2313166858;
        return setIgtreeFVLookups((uint64_t)a3, *(uint64_t **)(a3[23] + 8 * a4), a4);
      }
    }
  }
  return v8;
}

char *setIGTreeWord2Nindex(char *result, unsigned int a2)
{
  uint64_t v2;
  char *v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  unsigned int *i;
  const char *v8;
  char *v9;
  unint64_t v10;
  int v11;
  unsigned __int16 v12;

  v2 = *((unsigned __int16 *)result + 20);
  if (*((_WORD *)result + 20))
  {
    v3 = result;
    v4 = *((_QWORD *)result + 38);
    v5 = *((_QWORD *)result + 39);
    v6 = a2;
    for (i = (unsigned int *)(*((_QWORD *)result + 4) + 4); ; i += 2)
    {
      v8 = (const char *)(v4 + *(unsigned int *)(v5 + 4 * *(i - 1)));
      result = (char *)strncmp(v8, "IGTREE_", 7uLL);
      if (!(_DWORD)result)
      {
        result = (char *)strcmp(v8 + 7, *(const char **)(*((_QWORD *)v3 + 19) + 8 * v6));
        if (!(_DWORD)result)
          break;
      }
      if (!--v2)
        return result;
    }
    v9 = (char *)(v4 + *(unsigned int *)(v5 + 4 * *i));
    result = strchr(v9, 95);
    v10 = (unint64_t)result;
    if (result)
    {
      v11 = 0;
      do
      {
        *(_BYTE *)v10 = 0;
        v12 = v11 + 1;
        *(_WORD *)(*((_QWORD *)v3 + 18) + 20 * v6 + 2 * (unsigned __int16)v11) = atoi(v9);
        v9 = (char *)(v10 + 1);
        result = strchr((char *)(v10 + 1), 95);
        v10 = (unint64_t)result;
        ++v11;
      }
      while (result);
      v10 = v12;
    }
    if (*v9)
    {
      result = (char *)atoi(v9);
      *(_WORD *)(*((_QWORD *)v3 + 18) + 20 * v6 + 2 * v10) = (_WORD)result;
    }
  }
  return result;
}

uint64_t statcomp_add2Str(uint64_t a1, const char **a2, _WORD *a3, char *__s)
{
  size_t v8;
  uint64_t v9;
  char *v10;
  size_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unsigned int v19;

  v8 = strlen(__s);
  v9 = (unsigned __int16)*a3;
  v10 = (char *)*a2;
  v11 = strlen(*a2);
  if (v8 >= v9 - v11)
  {
    if ((unsigned __int16)(v8 - v9 + v11) <= 0x80u)
      v12 = 128;
    else
      v12 = (unsigned __int16)(v8 - v9 + v11);
    v13 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v10, v9 + v12 + 1);
    if (!v13)
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v14, v15, v16, v17, v19);
      return 2313166858;
    }
    v10 = (char *)v13;
    *a2 = (const char *)v13;
    *a3 += v12;
  }
  if (*v10)
    strcat(v10, __s);
  else
    strcpy(v10, __s);
  return 0;
}

uint64_t matchSTATCOMPCONTEXT_TRule(uint64_t a1, const char **a2, _WORD *a3, char *__s, uint64_t a5, uint64_t a6, uint64_t *a7, unsigned int *a8, int *a9, _WORD *a10, unsigned int a11)
{
  uint64_t *v11;
  uint64_t v12;
  int *v14;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  unint64_t v22;
  uint64_t v23;
  unsigned int *v24;
  uint64_t v25;
  int v26;
  uint64_t v27;
  uint64_t v28;
  int v29;
  int v30;
  int v31;
  int v32;
  char *v33;
  const char *v34;
  unsigned __int16 v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  unsigned int v39;
  const char *v40;
  uint64_t v41;
  uint64_t v42;
  int v43;
  const char *v44;
  uint64_t v46;
  uint64_t v47;
  char *v48;
  const char *v49;
  uint64_t v50;
  uint64_t *v51;
  int v53[30];
  uint64_t v54;

  v11 = a7;
  v12 = a6;
  v14 = a9;
  v54 = *MEMORY[0x1E0C80C00];
  *a9 = 0;
  *(unsigned int *)((char *)a8 + 6) = 0;
  if (*(_WORD *)(a5 + 8))
  {
    v20 = logSTATCOMPCONTEXT_TRule(a2, a3, __s, (uint64_t *)a5, a7);
    if ((v20 & 0x80000000) != 0)
      return v20;
    log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"         %s %s", v17, v18, v19, a1);
    **a2 = 0;
  }
  else
  {
    v20 = 0;
  }
  if (!*((_WORD *)v11 + 4))
  {
    v43 = 1;
    goto LABEL_75;
  }
  v21 = 0;
  v22 = 0;
  v23 = a11;
  v24 = a8;
  v50 = v12;
  v51 = v11;
  while (1)
  {
    v25 = *v11;
    v26 = *((unsigned __int16 *)v24 + 2);
    if (*(_WORD *)(a5 + 8))
    {
      v27 = v12;
      v28 = v23;
      log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           regex %d", a6, (uint64_t)a7, (uint64_t)a8, *(unsigned __int16 *)(v25 + v21 + 2));
      v29 = *(_BYTE *)(v25 + v21 + 4) & 1;
      if (*(unsigned __int16 *)(a5 + 8) >= 2u)
      {
        v30 = *(_BYTE *)(v25 + v21 + 4) & 1;
        log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           ruleDef[domain=%s(%d) wordIdx=%d left_window=%d right_window=%d] defMapIdx=%s(%d) bNegateMatch=%d", a6, (uint64_t)a7, (uint64_t)a8, (uint64_t)(&STATCOMPDOMAIN2STRING)[*a8]);
        v29 = v30;
      }
      v23 = v28;
      v12 = v27;
      v24 = a8;
    }
    else
    {
      v29 = *(_BYTE *)(v25 + v21 + 4) & 1;
    }
    if (*v24 == 2)
    {
      v31 = *(unsigned __int16 *)(v25 + v21);
      if (v31 == 2)
      {
        v32 = v29;
        v33 = *(char **)(v12 + 40);
        if (!v33)
        {
          v34 = "           ERROR : no TOK string to match";
          goto LABEL_48;
        }
      }
      else if (v31 == 1)
      {
        v32 = v29;
        v33 = *(char **)(v12 + 32);
        if (!v33)
          goto LABEL_47;
      }
      else
      {
        if (*(_WORD *)(v25 + v21))
        {
LABEL_25:
          if (!*(_WORD *)(a5 + 8))
          {
            v20 = 0;
            if (!v29)
              goto LABEL_66;
            goto LABEL_54;
          }
          v32 = v29;
          log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           NULL STR FOUND - no match", a6, (uint64_t)a7, (uint64_t)a8, 0);
          goto LABEL_49;
        }
        v32 = v29;
        v33 = *(char **)(v12 + 24);
        if (!v33)
        {
          v34 = "           ERROR : no ORT string to match";
          goto LABEL_48;
        }
      }
    }
    else
    {
      if (*v24 != 1)
        goto LABEL_25;
      if ((_DWORD)v23)
      {
        if ((_DWORD)v23 == 2)
        {
          if (v26 + *((unsigned __int16 *)v24 + 4) + 1 >= *(unsigned __int16 *)(v12 + 8))
            goto LABEL_67;
        }
        else if ((_DWORD)v23 != 1 || ~*((unsigned __int16 *)v24 + 3) + v26 < 0)
        {
LABEL_67:
          v20 = 0;
          if (!*(_WORD *)(a5 + 8))
            goto LABEL_73;
          v44 = "           context not found. rule not applicable. RETURN LH_FALSE";
          goto LABEL_72;
        }
      }
      v33 = *(char **)(*(_QWORD *)v12 + 96 * *((unsigned __int16 *)v24 + 2) + 32);
      if (!v33)
      {
        v32 = v29;
LABEL_47:
        v34 = "           ERROR : no POS string to match";
LABEL_48:
        log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)v34, a6, (uint64_t)a7, (uint64_t)a8, 0);
LABEL_49:
        v20 = 0;
        goto LABEL_50;
      }
      v32 = v29;
      v34 = "           ERROR : expected POS(idx) rule";
      if (*(unsigned __int16 *)(v25 + v21) != *(unsigned __int16 *)(a5 + 24))
        goto LABEL_48;
    }
    if (*(_WORD *)(a5 + 8))
      log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           STR=\"%s\"", a6, (uint64_t)a7, (uint64_t)a8, (uint64_t)v33);
    v35 = strlen(v33);
    if (!v35)
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"invalid arg for regex", v36, v37, v38, 0);
      return 2313166855;
    }
    v39 = nuance_pcre_exec(*(_QWORD **)(a5 + 200), *(_QWORD *)(a5 + 208), *(_QWORD *)(a5 + 224)+ *(unsigned int *)(*(_QWORD *)(a5 + 232) + 4 * *(unsigned __int16 *)(v25 + v21 + 2)), 0, v33, v35, 0, 0, v53, 30);
    if ((v39 & 0x80000000) == 0)
      break;
    v41 = nuance_pcre_ErrorToLhError(v39);
    v20 = v41;
    if (v41 >> 20 == 2213)
    {
      if ((v41 & 0x1FFF) != 0x14)
      {
        if ((v41 & 0x1FFF) == 0xA)
        {
          v46 = *(_QWORD *)(*(_QWORD *)a5 + 32);
          v47 = 11002;
          v48 = 0;
        }
        else
        {
          v46 = *(_QWORD *)(*(_QWORD *)a5 + 32);
          v49 = "lhError";
          v48 = "%s%x";
          v47 = 11027;
        }
        log_OutPublic(v46, (uint64_t)"FE_POS", v47, v48, v42, a6, (uint64_t)a7, (uint64_t)a8, v49);
        return v20;
      }
      goto LABEL_60;
    }
    v12 = v50;
    v11 = v51;
    if ((v41 & 0x80000000) != 0)
      return v20;
LABEL_50:
    if (*(_WORD *)(a5 + 8))
    {
      log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           REGEX FAILED", a6, (uint64_t)a7, (uint64_t)a8, 0);
      if (!v32)
      {
        v43 = *(unsigned __int16 *)(a5 + 8);
        if (!*(_WORD *)(a5 + 8))
          goto LABEL_74;
        v44 = "           return LH_FALSE";
LABEL_72:
        v14 = a9;
        log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)v44, a6, (uint64_t)a7, (uint64_t)a8, 0);
        v43 = 0;
        goto LABEL_75;
      }
    }
    else if (!v32)
    {
LABEL_66:
      v43 = 0;
      goto LABEL_74;
    }
LABEL_54:
    *a10 = *(_WORD *)(v25 + v21 + 2);
    v40 = "           negate match - return LH_TRUE";
    if (*(_WORD *)(a5 + 8))
      goto LABEL_55;
LABEL_56:
    ++v22;
    v21 += 6;
    if (v22 >= *((unsigned __int16 *)v11 + 4))
    {
      v43 = 1;
      goto LABEL_74;
    }
  }
  if (!v39)
  {
LABEL_60:
    v20 = 0;
    v12 = v50;
    v11 = v51;
    goto LABEL_50;
  }
  if (*(_WORD *)(a5 + 8))
    log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           REGEX FIRED", a6, (uint64_t)a7, (uint64_t)a8, 0);
  v11 = v51;
  v20 = 0;
  if (!v32)
  {
    *a10 = *(_WORD *)(v25 + v21 + 2);
    v40 = "           return LH_TRUE";
    v12 = v50;
    if (!*(_WORD *)(a5 + 8))
      goto LABEL_56;
LABEL_55:
    log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)v40, a6, (uint64_t)a7, (uint64_t)a8, 0);
    goto LABEL_56;
  }
  if (*(_WORD *)(a5 + 8))
  {
    v44 = "           negate match - return LH_FALSE";
    goto LABEL_72;
  }
LABEL_73:
  v43 = 0;
LABEL_74:
  v14 = a9;
LABEL_75:
  *v14 = v43;
  return v20;
}

uint64_t logSTATCOMPCONTEXT_TRule(const char **a1, _WORD *a2, char *__s, uint64_t *a4, uint64_t *a5)
{
  uint64_t v10;
  unint64_t v11;
  uint64_t v12;
  unsigned __int16 *v13;
  uint64_t result;

  if (!*((_WORD *)a5 + 4))
    return 0;
  v10 = 0;
  v11 = 0;
  while (1)
  {
    v12 = *a5;
    v13 = (unsigned __int16 *)(*a5 + v10);
    if (*((_BYTE *)v13 + 4))
    {
      if ((v13[2] & 1) != 0)
        *(_WORD *)__s = 33;
      result = statcomp_add2Str(*a4, a1, a2, __s);
      if ((result & 0x80000000) != 0)
        break;
    }
    result = statcomp_add2Str(*a4, a1, a2, "[");
    if ((result & 0x80000000) != 0)
      break;
    result = statcomp_add2Str(*a4, a1, a2, (char *)(a4[38] + *(unsigned int *)(a4[39] + 4 * *v13)));
    if ((result & 0x80000000) != 0)
      break;
    sprintf(__s, " %d(", *(unsigned __int16 *)(v12 + v10 + 2));
    result = statcomp_add2Str(*a4, a1, a2, __s);
    if ((result & 0x80000000) != 0)
      break;
    result = statcomp_add2Str(*a4, a1, a2, (char *)(a4[33] + *(unsigned int *)(a4[34] + 4 * *(unsigned __int16 *)(v12 + v10 + 2))));
    if ((result & 0x80000000) != 0)
      break;
    result = statcomp_add2Str(*a4, a1, a2, ")] ");
    if ((result & 0x80000000) != 0)
      break;
    ++v11;
    v10 += 6;
    if (v11 >= *((unsigned __int16 *)a5 + 4))
      return 0;
  }
  return result;
}

uint64_t statcomp_matchRule(int a1, const char **a2, _WORD *a3, char *__s, uint64_t a5, uint64_t a6, unsigned int *a7, uint64_t a8, int *a9)
{
  uint64_t v16;
  uint64_t *v17;
  uint64_t *v18;
  uint64_t matched;
  int v20;
  uint64_t *v21;
  uint64_t *v22;
  __int16 v24;
  int v25;

  v25 = 1;
  if (*(_WORD *)(a5 + 8))
  {
    if (!a1)
      goto LABEL_14;
    if (*(_QWORD *)a8)
    {
      v16 = logSTATCOMPCONTEXT_TRule(a2, a3, __s, (uint64_t *)a5, *(uint64_t **)a8);
      if ((v16 & 0x80000000) != 0)
        return v16;
    }
    *(_DWORD *)__s = 2121504;
    v16 = statcomp_add2Str(*(_QWORD *)a5, a2, a3, __s);
    if ((v16 & 0x80000000) != 0)
      return v16;
    v17 = *(uint64_t **)(a8 + 8);
    if (v17)
    {
      v16 = logSTATCOMPCONTEXT_TRule(a2, a3, __s, (uint64_t *)a5, v17);
      if ((v16 & 0x80000000) != 0)
        return v16;
    }
    *(_DWORD *)__s = 2121504;
    v16 = statcomp_add2Str(*(_QWORD *)a5, a2, a3, __s);
    if ((v16 & 0x80000000) != 0)
      return v16;
    v18 = *(uint64_t **)(a8 + 16);
    if (v18)
    {
      matched = logSTATCOMPCONTEXT_TRule(a2, a3, __s, (uint64_t *)a5, v18);
      if ((matched & 0x80000000) != 0)
        return matched;
    }
    else
    {
LABEL_14:
      matched = 0;
    }
    log_OutText(*(_QWORD *)(*(_QWORD *)a5 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"       <%s>", a6, (uint64_t)a7, a8, (uint64_t)*a2);
    **a2 = 0;
  }
  else
  {
    matched = 0;
  }
  *a9 = 0;
  if (*(_QWORD *)a8)
  {
    matched = matchSTATCOMPCONTEXT_TRule((uint64_t)"LEFT", a2, a3, __s, a5, a6, *(uint64_t **)a8, a7, &v25, &v24, 1u);
    if ((matched & 0x80000000) != 0)
      return matched;
    v20 = v25;
    if (v25 != 1)
      goto LABEL_26;
  }
  v21 = *(uint64_t **)(a8 + 8);
  if (v21)
  {
    v25 = 0;
    matched = matchSTATCOMPCONTEXT_TRule((uint64_t)"CUR", a2, a3, __s, a5, a6, v21, a7, &v25, &v24, 0);
    if ((matched & 0x80000000) != 0)
      return matched;
    v20 = v25;
    if (v25 != 1)
    {
LABEL_26:
      *a9 = v20;
      return matched;
    }
  }
  v22 = *(uint64_t **)(a8 + 16);
  if (!v22)
  {
    v20 = 1;
    goto LABEL_26;
  }
  v25 = 0;
  matched = matchSTATCOMPCONTEXT_TRule((uint64_t)"RIGHT", a2, a3, __s, a5, a6, v22, a7, &v25, &v24, 2u);
  if ((matched & 0x80000000) == 0)
  {
    v20 = v25;
    goto LABEL_26;
  }
  return matched;
}

uint64_t readRULEREGEXES(uint64_t a1, uint64_t a2, unsigned int *a3, uint64_t *a4)
{
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t *v17;
  uint64_t result;
  unsigned int v19;

  v8 = *(unsigned __int16 *)(a2 + *a3);
  *((_WORD *)a4 + 4) = v8;
  *a3 += 2;
  v9 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (24 * v8) | 1);
  *a4 = v9;
  if (v9)
  {
    v14 = 0;
    v15 = -1;
    while (++v15 < (unint64_t)*((unsigned __int16 *)a4 + 4))
    {
      v16 = *a4;
      v17 = (uint64_t *)(*a4 + v14);
      result = readCONTEXT_0(a1, a2, a3, v17);
      if ((result & 0x80000000) == 0)
      {
        result = readCONTEXT_0(a1, a2, a3, v17 + 1);
        if ((result & 0x80000000) == 0)
        {
          result = readCONTEXT_0(a1, a2, a3, (uint64_t *)(v16 + v14 + 16));
          v14 += 24;
          if ((result & 0x80000000) == 0)
            continue;
        }
      }
      return result;
    }
    return 0;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v10, v11, v12, v13, v19);
    return 2313166858;
  }
}

uint64_t readCONTEXT_0(uint64_t a1, uint64_t a2, unsigned int *a3, uint64_t *a4)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unint64_t v18;
  unsigned int v19;
  unsigned int v20;
  unsigned int v21;
  unsigned int v22;
  uint64_t v23;
  unsigned int v25;

  v4 = *a3;
  v5 = *(unsigned __int16 *)(a2 + v4);
  *a3 = v4 + 2;
  if (!v5)
    return 0;
  v10 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 17);
  if (!v10)
  {
    v23 = 2313166858;
LABEL_11:
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v11, v12, v13, v14, v25);
    return v23;
  }
  v15 = v10;
  *(_WORD *)(v10 + 8) = v5;
  v16 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (6 * v5) | 1);
  *(_QWORD *)v15 = v16;
  if (!v16)
  {
    v23 = 2313166858;
    heap_Free(*(_QWORD **)(a1 + 8), v15);
    goto LABEL_11;
  }
  if (*(_WORD *)(v15 + 8))
  {
    v17 = 0;
    v18 = 0;
    v19 = *a3;
    do
    {
      *(_WORD *)(v16 + v17) = *(_WORD *)(a2 + v19);
      v20 = *a3 + 2;
      *a3 = v20;
      *(_WORD *)(*(_QWORD *)v15 + v17 + 2) = *(_WORD *)(a2 + v20);
      v21 = *a3;
      v22 = *a3 + 2;
      *a3 = v22;
      LOBYTE(v22) = *(_BYTE *)(a2 + v22);
      v19 = v21 + 4;
      *a3 = v19;
      v16 = *(_QWORD *)v15;
      *(_BYTE *)(*(_QWORD *)v15 + v17 + 4) = v22;
      ++v18;
      v17 += 6;
    }
    while (v18 < *(unsigned __int16 *)(v15 + 8));
  }
  v23 = 0;
  *a4 = v15;
  return v23;
}

uint64_t setIgtreeFVLookups(uint64_t a1, uint64_t *a2, unsigned int a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  char *v14;
  __int16 v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  const char *v22;
  unsigned int v24;
  int v25;

  v6 = *(_QWORD *)(*(_QWORD *)(a1 + 160) + 8 * a3);
  v7 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, 12 * *(unsigned __int8 *)(v6 + 1296) - 11);
  *a2 = v7;
  if (!v7)
  {
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 35000, 0, v8, v9, v10, v11, v24);
    return 2313166858;
  }
  if (*(unsigned __int8 *)(v6 + 1296) < 2u)
    return 0;
  v12 = v7;
  v13 = 0;
  v25 = 0;
  while (1)
  {
    v14 = *(char **)(*(_QWORD *)(v6 + 1312) + 8 * v13);
    if (!strncmp(v14, "N1_", 3uLL))
    {
      v15 = 1;
    }
    else if (!strncmp(v14, "N2_", 3uLL))
    {
      v15 = 2;
    }
    else
    {
      v15 = 3;
      if (strncmp(v14, "N3_", 3uLL))
      {
        if (!strncmp(v14, "N4_", 3uLL))
        {
          v15 = 4;
        }
        else if (!strncmp(v14, "N5_", 3uLL))
        {
          v15 = 5;
        }
        else if (!strncmp(v14, "N6_", 3uLL))
        {
          v15 = 6;
        }
        else if (!strncmp(v14, "N7_", 3uLL))
        {
          v15 = 7;
        }
        else if (!strncmp(v14, "N8_", 3uLL))
        {
          v15 = 8;
        }
        else if (!strncmp(v14, "N9_", 3uLL))
        {
          v15 = 9;
        }
        else
        {
          if (strncmp(v14, "N10_", 4uLL))
            goto LABEL_24;
          v15 = 10;
        }
      }
    }
    *(_WORD *)(v12 + 12 * v13) = v15;
LABEL_24:
    if (statcomp_isDynamicFeature(v14, (_WORD *)&v25 + 1) != 1)
      break;
    v12 = *a2;
    *(_DWORD *)(*a2 + 12 * v13 + 4) = 0;
LABEL_31:
    *(_WORD *)(v12 + 12 * v13++ + 8) = HIWORD(v25);
    if (*(unsigned __int8 *)(v6 + 1296) - 1 <= (unsigned __int16)v13)
      return 0;
  }
  if (statcomp_isDctFeature(*(char **)(*(_QWORD *)(v6 + 1312) + 8 * v13), (_WORD *)&v25 + 1, *(uint64_t **)(*(_QWORD *)(a1 + 168) + 8 * a3)) == 1)
  {
    v12 = *a2;
    *(_DWORD *)(*a2 + 12 * v13 + 4) = 1;
    goto LABEL_31;
  }
  if (statcomp_isDctMappedFeature(*(char **)(*(_QWORD *)(v6 + 1312) + 8 * v13), &v25, (unsigned __int16 *)(a1 + 120)) != 1)
  {
    v20 = 2313166848;
    v21 = *(_QWORD *)(*(_QWORD *)a1 + 32);
    v22 = "featurename";
    goto LABEL_36;
  }
  *(_DWORD *)(*a2 + 12 * v13 + 4) = 2;
  if (statcomp_isDctFeature(*(char **)(*(_QWORD *)(a1 + 120) + 16 * (unsigned __int16)v25), (_WORD *)&v25 + 1, *(uint64_t **)(*(_QWORD *)(a1 + 168) + 8 * a3)) == 1)
  {
    v12 = *a2;
    goto LABEL_31;
  }
  v20 = 2313166848;
  v21 = *(_QWORD *)(*(_QWORD *)a1 + 32);
  v22 = "featurename (mapped)";
LABEL_36:
  log_OutPublic(v21, (uint64_t)"FE_POS", 35006, "%s%s", v16, v17, v18, v19, v22);
  return v20;
}

uint64_t statpos_igtrees_getBrkStrs(uint64_t a1, char *a2, char *a3, unint64_t a4)
{
  uint64_t result;
  int v9[2];

  *(_QWORD *)v9 = 0;
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", v9);
  if ((result & 0x80000000) == 0)
  {
    result = brokeraux_ComposeBrokerString(a1, "OOVigtree", 1, 1, *(char **)v9, 0, 0, a2, a4);
    if ((result & 0x80000000) == 0)
      return brokeraux_ComposeBrokerString(a1, "KNOWNigtree", 1, 1, *(char **)v9, 0, 0, a3, a4);
  }
  return result;
}

uint64_t statpos_igtrees_load(_WORD *a1, uint64_t a2, uint64_t a3, const char *a4, uint64_t *a5)
{
  uint64_t BrkStrs;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  char *v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  unsigned int v39;
  int v40[2];
  char v41[256];
  char v42[256];
  uint64_t v43;

  v43 = *MEMORY[0x1E0C80C00];
  *(_QWORD *)v40 = 0;
  BrkStrs = statpos_igtrees_getBrkStrs(a3, v42, v41, 0x100uLL);
  if ((BrkStrs & 0x80000000) != 0)
    return BrkStrs;
  *a5 = 0;
  v11 = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 536);
  if (!v11)
  {
    v36 = 2313166858;
    v37 = *(_QWORD *)(a3 + 32);
    v21 = 0;
LABEL_16:
    log_OutPublic(v37, (uint64_t)"FE_POS", 35000, v21, v12, v13, v14, v15, v39);
    return v36;
  }
  v16 = v11;
  strcpy((char *)(v11 + 24), a4);
  if ((ssftriff_reader_ObjOpen(a1, a2, 2, v41, "IGTR", 1031, (uint64_t *)v40) & 0x80000000) != 0)
  {
    *(_QWORD *)(v16 + 8) = 0;
    log_OutPublic(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 63000, "%s%x", v17, v18, v19, v20, "treename:");
    return 2313166848;
  }
  v21 = (char *)heap_Calloc(*(_QWORD **)(a3 + 8), 1, 1600);
  *(_QWORD *)(v16 + 8) = v21;
  if (!v21)
  {
LABEL_15:
    v36 = 2313166858;
    v37 = *(_QWORD *)(a3 + 32);
    goto LABEL_16;
  }
  BrkStrs = igtree_Init(a1, a2, *(uint64_t *)v40, v21);
  if ((BrkStrs & 0x80000000) != 0)
    return BrkStrs;
  BrkStrs = ssftriff_reader_ObjClose(*(_QWORD **)v40, v22, v23, v24, v25, v26, v27, v28);
  if ((BrkStrs & 0x80000000) != 0)
    return BrkStrs;
  if ((ssftriff_reader_ObjOpen(a1, a2, 2, v42, "IGTR", 1031, (uint64_t *)v40) & 0x80000000) == 0)
  {
    v21 = (char *)heap_Calloc(*(_QWORD **)(a3 + 8), 1, 1600);
    *(_QWORD *)v16 = v21;
    if (v21)
    {
      BrkStrs = igtree_Init(a1, a2, *(uint64_t *)v40, v21);
      if ((BrkStrs & 0x80000000) == 0)
      {
        v36 = ssftriff_reader_ObjClose(*(_QWORD **)v40, v29, v30, v31, v32, v33, v34, v35);
        if ((v36 & 0x80000000) != 0)
          return v36;
        goto LABEL_19;
      }
      return BrkStrs;
    }
    goto LABEL_15;
  }
  v36 = 0;
  *(_QWORD *)v16 = 0;
  *(_DWORD *)(v16 + 16) = 1;
LABEL_19:
  if (*(_QWORD *)(v16 + 8) || *(_QWORD *)v16)
    *(_DWORD *)(v16 + 20) = 1;
  *a5 = v16;
  return v36;
}

uint64_t statpos_igtrees_ObjcClose(_WORD *a1, int a2, uint64_t a3)
{
  uint64_t result;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;

  v11 = 0;
  result = InitRsrcFunction(a1, a2, &v11);
  if ((result & 0x80000000) == 0)
    return statpos_igtrees_unload(v11, *(uint64_t **)(a3 + 32), v5, v6, v7, v8, v9, v10);
  return result;
}

uint64_t statpos_igtrees_unload(uint64_t a1, uint64_t *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;

  v10 = *a2;
  if (v10)
  {
    v11 = igtree_Deinit(a1, v10, a3, a4, a5, a6, a7, a8);
    if ((v11 & 0x80000000) != 0)
      return v11;
    heap_Free(*(_QWORD **)(a1 + 8), *a2);
    *a2 = 0;
  }
  else
  {
    v11 = 0;
  }
  v12 = a2[1];
  if (!v12)
  {
LABEL_8:
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)a2);
    return v11;
  }
  v11 = igtree_Deinit(a1, v12, a3, a4, a5, a6, a7, a8);
  if ((v11 & 0x80000000) == 0)
  {
    heap_Free(*(_QWORD **)(a1 + 8), a2[1]);
    a2[1] = 0;
    goto LABEL_8;
  }
  return v11;
}

uint64_t statpos_igtrees_ObjcLoad(_WORD *a1, uint64_t a2, const char *a3, uint64_t a4, uint64_t a5)
{
  uint64_t result;
  _BYTE v11[408];
  const void *v12;

  v12 = 0;
  result = InitRsrcFunction(a1, a2, &v12);
  if ((result & 0x80000000) == 0)
  {
    memcpy(v11, v12, sizeof(v11));
    *(_OWORD *)&v11[32] = *(_OWORD *)(a5 + 32);
    return statpos_igtrees_load(a1, a2, (uint64_t)v11, a3, (uint64_t *)(a4 + 32));
  }
  return result;
}

uint64_t statpos_igtrees_label(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unsigned __int16 v8;
  uint64_t v9;
  uint64_t *v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t inited;
  unint64_t v21;
  uint64_t v22;
  uint64_t features;
  uint64_t v24;
  uint64_t v25;
  int v26;
  const char *v27;
  unsigned __int16 v28;
  char *v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  unsigned __int16 v41;
  char *v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  char *v46;
  int v47;
  unsigned __int16 v48;
  char *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  char *v53;
  int v54;
  unsigned int v56;
  _WORD *v57;
  const char **v58;
  char *__s;
  uint64_t v60;
  uint64_t v61;

  v60 = 0;
  v61 = 0;
  __s = 0;
  v8 = *(unsigned __int8 *)(*(_QWORD *)(a4 + 8) + 1296) - 1;
  if (!*(_DWORD *)(a4 + 16) && *(unsigned __int8 *)(*(_QWORD *)a4 + 1296) - 1 > v8)
    v8 = *(unsigned __int8 *)(*(_QWORD *)a4 + 1296) - 1;
  HIDWORD(v61) = 0;
  v9 = statpos_fv_new(a1, v8, &v60);
  if ((v9 & 0x80000000) != 0)
  {
    inited = v9;
LABEL_44:
    crf_mde_seg_fv_dealloc((_QWORD *)a1, (uint64_t)&v60);
    return inited;
  }
  v10 = (uint64_t *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * v8);
  if (!v10)
  {
    inited = 2313166858;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v11, v12, v13, v14, v56);
    goto LABEL_44;
  }
  v15 = v10;
  inited = initFeatureVector(a1, v10, v8);
  if ((inited & 0x80000000) == 0 && *(_WORD *)(a3 + 8))
  {
    v21 = 0;
    v57 = (_WORD *)(a3 + 96);
    v58 = (const char **)(a3 + 80);
    v22 = 112;
    do
    {
      if (*(_DWORD *)(a2 + 188) == 1)
      {
        if (*(_DWORD *)(a4 + 16) == 1 || !*(_DWORD *)(*(_QWORD *)a3 + v22 - 104))
        {
          features = statpos_get_features(a1, a3, a2, (unsigned __int16)v21, *(_QWORD *)(*(_QWORD *)(a4 + 8) + 1312), (*(_BYTE *)(*(_QWORD *)(a4 + 8) + 1296) - 1), &v60, *(_QWORD *)(a4 + 8));
          if ((features & 0x80000000) != 0)
            goto LABEL_45;
          features = statpos_get_features_for_igtree(a1, (uint64_t)v15, (uint64_t)&v60);
          if ((features & 0x80000000) != 0)
            goto LABEL_45;
          v24 = *(_QWORD *)(a4 + 8);
        }
        else
        {
          features = statpos_get_features(a1, a3, a2, (unsigned __int16)v21, *(_QWORD *)(*(_QWORD *)a4 + 1312), (*(_BYTE *)(*(_QWORD *)a4 + 1296) - 1), &v60, *(_QWORD *)a4);
          if ((features & 0x80000000) != 0)
            goto LABEL_45;
          features = statpos_get_features_for_igtree(a1, (uint64_t)v15, (uint64_t)&v60);
          if ((features & 0x80000000) != 0)
            goto LABEL_45;
          v24 = *(_QWORD *)a4;
        }
        inited = igtree_Process(v24, (uint64_t)v15, &__s);
        if ((inited & 0x80000000) != 0)
          break;
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Disambiguate OOV Word[%d] %s %s -> %s", v38, v39, v40, v21);
        v41 = strlen(__s);
        v42 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v41 + 1);
        *(_QWORD *)(*(_QWORD *)a3 + v22 - 24) = v42;
        if (!v42)
        {
LABEL_46:
          inited = 2313166858;
          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v30, v31, v32, v33, v56);
          break;
        }
        strcpy(v42, __s);
      }
      else
      {
        v25 = *(_QWORD *)a3;
        v26 = *(_DWORD *)(*(_QWORD *)a3 + v22 - 104);
        if (v26 == 1)
        {
          if (*(_DWORD *)(a4 + 16))
          {
LABEL_28:
            features = statpos_get_features(a1, a3, a2, (unsigned __int16)v21, *(_QWORD *)(*(_QWORD *)(a4 + 8) + 1312), (*(_BYTE *)(*(_QWORD *)(a4 + 8) + 1296) - 1), &v60, *(_QWORD *)(a4 + 8));
            if ((features & 0x80000000) != 0)
              goto LABEL_45;
            features = statpos_get_features_for_igtree(a1, (uint64_t)v15, (uint64_t)&v60);
            if ((features & 0x80000000) != 0)
              goto LABEL_45;
            features = igtree_Process(*(_QWORD *)(a4 + 8), (uint64_t)v15, &__s);
            if ((features & 0x80000000) != 0)
              goto LABEL_45;
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Disambiguate Word[%d] %s %s -> %s", v43, v44, v45, v21);
            v46 = __s;
            v47 = checkPOSIsLegal(__s, (unsigned __int16)v21, (_QWORD *)a3, a2);
            features = statpos_dumpFeatureVectorAndResult(a1, *(_DWORD *)(a3 + 100), v58, v57, "KNOWNWORD", **(char ***)(*(_QWORD *)a3 + v22 - 64), *(_QWORD *)(a4 + 8), &v60, v46, v47, *(char **)(*(_QWORD *)(*(_QWORD *)a3 + v22 - 64) + 24), *(char **)(*(_QWORD *)a3 + v22));
          }
          else
          {
            features = statpos_get_features(a1, a3, a2, (unsigned __int16)v21, *(_QWORD *)(*(_QWORD *)a4 + 1312), (*(_BYTE *)(*(_QWORD *)a4 + 1296) - 1), &v60, *(_QWORD *)a4);
            if ((features & 0x80000000) != 0
              || (features = statpos_get_features_for_igtree(a1, (uint64_t)v15, (uint64_t)&v60),
                  (features & 0x80000000) != 0)
              || (features = igtree_Process(*(_QWORD *)a4, (uint64_t)v15, &__s), (features & 0x80000000) != 0))
            {
LABEL_45:
              inited = features;
              break;
            }
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Disambiguate OOV Word[%d] %s %s -> %s", v50, v51, v52, v21);
            v53 = __s;
            v54 = checkPOSIsLegal(__s, (unsigned __int16)v21, (_QWORD *)a3, a2);
            features = statpos_dumpFeatureVectorAndResult(a1, *(_DWORD *)(a3 + 100), v58, v57, "OOVWORD", **(char ***)(*(_QWORD *)a3 + v22 - 64), *(_QWORD *)a4, &v60, v53, v54, *(char **)(*(_QWORD *)(*(_QWORD *)a3 + v22 - 64) + 24), *(char **)(*(_QWORD *)a3 + v22));
          }
          if ((features & 0x80000000) != 0)
            goto LABEL_45;
          v48 = strlen(__s);
          v49 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v48 + 1);
          *(_QWORD *)(*(_QWORD *)a3 + v22 - 24) = v49;
          if (!v49)
            goto LABEL_46;
          strcpy(v49, __s);
          inited = statpos_fv_clear((uint64_t)&v60);
          if ((inited & 0x80000000) != 0)
            break;
          clearFeatureVector((_WORD **)v15, v8);
          goto LABEL_36;
        }
        if (v26 || *(unsigned __int16 *)(v25 + v22 - 40) > 1u)
          goto LABEL_28;
        v27 = *(const char **)(v25 + v22 - 32);
        if (!v27)
        {
          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35008, "%s%s", v16, v17, v18, v19, "word=");
          return 2313166848;
        }
        v28 = strlen(v27);
        v29 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v28 + 1);
        v34 = *(_QWORD *)a3 + v22;
        *(_QWORD *)(v34 - 24) = v29;
        if (!v29)
          goto LABEL_46;
        strcpy(v29, *(const char **)(v34 - 32));
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Skip disambiguation on Word[%d] %s %s", v35, v36, v37, v21);
      }
LABEL_36:
      ++v21;
      v22 += 160;
    }
    while (v21 < *(unsigned __int16 *)(a3 + 8));
  }
  crf_mde_seg_fv_dealloc((_QWORD *)a1, (uint64_t)&v60);
  freeFeatureVector((_QWORD *)a1, v15, v8);
  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v15);
  return inited;
}

uint64_t checkPOSIsLegal(char *__s1, unsigned int a2, _QWORD *a3, uint64_t a4)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v7;
  uint64_t v8;
  unsigned int *v9;
  unsigned int v10;

  v4 = *a3 + 160 * a2;
  v5 = *(unsigned __int16 *)(v4 + 72);
  if (!*(_WORD *)(v4 + 72))
    return 0;
  v7 = *(_QWORD *)(a4 + 296);
  v8 = *(_QWORD *)(a4 + 304);
  v9 = *(unsigned int **)(*a3 + 160 * a2 + 64);
  while (1)
  {
    v10 = *v9;
    v9 += 6;
    if (!strcmp(__s1, (const char *)(v7 + *(unsigned int *)(v8 + 4 * v10))))
      break;
    if (!--v5)
      return 0;
  }
  return 1;
}

uint64_t com_useStatHmogrphMosyntOff(uint64_t a1, uint64_t a2, uint64_t a3, _BOOL4 *a4, const char *a5)
{
  uint64_t result;
  char *v11;
  _BOOL4 v12;
  int v13;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", "stathmogrph_fepos_mosyntoff", &__c[3], &__c[1], __c);
  if ((result & 0x80000000) == 0)
  {
    if (*(_WORD *)&__c[1])
    {
      a5 = **(const char ***)&__c[3];
      v11 = strchr(**(char ***)&__c[3], __c[0]);
      if (v11)
      {
        *v11 = 0;
        a5 = **(const char ***)&__c[3];
      }
    }
    v12 = !strcmp(a5, "yes") || strcmp(a5, "YES") == 0;
    *a4 = v12;
    *(_WORD *)&__c[1] = -1;
    v13 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", "statwordhmogrph_step", &__c[3], &__c[1], __c);
    result = 0;
    if ((v13 & 0x80000000) == 0 && *(unsigned __int16 *)&__c[1] == 1)
    {
      result = 0;
      *a4 = 1;
    }
  }
  return result;
}

uint64_t checkUsePKUPOS(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t result;
  int v6;
  const char *v7;
  char *v8;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", "mosynt_usepkupos", &__c[3], &__c[1], __c);
  if ((result & 0x80000000) == 0)
  {
    v6 = *(unsigned __int16 *)&__c[1];
    if (*(_WORD *)&__c[1])
    {
      v7 = **(const char ***)&__c[3];
      v8 = strchr(**(char ***)&__c[3], __c[0]);
      if (v8)
      {
        *v8 = 0;
        v7 = **(const char ***)&__c[3];
      }
      v6 = !strcmp(v7, "yes") || strcmp(v7, "YES") == 0;
    }
    result = 0;
    *a4 = v6;
  }
  return result;
}

uint64_t checkReplaceAsterisk(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t result;
  int v6;
  const char *v7;
  char *v8;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a1 + 96))(a2, a3, "fecfg", "statpos_replaceasterisk", &__c[3], &__c[1], __c);
  if ((result & 0x80000000) == 0)
  {
    v6 = *(unsigned __int16 *)&__c[1];
    if (*(_WORD *)&__c[1])
    {
      v7 = **(const char ***)&__c[3];
      v8 = strchr(**(char ***)&__c[3], __c[0]);
      if (v8)
      {
        *v8 = 0;
        v7 = **(const char ***)&__c[3];
      }
      v6 = strcmp(v7, "1") == 0;
    }
    result = 0;
    *a4 = v6;
  }
  return result;
}

uint64_t fe_pos_ObjOpen(uint64_t a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5)
{
  uint64_t Str;
  uint64_t inited;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  _QWORD *v19;
  uint64_t Object;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int v24;
  int v25;
  _DWORD *v26;
  uint64_t v27;
  _DWORD *v28;
  int v29;
  unsigned int v31;
  char *__s1;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;

  Str = 2313166855;
  v36 = 0;
  v34 = 0;
  v35 = 0;
  __s1 = &byte_1DEBD87CE;
  v33 = 0;
  if (a5)
  {
    *(_QWORD *)a5 = 0;
    *(_DWORD *)(a5 + 8) = 0;
    inited = InitRsrcFunction(a3, a4, &v36);
    if ((inited & 0x80000000) == 0)
    {
      v12 = heap_Calloc(*(_QWORD **)(v36 + 8), 1, 2240);
      v17 = v36;
      if (v12)
      {
        v18 = v12;
        v19 = (_QWORD *)heap_Calloc(*(_QWORD **)(v36 + 8), 1, 1040);
        *(_QWORD *)(v18 + 48) = v19;
        if (v19)
        {
          *v19 = a3;
          v19[1] = a4;
          *(_QWORD *)v18 = v36;
          *(_QWORD *)(v18 + 8) = a3;
          *(_QWORD *)(v18 + 32) = a1;
          *(_QWORD *)(v18 + 40) = a2;
          *(_QWORD *)(v18 + 16) = a4;
          *(_QWORD *)(v18 + 24) = a1;
          Object = objc_GetObject(*(_QWORD *)(v36 + 48), (uint64_t)"LINGDB", &v35);
          if ((Object & 0x80000000) != 0)
            goto LABEL_40;
          *(_QWORD *)(v18 + 56) = *(_QWORD *)(v35 + 8);
          Object = objc_GetObject(*(_QWORD *)(v36 + 48), (uint64_t)"FE_DEPES", &v34);
          if ((Object & 0x80000000) != 0)
            goto LABEL_40;
          v21 = v34;
          *(_QWORD *)(v18 + 80) = *(_QWORD *)(v34 + 8);
          *(_OWORD *)(v18 + 64) = *(_OWORD *)(v21 + 16);
          Object = objc_GetObject(*(_QWORD *)(v36 + 48), (uint64_t)"FE_DCTLKP", &v33);
          if ((Object & 0x80000000) != 0)
            goto LABEL_40;
          v22 = v33;
          v23 = *(_QWORD *)(v33 + 8);
          *(_QWORD *)(v18 + 128) = v23;
          *(_OWORD *)(v18 + 112) = *(_OWORD *)(v22 + 16);
          *(_DWORD *)(v18 + 180) = 0;
          Object = statpos_checkIfActive(*(_QWORD *)(v18 + 112), *(_QWORD *)(v18 + 120), v23, a3, a4, v36, (_DWORD *)(v18 + 200), (_DWORD *)(v18 + 176), (int *)(v18 + 192), (_DWORD *)(v18 + 2232), (_DWORD *)(v18 + 2236));
          if ((Object & 0x80000000) != 0)
            goto LABEL_40;
          Object = com_useStatHmogrphMosyntOff(*(_QWORD *)(v18 + 128), *(_QWORD *)(v18 + 112), *(_QWORD *)(v18 + 120), (_BOOL4 *)(v18 + 188), "no");
          if ((Object & 0x80000000) != 0)
            goto LABEL_40;
          v24 = *(_DWORD *)(v18 + 176);
          if (*(_DWORD *)(v18 + 1616) == 1)
          {
            if (!v24)
              *(_QWORD *)(v18 + 176) = 0x100000001;
          }
          else if (!v24)
          {
LABEL_19:
            Object = statphr_readIGTree(a3, a4, *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), v36, (_QWORD *)(v18 + 1728), (_DWORD *)(v18 + 1720));
            if ((Object & 0x80000000) == 0)
            {
              v26 = (_DWORD *)(v18 + 1736);
              *(_DWORD *)(v18 + 1736) = 0;
              Object = statcomp_useStatCOMP(*(_QWORD *)(v18 + 112), *(_QWORD *)(v18 + 120), *(_QWORD *)(v18 + 128), (_DWORD *)(v18 + 1736));
              if ((Object & 0x80000000) == 0)
              {
                if (*v26 != 1)
                  goto LABEL_25;
                *(_QWORD *)(v18 + 1744) = v36;
                *(_OWORD *)(v18 + 2128) = *(_OWORD *)(v18 + 112);
                *(_QWORD *)(v18 + 2144) = *(_QWORD *)(v18 + 128);
                *(_QWORD *)(v18 + 1952) = 0;
                *(_DWORD *)(v18 + 1960) = 0;
                Object = nuance_pcre_ObjOpen(a3, a4, v18 + 1952);
                if ((Object & 0x80000000) == 0)
                {
                  Object = nuance_pcre_Init(*(_QWORD **)(v18 + 1952), *(_QWORD *)(v18 + 1960), 0x1Eu, 50);
                  if ((Object & 0x80000000) == 0)
                  {
                    Object = statcomp_rules_load(a3, a4, v36, v18 + 1752, *(_QWORD *)(v18 + 112), *(_QWORD *)(v18 + 120), *(_QWORD *)(v18 + 128), v27);
                    if ((Object & 0x80000000) == 0)
                    {
LABEL_25:
                      Object = checkUsePKUPOS(*(_QWORD *)(v18 + 128), *(_QWORD *)(v18 + 112), *(_QWORD *)(v18 + 120), (_DWORD *)(v18 + 184));
                      if ((Object & 0x80000000) == 0)
                      {
                        *(_QWORD *)(v18 + 136) = 0;
                        v28 = (_DWORD *)(v18 + 136);
                        *(_QWORD *)(v18 + 144) = 0;
                        Str = paramc_ParamGetStr(*(_QWORD *)(v36 + 40), (uint64_t)"fecfg", &__s1);
                        if ((Str & 0x80000000) != 0)
                          goto LABEL_41;
                        if (!strcmp(__s1, "cfg4"))
                          *(_DWORD *)(v18 + 148) = 1;
                        if (*v26 || *(_DWORD *)(v18 + 184))
                          goto LABEL_31;
                        Object = wgram_CheckIfExists(a3, a4, *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), (_DWORD *)(v18 + 144));
                        if ((Object & 0x80000000) == 0)
                        {
                          Str = sgram_CheckIfExists(a3, a4, (_DWORD *)(v18 + 140));
                          if ((Str & 0x80000000) != 0)
                            goto LABEL_41;
                          if (!*(_DWORD *)(v18 + 140))
                          {
                            *v28 = 0;
LABEL_34:
                            *(_QWORD *)(v18 + 88) = 0;
                            *(_QWORD *)(v18 + 96) = 0;
                            v29 = 62341;
                            *(_QWORD *)(v18 + 104) = 0;
LABEL_42:
                            *(_QWORD *)a5 = v18;
                            *(_DWORD *)(a5 + 8) = v29;
                            return Str;
                          }
                          Str = com_mosynt_UseMosynt(*(_QWORD *)(v18 + 112), *(_QWORD *)(v18 + 120), *(_QWORD *)(v18 + 128), (_BOOL4 *)(v18 + 136));
                          if ((Str & 0x80000000) != 0)
                          {
LABEL_41:
                            fe_pos_ObjClose(*(uint64_t **)a5, *(_QWORD *)(a5 + 8));
                            v18 = 0;
                            v29 = 0;
                            goto LABEL_42;
                          }
LABEL_31:
                          if (!*v28)
                            goto LABEL_34;
                          if (*(_DWORD *)(v18 + 188))
                            goto LABEL_34;
                          Str = fe_pos_LoadMosyntData(a3, a4, v18);
                          if ((Str & 0x80000000) == 0)
                            goto LABEL_34;
                          goto LABEL_41;
                        }
                      }
                    }
                  }
                }
              }
            }
LABEL_40:
            Str = Object;
            goto LABEL_41;
          }
          v25 = *(_DWORD *)(v18 + 192);
          *(_DWORD *)(v18 + 1636) = *(_DWORD *)(v18 + 188);
          Object = statpos_load_resources(*(_QWORD *)(v18 + 64), *(_QWORD *)(v18 + 72), *(_QWORD *)(v18 + 80), *(_WORD **)(v18 + 8), *(_QWORD *)(v18 + 16), *(_WORD **)(v18 + 32), *(_QWORD *)(v18 + 40), v36, *(_QWORD *)(v18 + 24), *(_OWORD *)(v18 + 112), *(_QWORD *)(v18 + 128), v18 + 200, *(_DWORD *)(v18 + 180), (_DWORD *)(v18 + 176), v25);
          if ((Object & 0x80000000) != 0)
            goto LABEL_40;
          Object = checkReplaceAsterisk(*(_QWORD *)(v18 + 128), *(_QWORD *)(v18 + 112), *(_QWORD *)(v18 + 120), (_DWORD *)(v18 + 1640));
          if ((Object & 0x80000000) != 0)
            goto LABEL_40;
          goto LABEL_19;
        }
        v17 = v36;
      }
      log_OutPublic(*(_QWORD *)(v17 + 32), (uint64_t)"FE_POS", 35000, 0, v13, v14, v15, v16, v31);
      Str = 2313166858;
      goto LABEL_41;
    }
    return inited;
  }
  return Str;
}

uint64_t fe_pos_LoadMosyntData(_WORD *a1, uint64_t a2, uint64_t a3)
{
  uint64_t result;
  _BOOL4 v7;
  char *__s1;

  __s1 = 0;
  result = com_mosynt_GetCfgParamVal(*(_QWORD *)(a3 + 112), *(_QWORD *)(a3 + 120), *(_QWORD *)(a3 + 128), (uint64_t)"mosynt_enablegraphsymcache", "yes", &__s1);
  if ((result & 0x80000000) == 0)
  {
    v7 = strcmp(__s1, "yes") == 0;
    result = kbsymtab_LoadData(a1, a2, *(_WORD **)(a3 + 32), *(_QWORD *)(a3 + 40), (uint64_t *)(a3 + 152), v7);
    if ((result & 0x80000000) == 0)
    {
      result = fst_LoadData(a1, a2, (uint64_t *)(a3 + 168));
      if ((result & 0x80000000) == 0)
        return sgram_LoadData(a1, a2, (uint64_t *)(a3 + 160));
    }
  }
  return result;
}

uint64_t fe_pos_ObjClose(uint64_t *a1, int a2)
{
  uint64_t result;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t NullHandle;
  int v12;
  uint64_t v13;

  result = safeh_HandleCheck((uint64_t)a1, a2, 62341, 2240);
  if ((result & 0x80000000) != 0)
    return 2313166856;
  if (a1)
  {
    if (*((_DWORD *)a1 + 44))
      statpos_unload_resources((_WORD *)a1[4], a1[5], *a1, (uint64_t)(a1 + 25), *((unsigned int *)a1 + 45), *((unsigned int *)a1 + 48), v9, v10);
    if (*((_DWORD *)a1 + 434))
    {
      statcomp_rules_unload((uint64_t)(a1 + 219), v4, v5, v6, v7, v8, v9, v10);
      NullHandle = safeh_GetNullHandle();
      if (!safeh_HandlesEqual(a1[244], a1[245], NullHandle, v12))
      {
        nuance_pcre_DeInit((_QWORD *)a1[244], a1[245]);
        nuance_pcre_ObjClose(a1[244], a1[245]);
      }
    }
    if (*((_DWORD *)a1 + 430))
      statphr_freeIGTree(*a1, a1[3], a1[216]);
    fe_pos_UnloadMosyntData((uint64_t)a1);
    if (a1[7])
      objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"LINGDB");
    if (a1[10])
      objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"FE_DEPES");
    if (a1[16])
      objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"FE_DCTLKP");
    v13 = a1[6];
    if (v13)
      heap_Free(*(_QWORD **)(*a1 + 8), v13);
    heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)a1);
    return 0;
  }
  return result;
}

uint64_t fe_pos_UnloadMosyntData(uint64_t a1)
{
  int v2;
  uint64_t v3;
  int v4;
  int v6;

  if (*(_QWORD *)(a1 + 152))
  {
    v2 = kbsymtab_UnloadData(*(_WORD **)(a1 + 8), *(_QWORD *)(a1 + 16), *(_WORD **)(a1 + 32), *(_QWORD *)(a1 + 40), (uint64_t *)(a1 + 152));
    *(_QWORD *)(a1 + 152) = 0;
    v3 = v2 & (v2 >> 31);
  }
  else
  {
    v3 = 0;
  }
  if (*(_QWORD *)(a1 + 160))
  {
    v4 = sgram_UnloadData(*(_WORD **)(a1 + 8), *(_QWORD *)(a1 + 16), (uint64_t *)(a1 + 160));
    *(_QWORD *)(a1 + 160) = 0;
    if (v4 >= 0 || (int)v3 <= -1)
      v3 = v3;
    else
      v3 = v4;
  }
  if (*(_QWORD *)(a1 + 168))
  {
    v6 = fst_UnloadData(*(_WORD **)(a1 + 8), *(_QWORD *)(a1 + 16), (uint64_t *)(a1 + 168));
    *(_QWORD *)(a1 + 168) = 0;
    if (v6 >= 0 || (int)v3 <= -1)
      return v3;
    else
      return v6;
  }
  return v3;
}

uint64_t fe_pos_ObjReopen(_QWORD *a1, int a2)
{
  uint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t IGTree;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  int v14;
  int v15;
  int v16;
  uint64_t NullHandle;
  int v18;
  _DWORD *v19;
  _WORD *v20;
  uint64_t v21;
  _DWORD *v22;
  char *__s1;

  v3 = 2313166854;
  __s1 = &byte_1DEBD87CE;
  if ((safeh_HandleCheck((uint64_t)a1, a2, 62341, 2240) & 0x80000000) != 0)
    return 2313166856;
  if (a1)
  {
    if (*((_DWORD *)a1 + 44) == 1)
    {
      IGTree = statpos_unload_resources((_WORD *)a1[4], a1[5], *a1, (uint64_t)(a1 + 25), *((unsigned int *)a1 + 45), *((unsigned int *)a1 + 48), v4, v5);
      if ((IGTree & 0x80000000) != 0)
        return IGTree;
    }
    *((_DWORD *)a1 + 45) = 0;
    IGTree = statpos_checkIfActive(a1[14], a1[15], a1[16], (_WORD *)a1[1], a1[2], *a1, (_DWORD *)a1 + 50, (_DWORD *)a1 + 44, (int *)a1 + 48, (_DWORD *)a1 + 558, (_DWORD *)a1 + 559);
    if ((IGTree & 0x80000000) != 0)
      return IGTree;
    IGTree = com_useStatHmogrphMosyntOff(a1[16], a1[14], a1[15], (_BOOL4 *)a1 + 47, "no");
    if ((IGTree & 0x80000000) != 0)
      return IGTree;
    v14 = *((_DWORD *)a1 + 44);
    if (*((_DWORD *)a1 + 404) != 1 || v14)
    {
      if (v14 != 1)
      {
LABEL_15:
        if (*((_DWORD *)a1 + 434) == 1)
        {
          IGTree = statcomp_rules_unload((uint64_t)(a1 + 219), v7, v8, v9, v10, v11, v12, v13);
          if ((IGTree & 0x80000000) != 0)
            return IGTree;
          NullHandle = safeh_GetNullHandle();
          if (!safeh_HandlesEqual(a1[244], a1[245], NullHandle, v18))
          {
            nuance_pcre_DeInit((_QWORD *)a1[244], a1[245]);
            nuance_pcre_ObjClose(a1[244], a1[245]);
          }
        }
        v19 = a1 + 217;
        *((_DWORD *)a1 + 434) = 0;
        IGTree = statcomp_useStatCOMP(a1[14], a1[15], a1[16], (_DWORD *)a1 + 434);
        if ((IGTree & 0x80000000) != 0)
          return IGTree;
        if (*v19 == 1)
        {
          v20 = (_WORD *)a1[1];
          a1[218] = *a1;
          *((_OWORD *)a1 + 133) = *((_OWORD *)a1 + 7);
          a1[268] = a1[16];
          a1[244] = 0;
          *((_DWORD *)a1 + 490) = 0;
          IGTree = nuance_pcre_ObjOpen(v20, a1[2], (uint64_t)(a1 + 244));
          if ((IGTree & 0x80000000) != 0)
            return IGTree;
          IGTree = nuance_pcre_Init((_QWORD *)a1[244], a1[245], 0x1Eu, 50);
          if ((IGTree & 0x80000000) != 0)
            return IGTree;
          IGTree = statcomp_rules_load((_WORD *)a1[1], a1[2], *a1, (uint64_t)(a1 + 219), a1[14], a1[15], a1[16], v21);
          if ((IGTree & 0x80000000) != 0)
            return IGTree;
        }
        if (*((_DWORD *)a1 + 430) == 1)
          statphr_freeIGTree(*a1, a1[3], a1[216]);
        *((_DWORD *)a1 + 430) = 0;
        IGTree = statphr_readIGTree((_WORD *)a1[1], a1[2], (_WORD *)a1[4], a1[5], *a1, a1 + 216, (_DWORD *)a1 + 430);
        if ((IGTree & 0x80000000) != 0)
          return IGTree;
        IGTree = fe_pos_UnloadMosyntData((uint64_t)a1);
        if ((IGTree & 0x80000000) != 0)
          return IGTree;
        a1[17] = 0;
        v22 = a1 + 17;
        a1[18] = 0;
        IGTree = paramc_ParamGetStr(*(_QWORD *)(*a1 + 40), (uint64_t)"fecfg", &__s1);
        if ((IGTree & 0x80000000) != 0)
          return IGTree;
        if (!strcmp(__s1, "cfg4"))
          *((_DWORD *)a1 + 37) = 1;
        IGTree = checkUsePKUPOS(a1[16], a1[14], a1[15], (_DWORD *)a1 + 46);
        if ((IGTree & 0x80000000) != 0)
          return IGTree;
        if (*v19 || *((_DWORD *)a1 + 46))
        {
          v3 = 0;
        }
        else
        {
          IGTree = wgram_CheckIfExists((_WORD *)a1[1], a1[2], (_WORD *)a1[4], a1[5], (_DWORD *)a1 + 36);
          if ((IGTree & 0x80000000) != 0)
            return IGTree;
          v3 = sgram_CheckIfExists((_WORD *)a1[1], a1[2], (_DWORD *)a1 + 35);
          if ((v3 & 0x80000000) != 0)
            return v3;
          if (!*((_DWORD *)a1 + 35))
          {
            *v22 = 0;
            return v3;
          }
          v3 = com_mosynt_UseMosynt(a1[14], a1[15], a1[16], (_BOOL4 *)a1 + 34);
          if ((v3 & 0x80000000) != 0)
            return v3;
        }
        if (*v22)
          return fe_pos_LoadMosyntData((_WORD *)a1[1], a1[2], (uint64_t)a1);
        return v3;
      }
      v15 = *((_DWORD *)a1 + 45);
    }
    else
    {
      a1[22] = 0x100000001;
      v15 = 1;
    }
    v16 = *((_DWORD *)a1 + 48);
    *((_DWORD *)a1 + 409) = *((_DWORD *)a1 + 47);
    IGTree = statpos_load_resources(a1[8], a1[9], a1[10], (_WORD *)a1[1], a1[2], (_WORD *)a1[4], a1[5], *a1, a1[3], *((_OWORD *)a1 + 7), a1[16], (uint64_t)(a1 + 25), v15, (_DWORD *)a1 + 44, v16);
    if ((IGTree & 0x80000000) != 0)
      return IGTree;
    IGTree = checkReplaceAsterisk(a1[16], a1[14], a1[15], (_DWORD *)a1 + 410);
    if ((IGTree & 0x80000000) != 0)
      return IGTree;
    goto LABEL_15;
  }
  return v3;
}

uint64_t fe_pos_ProcessStart(uint64_t a1, int a2)
{
  uint64_t result;

  result = safeh_HandleCheck(a1, a2, 62341, 2240);
  if ((result & 0x80000000) != 0)
    return 2313166856;
  if (*(_DWORD *)(a1 + 176))
    result = statpos_setParams(*(_QWORD *)a1, a1 + 208);
  if (*(_DWORD *)(a1 + 1736))
    return statcomp_setParams(*(_QWORD *)a1, a1 + 1752);
  return result;
}

uint64_t fe_Process_UserCOMPMarkup(uint64_t a1, int a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t result;

  result = safeh_HandleCheck(a1, a2, 62341, 2240);
  if ((result & 0x80000000) != 0)
    return 2313166856;
  *a5 = 1;
  if (*(_DWORD *)(a1 + 1764) == 1)
    return statcomp_processUserMarkup(*(_QWORD *)(a1 + 56), a3, a4, a1 + 1744);
  return result;
}

uint64_t fe_pos_Process_StatCOMP(uint64_t a1, int a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t SentenceData;
  int v17;

  v17 = 0;
  if ((safeh_HandleCheck(a1, a2, 62341, 2240) & 0x80000000) != 0)
    return 2313166856;
  *a5 = 1;
  SentenceData = statcomp_getSentenceData(*(_QWORD *)(a1 + 56), a3, a4, (_DWORD *)(a1 + 1744));
  if ((SentenceData & 0x80000000) == 0)
  {
    if (!*(_WORD *)(a1 + 2184)
      || (v17 = 0,
          SentenceData = statcomp_processCompounds((_QWORD **)(a1 + 1744), &v17, v9, v10, v11, v12, v13, v14),
          (SentenceData & 0x80000000) == 0)
      && (v17 != 1
       || (SentenceData = statcomp_saveCompoundsToLingdb(*(_QWORD *)(a1 + 56), a3, a4, a1 + 1744),
           (SentenceData & 0x80000000) == 0)))
    {
      statcomp_freeSentenceData(a1 + 1744);
    }
  }
  return SentenceData;
}

uint64_t fe_pos_Process_Mosynt(uint64_t *a1, int a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  char *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  char *v20;
  uint64_t started;
  unsigned __int16 v24;
  uint64_t v26;
  void (*v27)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *);
  __int16 v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  __int16 v32;
  unsigned int v33;
  _OWORD v34[2];
  int v35;
  __int16 v36;
  unsigned __int16 v37;
  unsigned __int8 *v38;
  uint64_t v39;
  uint64_t v40;
  unsigned int v41;
  __int16 v42;
  int v43;
  int v44;
  int v45;
  uint64_t v46;

  v36 = 0;
  v9 = 2313166858;
  if ((safeh_HandleCheck((uint64_t)a1, a2, 62341, 2240) & 0x80000000) != 0)
    return 2313166856;
  v46 = 0;
  v39 = 0;
  v40 = 0;
  v38 = 0;
  memset(v34, 0, sizeof(v34));
  *a5 = 1;
  v10 = heap_Alloc(*(_QWORD *)(*a1 + 8), 5000);
  if (v10)
  {
    v15 = (char *)v10;
    v44 = 0;
    v45 = 0;
    v43 = 0;
    v42 = 0;
    v41 = 0;
    v37 = 0;
    v35 = 0;
    v20 = (char *)heap_Alloc(*(_QWORD *)(*a1 + 8), 20000);
    if (v20)
    {
      v9 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1[7] + 104))(a3, a4, 1, 0, (char *)&v45 + 2);
      if ((v9 & 0x80000000) == 0
        && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a1[7] + 184))(a3, a4, HIWORD(v45), 0, &v36) & 0x80000000) == 0&& v36 == 1)
      {
        v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, int *))(a1[7] + 176))(a3, a4, HIWORD(v45), 0, &v46, &v44);
        if ((v9 & 0x80000000) == 0 && (unsigned __int16)v44 >= 2u)
        {
          started = mosynt_StartSentenceAnalysis(a1[6], a1[14], a1[15], a1[16], a1[19], a1[20], (uint64_t *)v34);
          if ((started & 0x80000000) == 0)
          {
            started = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1[7] + 104))(a3, a4, 2, HIWORD(v45), &v45);
            if ((started & 0x80000000) == 0)
            {
              while ((_WORD)v45)
              {
                started = (*(uint64_t (**)(uint64_t, uint64_t))(a1[7] + 168))(a3, a4);
                if ((started & 0x80000000) != 0)
                  goto LABEL_51;
                if (v41 <= 0xA && ((1 << v41) & 0x610) != 0)
                {
                  started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1[7] + 168))(a3, a4, (unsigned __int16)v45, 1, 1, &v43, &v44);
                  if ((started & 0x80000000) != 0)
                    goto LABEL_51;
                  started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, int *))(a1[7] + 168))(a3, a4, (unsigned __int16)v45, 2, 1, &v42, &v44);
                  if ((started & 0x80000000) != 0)
                    goto LABEL_51;
                  started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned __int8 **, int *))(a1[7] + 176))(a3, a4, (unsigned __int16)v45, 3, &v38, &v44);
                  if ((started & 0x80000000) != 0)
                    goto LABEL_51;
                  started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, int *))(a1[7] + 176))(a3, a4, (unsigned __int16)v45, 5, &v40, &v44);
                  if ((started & 0x80000000) != 0)
                    goto LABEL_51;
                  started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, int *))(a1[7] + 176))(a3, a4, (unsigned __int16)v45, 6, &v39, &v44);
                  if ((started & 0x80000000) != 0)
                    goto LABEL_51;
                  started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(a1[7] + 168))(a3, a4, (unsigned __int16)v45, 7, 1, &v37, &v44);
                  if ((started & 0x80000000) != 0)
                    goto LABEL_51;
                  mosynt_InsertTerminals(a1[6], (uint64_t)v34, (unsigned __int16)v43, (unsigned __int16)(v42 + 1), v40, v37, (unsigned __int16)v45, v46, v38);
                  if ((started & 0x80000000) != 0)
                    goto LABEL_51;
                }
                v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1[7] + 120))(a3, a4, (unsigned __int16)v45, &v45);
                if ((v9 & 0x80000000) != 0)
                  goto LABEL_29;
              }
              mosynt_ParseSentence(a1[6], (uint64_t)v34);
              if ((started & 0x80000000) == 0)
              {
                started = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1[7] + 104))(a3, a4, 1, 0, (char *)&v45 + 2);
                if ((started & 0x80000000) == 0)
                {
                  started = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1[7] + 104))(a3, a4, 2, HIWORD(v45), &v45);
                  if ((started & 0x80000000) == 0)
                  {
                    v24 = v45;
                    if ((_WORD)v45)
                    {
                      while (1)
                      {
                        started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1[7] + 120))(a3, a4, v24, (char *)&v44 + 2);
                        if ((started & 0x80000000) != 0)
                          break;
                        started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a1[7] + 168))(a3, a4, (unsigned __int16)v45, 0, 1, &v41, &v44);
                        if ((started & 0x80000000) != 0)
                          break;
                        if (v41 <= 0xA && ((1 << v41) & 0x610) != 0)
                        {
                          started = mosynt_GetTerminalInfoById(a1[6], (uint64_t)v34, (unsigned __int16)v45, &v35, v15, 5000);
                          if ((started & 0x80000000) != 0)
                            break;
                          v26 = a1[7];
                          if (v35)
                          {
                            v27 = *(void (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(v26 + 160);
                            v28 = strlen(v15);
                            v27(a3, a4, (unsigned __int16)v45, 5, (unsigned __int16)(v28 + 1), v15, (char *)&v43 + 2);
                            started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, unsigned __int8 **, int *))(a1[7] + 176))(a3, a4, (unsigned __int16)v45, 3, &v38, &v44);
                            if ((started & 0x80000000) != 0)
                              break;
                            log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"(sgram) keep lingdb record %d : POS=%s PHON=%s", v29, v30, v31, (unsigned __int16)v45);
                          }
                          else
                          {
                            started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(v26 + 192))(a3, a4, (unsigned __int16)v45);
                            if ((started & 0x80000000) != 0)
                              break;
                          }
                        }
                        v24 = HIWORD(v44);
                        LOWORD(v45) = HIWORD(v44);
                        if (!HIWORD(v44))
                          goto LABEL_48;
                      }
                    }
                    else
                    {
LABEL_48:
                      started = mosynt_SyntTreeToString(a1[6], (uint64_t)v34, v20, 20000);
                      if ((started & 0x80000000) == 0)
                      {
                        v32 = strlen(v20);
                        started = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(a1[7] + 160))(a3, a4, HIWORD(v45), 2, (unsigned __int16)(v32 + 1), v20, (char *)&v43 + 2);
                        if ((started & 0x80000000) == 0)
                          started = mosynt_FinishSentenceAnalysis(a1[6], (uint64_t)v34);
                      }
                    }
                  }
                }
              }
            }
          }
LABEL_51:
          v9 = started;
        }
      }
    }
    else
    {
      log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 35000, 0, v16, v17, v18, v19, v33);
    }
LABEL_29:
    heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v15);
    if (v20)
      heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)v20);
  }
  else
  {
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 35000, 0, v11, v12, v13, v14, v33);
  }
  return v9;
}

uint64_t fe_pos_Process(uint64_t a1, int a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  int v14;
  _BYTE *v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  int v20;
  _BYTE *v21;
  int v22;
  _BYTE *v23;
  __int16 v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unsigned __int16 v29;
  int v30;
  uint64_t v31;
  __int16 v32;
  int v33;
  uint64_t v34;
  unsigned __int16 v36;
  unsigned int v37;
  __int16 v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  char *v42;
  char *v43;
  const char *v44;
  int v45;
  int v46;
  int v47;
  int v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  int v55;
  uint64_t v56;
  int v57;
  int v58;
  int v59;
  int v60;
  int v61;
  int v62;
  int v63;
  __int16 v64;
  __int16 PreviousUtf8Offset;
  int v66;
  int v67;
  char *v68;
  char *v69;
  char *v70;
  BOOL v71;
  int v72;
  int v73;
  int v74;
  uint64_t v75;
  int v76;
  unsigned __int16 v77;
  unsigned __int8 v78;
  unsigned int v79;
  int v80;
  uint64_t v81;
  uint64_t v82;
  _BYTE *v83;
  int v84;
  int v85;
  int i;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  int v91;
  unsigned __int16 v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  int v96;
  int v97;
  int v98;
  int v99;
  int v100;
  unsigned __int16 v101;
  uint64_t v102;
  uint64_t v103;
  uint64_t v104;
  unsigned __int16 v105;
  uint64_t v106;
  uint64_t v107;
  uint64_t v108;
  unsigned __int16 v109;
  uint64_t v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  unsigned __int16 v116;
  unsigned __int8 v117;
  uint64_t v118;
  const char *v119;
  const char *v120;
  int v121;
  int v122;
  const char *j;
  int v125;
  char v126;
  const char *k;
  int v128;
  char v129;
  uint64_t v130;
  unsigned __int16 *v131;
  uint64_t v132;
  unsigned int v133;
  char *v134;
  char *v135;
  unsigned __int16 *v136;
  unsigned int v137;
  char *v138;
  __int16 v139;
  __int16 v140;
  uint64_t v141;
  unsigned __int16 *v142;
  uint64_t v143;
  unsigned int v144;
  uint64_t v145;
  unsigned __int16 *v146;
  uint64_t v147;
  unsigned int v148;
  char *v149;
  char *v150;
  unsigned int v151;
  int v152;
  int v153;
  uint64_t v154;
  unsigned __int16 v155;
  uint64_t v156;
  uint64_t v157;
  int v158;
  uint64_t v159;
  unsigned __int16 v160;
  int v161;
  unsigned __int16 v162;
  char *v163;
  __int16 v164;
  unsigned __int16 v165;
  const char *v166;
  const char *v167;
  __int16 v168;
  char *v169;
  char *__s1;
  unsigned int v171;
  int v172;
  int v173;
  int v174;
  char *__s;
  _OWORD v176[16];
  char v177[132];
  char __s2[820];
  uint64_t v179;

  v179 = *MEMORY[0x1E0C80C00];
  v164 = 0;
  if ((safeh_HandleCheck(a1, a2, 62341, 2240) & 0x80000000) != 0)
    return 2313166856;
  *a5 = 1;
  if (*(_DWORD *)(a1 + 176))
  {
    v10 = statpos_process(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), *(_QWORD *)(a1 + 80), a3, a4, *(_QWORD *)(a1 + 56), *(_QWORD *)(a1 + 112), *(_QWORD *)(a1 + 120), *(_QWORD *)(a1 + 128), a1 + 200, *(_DWORD *)(a1 + 180), *(_DWORD *)(a1 + 144), *(_DWORD *)(a1 + 140), *(_DWORD *)(a1 + 148), *(_DWORD *)(a1 + 192));
    if ((v10 & 0x80000000) != 0)
      return v10;
  }
  if (*(_DWORD *)(a1 + 136) && !*(_DWORD *)(a1 + 188))
    fe_pos_Process_Mosynt((uint64_t *)a1, a2, a3, a4, a5);
  v11 = fe_Process_UserCOMPMarkup(a1, a2, a3, a4, a5);
  if ((v11 & 0x80000000) == 0)
  {
    if (!*(_DWORD *)(a1 + 1736)
      || *(_DWORD *)(a1 + 1616)
      || (v11 = fe_pos_Process_StatCOMP(a1, a2, a3, a4, a5), (v11 & 0x80000000) == 0))
    {
      __s = 0;
      v169 = 0;
      __s1 = 0;
      v166 = 0;
      v167 = 0;
      if (!*(_DWORD *)(a1 + 176)
        || *(_DWORD *)(a1 + 1720)
        && !*(_DWORD *)(a1 + 1616)
        && (*(_DWORD *)(a1 + 192) && !*(_DWORD *)(a1 + 2232)
          ? (v12 = statphr_MorphemeProcess(*(_QWORD *)a1, *(_QWORD *)(a1 + 56), a3, a4))
          : (v12 = statphr_Process(*(_QWORD *)a1, *(_QWORD *)(a1 + 56), a3, a4, *(_QWORD *)(a1 + 1728), *(_DWORD *)(a1 + 1736), *(_DWORD *)(a1 + 2236))), (v11 = v12, (v12 & 0x80000000) == 0) && !*(_DWORD *)(a1 + 176)))
      {
        if (!*(_DWORD *)(a1 + 136))
        {
          v173 = 0;
          v174 = 0;
          v171 = 0;
          v172 = 0;
          v168 = 0;
          v165 = 0;
          strcpy(v177, "partofspeech");
          *a5 = 1;
          v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 56) + 104))(a3, a4, 1, 0, (char *)&v174 + 2);
          if ((v11 & 0x80000000) == 0
            && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(*(_QWORD *)(a1 + 56) + 184))(a3, a4, HIWORD(v174), 0, &v164) & 0x80000000) == 0&& v164 == 1)
          {
            v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, char *))(*(_QWORD *)(a1 + 56)
                                                                                               + 176))(a3, a4, HIWORD(v174), 0, &__s, (char *)&v173 + 2);
            if ((v11 & 0x80000000) == 0 && HIWORD(v173) >= 2u)
            {
              memset(v176, 0, sizeof(v176));
              v14 = strlen(__s);
              v15 = (_BYTE *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), (v14 + 129));
              *(_QWORD *)(a1 + 88) = v15;
              if (!v15)
                goto LABEL_156;
              *v15 = 0;
              v20 = strlen(__s);
              v21 = (_BYTE *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), (v20 + 129));
              *(_QWORD *)(a1 + 96) = v21;
              if (!v21
                || (*v21 = 0,
                    v22 = strlen(__s),
                    v23 = (_BYTE *)heap_Alloc(*(_QWORD *)(*(_QWORD *)a1 + 8), (v22 + 129)),
                    (*(_QWORD *)(a1 + 104) = v23) == 0))
              {
LABEL_156:
                log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 35000, 0, v16, v17, v18, v19, v151);
                v92 = 8202;
LABEL_157:
                v11 = v92 | 0x89E00000;
                goto LABEL_158;
              }
              *v23 = 0;
              v24 = strlen(__s);
              v25 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 104))(a3, a4, 2, HIWORD(v174), &v174);
              if ((v25 & 0x80000000) != 0)
                goto LABEL_259;
              v29 = 0;
              v155 = 0;
              v30 = 0;
              v158 = 0;
              v31 = 0;
              v32 = 0;
              v159 = (unsigned __int16)(v24 + 1);
              v33 = 1;
              v34 = 1;
              while (1)
              {
                if (!(_WORD)v174)
                {
                  v77 = v31;
                  v162 = v30;
                  v78 = v34;
                  if (!v33)
                  {
                    v79 = v77;
                    v80 = v77;
                    ssft_qsort((uint64_t)__s2, v77, 82, (uint64_t (*)(unint64_t, unint64_t))compare_1);
                    if (v80)
                    {
                      v81 = 0;
                      v82 = 82 * v79;
                      do
                      {
                        if (v81)
                        {
                          if (__s2[v81])
                            *(_WORD *)(*(_QWORD *)(a1 + 96) + strlen(*(const char **)(a1 + 96))) = 92;
                          strcat(*(char **)(a1 + 96), &__s2[v81]);
                          if (__s2[v81 + 40])
                          {
                            v83 = *(_BYTE **)(a1 + 104);
                            if (*v83)
                              *(_WORD *)&v83[strlen(*(const char **)(a1 + 104))] = 92;
                          }
                        }
                        else
                        {
                          strcat(*(char **)(a1 + 96), __s2);
                        }
                        strcat(*(char **)(a1 + 104), &__s2[v81 + 40]);
                        v81 += 82;
                      }
                      while (v82 != v81);
                    }
                  }
                  if (v162 <= v155 && (unsigned __int16)v158 <= v155)
                  {
                    v96 = v155 - v162;
                    if (v96 >= 1)
                    {
                      v97 = 0;
                      do
                      {
                        *(_WORD *)(*(_QWORD *)(a1 + 96) + strlen(*(const char **)(a1 + 96))) = 126;
                        ++v97;
                      }
                      while (v96 > (unsigned __int16)v97);
                    }
                    v98 = v155 - (unsigned __int16)v158;
                    if (v98 >= 1)
                    {
                      v99 = 0;
                      do
                      {
                        *(_WORD *)(*(_QWORD *)(a1 + 104) + strlen(*(const char **)(a1 + 104))) = 126;
                        ++v99;
                      }
                      while (v98 > (unsigned __int16)v99);
                    }
                  }
                  else
                  {
                    if (v162 <= (unsigned __int16)v158)
                      v84 = (unsigned __int16)v158;
                    else
                      v84 = v162;
                    v85 = v84 - v155;
                    if (v85 >= 1)
                    {
                      for (i = 0; v85 > (unsigned __int16)i; ++i)
                      {
                        if (v78 << 7 == v32)
                        {
                          v87 = v159 + ((unint64_t)++v78 << 7);
                          v88 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 88), v87);
                          if (!v88)
                            goto LABEL_156;
                          *(_QWORD *)(a1 + 88) = v88;
                          v89 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 96), v87);
                          if (!v89)
                            goto LABEL_156;
                          *(_QWORD *)(a1 + 96) = v89;
                          v90 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 104), v87);
                          if (!v90)
                            goto LABEL_156;
                          *(_QWORD *)(a1 + 104) = v90;
                        }
                        *(_WORD *)(*(_QWORD *)(a1 + 88) + strlen(*(const char **)(a1 + 88))) = 126;
                        ++v32;
                      }
                    }
                    if ((unsigned __int16)v158 <= v162)
                    {
                      if (v162 - (unsigned __int16)v158 >= 1)
                      {
                        v100 = 0;
                        do
                        {
                          *(_WORD *)(*(_QWORD *)(a1 + 104) + strlen(*(const char **)(a1 + 104))) = 126;
                          ++v100;
                        }
                        while (v162 - (unsigned __int16)v158 > (unsigned __int16)v100);
                      }
                    }
                    else if ((unsigned __int16)v158 - v162 >= 1)
                    {
                      v91 = 0;
                      do
                      {
                        *(_WORD *)(*(_QWORD *)(a1 + 96) + strlen(*(const char **)(a1 + 96))) = 126;
                        ++v91;
                      }
                      while ((unsigned __int16)v158 - v162 > (unsigned __int16)v91);
                    }
                  }
                  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s L1: %s", v26, v27, v28, (uint64_t)v177);
                  v101 = strlen(*(const char **)(a1 + 88));
                  v25 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 80) + 120))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 0, *(_QWORD *)(a1 + 88), v101);
                  if ((v25 & 0x80000000) != 0)
                    goto LABEL_259;
                  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s L2: %s", v102, v103, v104, (uint64_t)v177);
                  v105 = strlen(*(const char **)(a1 + 96));
                  v25 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 80) + 120))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 1, *(_QWORD *)(a1 + 96), v105);
                  if ((v25 & 0x80000000) != 0)
                    goto LABEL_259;
                  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s L3: %s", v106, v107, v108, (uint64_t)v177);
                  v109 = strlen(*(const char **)(a1 + 104));
                  v25 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 80) + 120))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 2, *(_QWORD *)(a1 + 104), v109);
                  if ((v25 & 0x80000000) != 0
                    || (v25 = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 80) + 80))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), v177), (v25 & 0x80000000) != 0)|| (v25 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, const char **, unsigned __int16 *))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 1, &v167, &v165), (v25 & 0x80000000) != 0)|| (v167[v165] = 0, log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s O2: %s", v110,
                          v111,
                          v112,
                          (uint64_t)v177),
                        v25 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, const char **, unsigned __int16 *))(*(_QWORD *)(a1 + 80) + 128))(*(_QWORD *)(a1 + 64), *(_QWORD *)(a1 + 72), 2, &v166, &v165), (v25 & 0x80000000) != 0))
                  {
LABEL_259:
                    v11 = v25;
                  }
                  else
                  {
                    v166[v165] = 0;
                    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s O3: %s", v113, v114, v115, (uint64_t)v177);
                    v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56)
                                                                                              + 104))(a3, a4, 2, HIWORD(v174), &v174);
                    if ((v11 & 0x80000000) == 0)
                    {
                      v116 = v174;
                      if ((_WORD)v174)
                      {
                        v117 = 0;
                        LODWORD(v118) = 0;
                        v119 = 0;
                        v120 = 0;
                        v121 = 0;
                        v122 = 1;
                        while (1)
                        {
                          v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a3, a4, v116, 0, 1, &v171, (char *)&v173 + 2);
                          if ((v25 & 0x80000000) != 0)
                            goto LABEL_259;
                          if (v171 <= 0xA && ((1 << v171) & 0x610) != 0)
                          {
                            v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a3, a4, (unsigned __int16)v174, 1, 1, (char *)&v172 + 2, (char *)&v173 + 2);
                            if ((v25 & 0x80000000) != 0)
                              goto LABEL_259;
                            v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a3, a4, (unsigned __int16)v174, 5, &__s1, (char *)&v173 + 2);
                            if ((v25 & 0x80000000) != 0)
                              goto LABEL_259;
                            if (v122 == 1 || v121 != HIWORD(v172))
                            {
                              v120 = v167;
                              for (j = v167 + 1; ; ++j)
                              {
                                v125 = *(unsigned __int8 *)v120;
                                if (v125 != 32 && v125 != 126)
                                  break;
                                v167 = ++v120;
                              }
                              while ((_BYTE)v125)
                              {
                                if (v125 == 32 || v125 == 126)
                                {
                                  v167 = j;
                                  *((_BYTE *)j - 1) = 0;
                                  break;
                                }
                                v167 = j;
                                v126 = *j++;
                                LOBYTE(v125) = v126;
                              }
                              v119 = v166;
                              for (k = v166 + 1; ; ++k)
                              {
                                v128 = *(unsigned __int8 *)v119;
                                if (v128 != 32 && v128 != 126)
                                  break;
                                v166 = ++v119;
                              }
                              while ((_BYTE)v128)
                              {
                                if (v128 == 32 || v128 == 126)
                                {
                                  v166 = k;
                                  *((_BYTE *)k - 1) = 0;
                                  break;
                                }
                                v166 = k;
                                v129 = *k++;
                                LOBYTE(v128) = v129;
                              }
                            }
                            if (v121 != HIWORD(v172))
                            {
                              if ((_DWORD)v118 == 1)
                              {
                                if (v117)
                                {
                                  v118 = v117;
                                  v136 = (unsigned __int16 *)v176;
                                  while (1)
                                  {
                                    v137 = *v136++;
                                    v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56)
                                                                                              + 192))(a3, a4, v137);
                                    if ((v25 & 0x80000000) != 0)
                                      goto LABEL_259;
                                    if (!--v118)
                                      goto LABEL_229;
                                  }
                                }
                              }
                              else if (v117)
                              {
                                v130 = v117;
                                v131 = (unsigned __int16 *)v176;
                                do
                                {
                                  v163 = 0;
                                  v133 = *v131++;
                                  v132 = v133;
                                  v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a3, a4, v133, 5, &v163, (char *)&v173 + 2);
                                  if ((v25 & 0x80000000) != 0)
                                    goto LABEL_259;
                                  v134 = strchr(v163, 92);
                                  if (v134)
                                    *v134 = 0;
                                  v25 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a3, a4, v132, 6, &v169, (char *)&v173 + 2);
                                  if ((v25 & 0x80000000) != 0)
                                    goto LABEL_259;
                                  v135 = strchr(v169, 92);
                                  if (v135)
                                    *v135 = 0;
                                }
                                while (--v130);
                              }
                              LODWORD(v118) = 0;
LABEL_229:
                              v117 = 0;
                            }
                            if (v120
                              && v119
                              && ((v138 = __s1, strstr(__s1, v120)) || !strcmp(v120, "*") || !strcmp(v138, "*")))
                            {
                              v139 = strlen(v120);
                              v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a3, a4, (unsigned __int16)v174, 5, (unsigned __int16)(v139 + 1), v120, &v173);
                              if ((v25 & 0x80000000) != 0)
                                goto LABEL_259;
                              v140 = strlen(v119);
                              v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, int *))(*(_QWORD *)(a1 + 56) + 160))(a3, a4, (unsigned __int16)v174, 6, (unsigned __int16)(v140 + 1), v119, &v173);
                              if ((v25 & 0x80000000) != 0)
                                goto LABEL_259;
                              LODWORD(v118) = 1;
                            }
                            else
                            {
                              *((_WORD *)v176 + v117++) = v174;
                            }
                            v122 = 0;
                            v121 = HIWORD(v172);
                          }
                          v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 120))(a3, a4, (unsigned __int16)v174, &v174);
                          if ((v11 & 0x80000000) != 0)
                            break;
                          v116 = v174;
                          if (!(_WORD)v174)
                          {
                            if ((_DWORD)v118 == 1)
                            {
                              if (v117)
                              {
                                v141 = v117 - 1;
                                v142 = (unsigned __int16 *)v176;
                                do
                                {
                                  v143 = v141;
                                  v144 = *v142++;
                                  v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 56)
                                                                                            + 192))(a3, a4, v144);
                                  if ((v11 & 0x80000000) != 0)
                                    break;
                                  v141 = v143 - 1;
                                }
                                while (v143);
                              }
                              break;
                            }
                            if (!v117)
                              break;
                            v145 = v117;
                            v146 = (unsigned __int16 *)v176;
                            while (1)
                            {
                              v148 = *v146++;
                              v147 = v148;
                              v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a3, a4, v148, 5, &__s1, (char *)&v173 + 2);
                              if ((v25 & 0x80000000) != 0)
                                goto LABEL_259;
                              v149 = strchr(__s1, 92);
                              if (v149)
                                *v149 = 0;
                              v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56) + 176))(a3, a4, v147, 6, &v169, (char *)&v173 + 2);
                              if ((v11 & 0x80000000) == 0)
                              {
                                v150 = strchr(v169, 92);
                                if (v150)
                                  *v150 = 0;
                                if (--v145)
                                  continue;
                              }
                              goto LABEL_158;
                            }
                          }
                        }
                      }
                    }
                  }
LABEL_158:
                  v93 = *(_QWORD *)(a1 + 88);
                  if (v93)
                    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v93);
                  *(_QWORD *)(a1 + 88) = 0;
                  v94 = *(_QWORD *)(a1 + 96);
                  if (v94)
                    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v94);
                  *(_QWORD *)(a1 + 96) = 0;
                  v95 = *(_QWORD *)(a1 + 104);
                  if (v95)
                    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v95);
                  *(_QWORD *)(a1 + 104) = 0;
                  return v11;
                }
                v25 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 56) + 168))(a3, a4);
                if ((v25 & 0x80000000) != 0)
                  goto LABEL_259;
                if (v171 <= 0xA && ((1 << v171) & 0x610) != 0)
                  break;
LABEL_125:
                v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 56) + 120))(a3, a4, (unsigned __int16)v174, &v174);
                if ((v11 & 0x80000000) != 0)
                  goto LABEL_158;
              }
              v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 56) + 168))(a3, a4, (unsigned __int16)v174, 1, 1, (char *)&v172 + 2, (char *)&v173 + 2);
              if ((v25 & 0x80000000) != 0)
                goto LABEL_259;
              v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 56) + 168))(a3, a4, (unsigned __int16)v174, 2, 1, &v172, (char *)&v173 + 2);
              if ((v25 & 0x80000000) != 0)
                goto LABEL_259;
              v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56)
                                                                                                  + 176))(a3, a4, (unsigned __int16)v174, 5, &__s1, (char *)&v173 + 2);
              if ((v25 & 0x80000000) != 0)
                goto LABEL_259;
              v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(*(_QWORD *)(a1 + 56)
                                                                                                  + 176))(a3, a4, (unsigned __int16)v174, 6, &v169, (char *)&v173 + 2);
              if ((v25 & 0x80000000) != 0)
                goto LABEL_259;
              v25 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, __int16 *, char *))(*(_QWORD *)(a1 + 56) + 168))(a3, a4, (unsigned __int16)v174, 7, 1, &v168, (char *)&v173 + 2);
              if ((v25 & 0x80000000) != 0)
                goto LABEL_259;
              if (v33 != 1 && HIWORD(v172) == v29)
              {
LABEL_100:
                if ((_WORD)v31)
                {
                  v161 = v30;
                  v154 = v34;
                  v66 = 0;
                  v67 = 0;
                  v69 = v169;
                  v68 = __s1;
                  v157 = v31;
                  v31 = (unsigned __int16)v31;
                  v70 = __s2;
                  v153 = (unsigned __int16)v31;
                  do
                  {
                    if (!strcmp(v68, v70))
                      v67 = 1;
                    if (!strcmp(v69, v70 + 40))
                      v66 = 1;
                    v70 += 82;
                    --v31;
                  }
                  while (v31);
                  v71 = v66 == 0;
                  if (v67 && v66)
                  {
                    v34 = v154;
                    v30 = v161;
                    v31 = v157;
LABEL_124:
                    v33 = 0;
                    v29 = HIWORD(v172);
                    goto LABEL_125;
                  }
                  LODWORD(v31) = v157;
                  if (v67)
                  {
                    v34 = v154;
                    __s2[82 * v153] = 0;
                    if (v66)
                    {
LABEL_113:
                      v73 = (unsigned __int16)v31;
                      __s2[82 * (unsigned __int16)v31 + 40] = 0;
LABEL_123:
                      v31 = (v31 + 1);
                      *(_WORD *)&__s2[82 * v73 + 80] = v168;
                      v30 = v161;
                      goto LABEL_124;
                    }
LABEL_119:
                    v73 = (unsigned __int16)v31;
                    __strcpy_chk();
                    v75 = v34;
                    if ((_WORD)v158)
                      v76 = v158 + 1;
                    else
                      v76 = 0;
                    v158 = v76 + strlen(v169);
                    v34 = v75;
                    goto LABEL_123;
                  }
                  v72 = v161;
                  v34 = v154;
                }
                else
                {
                  v72 = v30;
                  v71 = 1;
                }
                __strcpy_chk();
                if ((_WORD)v72)
                  v74 = v72 + 1;
                else
                  v74 = 0;
                v161 = v74 + strlen(__s1);
                if (!v71)
                  goto LABEL_113;
                goto LABEL_119;
              }
              v152 = v33;
              if (v33)
              {
                v156 = v31;
              }
              else
              {
                v37 = (unsigned __int16)v31;
                ssft_qsort((uint64_t)__s2, (unsigned __int16)v31, 82, (uint64_t (*)(unint64_t, unint64_t))compare_1);
                if ((_WORD)v31)
                {
                  v38 = v30;
                  v39 = v34;
                  v40 = 0;
                  v41 = 82 * v37;
                  do
                  {
                    if (v40)
                    {
                      v42 = &__s2[v40];
                      v43 = *(char **)(a1 + 96);
                      if (__s2[v40] && *v43 && v43[strlen(*(const char **)(a1 + 96)) - 1] != 32)
                      {
                        *(_WORD *)&v43[strlen(v43)] = 92;
                        v43 = *(char **)(a1 + 96);
                      }
                      strcat(v43, v42);
                      if (v42[40])
                      {
                        v44 = *(const char **)(a1 + 104);
                        if (*v44)
                        {
                          if (v44[strlen(*(const char **)(a1 + 104)) - 1] != 32)
                            *(_WORD *)&v44[strlen(v44)] = 92;
                        }
                      }
                    }
                    else
                    {
                      strcat(*(char **)(a1 + 96), __s2);
                    }
                    strcat(*(char **)(a1 + 104), &__s2[v40 + 40]);
                    v40 += 82;
                  }
                  while (v41 != v40);
                  v156 = 0;
                  v34 = v39;
                  v36 = v155;
                  LOWORD(v30) = v38;
LABEL_64:
                  v45 = (unsigned __int16)v30;
                  v46 = v36;
                  if ((unsigned __int16)v30 <= v36 && (unsigned __int16)v158 <= v36)
                  {
                    v58 = v36 - (unsigned __int16)v30;
                    if (v58 >= 1)
                    {
                      v59 = 0;
                      do
                      {
                        *(_WORD *)(*(_QWORD *)(a1 + 96) + strlen(*(const char **)(a1 + 96))) = 126;
                        ++v59;
                      }
                      while (v58 > (unsigned __int16)v59);
                    }
                    v60 = v46 - (unsigned __int16)v158;
                    if (v60 < 1)
                    {
                      v31 = v156;
                    }
                    else
                    {
                      v61 = 0;
                      v31 = v156;
                      do
                      {
                        *(_WORD *)(*(_QWORD *)(a1 + 104) + strlen(*(const char **)(a1 + 104))) = 126;
                        ++v61;
                      }
                      while (v60 > (unsigned __int16)v61);
                    }
                    goto LABEL_96;
                  }
                  v160 = v30;
                  if ((unsigned __int16)v30 <= (unsigned __int16)v158)
                    v47 = (unsigned __int16)v158;
                  else
                    v47 = (unsigned __int16)v30;
                  v48 = v47 - v46;
                  if (v47 - v46 >= 1)
                  {
                    v49 = 0;
                    do
                    {
                      if (v34 << 7 == v32)
                      {
                        v50 = (v34 + 1);
                        v51 = v159 + ((unint64_t)(v34 + 1) << 7);
                        v52 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 88), v51);
                        if (!v52)
                          goto LABEL_156;
                        *(_QWORD *)(a1 + 88) = v52;
                        v53 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 96), v51);
                        if (!v53)
                          goto LABEL_156;
                        *(_QWORD *)(a1 + 96) = v53;
                        v54 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 104), v51);
                        if (!v54)
                          goto LABEL_156;
                        *(_QWORD *)(a1 + 104) = v54;
                      }
                      else
                      {
                        v50 = v34;
                      }
                      *(_WORD *)(*(_QWORD *)(a1 + 88) + strlen(*(const char **)(a1 + 88))) = 126;
                      ++v49;
                      ++v32;
                      v34 = v50;
                    }
                    while (v48 > (unsigned __int16)v49);
                  }
                  if ((unsigned __int16)v158 <= v160)
                  {
                    v62 = v45 - (unsigned __int16)v158;
                    v31 = v156;
                    if (v62 >= 1)
                    {
                      v56 = v34;
                      v63 = 0;
                      do
                      {
                        *(_WORD *)(*(_QWORD *)(a1 + 104) + strlen(*(const char **)(a1 + 104))) = 126;
                        ++v63;
                      }
                      while (v62 > (unsigned __int16)v63);
                      goto LABEL_93;
                    }
                  }
                  else
                  {
                    v55 = (unsigned __int16)v158 - v45;
                    v31 = v156;
                    if (v55 >= 1)
                    {
                      v56 = v34;
                      v57 = 0;
                      do
                      {
                        *(_WORD *)(*(_QWORD *)(a1 + 96) + strlen(*(const char **)(a1 + 96))) = 126;
                        ++v57;
                      }
                      while (v55 > (unsigned __int16)v57);
LABEL_93:
                      v34 = v56;
                    }
                  }
LABEL_96:
                  if (HIWORD(v172) > (unsigned __int16)v172)
                  {
                    v92 = 16049;
                    goto LABEL_157;
                  }
                  v155 = Utf8_LengthInUtf8chars((unint64_t)&__s[HIWORD(v172)], (unsigned __int16)v172 - HIWORD(v172));
                  if (!v152)
                  {
                    v64 = HIWORD(v172);
                    PreviousUtf8Offset = utf8_GetPreviousUtf8Offset((uint64_t)__s, HIWORD(v172));
                    strncat(*(char **)(a1 + 88), &__s[HIWORD(v172) - (unsigned __int16)(v64 - PreviousUtf8Offset)], (unsigned __int16)(v64 - PreviousUtf8Offset));
                    *(_WORD *)(*(_QWORD *)(a1 + 96) + strlen(*(const char **)(a1 + 96))) = 32;
                    *(_WORD *)(*(_QWORD *)(a1 + 104) + strlen(*(const char **)(a1 + 104))) = 32;
                  }
                  strncat(*(char **)(a1 + 88), &__s[HIWORD(v172)], (unsigned __int16)v172 - (unint64_t)HIWORD(v172));
                  v30 = 0;
                  v158 = 0;
                  goto LABEL_100;
                }
                v156 = 0;
              }
              v36 = v155;
              goto LABEL_64;
            }
          }
        }
      }
    }
  }
  return v11;
}

uint64_t compare_1(uint64_t a1, uint64_t a2)
{
  return *(unsigned __int16 *)(a2 + 80) - *(unsigned __int16 *)(a1 + 80);
}

uint64_t fe_pos_ProcessEnd(uint64_t a1, int a2)
{
  uint64_t result;

  LODWORD(result) = safeh_HandleCheck(a1, a2, 62341, 2240);
  if ((int)result >= 0)
    return result;
  else
    return 2313166856;
}

uint64_t fe_pos_GetInterface(unsigned int a1, _QWORD *a2)
{
  uint64_t result;

  if (a1 > 1)
    return 2313166849;
  result = 0;
  *a2 = &IFePos;
  return result;
}

uint64_t fe_pos_ClassOpen(_WORD *a1, uint64_t a2, uint64_t a3)
{
  uint64_t result;
  uint64_t v7;

  v7 = 0;
  if (!a3)
    return 2313166855;
  *(_QWORD *)a3 = 0;
  *(_DWORD *)(a3 + 8) = 0;
  result = InitRsrcFunction(a1, a2, &v7);
  if ((result & 0x80000000) == 0)
  {
    *(_QWORD *)a3 = a1;
    *(_QWORD *)(a3 + 8) = a2;
  }
  return result;
}

uint64_t fe_pos_ClassClose()
{
  return 0;
}

uint64_t statcomp_getDctInfo(_QWORD *a1, const char *a2, uint64_t a3, const char **a4, unsigned __int8 *a5, _DWORD *a6)
{
  uint64_t v10;
  uint64_t v11;
  char **v12;
  int v13;
  const char *v14;
  char *v15;
  unsigned __int16 v17;
  char **v18;

  v18 = 0;
  v17 = 0;
  *a6 = 0;
  v10 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, uint64_t, char ***, unsigned __int16 *, unsigned __int8 *))(a1[50] + 96))(a1[48], a1[49], "compounds_feature_info", a3, &v18, &v17, a5);
  if ((v10 & 0x80000000) == 0)
  {
    v11 = v17;
    if (v17)
    {
      v12 = v18;
      v13 = *a5;
      while (1)
      {
        v14 = *v12;
        v15 = strchr(*v12, v13);
        if (v15)
        {
          if (!strncmp(v14, a2, (unsigned __int16)((_WORD)v15 - (_WORD)v14)))
            break;
        }
        ++v12;
        if (!--v11)
          return v10;
      }
      *a4 = v14;
      *a6 = 1;
    }
  }
  return v10;
}

uint64_t setStatCOMPFeatureVector(unsigned int a1, uint64_t *a2, unsigned int a3, __int16 a4, uint64_t a5)
{
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  const char **v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  char *v24;
  unsigned __int16 v25;
  char *v26;
  uint64_t v27;
  uint64_t DctInfo;
  uint64_t v30;
  int v31;
  int v32;
  char *v33;
  int v34;
  uint64_t v35;
  char *v36;
  char *v37;
  _WORD *v38;
  char *v39;
  unsigned __int16 v40;
  char *v41;
  unsigned int v42;
  uint64_t v43;
  uint64_t v44;
  int v45;
  uint64_t v46;
  unsigned int v47;
  const char **v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  _WORD *v56;
  uint64_t *v57;
  uint64_t v58;
  int v59;
  char *v60;
  unsigned __int8 v61;

  v9 = a2[19];
  v10 = a2[20];
  v11 = a2[22];
  v12 = a2[23];
  v57 = *(uint64_t **)(a2[24] + 8 * a1);
  v58 = *(_QWORD *)(a2[21] + 8 * a1);
  v61 = 0;
  v56 = *(_WORD **)(v12 + 8 * a1);
  v60 = 0;
  v59 = 0;
  v13 = (unsigned __int16)(a4 - a3 + 1);
  v18 = (const char **)heap_Calloc(*(_QWORD **)(*a2 + 8), 1, 8 * v13 + 8);
  v19 = *a2;
  if (!v18)
  {
    v20 = 0;
    goto LABEL_13;
  }
  v20 = heap_Calloc(*(_QWORD **)(v19 + 8), 1, 8 * v13 + 8);
  if (!v20)
  {
LABEL_11:
    v19 = *a2;
LABEL_13:
    log_OutPublic(*(_QWORD *)(v19 + 32), (uint64_t)"FE_POS", 35000, 0, v14, v15, v16, v17, v47);
    DctInfo = 2313166858;
    goto LABEL_14;
  }
  if ((_DWORD)v13)
  {
    v51 = v11;
    v52 = a5;
    v21 = 0;
    v53 = v10;
    v54 = a1;
    v22 = 96 * a3;
    v23 = v13 - 1;
    while (1)
    {
      v24 = (char *)heap_Calloc(*(_QWORD **)(*a2 + 8), 1, (unsigned __int16)(*(_WORD *)(a2[54] + v22 + 2) - *(_WORD *)(a2[54] + v22)) + 1);
      v18[v21] = v24;
      if (!v24)
        goto LABEL_11;
      strncpy(v24, (const char *)(a2[60] + *(unsigned __int16 *)(a2[54] + v22)), *(unsigned __int16 *)(a2[54] + v22 + 2) - (unint64_t)*(unsigned __int16 *)(a2[54] + v22));
      v18[v21][*(unsigned __int16 *)(a2[54] + v22 + 2) - *(unsigned __int16 *)(a2[54] + v22)] = 0;
      v25 = strlen(*(const char **)(a2[54] + v22 + 56));
      v26 = (char *)heap_Calloc(*(_QWORD **)(*a2 + 8), 1, v25 + 1);
      *(_QWORD *)(v20 + 8 * v21) = v26;
      if (!v26)
        goto LABEL_11;
      strcpy(v26, *(const char **)(a2[54] + v22 + 56));
      if (v23 == v21)
      {
        v27 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, uint64_t))(a2[50] + 144))(a2[48], a2[49], "normal", v18[v21], 128);
        if ((v27 & 0x80000000) != 0)
        {
          DctInfo = v27;
          goto LABEL_14;
        }
        if (v23 == v21)
        {
          v30 = 0;
          v49 = v13;
          v50 = v9 + 20 * a1;
          v48 = (const char **)v20;
          while (1)
          {
            v31 = *(unsigned __int16 *)(v50 + 2 * v30);
            DctInfo = statcomp_getDctInfo(a2, *(const char **)(v53 + 8 * v54), (uint64_t)v18[v30], (const char **)&v60, &v61, &v59);
            if ((DctInfo & 0x80000000) != 0)
              goto LABEL_14;
            v55 = v30;
            v32 = v59;
            if (v59 == 1)
            {
              v33 = v60;
              v34 = v61;
              v35 = *(unsigned __int16 *)(*(_QWORD *)(v51 + 8 * v54) + 8);
              v36 = strchr(v60, v61);
              v37 = v33;
              if (v36)
              {
                *v36 = 0;
                v37 = v36 + 1;
              }
              if ((_DWORD)v35)
              {
                v38 = v56;
                do
                {
                  v39 = strchr(v37, v34);
                  if (v39)
                    *v39++ = 0;
                  *v38++ = (_WORD)v37 - (_WORD)v33;
                  v37 = v39;
                  --v35;
                }
                while (v35);
              }
            }
            if (*(unsigned __int8 *)(v58 + 1296) >= 2u)
              break;
            v20 = (uint64_t)v48;
            v13 = v49;
LABEL_42:
            v30 = v55 + 1;
            if (v55 + 1 == v13)
              goto LABEL_14;
          }
          v40 = 0;
          v41 = v60;
          v20 = (uint64_t)v48;
          v13 = v49;
          while (2)
          {
            v42 = v40;
            if (strcmp(*(const char **)(v52 + 8 * v40), "=")
              || (v43 = *v57, *(unsigned __int16 *)(*v57 + 12 * v42) != v31)
              || *(_DWORD *)(v43 + 12 * v42 + 4))
            {
              if (v32 == 1)
              {
                v44 = *v57;
                if (*(unsigned __int16 *)(*v57 + 12 * v42) == v31)
                {
                  v45 = *(_DWORD *)(v44 + 12 * v42 + 4);
                  if (v45 == 2 || v45 == 1)
                  {
                    v46 = statcomp_setFeature(v58, *a2, v42, v52, &v41[(unsigned __int16)v56[*(unsigned __int16 *)(v44 + 12 * v42 + 8)]]);
LABEL_38:
                    DctInfo = v46;
                    if ((v46 & 0x80000000) != 0)
                      goto LABEL_14;
                  }
                }
              }
              v40 = v42 + 1;
              if (*(unsigned __int8 *)(v58 + 1296) - 1 <= (unsigned __int16)(v42 + 1))
                goto LABEL_42;
              continue;
            }
            break;
          }
          v46 = statcomp_setDynamicFeature(*a2, v58, *(unsigned __int16 *)(v43 + 12 * v42 + 8), v42, v52, v18, v48, v49, v55);
          goto LABEL_38;
        }
      }
      v22 += 96;
      ++v21;
    }
  }
  DctInfo = 0;
LABEL_14:
  freeWordList(*(_QWORD **)(*a2 + 8), v13, (uint64_t)v18);
  freeWordList(*(_QWORD **)(*a2 + 8), v13, v20);
  return DctInfo;
}

_QWORD *freeWordList(_QWORD *result, unsigned int a2, uint64_t a3)
{
  _QWORD *v5;
  unsigned __int16 v6;
  uint64_t v7;
  uint64_t v8;

  if (a3)
  {
    v5 = result;
    v6 = 0;
    do
    {
      v7 = v6;
      v8 = *(_QWORD *)(a3 + 8 * v6);
      if (v8)
      {
        heap_Free(v5, v8);
        *(_QWORD *)(a3 + 8 * v7) = 0;
      }
      v6 = v7 + 1;
    }
    while (a2 >= (unsigned __int16)(v7 + 1));
    return heap_Free(v5, a3);
  }
  return result;
}

uint64_t statcomp_useStatCOMP(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t result;
  const char *v7;
  char *v8;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  *a4 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, const char *, const char *, _BYTE *, _BYTE *, _BYTE *))(a3 + 96))(a1, a2, "fecfg", "usecompound", &__c[3], &__c[1], __c);
  if ((result & 0x80000000) == 0)
  {
    if (*(unsigned __int16 *)&__c[1] != 1 || *(_QWORD *)&__c[3] == 0)
      return 0;
    v7 = **(const char ***)&__c[3];
    v8 = strchr(**(char ***)&__c[3], __c[0]);
    if (v8)
    {
      *v8 = 0;
      v7 = **(const char ***)&__c[3];
    }
    if (!strcmp(v7, "YES") || !strcmp(v7, "yes"))
    {
      result = 0;
      *a4 = 1;
    }
    else
    {
      return 0;
    }
  }
  return result;
}

uint64_t statcomp_processUserMarkup(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v8;
  uint64_t v9;
  _WORD *v10;
  unsigned __int16 v11;
  char **v12;
  uint64_t v13;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  char *v23;
  int v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  __int16 v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  char *v33;
  int v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  __int16 v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  char *v43;
  int v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  __int16 v48;
  unsigned __int16 v50;
  unsigned int v51;
  unsigned __int16 v52;
  uint64_t v53;
  char *v54;
  uint64_t v55;
  int v56;
  unsigned int v57;
  __int16 v58;
  int v59;
  int v60;
  char __s[32];
  char v62[32];
  uint64_t v63;

  v63 = *MEMORY[0x1E0C80C00];
  v59 = 0;
  v60 = 0;
  v58 = 0;
  v56 = 0;
  v57 = 0;
  v54 = 0;
  v55 = 0;
  v53 = 0;
  v52 = 0;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 1, 0, (char *)&v60 + 2);
  if ((v8 & 0x80000000) != 0)
    return v8;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(a1 + 184))(a2, a3, HIWORD(v60), 0, (char *)&v59 + 2);
  if ((v9 & 0x80000000) == 0 && HIWORD(v59) == 1)
  {
    v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, int *))(a1 + 176))(a2, a3, HIWORD(v60), 0, &v55, &v59);
    if ((v9 & 0x80000000) == 0 && (unsigned __int16)v59 >= 2u)
    {
      v10 = (_WORD *)(a4 + 424);
      *(_WORD *)(a4 + 424) = 0;
      v9 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 2, HIWORD(v60), &v60);
      if ((v9 & 0x80000000) != 0)
        goto LABEL_65;
      v11 = v60;
      if (!(_WORD)v60)
        goto LABEL_65;
      v12 = (char **)(a4 + 408);
      while (1)
      {
        v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, int *))(a1 + 168))(a2, a3, v11, 0, 1, &v57, &v59);
        if ((v13 & 0x80000000) != 0)
        {
LABEL_64:
          v9 = v13;
          goto LABEL_65;
        }
        if (v57 <= 0xA && ((1 << v57) & 0x610) != 0)
        {
          v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v60, 1, 1, &v56, &v59);
          if ((v13 & 0x80000000) != 0)
            goto LABEL_64;
          v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v60, 2, 1, (char *)&v56 + 2, &v59);
          if ((v13 & 0x80000000) != 0)
            goto LABEL_64;
          if ((unsigned __int16)v56 > HIWORD(v56))
          {
            v50 = 16049;
            goto LABEL_69;
          }
          v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(a1 + 184))(a2, a3, (unsigned __int16)v60, 14, (char *)&v59 + 2);
          if ((v13 & 0x80000000) != 0)
            goto LABEL_64;
          if (HIWORD(v59) == 1)
          {
            v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1 + 176))(a2, a3, (unsigned __int16)v60, 14, &v54, &v59);
            if ((v13 & 0x80000000) != 0)
              goto LABEL_64;
            if (hlp_NLUStrFind(v54, "S_COMP", &v53, &v52))
            {
              if (!*v10)
              {
                v15 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, 1024);
                *(_QWORD *)(a4 + 408) = v15;
                if (!v15)
                  goto LABEL_68;
                *v10 = 1024;
              }
              v8 = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), (_WORD *)(a4 + 424), v54);
              if ((v8 & 0x80000000) != 0)
                return v8;
              v20 = v52;
              if (v52)
              {
                v21 = 0;
                v22 = v53 + 1;
                v23 = v62;
                while (1)
                {
                  v24 = *(unsigned __int8 *)(v22 - 1);
                  if (v24 == 43)
                    break;
                  *v23++ = v24;
                  ++v22;
                  --v21;
                  if (!(v20 + v21))
                    goto LABEL_29;
                }
                *v23 = 0;
                __strncpy_chk();
                __s[v21 - 1 + v52] = 0;
                hlp_NLUStrSet(*v12, "S_COMPPOS", __s);
              }
              else
              {
LABEL_29:
                v62[v20] = 0;
              }
              hlp_NLUStrSet(*(char **)(a4 + 408), "S_COMP", v62);
              log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Writing NLU=%s", v25, v26, v27, (uint64_t)v54);
              v28 = strlen(*(const char **)(a4 + 408));
              v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v60, 14, (unsigned __int16)(v28 + 1), *(_QWORD *)(a4 + 408), &v58);
              if ((v13 & 0x80000000) != 0)
                goto LABEL_64;
              **v12 = 0;
            }
            if (hlp_NLUStrFind(v54, "E_COMP", &v53, &v52))
            {
              if (!*v10)
              {
                v29 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, 1024);
                *(_QWORD *)(a4 + 408) = v29;
                if (!v29)
                  goto LABEL_68;
                *v10 = 1024;
              }
              v8 = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), (_WORD *)(a4 + 424), v54);
              if ((v8 & 0x80000000) != 0)
                return v8;
              v30 = v52;
              if (v52)
              {
                v31 = 0;
                v32 = v53 + 1;
                v33 = v62;
                while (1)
                {
                  v34 = *(unsigned __int8 *)(v32 - 1);
                  if (v34 == 43)
                    break;
                  *v33++ = v34;
                  ++v32;
                  --v31;
                  if (!(v30 + v31))
                    goto LABEL_42;
                }
                *v33 = 0;
                __strncpy_chk();
                __s[v31 - 1 + v52] = 0;
                hlp_NLUStrSet(*v12, "E_COMPPOS", __s);
              }
              else
              {
LABEL_42:
                v62[v30] = 0;
              }
              hlp_NLUStrSet(*(char **)(a4 + 408), "E_COMP", v62);
              log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Writing NLU=%s", v35, v36, v37, (uint64_t)v54);
              v38 = strlen(*(const char **)(a4 + 408));
              v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v60, 14, (unsigned __int16)(v38 + 1), *(_QWORD *)(a4 + 408), &v58);
              if ((v13 & 0x80000000) != 0)
                goto LABEL_64;
              **v12 = 0;
            }
            if (hlp_NLUStrFind(v54, "I_COMP", &v53, &v52))
            {
              if (!*v10)
              {
                v39 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, 1024);
                *(_QWORD *)(a4 + 408) = v39;
                if (!v39)
                {
LABEL_68:
                  log_OutPublic(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 35000, 0, v16, v17, v18, v19, v51);
                  v50 = 8202;
LABEL_69:
                  v9 = v50 | 0x89E00000;
LABEL_65:
                  if (*v10)
                  {
                    heap_Free(*(_QWORD **)(*(_QWORD *)a4 + 8), *(_QWORD *)(a4 + 408));
                    *(_QWORD *)(a4 + 408) = 0;
                    *(_WORD *)(a4 + 424) = 0;
                  }
                  return v9;
                }
                *v10 = 1024;
              }
              v8 = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), (_WORD *)(a4 + 424), v54);
              if ((v8 & 0x80000000) != 0)
                return v8;
              v40 = v52;
              if (v52)
              {
                v41 = 0;
                v42 = v53 + 1;
                v43 = v62;
                while (1)
                {
                  v44 = *(unsigned __int8 *)(v42 - 1);
                  if (v44 == 43)
                    break;
                  *v43++ = v44;
                  ++v42;
                  --v41;
                  if (!(v40 + v41))
                    goto LABEL_55;
                }
                *v43 = 0;
                __strncpy_chk();
                __s[v41 - 1 + v52] = 0;
                hlp_NLUStrSet(*v12, "I_COMPPOS", __s);
              }
              else
              {
LABEL_55:
                v62[v40] = 0;
              }
              hlp_NLUStrSet(*(char **)(a4 + 408), "I_COMP", v62);
              log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Writing NLU=%s", v45, v46, v47, (uint64_t)v54);
              v48 = strlen(*(const char **)(a4 + 408));
              v13 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v60, 14, (unsigned __int16)(v48 + 1), *(_QWORD *)(a4 + 408), &v58);
              if ((v13 & 0x80000000) != 0)
                goto LABEL_64;
              **v12 = 0;
            }
          }
        }
        v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, (unsigned __int16)v60, &v60);
        if ((v9 & 0x80000000) == 0)
        {
          v11 = v60;
          if ((_WORD)v60)
            continue;
        }
        goto LABEL_65;
      }
    }
  }
  return v9;
}

uint64_t statcomp_getSentenceData(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t v8;
  uint64_t v9;
  unsigned __int16 v10;
  int v11;
  char *v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  unsigned __int16 *v22;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  char *v27;
  int v28;
  int v29;
  char *v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  unsigned __int16 *v36;
  unsigned int v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  char *v45;
  _DWORD *v46;
  int v47;
  char *v48;
  int v49;
  char *v50;
  int v51;
  char *v52;
  uint64_t v53;
  unsigned int v54;
  uint64_t v55;
  _DWORD *v56;
  _DWORD *v57;
  uint64_t v58;
  const char *v59;
  size_t v60;
  int v61;
  unsigned int v62;
  _BOOL4 v63;
  int v64;
  char *v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  uint64_t v76;
  uint64_t v77;
  uint64_t v78;
  uint64_t v79;
  uint64_t v80;
  uint64_t v81;
  uint64_t v82;
  int v83;
  int *v84;
  int v85;
  unsigned int v87;
  unsigned __int16 v88;
  unsigned __int16 *v89;
  int v90;
  char *__src;
  char *v92;
  unsigned __int16 v93;
  int v94;
  char *v95;
  char *__s;
  uint64_t v97;
  char *v98;
  unsigned int v99;
  int v100;
  int v101;
  unsigned __int16 v102;
  const char *v103;
  unsigned __int16 v104;
  const char *v105;

  v101 = 0;
  v100 = 0;
  v99 = 0;
  v97 = 0;
  v98 = 0;
  v95 = 0;
  __s = 0;
  v94 = 0;
  v93 = 0;
  a4[107] = log_GetLogLevel(*(_QWORD *)(*(_QWORD *)a4 + 32)) > 4;
  v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 1, 0, (char *)&v101 + 2);
  if ((v8 & 0x80000000) != 0)
    return v8;
  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(a1 + 184))(a2, a3, HIWORD(v101), 0, (char *)&v100 + 2);
  if ((v9 & 0x80000000) == 0 && HIWORD(v100) == 1)
  {
    v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a1 + 176))(a2, a3, HIWORD(v101), 0, &__s, &v100);
    if ((v9 & 0x80000000) == 0 && (unsigned __int16)v100 >= 2u)
    {
      v10 = strlen(__s);
      v11 = v10;
      v12 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, v10 + 1);
      *((_QWORD *)a4 + 60) = v12;
      if (v12)
      {
        strcpy(v12, __s);
        log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"statCOMP : start processing=\"%s\"", v17, v18, v19, *((_QWORD *)a4 + 60));
        v20 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, 1024);
        *((_QWORD *)a4 + 51) = v20;
        if (v20)
        {
          *((_WORD *)a4 + 212) = 1024;
          v21 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, 1024);
          *((_QWORD *)a4 + 52) = v21;
          if (v21)
          {
            v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 2, HIWORD(v101), &v101);
            if ((v8 & 0x80000000) == 0)
            {
              v88 = v10;
              v22 = (unsigned __int16 *)(a4 + 108);
              while ((_WORD)v101)
              {
                v8 = (*(uint64_t (**)(uint64_t, uint64_t))(a1 + 168))(a2, a3);
                if ((v8 & 0x80000000) != 0)
                  return v8;
                if (v99 <= 0xA && ((1 << v99) & 0x610) != 0)
                {
                  v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v101, 1, 1, &v94, &v100);
                  if ((v8 & 0x80000000) != 0)
                    return v8;
                  v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v101, 2, 1, (char *)&v94 + 2, &v100);
                  if ((v8 & 0x80000000) != 0)
                    return v8;
                  if ((unsigned __int16)v94 > HIWORD(v94))
                    return 2313174705;
                  v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(a1 + 184))(a2, a3, (unsigned __int16)v101, 17, (char *)&v100 + 2);
                  if ((v8 & 0x80000000) != 0)
                    return v8;
                  if (HIWORD(v100) == 1)
                  {
                    v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v101, 17, 1, &v93, &v100);
                    if ((v8 & 0x80000000) != 0)
                      return v8;
                  }
                  else
                  {
                    v93 = v99 - 9 <= 1;
                  }
                  v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1 + 176))(a2, a3, (unsigned __int16)v101, 3, &v95, &v100);
                  if ((v8 & 0x80000000) != 0)
                    return v8;
                  if (HIWORD(v94) == (unsigned __int16)v94)
                  {
                    log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING! : IGNORE EMPTY WORD lingdb position %d,%d", v24, v25, v26, HIWORD(v94));
                  }
                  else
                  {
                    v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1 + 176))(a2, a3, (unsigned __int16)v101, 14, &v98, &v100);
                    if ((v8 & 0x80000000) != 0)
                      return v8;
                    v27 = v98;
                    v28 = v93;
                    __src = v95;
                    v105 = 0;
                    v104 = 0;
                    v103 = 0;
                    v102 = 0;
                    v29 = strlen(v98);
                    v30 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (v29 + 1));
                    if (!v30)
                      goto LABEL_69;
                    v92 = v30;
                    strcpy(v30, v27);
                    v34 = *((unsigned __int16 *)a4 + 220);
                    if (*((_WORD *)a4 + 220))
                    {
                      v35 = 0;
                      v36 = (unsigned __int16 *)(*(_QWORD *)v22 + 2);
                      while (1)
                      {
                        v37 = *(v36 - 1);
                        if (__PAIR64__(*v36, v37) == __PAIR64__(HIWORD(v94), (unsigned __int16)v94))
                          break;
                        if ((unsigned __int16)v94 >= v37 && HIWORD(v94) <= *v36)
                        {
                          log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING : skip subsumed word %d,%d (subsumed by word %d)", v31, v32, v33, (unsigned __int16)v94);
                          break;
                        }
                        ++v35;
                        v36 += 48;
                        if (v34 == v35)
                          goto LABEL_36;
                      }
                    }
                    else
                    {
LABEL_36:
                      if (*((_WORD *)a4 + 221))
                      {
                        v38 = *(_QWORD *)v22;
                        if ((int)v34 + 2 > *((unsigned __int16 *)a4 + 221))
                        {
                          v39 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a4 + 8), v38, 96 * *((unsigned __int16 *)a4 + 221) + 2016);
                          if (!v39)
                            goto LABEL_83;
                          *((_QWORD *)a4 + 54) = v39;
                          bzero((void *)(v39 + 96 * *((unsigned __int16 *)a4 + 220)), 0x780uLL);
                          *((_WORD *)a4 + 221) += 20;
                          v38 = *((_QWORD *)a4 + 54);
                        }
                      }
                      else
                      {
                        v44 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, 4801);
                        *((_QWORD *)a4 + 54) = v44;
                        if (!v44)
                          goto LABEL_83;
                        v38 = v44;
                        *((_WORD *)a4 + 221) = 50;
                      }
                      v45 = v92;
                      v46 = (_DWORD *)(v38 + 96 * *((unsigned __int16 *)a4 + 220));
                      *v46 = v94;
                      v46[1] = v28 == 1;
                      if (hlp_NLUStrFind(v92, "POS", (uint64_t *)&v105, &v104))
                      {
                        v47 = strlen(v105);
                        v48 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (v47 + 1));
                        *(_QWORD *)(*((_QWORD *)a4 + 54) + 96 * *((unsigned __int16 *)a4 + 220) + 32) = v48;
                        if (!v48)
                          goto LABEL_83;
                        strcpy(v48, v105);
                        *(_BYTE *)(*(_QWORD *)(*((_QWORD *)a4 + 54) + 96 * *((unsigned __int16 *)a4 + 220) + 32) + v104) = 0;
                        v45 = v92;
                      }
                      if (hlp_NLUStrFind(v45, "S_COMP", (uint64_t *)&v103, &v102))
                      {
                        v49 = strlen(v103);
                        v50 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (v49 + 1));
                        *(_QWORD *)(*((_QWORD *)a4 + 54) + 96 * *((unsigned __int16 *)a4 + 220) + 40) = v50;
                        if (!v50)
                          goto LABEL_83;
                        strcpy(v50, v103);
                        *(_BYTE *)(*(_QWORD *)(*((_QWORD *)a4 + 54) + 96 * *((unsigned __int16 *)a4 + 220) + 40) + v102) = 0;
                        v45 = v92;
                      }
                      if (hlp_NLUStrFind(v45, "E_COMP", (uint64_t *)&v103, &v102))
                      {
                        v51 = strlen(v103);
                        v52 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (v51 + 1));
                        *(_QWORD *)(*((_QWORD *)a4 + 54) + 96 * *((unsigned __int16 *)a4 + 220) + 48) = v52;
                        if (!v52)
                          goto LABEL_83;
                        strcpy(v52, v103);
                        *(_BYTE *)(*(_QWORD *)(*((_QWORD *)a4 + 54) + 96 * *((unsigned __int16 *)a4 + 220) + 48) + v102) = 0;
                      }
                      v89 = v22;
                      v90 = v11;
                      v53 = *((_QWORD *)a4 + 54);
                      v54 = *((unsigned __int16 *)a4 + 220);
                      v55 = v53 + 96 * *((unsigned __int16 *)a4 + 220);
                      *(_DWORD *)(v55 + 12) = 0;
                      v56 = (_DWORD *)(v55 + 12);
                      v56[2] = 0;
                      v57 = v56 + 2;
                      v58 = HIWORD(v94);
                      v59 = (const char *)*((_QWORD *)a4 + 60);
                      v60 = strlen(v59);
                      v61 = 0;
                      if (v60 > HIWORD(v94))
                      {
                        if (v59[HIWORD(v94)] == 95)
                        {
                          v61 = 1;
                          *v56 = 1;
                        }
                        else
                        {
                          v61 = 0;
                        }
                      }
                      if ((_WORD)v94)
                      {
                        if (v59[(unsigned __int16)v94 - 1] == 95)
                        {
                          *v57 = 1;
                          if (v61)
                          {
                            *v56 = 0;
                            *v57 = 0;
                          }
                        }
                      }
                      v62 = v59[v58 - 1];
                      v63 = v62 <= 0x3B && ((1 << v62) & 0xC00100000000000) != 0;
                      v11 = v90;
                      v22 = v89;
                      *(_DWORD *)(v53 + 96 * v54 + 24) = v63;
                      v64 = strlen(__src);
                      v65 = (char *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a4 + 8), 1, (v64 + 1));
                      *(_QWORD *)(*((_QWORD *)a4 + 54) + 96 * *((unsigned __int16 *)a4 + 220) + 56) = v65;
                      if (!v65)
                      {
LABEL_83:
                        v9 = 2313166858;
                        log_OutPublic(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 35000, 0, v40, v41, v42, v43, v87);
                        heap_Free(*(_QWORD **)(*(_QWORD *)a4 + 8), (uint64_t)v92);
                        return v9;
                      }
                      strcpy(v65, __src);
                      ++*((_WORD *)a4 + 220);
                    }
                    heap_Free(*(_QWORD **)(*(_QWORD *)a4 + 8), (uint64_t)v92);
                  }
                }
                v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, (unsigned __int16)v101, &v101);
                if ((v9 & 0x80000000) != 0)
                  return v9;
              }
              v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 2, HIWORD(v101), &v101);
              if ((v8 & 0x80000000) == 0)
              {
                while ((_WORD)v101)
                {
                  v8 = (*(uint64_t (**)(uint64_t, uint64_t))(a1 + 168))(a2, a3);
                  if ((v8 & 0x80000000) != 0)
                    return v8;
                  if (v99 == 6)
                  {
                    v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v101, 1, 1, &v94, &v100);
                    if ((v8 & 0x80000000) != 0)
                      return v8;
                    v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v101, 2, 1, (char *)&v94 + 2, &v100);
                    if ((v8 & 0x80000000) != 0)
                      return v8;
                    if ((unsigned __int16)v94 > HIWORD(v94))
                      return 2313174705;
                    v8 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, int *))(a1 + 176))(a2, a3, (unsigned __int16)v101, 4, &v97, &v100);
                    if ((v8 & 0x80000000) != 0)
                      return v8;
                    v76 = addStatCOMPToken(*(_QWORD *)a4, (unsigned __int16 *)&v94, v97, v22, v72, v73, v74, v75);
                    if ((v76 & 0x80000000) != 0)
                    {
                      v9 = v76;
                      if ((_DWORD)v76 != -1981800448)
                        return v9;
                    }
                  }
                  v9 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, (unsigned __int16)v101, &v101);
                  if ((v9 & 0x80000000) != 0)
                    return v9;
                }
                v8 = validateUserCompoundWords((uint64_t *)a4, v66, 0, v67, v68, v69, v70, v71);
                if ((v8 & 0x80000000) == 0)
                {
                  if (v11)
                  {
                    v80 = 0;
                    do
                    {
                      v81 = *((_QWORD *)a4 + 60);
                      if (*(_BYTE *)(v81 + v80) == 95)
                        *(_BYTE *)(v81 + v80) = 32;
                      ++v80;
                    }
                    while (v88 != v80);
                  }
                  v82 = *((unsigned __int16 *)a4 + 220);
                  if (*((_WORD *)a4 + 220))
                  {
                    v83 = 0;
                    v84 = (int *)(*(_QWORD *)v22 + 20);
                    do
                    {
                      if (*(v84 - 2) == 1)
                        v83 = 1;
                      *(v84 - 1) = v83;
                      v85 = *v84;
                      v84 += 24;
                      if (v85 == 1)
                        v83 = 0;
                      --v82;
                    }
                    while (v82);
                  }
                  log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"statCOMP : internal processing=\"%s\"", v77, v78, v79, *((_QWORD *)a4 + 60));
                  return printstatCOMPSent(*(_QWORD *)a4, a4[107], (const char **)a4 + 51, *((char **)a4 + 52), (_WORD *)a4 + 212, (uint64_t)v22, *((_QWORD *)a4 + 60), (uint64_t)"after statcomp_getSentenceData()", 0);
                }
              }
            }
            return v8;
          }
        }
      }
LABEL_69:
      v9 = 2313166858;
      log_OutPublic(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 35000, 0, v13, v14, v15, v16, v87);
    }
  }
  return v9;
}

uint64_t addStatCOMPToken(uint64_t a1, unsigned __int16 *a2, uint64_t a3, unsigned __int16 *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10;
  int v11;
  uint64_t v12;
  int v13;
  uint64_t v14;
  unsigned int v15;
  unsigned __int16 *v16;
  unsigned int v17;
  unsigned int v18;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unint64_t v25;

  v10 = a4[4];
  v11 = *a2;
  if (!a4[4])
    goto LABEL_14;
  v12 = 0;
  v13 = v10 + 1;
  v14 = *(_QWORD *)a4;
  v15 = a2[1];
  v16 = (unsigned __int16 *)(*(_QWORD *)a4 + 2);
  while (1)
  {
    v17 = *(v16 - 1);
    if (v11 == v17)
      v13 = v12;
    v18 = *v16;
    if (v15 == v18)
      break;
    if (v15 >= v17 && v15 < v18)
      break;
    v16 += 48;
    ++v12;
    v11 = *a2;
    if (v10 == v12)
      goto LABEL_14;
  }
  if ((_DWORD)v10 + 1 != (unsigned __int16)v13)
  {
    for (; (unsigned __int16)v13 <= (unsigned __int16)v12; ++v13)
      *(_DWORD *)(v14 + 96 * (unsigned __int16)v13 + 8) = 1;
    return 0;
  }
  else
  {
LABEL_14:
    v20 = 2313166848;
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"could not resolve token positions (find start and end) : token=%s from=%d to=%d", a6, a7, a8, a3);
    if (a4[4])
    {
      v24 = 0;
      v25 = 0;
      do
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"word[%d] %d,%d", v21, v22, v23, v25++);
        v24 += 96;
      }
      while (v25 < a4[4]);
    }
  }
  return v20;
}

uint64_t validateUserCompoundWords(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  unint64_t v10;
  unsigned __int16 v11;
  int v12;
  uint64_t v13;
  char *v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  char *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  const char *v22;
  uint64_t v23;
  uint64_t result;
  _OWORD v25[2];

  memset(v25, 0, sizeof(v25));
  if (*((_WORD *)a1 + 220))
  {
    v9 = 0;
    v10 = 0;
    v11 = 0;
    v12 = 0;
    while (1)
    {
      v13 = a1[54];
      if (*(_QWORD *)(v13 + v9 + 40))
      {
        if (v12 == 1)
        {
          log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING : found consecutive S_COMP, assume %s on word %d is incorrect, try to continue...", a6, a7, a8, *(_QWORD *)(v13 + 96 * v11 + 40));
          v13 = a1[54];
        }
        v12 = 1;
        v11 = v10;
      }
      if (!*(_QWORD *)(v13 + v9 + 48))
        goto LABEL_13;
      if (v12 != 1)
        break;
      v14 = *(char **)(v13 + 96 * v11 + 40);
      if (strcmp(v14, *(const char **)(v13 + v9 + 48)))
      {
        log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING : skip user compound word as S_COMP(%s) and E_COMP(%s) fields differ", v15, v16, v17, (uint64_t)v14);
LABEL_12:
        v12 = 0;
        goto LABEL_13;
      }
      v18 = strchr(v14, 43);
      if (!v18)
      {
        log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING : skip user compound word as invalid fields in \"%s\"", v19, v20, v21, (uint64_t)v14);
        goto LABEL_12;
      }
      *v18 = 0;
      v22 = v18 + 1;
      log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"VALID USER COMPOUND WORD ADD from %d to %d", v19, v20, v21, v11);
      v23 = a1[54];
      *(_BYTE *)(v23 + 96 * v11 + 88) = 1;
      *(_BYTE *)(v23 + v9 + 89) = 1;
      result = setCOMPValues(a1, v11, (unsigned __int16)v10, v25, v22, v14, 0, "MARKUP", "USER");
      v12 = 0;
      if ((result & 0x80000000) != 0)
        return result;
LABEL_13:
      ++v10;
      v9 += 96;
      if (v10 >= *((unsigned __int16 *)a1 + 220))
        return 0;
    }
    log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING : skip user compound word as E_COMP(%s) found without starting S_COMP", a6, a7, a8, *(_QWORD *)(v13 + v9 + 48));
    goto LABEL_12;
  }
  return 0;
}

uint64_t printstatCOMPSent(uint64_t a1, int a2, const char **a3, char *a4, _WORD *a5, uint64_t a6, uint64_t a7, uint64_t a8, int a9)
{
  uint64_t v15;
  unint64_t v16;
  const char *v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;

  if (!a2)
    return 0;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Sentence :%s", a6, a7, a8, a8);
  if (!*(_WORD *)(a6 + 8))
    return 0;
  v15 = 0;
  v16 = 0;
  if (a9 != 1)
  {
    v17 = "[%2d] ";
    goto LABEL_6;
  }
  v17 = "statCOMP [%2d] ";
  sprintf(a4, "statCOMP [%2d] ");
  while (1)
  {
    v18 = statcomp_add2Str(a1, a3, a5, a4);
    if ((v18 & 0x80000000) != 0)
      break;
    strncpy(a4, (const char *)(a7 + *(unsigned __int16 *)(*(_QWORD *)a6 + v15)), *(unsigned __int16 *)(*(_QWORD *)a6 + v15 + 2) - (unint64_t)*(unsigned __int16 *)(*(_QWORD *)a6 + v15));
    a4[*(unsigned __int16 *)(*(_QWORD *)a6 + v15 + 2) - *(unsigned __int16 *)(*(_QWORD *)a6 + v15)] = 0;
    v18 = statcomp_add2Str(a1, a3, a5, a4);
    if ((v18 & 0x80000000) != 0)
      break;
    v18 = statcomp_add2Str(a1, a3, a5, " ");
    if ((v18 & 0x80000000) != 0)
      break;
    v22 = statcomp_add2Str(a1, a3, a5, *(char **)(*(_QWORD *)a6 + v15 + 32));
    if ((v22 & 0x80000000) != 0)
      return v22;
    v23 = *(_QWORD *)a6;
    if (*(_DWORD *)(*(_QWORD *)a6 + v15 + 12) == 1)
    {
      v22 = statcomp_add2Str(a1, a3, a5, " <HYPHEN");
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_DWORD *)(v23 + v15 + 20) == 1)
    {
      v22 = statcomp_add2Str(a1, a3, a5, " HYPHEN>");
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_DWORD *)(v23 + v15 + 24) == 1)
    {
      v22 = statcomp_add2Str(a1, a3, a5, " ENDINPUNC");
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_DWORD *)(v23 + v15 + 8) == 1)
    {
      v22 = statcomp_add2Str(a1, a3, a5, " TOK");
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_BYTE *)(v23 + v15 + 88) == 1)
    {
      v22 = statcomp_add2Str(a1, a3, a5, " <CW");
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_QWORD *)(v23 + v15 + 72))
    {
      v18 = statcomp_add2Str(a1, a3, a5, " POS:");
      if ((v18 & 0x80000000) != 0)
        return v18;
      v22 = statcomp_add2Str(a1, a3, a5, *(char **)(*(_QWORD *)a6 + v15 + 72));
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_QWORD *)(v23 + v15 + 80))
    {
      v18 = statcomp_add2Str(a1, a3, a5, " PROM:");
      if ((v18 & 0x80000000) != 0)
        return v18;
      v22 = statcomp_add2Str(a1, a3, a5, *(char **)(*(_QWORD *)a6 + v15 + 80));
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_BYTE *)(v23 + v15 + 89) == 1)
    {
      v22 = statcomp_add2Str(a1, a3, a5, " CW>");
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_QWORD *)(v23 + v15 + 56))
    {
      v18 = statcomp_add2Str(a1, a3, a5, " PRON:");
      if ((v18 & 0x80000000) != 0)
        return v18;
      v22 = statcomp_add2Str(a1, a3, a5, *(char **)(*(_QWORD *)a6 + v15 + 56));
      if ((v22 & 0x80000000) != 0)
        return v22;
      v23 = *(_QWORD *)a6;
    }
    if (*(_QWORD *)(v23 + v15 + 64))
    {
      v18 = statcomp_add2Str(a1, a3, a5, " PRON(new):");
      if ((v18 & 0x80000000) != 0)
        return v18;
      v22 = statcomp_add2Str(a1, a3, a5, *(char **)(*(_QWORD *)a6 + v15 + 64));
      if ((v22 & 0x80000000) != 0)
        return v22;
    }
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s", v19, v20, v21, (uint64_t)*a3);
    **a3 = 0;
    ++v16;
    v15 += 96;
    if (v16 >= *(unsigned __int16 *)(a6 + 8))
      return v22;
LABEL_6:
    sprintf(a4, v17, v16);
  }
  return v18;
}

double statcomp_freeSentenceData(uint64_t a1)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  unint64_t v5;
  uint64_t v6;
  uint64_t v7;
  double result;

  v2 = *(_QWORD *)(a1 + 408);
  if (v2)
  {
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v2);
    *(_QWORD *)(a1 + 408) = 0;
    *(_WORD *)(a1 + 424) = 0;
  }
  v3 = *(_QWORD *)(a1 + 416);
  if (v3)
  {
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v3);
    *(_QWORD *)(a1 + 416) = 0;
  }
  v4 = *(_QWORD *)(a1 + 432);
  if (*(_WORD *)(a1 + 440))
  {
    v5 = 0;
    v6 = 80;
    do
    {
      if (*(_QWORD *)(v4 + v6 - 48))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + v6 - 48));
        v4 = *(_QWORD *)(a1 + 432);
        *(_QWORD *)(v4 + v6 - 48) = 0;
      }
      if (*(_QWORD *)(v4 + v6 - 8))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + v6 - 8));
        v4 = *(_QWORD *)(a1 + 432);
        *(_QWORD *)(v4 + v6 - 8) = 0;
      }
      if (*(_QWORD *)(v4 + v6))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + v6));
        v4 = *(_QWORD *)(a1 + 432);
        *(_QWORD *)(v4 + v6) = 0;
      }
      if (*(_QWORD *)(v4 + v6 - 24))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + v6 - 24));
        v4 = *(_QWORD *)(a1 + 432);
        *(_QWORD *)(v4 + v6 - 24) = 0;
      }
      if (*(_QWORD *)(v4 + v6 - 16))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + v6 - 16));
        v4 = *(_QWORD *)(a1 + 432);
        *(_QWORD *)(v4 + v6 - 16) = 0;
      }
      if (*(_QWORD *)(v4 + v6 - 40))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + v6 - 40));
        v4 = *(_QWORD *)(a1 + 432);
        *(_QWORD *)(v4 + v6 - 40) = 0;
      }
      if (*(_QWORD *)(v4 + v6 - 32))
      {
        heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), *(_QWORD *)(v4 + v6 - 32));
        v4 = *(_QWORD *)(a1 + 432);
        *(_QWORD *)(v4 + v6 - 32) = 0;
      }
      ++v5;
      v6 += 96;
    }
    while (v5 < *(unsigned __int16 *)(a1 + 440));
  }
  else if (!v4)
  {
    goto LABEL_25;
  }
  heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v4);
  *(_QWORD *)(a1 + 432) = 0;
LABEL_25:
  v7 = *(_QWORD *)(a1 + 480);
  if (v7)
  {
    heap_Free(*(_QWORD **)(*(_QWORD *)a1 + 8), v7);
    *(_QWORD *)(a1 + 480) = 0;
  }
  result = 0.0;
  *(_OWORD *)(a1 + 448) = 0u;
  *(_OWORD *)(a1 + 464) = 0u;
  *(_OWORD *)(a1 + 432) = 0u;
  return result;
}

uint64_t statcomp_processCompounds(_QWORD **a1, _DWORD *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  _QWORD *v10;
  const char *v11;
  _QWORD *v12;
  char *v13;
  char *v14;
  const char *v15;
  int v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  int v23;
  const char **v24;
  const char *v25;
  uint64_t v26;
  unsigned int v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  int *v33;
  int v34;
  unsigned int v35;
  __int16 v36;
  uint64_t v37;
  unsigned __int16 v38;
  size_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  unsigned int v43;
  unsigned __int8 *v44;
  int v45;
  uint64_t v46;
  unsigned __int16 v47;
  _QWORD *v48;
  int v49;
  _BYTE *v50;
  uint64_t v51;
  int v52;
  int v53;
  uint64_t v54;
  int v55;
  unsigned __int16 v56;
  __int16 v57;
  uint64_t v58;
  unsigned __int16 v59;
  size_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  int v64;
  uint64_t v65;
  BOOL v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  _QWORD *v72;
  _QWORD *v73;
  int v74;
  unsigned __int16 v75;
  int v76;
  unsigned __int16 v77;
  uint64_t v78;
  _BOOL4 v79;
  uint64_t inited;
  const char *v82;
  unsigned int v83;
  uint64_t v84;
  char *v85;
  char *v86;
  _QWORD *v87;
  const char *v88;
  uint64_t v89;
  uint64_t v90;
  uint64_t v91;
  uint64_t v92;
  uint64_t v93;
  uint64_t v94;
  uint64_t v95;
  _QWORD *v96;
  int v97;
  uint64_t v98;
  uint64_t v99;
  _QWORD *v100;
  uint64_t v101;
  _QWORD *v102;
  uint64_t v103;
  const char *v104;
  uint64_t v105;
  uint64_t v106;
  uint64_t v107;
  uint64_t v108;
  uint64_t v109;
  uint64_t v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  uint64_t v116;
  uint64_t v117;
  uint64_t v118;
  uint64_t v119;
  uint64_t v120;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  _QWORD *v124;
  _QWORD *v125;
  _QWORD *v126;
  char *v127;
  uint64_t v128;
  uint64_t v129;
  uint64_t v130;
  uint64_t v131;
  char *v132;
  int v133;
  char *v134;
  char *v135;
  char *v136;
  char *v137;
  const char *v138;
  uint64_t v139;
  char v140;
  char v141;
  char *v142;
  const char *v143;
  _QWORD *v144;
  uint64_t v145;
  uint64_t v146;
  uint64_t v147;
  const char *v148;
  char *v149;
  const char *v150;
  char *v151;
  char *v152;
  int v153;
  const char *v154;
  int v155;
  char *v156;
  char *v157;
  int v158;
  const char *v159;
  int v160;
  int v161;
  int v162;
  char *v163;
  unsigned __int16 v164;
  uint64_t v165;
  uint64_t v166;
  uint64_t v167;
  _QWORD *v168;
  uint64_t v169;
  uint64_t v170;
  uint64_t v171;
  char *v172;
  char *v173;
  int v174;
  char *v175;
  char *v176;
  int v177;
  char *v178;
  unsigned int v179;
  uint64_t v180;
  uint64_t v181;
  uint64_t v182;
  uint64_t v183;
  _QWORD *v184;
  unsigned __int16 v185;
  uint64_t v186;
  uint64_t v187;
  _QWORD *v188;
  int v189;
  uint64_t v190;
  uint64_t v191;
  uint64_t v192;
  uint64_t v193;
  char v194;
  char *v195;
  int v197;
  int v198;
  int v199;
  int v200;
  char *v201;
  const char *v202;
  char *v203;
  size_t v204;
  char *v205;
  uint64_t v206;
  uint64_t v207;
  uint64_t v208;
  unsigned __int16 v209;
  unsigned int v210;
  uint64_t v211;
  _QWORD *v212;
  _QWORD *v213;
  int v214;
  _BOOL4 v215;
  int v216;
  int v217;
  uint64_t v218;
  unsigned int v219;
  uint64_t v220;
  uint64_t v221;
  uint64_t v222;
  uint64_t v223;
  uint64_t v224;
  uint64_t v225;
  char *v226;
  const char *v227;
  uint64_t v228;
  uint64_t v229;
  uint64_t v230;
  _QWORD *v231;
  _QWORD *v232;
  unsigned __int16 *v233;
  int v234;
  uint64_t v235;
  unint64_t v236;
  _QWORD *v237;
  _QWORD *v238;
  uint64_t *v239;
  uint64_t v240;
  const char *v241;
  uint64_t v242;
  uint64_t v243;
  uint64_t v244;
  uint64_t v245;
  uint64_t v246;
  uint64_t v247;
  _QWORD *v248;
  _QWORD *v249;
  unsigned __int16 v250;
  uint64_t v251;
  unint64_t v252;
  const char *v253;
  _QWORD *v254;
  uint64_t *v255;
  uint64_t v256;
  const char *v257;
  uint64_t v258;
  uint64_t v259;
  uint64_t v260;
  _QWORD *v261;
  unsigned int v262;
  uint64_t v263;
  _QWORD *v264;
  uint64_t v265;
  const char *v266;
  const char *v267;
  char *v268;
  const char *v269;
  uint64_t v270;
  uint64_t *v271;
  uint64_t v272;
  uint64_t v273;
  uint64_t v274;
  uint64_t v275;
  uint64_t v276;
  int v277;
  uint64_t v278;
  uint64_t v279;
  uint64_t v280;
  uint64_t v281;
  uint64_t v282;
  unsigned int v284;
  unsigned int v285;
  int v286;
  int *v287;
  int v288;
  int v289;
  uint64_t v290;
  int v291;
  int v292;
  const char *v293;
  int v294;
  char *v295;
  const char *v296;
  unsigned int v297;
  _QWORD *v298;
  char *v299;
  _QWORD *v300;
  int v301;
  char *v302;
  _QWORD *v303;
  _QWORD *v304;
  int v305;
  const char *v306;
  _DWORD *v307;
  _WORD *v308;
  uint64_t v309;
  int v310;
  _QWORD *v311;
  char *__dst;
  uint64_t v313;
  uint64_t v314;
  uint64_t v315;
  uint64_t v316;
  char *__s2;
  int __s2a;
  int v319;
  int v320;
  _QWORD *v321;
  _QWORD *v322;
  const char *v323;
  const char *v324;
  unsigned __int16 *v325;
  unsigned int v326;
  int v327;
  _BOOL4 v328;
  uint64_t v329;
  uint64_t v330;
  uint64_t v331;
  unsigned int v332;
  int v333;
  _QWORD *v334;
  unsigned __int16 v335;
  int v336;
  unsigned int v337;
  uint64_t v338;
  const char *v339;
  char *v340;
  unsigned __int16 v341;
  int v342;
  unsigned __int8 v343;
  __int16 v344;
  char **v345;
  char __s1[8];
  char v347;
  uint64_t v348;

  v348 = *MEMORY[0x1E0C80C00];
  v10 = a1[9];
  v11 = (const char *)a1[39];
  v12 = a1[40];
  v14 = (char *)a1[45];
  v13 = (char *)a1[46];
  v341 = 0;
  v337 = 0;
  v338 = 0;
  v335 = 0;
  *a2 = 0;
  v336 = 0;
  v339 = 0;
  v340 = 0;
  log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"Compound Processing : with multi-word window=%d", a6, a7, a8, *((unsigned __int16 *)a1 + 172));
  v15 = (const char *)a1[60];
  a1[56] = v15;
  v16 = strlen(v15);
  v17 = heap_Calloc((_QWORD *)(*a1)[1], 1, (v16 + 1));
  a1[57] = (_QWORD *)v17;
  if (!v17)
    goto LABEL_328;
  v307 = a2;
  __dst = v13;
  v334 = a1 + 54;
  v22 = *((unsigned __int16 *)a1 + 220);
  if (*((_WORD *)a1 + 220))
  {
    v23 = 0;
    v24 = (const char **)(*v334 + 32);
    do
    {
      v25 = *v24;
      v24 += 12;
      v23 += strlen(v25) + 1;
      --v22;
    }
    while (v22);
  }
  else
  {
    LOWORD(v23) = 0;
  }
  v26 = heap_Calloc((_QWORD *)(*a1)[1], 1, (unsigned __int16)v23 + 1);
  a1[58] = (_QWORD *)v26;
  if (!v26)
  {
LABEL_328:
    v99 = 2313166858;
    log_OutPublic((*a1)[4], (uint64_t)"FE_POS", 35000, 0, v18, v19, v20, v21, v284);
    return v99;
  }
  v306 = v11;
  v27 = *((unsigned __int16 *)a1 + 220);
  if (!*((_WORD *)a1 + 220))
  {
LABEL_329:
    v99 = printstatCOMPSent((uint64_t)*a1, *((_DWORD *)a1 + 107), (const char **)a1 + 51, (char *)a1[52], (_WORD *)a1 + 212, (uint64_t)v334, (uint64_t)a1[60], (uint64_t)"after statcomp_processCompounds()", 1);
    if ((v99 & 0x80000000) == 0)
      goto LABEL_338;
    return v99;
  }
  v28 = 0;
  v289 = 0;
  v29 = 0;
  v299 = v14;
  v300 = v12;
  while (1)
  {
    v30 = *v334;
    v31 = (unsigned __int16)v29;
    if (*(_DWORD *)(*v334 + 96 * (unsigned __int16)v29 + 8) == 1)
    {
      LODWORD(v32) = v29;
      if ((unsigned __int16)v29 < (unsigned __int16)v27)
      {
        v33 = (int *)(v30 + 96 * (unsigned __int16)v29 + 8);
        v32 = (unsigned __int16)v29;
        while (1)
        {
          v34 = *v33;
          v33 += 24;
          if (v34 != 1)
            break;
          if ((unsigned __int16)v27 == ++v32)
          {
            LODWORD(v32) = v27;
            break;
          }
        }
      }
      v35 = (unsigned __int16)v29;
      if ((unsigned __int16)v29 != (unsigned __int16)v32)
      {
        LODWORD(v29) = (__PAIR64__(v32, *(_DWORD *)(v30 + 96 * (unsigned __int16)v32 + 8)) - 1) >> 32;
        v35 = (unsigned __int16)(v32 - (*(_DWORD *)(v30 + 96 * (unsigned __int16)v32 + 8) == 0));
      }
      v36 = *(_WORD *)(v30 + 96 * v35 + 2);
      v37 = *(unsigned __int16 *)(v30 + 96 * v31);
      v38 = v36 - v37;
      if ((v38 & 0xFF00) != 0)
        v39 = 256;
      else
        v39 = v38;
      strncpy((char *)a1[52], (const char *)a1[60] + v37, v39);
      *((_BYTE *)a1[52] + v39) = 0;
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"skip TOK word \"%s\" from word %d to %d", v40, v41, v42, (uint64_t)a1[52]);
      goto LABEL_64;
    }
    if (*(_BYTE *)(v30 + 96 * (unsigned __int16)v29 + 88) == 1)
    {
      v43 = (unsigned __int16)v29;
      if ((unsigned __int16)v29 < (unsigned __int16)v27)
      {
        v43 = (unsigned __int16)v27;
        v44 = (unsigned __int8 *)(v30 + 96 * (unsigned __int16)v29 + 89);
        v29 = (unsigned __int16)v29;
        while (1)
        {
          v45 = *v44;
          v44 += 96;
          if (v45)
            break;
          if ((unsigned __int16)v27 == ++v29)
          {
            LODWORD(v29) = v27;
            goto LABEL_60;
          }
        }
        v43 = (unsigned __int16)v29;
      }
LABEL_60:
      v57 = *(_WORD *)(v30 + 96 * v43 + 2);
      v58 = *(unsigned __int16 *)(v30 + 96 * v31);
      v59 = v57 - v58;
      if ((v59 & 0xFF00) != 0)
        v60 = 256;
      else
        v60 = v59;
      strncpy((char *)a1[52], (const char *)a1[60] + v58, v60);
      *((_BYTE *)a1[52] + v60) = 0;
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"skip user marked compound word \"%s\" from word %d to %d", v61, v62, v63, (uint64_t)a1[52]);
      goto LABEL_64;
    }
    *(_BYTE *)a1[58] = 0;
    *(_BYTE *)a1[57] = 0;
    v342 = 0;
    v46 = *((unsigned __int16 *)a1 + 220);
    v47 = v46 + 1;
    v48 = a1[54];
    if (v46 <= (unsigned __int16)v29)
    {
      LODWORD(v51) = v29;
    }
    else
    {
      v49 = 0;
      v50 = &v48[12 * (unsigned __int16)v29 + 11];
      v51 = (unsigned __int16)v29;
      while (*((_DWORD *)v50 - 16) != 1 && *v50 != 1 && 1 - (int)v28 + (int)v51 < *((unsigned __int16 *)a1 + 172))
      {
        v52 = *((_DWORD *)v50 - 19);
        v53 = *((_DWORD *)v50 - 17);
        v50 += 96;
        if (v52 == 1)
        {
          v49 = 1;
          v47 = v51;
        }
        if (v53 == 1)
          v49 = 0;
        if (v46 == ++v51)
        {
          LODWORD(v51) = *((unsigned __int16 *)a1 + 220);
          break;
        }
      }
      if ((unsigned __int16)v51 > (unsigned __int16)v29)
        LODWORD(v51) = v51 - (LOBYTE(v48[12 * (unsigned __int16)v51 + 11]) == 1);
      if ((unsigned __int16)v51 > (unsigned __int16)v29)
        LODWORD(v51) = v51 - (HIDWORD(v48[12 * (unsigned __int16)v51 + 1]) == 1);
      if (v49 == 1 && !HIDWORD(v48[12 * (unsigned __int16)v51 + 2]))
        LODWORD(v51) = v29;
    }
    v54 = v51 - ((_DWORD)v46 == (unsigned __int16)v51);
    if (HIDWORD(v48[12 * (unsigned __int16)v54 + 2]) == 1 && (_DWORD)v46 + 1 == v47)
      goto LABEL_64;
    if ((unsigned __int16)v29 <= (unsigned __int16)v54)
    {
      v55 = 0;
      v56 = v29;
      do
      {
        if (HIDWORD(v48[12 * v56 + 1]) == 1)
          v55 = 1;
        ++v56;
      }
      while (v56 <= (unsigned __int16)v54);
      if ((unsigned __int16)v29 <= (unsigned __int16)v54)
        break;
    }
LABEL_56:
    if (v336 == 1)
    {
      v336 = 0;
      heap_Free((_QWORD *)(*a1)[1], (uint64_t)v339);
      v339 = 0;
      if (v340)
      {
        heap_Free((_QWORD *)(*a1)[1], (uint64_t)v340);
        v340 = 0;
      }
    }
LABEL_64:
    v29 = (v29 + 1);
    v28 = (unsigned __int16)v29;
    v27 = *((unsigned __int16 *)a1 + 220);
    if ((unsigned __int16)v29 >= v27)
      goto LABEL_329;
  }
  v296 = 0;
  v64 = 0;
  v65 = v54;
  v330 = (unsigned __int16)v29;
  v298 = v10;
  do
  {
    v66 = (unsigned __int16)v65 != (unsigned __int16)v29 && v64 == 0;
    if (!v66)
      break;
    v67 = 12 * v31;
    v316 = (unsigned __int16)v65;
    v331 = v65;
    v68 = 3 * (unsigned __int16)v65;
    strncpy((char *)a1[52], (const char *)a1[60] + LOWORD(a1[54][12 * v31]), WORD1(a1[54][4 * v68]) - (unint64_t)LOWORD(a1[54][12 * v31]));
    v72 = a1[54];
    v73 = &v72[4 * v68];
    v65 = v331;
    *((_BYTE *)a1[52] + *((unsigned __int16 *)v73 + 1) - LOWORD(v72[v67])) = 0;
    if ((unsigned __int16)v29 <= (unsigned __int16)v331)
    {
      v75 = 0;
      v74 = 0;
      v76 = 0;
      v77 = v29;
      do
      {
        v78 = *v334 + 96 * v77;
        if (*(_DWORD *)(v78 + 12) == 1)
        {
          v76 = 1;
          v74 = 1;
          ++v75;
        }
        v79 = v76 == 0;
        if (*(_DWORD *)(v78 + 20) == 1)
        {
          v76 = 0;
          v74 = v79;
        }
        ++v77;
      }
      while (v77 <= (unsigned __int16)v331);
    }
    else
    {
      v74 = 0;
      v75 = 0;
    }
    if (v74 == 1 || v75 >= 2u)
    {
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"skip bisected \"%s\"", v69, v70, v71, (uint64_t)a1[52]);
      goto LABEL_86;
    }
    v335 = 0;
    log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"processing [%d] \"%s\"", v69, v70, v71, v28);
    v313 = v28;
    while (1)
    {
LABEL_89:
      if (v55 == 1)
      {
        inited = isCompoundWordMember((uint64_t)a1, 1, (unsigned __int16)v29, (unsigned __int16)v65, &v342, &v341, &v335);
        v82 = "HYPHEN";
        if ((inited & 0x80000000) != 0)
          goto LABEL_331;
      }
      else
      {
        inited = isCompoundWordMember((uint64_t)a1, 0, (unsigned __int16)v29, (unsigned __int16)v65, &v342, &v341, &v335);
        v82 = "OPEN";
        if ((inited & 0x80000000) != 0)
          goto LABEL_331;
      }
      ++v335;
      if (v342 == 1)
        break;
      if (!v342)
      {
        v296 = v82;
        if (*(_DWORD *)(*v334 + 96 * v316 + 20) == 1)
        {
          for (; (unsigned __int16)v65 >= (unsigned __int16)v29; v65 = (v65 - 1))
          {
            if (*(_DWORD *)(*v334 + 96 * (unsigned __int16)v65 + 12))
              break;
          }
          v64 = 0;
          goto LABEL_87;
        }
LABEL_86:
        v64 = 0;
        v65 = (v65 - 1);
        goto LABEL_87;
      }
    }
    v296 = v82;
    v83 = v341;
    v84 = 15 * v341;
    v85 = strcpy(v299, &v306[*((unsigned int *)v300 + HIDWORD(v10[v84]))]);
    strcpy(&v299[strlen(v85)], "_firstword");
    v86 = strcpy(__dst, &v306[*((unsigned int *)v300 + HIDWORD(v10[v84]))]);
    strcpy(&__dst[strlen(v86)], "_lastword");
    v87 = a1[9];
    v88 = (const char *)a1[39];
    v322 = a1[40];
    v342 = 0;
    v28 = v313;
    v89 = 12 * v330;
    strncpy((char *)a1[52], (const char *)a1[60] + LOWORD(a1[54][v89]), WORD1(a1[54][12 * v316]) - (unint64_t)LOWORD(a1[54][v89]));
    *((_BYTE *)a1[52] + WORD1(a1[54][12 * v316]) - LOWORD(a1[54][v89])) = 0;
    v297 = v83;
    log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"  [FILTER] Checking Compound Word Membership Filter for [%d] word \"%s\" compound rule %d", v90, v91, v92, v313);
    v96 = &v87[v84];
    v308 = &v87[v84 + 8];
    if (!*v308)
    {
      v99 = 0;
      v65 = v331;
LABEL_264:
      v97 = 0;
      v342 = 0;
      v227 = "  [FILTER] FAIL";
      goto LABEL_265;
    }
    v324 = v88;
    v97 = 0;
    v98 = 0;
    v286 = 0;
    v288 = 0;
    LODWORD(v99) = 0;
    v287 = (int *)v96;
    v100 = v96 + 7;
    v101 = v96[7];
    v311 = v96 + 7;
    v309 = v29;
    do
    {
      v326 = v99;
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"  check filter \"%s\"", v93, v94, v95, (uint64_t)&v324[*((unsigned int *)v322 + *(unsigned int *)(v101 + 8 * v98))]);
      v102 = v100;
      v103 = *v100;
      v314 = 8 * v98;
      v104 = &v324[*((unsigned int *)v322 + *(unsigned int *)(v103 + 8 * v98))];
      v315 = v98;
      if (!strcmp("ALGO_INLEXICON", v104))
      {
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    call ALGO_INLEXICON with ARG %s", v105, v106, v107, (uint64_t)&v324[*((unsigned int *)v322 + *(unsigned int *)(v103 + 8 * v98 + 4))]);
        v123 = *((unsigned int *)v322 + *(unsigned int *)(*v102 + 8 * v98 + 4));
        v124 = a1[9];
        v125 = a1[39];
        v126 = a1[40];
        v345 = 0;
        v343 = 0;
        v342 = 0;
        strncpy((char *)a1[57], (const char *)a1[60] + LOWORD(a1[54][12 * v330]), WORD1(a1[54][12 * v316]) - (unint64_t)LOWORD(a1[54][12 * v330]));
        *((_BYTE *)a1[57] + WORD1(a1[54][12 * v316]) - LOWORD(a1[54][12 * v330])) = 0;
        strncpy(__s1, (const char *)a1[57], 0x7FuLL);
        v347 = 0;
        inited = ((uint64_t (*)(_QWORD *, _QWORD *, const char *, char *, uint64_t))a1[50][18])(a1[48], a1[49], "normal", __s1, 128);
        if ((inited & 0x80000000) != 0)
        {
LABEL_331:
          v99 = inited;
          goto LABEL_338;
        }
        v344 = -1;
        v99 = ((uint64_t (*)(_QWORD *, _QWORD *, char *, char *, char ***, __int16 *, unsigned __int8 *))a1[50][12])(a1[48], a1[49], (char *)v125 + *((unsigned int *)v126 + HIDWORD(v124[15 * v297])), __s1, &v345, &v344, &v343);
        v29 = v309;
        if ((v99 & 0x80000000) != 0)
          goto LABEL_338;
        if (v344 != 1 || !v345)
        {
          v97 = 0;
          v342 = 0;
          v65 = v331;
          v100 = v311;
          v28 = v313;
          v166 = v314;
          goto LABEL_242;
        }
        v127 = strchr(*v345, v343);
        v28 = v313;
        if (v127)
        {
          v132 = v127;
          *v127 = 0;
          v133 = strcmp(*v345, &v324[v123]);
          v97 = 0;
          if (!v133)
          {
            v97 = 1;
            v342 = 1;
          }
          v134 = v132 + 1;
          v135 = strchr(v134, v343);
          if (v135)
          {
            v136 = v135;
            *v135 = 0;
            if (!v133)
            {
              v200 = strlen(v134);
              v201 = (char *)heap_Calloc((_QWORD *)(*a1)[1], 1, (v200 + 1));
              v339 = v201;
              if (!v201)
                goto LABEL_335;
              strcpy(v201, v134);
              v336 = 1;
              v202 = v136 + 1;
              v203 = strchr(v136 + 1, v343);
              if (v203)
              {
                *v203 = 0;
                v204 = strlen(v136 + 1);
                v65 = v331;
                v100 = v311;
                if (v204)
                {
                  v205 = (char *)heap_Calloc((_QWORD *)(*a1)[1], 1, (v204 + 1));
                  v340 = v205;
                  if (!v205)
                    goto LABEL_335;
                  strcpy(v205, v202);
                  v336 = 1;
                }
              }
              else
              {
                v65 = v331;
                v100 = v311;
              }
              v217 = *v287;
              v218 = *v100;
              v166 = v314;
              goto LABEL_241;
            }
            v137 = strchr(v135 + 1, v343);
            if (v137)
              *v137 = 0;
            goto LABEL_199;
          }
LABEL_333:
          v279 = 35003;
        }
        else
        {
LABEL_332:
          v279 = 35002;
        }
        v99 = 2313166848;
        goto LABEL_336;
      }
      if (!strcmp("ALGO_EXTENDEDLEXMATCH", v104))
      {
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    call ALGO_EXTENDEDLEXMATCH with ARG %s", v108, v109, v110, (uint64_t)&v324[*((unsigned int *)v322 + *(unsigned int *)(v103 + 8 * v98 + 4))]);
        v327 = 0;
        v290 = 0;
        v301 = 0;
        v138 = 0;
        v310 = 0;
        v305 = 0;
        v319 = 0;
        v139 = *((unsigned int *)v322 + *(unsigned int *)(*v311 + 8 * v98 + 4));
        v304 = a1[45];
        v302 = 0;
        v303 = a1[46];
        v345 = 0;
        __s2 = (char *)&v324[v139];
        v343 = 0;
        v342 = 0;
        v140 = 1;
        v29 = v309;
        while (1)
        {
          v141 = v140;
          v344 = -1;
          v142 = (char *)a1[57];
          v143 = (const char *)a1[60];
          v144 = a1[54];
          if ((v141 & 1) != 0)
          {
            strncpy(v142, &v143[LOWORD(v144[12 * v330])], WORD1(v144[12 * v330]) - (unint64_t)LOWORD(v144[12 * v330]));
            *((_BYTE *)a1[57] + WORD1(a1[54][12 * v330]) - LOWORD(a1[54][12 * v330])) = 0;
            v99 = ((uint64_t (*)(_QWORD *, _QWORD *, _QWORD *, _QWORD *, char ***, __int16 *, unsigned __int8 *))a1[50][12])(a1[48], a1[49], v304, a1[57], &v345, &v344, &v343);
            if ((v99 & 0x80000000) != 0)
              goto LABEL_338;
            if (v344 != 1)
              goto LABEL_130;
            v148 = "MATCH ON FIRST WORD";
            if (!v345)
              goto LABEL_130;
          }
          else
          {
            strncpy(v142, &v143[LOWORD(v144[12 * v316])], WORD1(v144[12 * v316]) - (unint64_t)LOWORD(v144[12 * v316]));
            *((_BYTE *)a1[57] + WORD1(a1[54][12 * v316]) - LOWORD(a1[54][12 * v316])) = 0;
            strncpy(__s1, (const char *)a1[57], 0x7FuLL);
            v347 = 0;
            inited = ((uint64_t (*)(_QWORD *, _QWORD *, const char *, char *, uint64_t))a1[50][18])(a1[48], a1[49], "normal", __s1, 128);
            if ((inited & 0x80000000) != 0)
              goto LABEL_331;
            v99 = ((uint64_t (*)(_QWORD *, _QWORD *, _QWORD *, char *, char ***, __int16 *, unsigned __int8 *))a1[50][12])(a1[48], a1[49], v303, __s1, &v345, &v344, &v343);
            if ((v99 & 0x80000000) != 0)
              goto LABEL_338;
            if (v344 != 1 || (v148 = "MATCH ON LAST WORD", !v345))
            {
              v154 = v138;
LABEL_223:
              v165 = 0;
              v215 = v319 == 1;
              if (v319 != 1)
              {
                v138 = v154;
                v154 = v302;
                goto LABEL_234;
              }
              v65 = v331;
              v166 = v314;
              if (!v305)
              {
                v342 = 1;
                v339 = v154;
                v216 = v310;
                goto LABEL_238;
              }
              v138 = v154;
              v154 = v302;
LABEL_235:
              if (!v319 && v305 == 1)
              {
                v342 = 1;
                v339 = v154;
                v216 = v301;
LABEL_238:
                v336 = v216;
                v28 = v313;
LABEL_239:
                v100 = v311;
LABEL_240:
                v217 = *v287;
                v218 = *v100;
LABEL_241:
                v219 = *(_DWORD *)(v218 + v166);
                LODWORD(v338) = v217;
                v337 = v219;
                v97 = 1;
                goto LABEL_242;
              }
              if (v305 != 1)
                v215 = 0;
              if (!v215)
              {
                v97 = 0;
                v342 = 0;
                v28 = v313;
                v100 = v311;
                goto LABEL_242;
              }
              v342 = 1;
              if (!strcmp(v138, v154))
              {
                v339 = v138;
                v336 = v310;
                heap_Free((_QWORD *)(*a1)[1], (uint64_t)v154);
                goto LABEL_259;
              }
              if (v290 > v165)
              {
                v339 = v138;
                v336 = v310;
                heap_Free((_QWORD *)(*a1)[1], (uint64_t)v154);
                log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"MATCH in FIRST and LAST word PRM; chose FIRST on frequency (%d > %d) set PRM=%s",
                  v220,
                  v221,
                  v222,
                  v290);
                goto LABEL_259;
              }
              if (v165 > v290)
              {
                v339 = v154;
                v336 = v301;
                heap_Free((_QWORD *)(*a1)[1], (uint64_t)v138);
                log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"MATCH in FIRST and LAST word PRM; chose LAST on frequency (%d > %d) set PRM=%s",
                  v223,
                  v224,
                  v225,
                  v165);
LABEL_259:
                v97 = v342;
                v28 = v313;
                v166 = v314;
                v100 = v311;
                if (v342 != 1)
                  goto LABEL_242;
                goto LABEL_240;
              }
              heap_Free((_QWORD *)(*a1)[1], (uint64_t)v138);
              heap_Free((_QWORD *)(*a1)[1], (uint64_t)v154);
              v226 = (char *)heap_Calloc((_QWORD *)(*a1)[1], 1, 3);
              v339 = v226;
              if (v226)
              {
                strcpy(v226, "LS");
                v336 = 1;
                v342 = 1;
                log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"MISMATCH in FIRST and LAST word PRM; set default=%s",
                  v129,
                  v130,
                  v131,
                  (uint64_t)v226);
                v28 = v313;
                v166 = v314;
                goto LABEL_239;
              }
LABEL_335:
              v279 = 35000;
              v99 = 2313166858;
LABEL_336:
              v280 = (*a1)[4];
LABEL_337:
              log_OutPublic(v280, (uint64_t)"FE_POS", v279, 0, v128, v129, v130, v131, v285);
              goto LABEL_338;
            }
          }
          log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)v148, v145, v146, v147, 0);
          v149 = strchr(*v345, v343);
          if (!v149)
            goto LABEL_332;
          *v149 = 0;
          v150 = v149 + 1;
          v151 = strchr(v149 + 1, v343);
          if (!v151)
            goto LABEL_333;
          v152 = v151;
          v153 = strcmp(*v345, __s2);
          *v152 = 0;
          if (v153 && v327 != 1)
          {
LABEL_130:
            v154 = v138;
            goto LABEL_151;
          }
          v155 = strlen(v150);
          v156 = (char *)heap_Calloc((_QWORD *)(*a1)[1], 1, (v155 + 1));
          if (!v156)
            goto LABEL_335;
          v154 = v156;
          v157 = v302;
          if ((v141 & 1) == 0)
            v157 = v156;
          v295 = v157;
          v158 = v301;
          if ((v141 & 1) == 0)
            v158 = 1;
          v294 = v158;
          if ((v141 & 1) != 0)
            v159 = v156;
          else
            v159 = v138;
          v293 = v159;
          if ((v141 & 1) != 0)
            v160 = 1;
          else
            v160 = v310;
          v161 = v305;
          if ((v141 & 1) == 0)
            v161 = 1;
          v291 = v161;
          v292 = v160;
          if ((v141 & 1) != 0)
            v162 = 1;
          else
            v162 = v319;
          strcpy(v156, v150);
          v163 = strchr(v152 + 1, v343);
          if (v163)
          {
            *v163 = 0;
            v164 = (unsigned __int16)LH_atoi(v152 + 1);
            v165 = v164;
            if ((v141 & 1) == 0)
            {
              v215 = v319 == 1;
              v305 = 1;
              v301 = 1;
LABEL_234:
              v65 = v331;
              v166 = v314;
              goto LABEL_235;
            }
            v327 = 1;
            v319 = 1;
            v310 = 1;
            v290 = v164;
          }
          else
          {
            v327 = 1;
            v319 = v162;
            v305 = v291;
            v310 = v292;
            v154 = v293;
            v301 = v294;
            v302 = v295;
          }
LABEL_151:
          v140 = 0;
          v138 = v154;
          if ((v141 & 1) == 0)
            goto LABEL_223;
        }
      }
      v29 = v309;
      if (!strcmp("ALGO_EXTENDEDFIRSTWORDLEXMATCH", v104))
      {
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    call ALGO_EXTENDEDFIRSTWORDLEXMATCH with ARG %s", v111, v112, v113, (uint64_t)&v324[*((unsigned int *)v322 + *(unsigned int *)(v103 + 8 * v98 + 4))]);
        v167 = *((unsigned int *)v322 + *(unsigned int *)(*v311 + 8 * v98 + 4));
        v168 = a1[45];
        *(_QWORD *)__s1 = 0;
        LOBYTE(v344) = 0;
        v342 = 0;
        LOWORD(v345) = -1;
        strncpy((char *)a1[57], (const char *)a1[60] + LOWORD(a1[54][12 * v330]), WORD1(a1[54][12 * v330]) - (unint64_t)LOWORD(a1[54][12 * v330]));
        *((_BYTE *)a1[57] + WORD1(a1[54][12 * v330]) - LOWORD(a1[54][12 * v330])) = 0;
        v99 = ((uint64_t (*)(_QWORD *, _QWORD *, _QWORD *, _QWORD *, char *, char ***, __int16 *))a1[50][12])(a1[48], a1[49], v168, a1[57], __s1, &v345, &v344);
        v28 = v313;
        if ((v99 & 0x80000000) != 0)
          goto LABEL_338;
        if ((unsigned __int16)v345 == 1 && *(_QWORD *)__s1)
        {
          log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"MATCH ON FIRST WORD", v169, v170, v171, 0);
          v172 = strchr(**(char ***)__s1, v344);
          if (v172)
          {
            v173 = v172;
            *v172 = 0;
            v174 = strcmp(**(const char ***)__s1, &v324[v167]);
            v97 = 0;
            if (!v174)
            {
              v97 = 1;
              v342 = 1;
            }
            v175 = v173 + 1;
            v176 = strchr(v175, v344);
            if (v176)
            {
              *v176 = 0;
              if (!v174)
              {
                v177 = strlen(v175);
                v178 = (char *)heap_Calloc((_QWORD *)(*a1)[1], 1, (v177 + 1));
                v339 = v178;
                v100 = v311;
                if (v178)
                {
                  strcpy(v178, v175);
                  v97 = 1;
                  LODWORD(v338) = *v287;
                  v166 = v314;
                  v179 = *(_DWORD *)(*v311 + v314);
                  v336 = 1;
                  v337 = v179;
                  v65 = v331;
                  goto LABEL_242;
                }
                goto LABEL_335;
              }
              goto LABEL_199;
            }
            v279 = 35003;
          }
          else
          {
            v279 = 35002;
          }
          v99 = 2313166848;
          goto LABEL_336;
        }
        v97 = 0;
        v342 = 0;
LABEL_199:
        v65 = v331;
        goto LABEL_200;
      }
      v28 = v313;
      if (strcmp("FILTER_NO_TOKEN_NO_ABBREVIATION", v104))
      {
        v65 = v331;
        if (strcmp("FILTER_BLOCK_ACROSS_TOKEN_BOUNDARIES", v104))
        {
          if (!strcmp("ELSE_IGNORE", v104))
            v286 = 1;
          else
            log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    UNIMPLEMENTED filter %s - skip", v120, v121, v122, (uint64_t)v104);
          v100 = v311;
          v166 = v314;
          v99 = v326;
          goto LABEL_242;
        }
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    call FILTER_BLOCK_ACROSS_TOKEN_BOUNDARIES", v117, v118, v119, 0);
        v342 = 1;
        v209 = v309;
        while (1)
        {
          v210 = v209;
          v211 = 3 * v209;
          log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    word %d token=%d", v206, v207, v208, v209);
          v212 = a1[54];
          v213 = &v212[4 * v211];
          v65 = v331;
          if (*((_DWORD *)v213 + 2) == 1
            && (v210 != (unsigned __int16)v309 && !LODWORD(v212[12 * v210 - 11])
             || v210 != (unsigned __int16)v331 && !LODWORD(v212[12 * v210 + 13])))
          {
            break;
          }
          v209 = v210 + 1;
          if ((unsigned __int16)(v210 + 1) > (unsigned __int16)v331)
          {
            v99 = 0;
            v97 = 1;
            v288 = 1;
            goto LABEL_200;
          }
        }
        v97 = 0;
        v99 = 0;
        v342 = 0;
LABEL_200:
        v100 = v311;
        v166 = v314;
        goto LABEL_242;
      }
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    call FILTER_NO_TOKEN_NO_ABBREVIATION", v114, v115, v116, 0);
      __s2a = 0;
      v320 = 0;
      v328 = 0;
      v99 = 0;
      v183 = *((unsigned __int16 *)a1 + 174);
      v184 = a1[44];
      v342 = 1;
      v185 = v309;
      v65 = v331;
      do
      {
        v186 = v185;
        v187 = 3 * v185;
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    word %d token=%d singleChar=%d hyphen=%d", v180, v181, v182, v185);
        v188 = a1[54];
        if (LODWORD(v188[4 * v187 + 1]) == 1)
        {
          v97 = 0;
          v342 = 0;
          goto LABEL_215;
        }
        if (LODWORD(v188[12 * v186 + 2]) == 1)
          v189 = v320 + 1;
        else
          v189 = v320;
        v320 = v189;
        if ((_DWORD)v186 != (unsigned __int16)v65)
        {
          if (LOWORD(v188[12 * v186]) + 1 != WORD1(v188[12 * v186]))
            goto LABEL_195;
LABEL_190:
          v198 = __s2a;
          if (LODWORD(v188[12 * v186 + 2]) == 1)
            v198 = __s2a + 1;
          __s2a = v198;
          v199 = v328;
          if ((_DWORD)v186 == (unsigned __int16)v309)
            v199 = 1;
          v328 = v199;
          goto LABEL_195;
        }
        strncpy((char *)a1[52], (const char *)a1[60] + LOWORD(v188[12 * v186]), WORD1(v188[12 * v186]) - (unint64_t)LOWORD(v188[12 * v186]));
        *((_BYTE *)a1[52] + WORD1(a1[54][12 * v186]) - LOWORD(a1[54][12 * v186])) = 0;
        strncpy(__s1, (const char *)a1[52], 0x7FuLL);
        v347 = 0;
        v99 = ((uint64_t (*)(_QWORD *, _QWORD *, const char *, char *, uint64_t))a1[50][18])(a1[48], a1[49], "normal", __s1, 128);
        if ((v99 & 0x80000000) != 0)
          goto LABEL_338;
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    check canonical form %s for last word (in case abbreviation)", v190, v191, v192, (uint64_t)__s1);
        if (!(_DWORD)v183)
          goto LABEL_187;
        v193 = 0;
        v194 = 1;
        do
        {
          while (1)
          {
            v195 = strstr(__s1, (const char *)v184[v193]);
            if (!v195 || v195 - __s1 != 1)
              break;
            v194 = 0;
            *v195 = 0;
            v197 = __s2a;
            if (*(_DWORD *)(*v334 + 96 * v186 + 16) == 1)
              v197 = __s2a + 1;
            __s2a = v197;
            v328 = v328;
            v66 = v183 - 1 == v193++;
            if (v66)
              goto LABEL_188;
          }
          ++v193;
        }
        while (v183 != v193);
        if ((v194 & 1) != 0)
LABEL_187:
          v328 = 0;
LABEL_188:
        v188 = (_QWORD *)*v334;
        if (*(unsigned __int16 *)(*v334 + 96 * v186) + 1 == *(unsigned __int16 *)(*v334
                                                                                                 + 96
                                                                                                 * v186
                                                                                                 + 2)
          || strlen(__s1) == 1)
        {
          goto LABEL_190;
        }
LABEL_195:
        v185 = v186 + 1;
        v65 = v331;
      }
      while ((unsigned __int16)(v186 + 1) <= (unsigned __int16)v331);
      if (v328)
      {
        v342 = 0;
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    found abbreviation", v180, v181, v182, 0);
        v97 = 0;
LABEL_215:
        v28 = v313;
        goto LABEL_216;
      }
      v28 = v313;
      if ((unsigned __int16)__s2a == (unsigned __int16)v320)
      {
        v342 = 0;
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"    found abbreviation (countHyphenSingleChar=%d,countHyphen=%d)", v180, v181, v182, (unsigned __int16)v320);
        v97 = 0;
      }
      else
      {
        v97 = 1;
      }
LABEL_216:
      v100 = v311;
      v166 = v314;
      if ((v99 & 0x80000000) != 0)
        goto LABEL_338;
      v214 = v288;
      if (v97)
        v214 = 1;
      v288 = v214;
LABEL_242:
      v101 = *v100;
      if (!strncmp(&v324[*((unsigned int *)v322 + *(unsigned int *)(*v100 + v166))], "FILTER_", 7uLL))
      {
        if (v97)
          goto LABEL_246;
        v227 = "  [FILTER] FAIL";
LABEL_265:
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)v227, v93, v94, v95, 0);
        if ((v99 & 0x80000000) != 0)
          goto LABEL_338;
        v66 = v97 == 1;
        v10 = v298;
        if (v66)
        {
          v64 = 1;
          v289 = v65;
          goto LABEL_87;
        }
        goto LABEL_89;
      }
      if (v97 == 1)
      {
        v227 = "  [FILTER] SUCCESS";
        goto LABEL_265;
      }
LABEL_246:
      v98 = v315 + 1;
    }
    while (v315 + 1 < (unint64_t)(unsigned __int16)*v308);
    if (v288 != 1)
    {
      v65 = v331;
      goto LABEL_264;
    }
    v65 = v331;
    if (v286 == 1)
    {
      v97 = 0;
      v342 = 0;
      v227 = "  [FILTER] SUCCESS but ELSE_IGNORE set so FAIL";
      goto LABEL_265;
    }
    v64 = 1;
    v342 = 1;
    log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"  [FILTER] SUCCESS", v93, v94, v95, 0);
    v289 = v331;
    if ((v99 & 0x80000000) != 0)
      goto LABEL_338;
LABEL_87:
    v10 = v298;
    v31 = v330;
  }
  while ((unsigned __int16)v65 >= (unsigned __int16)v29);
  if (v64 != 1)
    goto LABEL_56;
  log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"COMPOUND WORD SUCCESSFULLY PROCESSED %d to %d", v19, v20, v21, v28);
  v231 = a1[9];
  v332 = v341;
  v232 = &v231[15 * v341];
  v234 = *((unsigned __int16 *)v232 + 48);
  v233 = (unsigned __int16 *)(v232 + 12);
  if (v234)
  {
    v235 = 0;
    v236 = 0;
    v237 = a1[39];
    v238 = a1[40];
    v239 = &v231[15 * v341 + 11];
    while (1)
    {
      v240 = *v239;
      v241 = (char *)v237 + *((unsigned int *)v238 + *(unsigned int *)(*v239 + v235));
      if (!strcmp("SETDEFAULT", v241))
        break;
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"UNIMPLEMENTED POS rule %s %s - skip", v242, v243, v244, (uint64_t)v241);
      ++v236;
      v235 += 8;
      if (v236 >= *v233)
        goto LABEL_286;
    }
    v323 = (char *)v237 + *((unsigned int *)v238 + *(unsigned int *)(v240 + v235 + 4));
    log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"SET SETDEFAULT POS = %s", v242, v243, v244, (uint64_t)v323);
  }
  else
  {
LABEL_286:
    log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"SET HARDCODED DEFAULT POS %s", v228, v229, v230, (uint64_t)"NN");
    v323 = "NN";
  }
  v248 = a1[9];
  v249 = &v248[15 * v332];
  v250 = *((_WORD *)v249 + 56);
  v325 = (unsigned __int16 *)(v249 + 14);
  if (!v250)
  {
LABEL_305:
    v267 = "LS";
    log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"SET HARDCODED DEFAULT PROM %s", v245, v246, v247, (uint64_t)"LS");
LABEL_306:
    v268 = 0;
    v269 = "DEFAULT";
LABEL_307:
    v10 = v298;
    v261 = a1[54];
    LOBYTE(v261[12 * v330 + 11]) = 1;
    BYTE1(v261[12 * (unsigned __int16)v289 + 11]) = 1;
    v262 = (unsigned __int16)v29;
    LODWORD(v29) = v289;
    inited = setCOMPValues((uint64_t *)a1, v262, (unsigned __int16)v289, &v336, v323, v267, v268, v269, v296);
    if ((inited & 0x80000000) != 0)
      goto LABEL_331;
    *v307 = 1;
    goto LABEL_56;
  }
  v251 = 0;
  v252 = 0;
  v321 = a1[20];
  v253 = (const char *)a1[39];
  v254 = a1[40];
  v255 = &v248[15 * v332 + 13];
  v333 = v336;
  v329 = v337;
  while (2)
  {
    v256 = *v255;
    v257 = &v253[*((unsigned int *)v254 + *(unsigned int *)(*v255 + v251))];
    if (!strcmp("MATCHED_ALGO_INLEXICON", v257))
    {
      if (v333 == 1 && !strcmp("ALGO_INLEXICON", &v253[*((unsigned int *)v254 + v329)]))
      {
        v267 = v339;
        log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"MATCHED_ALGO_INLEXICON : CACHED(ALGO_INLEXICON) PROM = %s", v245, v246, v247, (uint64_t)v339);
        v268 = v340;
        v269 = "LEX";
        goto LABEL_307;
      }
LABEL_304:
      ++v252;
      v251 += 8;
      if (v252 >= v250)
        goto LABEL_305;
      continue;
    }
    break;
  }
  if (!strcmp("MATCHED_ALGO_EXTENDEDLEXMATCH", v257))
  {
    if (v333 == 1 && !strcmp("ALGO_EXTENDEDLEXMATCH", &v253[*((unsigned int *)v254 + v329)]))
    {
      v267 = v339;
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"MATCHED_ALGO_EXTENDEDLEXMATCH : CACHED(ALGO_EXTENDEDLEXMATCH) PROM = %s", v245, v246, v247, (uint64_t)v339);
      v268 = 0;
      v269 = "EXTENDEDLEX";
      goto LABEL_307;
    }
    goto LABEL_304;
  }
  if (!strcmp("MATCHED_ALGO_EXTENDEDFIRSTWORDLEXMATCH", v257))
  {
    if (v333 == 1 && !strcmp("ALGO_EXTENDEDFIRSTWORDLEXMATCH", &v253[*((unsigned int *)v254 + v329)]))
    {
      v267 = v339;
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"MATCHED_ALGO_EXTENDEDFIRSTWORDLEXMATCH : CACHED(ALGO_EXTENDEDFIRSTWORDLEXMATCH) PROM = %s", v245, v246, v247, (uint64_t)v339);
      v268 = 0;
      v269 = "EXTENDEDFIRSTWORDLEX";
      goto LABEL_307;
    }
    goto LABEL_304;
  }
  if (strcmp("IGTREE", v257))
  {
    if (!strcmp("SETDEFAULT", v257))
    {
      v267 = &v253[*((unsigned int *)v254 + *(unsigned int *)(v256 + v251 + 4))];
      log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"SET SETDEFAULT PROM = %s", v258, v259, v260, (uint64_t)v267);
      goto LABEL_306;
    }
    log_OutText((*a1)[4], (uint64_t)"FE_POS", 5, 0, (uint64_t)"UNIMPLEMENTED PROM rule %s - skip", v258, v259, v260, (uint64_t)v257);
    v250 = *v325;
    goto LABEL_304;
  }
  v263 = *((unsigned __int16 *)a1 + 72);
  v264 = a1[20];
  if (*((_WORD *)a1 + 72))
  {
    v265 = 0;
    v266 = &v253[*((unsigned int *)v254 + *(unsigned int *)(v256 + v251 + 4))];
    while (strcmp((const char *)v264[v265], v266))
    {
      if (v263 == ++v265)
        goto LABEL_314;
    }
  }
  else
  {
LABEL_314:
    LOWORD(v265) = 0;
  }
  v270 = a1[21][(unsigned __int16)v265];
  v271 = (uint64_t *)heap_Calloc((_QWORD *)(*a1)[1], 1, 8 * *(unsigned __int8 *)(v270 + 1296) - 8);
  v272 = (uint64_t)*a1;
  if (!v271)
  {
    v99 = 2313166858;
    v280 = *(_QWORD *)(v272 + 32);
    v279 = 35000;
    goto LABEL_337;
  }
  inited = statcomp_initFeatureVector(v272, v271, (unsigned __int16)(*(unsigned __int8 *)(v270 + 1296) - 1));
  if ((inited & 0x80000000) != 0)
    goto LABEL_331;
  *(_QWORD *)__s1 = 0;
  v273 = setStatCOMPFeatureVector((unsigned __int16)v265, (uint64_t *)a1, (unsigned __int16)v29, v289, (uint64_t)v271);
  if ((v273 & 0x80000000) != 0 || (v273 = igtree_Process(v270, (uint64_t)v271, __s1), (v273 & 0x80000000) != 0))
  {
    v99 = v273;
    v267 = 0;
  }
  else
  {
    v267 = *(const char **)__s1;
    v99 = statcomp_dumpFeatureVectorAndResult((uint64_t)*a1, *((_DWORD *)a1 + 107), (const char **)a1 + 51, (_WORD *)a1 + 212, "IGTREE RESULT=", (char *)v264[(unsigned __int16)v265], v270, (uint64_t)v271, *(char **)__s1);
  }
  statcomp_freeFeatureVector(*a1, v271, (unsigned __int16)(*(unsigned __int8 *)(v270 + 1296) - 1));
  heap_Free((_QWORD *)(*a1)[1], (uint64_t)v271);
  if ((v99 & 0x80000000) == 0)
  {
    v269 = (const char *)v321[(unsigned __int16)v265];
    v277 = strcmp(v267, "=");
    v278 = (*a1)[4];
    if (v277)
    {
      log_OutText(v278, (uint64_t)"FE_POS", 5, 0, (uint64_t)"SET IGTREE %s PROM = %s", v274, v275, v276, (uint64_t)v269);
    }
    else
    {
      v267 = "LS";
      log_OutText(v278, (uint64_t)"FE_POS", 5, 0, (uint64_t)"OVERRIDE IGTEE NULL VALUE : SET DEFAULT PROM %s", v274, v275, v276, (uint64_t)"LS");
    }
    v268 = 0;
    goto LABEL_307;
  }
LABEL_338:
  if (v339)
  {
    heap_Free((_QWORD *)(*a1)[1], (uint64_t)v339);
    if (v340)
      heap_Free((_QWORD *)(*a1)[1], (uint64_t)v340);
  }
  v281 = (uint64_t)a1[57];
  if (v281)
  {
    heap_Free((_QWORD *)(*a1)[1], v281);
    a1[57] = 0;
  }
  v282 = (uint64_t)a1[58];
  if (v282)
  {
    heap_Free((_QWORD *)(*a1)[1], v282);
    a1[58] = 0;
  }
  return v99;
}

uint64_t isCompoundWordMember(uint64_t a1, int a2, unsigned int a3, unsigned int a4, _DWORD *a5, _WORD *a6, unsigned __int16 *a7)
{
  unsigned __int16 v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t matched;
  uint64_t *v24;
  _QWORD *v25;
  uint64_t v26;
  uint64_t *v27;
  unint64_t v28;
  uint64_t v29;
  unint64_t v30;
  int v31;
  uint64_t v32;
  uint64_t v33;
  int v34;
  int v35;
  BOOL v36;
  const char *v37;
  BOOL v38;
  int v39;
  uint64_t v40;
  unint64_t v41;
  uint64_t v42;
  const char *v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  unsigned int v57;
  uint64_t v58;
  uint64_t v59;
  unint64_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  unsigned int v74;
  unint64_t v75;
  int v76;
  uint64_t v77;
  _DWORD *v78;
  _WORD *v80;
  unsigned int v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  _WORD *v85;
  const char **v86;
  __int128 v87;
  _QWORD __dst[48];

  memcpy(__dst, (const void *)(a1 + 8), 0x178uLL);
  v13 = a4 - a3 + 1;
  v87 = 0uLL;
  *a5 = 0;
  v14 = a3;
  v15 = 96 * a3;
  v81 = a4;
  v16 = 3 * a4;
  strncpy(*(char **)(a1 + 416), (const char *)(*(_QWORD *)(a1 + 480) + *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + v15)), *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + 32 * v16 + 2)- (unint64_t)*(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + v15));
  *(_BYTE *)(*(_QWORD *)(a1 + 416)
           - *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + v15)
           + *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + 32 * v16 + 2)) = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"  [MEMBERSHIP] Check word[%d] \"%s\" %d words", v17, v18, v19, a3);
  matched = 0;
  v24 = &__dst[12];
  v25 = &__dst[13];
  if (a2)
  {
    v24 = &__dst[10];
    v25 = &__dst[11];
  }
  v80 = a7;
  v26 = *a7;
  v83 = *(unsigned __int16 *)v25;
  if (v26 >= v83)
    goto LABEL_51;
  matched = 0;
  v27 = (uint64_t *)(a1 + 432);
  v28 = v13;
  v82 = *v24;
  v85 = (_WORD *)(a1 + 424);
  v86 = (const char **)(a1 + 408);
  v74 = a3 + 1;
  v77 = 96 * a3;
  v78 = a5;
  v76 = a2;
  v75 = v28;
  while (1)
  {
    v29 = *(unsigned __int16 *)(v82 + 2 * v26);
    if ((_DWORD)v28 != *(unsigned __int16 *)(__dst[8] + 120 * v29 + 32))
      goto LABEL_50;
    v84 = v26;
    log_OutText(*(_QWORD *)(__dst[0] + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"    TRYING RULE label=%s (%d words) compound word rule idx=%d", v20, v21, v22, __dst[38] + *(unsigned int *)(__dst[39] + 4 * *(unsigned int *)(__dst[8] + 120 * v29)));
    if (!(_DWORD)v28)
      break;
    v30 = 0;
    v31 = 0;
    v32 = *v27;
    v33 = v77;
    do
    {
      if (*(_DWORD *)(v32 + v33 + 12) == 1)
        v34 = 1;
      else
        v34 = v31;
      if (a2)
      {
        v35 = *(_DWORD *)(*(_QWORD *)(__dst[8] + 120 * v29 + 8) + 4 * v30);
        v36 = v35 == 1 && v34 == 0;
        v37 = "      Membership fails on wordType. Word %d is not hyphenated";
        if (v36
          || (!v35 ? (v38 = v34 == 1) : (v38 = 0),
              v37 = "      Membership fails on wordType. Word %d should not be hyphenated)",
              v38))
        {
LABEL_21:
          log_OutText(*(_QWORD *)(__dst[0] + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)v37, v20, v21, v22, v14 + v30);
          v39 = 0;
          goto LABEL_24;
        }
      }
      else
      {
        v37 = "      Membership fails on wordType. Word %d is hyphenated";
        if (v34 == 1)
          goto LABEL_21;
      }
      v39 = 1;
LABEL_24:
      v32 = *v27;
      if (*(_DWORD *)(*v27 + v33 + 20) == 1)
        v31 = 0;
      else
        v31 = v34;
      if (!v39)
        break;
      ++v30;
      v33 += 96;
    }
    while (v30 < v28);
    if (v39)
      break;
    a5 = v78;
    v26 = v84;
LABEL_50:
    if (++v26 == v83)
    {
LABEL_51:
      log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"  [MEMBERSHIP] FAIL", v20, v21, v22, 0);
      *a5 = 0;
      return matched;
    }
  }
  if (*(_WORD *)(__dst[8] + 120 * v29 + 32))
  {
    v40 = 0;
    v41 = 0;
    v42 = v77 + 32;
    while (1)
    {
      strncpy(*(char **)(a1 + 456), (const char *)(*(_QWORD *)(a1 + 480) + *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + v42 - 32)), *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + v42 - 30)- (unint64_t)*(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + v42 - 32));
      *(_BYTE *)(*(_QWORD *)(a1 + 456)
               - *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + v42 - 32)
               + *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + v42 - 30)) = 0;
      strcpy(*(char **)(a1 + 464), *(const char **)(*(_QWORD *)(a1 + 432) + v42));
      v43 = " ";
      if (*(_DWORD *)(*(_QWORD *)(a1 + 432) + v42 - 24) == 1)
        v43 = "1";
      *(_QWORD *)(a1 + 472) = v43;
      WORD2(v87) = v14 + v41;
      LODWORD(v87) = 2;
      *(_DWORD *)((char *)&v87 + 6) = 0;
      HIDWORD(v87) = 0;
      matched = statcomp_matchRule(*(_DWORD *)(a1 + 428), v86, v85, *(char **)(a1 + 416), (uint64_t)__dst, a1 + 432, (unsigned int *)&v87, *(_QWORD *)(__dst[8] + 120 * v29 + 24) + v40, (int *)&v87 + 3);
      if ((matched & 0x80000000) != 0)
        break;
      v47 = *(_QWORD *)(__dst[0] + 32);
      if (HIDWORD(v87) != 1)
      {
        log_OutText(v47, (uint64_t)"FE_POS", 5, 0, (uint64_t)"      Membership rule %d FAILS", v44, v45, v46, v41);
        log_OutText(*(_QWORD *)(__dst[0] + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"    Membership FAIL on WORDN criteria - try extra rules...", v48, v49, v50, 0);
        if (!*(_WORD *)(__dst[8] + 120 * v29 + 48))
        {
          log_OutText(*(_QWORD *)(__dst[0] + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"      no extra membership rules - FAIL", v51, v52, v53, 0);
          log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"  [MEMBERSHIP] FAIL", v64, v65, v66, 0);
          a5 = v78;
          v26 = v84;
          a2 = v76;
          v28 = v75;
          goto LABEL_50;
        }
        strncpy(*(char **)(a1 + 456), (const char *)(*(_QWORD *)(a1 + 480) + *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + 96 * v14)), *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + 96 * v81 + 2)- (unint64_t)*(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + 96 * v14));
        *(_BYTE *)(*(_QWORD *)(a1 + 456)
                 - *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + 96 * v14)
                 + *(unsigned __int16 *)(*(_QWORD *)(a1 + 432) + 96 * v81 + 2)) = 0;
        strcpy(*(char **)(a1 + 464), *(const char **)(*(_QWORD *)(a1 + 432) + 96 * v14 + 32));
        a2 = v76;
        if (v81 >= (unsigned __int16)v74)
        {
          v57 = v74;
          do
          {
            *(_WORD *)(*(_QWORD *)(a1 + 464) + strlen(*(const char **)(a1 + 464))) = 32;
            strcat(*(char **)(a1 + 464), *(const char **)(*(_QWORD *)(a1 + 432) + 96 * (unsigned __int16)v57++ + 32));
          }
          while (v81 >= (unsigned __int16)v57);
        }
        log_OutText(*(_QWORD *)(__dst[0] + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"      apply %d extra membership rules on ORT \"%s\" and POS \"%s\"", v54, v55, v56, *(unsigned __int16 *)(__dst[8] + 120 * v29 + 48));
        v58 = __dst[8];
        a5 = v78;
        v26 = v84;
        v28 = v75;
        if (*(_WORD *)(__dst[8] + 120 * v29 + 48))
        {
          v59 = 0;
          v60 = 0;
          while (1)
          {
            WORD2(v87) = v14;
            LODWORD(v87) = 2;
            *(_DWORD *)((char *)&v87 + 6) = 0;
            HIDWORD(v87) = 0;
            matched = statcomp_matchRule(*(_DWORD *)(a1 + 428), v86, v85, *(char **)(a1 + 416), (uint64_t)__dst, a1 + 432, (unsigned int *)&v87, *(_QWORD *)(v58 + 120 * v29 + 40) + v59, (int *)&v87 + 3);
            if ((matched & 0x80000000) != 0)
              return matched;
            if (HIDWORD(v87) == 1)
            {
              log_OutText(*(_QWORD *)(__dst[0] + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"        membership extra rule %d SUCCEEDS. Membership SUCCEEDS", v61, v62, v63, v60);
              *v78 = 1;
              *a6 = v29;
              *v80 = v84;
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"  [MEMBERSHIP] SUCCESS", v71, v72, v73, 0);
              return matched;
            }
            log_OutText(*(_QWORD *)(__dst[0] + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"        membership extra rule %d FAIL", v61, v62, v63, v60++);
            v58 = __dst[8];
            v59 += 24;
            v26 = v84;
            if (v60 >= *(unsigned __int16 *)(__dst[8] + 120 * v29 + 48))
              goto LABEL_50;
          }
        }
        goto LABEL_50;
      }
      log_OutText(v47, (uint64_t)"FE_POS", 5, 0, (uint64_t)"      Membership rule %d SUCCEEDS", v44, v45, v46, v41++);
      v40 += 24;
      v42 += 96;
      if (v41 >= *(unsigned __int16 *)(__dst[8] + 120 * v29 + 32))
        goto LABEL_52;
    }
  }
  else
  {
LABEL_52:
    log_OutText(*(_QWORD *)(__dst[0] + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"    Membership SUCCESS on WORDN criteria", v20, v21, v22, 0);
    *v78 = 1;
    *a6 = v29;
    *v80 = v84;
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"  [MEMBERSHIP] SUCCESS", v67, v68, v69, 0);
  }
  return matched;
}

uint64_t setCOMPValues(uint64_t *a1, unsigned int a2, unsigned int a3, _DWORD *a4, const char *a5, const char *a6, char *a7, const char *a8, const char *a9)
{
  BOOL v13;
  int v15;
  unsigned __int16 v16;
  __int16 v17;
  unsigned __int16 v18;
  int v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  _QWORD *v26;
  int v27;
  uint64_t v28;
  char *v29;
  char *v30;
  int v31;
  char *v32;
  uint64_t v33;
  __int16 v34;
  uint64_t v35;
  unsigned int v37;
  uint64_t v38;
  uint64_t v39;

  if (a2 > a3)
    return 0;
  if (a8)
    v13 = *((unsigned __int16 *)a1 + 9) == 1;
  else
    v13 = 0;
  v15 = v13 && a9 != 0;
  v38 = a1[40];
  v39 = a1[39];
  v16 = a2;
  while (1)
  {
    if (v15)
    {
      v17 = strlen(a8);
      v18 = v17 + strlen(a9) + 4;
      if (*a4 == 1)
        v18 += strlen((const char *)(v39 + *(unsigned int *)(v38 + 4 * a4[2]))) + 2;
    }
    else
    {
      v18 = 0;
    }
    v19 = strlen(a6);
    v20 = heap_Calloc(*(_QWORD **)(*a1 + 8), 1, v19 + v18 + 3);
    *(_QWORD *)(a1[54] + 96 * v16 + 80) = v20;
    v25 = *a1;
    if (!v20)
      break;
    v26 = *(_QWORD **)(v25 + 8);
    v27 = strlen(a5);
    v28 = heap_Calloc(v26, 1, (v27 + 3));
    *(_QWORD *)(a1[54] + 96 * v16 + 72) = v28;
    if (!v28)
      goto LABEL_32;
    if (a7)
    {
      v29 = strchr(a7, 32);
      v30 = v29;
      if (v29)
        *v29 = 0;
      v31 = strlen(a7);
      v32 = (char *)heap_Calloc(*(_QWORD **)(*a1 + 8), 1, (v31 + 1));
      *(_QWORD *)(a1[54] + 96 * v16 + 64) = v32;
      if (!v32)
      {
LABEL_32:
        v25 = *a1;
        break;
      }
      strcpy(v32, a7);
      if (v30)
        a7 = v30 + 1;
    }
    v33 = *(_QWORD *)(a1[54] + 96 * v16 + 80);
    *(_BYTE *)(v33 + 2) = 0;
    if (a2 == v16)
      v34 = 11586;
    else
      v34 = 11593;
    *(_WORD *)v33 = v34;
    v35 = *(_QWORD *)(a1[54] + 96 * v16 + 72);
    *(_BYTE *)(v35 + 2) = 0;
    *(_WORD *)v35 = v34;
    strcat(*(char **)(a1[54] + 96 * v16 + 80), a6);
    if (v15)
    {
      *(_WORD *)(*(_QWORD *)(a1[54] + 96 * v16 + 80) + strlen(*(const char **)(a1[54] + 96 * v16 + 80))) = 43;
      strcat(*(char **)(a1[54] + 96 * v16 + 80), a9);
      *(_WORD *)(*(_QWORD *)(a1[54] + 96 * v16 + 80) + strlen(*(const char **)(a1[54] + 96 * v16 + 80))) = 43;
      strcat(*(char **)(a1[54] + 96 * v16 + 80), a8);
      if (*a4 == 1)
      {
        *(_WORD *)(*(_QWORD *)(a1[54] + 96 * v16 + 80) + strlen(*(const char **)(a1[54] + 96 * v16 + 80))) = 43;
        strcat(*(char **)(a1[54] + 96 * v16 + 80), (const char *)(v39 + *(unsigned int *)(v38 + 4 * a4[2])));
      }
    }
    strcat(*(char **)(a1[54] + 96 * v16++ + 72), a5);
    if (a3 < v16)
      return 0;
  }
  log_OutPublic(*(_QWORD *)(v25 + 32), (uint64_t)"FE_POS", 35000, 0, v21, v22, v23, v24, v37);
  return 2313166858;
}

uint64_t statcomp_saveCompoundsToLingdb(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  int v8;
  uint64_t result;
  unsigned __int16 v10;
  char *v11;
  _BYTE **v12;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unsigned int v19;
  uint64_t v20;
  int v21;
  uint64_t v22;
  int v23;
  int v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  int v36;
  _WORD *v37;
  uint64_t v38;
  const char **v39;
  _WORD *v40;
  char *v41;
  uint64_t v42;
  int v43;
  _WORD *v44;
  uint64_t v45;
  const char **v46;
  _WORD *v47;
  char *v48;
  uint64_t v49;
  char *v50;
  const char **v51;
  _WORD *v52;
  unsigned int v53;
  __int16 v54;
  const char *v55;
  __int16 v56;
  uint64_t v57;
  char *v58;
  _BYTE *v59;
  unsigned int v60;
  _BYTE *v61;
  __int16 v62;
  char *v63;
  _WORD *v64;
  __int16 v65;
  char *__s;
  __int16 v67;
  uint64_t v68;
  __int16 v69;
  int v70;

  v70 = 0;
  v69 = 0;
  v68 = 0;
  v67 = 0;
  __s = 0;
  v65 = 0;
  v8 = *(_DWORD *)(a4 + 20);
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 1, 0, (char *)&v70 + 2);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 2, HIWORD(v70), &v70);
    if ((result & 0x80000000) == 0)
    {
      v10 = v70;
      if ((_WORD)v70)
      {
        v11 = (char *)&v68 + 2;
        v12 = (_BYTE **)(a4 + 408);
        v64 = (_WORD *)(a4 + 424);
        while (1)
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, char *, __int16 *))(a1 + 168))(a2, a3, v10, 0, 1, (char *)&v68 + 4, &v69);
          if ((result & 0x80000000) != 0)
            return result;
          if (HIDWORD(v68) <= 0xA && ((1 << SBYTE4(v68)) & 0x610) != 0)
          {
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, uint64_t *, __int16 *))(a1 + 168))(a2, a3, (unsigned __int16)v70, 1, 1, &v68, &v69);
            if ((result & 0x80000000) != 0)
              return result;
            result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, __int16 *))(a1 + 168))(a2, a3, (unsigned __int16)v70, 2, 1, v11, &v69);
            if ((result & 0x80000000) != 0)
              return result;
            if (*(_WORD *)(a4 + 440))
              break;
          }
LABEL_17:
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, (unsigned __int16)v70, &v70);
          if ((result & 0x80000000) == 0)
          {
            v10 = v70;
            if ((_WORD)v70)
              continue;
          }
          return result;
        }
        v17 = 0;
        v18 = 0;
        v19 = WORD1(v68);
        v20 = *(_QWORD *)(a4 + 432);
        v21 = 1;
        while (*(unsigned __int16 *)(v20 + v17) != (unsigned __int16)v68 || !*(_QWORD *)(v20 + v17 + 80))
        {
          ++v18;
          ++v21;
          v17 += 96;
          if (96 * *(unsigned __int16 *)(a4 + 440) == v17)
            goto LABEL_17;
        }
        v22 = 0;
        v23 = 0;
        do
        {
          if (*(_QWORD *)(v20 + v22 + 40))
            v24 = 1;
          else
            v24 = v23;
          if (*(_QWORD *)(v20 + v22 + 48))
            v23 = 0;
          else
            v23 = v24;
          v22 += 96;
        }
        while (v17 + 96 != v22);
        if ((unsigned __int16)v68 > v19)
          return 2313174705;
        if (v19 == (unsigned __int16)v68)
        {
          log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING! : IGNORE EMPTY WORD lingdb position %d,%d", v14, v15, v16, (unsigned __int16)v68);
          goto LABEL_17;
        }
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a1 + 184))(a2, a3, (unsigned __int16)v70, 14, &v67);
        if ((result & 0x80000000) != 0)
          return result;
        if (v67 == 1)
        {
          result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, __int16 *))(a1 + 176))(a2, a3, (unsigned __int16)v70, 14, &__s, &v69);
          if ((result & 0x80000000) != 0)
            return result;
          v31 = *(_QWORD *)(a4 + 432) + v17;
          if (*(_QWORD *)(v31 + 40) || *(_QWORD *)(v31 + 48) || v23 == 1)
            goto LABEL_64;
          result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, __s);
          if ((result & 0x80000000) != 0)
            return result;
          result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, ";");
          if ((result & 0x80000000) != 0)
            return result;
          if (v8 == 1)
          {
            v35 = *(_QWORD *)(a4 + 432);
            v36 = **(unsigned __int8 **)(v35 + v17 + 80);
            if (v36 == 73)
            {
              v60 = *(unsigned __int16 *)(a4 + 440);
              if (96 * v60 - 96 != (_DWORD)v17
                && ((int)v18 + 1 >= v60 || (v61 = *(_BYTE **)(v35 + v17 + 176)) != 0 && *v61 == 73))
              {
                v37 = (_WORD *)(a4 + 424);
                result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, "I_COMP:");
                if ((result & 0x80000000) != 0)
                  return result;
                result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, (char *)(*(_QWORD *)(*(_QWORD *)(a4 + 432) + v17 + 80) + 2));
                if ((result & 0x80000000) != 0)
                  return result;
                v38 = *(_QWORD *)a4;
                v39 = (const char **)(a4 + 408);
                v40 = (_WORD *)(a4 + 424);
                v41 = ";I_COMPPOS:";
              }
              else
              {
                v37 = (_WORD *)(a4 + 424);
                result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, "E_COMP:");
                if ((result & 0x80000000) != 0)
                  return result;
                result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, (char *)(*(_QWORD *)(*(_QWORD *)(a4 + 432) + v17 + 80) + 2));
                if ((result & 0x80000000) != 0)
                  return result;
                v38 = *(_QWORD *)a4;
                v39 = (const char **)(a4 + 408);
                v40 = (_WORD *)(a4 + 424);
                v41 = ";E_COMPPOS:";
              }
            }
            else
            {
              if (v36 != 66)
              {
LABEL_88:
                log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Writing Word[%d] (appended) NLU=%s", v32, v33, v34, v18);
                v62 = strlen(*(const char **)(a4 + 408));
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v70, 14, (unsigned __int16)(v62 + 1), *(_QWORD *)(a4 + 408), &v65);
                if ((result & 0x80000000) != 0)
                  return result;
                **v12 = 0;
LABEL_64:
                if (*(_QWORD *)(*(_QWORD *)(a4 + 432) + 96 * v18 + 64))
                {
                  log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"updating Word[%d] compound word pronunciation from %s to %s", v28, v29, v30, v18);
                  v55 = *(const char **)(*(_QWORD *)(a4 + 432) + 96 * v18 + 64);
                  v56 = strlen(v55);
                  result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v70, 3, (unsigned __int16)(v56 + 1), v55, &v69);
                  if ((result & 0x80000000) != 0)
                    return result;
                }
                goto LABEL_17;
              }
              v37 = (_WORD *)(a4 + 424);
              result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, "S_COMP:");
              if ((result & 0x80000000) != 0)
                return result;
              result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, (char *)(*(_QWORD *)(*(_QWORD *)(a4 + 432) + v17 + 80) + 2));
              if ((result & 0x80000000) != 0)
                return result;
              v38 = *(_QWORD *)a4;
              v39 = (const char **)(a4 + 408);
              v40 = (_WORD *)(a4 + 424);
              v41 = ";S_COMPPOS:";
            }
            result = statcomp_add2Str(v38, v39, v40, v41);
            if ((result & 0x80000000) != 0)
              return result;
            v57 = *(_QWORD *)a4;
            v58 = (char *)(*(_QWORD *)(*(_QWORD *)(a4 + 432) + v17 + 72) + 2);
          }
          else
          {
            v37 = (_WORD *)(a4 + 424);
            result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, "COMP:");
            if ((result & 0x80000000) != 0)
              return result;
            result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, *(char **)(*(_QWORD *)(a4 + 432) + v17 + 80));
            if ((result & 0x80000000) != 0)
              return result;
            result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, ";COMPPOS:");
            if ((result & 0x80000000) != 0)
              return result;
            v57 = *(_QWORD *)a4;
            v58 = *(char **)(*(_QWORD *)(a4 + 432) + v17 + 72);
          }
          result = statcomp_add2Str(v57, (const char **)(a4 + 408), v37, v58);
          if ((result & 0x80000000) != 0)
            return result;
          goto LABEL_88;
        }
        v63 = v11;
        if (v8 != 1)
        {
          result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, "COMP:");
          if ((result & 0x80000000) != 0)
            return result;
          result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, *(char **)(*(_QWORD *)(a4 + 432) + v17 + 80));
          if ((result & 0x80000000) != 0)
            return result;
          result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, ";COMPPOS:");
          if ((result & 0x80000000) != 0)
            return result;
          v49 = *(_QWORD *)a4;
          v50 = *(char **)(*(_QWORD *)(a4 + 432) + v17 + 72);
          v51 = (const char **)(a4 + 408);
          v52 = (_WORD *)(a4 + 424);
          goto LABEL_61;
        }
        v42 = *(_QWORD *)(a4 + 432);
        v43 = **(unsigned __int8 **)(v42 + v17 + 80);
        if (v43 == 73)
        {
          v53 = *(unsigned __int16 *)(a4 + 440);
          v44 = (_WORD *)(a4 + 424);
          if (96 * v53 - 96 == (_DWORD)v17
            || (int)v18 + 1 < v53 && ((v59 = *(_BYTE **)(v42 + v17 + 176)) == 0 || *v59 != 73))
          {
            result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, "E_COMP:");
            if ((result & 0x80000000) != 0)
              return result;
            result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, (char *)(*(_QWORD *)(*(_QWORD *)(a4 + 432) + v17 + 80) + 2));
            if ((result & 0x80000000) != 0)
              return result;
            v45 = *(_QWORD *)a4;
            v46 = (const char **)(a4 + 408);
            v47 = (_WORD *)(a4 + 424);
            v48 = ";E_COMPPOS:";
            goto LABEL_59;
          }
        }
        else
        {
          v44 = (_WORD *)(a4 + 424);
          if (v43 == 66)
          {
            result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, "S_COMP:");
            if ((result & 0x80000000) != 0)
              return result;
            result = statcomp_add2Str(*(_QWORD *)a4, (const char **)(a4 + 408), v64, (char *)(*(_QWORD *)(*(_QWORD *)(a4 + 432) + v17 + 80) + 2));
            if ((result & 0x80000000) != 0)
              return result;
            v45 = *(_QWORD *)a4;
            v46 = (const char **)(a4 + 408);
            v47 = (_WORD *)(a4 + 424);
            v48 = ";S_COMPPOS:";
LABEL_59:
            result = statcomp_add2Str(v45, v46, v47, v48);
            if ((result & 0x80000000) != 0)
              return result;
            v49 = *(_QWORD *)a4;
            v50 = (char *)(*(_QWORD *)(*(_QWORD *)(a4 + 432) + v17 + 72) + 2);
            v51 = (const char **)(a4 + 408);
            v52 = v44;
LABEL_61:
            result = statcomp_add2Str(v49, v51, v52, v50);
            if ((result & 0x80000000) != 0)
              return result;
          }
        }
        log_OutText(*(_QWORD *)(*(_QWORD *)a4 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Writing Word[%d] NLU=%s", v25, v26, v27, v18);
        v54 = strlen(*(const char **)(a4 + 408));
        result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, __int16 *))(a1 + 160))(a2, a3, (unsigned __int16)v70, 14, (unsigned __int16)(v54 + 1), *(_QWORD *)(a4 + 408), &v65);
        if ((result & 0x80000000) != 0)
          return result;
        **v12 = 0;
        v11 = v63;
        goto LABEL_64;
      }
    }
  }
  return result;
}

uint64_t statpos_get_info_from_dct(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, const char *a5, uint64_t a6, char **a7, _DWORD *a8, const char *a9)
{
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  char *v20;
  int v22;
  char *v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unsigned int v27;
  _BYTE __c[11];

  *(_QWORD *)&__c[3] = 0;
  *(_WORD *)&__c[1] = -1;
  __c[0] = 0;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, const char *, uint64_t, _BYTE *, _BYTE *, _BYTE *))(a4 + 96))(a2, a3, a5, a6, &__c[3], &__c[1], __c);
  if ((v14 & 0x80001FFF) == 0x8000000A)
    goto LABEL_2;
  v19 = v14;
  if ((v14 & 0x80000000) != 0)
    return 0;
  if (*(_WORD *)&__c[1])
  {
    v20 = strchr(**(char ***)&__c[3], __c[0]);
    if (v20)
      *v20 = 0;
    if (!strcmp(a9, "STR"))
    {
      v22 = strlen(**(const char ***)&__c[3]);
      v23 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v22 + 1));
      *a7 = v23;
      if (!v23)
      {
LABEL_2:
        v19 = 2313166858;
        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 34000, 0, v15, v16, v17, v18, v27);
        return v19;
      }
      strcpy(v23, **(const char ***)&__c[3]);
      if (!strcmp("fecfg", a5))
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"set mde seg param %s = %s", v24, v25, v26, a6);
    }
    else if (!strcmp(a9, "BOOL"))
    {
      *a8 = 0;
      *a8 = strcmp(**(const char ***)&__c[3], "1") == 0;
    }
  }
  return v19;
}

uint64_t _crfpos_concat_strings(uint64_t a1, uint64_t *a2, char **a3)
{
  unsigned int v6;
  int v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  unsigned int v15;
  unsigned __int8 v16;
  unsigned int v17;
  unsigned int v19;

  v6 = *((_DWORD *)a2 + 2);
  if (v6)
  {
    v7 = 0;
    LODWORD(v8) = 0;
    v9 = *a2;
    do
      v8 = v8 + strlen(*(const char **)(v9 + 16 * v7++)) + 2;
    while (v6 > v7);
  }
  else
  {
    v8 = 0;
  }
  v10 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, v8);
  *a3 = (char *)v10;
  if (v10)
  {
    if (*((_DWORD *)a2 + 2))
    {
      v15 = 0;
      v16 = 0;
      do
      {
        strcat(*a3, *(const char **)(*a2 + 16 * v16));
        v17 = *((_DWORD *)a2 + 2);
        if (v17 - 1 > v15)
        {
          *(_WORD *)&(*a3)[strlen(*a3)] = 32;
          v17 = *((_DWORD *)a2 + 2);
        }
        v15 = ++v16;
      }
      while (v17 > v16);
    }
    return 0;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v11, v12, v13, v14, v19);
    return 2313166858;
  }
}

uint64_t _crfpos_get_potential_tags(uint64_t a1, unsigned __int16 *a2, _QWORD *a3, uint64_t *a4, uint64_t *a5, int a6)
{
  unint64_t v8;
  _BOOL4 v12;
  unsigned __int16 *v13;
  uint64_t v14;
  unint64_t v15;
  int v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  const char *v27;
  char *v28;
  const char *v29;
  char *v30;
  char *v31;
  char *v32;
  char *v33;
  _QWORD *v34;
  uint64_t v35;
  uint64_t v36;
  unsigned int v37;
  int v38;
  uint64_t v39;
  uint64_t v40;
  unsigned int v42;
  uint64_t *v43;
  uint64_t v44;

  v8 = a2[4];
  if (!a2[4])
    goto LABEL_38;
  if (*(_WORD *)(*(_QWORD *)a2 + 72))
  {
    v12 = 0;
    if (!a6)
      goto LABEL_38;
  }
  else
  {
    v13 = (unsigned __int16 *)(*(_QWORD *)a2 + 232);
    v14 = 1;
    do
    {
      v15 = v14;
      if (v8 == v14)
        break;
      v16 = *v13;
      v13 += 80;
      ++v14;
    }
    while (!v16);
    v12 = v15 >= v8;
    if (!a6)
      goto LABEL_38;
  }
  if (v12)
  {
LABEL_38:
    v39 = 0;
    *a4 = 0;
    *a5 = 0;
    return v39;
  }
  v17 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * v8);
  if (!v17 || (v22 = v17, (v23 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 4 * a2[4])) == 0))
  {
    v39 = 2313166858;
    v40 = *(_QWORD *)(a1 + 32);
    goto LABEL_40;
  }
  v24 = v23;
  v43 = a4;
  v44 = a1;
  if (!a2[4])
  {
LABEL_37:
    v39 = 0;
    *v43 = v22;
    *a5 = v24;
    return v39;
  }
  v25 = 0;
  while (1)
  {
    v26 = *(_QWORD *)a2;
    if (!*(_BYTE *)(*(_QWORD *)a2 + 160 * v25 + 128))
      break;
    v27 = *(const char **)(v26 + 160 * v25 + 136);
    if (!v27 || !*v27)
      break;
    v28 = (char *)a3[42];
    if (!v28 || (v29 = "ns", !strstr(v28, *(const char **)(v26 + 160 * v25 + 136))))
    {
      v30 = (char *)a3[43];
      if (!v30 || (v29 = "nt", !strstr(v30, v27)))
      {
        v31 = (char *)a3[44];
        if (!v31 || (v29 = "nz", !strstr(v31, v27)))
        {
          v32 = (char *)a3[45];
          if (!v32 || (v29 = "nx", !strstr(v32, v27)))
          {
            v33 = (char *)a3[46];
            if (!v33)
              break;
            v29 = "nr";
            if (!strstr(v33, v27))
              break;
          }
        }
      }
    }
    *(_DWORD *)(v24 + 4 * v25) = 1;
    v34 = (_QWORD *)heap_Calloc(*(_QWORD **)(v44 + 8), 1, 8);
    *(_QWORD *)(v22 + 8 * v25) = v34;
    if (!v34)
      goto LABEL_42;
    *v34 = v29;
LABEL_36:
    if (++v25 >= (unint64_t)a2[4])
      goto LABEL_37;
  }
  v35 = *(unsigned __int16 *)(v26 + 160 * v25 + 72);
  *(_DWORD *)(v24 + 4 * v25) = v35;
  if (!(_DWORD)v35)
  {
    *(_QWORD *)(v22 + 8 * v25) = 0;
    goto LABEL_36;
  }
  v36 = heap_Calloc(*(_QWORD **)(v44 + 8), 1, 8 * v35);
  *(_QWORD *)(v22 + 8 * v25) = v36;
  if (v36)
  {
    v37 = *(_DWORD *)(v24 + 4 * v25);
    if (v37)
    {
      v38 = 0;
      do
      {
        *(_QWORD *)(*(_QWORD *)(v22 + 8 * v25) + 8 * (unsigned __int16)v38) = a3[37]
                                                                              + *(unsigned int *)(a3[38]
                                                                                                + 4
                                                                                                * *(unsigned int *)(*(_QWORD *)(*(_QWORD *)a2 + 160 * v25 + 64) + 24 * (unsigned __int16)v38));
        ++v38;
      }
      while (v37 > (unsigned __int16)v38);
    }
    goto LABEL_36;
  }
LABEL_42:
  v39 = 2313166858;
  v40 = *(_QWORD *)(v44 + 32);
LABEL_40:
  log_OutPublic(v40, (uint64_t)"FE_POS", 35000, 0, v18, v19, v20, v21, v42);
  return v39;
}

uint64_t statpos_get_broker_string(uint64_t a1, char **a2)
{
  uint64_t result;
  char *v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  unsigned int v10;
  char *v11;
  int v12[2];
  _OWORD v13[8];
  uint64_t v14;

  v14 = *MEMORY[0x1E0C80C00];
  v11 = &byte_1DEBD87CE;
  *(_QWORD *)v12 = 0;
  memset(v13, 0, sizeof(v13));
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", v12);
  if ((result & 0x80000000) == 0)
  {
    result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"fecfg", &v11);
    if ((result & 0x80000000) == 0)
    {
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      __strcat_chk();
      v5 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 1024);
      *a2 = v5;
      if (v5)
      {
        return brokeraux_ComposeBrokerString(a1, (const char *)v13, 1, 1, *(char **)v12, 0, 0, v5, 0x400uLL);
      }
      else
      {
        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v6, v7, v8, v9, v10);
        return 2313166858;
      }
    }
  }
  return result;
}

uint64_t _crfpos_parse_params(uint64_t a1, uint64_t a2)
{
  uint64_t v2;
  uint64_t v5;
  uint64_t v6;
  const char *v7;
  unsigned int v8;
  unsigned int v9;
  unsigned __int8 v10;
  _BOOL4 v11;
  uint64_t v12;
  const char *v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  int v19;
  unsigned int v20;
  unsigned int v21;
  unsigned int v22;
  uint64_t v23;
  int v24;
  unsigned int v25;
  uint64_t v26;
  unsigned int v28;

  v2 = *(_QWORD *)(a2 + 8);
  if (!*(_DWORD *)(v2 + 40))
    return 0;
  v5 = 0;
  while (1)
  {
    v6 = *(_QWORD *)(v2 + 32);
    if (!strcmp(*(const char **)(v6 + 16 * v5), "features"))
      break;
LABEL_23:
    if (++v5 >= (unint64_t)*(unsigned int *)(v2 + 40))
      return 0;
  }
  v7 = *(const char **)(v6 + 16 * v5 + 8);
  v8 = strlen(v7);
  v9 = v8;
  *(_BYTE *)(a2 + 32) = 0;
  v10 = 0;
  if (v8)
  {
    v11 = 0;
    v12 = v8;
    v13 = v7;
    do
    {
      if (v11)
      {
        v11 = *(unsigned __int8 *)v13 != 32;
      }
      else if (*v13 == 32)
      {
        v11 = 0;
      }
      else
      {
        *(_BYTE *)(a2 + 32) = ++v10;
        v11 = 1;
      }
      ++v13;
      --v12;
    }
    while (v12);
  }
  v14 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * v10 + 8);
  *(_QWORD *)(a2 + 24) = v14;
  if (v14)
  {
    v19 = 0;
    v20 = 0;
    v21 = 0;
    v22 = 0;
    do
    {
      v23 = v22;
      v24 = v7[v22];
      if (v24 == 32)
      {
        LOBYTE(v24) = 0;
        v25 = 0;
        v19 = 0;
        v26 = *(_QWORD *)(*(_QWORD *)(a2 + 24) + 8 * v21++);
      }
      else
      {
        if (v19)
        {
          v26 = *(_QWORD *)(*(_QWORD *)(a2 + 24) + 8 * v21);
        }
        else
        {
          *(_QWORD *)(*(_QWORD *)(a2 + 24) + 8 * v21) = heap_Alloc(*(_QWORD *)(a1 + 8), 64);
          v26 = *(_QWORD *)(*(_QWORD *)(a2 + 24) + 8 * v21);
          if (!v26)
            goto LABEL_25;
          LOBYTE(v24) = v7[v23];
        }
        v25 = v20 + 1;
        v19 = 1;
      }
      *(_BYTE *)(v26 + v20) = v24;
      v22 = v23 + 1;
      v20 = v25;
    }
    while ((int)v23 + 1 <= v9);
    v2 = *(_QWORD *)(a2 + 8);
    goto LABEL_23;
  }
LABEL_25:
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v15, v16, v17, v18, v28);
  return 2313166858;
}

uint64_t statpos_crf_load(_WORD *a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t *a12, int a13)
{
  uint64_t broker_string;
  uint64_t info_from_dct;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  unsigned int v33;

  broker_string = statpos_get_broker_string(a5, (char **)a10);
  if ((broker_string & 0x80000000) != 0)
    goto LABEL_12;
  broker_string = crf_Init_ReadOnly_ReferenceCnt(a1, a2, a3, a4, (_QWORD *)(a10 + 8), 2, *(_QWORD *)a10, (uint64_t)"CRPH", 1031, 0, 0);
  if ((broker_string & 0x80000000) != 0)
    goto LABEL_12;
  info_from_dct = _crfpos_parse_params(a5, a10);
  if ((info_from_dct & 0x80000000) == 0)
  {
    *(_DWORD *)(a10 + 16) = 1;
    if (a13 == 1)
    {
      v23 = heap_Calloc(*(_QWORD **)(a5 + 8), 1, 512);
      *(_QWORD *)(a11 + 296) = v23;
      if (!v23
        || (*(_DWORD *)(a11 + 316) = 512,
            v28 = heap_Calloc(*(_QWORD **)(a5 + 8), 1, 128),
            (*(_QWORD *)(a11 + 304) = v28) == 0))
      {
LABEL_20:
        info_from_dct = 2313166858;
        log_OutPublic(*(_QWORD *)(a5 + 32), (uint64_t)"FE_POS", 35000, 0, v24, v25, v26, v27, v33);
        goto LABEL_13;
      }
      *(_DWORD *)(a11 + 320) = 32;
      *(_WORD *)(a11 + 312) = 0;
      *(_WORD *)(a11 + 324) = 0;
      broker_string = statpos_get_info_from_dct(a5, a7, a8, a9, "fecfg", (uint64_t)"mdesegpos_nonfinalpunc", (char **)(a11 + 168), 0, "STR");
      if ((broker_string & 0x80000000) == 0)
      {
        info_from_dct = statpos_get_info_from_dct(a5, a7, a8, a9, "fecfg", (uint64_t)"mdesegpos_finalpunc", (char **)(a11 + 176), 0, "STR");
        if ((info_from_dct & 0x80000000) != 0)
          goto LABEL_13;
        v29 = heap_Calloc(*(_QWORD **)(a5 + 8), 1, 128);
        *a12 = v29;
        if (v29)
        {
          a12[2] = 128;
          v30 = heap_Calloc(*(_QWORD **)(a5 + 8), 1, 128);
          a12[1] = v30;
          if (v30)
          {
            a12[3] = 128;
            goto LABEL_13;
          }
        }
        goto LABEL_20;
      }
LABEL_12:
      info_from_dct = broker_string;
    }
  }
LABEL_13:
  if (*(_QWORD *)a10)
  {
    heap_Free(*(_QWORD **)(a5 + 8), *(_QWORD *)a10);
    *(_QWORD *)a10 = 0;
  }
  if ((info_from_dct & 0x80000000) != 0)
  {
    v31 = *(_QWORD *)(a10 + 8);
    if (v31)
      crf_Deinit_ReadOnly_DereferenceCnt(a5, a6, v31);
    *(_QWORD *)(a10 + 8) = 0;
  }
  return info_from_dct;
}

uint64_t statpos_crf_unload(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t *a5, int a6)
{
  uint64_t Only_DereferenceCnt;
  uint64_t v13;
  int v14;
  unint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;

  if (*(_QWORD *)a3)
  {
    heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)a3);
    *(_QWORD *)a3 = 0;
  }
  if (*(_DWORD *)(a3 + 16) == 1)
  {
    Only_DereferenceCnt = crf_Deinit_ReadOnly_DereferenceCnt(a1, a2, *(_QWORD *)(a3 + 8));
    if ((Only_DereferenceCnt & 0x80000000) != 0)
      return Only_DereferenceCnt;
    *(_QWORD *)(a3 + 8) = 0;
    *(_DWORD *)(a3 + 16) = 0;
  }
  else
  {
    Only_DereferenceCnt = 0;
  }
  v13 = *(_QWORD *)(a3 + 24);
  if (v13)
  {
    v14 = *(unsigned __int8 *)(a3 + 32);
    if (v14 != 255)
    {
      v15 = 0;
      do
      {
        v16 = *(_QWORD *)(*(_QWORD *)(a3 + 24) + 8 * v15);
        if (v16)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v16);
          LOBYTE(v14) = *(_BYTE *)(a3 + 32);
        }
        ++v15;
      }
      while (v15 < (v14 + 1));
      v13 = *(_QWORD *)(a3 + 24);
    }
    heap_Free(*(_QWORD **)(a1 + 8), v13);
    *(_QWORD *)(a3 + 24) = 0;
    *(_BYTE *)(a3 + 32) = 0;
  }
  if (a6 == 1)
  {
    v17 = *(_QWORD *)(a4 + 296);
    if (v17)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v17);
      *(_QWORD *)(a4 + 296) = 0;
      *(_DWORD *)(a4 + 316) = 0;
    }
    v18 = *(_QWORD *)(a4 + 304);
    if (v18)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v18);
      *(_QWORD *)(a4 + 304) = 0;
      *(_DWORD *)(a4 + 320) = 0;
    }
    *(_WORD *)(a4 + 312) = 0;
    *(_WORD *)(a4 + 324) = 0;
    v19 = *(_QWORD *)(a4 + 168);
    if (v19)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v19);
      *(_QWORD *)(a4 + 168) = 0;
    }
    v20 = *(_QWORD *)(a4 + 176);
    if (v20)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v20);
      *(_QWORD *)(a4 + 176) = 0;
    }
    if (*a5)
    {
      heap_Free(*(_QWORD **)(a1 + 8), *a5);
      *a5 = 0;
    }
    v21 = a5[1];
    if (v21)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v21);
      a5[1] = 0;
    }
  }
  return Only_DereferenceCnt;
}

uint64_t statpos_crf_label(uint64_t a1, uint64_t a2, unsigned __int16 *a3, _QWORD *a4, uint64_t a5)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  _QWORD *v15;
  uint64_t features;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  char *v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  _BOOL4 v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  unint64_t v38;
  unint64_t v39;
  unint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  unint64_t v45;
  uint64_t v46;
  char *v47;
  char *v48;
  int v49;
  char *v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  unsigned int v55;
  unint64_t v56;
  uint64_t v57;
  uint64_t v58;
  unint64_t v59;
  unint64_t v60;
  uint64_t v61;
  uint64_t v62;
  unsigned int v63;
  unint64_t v64;
  uint64_t v65;
  unsigned int v67;
  unsigned int v68;
  uint64_t v69;
  uint64_t v70;
  unsigned int v71;
  uint64_t v72;
  char *v73;
  uint64_t v74[2];
  _BYTE v75[1024];
  uint64_t v76;

  v76 = *MEMORY[0x1E0C80C00];
  v74[0] = 0;
  v74[1] = 0;
  v72 = 0;
  v73 = 0;
  v71 = 0;
  v69 = 0;
  v70 = 0;
  v10 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * a3[4]);
  if (!v10)
  {
    v44 = 2313166858;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v11, v12, v13, v14, v67);
    return v44;
  }
  v15 = (_QWORD *)v10;
  features = statpos_fv_new(a1, *(unsigned __int8 *)(a2 + 32), v74);
  if ((features & 0x80000000) == 0)
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"FEATURE VECTOR", v17, v18, v19, 0);
    if (*(_BYTE *)(a2 + 32))
    {
      v23 = 0;
      do
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s", v20, v21, v22, *(_QWORD *)(*(_QWORD *)(a2 + 24) + 8 * v23++));
      while (v23 < *(unsigned __int8 *)(a2 + 32));
    }
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"FEATURE VECTOR ENTRIES", v20, v21, v22, 0);
    if (a3[4])
    {
      v24 = 0;
      while (1)
      {
        features = statpos_get_features(a1, (uint64_t)a3, (uint64_t)a4, (unsigned __int16)v24, *(_QWORD *)(a2 + 24), *(unsigned __int8 *)(a2 + 32), v74, 0);
        if ((features & 0x80000000) != 0)
          break;
        features = _crfpos_concat_strings(a1, v74, &v73);
        if ((features & 0x80000000) != 0)
          break;
        v28 = v73;
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"features: %s", v25, v26, v27, (uint64_t)v73);
        v15[v24] = v28;
        v73 = 0;
        if (++v24 >= (unint64_t)a3[4])
          goto LABEL_11;
      }
    }
    else
    {
LABEL_11:
      features = _crfpos_get_potential_tags(a1, a3, a4, &v69, &v70, a5);
      if ((features & 0x80000000) == 0)
      {
        v33 = v69;
        v32 = v70;
        v34 = v70 != 0 && v69 != 0;
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Existing tags on words (ConstrainedDecoding:Keyword=%d:Actual=%s)", v29, v30, v31, a5);
        LODWORD(v38) = a3[4];
        if (v34 && a3[4])
        {
          v39 = 0;
          do
          {
            v75[0] = 0;
            if (*(_DWORD *)(v32 + 4 * v39))
            {
              v40 = 0;
              do
              {
                __strcat_chk();
                __strcat_chk();
                ++v40;
              }
              while (v40 < *(unsigned int *)(v32 + 4 * v39));
            }
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s", v35, v36, v37, (uint64_t)v75);
            ++v39;
            v38 = a3[4];
          }
          while (v39 < v38);
        }
        v44 = crf_Process_Constrained(*(_QWORD *)(a2 + 8), v15, v38, &v72, &v71, v33, v32);
        if ((v44 & 0x80000000) == 0 && v71)
        {
          v45 = 0;
          v46 = 88;
          while (1)
          {
            log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"predicted label: %s on word %d", v41, v42, v43, *(_QWORD *)(v72 + 8 * v45));
            v47 = *(char **)(v72 + 8 * v45);
            v48 = strchr(v47, 32);
            if (v48)
            {
              *v48 = 0;
              v47 = *(char **)(v72 + 8 * v45);
            }
            v49 = strlen(v47);
            v50 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v49 + 100));
            *(_QWORD *)(*(_QWORD *)a3 + v46) = v50;
            if (!v50)
              break;
            strcpy(v50, *(const char **)(v72 + 8 * v45++));
            v46 += 160;
            if (v45 >= v71)
              goto LABEL_28;
          }
          v44 = 2313166858;
          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v51, v52, v53, v54, v68);
        }
        goto LABEL_28;
      }
    }
  }
  v44 = features;
LABEL_28:
  crf_mde_seg_fv_dealloc((_QWORD *)a1, (uint64_t)v74);
  v55 = a3[4];
  if (a3[4])
  {
    v56 = 0;
    do
    {
      v57 = v15[v56];
      if (v57)
      {
        heap_Free(*(_QWORD **)(a1 + 8), v57);
        v55 = a3[4];
      }
      ++v56;
    }
    while (v56 < v55);
  }
  heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v15);
  v58 = v72;
  if (v72)
  {
    v59 = v71;
    if (v71)
    {
      v60 = 0;
      do
      {
        v61 = *(_QWORD *)(v72 + 8 * v60);
        if (v61)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v61);
          v59 = v71;
        }
        ++v60;
      }
      while (v60 < v59);
      v58 = v72;
    }
    heap_Free(*(_QWORD **)(a1 + 8), v58);
  }
  v62 = v69;
  if (v69)
  {
    v63 = a3[4];
    if (a3[4])
    {
      v64 = 0;
      do
      {
        v65 = *(_QWORD *)(v62 + 8 * v64);
        if (v65)
        {
          heap_Free(*(_QWORD **)(a1 + 8), v65);
          v63 = a3[4];
        }
        *(_QWORD *)(v62 + 8 * v64++) = 0;
      }
      while (v64 < v63);
    }
    heap_Free(*(_QWORD **)(a1 + 8), v62);
  }
  if (v70)
    heap_Free(*(_QWORD **)(a1 + 8), v70);
  return v44;
}

uint64_t statpos_getSentenceData(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  _QWORD *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t i;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  __int16 v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  char *v36;
  uint64_t AddPOI;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  size_t v42;
  unsigned int v43;
  uint64_t v44;
  uint64_t v45;
  int v46;
  char *v47;
  unsigned int v48;
  uint64_t v49;
  uint64_t j;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  unsigned __int16 v57;
  int v58;
  uint64_t v59;
  int v60;
  int v62;
  int v63;
  int v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  unsigned int v69;
  unint64_t v70;
  unint64_t v71;
  int v72;
  int v73;
  uint64_t v75;
  uint64_t v76;
  uint64_t v77;
  unsigned int v78;
  unint64_t v79;
  char *v80;
  uint64_t v81;
  char *v82;
  int v83;
  unsigned int v84;
  _BYTE *v85;
  const char *v86;
  const char *v87;
  unsigned int v88;
  int v89;
  uint64_t v90;
  char *v91;
  __int16 v92;
  int v93;

  v93 = 0;
  v92 = 0;
  v91 = 0;
  v90 = 0;
  v88 = 0;
  v89 = 0;
  v86 = 0;
  v87 = 0;
  v85 = 0;
  v83 = 0;
  v84 = 0;
  v10 = *(_QWORD *)a4;
  *(_DWORD *)(a4 + 748) = log_GetLogLevel(*(_QWORD *)(*(_QWORD *)a4 + 32)) > 4;
  v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 1, 0, (char *)&v93 + 2);
  if ((v11 & 0x80000000) != 0)
    return v11;
  v12 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(a1 + 184))(a2, a3, HIWORD(v93), 0, &v92);
  if ((v12 & 0x80000000) == 0 && v92 == 1)
  {
    v12 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, int *))(a1 + 176))(a2, a3, HIWORD(v93), 0, &v91, &v89);
    if ((v12 & 0x80000000) == 0 && (unsigned __int16)v89 >= 2u)
    {
      v16 = (_QWORD *)(a4 + 648);
      log_OutText(*(_QWORD *)(v10 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"new POS : processing=\"%s\"", v13, v14, v15, (uint64_t)v91);
      v17 = heap_Calloc(*(_QWORD **)(v10 + 8), 1, 128);
      if (v17)
      {
        v22 = v17;
        for (i = 0; i != 128; i += 8)
        {
          v24 = heap_Calloc(*(_QWORD **)(v10 + 8), 1, 16);
          *(_QWORD *)(v22 + i) = v24;
          if (!v24)
            goto LABEL_54;
        }
        v29 = heap_Calloc(*(_QWORD **)(v10 + 8), 1, 1024);
        *(_QWORD *)(a4 + 728) = v29;
        if (!v29
          || (*(_WORD *)(a4 + 744) = 1024,
              v30 = heap_Calloc(*(_QWORD **)(v10 + 8), 1, 1024),
              (*(_QWORD *)(a4 + 736) = v30) == 0))
        {
LABEL_54:
          v12 = 2313166858;
          log_OutPublic(*(_QWORD *)(v10 + 32), (uint64_t)"FE_POS", 35000, 0, v25, v26, v27, v28, v78);
          v36 = 0;
          goto LABEL_55;
        }
        v31 = strlen(v91);
        v36 = (char *)heap_Calloc(*(_QWORD **)(v10 + 8), 1, (unsigned __int16)(v31 + 1));
        if (v36)
        {
          v81 = a4 + 8;
          statpos_initCache(a4 + 648);
          AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 2, HIWORD(v93), &v93);
          if ((AddPOI & 0x80000000) == 0)
          {
            v12 = 2313174705;
            v80 = v36;
            while ((_WORD)v93)
            {
              AddPOI = (*(uint64_t (**)(uint64_t, uint64_t))(a1 + 168))(a2, a3);
              if ((AddPOI & 0x80000000) != 0)
                goto LABEL_119;
              if (v88 <= 0xA && ((1 << v88) & 0x610) != 0)
              {
                AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned int *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v93, 1, 1, &v84, &v89);
                if ((AddPOI & 0x80000000) != 0)
                  goto LABEL_119;
                AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v93, 2, 1, (char *)&v84 + 2, &v89);
                if ((AddPOI & 0x80000000) != 0)
                  goto LABEL_119;
                if ((unsigned __int16)v84 > HIWORD(v84))
                  goto LABEL_55;
                v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a1 + 184))(a2, a3, (unsigned __int16)v93, 17, &v92);
                if ((v11 & 0x80000000) != 0)
                  return v11;
                if (v92 == 1)
                {
                  AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v93, 17, 1, (char *)&v83 + 2, &v89);
                  if ((AddPOI & 0x80000000) != 0)
                    goto LABEL_119;
                }
                else
                {
                  HIWORD(v83) = v88 - 9 <= 1;
                }
                strncpy(v36, &v91[(unsigned __int16)v84], HIWORD(v84) - (unint64_t)(unsigned __int16)v84);
                v36[HIWORD(v84) - (unsigned __int16)v84] = 0;
                if (HIWORD(v84) == (unsigned __int16)v84)
                {
                  log_OutText(*(_QWORD *)(v10 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING! : IGNORE EMPTY WORD lingdb position %d,%d", v39, v40, v41, HIWORD(v84));
                }
                else
                {
                  AddPOI = addWord_0(v10, v81, a4 + 648, v36, (unsigned __int16 *)&v84, HIWORD(v83), &v83, v41);
                  if ((AddPOI & 0x80000000) != 0)
                    goto LABEL_119;
                  v42 = strlen(v36);
                  if (v42)
                  {
                    v43 = v36[v42 - 1];
                    if (v43 <= 0x3B && ((1 << v43) & 0xC00100000000000) != 0)
                      *(_DWORD *)(*(_QWORD *)(a4 + 648) + 160 * *(unsigned __int16 *)(a4 + 656) - 148) = 1;
                  }
                  v44 = *(_QWORD *)(a4 + 648) + 160 * *(unsigned __int16 *)(a4 + 656);
                  *(_DWORD *)(v44 - 136) = 0;
                  *(_DWORD *)(v44 - 136) = v88 == 4;
                  AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _BYTE **, int *))(a1 + 176))(a2, a3, (unsigned __int16)v93, 3, &v85, &v89);
                  if ((AddPOI & 0x80000000) != 0)
                    goto LABEL_119;
                  v45 = *(_QWORD *)(a4 + 648);
                  v46 = *(unsigned __int16 *)(a4 + 656) - 1;
                  if (*v85)
                    *(_DWORD *)(v45 + 160 * v46 + 24) = 1;
                  v47 = v91;
                  v48 = HIWORD(v84);
                  *(_DWORD *)(v45 + 160 * v46 + 16) = v91[HIWORD(v84)] == 95;
                  *(_DWORD *)(*(_QWORD *)(a4 + 648) + 160 * *(unsigned __int16 *)(a4 + 656) - 140) = isFollowedbySpace(v81, v47, v48);
                  v49 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, int *))(a1 + 176))(a2, a3, (unsigned __int16)v93, 5, &v86, &v89);
                  if ((v49 & 0x80000000) != 0
                    || (v49 = addPOS(v10, v81, a4 + 648, (unsigned __int16)(*(_WORD *)(a4 + 656) - 1), v86, v93, v22, &v83, a5), (v49 & 0x80000000) != 0))
                  {
                    v12 = v49;
                    v36 = v80;
                    goto LABEL_55;
                  }
                  AddPOI = readAddPOI(a1, a2, a3, v10, (_QWORD *)(a4 + 648), (unsigned __int16)(*(_WORD *)(a4 + 656) - 1), (unsigned __int16)v93);
                  v36 = v80;
                  if ((AddPOI & 0x80000000) != 0)
                    goto LABEL_119;
                  if (*(_DWORD *)(a4 + 1416) == 1)
                  {
                    v82 = 0;
                    AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(a1 + 184))(a2, a3, (unsigned __int16)v93, 14, &v92);
                    if ((AddPOI & 0x80000000) != 0)
                      goto LABEL_119;
                    if (v92)
                    {
                      AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, int *))(a1 + 176))(a2, a3, (unsigned __int16)v93, 14, &v82, &v89);
                      if ((AddPOI & 0x80000000) != 0)
                        goto LABEL_119;
                      if ((unsigned __int16)v89 >= 2u)
                      {
                        AddPOI = readPOSandPHRfromNLU(v10, v81, (uint64_t *)(a4 + 648), v82, (unsigned __int16)(*(_WORD *)(a4 + 656) - 1));
                        if ((AddPOI & 0x80000000) != 0)
                          goto LABEL_119;
                      }
                    }
                    else
                    {
                      v79 = v79 & 0xFFFFFFFF00000000 | v84;
                      AddPOI = readPOSandPHRfromNLUMarkers(v10, v81, (uint64_t *)(a4 + 648), a2, a3, a1, HIWORD(v93), v91, v79, *(_WORD *)(a4 + 656) - 1);
                      if ((AddPOI & 0x80000000) != 0)
                        goto LABEL_119;
                    }
                  }
                }
              }
              AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, (unsigned __int16)v93, &v93);
              if ((AddPOI & 0x80000000) != 0)
                goto LABEL_119;
            }
            AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 2, HIWORD(v93), &v93);
            if ((AddPOI & 0x80000000) == 0)
            {
              while ((_WORD)v93)
              {
                AddPOI = (*(uint64_t (**)(uint64_t, uint64_t))(a1 + 168))(a2, a3);
                if ((AddPOI & 0x80000000) != 0)
                  goto LABEL_119;
                if (v88 != 6)
                  goto LABEL_122;
                AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned int *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v93, 1, 1, &v84, &v89);
                if ((AddPOI & 0x80000000) == 0)
                {
                  AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(a1 + 168))(a2, a3, (unsigned __int16)v93, 2, 1, (char *)&v84 + 2, &v89);
                  if ((AddPOI & 0x80000000) == 0)
                  {
                    if ((unsigned __int16)v84 > HIWORD(v84))
                      goto LABEL_55;
                    AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, const char **, int *))(a1 + 176))(a2, a3, (unsigned __int16)v93, 4, &v87, &v89);
                    if ((AddPOI & 0x80000000) == 0)
                    {
                      AddPOI = addToken_0(v10, (uint64_t *)(a4 + 648), v81, (unsigned __int16 *)&v84, v87, v54, v55, v56);
                      if ((AddPOI & 0x80000000) == 0 || (_DWORD)AddPOI == -1981800448)
                      {
LABEL_122:
                        AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, (unsigned __int16)v93, &v93);
                        if ((AddPOI & 0x80000000) == 0)
                          continue;
                      }
                    }
                  }
                }
                goto LABEL_119;
              }
              AddPOI = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(a1 + 176))(a2, a3, HIWORD(v93), 1, &v90, (char *)&v89 + 2);
              if ((AddPOI & 0x80000000) == 0)
              {
                v57 = HIWORD(v89);
                if (HIWORD(v89))
                {
                  v58 = 0;
                  do
                  {
                    v59 = (unsigned __int16)v58;
                    if (*(_DWORD *)(v90 + 32 * (unsigned __int16)v58) == 34)
                    {
                      if ((unsigned __int16)++v58 >= v57)
                        goto LABEL_93;
                      do
                      {
                        v60 = *(_DWORD *)(v90 + 32 * (unsigned __int16)v58);
                        if (v60 != 21)
                          ++v58;
                      }
                      while ((unsigned __int16)v58 < v57 && v60 != 21);
                      if (v60 == 21)
                      {
                        v63 = *(_DWORD *)(v90 + 32 * v59 + 12);
                        v64 = *(_DWORD *)(v90 + 12);
                        LOWORD(v63) = v63 - v64;
                        v62 = *(_DWORD *)(v90 + 32 * (unsigned __int16)v58 + 12) - v64;
                      }
                      else
                      {
LABEL_93:
                        v62 = *(_DWORD *)(v90 + 16);
                        v63 = *(_DWORD *)(v90 + 32 * v59 + 12) - *(_DWORD *)(v90 + 12);
                      }
                      setPhoneticRange_0((unsigned __int16 **)(a4 + 648), (unsigned __int16)v63, (unsigned __int16)v62);
                    }
                    ++v58;
                    v57 = HIWORD(v89);
                  }
                  while (HIWORD(v89) > (unsigned __int16)v58);
                }
                AddPOI = markPhoneticRegions(v10, (uint64_t *)(a4 + 648));
                if ((AddPOI & 0x80000000) == 0)
                {
                  if (*(_DWORD *)(a4 + 1416) != 1)
                    goto LABEL_117;
                  v69 = *(unsigned __int16 *)(a4 + 656);
                  if (*(_WORD *)(a4 + 656))
                  {
                    v70 = 0;
                    do
                    {
                      if (!HIWORD(v89))
                        goto LABEL_113;
                      v71 = 0;
                      do
                      {
                        while (*(_DWORD *)(v90 + 32 * v71) != 1)
                        {
                          if (++v71 >= HIWORD(v89))
                            goto LABEL_113;
                        }
                        v72 = *(_DWORD *)(v90 + 32 * v71 + 12) - *(_DWORD *)(v90 + 12);
                        v73 = *(unsigned __int16 *)(*v16 + 160 * v70);
                        ++v71;
                      }
                      while (v72 != v73 && v71 < HIWORD(v89));
                      if (v72 != v73)
                      {
LABEL_113:
                        v75 = *(_QWORD *)(*v16 + 160 * v70 + 104);
                        if (v75)
                        {
                          heap_Free(*(_QWORD **)(v10 + 8), v75);
                          *(_QWORD *)(*(_QWORD *)(a4 + 648) + 160 * v70 + 104) = 0;
                          v69 = *(unsigned __int16 *)(a4 + 656);
                        }
                      }
                      ++v70;
                    }
                    while (v70 < v69);
                  }
                  AddPOI = resolvePHR_0((uint64_t)v91, v10, v81, (_WORD *)(a4 + 648), v65, v66, v67, v68);
                  if ((AddPOI & 0x80000000) == 0)
                  {
LABEL_117:
                    AddPOI = setPotentialPOSTags(v10, v81, (uint64_t *)(a4 + 648));
                    if ((AddPOI & 0x80000000) == 0)
                      AddPOI = printSent_0(v10, v81, (const char **)(a4 + 648), (uint64_t)"Initialized data", *(_DWORD *)(a4 + 1416), a5, v76, v77);
                  }
                }
              }
            }
          }
LABEL_119:
          v12 = AddPOI;
        }
        else
        {
          v12 = 2313166858;
          log_OutPublic(*(_QWORD *)(v10 + 32), (uint64_t)"FE_POS", 35000, 0, v32, v33, v34, v35, v78);
        }
LABEL_55:
        for (j = 0; j != 128; j += 8)
        {
          v52 = *(_QWORD *)(v22 + j);
          if (v52)
          {
            heap_Free(*(_QWORD **)(v10 + 8), v52);
            *(_QWORD *)(v22 + j) = 0;
          }
        }
        heap_Free(*(_QWORD **)(v10 + 8), v22);
        statpos_freeCache(v10, a4 + 648);
        if (v36)
          heap_Free(*(_QWORD **)(v10 + 8), (uint64_t)v36);
      }
      else
      {
        v12 = 2313166858;
        log_OutPublic(*(_QWORD *)(v10 + 32), (uint64_t)"FE_POS", 35000, 0, v18, v19, v20, v21, v78);
        statpos_freeCache(v10, a4 + 648);
      }
      if (*v16)
      {
        if (*(_WORD *)(a4 + 656))
        {
          v53 = *(_QWORD *)(*(_QWORD *)(*v16 + 160 * (*(unsigned __int16 *)(a4 + 656) - 1) + 48) + 24);
          if (v53)
          {
            heap_Free(*(_QWORD **)(v10 + 8), v53);
            *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a4 + 648) + 160 * *(unsigned __int16 *)(a4 + 656) - 112) + 24) = 0;
          }
        }
      }
    }
  }
  return v12;
}

uint64_t addWord_0(uint64_t a1, uint64_t a2, uint64_t a3, const char *a4, unsigned __int16 *a5, uint64_t a6, _WORD *a7, uint64_t a8)
{
  unsigned int v13;
  uint64_t v14;
  unint64_t v15;
  int v16;
  unsigned int v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  _DWORD *v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  int v32;
  char *v33;
  size_t v34;
  int v35;
  char *v36;
  unsigned __int16 v37;
  uint64_t v38;
  uint64_t *v39;
  uint64_t v40;
  unsigned int v42;
  int v43;
  char __dst[128];
  uint64_t v46;

  v43 = a6;
  v46 = *MEMORY[0x1E0C80C00];
  v13 = *(unsigned __int16 *)(a3 + 8);
  if (!*(_WORD *)(a3 + 8))
  {
    v16 = 0;
LABEL_11:
    if (*(_WORD *)(a3 + 10))
    {
      v19 = *(_QWORD *)a3;
      if (v13 + 2 > *(unsigned __int16 *)(a3 + 10))
      {
        v20 = heap_Realloc(*(uint64_t **)(a1 + 8), v19, 160 * *(unsigned __int16 *)(a3 + 10) + 3360);
        if (!v20)
          goto LABEL_28;
        *(_QWORD *)a3 = v20;
        bzero((void *)(v20 + 160 * *(unsigned __int16 *)(a3 + 8)), 0xC80uLL);
        *(_WORD *)(a3 + 10) += 20;
        v19 = *(_QWORD *)a3;
      }
    }
    else
    {
      v25 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8001);
      *(_QWORD *)a3 = v25;
      if (!v25)
        goto LABEL_28;
      v19 = v25;
      *(_WORD *)(a3 + 10) = 50;
    }
    v26 = (_DWORD *)(v19 + 160 * *(unsigned __int16 *)(a3 + 8));
    v26[11] = v16;
    *v26 = *(_DWORD *)a5;
    v27 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (8 * *(unsigned __int16 *)(a2 + 376)) | 1);
    *(_QWORD *)(*(_QWORD *)a3 + 160 * *(unsigned __int16 *)(a3 + 8) + 48) = v27;
    if (!v27
      || (v32 = strlen(a4),
          v33 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v32 + 1)),
          (**(_QWORD **)(*(_QWORD *)a3 + 160 * *(unsigned __int16 *)(a3 + 8) + 48) = v33) == 0))
    {
      v40 = 2313166858;
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v28, v29, v30, v31, v42);
      v39 = *(uint64_t **)(*(_QWORD *)a3 + 160 * *(unsigned __int16 *)(a3 + 8) + 48);
      if (v39 && *v39)
      {
        heap_Free(*(_QWORD **)(a1 + 8), *v39);
        **(_QWORD **)(*(_QWORD *)a3 + 160 * *(unsigned __int16 *)(a3 + 8) + 48) = 0;
      }
      return v40;
    }
    strcpy(v33, a4);
    strncpy(__dst, a4, 0x80uLL);
    __dst[127] = 0;
    v40 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, char *, uint64_t))(*(_QWORD *)(a3 + 120) + 144))(*(_QWORD *)(a3 + 104), *(_QWORD *)(a3 + 112), "normal", __dst, 128);
    if ((v40 & 0x80000000) != 0)
      return v40;
    v34 = strlen(__dst);
    if (!v34 || (v35 = v34, !strcmp(a4, __dst)))
    {
LABEL_24:
      v37 = *(_WORD *)(a3 + 8);
      v38 = *(_QWORD *)a3 + 160 * v37;
      *(_DWORD *)(v38 + 72) = 0;
      *(_QWORD *)(v38 + 64) = 0;
      *(_DWORD *)(v38 + 8) = v43 == 1;
      *(_WORD *)(a3 + 8) = v37 + 1;
      *a7 = 0;
      return v40;
    }
    v36 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v35 + 1));
    *(_QWORD *)(*(_QWORD *)a3 + 160 * *(unsigned __int16 *)(a3 + 8) + 120) = v36;
    if (v36)
    {
      strcpy(v36, __dst);
      goto LABEL_24;
    }
LABEL_28:
    v40 = 2313166858;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v21, v22, v23, v24, v42);
    return v40;
  }
  v14 = 0;
  v15 = 0;
  v16 = 0;
  while (1)
  {
    v17 = *(unsigned __int16 *)(*(_QWORD *)a3 + v14);
    v18 = *a5;
    if (__PAIR64__(*(unsigned __int16 *)(*(_QWORD *)a3 + v14 + 2), v17) == __PAIR64__(a5[1], v18))
      return 0;
    if (v18 >= v17 && a5[1] <= *(unsigned __int16 *)(*(_QWORD *)a3 + v14 + 2))
    {
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"WARNING : skip subsumed word %d,%d (subsumed by word %d)", a6, (uint64_t)a7, a8, v18);
      v13 = *(unsigned __int16 *)(a3 + 8);
      v16 = 1;
    }
    ++v15;
    v14 += 160;
    if (v15 >= v13)
      goto LABEL_11;
  }
}

BOOL isFollowedbySpace(uint64_t a1, char *__s, unsigned int a3)
{
  unsigned int v6;
  const char *v7;
  unsigned int v8;

  v6 = (unsigned __int16)strlen(__s);
  if (v6 > a3)
  {
    while (1)
    {
      v7 = &__s[(unsigned __int16)a3];
      v8 = (unsigned __int16)utf8_determineUTF8CharLength(*(unsigned __int8 *)v7);
      if (_statpos_char_check(*(const char **)(a1 + 168), v7, v8) != 1
        && _statpos_char_check(*(const char **)(a1 + 176), &__s[(unsigned __int16)a3], v8) != 1)
      {
        break;
      }
      a3 += utf8_determineUTF8CharLength(*(unsigned __int8 *)v7);
      if (v6 <= (unsigned __int16)a3)
      {
        a3 = (unsigned __int16)a3;
        return v6 == a3;
      }
    }
    return *v7 == 32;
  }
  return v6 == a3;
}

uint64_t addPOS(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4, const char *a5, __int16 a6, uint64_t a7, _WORD *a8, int a9)
{
  const char *v15;
  _QWORD *v16;
  int v17;
  char *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  const char *v23;
  char *v24;
  char *v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  char *v29;
  char *v30;
  uint64_t v31;
  uint64_t UniqDynamicPOS;
  const char *v33;
  uint64_t v34;
  uint64_t v35;
  int v36;
  char *v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  unsigned int v43;
  char *__s;
  int v46;

  v46 = -1;
  if (*a5)
    v15 = a5;
  else
    v15 = "NULL";
  v16 = *(_QWORD **)(a1 + 8);
  v17 = strlen(v15);
  v18 = (char *)heap_Calloc(v16, 1, (v17 + 1));
  if (v18)
  {
    v23 = v18;
    v24 = strcpy(v18, v15);
    v25 = strchr(v24, 92);
    __s = (char *)v23;
    if (v25)
    {
      v29 = v25;
      while (1)
      {
        *v29 = 0;
        v30 = *v23 ? (char *)v23 : "*";
        if ((*(_QWORD *)(a3 + 48) = v30, *(_QWORD *)(a3 + 56) = v30, !a9) && !*(_WORD *)(a2 + 104)
          || *(_DWORD *)(a2 + 184))
        {
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"retag POS \"%s\"", v26, v27, v28, (uint64_t)v30);
          UniqDynamicPOS = statpos_retagPOS(a1, a2, a3, a4, &v46, a8, a7, v31);
          if ((UniqDynamicPOS & 0x80000000) != 0)
            break;
        }
        if (a9 == 1)
        {
          UniqDynamicPOS = statpos_getUniqDynamicPOS(a1, a2, *(char **)(a3 + 48), &v46);
          if ((UniqDynamicPOS & 0x80000000) != 0)
            break;
        }
        if (*(_WORD *)(a2 + 104))
        {
          UniqDynamicPOS = statpos_getPOSOffset(a1, a2, *(_QWORD *)(a3 + 48), &v46);
          if ((UniqDynamicPOS & 0x80000000) != 0)
            break;
        }
        UniqDynamicPOS = statPOSAddUniqueTagOffset2Word(a1, (uint64_t *)a3, a4, v46, a6);
        if ((UniqDynamicPOS & 0x80000000) != 0)
          break;
        v23 = v29 + 1;
        v29 = strchr(v29 + 1, 92);
        if (!v29)
        {
          if (*v23)
            v33 = v23;
          else
            v33 = "*";
          goto LABEL_27;
        }
      }
    }
    else
    {
      if (*v23)
        v33 = v23;
      else
        v33 = "*";
LABEL_27:
      *(_QWORD *)(a3 + 48) = v33;
      *(_QWORD *)(a3 + 56) = v33;
      if ((a9 || *(_WORD *)(a2 + 104)) && !*(_DWORD *)(a2 + 184)
        || (log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"retag POS \"%s\"", v26, v27, v28, (uint64_t)v33), UniqDynamicPOS = statpos_retagPOS(a1, a2, a3, a4, &v46, a8, a7, v35), (UniqDynamicPOS & 0x80000000) == 0))
      {
        if (a9 != 1
          || (UniqDynamicPOS = statpos_getUniqDynamicPOS(a1, a2, *(char **)(a3 + 48), &v46),
              (UniqDynamicPOS & 0x80000000) == 0))
        {
          if (!*(_WORD *)(a2 + 104)
            || (UniqDynamicPOS = statpos_getPOSOffset(a1, a2, *(_QWORD *)(a3 + 48), &v46),
                (UniqDynamicPOS & 0x80000000) == 0))
          {
            v34 = statPOSAddUniqueTagOffset2Word(a1, (uint64_t *)a3, a4, v46, a6);
            if ((v34 & 0x80000000) == 0 && !*(_QWORD *)(*(_QWORD *)(*(_QWORD *)a3 + 160 * a4 + 48) + 24))
            {
              v36 = strlen(__s);
              v37 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v36 + 1));
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a3 + 160 * a4 + 48) + 24) = v37;
              if (v37)
              {
                strcpy(v37, __s);
              }
              else
              {
                v34 = 2313166858;
                log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v38, v39, v40, v41, v43);
              }
            }
            goto LABEL_40;
          }
        }
      }
    }
    v34 = UniqDynamicPOS;
LABEL_40:
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)__s);
    return v34;
  }
  v34 = 2313166858;
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v19, v20, v21, v22, v43);
  return v34;
}

uint64_t readAddPOI(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, _QWORD *a5, unsigned int a6, uint64_t a7)
{
  uint64_t v14;
  char *v15;
  const char *v16;
  int v17;
  char *v18;
  char v19;
  uint64_t v20;
  _QWORD *v21;
  size_t v22;
  _WORD *v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  const char *v28;
  unsigned int v30;
  unsigned __int16 v31;
  const char *v32;
  int v33[2];
  int v34;

  v34 = 0;
  *(_QWORD *)v33 = 0;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a1 + 184))(a2, a3, a7, 14, (char *)&v34 + 2);
  if ((v14 & 0x80000000) == 0)
  {
    if (HIWORD(v34))
    {
      v14 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, int *, int *))(a1 + 176))(a2, a3, a7, 14, v33, &v34);
      if ((v14 & 0x80000000) == 0 && (unsigned __int16)v34 >= 2u)
      {
        v32 = 0;
        v31 = 0;
        v15 = hlp_NLUStrFind(*(char **)v33, "S_POI", (uint64_t *)&v32, &v31);
        if (v15)
          v16 = v32;
        else
          v16 = 0;
        if (v15)
          v17 = 66;
        else
          v17 = 0;
        if (hlp_NLUStrFind(*(char **)v33, "I_POI", (uint64_t *)&v32, &v31))
        {
          v16 = v32;
          v17 = 73;
        }
        v18 = hlp_NLUStrFind(*(char **)v33, "E_POI", (uint64_t *)&v32, &v31);
        if (v17 == 66)
          v19 = 83;
        else
          v19 = 69;
        if (v18)
          v16 = v32;
        else
          v19 = v17;
        v20 = *a5 + 160 * a6;
        *(_BYTE *)(v20 + 128) = v19;
        v21 = (_QWORD *)(v20 + 136);
        if (v16)
        {
          if (!*v21)
          {
            v22 = strlen(v16);
            v23 = (_WORD *)heap_Calloc(*(_QWORD **)(a4 + 8), 1, v22 + 3);
            *(_QWORD *)(*a5 + 160 * a6 + 136) = v23;
            if (v23)
            {
              *v23 = 44;
              strcat(*(char **)(*a5 + 160 * a6 + 136), v16);
              v28 = *(const char **)(*a5 + 160 * a6 + 136);
              *(_WORD *)&v28[strlen(v28)] = 44;
            }
            else
            {
              log_OutPublic(*(_QWORD *)(a4 + 32), (uint64_t)"FE_POS", 35000, 0, v24, v25, v26, v27, v30);
              return 2313166858;
            }
          }
        }
        else
        {
          *v21 = 0;
        }
      }
    }
  }
  return v14;
}

uint64_t readPOSandPHRfromNLU(uint64_t a1, uint64_t a2, uint64_t *a3, char *a4, unsigned int a5)
{
  uint64_t v10;
  int v12;
  __int128 v13;

  v13 = 0uLL;
  v12 = 0;
  hlp_NLUStrFind(a4, "POS", (uint64_t *)&v13 + 1, (unsigned __int16 *)&v12 + 1);
  hlp_NLUStrFind(a4, "PHR", (uint64_t *)&v13, (unsigned __int16 *)&v12);
  if (v13 != 0)
    return addPOSandPHR(a1, a2, a3, a5, a5, *((const char **)&v13 + 1), HIWORD(v12), (const char *)v13, v12);
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"missing POS/PHR in NLU field: %s", *((uint64_t *)&v13 + 1), v10, v13, (uint64_t)a4);
  return 2313166848;
}

uint64_t readPOSandPHRfromNLUMarkers(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, char *__s, uint64_t a9, unsigned __int16 a10)
{
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unsigned int v23;
  uint64_t v25;
  uint64_t v26;
  uint64_t *v28;
  uint64_t v29;
  int v30;
  int v31;
  int v32;
  __int128 v33;
  unsigned __int16 v34;
  uint64_t v35;

  v35 = 0;
  v34 = 0;
  v33 = 0uLL;
  v31 = 0;
  v32 = 0;
  v30 = 0;
  strlen(__s);
  v17 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, int *))(a6 + 104))(a4, a5, 2, a7, &v30);
  if ((v17 & 0x80000000) != 0)
    return v17;
  v29 = a1;
  v28 = a3;
  while ((_WORD)v30)
  {
    v17 = (*(uint64_t (**)(uint64_t, uint64_t))(a6 + 168))(a4, a5);
    if ((v17 & 0x80000000) == 0)
    {
      v17 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a6 + 120))(a4, a5, (unsigned __int16)v30, &v30);
      if ((v17 & 0x80000000) == 0)
        continue;
    }
    return v17;
  }
  v31 = a9;
  v17 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t *, unsigned __int16 *))(a6 + 176))(a4, a5, a7, 1, &v35, &v34);
  if ((v17 & 0x80000000) != 0)
    return v17;
  if (v34)
  {
    v21 = 0;
    v22 = 0;
    while (1)
    {
      if (*(_DWORD *)(v35 + v21) == 51)
      {
        v23 = *(_DWORD *)(v35 + v21 + 12) - *(_DWORD *)(v35 + 12);
        if (v23 >= (unsigned __int16)v31 && v23 < HIWORD(v31))
          break;
      }
      v22 = (v22 + 1);
      v21 += 32;
      if (32 * v34 == v21)
        goto LABEL_17;
    }
    hlp_NLUStrFind(*(char **)(v35 + v21 + 24), "POS", (uint64_t *)&v33 + 1, (unsigned __int16 *)&v32 + 1);
    hlp_NLUStrFind(*(char **)(v35 + v21 + 24), "PHR", (uint64_t *)&v33, (unsigned __int16 *)&v32);
    if (v33 == 0)
    {
      v25 = 2313166848;
      log_OutText(*(_QWORD *)(v29 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"missing POS/PHR in (NLU) marker number: %d", *((uint64_t *)&v33 + 1), v26, v33, v22);
      return v25;
    }
    return addPOSandPHR(v29, a2, v28, a10, a10, *((const char **)&v33 + 1), HIWORD(v32), (const char *)v33, v32);
  }
LABEL_17:
  v25 = 2313166848;
  log_OutText(*(_QWORD *)(v29 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"couldnt recover from missing NLU field on word record %d,%d", v18, v19, v20, (unsigned __int16)a9);
  return v25;
}

uint64_t addToken_0(uint64_t a1, uint64_t *a2, uint64_t a3, unsigned __int16 *a4, const char *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v11;
  int v12;
  uint64_t v14;
  unsigned __int16 v15;
  unsigned __int16 v16;
  uint64_t v17;
  unsigned int v18;
  unsigned int v19;
  unsigned int v20;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  int v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  char *v38;
  size_t v39;
  int v40;
  size_t v41;
  unsigned __int16 v42;
  uint64_t v43;
  uint64_t *v44;
  int v45;
  size_t v46;
  unsigned int v48;

  v11 = *((unsigned __int16 *)a2 + 4);
  v12 = *a4;
  if (*((_WORD *)a2 + 4))
  {
    v14 = 0;
    v15 = 0;
    v16 = v11 + 1;
    v17 = *a2;
    v18 = a4[1];
    while (1)
    {
      v19 = *(unsigned __int16 *)(v17 + v14);
      if (v12 == v19)
        v16 = v15;
      v20 = *(unsigned __int16 *)(v17 + v14 + 2);
      if (v18 == v20)
        break;
      if (v18 >= v19 && v18 < v20)
        break;
      ++v15;
      v12 = *a4;
      v14 += 160;
      if (160 * v11 == v14)
        goto LABEL_14;
    }
    if ((_DWORD)v11 + 1 != v16)
    {
      v28 = checkSpan_0(a1, a3, (uint64_t *)(v17 + 160 * v16 + 56));
      if ((v28 & 0x80000000) == 0)
      {
        v28 = checkSpan_0(a1, a3, (uint64_t *)(*a2 + v14 + 56));
        if ((v28 & 0x80000000) == 0)
        {
          v29 = *a2;
          v30 = *(_QWORD *)(*a2 + 160 * v16 + 56);
          *(_DWORD *)(v30 + 48) = 1;
          *(_WORD *)(v30 + 56) = v16;
          *(_WORD *)(v30 + 58) = v15;
          v31 = *(_QWORD *)(v29 + v14 + 56);
          *(_DWORD *)(v31 + 52) = 1;
          *(_WORD *)(v31 + 56) = v16;
          v32 = strlen(a5);
          v33 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v32 - 1));
          *(_QWORD *)(*(_QWORD *)(*a2 + 160 * v16 + 56) + 64) = v33;
          if (!v33)
          {
            log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v34, v35, v36, v37, v48);
            return 2313166858;
          }
          v38 = (char *)v33;
          v39 = strlen(a5 + 1);
          strncpy(v38, a5 + 1, v39 - 1);
          v40 = strlen(a5);
          v28 = checkAllocAndZero(a1, (uint64_t *)(*(_QWORD *)(*a2 + 160 * v16 + 48) + 16), v40 + 1);
          if ((v28 & 0x80000000) == 0)
          {
            strcat(*(char **)(*(_QWORD *)(*a2 + 160 * v16 + 48) + 16), "B-");
            v41 = strlen(a5 + 1);
            strncpy((char *)(*(_QWORD *)(*(_QWORD *)(*a2 + 160 * v16 + 48) + 16) + 2), a5 + 1, v41 - 1);
            v22 = 0;
            v42 = v16 + 1;
            if ((unsigned __int16)(v16 + 1) > v15)
              return v22;
            while (1)
            {
              v43 = v42;
              v44 = (uint64_t *)(*(_QWORD *)(*a2 + 160 * v42 + 48) + 16);
              v45 = strlen(a5);
              v28 = checkAllocAndZero(a1, v44, v45 + 1);
              if ((v28 & 0x80000000) != 0)
                break;
              strcat(*(char **)(*(_QWORD *)(*a2 + 160 * v43 + 48) + 16), "I-");
              v46 = strlen(a5 + 1);
              strncpy((char *)(*(_QWORD *)(*(_QWORD *)(*a2 + 160 * v43 + 48) + 16) + 2), a5 + 1, v46 - 1);
              v22 = 0;
              v42 = v43 + 1;
              if ((unsigned __int16)(v43 + 1) > v15)
                return v22;
            }
          }
        }
      }
      return v28;
    }
  }
LABEL_14:
  v22 = 2313166848;
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"could not resolve token positions (find start and end) : token=%s from=%d to=%d", a6, a7, a8, (uint64_t)a5);
  if (*((_WORD *)a2 + 4))
  {
    v26 = 0;
    v27 = 0;
    do
    {
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"word[%d] %d,%d", v23, v24, v25, v27++);
      v26 += 160;
    }
    while (v27 < *((unsigned __int16 *)a2 + 4));
  }
  return v22;
}

unsigned __int16 **setPhoneticRange_0(unsigned __int16 **result, unsigned int a2, unsigned int a3)
{
  unsigned __int16 *v3;
  uint64_t v4;
  unsigned int v5;
  BOOL v6;

  if (*((_WORD *)result + 4))
  {
    v3 = *result;
    v4 = *((unsigned __int16 *)result + 4) - 1;
    do
    {
      v5 = *v3;
      if (v5 >= a2 && v3[1] <= a3)
        *((_DWORD *)v3 + 10) = 1;
      v6 = v5 > a3 || v4-- == 0;
      v3 += 80;
    }
    while (!v6);
  }
  return result;
}

uint64_t markPhoneticRegions(uint64_t a1, uint64_t *a2)
{
  unsigned int v2;
  int v5;
  uint64_t v6;
  uint64_t v7;
  int v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  char *v16;
  _DWORD *v17;
  unsigned int v19;

  LOWORD(v2) = *((_WORD *)a2 + 4);
  if (!(_WORD)v2)
    return 0;
  v5 = 0;
  while (1)
  {
    if (*(_DWORD *)(*a2 + 160 * (unsigned __int16)v5 + 40) == 1
      && (unsigned __int16)v5 < (unsigned __int16)v2)
    {
      v6 = *a2;
      if (*(_DWORD *)(*a2 + 160 * (unsigned __int16)v5 + 40) == 1)
        break;
    }
    v8 = v5;
LABEL_18:
    v5 = v8 + 1;
    if ((unsigned __int16)(v8 + 1) >= (unsigned __int16)v2)
      return 0;
  }
  v7 = 160 * (unsigned __int16)v5;
  v8 = v5;
  while (1)
  {
    v9 = *(_QWORD *)(*(_QWORD *)(v6 + v7 + 48) + 24);
    if (v9)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v9);
      v10 = *a2 + v7;
      *(_QWORD *)(*(_QWORD *)(v10 + 48) + 24) = 0;
      heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(v10 + 104));
      *(_QWORD *)(*a2 + v7 + 104) = 0;
    }
    v11 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 5);
    *(_QWORD *)(*a2 + v7 + 104) = v11;
    if (!v11)
      break;
    v16 = (unsigned __int16)v8 == (unsigned __int16)v5 ? "B-PH" : "I-PH";
    *(_DWORD *)v11 = *(_DWORD *)v16;
    *(_BYTE *)(v11 + 4) = v16[4];
    v17 = (_DWORD *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 4);
    *(_QWORD *)(*(_QWORD *)(*a2 + v7 + 48) + 24) = v17;
    if (!v17)
      break;
    *v17 = 4935253;
    ++v8;
    v2 = *((unsigned __int16 *)a2 + 4);
    if (v2 > (unsigned __int16)v8)
    {
      v6 = *a2;
      v7 += 160;
      if (*(_DWORD *)(*a2 + 160 * (unsigned __int16)v8 + 40) == 1)
        continue;
    }
    goto LABEL_18;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v12, v13, v14, v15, v19);
  return 2313166858;
}

uint64_t resolvePHR_0(uint64_t a1, uint64_t a2, uint64_t a3, _WORD *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v11;
  unint64_t v12;
  unsigned __int16 *v13;
  unsigned int v14;
  const char *v15;
  unint64_t v16;
  int v17;
  char *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  char *v25;
  uint64_t v26;
  int v27;
  char *v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  int v33;
  int v34;
  char *v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  int v39;
  char *v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  int v45;
  char *v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  int v50;
  char *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  unint64_t v56;
  uint64_t v57;
  _QWORD *v58;
  unint64_t v59;
  uint64_t v60;
  uint64_t v61;
  char *v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  unsigned int v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  unsigned int v76;
  unsigned int v77;
  uint64_t v78;
  unsigned __int16 *v79;
  uint64_t v80;
  const char *v81;
  unsigned __int16 v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  unsigned int v86;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  int v91;
  char *v92;
  unint64_t v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  unsigned int v98;
  char __s2[2];
  uint64_t v101;

  v101 = *MEMORY[0x1E0C80C00];
  if (!a4[4])
    return 0;
  v11 = 0;
  v12 = 0;
  do
  {
    if (v11)
    {
      v13 = (unsigned __int16 *)(*(_QWORD *)a4 + v11);
      if (!*((_QWORD *)v13 + 13))
      {
        v14 = v12 - 1;
        v15 = *(const char **)(*(_QWORD *)a4 + 160 * (v12 - 1) + 104);
        if (v15)
        {
          v16 = *v13;
          if (v16 >= 2 && *(_BYTE *)(a1 + (v16 - 1)) == 95)
          {
            v17 = strlen(v15);
            v18 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v17 + 3));
            v23 = *(_QWORD *)a4;
            *(_QWORD *)(*(_QWORD *)a4 + v11 + 104) = v18;
            if (!v18)
              goto LABEL_70;
            strcpy(v18, *(const char **)(v23 + 160 * v14 + 104));
            v24 = *(_QWORD *)a4;
            v25 = *(char **)(*(_QWORD *)a4 + v11 + 104);
            if (strcmp(v25, "O"))
            {
              *v25 = 73;
              v24 = *(_QWORD *)a4;
            }
            v26 = *(_QWORD *)(*(_QWORD *)(v24 + v11 + 48) + 24);
            if (v26)
            {
              heap_Free(*(_QWORD **)(a2 + 8), v26);
              v24 = *(_QWORD *)a4;
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v11 + 48) + 24) = 0;
            }
            v27 = strlen(*(const char **)(*(_QWORD *)(v24 + 160 * v14 + 48) + 24));
            v28 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v27 + 3));
            v29 = *(_QWORD *)a4;
            *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v11 + 48) + 24) = v28;
            if (!v28)
              goto LABEL_70;
            strcpy(v28, *(const char **)(*(_QWORD *)(v29 + 160 * v14 + 48) + 24));
            log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"[1] set missing PHR on word : word index=%d to %s (also copy POS %s)", v30, v31, v32, v12);
          }
          else
          {
            v33 = *(unsigned __int8 *)v15;
            if (v33 == 66)
            {
              v45 = strlen(v15);
              v46 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v45 + 3));
              v47 = *(_QWORD *)a4;
              *(_QWORD *)(*(_QWORD *)a4 + v11 + 104) = v46;
              if (!v46)
                goto LABEL_70;
              strcpy(v46, *(const char **)(v47 + 160 * v14 + 104));
              **(_BYTE **)(*(_QWORD *)a4 + v11 + 104) = 73;
              v48 = *(_QWORD *)a4;
              v49 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v11 + 48) + 24);
              if (v49)
              {
                heap_Free(*(_QWORD **)(a2 + 8), v49);
                v48 = *(_QWORD *)a4;
                *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v11 + 48) + 24) = 0;
              }
              v50 = strlen(*(const char **)(*(_QWORD *)(v48 + 160 * v14 + 48) + 24));
              v51 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v50 + 3));
              v52 = *(_QWORD *)a4;
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v11 + 48) + 24) = v51;
              if (!v51)
              {
LABEL_70:
                v96 = 2313166858;
                log_OutPublic(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 35000, 0, v19, v20, v21, v22, v98);
                return v96;
              }
              strcpy(v51, *(const char **)(*(_QWORD *)(v52 + 160 * v14 + 48) + 24));
              log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"[3] set missing PHR on word : word index=%d to %s (also copy POS %s)", v53, v54, v55, v12);
            }
            else if (v33 == 79 || v33 == 73)
            {
              v34 = strlen(v15);
              v35 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v34 + 3));
              v36 = *(_QWORD *)a4;
              *(_QWORD *)(*(_QWORD *)a4 + v11 + 104) = v35;
              if (!v35)
                goto LABEL_70;
              strcpy(v35, *(const char **)(v36 + 160 * v14 + 104));
              v37 = *(_QWORD *)a4;
              v38 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v11 + 48) + 24);
              if (v38)
              {
                heap_Free(*(_QWORD **)(a2 + 8), v38);
                v37 = *(_QWORD *)a4;
                *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v11 + 48) + 24) = 0;
              }
              v39 = strlen(*(const char **)(*(_QWORD *)(v37 + 160 * v14 + 48) + 24));
              v40 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v39 + 3));
              v41 = *(_QWORD *)a4;
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + v11 + 48) + 24) = v40;
              if (!v40)
                goto LABEL_70;
              strcpy(v40, *(const char **)(*(_QWORD *)(v41 + 160 * v14 + 48) + 24));
              log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"[2] set missing PHR on word : word index=%d to %s (also copy POS %s)", v42, v43, v44, v12);
            }
          }
        }
      }
    }
    ++v12;
    v56 = (unsigned __int16)a4[4];
    v11 += 160;
  }
  while (v12 < v56);
  if (!a4[4])
    return 0;
  v57 = 0;
  v58 = (_QWORD *)(*(_QWORD *)a4 + 104);
  do
  {
    if (!*v58)
    {
      log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"could not work out PHR on word : word index=%d", a6, a7, a8, v57);
      return 2313166848;
    }
    ++v57;
    v58 += 20;
  }
  while (v56 != v57);
  v59 = 0;
  v60 = 104;
  do
  {
    v61 = *(_QWORD *)a4;
    v62 = *(char **)(*(_QWORD *)a4 + v60);
    if (!strncmp(v62, "I-", 2uLL))
    {
      if (v59)
      {
        if (strcmp(*(const char **)(v61 + 160 * (v59 - 1) + 104), v62))
        {
          __strcpy_chk();
          __s2[0] = 66;
          v66 = *(_QWORD *)a4;
          if (strcmp(*(const char **)(*(_QWORD *)a4 + 160 * (v59 - 1) + 104), __s2))
          {
            **(_BYTE **)(v66 + v60) = 66;
            log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Error : no B- preceding I- PHR : change PHR on word %d to %s", v67, v68, v69, v59);
          }
        }
      }
      else
      {
        *v62 = 66;
        log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Error : no B- preceding I- PHR : change PHR on word %d to %s", v63, v64, v65, 0);
      }
    }
    ++v59;
    v60 += 160;
  }
  while (v59 < (unsigned __int16)a4[4]);
  if (!a4[4])
    return 0;
  v70 = 0;
  v71 = 0;
  do
  {
    v72 = (unsigned __int16)v71;
    __strcpy_chk();
    if (*(unsigned __int16 *)__s2 == 11586)
      __strcpy_chk();
    v76 = (unsigned __int16)a4[4];
    v77 = v71;
    if (v76 > (unsigned __int16)v71)
    {
      v78 = *(_QWORD *)a4;
      v79 = (unsigned __int16 *)(*(_QWORD *)a4 + 160 * (unsigned __int16)v71 + 4);
      v77 = v71;
      while (1)
      {
        v80 = v78 + 160 * (unsigned __int16)v77;
        v81 = *(const char **)(v80 + 104);
        if (!v81
          || (strlen(*(const char **)(v80 + 104)) < 3 || strcmp(v81 + 2, __s2) || strncmp(v81, "I-", 2uLL))
          && *(unsigned __int16 *)(v78 + 160 * (unsigned __int16)v77 + 4) != *v79)
        {
          break;
        }
        if (v76 <= (unsigned __int16)++v77)
        {
          v77 = v76;
          break;
        }
      }
      v72 = (unsigned __int16)v71;
    }
    v82 = v77 - 1;
    log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"[3] add syn chunk %s from %d to %d", v73, v74, v75, (uint64_t)__s2);
    v86 = (unsigned __int16)a4[4];
    if ((unsigned __int16)v71 > (unsigned __int16)(v77 - 1) || v86 <= (unsigned __int16)v71 || v86 <= v82)
    {
      log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"syntactic chunks out of order: fromWordIdx=%d toWordIdx=%d numWords=%d", v83, v84, v85, v70);
      return 2313166848;
    }
    v87 = checkSpan_0(a2, a3, (uint64_t *)(*(_QWORD *)a4 + 160 * v72 + 56));
    if ((v87 & 0x80000000) != 0)
      return v87;
    v87 = checkSpan_0(a2, a3, (uint64_t *)(*(_QWORD *)a4 + 160 * (unsigned __int16)(v77 - 1) + 56));
    if ((v87 & 0x80000000) != 0)
      return v87;
    v88 = *(_QWORD *)a4;
    v89 = *(_QWORD *)(*(_QWORD *)a4 + 160 * v72 + 56);
    *(_DWORD *)(v89 + 96) = 1;
    *(_WORD *)(v89 + 104) = v71;
    *(_WORD *)(v89 + 106) = v82;
    v90 = *(_QWORD *)(v88 + 160 * (unsigned __int16)(v77 - 1) + 56);
    *(_DWORD *)(v90 + 100) = 1;
    *(_WORD *)(v90 + 104) = v71;
    v91 = strlen(__s2);
    v92 = (char *)heap_Calloc(*(_QWORD **)(a2 + 8), 1, (v91 + 1));
    *(_QWORD *)(*(_QWORD *)(*(_QWORD *)a4 + 160 * v72 + 56) + 112) = v92;
    if (!v92)
      goto LABEL_70;
    strcpy(v92, __s2);
    if ((unsigned __int16)v71 == (unsigned __int16)v77)
      v71 = v77 + 1;
    else
      v71 = v77;
    v70 = (unsigned __int16)v71;
  }
  while ((unsigned __int16)v71 < (unsigned __int16)a4[4]);
  if (!a4[4])
    return 0;
  v93 = 0;
  v94 = *(_QWORD *)a4;
  v95 = 104;
  do
  {
    heap_Free(*(_QWORD **)(a2 + 8), *(_QWORD *)(v94 + v95));
    v96 = 0;
    v94 = *(_QWORD *)a4;
    *(_QWORD *)(*(_QWORD *)a4 + v95) = 0;
    ++v93;
    v95 += 160;
  }
  while (v93 < (unsigned __int16)a4[4]);
  return v96;
}

uint64_t setPotentialPOSTags(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  unint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  int v8;
  unsigned int *v9;
  uint64_t v10;
  unsigned int v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unsigned __int16 *v23;
  char *v24;
  char *v25;
  unint64_t v26;
  const char *v27;
  unint64_t v28;
  char __dst[16];
  _BYTE v33[752];
  char __s2[8];
  uint64_t v35;

  v35 = *MEMORY[0x1E0C80C00];
  __s2[0] = *(_BYTE *)(a2 + 120);
  __s2[1] = 0;
  if (*((_WORD *)a3 + 4))
  {
    v4 = 0;
    v5 = *a3;
    do
    {
      v6 = v5 + 160 * v4;
      v7 = *(unsigned __int16 *)(v6 + 72);
      if (*(_WORD *)(v6 + 72))
      {
        v8 = 0;
        v9 = *(unsigned int **)(v5 + 160 * v4 + 64);
        v10 = *(unsigned __int16 *)(v6 + 72);
        do
        {
          v11 = *v9;
          v9 += 6;
          v8 += strlen((const char *)(*(_QWORD *)(a2 + 296) + *(unsigned int *)(*(_QWORD *)(a2 + 304) + 4 * v11)));
          --v10;
        }
        while (v10);
        *(_QWORD *)(v5 + 160 * v4 + 80) = 0;
        if ((_WORD)v8)
        {
          v12 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 2 * v7 + (unsigned __int16)v8 + 1);
          v17 = *a3;
          *(_QWORD *)(*a3 + 160 * v4 + 80) = v12;
          if (!v12)
          {
            log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v13, v14, v15, v16, v33);
            return 2313166858;
          }
          if (*(_WORD *)(v17 + 160 * v4 + 72))
          {
            v18 = 0;
            v19 = 0;
            v21 = *(_QWORD *)(a2 + 296);
            v20 = *(_QWORD *)(a2 + 304);
            v22 = *a3;
            v23 = (unsigned __int16 *)(*a3 + 160 * v4 + 72);
            v24 = __dst;
            do
            {
              v25 = strcpy(v24, (const char *)(v21+ *(unsigned int *)(v20+ 4 * *(unsigned int *)(*(_QWORD *)(v17 + 160 * v4 + 64) + v18))));
              ++v19;
              v26 = *v23;
              v24 = v25 + 16;
              v18 += 24;
              v17 = v22;
            }
            while (v19 < v26);
          }
          else
          {
            v26 = 0;
          }
          ssft_qsort((uint64_t)__dst, v26, 16, (uint64_t (*)(unint64_t, unint64_t))string_cmp);
          strcpy(*(char **)(*a3 + 160 * v4 + 80), __dst);
          v5 = *a3;
          if (*(unsigned __int16 *)(*a3 + 160 * v4 + 72) >= 2u)
          {
            v27 = v33;
            v28 = 1;
            do
            {
              strcat(*(char **)(v5 + 160 * v4 + 80), __s2);
              strcat(*(char **)(*a3 + 160 * v4 + 80), v27);
              ++v28;
              v5 = *a3;
              v27 += 16;
            }
            while (v28 < *(unsigned __int16 *)(*a3 + 160 * v4 + 72));
          }
        }
      }
      else
      {
        *(_QWORD *)(v5 + 160 * v4 + 80) = 0;
      }
      ++v4;
    }
    while (v4 < *((unsigned __int16 *)a3 + 4));
  }
  return 0;
}

uint64_t printSent_0(uint64_t a1, uint64_t a2, const char **a3, uint64_t a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  int v8;
  uint64_t v13;
  uint64_t result;
  const char *v15;
  unsigned int v16;
  const char *v18;
  uint64_t v19;
  const char *v20;
  char *v21;
  const char *v22;
  const char *v23;
  const char *v24;
  uint64_t v25;
  unint64_t v26;
  const char *v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  const char *v33;
  unint64_t v34;
  uint64_t v35;
  uint64_t v36;
  unint64_t v37;
  unsigned __int16 *v38;
  const char *v39;
  const char *v40;
  uint64_t v41;
  int v42;
  int v43;

  if (*((_DWORD *)a3 + 25))
  {
    v8 = a6;
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Sentence :%s", a6, a7, a8, a4);
    if (*((_WORD *)a3 + 4))
    {
      v42 = a5;
      v43 = v8;
      v13 = 0;
      while (1)
      {
        sprintf((char *)a3[11], "[%2d] ", v13);
        result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)a3[11]);
        if ((result & 0x80000000) != 0)
          return result;
        v15 = *a3;
        if (*(_DWORD *)&(*a3)[160 * v13 + 44] == 1)
        {
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "*DUMMY* ");
          if ((result & 0x80000000) != 0)
            return result;
          v15 = *a3;
        }
        if (*(_DWORD *)&v15[160 * v13 + 8] == 1)
        {
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "*OOV* ");
          if ((result & 0x80000000) != 0)
            return result;
          v15 = *a3;
        }
        if (*(unsigned __int16 *)&v15[160 * v13 + 72] >= 2u)
        {
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "*AMB* ");
          if ((result & 0x80000000) != 0)
            return result;
          v15 = *a3;
        }
        strncpy((char *)a3[11], **(const char ***)&v15[160 * v13 + 48], 0x14uLL);
        v16 = (unsigned __int16)strlen(**(const char ***)&(*a3)[160 * v13 + 48]);
        if (v16 <= 0x13)
        {
          do
            *(_WORD *)&a3[11][strlen(a3[11])] = 32;
          while (v16++ < 0x13);
        }
        result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)a3[11]);
        if ((result & 0x80000000) != 0)
          return result;
        result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, " ");
        if ((result & 0x80000000) != 0)
          return result;
        if (*(_QWORD *)&(*a3)[160 * v13 + 120])
        {
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "canon=");
          if ((result & 0x80000000) != 0)
            return result;
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, *(char **)&(*a3)[160 * v13 + 120]);
          if ((result & 0x80000000) != 0)
            return result;
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, " ");
          if ((result & 0x80000000) != 0)
            return result;
        }
        if (v43 == 1)
        {
          v18 = *a3;
          if (*(_DWORD *)&(*a3)[160 * v13 + 24] == 1)
          {
            result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "DCTWORD ");
            if ((result & 0x80000000) != 0)
              return result;
            v18 = *a3;
          }
          if (*(_DWORD *)&v18[160 * v13 + 16] == 1)
          {
            result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "FollowedByUnderscore ");
            if ((result & 0x80000000) != 0)
              return result;
            v18 = *a3;
          }
          if (*(_DWORD *)&v18[160 * v13 + 20] == 1)
          {
            result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "FollowedBySpace ");
            if ((result & 0x80000000) != 0)
              return result;
          }
        }
        v19 = (uint64_t)&(*a3)[160 * v13];
        if (v42 == 1)
          break;
        if (*(_QWORD *)(v19 + 88))
        {
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "PREDICTEDPOS=");
          if ((result & 0x80000000) != 0)
            return result;
          v21 = *(char **)&(*a3)[160 * v13 + 88];
LABEL_39:
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, v21);
          if ((result & 0x80000000) != 0)
            return result;
        }
        v22 = *a3;
        if (*(_QWORD *)&(*a3)[160 * v13 + 104])
        {
          sprintf((char *)a3[11], "tmphr=%4s ", *(const char **)&(*a3)[160 * v13 + 104]);
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)a3[11]);
          if ((result & 0x80000000) != 0)
            return result;
          v22 = *a3;
        }
        if (*(_QWORD *)&v22[160 * v13 + 112])
        {
          sprintf((char *)a3[11], "retag=%4s ", *(const char **)&v22[160 * v13 + 112]);
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)a3[11]);
          if ((result & 0x80000000) != 0)
            return result;
          v22 = *a3;
        }
        v23 = *(const char **)(*(_QWORD *)&v22[160 * v13 + 48] + 16);
        if (!v23)
          v23 = " ";
        sprintf((char *)a3[11], " %6s ", v23);
        result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)a3[11]);
        if ((result & 0x80000000) != 0)
          return result;
        v24 = *a3;
        if (*(_DWORD *)&(*a3)[160 * v13 + 12])
        {
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "_HASCOMMA ");
          if ((result & 0x80000000) != 0)
            return result;
          v24 = *a3;
        }
        if (*(_DWORD *)&v24[160 * v13 + 40])
        {
          result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, " bPHONETIC ");
          if ((result & 0x80000000) != 0)
            return result;
        }
        if (*(_WORD *)(a2 + 376))
        {
          v25 = 0;
          v26 = 0;
          do
          {
            v27 = *a3;
            v28 = *(_QWORD *)&(*a3)[160 * v13 + 56];
            if (v28)
            {
              if (*(_DWORD *)(v28 + v25) != 1)
                goto LABEL_95;
              sprintf((char *)a3[11], "<%s ", *(const char **)(v28 + v25 + 16));
              result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)a3[11]);
              if ((result & 0x80000000) != 0)
                return result;
              v27 = *a3;
              v28 = *(_QWORD *)&(*a3)[160 * v13 + 56];
              if (v28)
              {
LABEL_95:
                v29 = v28 + v25;
                if (*(_DWORD *)(v29 + 4) == 1)
                {
                  sprintf((char *)a3[11], "%s> ", *(const char **)(*(_QWORD *)&v27[160 * *(unsigned __int16 *)(v29 + 8) + 56] + v25 + 16));
                  result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)a3[11]);
                  if ((result & 0x80000000) != 0)
                    return result;
                }
              }
            }
            ++v26;
            v25 += 24;
          }
          while (v26 < *(unsigned __int16 *)(a2 + 376));
        }
        result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, " uniqueTagRecs:");
        if ((result & 0x80000000) != 0)
          return result;
        v33 = *a3;
        if (*(_WORD *)&(*a3)[160 * v13 + 72])
        {
          v34 = 0;
          v41 = a2;
          while (1)
          {
            result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "<RETAG=");
            if ((result & 0x80000000) != 0)
              return result;
            result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)(*(_QWORD *)(a2 + 296)+ *(unsigned int *)(*(_QWORD *)(a2 + 304)+ 4 * *(unsigned int *)(*(_QWORD *)&(*a3)[160 * v13 + 64] + 24 * v34))));
            if ((result & 0x80000000) != 0)
              return result;
            result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, ",");
            if ((result & 0x80000000) != 0)
              return result;
            v35 = *(_QWORD *)&(*a3)[160 * v13 + 64];
            if (*(_WORD *)(v35 + 24 * v34 + 16))
            {
              v36 = 0;
              v37 = 0;
              do
              {
                v38 = (unsigned __int16 *)(*(_QWORD *)(v35 + 24 * v34 + 8) + v36);
                v39 = "*KEEP*";
                if (*((_DWORD *)v38 + 1) != 1)
                  v39 = &byte_1DEBD87CE;
                v40 = "*SPLIT*";
                if (*((_DWORD *)v38 + 2) != 1)
                  v40 = &byte_1DEBD87CE;
                sprintf((char *)a3[11], "[%s%s%d,", v39, v40, *v38);
                result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, (char *)a3[11]);
                if ((result & 0x80000000) != 0)
                  return result;
                result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, *(char **)(*(_QWORD *)(*(_QWORD *)&(*a3)[160 * v13 + 64] + 24 * v34 + 8) + v36 + 16));
                if ((result & 0x80000000) != 0)
                  return result;
                result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "]");
                if ((result & 0x80000000) != 0)
                  return result;
                ++v37;
                v35 = *(_QWORD *)&(*a3)[160 * v13 + 64];
                v36 += 24;
              }
              while (v37 < *(unsigned __int16 *)(v35 + 24 * v34 + 16));
            }
            result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "> ");
            if ((result & 0x80000000) != 0)
              return result;
            ++v34;
            v33 = *a3;
            a2 = v41;
            if (v34 >= *(unsigned __int16 *)&(*a3)[160 * v13 + 72])
            {
              if (!*(_WORD *)&(*a3)[160 * v13 + 72] || !*(_QWORD *)&v33[160 * v13 + 80])
                break;
              result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "<POTENTIALTAGS=");
              if ((result & 0x80000000) == 0)
              {
                result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, *(char **)&(*a3)[160 * v13 + 80]);
                if ((result & 0x80000000) == 0)
                {
                  result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "> ");
                  if ((result & 0x80000000) == 0)
                  {
                    v33 = *a3;
                    break;
                  }
                }
              }
              return result;
            }
          }
        }
        if (!*(_QWORD *)&v33[160 * v13 + 88]
          || (result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, "PREDICTEDPOS="), (result & 0x80000000) == 0)
          && (result = statcomp_add2Str(a1, a3 + 10, (_WORD *)a3 + 48, *(char **)&(*a3)[160 * v13 + 88]),
              (result & 0x80000000) == 0))
        {
          log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s", v30, v31, v32, (uint64_t)a3[10]);
          result = 0;
          *a3[10] = 0;
          if (++v13 < (unint64_t)*((unsigned __int16 *)a3 + 4))
            continue;
        }
        return result;
      }
      v20 = *(const char **)(*(_QWORD *)(v19 + 48) + 24);
      if (!v20)
        v20 = " ";
      sprintf((char *)a3[11], "%4s ", v20);
      v21 = (char *)a3[11];
      goto LABEL_39;
    }
  }
  return 0;
}

double statpos_freeSentenceData(uint64_t *a1)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  uint64_t *v5;
  uint64_t v6;
  unint64_t v7;
  uint64_t v8;
  unsigned __int16 v9;
  unint64_t i;
  uint64_t v11;
  unsigned __int16 v12;
  unint64_t v13;
  uint64_t v14;
  unint64_t v15;
  uint64_t v16;
  unint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  double result;

  v2 = *a1;
  v3 = a1[91];
  if (v3)
  {
    heap_Free(*(_QWORD **)(v2 + 8), v3);
    a1[91] = 0;
    *((_WORD *)a1 + 372) = 0;
  }
  v4 = a1[92];
  if (v4)
  {
    heap_Free(*(_QWORD **)(v2 + 8), v4);
    a1[92] = 0;
  }
  v5 = a1 + 81;
  v6 = a1[81];
  if (*((_WORD *)a1 + 328))
  {
    v7 = 0;
    do
    {
      if (*(_QWORD *)(v6 + 160 * v7 + 104))
      {
        heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v6 + 160 * v7 + 104));
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 104) = 0;
      }
      if (*(_QWORD *)(v6 + 160 * v7 + 136))
      {
        heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v6 + 160 * v7 + 136));
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 136) = 0;
      }
      if (*(_QWORD *)(v6 + 160 * v7 + 112))
      {
        heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v6 + 160 * v7 + 112));
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 112) = 0;
      }
      v8 = *(_QWORD *)(v6 + 160 * v7 + 48);
      if (v8)
      {
        v9 = *((_WORD *)a1 + 192);
        if (v9)
        {
          for (i = 0; i < v9; ++i)
          {
            v8 = *(_QWORD *)(v6 + 160 * v7 + 48);
            if (*(_QWORD *)(v8 + 8 * i))
            {
              heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v8 + 8 * i));
              v6 = a1[81];
              v8 = *(_QWORD *)(v6 + 160 * v7 + 48);
              *(_QWORD *)(v8 + 8 * i) = 0;
              v9 = *((_WORD *)a1 + 192);
            }
          }
        }
        heap_Free(*(_QWORD **)(v2 + 8), v8);
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 48) = 0;
      }
      v11 = *(_QWORD *)(v6 + 160 * v7 + 56);
      if (v11)
      {
        v12 = *((_WORD *)a1 + 192);
        if (v12)
        {
          v13 = 0;
          v14 = 16;
          do
          {
            v11 = *(_QWORD *)(v6 + 160 * v7 + 56);
            if (*(_QWORD *)(v11 + v14))
            {
              heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v11 + v14));
              v6 = a1[81];
              v11 = *(_QWORD *)(v6 + 160 * v7 + 56);
              *(_QWORD *)(v11 + v14) = 0;
              v12 = *((_WORD *)a1 + 192);
            }
            ++v13;
            v14 += 24;
          }
          while (v13 < v12);
        }
        heap_Free(*(_QWORD **)(v2 + 8), v11);
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 56) = 0;
      }
      if (*(_WORD *)(v6 + 160 * v7 + 72))
      {
        v15 = 0;
        do
        {
          v16 = *(_QWORD *)(v6 + 160 * v7 + 64);
          if (*(_WORD *)(v16 + 24 * v15 + 16))
          {
            v17 = 0;
            v18 = 16;
            do
            {
              v19 = *(_QWORD *)(*(_QWORD *)(v16 + 24 * v15 + 8) + v18);
              if (v19)
              {
                heap_Free(*(_QWORD **)(v2 + 8), v19);
                v16 = *(_QWORD *)(*v5 + 160 * v7 + 64);
                *(_QWORD *)(*(_QWORD *)(v16 + 24 * v15 + 8) + v18) = 0;
              }
              ++v17;
              v18 += 24;
            }
            while (v17 < *(unsigned __int16 *)(v16 + 24 * v15 + 16));
            heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v16 + 24 * v15 + 8));
            v6 = *v5;
            v20 = *(_QWORD *)(*v5 + 160 * v7 + 64) + 24 * v15;
            *(_QWORD *)(v20 + 8) = 0;
            *(_DWORD *)(v20 + 16) = 0;
          }
          ++v15;
        }
        while (v15 < *(unsigned __int16 *)(v6 + 160 * v7 + 72));
        heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v6 + 160 * v7 + 64));
        v6 = *v5;
        v21 = *v5 + 160 * v7;
        *(_QWORD *)(v21 + 64) = 0;
        *(_DWORD *)(v21 + 72) = 0;
      }
      if (*(_QWORD *)(v6 + 160 * v7 + 80))
      {
        heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v6 + 160 * v7 + 80));
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 80) = 0;
      }
      if (*(_QWORD *)(v6 + 160 * v7 + 88))
      {
        heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v6 + 160 * v7 + 88));
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 88) = 0;
      }
      if (*(_QWORD *)(v6 + 160 * v7 + 120))
      {
        heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v6 + 160 * v7 + 120));
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 120) = 0;
      }
      if (*(_QWORD *)(v6 + 160 * v7 + 32))
      {
        heap_Free(*(_QWORD **)(v2 + 8), *(_QWORD *)(v6 + 160 * v7 + 32));
        v6 = *v5;
        *(_QWORD *)(*v5 + 160 * v7 + 32) = 0;
      }
      ++v7;
    }
    while (v7 < *((unsigned __int16 *)a1 + 328));
    goto LABEL_48;
  }
  if (v6)
LABEL_48:
    heap_Free(*(_QWORD **)(v2 + 8), v6);
  a1[97] = 0;
  result = 0.0;
  *(_OWORD *)(a1 + 93) = 0u;
  *(_OWORD *)(a1 + 95) = 0u;
  *(_OWORD *)(a1 + 89) = 0u;
  *(_OWORD *)(a1 + 91) = 0u;
  *(_OWORD *)(a1 + 85) = 0u;
  *(_OWORD *)(a1 + 87) = 0u;
  *(_OWORD *)v5 = 0u;
  *(_OWORD *)(a1 + 83) = 0u;
  return result;
}

uint64_t statpos_updateNLULingdbField(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unsigned __int16 *v8;
  uint64_t v9;
  uint64_t v10;
  _DWORD *v11;
  uint64_t result;
  unsigned __int16 v13;
  uint64_t v14;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  unsigned int v20;
  uint64_t v21;
  const char *v22;
  char *v23;
  uint64_t v24;
  uint64_t v25;
  unsigned __int16 v26;
  int v27;
  unsigned int v28;
  unsigned __int16 v29;
  int v30;
  int v31;
  char v32[8];
  char __s[16];
  __int128 v34;
  uint64_t v35;

  v35 = *MEMORY[0x1E0C80C00];
  v27 = 0;
  v28 = 0;
  v25 = 0;
  v8 = (unsigned __int16 *)(a4 + 648);
  v9 = *(_QWORD *)a4;
  v10 = *(unsigned __int16 *)(a4 + 656);
  if (*(_WORD *)(a4 + 656))
  {
    v11 = (_DWORD *)(*(_QWORD *)v8 + 152);
    do
    {
      *v11 = 0;
      v11 += 40;
      --v10;
    }
    while (v10);
  }
  v30 = 0;
  v31 = 0;
  v29 = 0;
  v32[0] = *(_BYTE *)(a4 + 128);
  v32[1] = 0;
  *(_OWORD *)__s = 0u;
  v34 = 0u;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 1, 0, &v31);
  if ((result & 0x80000000) == 0)
  {
    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(a1 + 184))(a2, a3, (unsigned __int16)v31, 0, (char *)&v31 + 2);
    if ((result & 0x80000000) == 0 && HIWORD(v31) == 1)
    {
      result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, unsigned __int16 *))(a1 + 176))(a2, a3, (unsigned __int16)v31, 0, &v25, &v29);
      if ((result & 0x80000000) == 0 && v29 >= 2u)
      {
        result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 2, (unsigned __int16)v31, (char *)&v30 + 2);
        if ((result & 0x80000000) == 0)
        {
          v26 = 0;
          **(_BYTE **)(a4 + 728) = 0;
          v13 = HIWORD(v30);
          if (HIWORD(v30))
          {
            v14 = a4 + 8;
            while (1)
            {
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, v13, &v30);
              if ((result & 0x80000000) != 0)
                break;
              result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, unsigned __int16 *))(a1 + 168))(a2, a3, HIWORD(v30), 0, 1, &v28, &v29);
              if ((result & 0x80000000) != 0)
                break;
              if (v28 <= 0xA && ((1 << v28) & 0x610) != 0)
              {
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, unsigned __int16 *))(a1 + 168))(a2, a3, HIWORD(v30), 1, 1, &v27, &v29);
                if ((result & 0x80000000) != 0)
                  return result;
                result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, unsigned __int16 *))(a1 + 168))(a2, a3, HIWORD(v30), 2, 1, (char *)&v27 + 2, &v29);
                if ((result & 0x80000000) != 0)
                  return result;
                if ((unsigned __int16)v27 != HIWORD(v27))
                {
                  result = getWordIdx_0(v9, v8, (unsigned __int16)v27, HIWORD(v27), &v26, v16, v17, v18);
                  if ((result & 0x80000000) != 0)
                    return result;
                  v19 = *(_QWORD *)v8;
                  v20 = v26;
                  if (*(_DWORD *)(*(_QWORD *)v8 + 160 * v26 + 44) || *(_DWORD *)(v19 + 160 * v26 + 152))
                  {
                    result = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(a1 + 192))(a2, a3, HIWORD(v30));
                    if ((result & 0x80000000) != 0)
                      return result;
                  }
                  else
                  {
                    v24 = v14;
                    v21 = *(_QWORD *)(v19 + 160 * v26 + 56);
                    if (v21 && (v22 = *(const char **)(v21 + 112)) != 0)
                    {
                      if (!strcmp(v22, "O"))
                      {
                        __strcpy_chk();
                      }
                      else
                      {
                        strcpy(__s, "B-");
                        __strcat_chk();
                        v23 = &__s[strlen(__s) - 2];
                        if (!strcmp(v23, "-P"))
                          *v23 = 0;
                      }
                    }
                    else if (__s[0] && *(unsigned __int16 *)__s != 79)
                    {
                      __s[0] = 73;
                    }
                    v14 = v24;
                    result = updateNLUField_0(v9, a1, a2, a3, HIWORD(v30), v24, (uint64_t *)v8, v20, *(char **)(*(_QWORD *)(*(_QWORD *)v8 + 160 * v20 + 48) + 24), __s, v32, 1);
                    if ((result & 0x80000000) != 0)
                      return result;
                    *(_DWORD *)(*(_QWORD *)v8 + 160 * v20 + 152) = 1;
                  }
                }
              }
              v13 = v30;
              HIWORD(v30) = v30;
              if (!(_WORD)v30)
                goto LABEL_38;
            }
          }
          else
          {
LABEL_38:
            **(_BYTE **)(a4 + 728) = 0;
          }
        }
      }
    }
  }
  return result;
}

uint64_t getWordIdx_0(uint64_t a1, unsigned __int16 *a2, unsigned int a3, int a4, _WORD *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v8;
  unsigned __int16 *v9;
  uint64_t result;

  if (a2[4])
  {
    v8 = 0;
    v9 = (unsigned __int16 *)(*(_QWORD *)a2 + 2);
    while (*(v9 - 1) != a3 || *v9 != a4)
    {
      ++v8;
      v9 += 80;
      if (a2[4] == v8)
        goto LABEL_6;
    }
    result = 0;
    *a5 = v8;
  }
  else
  {
LABEL_6:
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"cant align lingdb word : no word found with pos=%d,%d", a6, a7, a8, a3);
    return 2313166848;
  }
  return result;
}

uint64_t updateNLUField_0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t *a7, unsigned int a8, char *a9, char *a10, char *a11, int a12)
{
  uint64_t v15;
  uint64_t v16;
  uint64_t v18;
  uint64_t result;
  const char *v21;
  size_t v22;
  size_t v23;
  unsigned int v24;
  size_t v25;
  uint64_t v26;
  uint64_t v27;
  unsigned int *v28;
  size_t v29;
  unsigned int v30;
  uint64_t v31;
  const char *v32;
  char *v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  const char *v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  unint64_t v45;
  char *v46;
  __int16 v47;
  unsigned int v48;
  unsigned int v49;
  uint64_t v50;
  unsigned int v51;
  uint64_t v52;
  uint64_t v53;
  char *v54;
  __int16 v55;
  _DWORD v56[3];

  v15 = a5;
  v16 = a4;
  v18 = a2;
  v56[0] = 0;
  v55 = 0;
  v54 = 0;
  result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char *))(a2 + 184))(a3, a4, a5, 14, (char *)v56 + 2);
  if ((result & 0x80000000) == 0)
  {
    if (!HIWORD(v56[0]))
      goto LABEL_5;
    result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, _DWORD *))(v18 + 176))(a3, v16, v15, 14, &v54, v56);
    if ((result & 0x80000000) != 0)
      return result;
    if (LOWORD(v56[0]) >= 2u)
    {
      v21 = v54;
    }
    else
    {
LABEL_5:
      v21 = &byte_1DEBD87CE;
      v54 = &byte_1DEBD87CE;
    }
    v22 = strlen(v21);
    if (a9)
      v23 = v22 + strlen(a9) + 6;
    else
      v23 = v22 + 1;
    if (a10)
      v23 += strlen(a10) + 5;
    v53 = v18;
    v52 = a1;
    if (a11 && a12 == 1)
    {
      v50 = v16;
      v24 = a8;
      v25 = v23 + 9;
      v26 = *a7;
      v49 = v24;
      v27 = *(unsigned __int16 *)(*a7 + 160 * v24 + 72);
      v51 = v24;
      if (*(_WORD *)(*a7 + 160 * v24 + 72))
      {
        v28 = *(unsigned int **)(v26 + 160 * v24 + 64);
        v29 = strlen(a11);
        do
        {
          v30 = *v28;
          v28 += 6;
          v25 += strlen((const char *)(*(_QWORD *)(a6 + 296) + *(unsigned int *)(*(_QWORD *)(a6 + 304) + 4 * v30)))
               + v29;
          --v27;
        }
        while (v27);
      }
      v31 = v26 + 160 * v51;
      if (*(_DWORD *)(v31 + 8) == 1)
        v23 = v25 + 6;
      else
        v23 = v25;
      v32 = *(const char **)(v31 + 120);
      if (v32)
        v23 += strlen(v32) + 11;
      v15 = v15;
      v16 = v50;
      v18 = v53;
      a1 = v52;
      a8 = v49;
    }
    if (v23 <= *((unsigned __int16 *)a7 + 48))
    {
      v33 = (char *)a7[10];
      v38 = v21;
    }
    else
    {
      v33 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), a7[10], v23);
      if (!v33)
      {
        log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v34, v35, v36, v37, v48);
        return 2313166858;
      }
      *((_WORD *)a7 + 48) = v23;
      a7[10] = (uint64_t)v33;
      v38 = v54;
    }
    strcpy(v33, v38);
    if (a9)
      hlp_NLUStrSet((char *)a7[10], "POS", a9);
    if (a10)
      hlp_NLUStrSet((char *)a7[10], "PHR", a10);
    v42 = a8;
    if (a12 == 1)
    {
      v43 = *a7;
      if (*(_WORD *)(*a7 + 160 * a8 + 72))
      {
        v44 = 0;
        v45 = 0;
        do
        {
          hlp_NLUStrAppend((char *)a7[10], "MAPTAGS", (char *)(*(_QWORD *)(a6 + 296)+ *(unsigned int *)(*(_QWORD *)(a6 + 304)+ 4 * *(unsigned int *)(*(_QWORD *)(v43 + 160 * v42 + 64) + v44))), a11);
          ++v45;
          v43 = *a7;
          v44 += 24;
        }
        while (v45 < *(unsigned __int16 *)(*a7 + 160 * v42 + 72));
      }
      a1 = v52;
      v18 = v53;
      if (*(_DWORD *)(v43 + 160 * v42 + 8) == 1)
      {
        hlp_NLUStrSet((char *)a7[10], "OOV", "1");
        v43 = *a7;
      }
      v46 = *(char **)(v43 + 160 * v42 + 120);
      if (v46)
        hlp_NLUStrSet((char *)a7[10], "CANONICAL", v46);
    }
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"updating WordRecord[%d] word[%d] LD_W_NLU %s -> %s", v39, v40, v41, v15);
    v47 = strlen((const char *)a7[10]);
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD, uint64_t, __int16 *))(v18 + 160))(a3, v16, v15, 14, (unsigned __int16)(v47 + 1), a7[10], &v55);
  }
  return result;
}

uint64_t checkWordRecPOS(uint64_t *a1, unsigned int a2, int a3, _DWORD *a4)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t result;
  uint64_t v8;
  uint64_t v9;
  unsigned __int16 *v10;

  *a4 = 0;
  v4 = *a1;
  v5 = *(unsigned __int16 *)(*a1 + 160 * a2 + 72);
  if (!*(_WORD *)(*a1 + 160 * a2 + 72))
    return 0;
  v6 = 0;
  result = 0;
  v8 = *(_QWORD *)(v4 + 160 * a2 + 64);
  do
  {
    v9 = *(unsigned __int16 *)(v8 + 24 * v6 + 16);
    if (*(_WORD *)(v8 + 24 * v6 + 16))
    {
      v10 = *(unsigned __int16 **)(v8 + 24 * v6 + 8);
      do
      {
        if (*((_DWORD *)v10 + 2) == 1 && *v10 == a3)
          *a4 = 1;
        if (*((_DWORD *)v10 + 1) == 1)
        {
          if (*v10 == a3)
            result = 1;
          else
            result = result;
        }
        v10 += 12;
        --v9;
      }
      while (v9);
    }
    ++v6;
  }
  while (v6 != v5);
  return result;
}

uint64_t getNewPOS(uint64_t a1, uint64_t *a2, unsigned int a3, int a4, char **a5)
{
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  int v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  const char **v15;
  const char **v16;
  int v17;
  int v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  char *v24;
  uint64_t v25;
  unint64_t v26;
  __int16 v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  uint64_t v31;
  uint64_t result;

  v8 = *a2 + 160 * a3;
  v9 = *(unsigned __int16 *)(v8 + 72);
  if (*(_WORD *)(v8 + 72))
  {
    v10 = 0;
    v11 = 0;
    v12 = *(_QWORD *)(*a2 + 160 * a3 + 64);
    do
    {
      v13 = v12 + 24 * v10;
      v14 = *(unsigned __int16 *)(v13 + 16);
      if (*(_WORD *)(v13 + 16))
      {
        v15 = *(const char ***)(v12 + 24 * v10 + 8);
        v16 = v15;
        do
        {
          v17 = *(unsigned __int16 *)v16;
          v16 += 3;
          if (v17 == a4 && *((_DWORD *)v15 + 1) == 1)
          {
            if ((_WORD)v11)
              v18 = v11 + 1;
            else
              v18 = 0;
            v11 = v18 + strlen(v15[2]);
          }
          v15 = v16;
          --v14;
        }
        while (v14);
      }
      ++v10;
    }
    while (v10 != v9);
  }
  else
  {
    LOWORD(v11) = 0;
  }
  v19 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (unsigned __int16)v11 + 2);
  if (v19)
  {
    v24 = (char *)v19;
    v25 = *a2;
    if (*(_WORD *)(*a2 + 160 * a3 + 72))
    {
      v26 = 0;
      v27 = 0;
      do
      {
        v28 = *(_QWORD *)(v25 + 160 * a3 + 64);
        if (*(_WORD *)(v28 + 24 * v26 + 16))
        {
          v29 = 0;
          v30 = 0;
          do
          {
            v31 = *(_QWORD *)(v28 + 24 * v26 + 8);
            if (*(unsigned __int16 *)(v31 + v29) == a4 && *(_DWORD *)(v31 + v29 + 4) == 1)
            {
              if (v27)
              {
                *(_WORD *)&v24[strlen(v24)] = 92;
                strcat(v24, *(const char **)(*(_QWORD *)(*(_QWORD *)(*a2 + 160 * a3 + 64) + 24 * v26 + 8) + v29 + 16));
              }
              else
              {
                strcpy(v24, *(const char **)(v31 + v29 + 16));
              }
              ++v27;
              v25 = *a2;
            }
            ++v30;
            v28 = *(_QWORD *)(v25 + 160 * a3 + 64);
            v29 += 24;
          }
          while (v30 < *(unsigned __int16 *)(v28 + 24 * v26 + 16));
        }
        ++v26;
      }
      while (v26 < *(unsigned __int16 *)(v25 + 160 * a3 + 72));
    }
    result = 0;
    *a5 = v24;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v20, v21, v22, v23, a5);
    return 2313166858;
  }
  return result;
}

uint64_t wordRecSplit(_QWORD *a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;

  v4 = *(unsigned __int16 *)(*a1 + 160 * a2 + 72);
  if (!*(_WORD *)(*a1 + 160 * a2 + 72))
    return 0;
  v5 = 0;
  v6 = *(_QWORD *)(*a1 + 160 * a2 + 64);
  while (1)
  {
    v7 = v6 + 24 * v5;
    v8 = *(unsigned __int16 *)(v7 + 16);
    if (*(_WORD *)(v7 + 16))
      break;
LABEL_10:
    if (++v5 == v4)
      return 0;
  }
  v9 = 0;
  v10 = 24 * v8;
  while (v5 == a3 && 24 * a4 == v9
       || __PAIR64__(*(_DWORD *)(*(_QWORD *)(v6 + 24 * v5 + 8) + v9 + 4), *(unsigned __int16 *)(*(_QWORD *)(v6 + 24 * v5 + 8) + v9)) != *(unsigned __int16 *)(*(_QWORD *)(v6 + 24 * a3 + 8)+ 24 * a4))
  {
    v9 += 24;
    if (v10 == v9)
      goto LABEL_10;
  }
  return 1;
}

uint64_t statpos_alignDisambiguatedPOSToLingdb(uint64_t a1, unsigned int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  const char **v8;
  unint64_t v9;
  uint64_t v10;
  const char *v11;
  const char *v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  const char *v17;
  uint64_t v18;
  const char *v19;
  _DWORD *v20;
  uint64_t v21;
  _DWORD *v22;
  unint64_t v23;
  int v24;
  uint64_t v25;
  int v26;
  unsigned int v27;
  unsigned int v28;
  unsigned __int16 v29;
  BOOL v30;
  int v31;
  const char *v32;
  uint64_t v33;
  uint64_t v34;
  _DWORD *v35;
  const char *v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  _DWORD *v41;
  unint64_t v42;
  uint64_t v43;
  const char *v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  _DWORD *v51;
  uint64_t v53;
  uint64_t v55;
  unint64_t v56;
  const char *v57;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  unint64_t v62;
  int v63;
  const char *v64;

  v8 = (const char **)(a1 + 648);
  v53 = *(_QWORD *)a1;
  if (!*(_WORD *)(a1 + 656))
    return printSent_0(v53, a1 + 8, v8, (uint64_t)"after statpos_alignDisambiguatedPOSToLingdb()", *(_DWORD *)(a1 + 1416), a2, a7, a8);
  v9 = 0;
  v10 = 0;
  v63 = 0;
  v11 = *(const char **)(a1 + 648);
  do
  {
    v55 = v10;
    v56 = v9;
    v57 = v11;
    v12 = &v11[160 * v9];
    v13 = *((unsigned __int16 *)v12 + 36);
    if (*((_WORD *)v12 + 36))
    {
      v14 = 0;
      v15 = *(_QWORD *)(a1 + 304);
      v16 = *(_QWORD *)(a1 + 312);
      v17 = &v11[160 * v9];
      v18 = *((_QWORD *)v17 + 8);
      v19 = (const char *)*((_QWORD *)v17 + 11);
      v20 = v17 + 96;
      do
      {
        if (!strcmp((const char *)(v15 + *(unsigned int *)(v16 + 4 * *(unsigned int *)(v18 + 24 * v14))), v19))
        {
          *v20 = 1;
          v21 = *(unsigned __int16 *)(v18 + 24 * v14 + 16);
          if (*(_WORD *)(v18 + 24 * v14 + 16))
          {
            v22 = (_DWORD *)(*(_QWORD *)(v18 + 24 * v14 + 8) + 4);
            do
            {
              *v22 = 1;
              v22 += 6;
              --v21;
            }
            while (v21);
          }
        }
        ++v14;
      }
      while (v14 != v13);
    }
    v11 = v57;
    v23 = v56;
    v24 = *(_DWORD *)&v57[160 * v56 + 96];
    if (*(_DWORD *)(a1 + 144) == 1)
    {
      if (v24)
        goto LABEL_41;
      if ((_DWORD)v13)
      {
        v25 = 0;
        LOWORD(v26) = 0;
        v61 = *(_QWORD *)(a1 + 304);
        v59 = *(_QWORD *)&v57[160 * v56 + 64];
        v60 = *(_QWORD *)(a1 + 312);
        v27 = (unsigned __int16)strlen(*(const char **)&v57[160 * v56 + 88]);
        do
        {
          v28 = (unsigned __int16)strlen((const char *)(v61
                                                      + *(unsigned int *)(v60 + 4 * *(unsigned int *)(v59 + 24 * v25))));
          v29 = 0;
          if (v27 < v28)
            v28 = v27;
          if (v28)
          {
            while (*(unsigned __int8 *)(v61 + *(unsigned int *)(v60 + 4 * *(unsigned int *)(v59 + 24 * v25)) + v29) == *(unsigned __int8 *)(*(_QWORD *)&v57[160 * v56 + 88] + v29))
            {
              if (v28 <= ++v29)
              {
                v29 = v28;
                break;
              }
            }
          }
          v30 = v29 > (unsigned __int16)v26;
          if (v29 <= (unsigned __int16)v26)
            v26 = (unsigned __int16)v26;
          else
            v26 = v29;
          if (v30)
            v31 = v25;
          else
            v31 = v63;
          v63 = v31;
          ++v25;
        }
        while (v25 != v13);
        if (v26)
        {
          log_OutText(*(_QWORD *)(v53 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Word[%d] %s select word record with POS %s, (closest to predicted POS %s using longest match)", a6, a7, a8, v55);
          v11 = *(const char **)(a1 + 648);
          v32 = &v11[160 * v56];
          *((_DWORD *)v32 + 24) = 1;
          v33 = *((_QWORD *)v32 + 8);
          v34 = *(unsigned __int16 *)(v33 + 24 * (unsigned __int16)v63 + 16);
          if (*(_WORD *)(v33 + 24 * (unsigned __int16)v63 + 16))
          {
            v35 = (_DWORD *)(*(_QWORD *)(v33 + 24 * (unsigned __int16)v63 + 8) + 4);
            do
            {
              *v35 = 1;
              v35 += 6;
              --v34;
            }
            while (v34);
            v23 = v56;
          }
          else
          {
            v23 = v56;
          }
          goto LABEL_41;
        }
        v11 = v57;
      }
    }
    else if (v24)
    {
      goto LABEL_41;
    }
    if (!a2)
    {
      log_OutText(*(_QWORD *)(v53 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Warning : no matching tags for word[%d] %s (predicted=%s, lexicon=%s)", a6, a7, a8, v55);
      v11 = *v8;
    }
    v36 = &v11[160 * v56];
    *((_DWORD *)v36 + 24) = 1;
    v37 = *((unsigned __int16 *)v36 + 36);
    if (v37)
    {
      v38 = 0;
      v39 = *(_QWORD *)&v11[160 * v56 + 64];
      do
      {
        v40 = *(unsigned __int16 *)(v39 + 24 * v38 + 16);
        if (*(_WORD *)(v39 + 24 * v38 + 16))
        {
          v41 = (_DWORD *)(*(_QWORD *)(v39 + 24 * v38 + 8) + 4);
          do
          {
            *v41 = 1;
            v41 += 6;
            --v40;
          }
          while (v40);
        }
        ++v38;
      }
      while (v38 != v37);
    }
LABEL_41:
    v9 = v23 + 1;
    v42 = *(unsigned __int16 *)(a1 + 656);
    v10 = v9;
  }
  while (v9 < v42);
  if (*(_WORD *)(a1 + 656))
  {
    v43 = 0;
    v64 = *v8;
    do
    {
      v62 = v42;
      v44 = &v64[160 * v43];
      v45 = *((unsigned __int16 *)v44 + 36);
      if (*((_WORD *)v44 + 36))
      {
        v46 = 0;
        v47 = *(_QWORD *)&v64[160 * v43 + 64];
        do
        {
          v48 = v47 + 24 * v46;
          v49 = *(unsigned __int16 *)(v48 + 16);
          if (*(_WORD *)(v48 + 16))
          {
            v50 = 0;
            v51 = (_DWORD *)(*(_QWORD *)(v47 + 24 * v46 + 8) + 8);
            do
            {
              if (*(v51 - 1) == 1
                && wordRecSplit(v8, (unsigned __int16)v43, (unsigned __int16)v46, (unsigned __int16)v50))
              {
                *v51 = 1;
              }
              v51 += 6;
              ++v50;
            }
            while (v49 != v50);
          }
          ++v46;
        }
        while (v46 != v45);
      }
      ++v43;
      v42 = v62;
    }
    while (v43 != v62);
  }
  return printSent_0(v53, a1 + 8, v8, (uint64_t)"after statpos_alignDisambiguatedPOSToLingdb()", *(_DWORD *)(a1 + 1416), a2, a7, a8);
}

uint64_t statpos_updatePOSLingdbWithDisambiguatedPOS(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4, int a5, int a6)
{
  uint64_t *v8;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unsigned __int16 *v16;
  uint64_t WordIdx_0;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t updated;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unsigned __int16 *v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  const char *v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  __int16 v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  __int16 v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  __int16 v53;
  uint64_t v54;
  unsigned __int16 *v55;
  __int16 v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  unsigned __int16 v64;
  char *v66;
  int v67;
  int v68;
  char *v69;
  int v70;
  char *v71;
  __int16 v72;
  unsigned __int16 v73;
  uint64_t v74;
  uint64_t v75;
  uint64_t v77;
  uint64_t v78;
  uint64_t v79;
  uint64_t v80;
  uint64_t v81;
  unsigned __int16 v82;
  unsigned __int16 v83;
  unsigned int v84;
  uint64_t v85;
  char **v86;
  uint64_t v87;
  unsigned __int16 v88;
  unsigned __int16 v89;
  unsigned int v90;
  uint64_t v91;
  char **v92;
  unsigned __int16 v93;
  uint64_t v94;
  uint64_t v96;
  uint64_t v97;
  uint64_t v98;
  int v99;
  int v100[2];
  unsigned __int16 *v101;
  uint64_t v102;
  unsigned __int16 v103;
  int v104;
  char *v105;
  uint64_t v106;
  char *__s1;
  uint64_t v108;
  unsigned __int16 v109;
  int v110;
  unsigned int v111;
  int v112;
  int v113;
  int v114;
  _OWORD v115[16];
  char *v116[36];

  v8 = a4;
  v116[33] = *(char **)MEMORY[0x1E0C80C00];
  v113 = 0;
  v114 = 0;
  v111 = 0;
  v112 = 0;
  v110 = 0;
  __s1 = 0;
  v108 = 0;
  v105 = 0;
  v106 = 0;
  v104 = 0;
  v13 = (uint64_t)(a4 + 1);
  v12 = *a4;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a1 + 104))(a2, a3, 1, 0, &v114);
  if ((v14 & 0x80000000) != 0)
    return v14;
  v15 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(a1 + 184))(a2, a3, (unsigned __int16)v114, 0, (char *)&v114 + 2);
  if ((v15 & 0x80000000) != 0)
    return v15;
  if (HIWORD(v114) != 1)
    return v15;
  v15 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t *, char *))(a1 + 176))(a2, a3, (unsigned __int16)v114, 0, &v108, (char *)&v112 + 2);
  if ((v15 & 0x80000000) != 0 || HIWORD(v112) < 2u)
    return v15;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 2, (unsigned __int16)v114, (char *)&v113 + 2);
  if ((v14 & 0x80000000) != 0)
    return v14;
  v99 = a5;
  v16 = (unsigned __int16 *)(v8 + 81);
  v109 = 0;
  v102 = v12;
  *(_BYTE *)v8[91] = 0;
  while (HIWORD(v113))
  {
    WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t))(a1 + 168))(a2, a3);
    if ((WordIdx_0 & 0x80000000) != 0)
      goto LABEL_44;
    if (v111 > 0xA || ((1 << v111) & 0x610) == 0)
      goto LABEL_43;
    WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1 + 168))(a2, a3, HIWORD(v113), 1, 1, &v110, (char *)&v112 + 2);
    if ((WordIdx_0 & 0x80000000) != 0)
      goto LABEL_44;
    WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a1 + 168))(a2, a3, HIWORD(v113), 2, 1, (char *)&v110 + 2, (char *)&v112 + 2);
    if ((WordIdx_0 & 0x80000000) != 0)
      goto LABEL_44;
    if ((unsigned __int16)v110 == HIWORD(v110))
      goto LABEL_43;
    WordIdx_0 = getWordIdx_0(*v8, v16, (unsigned __int16)v110, HIWORD(v110), &v109, v19, v20, v21);
    if ((WordIdx_0 & 0x80000000) != 0)
      goto LABEL_44;
    v22 = *((_DWORD *)v8 + 359);
    v23 = v109;
    if (!v22)
    {
      if (subsumedWordRec((uint64_t)v16, v109))
        goto LABEL_43;
    }
    v104 = 0;
    v24 = HIWORD(v113);
    if (!(checkWordRecPOS((uint64_t *)v16, v23, HIWORD(v113), &v104) | v22))
      goto LABEL_43;
    WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, char **, char *))(a1 + 176))(a2, a3, v24, 5, &__s1, (char *)&v112 + 2);
    if ((WordIdx_0 & 0x80000000) != 0)
      goto LABEL_44;
    v25 = v102;
    if (a6 == 1 && v111 == 4)
    {
      updated = updateNLUField_0(v102, a1, a2, a3, HIWORD(v113), v13, (uint64_t *)v16, v23, __s1, 0, 0, 0);
      if ((updated & 0x80000000) != 0)
        goto LABEL_138;
      *(_QWORD *)v100 = v8;
      v30 = v16;
      log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"SET DCT WORD Word[%d] %s POS %s to NLU POS", v27, v28, v29, v23);
LABEL_37:
      v55 = v30;
      if (*(_DWORD *)(*(_QWORD *)v30 + 160 * v23 + 24))
      {
        log_OutText(*(_QWORD *)(v25 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"keep Word[%d] PHON", v31, v32, v33, v23);
        v16 = v30;
        v8 = *(uint64_t **)v100;
      }
      else
      {
        updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(a1 + 176))(a2, a3, HIWORD(v113), 3, &v106, (char *)&v112 + 2);
        v8 = *(uint64_t **)v100;
        if ((updated & 0x80000000) != 0)
          goto LABEL_138;
        v16 = v55;
        v56 = strlen(*(const char **)(*(_QWORD *)v55 + 160 * v23 + 32));
        WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, int *))(a1 + 160))(a2, a3, HIWORD(v113), 3, (unsigned __int16)(v56 + 1), *(_QWORD *)(*(_QWORD *)v55 + 160 * v23 + 32), &v112);
        if ((WordIdx_0 & 0x80000000) != 0)
          goto LABEL_44;
        log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"set Word[%d] PHON to %s", v57, v58, v59, v23);
      }
      a6 = 1;
      goto LABEL_43;
    }
    if (v104 == 1)
    {
      updated = getNewPOS(v102, (uint64_t *)v16, v23, HIWORD(v113), &v105);
      if ((updated & 0x80000000) != 0)
        goto LABEL_138;
      log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"REPLACE Word[%d] %s POS %s", v34, v35, v36, v23);
      v37 = v105;
      log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"\twith %s", v38, v39, v40, (uint64_t)v105);
      v41 = strlen(v37);
      v42 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, const char *, int *))(a1 + 160))(a2, a3, HIWORD(v113), 5, (unsigned __int16)(v41 + 1), v37, &v112);
      if ((v42 & 0x80000000) != 0)
      {
        v15 = v42;
        v25 = v102;
        goto LABEL_46;
      }
      heap_Free(*(_QWORD **)(v102 + 8), (uint64_t)v37);
      v105 = 0;
    }
    else if (*((_DWORD *)v8 + 360))
    {
      if (!strcmp(__s1, "*"))
      {
        log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"REPLACE Word[%d] %s POS %s", v43, v44, v45, v23);
        log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"\twith %s", v46, v47, v48, *(_QWORD *)(*(_QWORD *)v16 + 160 * v23 + 88));
        v49 = strlen(*(const char **)(*(_QWORD *)v16 + 160 * v23 + 88));
        WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, int *))(a1 + 160))(a2, a3, HIWORD(v113), 5, (unsigned __int16)(v49 + 1), *(_QWORD *)(*(_QWORD *)v16 + 160 * v23 + 88), &v112);
        if ((WordIdx_0 & 0x80000000) != 0)
          goto LABEL_44;
      }
    }
    v25 = v102;
    updated = updateNLUField_0(v102, a1, a2, a3, HIWORD(v113), v13, (uint64_t *)v16, v23, *(char **)(*(_QWORD *)v16 + 160 * v23 + 88), 0, 0, 0);
    if ((updated & 0x80000000) != 0)
      goto LABEL_138;
    if (a6 == 1)
    {
      *(_QWORD *)v100 = v8;
      v25 = v102;
      log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"set Word[%d] POS to %s", v50, v51, v52, v23);
      v53 = strlen(*(const char **)(*(_QWORD *)v16 + 160 * v23 + 88));
      v30 = v16;
      v54 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, _QWORD, int *))(a1 + 160))(a2, a3, HIWORD(v113), 5, (unsigned __int16)(v53 + 1), *(_QWORD *)(*(_QWORD *)v16 + 160 * v23 + 88), &v112);
      if ((v54 & 0x80000000) != 0)
      {
        v15 = v54;
        v8 = *(uint64_t **)v100;
        goto LABEL_46;
      }
      goto LABEL_37;
    }
LABEL_43:
    WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(a1 + 120))(a2, a3, HIWORD(v113), (char *)&v113 + 2);
    if ((WordIdx_0 & 0x80000000) != 0)
      goto LABEL_44;
  }
  v15 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 2, (unsigned __int16)v114, (char *)&v113 + 2);
  v25 = v102;
  if ((v15 & 0x80000000) != 0)
    goto LABEL_46;
  v64 = HIWORD(v113);
  if (!HIWORD(v113))
  {
LABEL_72:
    if (v99 != 1)
      goto LABEL_46;
    v103 = 0;
    log_OutText(*(_QWORD *)(v25 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"No SGRAM : removing duplicate tags on lingdb words", v61, v62, v63, 0);
    memset(v115, 0, sizeof(v115));
    memset(v116, 0, 256);
    v109 = 0;
    WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 2, (unsigned __int16)v114, (char *)&v113 + 2);
    if ((WordIdx_0 & 0x80000000) == 0)
    {
      v101 = v16;
      v73 = HIWORD(v113);
      if (HIWORD(v113))
      {
        LODWORD(v74) = 0;
        v75 = 0xFFFFLL;
        while (1)
        {
          WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, v73, &v113);
          if ((WordIdx_0 & 0x80000000) != 0)
            goto LABEL_44;
          WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a1 + 168))(a2, a3, HIWORD(v113), 0, 1, &v111, (char *)&v112 + 2);
          if ((WordIdx_0 & 0x80000000) != 0)
            goto LABEL_44;
          if (v111 > 0xA || ((1 << v111) & 0x610) == 0)
            goto LABEL_85;
          WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(a1 + 168))(a2, a3, HIWORD(v113), 1, 1, &v110, (char *)&v112 + 2);
          if ((WordIdx_0 & 0x80000000) != 0)
            goto LABEL_44;
          WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(a1 + 168))(a2, a3, HIWORD(v113), 2, 1, (char *)&v110 + 2, (char *)&v112 + 2);
          if ((WordIdx_0 & 0x80000000) != 0)
            goto LABEL_44;
          if ((unsigned __int16)v110 == HIWORD(v110))
          {
LABEL_85:
            v80 = v75;
          }
          else
          {
            WordIdx_0 = getWordIdx_0(*v8, v101, (unsigned __int16)v110, HIWORD(v110), &v109, v77, v78, v79);
            if ((WordIdx_0 & 0x80000000) != 0)
              goto LABEL_44;
            v80 = v109;
            if (subsumedWordRec((uint64_t)v101, v109))
            {
              WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(a1 + 192))(a2, a3, HIWORD(v113));
              if ((WordIdx_0 & 0x80000000) != 0)
                goto LABEL_44;
              goto LABEL_111;
            }
            WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1 + 176))(a2, a3, HIWORD(v113), 5, &__s1, (char *)&v112 + 2);
            if ((WordIdx_0 & 0x80000000) != 0)
              goto LABEL_44;
            WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(a1 + 176))(a2, a3, HIWORD(v113), 3, &v106, (char *)&v112 + 2);
            if ((WordIdx_0 & 0x80000000) != 0)
              goto LABEL_44;
            WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, char *))(a1 + 168))(a2, a3, HIWORD(v113), 7, 1, &v103, (char *)&v112 + 2);
            if ((WordIdx_0 & 0x80000000) != 0)
              goto LABEL_44;
            if ((_WORD)v75 == 0xFFFF || (_DWORD)v80 == (unsigned __int16)v75)
            {
              if (v74 > 0x7F)
                goto LABEL_111;
            }
            else
            {
              if (v74 >= 2)
              {
                v81 = 0;
                v82 = -1;
                v83 = -1;
                v74 = v74;
                do
                {
                  v84 = *((unsigned __int16 *)v115 + v81);
                  if (v84 <= v82)
                    v83 = v81;
                  if (v84 < v82)
                    v82 = *((_WORD *)v115 + v81);
                  ++v81;
                }
                while (v74 != v81);
                v85 = v83;
                v86 = v116;
                while (1)
                {
                  if (v85)
                  {
                    WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(a1 + 192))(a2, a3, *(unsigned __int16 *)v86);
                    if ((WordIdx_0 & 0x80000000) != 0)
                      goto LABEL_44;
                  }
                  v86 = (char **)((char *)v86 + 2);
                  --v85;
                  if (!--v74)
                    goto LABEL_110;
                }
              }
              LODWORD(v74) = 0;
            }
LABEL_110:
            *((_WORD *)v116 + v74) = HIWORD(v113);
            *((_WORD *)v115 + v74) = v103;
            LODWORD(v74) = v74 + 1;
          }
LABEL_111:
          v73 = v113;
          HIWORD(v113) = v113;
          v75 = v80;
          if (!(_WORD)v113)
          {
            if (v74 < 2)
              break;
            v87 = 0;
            v88 = -1;
            v89 = -1;
            v74 = v74;
            do
            {
              v90 = *((unsigned __int16 *)v115 + v87);
              if (v90 <= v88)
                v89 = v87;
              if (v90 < v88)
                v88 = *((_WORD *)v115 + v87);
              ++v87;
            }
            while (v74 != v87);
            v91 = v89;
            v92 = v116;
            while (1)
            {
              if (v91)
              {
                WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(a1 + 192))(a2, a3, *(unsigned __int16 *)v92);
                if ((WordIdx_0 & 0x80000000) != 0)
                  goto LABEL_44;
              }
              v92 = (char **)((char *)v92 + 2);
              --v91;
              if (!--v74)
                goto LABEL_123;
            }
          }
        }
      }
LABEL_123:
      v15 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(a1 + 104))(a2, a3, 2, (unsigned __int16)v114, (char *)&v113 + 2);
      if ((v15 & 0x80000000) != 0 || (v93 = HIWORD(v113)) == 0)
      {
LABEL_45:
        v25 = v102;
        goto LABEL_46;
      }
      v94 = 0;
      while (1)
      {
        WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a1 + 168))(a2, a3, v93, 0, 1, &v111, (char *)&v112 + 2);
        if ((WordIdx_0 & 0x80000000) != 0)
          break;
        if (v111 <= 0xA && ((1 << v111) & 0x610) != 0)
        {
          WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1 + 176))(a2, a3, HIWORD(v113), 5, &__s1, (char *)&v112 + 2);
          if ((WordIdx_0 & 0x80000000) != 0)
            break;
          WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(a1 + 176))(a2, a3, HIWORD(v113), 3, &v106, (char *)&v112 + 2);
          if ((WordIdx_0 & 0x80000000) != 0)
            break;
          if (v94 < *((unsigned __int16 *)v8 + 328))
          {
            log_OutText(*(_QWORD *)(v102 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"(no sgram) word %d %s POS=%s PHON=%s recId=%d", v96, v97, v98, v94);
            v94 = (v94 + 1);
          }
        }
        v15 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, HIWORD(v113), &v113);
        if ((v15 & 0x80000000) == 0)
        {
          v93 = v113;
          HIWORD(v113) = v113;
          if ((_WORD)v113)
            continue;
        }
        goto LABEL_45;
      }
    }
LABEL_44:
    v15 = WordIdx_0;
    goto LABEL_45;
  }
  while (1)
  {
    updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(a1 + 120))(a2, a3, v64, &v113);
    if ((updated & 0x80000000) != 0)
      break;
    v15 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned int *, char *))(a1 + 168))(a2, a3, HIWORD(v113), 0, 1, &v111, (char *)&v112 + 2);
    if ((v15 & 0x80000000) != 0)
      goto LABEL_46;
    if (v111 <= 0xA && ((1 << v111) & 0x610) != 0)
    {
      updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1 + 176))(a2, a3, HIWORD(v113), 5, &__s1, (char *)&v112 + 2);
      if ((updated & 0x80000000) != 0)
        break;
      v66 = __s1;
      v67 = strlen(__s1);
      v68 = *__s1;
      v69 = __s1;
      while (v68 == 92)
      {
        --v67;
        v70 = *++v69;
        v68 = v70;
      }
      memmove(__s1, v69, (v67 + 1));
      v71 = strchr(v66, 92);
      if (v71)
        *v71 = 0;
      v72 = strlen(__s1);
      WordIdx_0 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(a1 + 160))(a2, a3, HIWORD(v113), 5, (unsigned __int16)(v72 + 1), __s1, &v112);
      if ((WordIdx_0 & 0x80000000) != 0)
        goto LABEL_44;
      updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char *))(a1 + 184))(a2, a3, HIWORD(v113), 14, (char *)&v114 + 2);
      v25 = v102;
      if ((updated & 0x80000000) != 0)
        break;
      if (HIWORD(v114) != 1)
        goto LABEL_143;
      v116[0] = 0;
      *(_QWORD *)&v115[0] = 0;
      v103 = 0;
      v15 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, char *))(a1 + 176))(a2, a3, HIWORD(v113), 14, v116, (char *)&v112 + 2);
      if ((v15 & 0x80000000) != 0)
        goto LABEL_46;
      if (HIWORD(v112) < 2u || !hlp_NLUStrFind(v116[0], "POS", (uint64_t *)v115, &v103))
      {
LABEL_143:
        v15 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(a1 + 192))(a2, a3, HIWORD(v113));
        if ((v15 & 0x80000000) != 0)
          goto LABEL_46;
      }
    }
    v64 = v113;
    HIWORD(v113) = v113;
    if (!(_WORD)v113)
      goto LABEL_72;
  }
LABEL_138:
  v15 = updated;
LABEL_46:
  *(_BYTE *)v8[91] = 0;
  if (v105)
    heap_Free(*(_QWORD **)(v25 + 8), (uint64_t)v105);
  return v15;
}

uint64_t subsumedWordRec(uint64_t a1, unsigned int a2)
{
  uint64_t v2;
  unsigned __int16 *v3;

  if (!*(_WORD *)(a1 + 8))
    return 0;
  v2 = 0;
  while (1)
  {
    if (160 * a2 != v2)
    {
      v3 = (unsigned __int16 *)(*(_QWORD *)a1 + 160 * a2);
      if (*v3 >= *(unsigned __int16 *)(*(_QWORD *)a1 + v2)
        && v3[1] <= *(unsigned __int16 *)(*(_QWORD *)a1 + v2 + 2))
      {
        break;
      }
    }
    v2 += 160;
    if (160 * *(unsigned __int16 *)(a1 + 8) == v2)
      return 0;
  }
  return 1;
}

uint64_t statpos_disambiguatePOSTags(uint64_t a1)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  unsigned __int16 *v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unsigned int v13;

  v2 = *(_QWORD *)a1;
  v3 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a1 + 8), 1, 1024);
  *(_QWORD *)(a1 + 776) = v3;
  if (!v3)
  {
    log_OutPublic(*(_QWORD *)(v2 + 32), (uint64_t)"FE_POS", 35000, 0, v4, v5, v6, v7, v13);
    return 2313166858;
  }
  v8 = (unsigned __int16 *)(a1 + 648);
  if (*(_DWORD *)(a1 + 1336) == 1)
  {
    v9 = statpos_crf_label(v2, a1 + 1320, v8, (_QWORD *)(a1 + 8), 1);
LABEL_7:
    v10 = v9;
    goto LABEL_9;
  }
  if (*(_DWORD *)(a1 + 804) == 1)
  {
    v9 = statpos_igtrees_label(v2, a1 + 8, (uint64_t)v8, a1 + 784);
    goto LABEL_7;
  }
  v10 = 0;
LABEL_9:
  v11 = *(_QWORD *)(a1 + 776);
  if (v11)
  {
    heap_Free(*(_QWORD **)(v2 + 8), v11);
    *(_QWORD *)(a1 + 776) = 0;
  }
  return v10;
}

uint64_t statpos_setMorphemePRON(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v5;
  uint64_t v6;
  uint64_t *v7;
  uint64_t v8;
  uint64_t v9;
  char *v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t info_from_dct;
  uint64_t v20;
  int v21;
  unsigned __int16 v22;
  int v23;
  int v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  _QWORD *v31;
  _QWORD *v32;
  const char **v35;

  if (*(_WORD *)(a4 + 656))
  {
    v5 = 0;
    v35 = (const char **)(a4 + 1384);
    v6 = *(_QWORD *)a4;
    v7 = (uint64_t *)(a4 + 728);
    v31 = (_QWORD *)(a4 + 1408);
    v32 = (_QWORD *)(a4 + 1400);
    v8 = 120;
    while (1)
    {
      **(_BYTE **)(a4 + 728) = 0;
      v9 = *(_QWORD *)(a4 + 648);
      v10 = *(char **)(v9 + v8);
      if (!v10)
        v10 = **(char ***)(v9 + v8 - 72);
      v11 = statcomp_add2Str(v6, (const char **)(a4 + 728), (_WORD *)(a4 + 744), v10);
      if ((v11 & 0x80000000) != 0)
        return v11;
      v15 = *(_QWORD *)(a4 + 648) + v8;
      if (*(_DWORD *)(v15 - 96) == 1)
        break;
      if (!*(_QWORD *)(v15 - 32))
        goto LABEL_14;
      v11 = statcomp_add2Str(v6, (const char **)(a4 + 728), (_WORD *)(a4 + 744), "/");
      if ((v11 & 0x80000000) != 0)
        return v11;
      v11 = statcomp_add2Str(v6, (const char **)(a4 + 728), (_WORD *)(a4 + 744), *(char **)(*(_QWORD *)(a4 + 648) + v8 - 32));
      if ((v11 & 0x80000000) != 0)
        return v11;
      info_from_dct = statpos_get_info_from_dct(v6, *(_QWORD *)(a4 + 752), *(_QWORD *)(a4 + 760), *(_QWORD *)(a4 + 768), "morph_pos", *(_QWORD *)(a4 + 728), (char **)(*(_QWORD *)(a4 + 648) + v8 - 88), 0, "STR");
      if ((info_from_dct & 0x80000000) != 0)
        return info_from_dct;
      v20 = *(_QWORD *)(v6 + 32);
      if (*(_QWORD *)(*(_QWORD *)(a4 + 648) + v8 - 88))
      {
        log_OutText(v20, (uint64_t)"FE_POS", 5, 0, (uint64_t)"lookup %s ; transcription %s",
          v16,
          v17,
          v18,
          *(_QWORD *)(a4 + 728));
      }
      else
      {
        log_OutText(v20, (uint64_t)"FE_POS", 5, 0, (uint64_t)"lookup %s ; FAILED",
          v16,
          v17,
          v18,
          *(_QWORD *)(a4 + 728));
        v21 = strlen(v10);
        v22 = Utf8_LengthInUtf8chars((unint64_t)v10, v21);
        v23 = strlen(*(const char **)(*(_QWORD *)(a4 + 648) + v8 - 32));
        if ((unsigned __int16)Utf8_LengthInUtf8chars(*(_QWORD *)(*(_QWORD *)(a4 + 648) + v8 - 32), v23) > v22)
        {
          v24 = strlen(*(const char **)(*(_QWORD *)(a4 + 648) + v8 - 32));
          v22 = Utf8_LengthInUtf8chars(*(_QWORD *)(*(_QWORD *)(a4 + 648) + v8 - 32), v24);
        }
        v11 = statpos_growAndSetLayer(v6, v35, v32, v10, v22);
        if ((v11 & 0x80000000) != 0)
          return v11;
        v11 = statpos_growAndSetLayer(v6, (const char **)(a4 + 1392), v31, *(char **)(*(_QWORD *)(a4 + 648) + v8 - 32), v22);
        if ((v11 & 0x80000000) != 0)
          return v11;
        info_from_dct = statPOS_call_one_word(v6, a1, a2, a3, v35, (const char **)(a4 + 1392), (char **)(*(_QWORD *)(a4 + 648) + v8 - 88), v25);
        if ((info_from_dct & 0x80000000) != 0)
          return info_from_dct;
        log_OutText(*(_QWORD *)(v6 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s ; one_word transcription %s",
          v26,
          v27,
          v28,
          (uint64_t)v10);
      }
LABEL_21:
      ++v5;
      v8 += 160;
      if (v5 >= *(unsigned __int16 *)(a4 + 656))
        goto LABEL_24;
    }
    log_OutText(*(_QWORD *)(v6 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"SKIP DCT LOOKUP WORD %s", v12, v13, v14, *v7);
LABEL_14:
    info_from_dct = 0;
    goto LABEL_21;
  }
  info_from_dct = 0;
LABEL_24:
  **(_BYTE **)(a4 + 728) = 0;
  return info_from_dct;
}

uint64_t statpos_growAndSetLayer(uint64_t a1, const char **a2, _QWORD *a3, char *__src, unsigned int a5)
{
  char *v8;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unsigned int i;
  unsigned int v18;

  v8 = (char *)*a2;
  if (*(unsigned __int16 *)a3 < a5)
  {
    v11 = heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v8, a5 + 2);
    if (!v11)
    {
      log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v12, v13, v14, v15, v18);
      return 2313166858;
    }
    v8 = (char *)v11;
    *a2 = (const char *)v11;
    *a3 = a5 + 2;
  }
  strcpy(v8, __src);
  for (i = (unsigned __int16)strlen(__src); i < a5; ++i)
    *(_WORD *)&(*a2)[strlen(*a2)] = 126;
  return 0;
}

uint64_t statpos_getUniqDynamicPOS(uint64_t a1, uint64_t a2, char *__s, _DWORD *a4)
{
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unsigned __int16 v12;
  unsigned __int16 v13;
  int v14;
  int v15;
  int v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int v22;
  uint64_t v23;
  char *v24;
  uint64_t v25;
  int v26;
  int v27;
  unsigned int v29;

  *a4 = -1;
  v8 = *(unsigned __int16 *)(a2 + 312);
  if (!*(_WORD *)(a2 + 312))
  {
LABEL_5:
    v12 = strlen(__s);
    v13 = v12;
    v14 = v12;
    v15 = *(_DWORD *)(a2 + 316);
    if (*(unsigned __int16 *)(a2 + 324) + v12 >= (unsigned __int16)v15)
    {
      if (v12 >= 0x80u)
        v16 = (unsigned __int16)(v12 + 32);
      else
        v16 = 128;
      v17 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(a2 + 296), (v16 + v15));
      if (!v17)
        goto LABEL_17;
      *(_QWORD *)(a2 + 296) = v17;
      *(_DWORD *)(a2 + 316) += v16;
      LODWORD(v8) = *(unsigned __int16 *)(a2 + 312);
    }
    v22 = *(_DWORD *)(a2 + 320);
    if (v8 < (unsigned __int16)v22)
    {
LABEL_14:
      v24 = *(char **)(a2 + 296);
      if (*(_WORD *)(a2 + 324))
        strcat(&v24[*(unsigned __int16 *)(a2 + 324)], __s);
      else
        strcpy(v24, __s);
      v25 = 0;
      *(_BYTE *)(*(_QWORD *)(a2 + 296) + (v14 + 1) + (unint64_t)*(unsigned __int16 *)(a2 + 324)) = 0;
      v26 = *(unsigned __int16 *)(a2 + 324);
      v27 = *(unsigned __int16 *)(a2 + 312);
      *(_DWORD *)(*(_QWORD *)(a2 + 304) + 4 * *(unsigned __int16 *)(a2 + 312)) = v26;
      *(_WORD *)(a2 + 324) = v13 + v26 + 1;
      *a4 = v27;
      *(_WORD *)(a2 + 312) = v27 + 1;
      return v25;
    }
    v23 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(a2 + 304), 4 * (v22 + 16));
    if (v23)
    {
      *(_QWORD *)(a2 + 304) = v23;
      *(_DWORD *)(a2 + 320) += 16;
      goto LABEL_14;
    }
LABEL_17:
    v25 = 2313166858;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v18, v19, v20, v21, v29);
    return v25;
  }
  v9 = 0;
  v10 = *(_QWORD *)(a2 + 296);
  v11 = *(_QWORD *)(a2 + 304);
  while (strcmp(__s, (const char *)(v10 + *(unsigned int *)(v11 + 4 * v9))))
  {
    if (v8 == ++v9)
      goto LABEL_5;
  }
  v25 = 0;
  *a4 = v9;
  return v25;
}

uint64_t addPOSandPHR(uint64_t a1, uint64_t a2, uint64_t *a3, unsigned int a4, int a5, const char *a6, unsigned int a7, const char *a8, unsigned __int16 a9)
{
  __int16 v11;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t i;
  uint64_t v19;
  uint64_t *v20;
  char *v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  char *v27;
  unsigned int v29;
  size_t __n;
  uint64_t v31;

  v11 = a4;
  if (a4 == a5)
  {
    if (a4 + 1 == *((unsigned __int16 *)a3 + 4))
      LOWORD(a5) = a4 + 1;
    else
      LOWORD(a5) = a4;
  }
  if (a4 >= (unsigned __int16)a5)
    return 0;
  __n = a7;
  v15 = a7 + 1;
  v16 = a4;
  v31 = (unsigned __int16)a5;
  v17 = *a3;
  for (i = 160 * a4 + 104; ; i += 160)
  {
    v19 = *(_QWORD *)(*(_QWORD *)(v17 + i - 56) + 24);
    if (v19)
    {
      heap_Free(*(_QWORD **)(a1 + 8), v19);
      v20 = (uint64_t *)(*a3 + i);
      *(_QWORD *)(*(v20 - 7) + 24) = 0;
      heap_Free(*(_QWORD **)(a1 + 8), *v20);
      *(_QWORD *)(*a3 + i) = 0;
    }
    v21 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v15);
    *(_QWORD *)(*(_QWORD *)(*a3 + i - 56) + 24) = v21;
    if (!v21)
      break;
    if (a6)
    {
      strncat(v21, a6, __n);
      v21 = *(char **)(*(_QWORD *)(*a3 + i - 56) + 24);
    }
    a3[6] = (uint64_t)v21;
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"retag REF POS %s", v23, v24, v25, (uint64_t)v21);
    v26 = statpos_retagREFPOS(a1, a2, a3, (unsigned __int16)v16);
    if ((v26 & 0x80000000) != 0)
      return v26;
    v27 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, a9 + 1);
    v17 = *a3;
    *(_QWORD *)(*a3 + i) = v27;
    if (!v27)
      break;
    if (a8)
    {
      strncat(v27, a8, a9);
      v17 = *a3;
    }
    *(_WORD *)(v17 + i - 100) = v11;
    if (v31 == ++v16)
      return v26;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v22, v23, v24, v25, v29);
  return 2313166858;
}

uint64_t checkSpan_0(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  uint64_t result;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  unsigned int v12;

  if (*a3)
    return 0;
  v6 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (24 * *(unsigned __int16 *)(a2 + 376)) | 1);
  if (v6)
  {
    v11 = v6;
    result = 0;
    *a3 = v11;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v7, v8, v9, v10, v12);
    return 2313166858;
  }
  return result;
}

uint64_t checkAllocAndZero(uint64_t a1, uint64_t *a2, unsigned int a3)
{
  uint64_t v5;
  uint64_t *v6;
  size_t v7;
  void *v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t result;
  unsigned int v15;

  v5 = *a2;
  v6 = *(uint64_t **)(a1 + 8);
  v7 = a3;
  if (v5)
  {
    v8 = (void *)heap_Realloc(v6, v5, a3);
    if (v8)
    {
      v13 = (uint64_t)v8;
      bzero(v8, v7);
LABEL_5:
      result = 0;
      *a2 = v13;
      return result;
    }
  }
  else
  {
    v13 = heap_Calloc(v6, 1, a3);
    if (v13)
      goto LABEL_5;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v9, v10, v11, v12, v15);
  return 2313166858;
}

uint64_t loc_CopyValue(_DWORD *a1, uint64_t a2, _QWORD *a3)
{
  uint64_t v3;
  _DWORD *v6;

  v3 = 2313166855;
  if (a1 && a2 && a3)
  {
    v6 = (_DWORD *)heap_Alloc(a2, 5);
    if (v6)
    {
      v3 = 0;
      *v6 = *a1;
      *a3 = v6;
    }
    else
    {
      return 2313166858;
    }
  }
  return v3;
}

_QWORD *loc_FreeValue(_QWORD *result, _QWORD *a2)
{
  if (result)
    return heap_Free(a2, (uint64_t)result);
  return result;
}

uint64_t logSTATPOSRULE_TRule(uint64_t result, const char **a2, _WORD *a3, char *__s, uint64_t *a5, uint64_t **a6)
{
  uint64_t *v11;
  uint64_t *v12;

  if ((_DWORD)result)
  {
    if (!*a6 || (result = logSTATPOSCONTEXT_TRule(a2, a3, __s, a5, *a6), (result & 0x80000000) == 0))
    {
      *(_DWORD *)__s = 2121504;
      result = statcomp_add2Str(*a5, a2, a3, __s);
      if ((result & 0x80000000) == 0)
      {
        v11 = a6[1];
        if (!v11 || (result = logSTATPOSCONTEXT_TRule(a2, a3, __s, a5, v11), (result & 0x80000000) == 0))
        {
          *(_DWORD *)__s = 2121504;
          result = statcomp_add2Str(*a5, a2, a3, __s);
          if ((result & 0x80000000) == 0)
          {
            v12 = a6[2];
            if (v12)
              return logSTATPOSCONTEXT_TRule(a2, a3, __s, a5, v12);
          }
        }
      }
    }
  }
  return result;
}

uint64_t logSTATPOSCONTEXT_TRule(const char **a1, _WORD *a2, char *__s, uint64_t *a4, uint64_t *a5)
{
  uint64_t v10;
  unint64_t v11;
  uint64_t v12;
  unsigned __int16 *v13;
  int v14;
  uint64_t result;

  if (*((_WORD *)a5 + 4))
  {
    v10 = 0;
    v11 = 0;
    while (1)
    {
      v12 = *a5;
      v13 = (unsigned __int16 *)(*a5 + v10);
      if (*((_BYTE *)v13 + 4))
        break;
LABEL_17:
      result = statcomp_add2Str(*a4, a1, a2, "[");
      if ((result & 0x80000000) != 0)
        return result;
      result = statcomp_add2Str(*a4, a1, a2, (char *)(a4[37] + *(unsigned int *)(a4[38] + 4 * *v13)));
      if ((result & 0x80000000) != 0)
        return result;
      sprintf(__s, " %d(", *(unsigned __int16 *)(v12 + v10 + 2));
      result = statcomp_add2Str(*a4, a1, a2, __s);
      if ((result & 0x80000000) != 0)
        return result;
      result = statcomp_add2Str(*a4, a1, a2, (char *)(a4[32] + *(unsigned int *)(a4[33] + 4 * *(unsigned __int16 *)(v12 + v10 + 2))));
      if ((result & 0x80000000) != 0)
        return result;
      result = statcomp_add2Str(*a4, a1, a2, ")] ");
LABEL_22:
      if ((result & 0x80000000) == 0)
      {
        ++v11;
        v10 += 6;
        if (v11 < *((unsigned __int16 *)a5 + 4))
          continue;
      }
      return result;
    }
    if ((v13[2] & 1) != 0)
    {
      *(_WORD *)__s = 33;
    }
    else
    {
      if ((v13[2] & 2) != 0)
      {
        v14 = 0;
        strcpy(__s, "HASCOMMA ");
        goto LABEL_15;
      }
      if ((v13[2] & 4) != 0)
      {
        v14 = 0;
        strcpy(__s, "DIRECTIVE_MOVE2NEXT ");
        goto LABEL_15;
      }
      if ((v13[2] & 8) != 0)
      {
        v14 = 0;
        strcpy(__s, "ISLASTINPHR ");
        goto LABEL_15;
      }
      if ((v13[2] & 0x10) != 0)
      {
        v14 = 0;
        strcpy(__s, "ISFIRSTINPHR ");
LABEL_15:
        result = statcomp_add2Str(*a4, a1, a2, __s);
        if (!v14 || (result & 0x80000000) != 0)
          goto LABEL_22;
        goto LABEL_17;
      }
    }
    v14 = 1;
    goto LABEL_15;
  }
  return 0;
}

uint64_t statpos_rules_unload(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  uint64_t v10;
  _QWORD *v11;
  uint64_t v12;
  uint64_t v13;
  _QWORD *v14;
  uint64_t v15;
  _QWORD *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  uint64_t v28;
  unsigned int v29;
  uint64_t v30;
  unint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t *v34;
  uint64_t v35;
  uint64_t v36;

  v9 = *a1;
  v10 = a1[33];
  if (v10)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v10);
    a1[33] = 0;
  }
  v11 = (_QWORD *)a1[35];
  if (v11)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v11, v10, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    a1[35] = 0;
  }
  else
  {
    v12 = 0;
  }
  v13 = a1[38];
  if (v13)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v13);
    a1[38] = 0;
  }
  v14 = (_QWORD *)a1[41];
  if (v14)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v14, v13, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    a1[41] = 0;
  }
  v15 = a1[28];
  if (v15)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v15);
    a1[28] = 0;
  }
  v16 = (_QWORD *)a1[30];
  if (v16)
  {
    v12 = ssftriff_reader_ReleaseChunkData(v16, v15, a3, a4, a5, a6, a7, a8);
    if ((v12 & 0x80000000) != 0)
      return v12;
    a1[30] = 0;
  }
  v17 = a1[42];
  if (v17)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v17);
    a1[42] = 0;
  }
  v18 = a1[43];
  if (v18)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v18);
    a1[43] = 0;
  }
  v19 = a1[44];
  if (v19)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v19);
    a1[44] = 0;
  }
  v20 = a1[45];
  if (v20)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v20);
    a1[45] = 0;
  }
  v21 = a1[46];
  if (v21)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v21);
    a1[46] = 0;
  }
  v22 = a1[6];
  if (v22)
  {
    if (*((_WORD *)a1 + 28))
    {
      v23 = 0;
      v24 = 0;
      do
      {
        freeMAPRULE2STR_TRule((_QWORD *)v9, (_QWORD *)(a1[6] + v23));
        ++v24;
        v23 += 32;
      }
      while (v24 < *((unsigned __int16 *)a1 + 28));
      v22 = a1[6];
    }
    heap_Free(*(_QWORD **)(v9 + 8), v22);
    a1[6] = 0;
  }
  *((_WORD *)a1 + 28) = 0;
  v25 = a1[8];
  if (v25)
  {
    if (*((_WORD *)a1 + 36))
    {
      v26 = 0;
      v27 = 0;
      do
      {
        freeMAPRULE2STR_TRule((_QWORD *)v9, (_QWORD *)(a1[8] + v26));
        ++v27;
        v26 += 32;
      }
      while (v27 < *((unsigned __int16 *)a1 + 36));
      v25 = a1[8];
    }
    heap_Free(*(_QWORD **)(v9 + 8), v25);
    a1[8] = 0;
  }
  *((_WORD *)a1 + 36) = 0;
  v28 = a1[10];
  if (v28)
  {
    v29 = *((unsigned __int16 *)a1 + 44);
    if (*((_WORD *)a1 + 44))
    {
      v30 = 0;
      v31 = 0;
      do
      {
        if (*(_WORD *)(v28 + v30 + 16))
        {
          heap_Free(*(_QWORD **)(v9 + 8), *(_QWORD *)(v28 + v30 + 8));
          v28 = a1[10];
          v32 = v28 + v30;
          *(_QWORD *)(v32 + 8) = 0;
          *(_WORD *)(v32 + 16) = 0;
          v29 = *((unsigned __int16 *)a1 + 44);
        }
        ++v31;
        v30 += 24;
      }
      while (v31 < v29);
    }
    heap_Free(*(_QWORD **)(v9 + 8), v28);
    a1[10] = 0;
  }
  *((_WORD *)a1 + 44) = 0;
  if (*((_WORD *)a1 + 52))
  {
    heap_Free(*(_QWORD **)(v9 + 8), a1[12]);
    a1[12] = 0;
    *((_WORD *)a1 + 52) = 0;
    ssftmap_ObjClose(a1[14]);
  }
  if (a1[18])
  {
    v33 = 0;
    v34 = a1 + 48;
    do
    {
      heap_Free(*(_QWORD **)(v9 + 8), v34[v33]);
      v34[v33++] = 0;
    }
    while (v33 != 32);
    v35 = a1[18];
    if (v35)
    {
      ssftmap_ObjClose(v35);
      a1[18] = 0;
    }
  }
  v36 = a1[4];
  if (v36)
  {
    heap_Free(*(_QWORD **)(v9 + 8), v36);
    a1[4] = 0;
  }
  *((_WORD *)a1 + 20) = 0;
  return v12;
}

_QWORD *freeMAPRULE2STR_TRule(_QWORD *result, _QWORD *a2)
{
  _QWORD *v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;

  v3 = result;
  v4 = a2[1];
  if (v4)
  {
    if (*(_WORD *)(v4 + 8))
    {
      heap_Free((_QWORD *)result[1], *(_QWORD *)v4);
      *(_QWORD *)v4 = 0;
      v4 = a2[1];
    }
    result = heap_Free((_QWORD *)v3[1], v4);
    a2[1] = 0;
  }
  v5 = a2[2];
  if (v5)
  {
    if (*(_WORD *)(v5 + 8))
    {
      heap_Free((_QWORD *)v3[1], *(_QWORD *)v5);
      *(_QWORD *)v5 = 0;
      v5 = a2[2];
    }
    result = heap_Free((_QWORD *)v3[1], v5);
    a2[2] = 0;
  }
  v6 = a2[3];
  if (v6)
  {
    if (*(_WORD *)(v6 + 8))
    {
      heap_Free((_QWORD *)v3[1], *(_QWORD *)v6);
      *(_QWORD *)v6 = 0;
      v6 = a2[3];
    }
    result = heap_Free((_QWORD *)v3[1], v6);
    a2[3] = 0;
  }
  return result;
}

uint64_t matchSTATPOSCONTEXT_TRule(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int *a5, int *a6, uint64_t a7, uint64_t a8)
{
  uint64_t v14;
  _BYTE **v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t matched;
  uint64_t v21;
  unint64_t v22;
  int v23;
  int v26;

  v26 = 1;
  v14 = *(_QWORD *)a2;
  *a6 = 0;
  *(unsigned int *)((char *)a5 + 6) = 0;
  if (*(_WORD *)(a2 + 8))
  {
    v16 = (_BYTE **)(a3 + 80);
    matched = logSTATPOSCONTEXT_TRule((const char **)(a3 + 80), (_WORD *)(a3 + 96), *(char **)(a3 + 88), (uint64_t *)a2, (uint64_t *)a4);
    if ((matched & 0x80000000) != 0)
      return matched;
    log_OutText(*(_QWORD *)(v14 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"         %s %s", v17, v18, v19, a1);
    **v16 = 0;
  }
  else
  {
    matched = 0;
  }
  if (*(_WORD *)(a4 + 8))
  {
    v21 = 0;
    v22 = 0;
    while (1)
    {
      matched = matchREGEX_TRule_0((uint64_t *)a2, (uint64_t *)a3, (unsigned __int16 *)(*(_QWORD *)a4 + v21), a5, &v26, a7, a8, a8);
      if ((matched & 0x80000000) != 0)
        break;
      v23 = v26;
      if (v26 != 1)
        goto LABEL_11;
      ++v22;
      v21 += 6;
      if (v22 >= *(unsigned __int16 *)(a4 + 8))
        goto LABEL_10;
    }
  }
  else
  {
LABEL_10:
    v23 = 1;
LABEL_11:
    *a6 = v23;
  }
  return matched;
}

uint64_t matchREGEX_TRule_0(uint64_t *a1, uint64_t *a2, unsigned __int16 *a3, unsigned int *a4, int *a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  int v8;
  int v15;
  uint64_t v16;
  unsigned int v17;
  int v18;
  int v19;
  unsigned int v20;
  uint64_t v21;
  int v22;
  char *v24;
  uint64_t v26;
  const char *v27;
  uint64_t v28;
  uint64_t v29;
  int v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unsigned __int16 v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  unsigned int v38;
  uint64_t v39;
  const char *v40;
  uint64_t v41;
  const char *v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  char *v47;
  const char *v48;
  unsigned int v49;
  uint64_t v50;
  const char *v51;
  int v52;
  unsigned int v53;
  __int16 v54;
  int v55;
  unsigned __int16 v56;
  uint64_t v57;
  unsigned int v58;
  const char *v59;
  _WORD *v60;
  _DWORD v61[30];
  uint64_t v62;

  v8 = a7;
  v62 = *MEMORY[0x1E0C80C00];
  v15 = *((unsigned __int16 *)a4 + 2);
  v16 = *a1;
  *a5 = 0;
  if (*((_WORD *)a1 + 4))
    log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           regex %d", a6, a7, a8, a3[1]);
  v17 = *((unsigned __int8 *)a3 + 4);
  if (*((_BYTE *)a3 + 4))
  {
    if ((v17 & 4) != 0)
    {
      if (v8 == 2)
      {
        ++*((_WORD *)a4 + 4);
      }
      else if (v8 == 1)
      {
        ++*((_WORD *)a4 + 3);
      }
      if (*((_WORD *)a1 + 4))
        log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           DIRECTIVE_MOVE2NEXT - window increased (ruleDef->left_window=%d ruleDef->right_window=%d)", a6, a7, a8, *((unsigned __int16 *)a4 + 3));
      v21 = 0;
      goto LABEL_29;
    }
    v60 = (_WORD *)a6;
    v18 = (v17 >> 1) & 1;
    v19 = v17 & 1;
  }
  else
  {
    v60 = (_WORD *)a6;
    v19 = 0;
    v18 = 0;
  }
  if (*((unsigned __int16 *)a1 + 4) >= 2u)
    log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           ruleDef[domain=%s(%d) wordIdx=%d left_window=%d right_window=%d] defMapIdx=%s(%d) bNegateMatch=%d bHasComma=%d", a6, a7, a8, (uint64_t)(&STATPOSDOMAIN2STRING)[*a4]);
  if (!v18)
  {
    if (*a4 - 1 <= 2 && v8 != 0)
    {
      if (v8 == 2)
      {
        v15 += *((unsigned __int16 *)a4 + 4) + 1;
        if (v15 >= *((unsigned __int16 *)a2 + 4))
          goto LABEL_37;
      }
      else if (v8 != 1 || (v15 += ~*((unsigned __int16 *)a4 + 3), v15 < 0))
      {
LABEL_37:
        if (*((_WORD *)a1 + 4))
        {
          v26 = *(_QWORD *)(v16 + 32);
          v27 = "           context not found. rule not applicable. RETURN LH_FALSE";
LABEL_39:
          log_OutText(v26, (uint64_t)"FE_POS", 5, 0, (uint64_t)v27, a6, a7, a8, (uint64_t)v59);
          goto LABEL_134;
        }
        goto LABEL_134;
      }
    }
    switch(*a4)
    {
      case 1u:
        v24 = *(char **)(*(_QWORD *)(*a2 + 160 * (unsigned __int16)v15 + 48) + 8 * *a3);
        goto LABEL_58;
      case 2u:
        v24 = *(char **)(*(_QWORD *)(*a2 + 160 * (unsigned __int16)v15 + 56) + 24 * *a3 + 16);
        goto LABEL_58;
      case 3u:
        v28 = *a3;
        if ((_DWORD)v28 != *((unsigned __int16 *)a1 + 9))
          goto LABEL_56;
        v24 = (char *)(a2[2] + *(unsigned __int16 *)(a2[3] + 2 * (unsigned __int16)v15));
        goto LABEL_58;
      case 4u:
        v29 = *a2;
        v30 = *((unsigned __int16 *)a4 + 2);
        v31 = *(_QWORD *)(*a2 + 160 * *((unsigned __int16 *)a4 + 2) + 56);
        if (!v31 || !*(_DWORD *)(v31 + 24 * *((unsigned __int16 *)a1 + 12)))
          goto LABEL_134;
        v32 = *a1;
        if (v8 == 2)
        {
          v49 = *((unsigned __int16 *)a2 + 4);
          if (v30 + 1 != v49)
          {
            v55 = *((unsigned __int16 *)a4 + 4) + 1;
            if ((v55 & 0x10000) != 0)
            {
              v56 = *((_WORD *)a4 + 2);
LABEL_112:
              v58 = *((unsigned __int16 *)a1 + 4);
              if (v49 > v56)
              {
                if (v58 >= 2)
                  log_OutText(*(_QWORD *)(v32 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           [3] _RIGHT wordIdx=%d", a6, a7, a8, *((unsigned __int16 *)a4 + 2));
                LOWORD(v30) = v56;
                goto LABEL_116;
              }
            }
            else
            {
              v56 = *((_WORD *)a4 + 2);
              while (v49 > v56)
              {
                v56 = *(_WORD *)(*(_QWORD *)(v29 + 160 * v56 + 56) + 24 * *((unsigned __int16 *)a1 + 12) + 10) + 1;
                if (!(_WORD)--v55)
                  goto LABEL_112;
              }
              v58 = *((unsigned __int16 *)a1 + 4);
            }
            if (v58 >= 2)
            {
              v26 = *(_QWORD *)(v32 + 32);
              v27 = "           [2] _RIGHT doesnt exist, return LH_FALSE";
              goto LABEL_39;
            }
LABEL_134:
            v21 = 0;
            goto LABEL_135;
          }
          if (*((unsigned __int16 *)a1 + 4) < 2u)
            goto LABEL_134;
          v50 = *(_QWORD *)(v32 + 32);
          v51 = "           [1] _RIGHT doesnt exist, return LH_FALSE";
        }
        else
        {
          if (v8 != 1)
          {
            if (!v8 && *((unsigned __int16 *)a1 + 4) >= 2u)
            {
              log_OutText(*(_QWORD *)(v32 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           _CUR wordIdx=%d", a6, a7, a8, *((unsigned __int16 *)a4 + 2));
              LOWORD(v30) = *((_WORD *)a4 + 2);
            }
            goto LABEL_116;
          }
          if (*((_WORD *)a4 + 2))
          {
            v52 = *((unsigned __int16 *)a4 + 3) + 1;
            if ((v52 & 0x10000) != 0)
            {
              v53 = *((unsigned __int16 *)a1 + 4);
              v54 = *((_WORD *)a4 + 2);
            }
            else
            {
              v54 = *((_WORD *)a4 + 2);
              do
              {
                v57 = *(_QWORD *)(v29 + 160 * (unsigned __int16)(v54 - 1) + 56);
                if (!*(_DWORD *)(v57 + 24 * *((unsigned __int16 *)a1 + 12) + 4))
                {
                  v21 = 2313166848;
                  log_OutText(*(_QWORD *)(v32 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"wordindex=%d does not end previous phrase", a6, a7, a8, (unsigned __int16)(v54 - 1));
                  return v21;
                }
                v54 = *(_WORD *)(v57 + 24 * *((unsigned __int16 *)a1 + 12) + 8);
                --v52;
              }
              while ((_WORD)v52 && *(_WORD *)(v57 + 24 * *((unsigned __int16 *)a1 + 12) + 8));
              v53 = *((unsigned __int16 *)a1 + 4);
              if ((_WORD)v52)
              {
                if (v53 < 2)
                  goto LABEL_134;
                v50 = *(_QWORD *)(v32 + 32);
                v51 = "           [2] _LEFT doesnt exist, return LH_FALSE";
                goto LABEL_108;
              }
            }
            if (v53 >= 2)
              log_OutText(*(_QWORD *)(v32 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           [3] _LEFT wordIdx=%d", a6, a7, a8, *((unsigned __int16 *)a4 + 2));
            LOWORD(v30) = v54;
LABEL_116:
            v24 = *(char **)(*(_QWORD *)(*a2 + 160 * (unsigned __int16)v30 + 144) + 8 * *a3);
            if (!v24)
            {
              if (*((_WORD *)a1 + 4))
              {
                v48 = "           NULL STR FOUND - no match";
LABEL_119:
                log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)v48, a6, a7, a8, (uint64_t)v59);
              }
              v21 = 0;
              *a5 = 0;
              goto LABEL_121;
            }
LABEL_59:
            if (*((_WORD *)a1 + 4))
              log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           STR=\"%s\"", a6, a7, a8, (uint64_t)v24);
            v33 = a3[1];
            v34 = strlen(v24);
            if (!v34)
            {
              log_OutText(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"invalid arg for regex", v35, v36, v37, (uint64_t)v59);
              return 2313166855;
            }
            *a5 = 0;
            v38 = nuance_pcre_exec((_QWORD *)a1[24], a1[25], a1[27] + *(unsigned int *)(a1[28] + 4 * v33), 0, v24, v34, 0, 0, v61, 30);
            if ((v38 & 0x80000000) != 0)
            {
              v43 = nuance_pcre_ErrorToLhError(v38);
              v21 = v43;
              if ((v43 & 0xFFF00000) != 0x8A500000)
              {
                if ((v43 & 0x80000000) != 0)
                  return v21;
LABEL_68:
                if (*a5 == 1)
                {
                  if (*((_WORD *)a1 + 4))
                    log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           REGEX FIRED", a6, a7, a8, (uint64_t)v59);
                  if (!v19)
                  {
                    *v60 = a3[1];
                    if (*((_WORD *)a1 + 4))
                    {
                      v41 = *(_QWORD *)(v16 + 32);
                      v42 = "           return LH_TRUE";
LABEL_126:
                      log_OutText(v41, (uint64_t)"FE_POS", 5, 0, (uint64_t)v42, a6, a7, a8, (uint64_t)v59);
                    }
LABEL_29:
                    v22 = 1;
                    goto LABEL_30;
                  }
                  if (*((_WORD *)a1 + 4))
                  {
                    v39 = *(_QWORD *)(v16 + 32);
                    v40 = "           negate match - return LH_FALSE";
LABEL_129:
                    log_OutText(v39, (uint64_t)"FE_POS", 5, 0, (uint64_t)v40, a6, a7, a8, (uint64_t)v59);
                  }
LABEL_135:
                  *a5 = 0;
                  return v21;
                }
LABEL_121:
                if (*((_WORD *)a1 + 4))
                  log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           REGEX FAILED", a6, a7, a8, (uint64_t)v59);
LABEL_123:
                if (v19)
                {
                  *v60 = a3[1];
                  if (*((_WORD *)a1 + 4))
                  {
                    v41 = *(_QWORD *)(v16 + 32);
                    v42 = "           negate match - return LH_TRUE";
                    goto LABEL_126;
                  }
                  goto LABEL_29;
                }
                if (*((_WORD *)a1 + 4))
                {
                  v39 = *(_QWORD *)(v16 + 32);
                  v40 = "           return LH_FALSE";
                  goto LABEL_129;
                }
                goto LABEL_135;
              }
              if ((v43 & 0x1FFF) != 0x14)
              {
                if ((v43 & 0x1FFF) == 0xA)
                {
                  v45 = *(_QWORD *)(*a1 + 32);
                  v46 = 11002;
                  v47 = 0;
                }
                else
                {
                  v45 = *(_QWORD *)(*a1 + 32);
                  v59 = "lhError";
                  v47 = "%s%x";
                  v46 = 11027;
                }
                log_OutPublic(v45, (uint64_t)"FE_POS", v46, v47, v44, a6, a7, a8, v59);
                return v21;
              }
            }
            else if (v38)
            {
              *a5 = 1;
            }
LABEL_67:
            v21 = 0;
            goto LABEL_68;
          }
          if (*((unsigned __int16 *)a1 + 4) < 2u)
            goto LABEL_134;
          v50 = *(_QWORD *)(v32 + 32);
          v51 = "           [1] _LEFT doesnt exist, return LH_FALSE";
        }
LABEL_108:
        log_OutText(v50, (uint64_t)"FE_POS", 5, 0, (uint64_t)v51, a6, a7, a8, 0);
        goto LABEL_134;
      case 5u:
        if (*a3 == *((unsigned __int16 *)a1 + 9))
          v24 = (char *)a2[2];
        else
          v24 = (char *)a2[4];
        goto LABEL_58;
      case 6u:
        v24 = (char *)a2[6];
        if (!v24)
        {
          v48 = "           ERROR : no POS string to match";
          goto LABEL_119;
        }
        v28 = *a3;
        if ((_DWORD)v28 == *((unsigned __int16 *)a1 + 9))
          goto LABEL_59;
        if ((_DWORD)v28 != *((unsigned __int16 *)a1 + 8))
        {
          v48 = "           ERROR : unknown DEF index for POS/ORT rule";
          goto LABEL_119;
        }
LABEL_56:
        v24 = *(char **)(*(_QWORD *)(*a2 + 160 * (unsigned __int16)v15 + 48) + 8 * v28);
LABEL_58:
        if (v24)
          goto LABEL_59;
LABEL_65:
        *a5 = 0;
        if (*((_WORD *)a1 + 4))
        {
          log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           NULL STR FOUND - no match", a6, a7, a8, (uint64_t)v59);
          goto LABEL_67;
        }
        v21 = 0;
        goto LABEL_123;
      default:
        goto LABEL_65;
    }
  }
  v20 = *((unsigned __int16 *)a4 + 2);
  if (*((_WORD *)a1 + 4))
  {
    log_OutText(*(_QWORD *)(v16 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"           pSent->words[%d].bHasComma = %d", a6, a7, a8, *((unsigned __int16 *)a4 + 2));
    v20 = *((unsigned __int16 *)a4 + 2);
  }
  if (*(_DWORD *)(*a2 + 160 * v20 + 12) == 1)
  {
    v21 = 0;
    v22 = v19 ^ 1;
LABEL_30:
    *a5 = v22;
    return v21;
  }
  v21 = 0;
  *a5 = v19;
  return v21;
}

uint64_t matchSTATPOSRULE_TRule(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int *a4, int *a5)
{
  uint64_t v10;
  uint64_t *v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t matched;
  int v16;
  uint64_t v17;
  uint64_t v18;
  _BYTE v20[2];
  int v21;

  v21 = 1;
  if (*(_WORD *)(a1 + 8))
  {
    v10 = *(_QWORD *)a1;
    v11 = (uint64_t *)(a2 + 80);
    matched = logSTATPOSRULE_TRule(*(unsigned int *)(a2 + 100), (const char **)(a2 + 80), (_WORD *)(a2 + 96), *(char **)(a2 + 88), (uint64_t *)a1, (uint64_t **)a3);
    if ((matched & 0x80000000) != 0)
      return matched;
    log_OutText(*(_QWORD *)(v10 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"       <%s>", v12, v13, v14, *v11);
    *(_BYTE *)*v11 = 0;
  }
  else
  {
    matched = 0;
  }
  *a5 = 0;
  if (*(_QWORD *)a3)
  {
    matched = matchSTATPOSCONTEXT_TRule((uint64_t)"LEFT", a1, a2, *(_QWORD *)a3, a4, &v21, (uint64_t)v20, 1);
    if ((matched & 0x80000000) != 0)
      return matched;
    v16 = v21;
    if (v21 != 1)
      goto LABEL_15;
  }
  v17 = *(_QWORD *)(a3 + 8);
  if (v17)
  {
    v21 = 0;
    matched = matchSTATPOSCONTEXT_TRule((uint64_t)"CUR", a1, a2, v17, a4, &v21, (uint64_t)v20, 0);
    if ((matched & 0x80000000) != 0)
      return matched;
    v16 = v21;
    if (v21 != 1)
    {
LABEL_15:
      *a5 = v16;
      return matched;
    }
  }
  v18 = *(_QWORD *)(a3 + 16);
  if (!v18)
  {
    v16 = 1;
    goto LABEL_15;
  }
  v21 = 0;
  matched = matchSTATPOSCONTEXT_TRule((uint64_t)"RIGHT", a1, a2, v18, a4, &v21, (uint64_t)v20, 2);
  if ((matched & 0x80000000) == 0)
  {
    v16 = v21;
    goto LABEL_15;
  }
  return matched;
}

uint64_t getBrokerString_0(uint64_t a1, char *a2, unint64_t a3)
{
  uint64_t result;
  char *v7;
  size_t v8;
  unint64_t v9;
  size_t v10;
  char __s2[4];
  char *__s;
  _OWORD v13[8];
  uint64_t v14;

  v14 = *MEMORY[0x1E0C80C00];
  __s = 0;
  memset(v13, 0, sizeof(v13));
  *(_DWORD *)__s2 = 0;
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", &__s);
  if ((result & 0x80000000) == 0)
  {
    v7 = __s;
    if (*__s)
    {
      v8 = 0;
      do
      {
        v9 = v8;
        __s2[v8] = __tolower(v7[v8]);
        ++v8;
        v7 = __s;
        v10 = strlen(__s);
      }
      while (v9 <= 1 && v8 < v10);
    }
    else
    {
      v8 = 0;
    }
    __s2[v8] = 0;
    if (strcmp(v7, __s2))
    {
      result = paramc_ParamSetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", __s2);
      if ((result & 0x80000000) != 0)
        return result;
      __s = __s2;
    }
    __strcpy_chk();
    __strcat_chk();
    __strcat_chk();
    return brokeraux_ComposeBrokerString(a1, (const char *)v13, 0, 1, __s, 0, 0, a2, a3);
  }
  return result;
}

uint64_t statpos_setParams(uint64_t a1, uint64_t a2)
{
  int v4;

  v4 = 0;
  if ((paramc_ParamGetInt(*(_QWORD *)(a1 + 40), (uint64_t)"statposdetailtrace", &v4) & 0x80000000) == 0)
    *(_WORD *)(a2 + 8) = v4;
  return 0;
}

uint64_t statPOSAddUniqueTagOffset2Word(uint64_t a1, uint64_t *a2, unsigned int a3, int a4, __int16 a5)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  int *v14;
  int v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  __int16 v24;
  uint64_t v25;
  uint64_t v27;
  uint64_t v28;
  unsigned int v29;
  uint64_t v30;
  unsigned int v31;

  if (a4 == -1)
    return 0;
  v10 = *a2;
  v11 = a3;
  v12 = *(unsigned __int16 *)(*a2 + 160 * a3 + 72);
  if (!*(_WORD *)(*a2 + 160 * a3 + 72))
  {
LABEL_6:
    if (*(_WORD *)(v10 + 160 * a3 + 74))
    {
      if ((int)v12 + 2 <= *(unsigned __int16 *)(v10 + 160 * a3 + 74))
        goto LABEL_15;
      v16 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(v10 + 160 * a3 + 64), 24 * *(unsigned __int16 *)(v10 + 160 * a3 + 74) + 144);
      if (v16)
      {
        v21 = *a2 + 160 * v11;
        *(_QWORD *)(v21 + 64) = v16;
        v22 = v16 + 24 * *(unsigned __int16 *)(v21 + 74);
        *(_QWORD *)(v22 + 112) = 0;
        *(_OWORD *)(v22 + 80) = 0u;
        *(_OWORD *)(v22 + 96) = 0u;
        *(_OWORD *)(v22 + 48) = 0u;
        *(_OWORD *)(v22 + 64) = 0u;
        *(_OWORD *)(v22 + 16) = 0u;
        *(_OWORD *)(v22 + 32) = 0u;
        *(_OWORD *)v22 = 0u;
        v10 = *a2;
        v23 = *a2 + 160 * v11;
        v24 = *(_WORD *)(v23 + 74) + 5;
LABEL_14:
        *(_WORD *)(v23 + 74) = v24;
LABEL_15:
        v28 = v10 + 160 * v11;
        v29 = *(unsigned __int16 *)(v28 + 72);
        *(_DWORD *)(*(_QWORD *)(v28 + 64) + 24 * *(unsigned __int16 *)(v28 + 72)) = a4;
        v30 = statPOSAddWordRec(a1, (uint64_t)a2, a3, v29, a5);
        if ((v30 & 0x80000000) != 0)
          return v30;
        v25 = 0;
        ++*(_WORD *)(*a2 + 160 * v11 + 72);
        return v25;
      }
    }
    else
    {
      v27 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 241);
      v10 = *a2;
      *(_QWORD *)(*a2 + 160 * v11 + 64) = v27;
      if (v27)
      {
        v23 = v10 + 160 * v11;
        v24 = 10;
        goto LABEL_14;
      }
    }
    v25 = 2313166858;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v17, v18, v19, v20, v31);
    return v25;
  }
  v13 = 0;
  v14 = *(int **)(v10 + 160 * a3 + 64);
  while (1)
  {
    v15 = *v14;
    v14 += 6;
    if (v15 == a4)
      return statPOSAddWordRec(a1, (uint64_t)a2, a3, (unsigned __int16)v13, a5);
    if (v12 == ++v13)
      goto LABEL_6;
  }
}

uint64_t statPOSAddWordRec(uint64_t a1, uint64_t a2, unsigned int a3, unsigned int a4, __int16 a5)
{
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  __int16 v19;
  uint64_t v20;
  int v21;
  char *v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unsigned int v27;

  v8 = a3;
  v9 = *(_QWORD *)(*(_QWORD *)a2 + 160 * a3 + 64);
  v10 = a4;
  if (!*(_WORD *)(v9 + 24 * a4 + 18))
  {
    v20 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 121);
    v9 = *(_QWORD *)(*(_QWORD *)a2 + 160 * v8 + 64);
    *(_QWORD *)(v9 + 24 * v10 + 8) = v20;
    if (v20)
    {
      v18 = v9 + 24 * v10;
      v19 = 5;
      goto LABEL_7;
    }
LABEL_10:
    v24 = 2313166858;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v12, v13, v14, v15, v27);
    return v24;
  }
  if (*(unsigned __int16 *)(v9 + 24 * a4 + 16) + 2 <= *(unsigned __int16 *)(v9 + 24 * a4 + 18))
    goto LABEL_8;
  v11 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(v9 + 24 * a4 + 8), 24 * *(unsigned __int16 *)(v9 + 24 * a4 + 18) + 144);
  if (!v11)
    goto LABEL_10;
  v16 = *(_QWORD *)(*(_QWORD *)a2 + 160 * v8 + 64) + 24 * v10;
  *(_QWORD *)(v16 + 8) = v11;
  v17 = v11 + 24 * *(unsigned __int16 *)(v16 + 18);
  *(_QWORD *)(v17 + 112) = 0;
  *(_OWORD *)(v17 + 80) = 0u;
  *(_OWORD *)(v17 + 96) = 0u;
  *(_OWORD *)(v17 + 48) = 0u;
  *(_OWORD *)(v17 + 64) = 0u;
  *(_OWORD *)(v17 + 16) = 0u;
  *(_OWORD *)(v17 + 32) = 0u;
  *(_OWORD *)v17 = 0u;
  v9 = *(_QWORD *)(*(_QWORD *)a2 + 160 * v8 + 64);
  v18 = v9 + 24 * v10;
  v19 = *(_WORD *)(v18 + 18) + 5;
LABEL_7:
  *(_WORD *)(v18 + 18) = v19;
LABEL_8:
  *(_WORD *)(*(_QWORD *)(v9 + 24 * v10 + 8) + 24 * *(unsigned __int16 *)(v9 + 24 * v10 + 16)) = a5;
  v21 = strlen(*(const char **)(a2 + 56));
  v22 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v21 + 1));
  v23 = *(_QWORD *)(*(_QWORD *)a2 + 160 * v8 + 64) + 24 * v10;
  *(_QWORD *)(*(_QWORD *)(v23 + 8) + 24 * *(unsigned __int16 *)(v23 + 16) + 16) = v22;
  if (!v22)
    goto LABEL_10;
  strcpy(v22, *(const char **)(a2 + 56));
  v24 = 0;
  v25 = *(_QWORD *)(*(_QWORD *)a2 + 160 * v8 + 64) + 24 * v10;
  ++*(_WORD *)(v25 + 16);
  return v24;
}

uint64_t statpos_initCache(uint64_t result)
{
  *(_DWORD *)(result + 72) = 0;
  *(_QWORD *)(result + 64) = 0;
  return result;
}

uint64_t statpos_freeCache(uint64_t a1, uint64_t a2)
{
  uint64_t v4;
  unint64_t v5;
  uint64_t v6;

  if (*(_WORD *)(a2 + 72))
  {
    v4 = 0;
    v5 = 0;
    v6 = *(_QWORD *)(a2 + 64);
    do
    {
      heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(v6 + v4));
      v6 = *(_QWORD *)(a2 + 64);
      *(_QWORD *)(v6 + v4) = 0;
      ++v5;
      v4 += 16;
    }
    while (v5 < *(unsigned __int16 *)(a2 + 72));
  }
  heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(a2 + 64));
  *(_QWORD *)(a2 + 64) = 0;
  *(_DWORD *)(a2 + 72) = 0;
  return 0;
}

uint64_t statpos_retagPOS(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4, _DWORD *a5, _WORD *a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9;
  int v14;
  uint64_t v15;
  unint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t matched;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unint64_t v24;
  uint64_t v25;
  const char **v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  _QWORD *v55;
  unsigned int v56;
  _DWORD *v57;
  _DWORD *v58;
  unsigned int v59;
  uint64_t v60;
  int v61;
  uint64_t v62;
  const char **v63;
  const char *v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  int v71;
  uint64_t v72;
  const char **v73;
  const char *v74;
  uint64_t v76;
  unsigned int v77;
  _DWORD *v78;
  uint64_t v79;
  _QWORD v82[2];
  int v83;
  int v84;
  char __s1[32];
  uint64_t v86;

  v86 = *MEMORY[0x1E0C80C00];
  v83 = 0;
  v9 = *(_QWORD *)(a2 + 80);
  if (!v9)
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"missing statpos data => must be included in CLC to train a POS model", (uint64_t)a6, a7, a8, v76);
    return 2313166848;
  }
  memset(v82, 0, 12);
  v14 = *(unsigned __int16 *)(v9 + 16);
  if (!*(_WORD *)(v9 + 16))
  {
LABEL_7:
    v78 = a5;
    v79 = a1;
    if (*(_WORD *)(a2 + 88))
    {
      v23 = 0;
      while (**(unsigned __int8 **)(a3 + 48) != *(unsigned __int8 *)(*(_QWORD *)(a2 + 80) + 24 * v23))
      {
LABEL_34:
        if (++v23 >= (unint64_t)*(unsigned __int16 *)(a2 + 88))
          goto LABEL_35;
      }
      if (v14)
      {
        LOWORD(v24) = 0;
      }
      else
      {
        v39 = 0;
        v24 = 0;
        do
        {
          v40 = *(_QWORD *)(a2 + 80);
          if (v24 >= *(unsigned __int16 *)(v40 + 24 * v23 + 16))
            break;
          v41 = *(_QWORD *)(v40 + 24 * v23 + 8);
          if (*(_DWORD *)(v41 + v39 + 4))
            break;
          v34 = *(unsigned __int16 *)(v41 + v39);
          WORD2(v82[0]) = a4;
          LODWORD(v82[0]) = 6;
          *(_DWORD *)((char *)v82 + 6) = 0;
          v42 = *(_QWORD *)(a2 + 64);
          v84 = 0;
          matched = matchSTATPOSRULE_TRule(a2, a3, v42 + 32 * v34 + 8, (unsigned int *)v82, &v84);
          if ((matched & 0x80000000) != 0)
            return matched;
          if (v84 == 1)
          {
            v52 = 32 * v34;
            log_OutText(*(_QWORD *)(v79 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"FIRED MS1 RETAGGING RULE %d %s RETAG POS %s to %s on word[%d]=%s", v43, v44, v45, v34);
            *(_QWORD *)(a3 + 48) = *(_QWORD *)(a2 + 296)
                                 + *(unsigned int *)(*(_QWORD *)(a2 + 304)
                                                   + 4 * *(unsigned int *)(*(_QWORD *)(a2 + 64) + 32 * v34));
            v53 = v79;
            goto LABEL_66;
          }
          ++v24;
          v39 += 8;
        }
        while (!v84);
      }
      v84 = 0;
      if (!*(_WORD *)(a3 + 72)
        || (statpos_getBracketlessString(__s1, *(char **)(a3 + 48)),
            v25 = *(unsigned __int16 *)(a3 + 72),
            !*(_WORD *)(a3 + 72)))
      {
LABEL_17:
        v30 = -1;
        v31 = 4;
        while (1)
        {
          v32 = *(_QWORD *)(a2 + 80);
          if (++v30 >= (unint64_t)*(unsigned __int16 *)(v32 + 24 * v23 + 16))
          {
            v14 = 0;
            goto LABEL_34;
          }
          v33 = *(_QWORD *)(v32 + 24 * v23 + 8);
          if (*(_DWORD *)(v33 + v31) == 1)
          {
            v34 = *(unsigned __int16 *)(v33 + v31 - 4);
            WORD2(v82[0]) = a4;
            LODWORD(v82[0]) = 6;
            *(_DWORD *)((char *)v82 + 6) = 0;
            v35 = *(_QWORD *)(a2 + 64);
            v84 = 0;
            matched = matchSTATPOSRULE_TRule(a2, a3, v35 + 32 * v34 + 8, (unsigned int *)v82, &v84);
            if ((matched & 0x80000000) != 0)
              return matched;
            v14 = v84;
            if (v84 == 1)
            {
              v52 = 32 * v34;
              log_OutText(*(_QWORD *)(v79 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"FIRED MS1 RETAGGING RULE %d %s RETAG POS %s to %s on word[%d]=%s", v36, v37, v38, v34);
              if (*(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 80) + 24 * v23 + 8) + v31) == 1)
              {
                statpos_addToCache(v79, a3, v34, v65, v66, v67, v68, v69, v77);
                if ((unsigned __int16)*a6 <= 0xEu)
                {
                  statpos_getBracketlessString(__s1, *(char **)(a3 + 48));
                  v70 = (unsigned __int16)*a6;
                  if (!*a6)
                    goto LABEL_63;
                  v71 = 0;
                  v72 = (unsigned __int16)*a6;
                  v73 = (const char **)a7;
                  do
                  {
                    v74 = *v73++;
                    if (!strcmp(__s1, v74))
                      v71 = 1;
                    --v72;
                  }
                  while (v72);
                  if (!v71)
                  {
LABEL_63:
                    strncpy(*(char **)(a7 + 8 * v70), __s1, 0x10uLL);
                    ++*a6;
                  }
                }
              }
              *(_QWORD *)(a3 + 48) = *(_QWORD *)(a2 + 296)
                                   + *(unsigned int *)(*(_QWORD *)(a2 + 304)
                                                     + 4 * *(unsigned int *)(*(_QWORD *)(a2 + 64) + 32 * v34));
              v53 = v79;
              goto LABEL_66;
            }
          }
          else
          {
            v14 = 0;
          }
          v31 += 8;
          if (v14)
            goto LABEL_34;
        }
      }
      v26 = (const char **)(*(_QWORD *)(a3 + 64) + 8);
      while (strcmp(__s1, *(v26 - 1)))
      {
        v26 += 2;
        if (!--v25)
          goto LABEL_17;
      }
      v34 = *(unsigned __int16 *)v26;
      v52 = 32 * v34;
      log_OutText(*(_QWORD *)(v79 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"FIRED MS1 RETAGGING RULE FROM CACHE %d RETAG POS %s to %s on word[%d]=%s", v27, v28, v29, v34);
      if (*(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a2 + 80) + 24 * v23 + 8) + 8 * (unsigned __int16)v24 + 4) == 1
        && (unsigned __int16)*a6 <= 0xEu)
      {
        statpos_getBracketlessString(__s1, *(char **)(a3 + 48));
        v60 = (unsigned __int16)*a6;
        if (!*a6)
          goto LABEL_51;
        v61 = 0;
        v62 = (unsigned __int16)*a6;
        v63 = (const char **)a7;
        do
        {
          v64 = *v63++;
          if (!strcmp(__s1, v64))
            v61 = 1;
          --v62;
        }
        while (v62);
        if (!v61)
        {
LABEL_51:
          strncpy(*(char **)(a7 + 8 * v60), __s1, 0x10uLL);
          ++*a6;
        }
      }
      *(_QWORD *)(a3 + 48) = *(_QWORD *)(a2 + 296)
                           + *(unsigned int *)(*(_QWORD *)(a2 + 304)
                                             + 4 * *(unsigned int *)(*(_QWORD *)(a2 + 64) + 32 * v34));
      v53 = v79;
LABEL_66:
      v54 = a2;
      v55 = (_QWORD *)a3;
      v56 = a4;
      v57 = v78;
      v58 = v78;
      v59 = v34;
    }
    else
    {
LABEL_35:
      v46 = *(unsigned __int16 *)(a2 + 90);
      WORD2(v82[0]) = a4;
      LODWORD(v82[0]) = 6;
      *(_DWORD *)((char *)v82 + 6) = 0;
      v47 = *(_QWORD *)(a2 + 64);
      v84 = 0;
      v51 = matchSTATPOSRULE_TRule(a2, a3, v47 + 32 * v46 + 8, (unsigned int *)v82, &v84);
      if ((v51 & 0x80000000) != 0)
        return v51;
      if (v84 != 1)
      {
        if (!*(_WORD *)(a2 + 104))
          log_OutText(*(_QWORD *)(v79 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"ERROR? NO MS1 RETAGGING OF %s", v48, v49, v50, *(_QWORD *)(a3 + 48));
        return v51;
      }
      v52 = 32 * v46;
      log_OutText(*(_QWORD *)(v79 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"FIRED MS1 RETAGGING RULE %d RETAG POS %s to %s on word[%d]=%s", v48, v49, v50, v46);
      *(_QWORD *)(a3 + 48) = *(_QWORD *)(a2 + 296)
                           + *(unsigned int *)(*(_QWORD *)(a2 + 304)
                                             + 4 * *(unsigned int *)(*(_QWORD *)(a2 + 64) + 32 * v46));
      v53 = v79;
      v54 = a2;
      v55 = (_QWORD *)a3;
      v56 = a4;
      v57 = a5;
      v58 = a5;
      v59 = v46;
    }
    v51 = statpos_doFurtherRetagging(v53, v54, v55, v56, v58, v59, &v83);
    if ((v51 & 0x80000000) == 0 && v83 != 1)
      *v57 = *(_DWORD *)(*(_QWORD *)(a2 + 64) + v52);
    return v51;
  }
  v15 = 0;
  v16 = 0;
  while (1)
  {
    v17 = *(unsigned __int16 *)(*(_QWORD *)(v9 + 8) + v15);
    WORD2(v82[0]) = a4;
    LODWORD(v82[0]) = 6;
    *(_DWORD *)((char *)v82 + 6) = 0;
    v18 = *(_QWORD *)(a2 + 64);
    v84 = 0;
    matched = matchSTATPOSRULE_TRule(a2, a3, v18 + 32 * v17 + 8, (unsigned int *)v82, &v84);
    if ((matched & 0x80000000) != 0)
      return matched;
    v14 = v84;
    if (v84 == 1)
      break;
    ++v16;
    v9 = *(_QWORD *)(a2 + 80);
    v15 += 8;
    if (v16 >= *(unsigned __int16 *)(v9 + 16))
      goto LABEL_7;
  }
  log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"FIRED MS1 RETAGGING RULE %d %s RETAG POS %s to %s on word[%d]=%s", v20, v21, v22, v17);
  *(_QWORD *)(a3 + 48) = *(_QWORD *)(a2 + 296)
                       + *(unsigned int *)(*(_QWORD *)(a2 + 304)
                                         + 4 * *(unsigned int *)(*(_QWORD *)(a2 + 64) + 32 * v17));
  v51 = statpos_doFurtherRetagging(a1, a2, (_QWORD *)a3, a4, a5, v17, &v83);
  if ((v51 & 0x80000000) == 0 && v83 != 1)
    *a5 = *(_DWORD *)(*(_QWORD *)(a2 + 64) + 32 * v17);
  return v51;
}

uint64_t statpos_doFurtherRetagging(uint64_t a1, uint64_t a2, _QWORD *a3, unsigned int a4, _DWORD *a5, unsigned int a6, int *a7)
{
  __int16 v9;
  int v13;
  uint64_t matched;
  int v15;
  uint64_t v16;
  unint64_t i;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v23;
  unsigned int v25;
  __int16 v26;
  _BYTE v27[6];

  v9 = a4;
  *a7 = 0;
  v13 = *(_DWORD *)(*a3 + 160 * a4 + 8);
  if (v13)
  {
    matched = 0;
    if (v13 != 1)
      return matched;
    v15 = *(_DWORD *)(a2 + 124);
  }
  else
  {
    v15 = *(_DWORD *)(a2 + 128);
  }
  if (v15 != 1)
    return 0;
  *(_DWORD *)&v27[2] = 0;
  if (!*(_WORD *)(a2 + 56))
    return 0;
  v16 = 0;
  for (i = 0; i < *(unsigned __int16 *)(a2 + 56); ++i)
  {
    v26 = v9;
    v25 = 6;
    *(_DWORD *)v27 = 0;
    v18 = *(_QWORD *)(a2 + 48);
    *a7 = 0;
    matched = matchSTATPOSRULE_TRule(a2, (uint64_t)a3, v18 + v16 + 8, &v25, a7);
    if ((matched & 0x80000000) != 0)
      break;
    if (*a7)
    {
      if (*a7 == 1)
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"RETAGGING MS1 %s to %s", v19, v20, v21, *(_QWORD *)(a2 + 296)+ *(unsigned int *)(*(_QWORD *)(a2 + 304) + 4 * *(unsigned int *)(*(_QWORD *)(a2 + 64) + 32 * a6)));
        v23 = *(unsigned int *)(*(_QWORD *)(a2 + 48) + v16);
        a3[6] = *(_QWORD *)(a2 + 296) + *(unsigned int *)(*(_QWORD *)(a2 + 304) + 4 * v23);
        *a5 = v23;
      }
      return matched;
    }
    v16 += 32;
  }
  return matched;
}

char *statpos_getBracketlessString(char *a1, char *__s)
{
  unsigned __int16 v4;
  unsigned __int16 v5;
  char *result;
  unsigned __int16 v7;

  v4 = strlen(__s);
  if (v4 <= 0x10uLL)
    v5 = v4;
  else
    v5 = 16;
  result = strncpy(a1, __s, v5);
  if (v5)
  {
    v7 = 0;
    do
    {
      if (a1[v7] == 40)
      {
        a1[v7] = 0;
        v7 = v5;
      }
      ++v7;
    }
    while (v7 < v5);
  }
  return result;
}

char *statpos_addToCache(uint64_t a1, uint64_t a2, __int16 a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unsigned int a9)
{
  unsigned int v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  unsigned __int16 v19;
  char *v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  char *result;
  uint64_t v26;
  unsigned int v27;
  char __s[16];
  uint64_t v29;

  v29 = *MEMORY[0x1E0C80C00];
  v12 = *(unsigned __int16 *)(a2 + 74);
  if (!*(_WORD *)(a2 + 74))
  {
    v13 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 801);
    *(_QWORD *)(a2 + 64) = v13;
    if (!v13)
      return (char *)log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v14, v15, v16, v17, a9);
    v12 = 50;
    *(_WORD *)(a2 + 74) = 50;
  }
  if (*(unsigned __int16 *)(a2 + 72) + 1 < v12)
    goto LABEL_7;
  v18 = heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(a2 + 64), 16 * v12 + 320);
  if (!v18)
    return (char *)log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v14, v15, v16, v17, a9);
  *(_QWORD *)(a2 + 64) = v18;
  *(_WORD *)(a2 + 74) += 20;
LABEL_7:
  statpos_getBracketlessString(__s, *(char **)(a2 + 48));
  v19 = strlen(__s);
  v20 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v19 + 1);
  *(_QWORD *)(*(_QWORD *)(a2 + 64) + 16 * *(unsigned __int16 *)(a2 + 72)) = v20;
  if (!v20)
    return (char *)log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v21, v22, v23, v24, v27);
  result = strcpy(v20, __s);
  v26 = *(unsigned __int16 *)(a2 + 72);
  *(_WORD *)(*(_QWORD *)(a2 + 64) + 16 * v26 + 8) = a3;
  *(_WORD *)(a2 + 72) = v26 + 1;
  return result;
}

uint64_t statpos_retagREFPOS(uint64_t a1, uint64_t a2, _QWORD *a3, unsigned int a4)
{
  uint64_t v8;
  unint64_t i;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t matched;
  int v15;
  char *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  unsigned int v22;
  unsigned int v23;
  __int16 v24;
  _BYTE v25[6];
  int v26;

  *(_DWORD *)&v25[2] = 0;
  if (!*(_WORD *)(a2 + 56))
    return 0;
  v8 = 0;
  for (i = 0; i < *(unsigned __int16 *)(a2 + 56); ++i)
  {
    v24 = a4;
    v23 = 6;
    *(_DWORD *)v25 = 0;
    v10 = *(_QWORD *)(a2 + 48);
    v26 = 0;
    matched = matchSTATPOSRULE_TRule(a2, (uint64_t)a3, v10 + v8 + 8, &v23, &v26);
    if ((matched & 0x80000000) != 0)
      break;
    if (v26)
    {
      if (v26 == 1)
      {
        log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"REFRETAG : FIRED RETAGGING RULE %d RETAG REF POS %s to %s on word[%d]=%s", v11, v12, v13, i);
        v15 = strlen((const char *)(*(_QWORD *)(a2 + 296)
                                  + *(unsigned int *)(*(_QWORD *)(a2 + 304)
                                                    + 4 * *(unsigned int *)(*(_QWORD *)(a2 + 48) + v8))));
        v16 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v15 + 1));
        *(_QWORD *)(*a3 + 160 * a4 + 112) = v16;
        if (v16)
        {
          strcpy(v16, (const char *)(*(_QWORD *)(a2 + 296)+ *(unsigned int *)(*(_QWORD *)(a2 + 304) + 4 * *(unsigned int *)(*(_QWORD *)(a2 + 48) + v8))));
        }
        else
        {
          log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v17, v18, v19, v20, v22);
          return 2313166858;
        }
      }
      return matched;
    }
    v8 += 32;
  }
  return matched;
}

uint64_t statpos_getPOSOffset(uint64_t a1, uint64_t a2, uint64_t a3, _DWORD *a4)
{
  uint64_t result;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  _DWORD *v11;

  v11 = 0;
  *a4 = -1;
  if (!*(_WORD *)(a2 + 104))
    return 0;
  result = ssftmap_FindReadOnly(*(_QWORD *)(a2 + 112), a3, &v11);
  if ((result & 0x1FFF) == 0x14)
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"ERROR? NO LISTOFPOS RETAGGING OF %s", v8, v9, v10, a3);
    return 0;
  }
  *a4 = *v11;
  return result;
}

uint64_t statpos_getStrSetting(uint64_t a1, char *__s1)
{
  uint64_t v2;
  uint64_t v4;
  uint64_t v5;
  unsigned int *i;

  v2 = *(unsigned __int16 *)(a1 + 40);
  if (!*(_WORD *)(a1 + 40))
    return 0;
  v4 = *(_QWORD *)(a1 + 296);
  v5 = *(_QWORD *)(a1 + 304);
  for (i = (unsigned int *)(*(_QWORD *)(a1 + 32) + 4);
        strcmp(__s1, (const char *)(v4 + *(unsigned int *)(v5 + 4 * *(i - 1))));
        i += 2)
  {
    if (!--v2)
      return 0;
  }
  return v4 + *(unsigned int *)(v5 + 4 * *i);
}

uint64_t statpos_splitMSMappingRulesIntoTables(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4;
  _WORD *v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unsigned int v13;
  unint64_t v14;
  uint64_t v15;
  uint64_t *v16;
  unint64_t v17;
  unint64_t v18;
  int v19;
  int v20;
  int v21;
  int v22;
  uint64_t v23;
  _WORD *v24;
  uint64_t v26;
  unsigned __int16 v27;
  uint64_t v28;
  int v29;
  uint64_t v31;
  uint64_t v32;
  const char *v33;
  const char *v34;
  int v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  const char *v41;
  uint64_t v42;
  uint64_t v43;
  _BOOL4 v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t i;
  uint64_t v50;
  uint64_t v51;
  uint64_t *v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  _DWORD *v60;
  _DWORD *v61;
  uint64_t v62;
  unsigned __int16 *v63;
  unsigned __int16 *v64;
  int v65;
  int v66;
  unint64_t v67;
  uint64_t v68;
  unint64_t v69;
  int v70;
  uint64_t v71;
  __int16 v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  uint64_t v76;
  unint64_t v77;
  uint64_t v78;
  uint64_t v79;
  unint64_t v80;
  uint64_t v81;
  unint64_t v82;
  unsigned int v84;
  uint64_t v85;
  unsigned int v86;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  char __s2[2];

  if (!*(_WORD *)(a3 + 8))
    return 0;
  v4 = a2;
  v6 = (_WORD *)heap_Calloc(*(_QWORD **)(*(_QWORD *)a2 + 8), 1, (24 * *(unsigned __int16 *)(a3 + 8)) | 1);
  *(_QWORD *)(v4 + 80) = v6;
  if (v6
    && (*(_DWORD *)(v4 + 88) = 655294464,
        *v6 = 33,
        *(_WORD *)(*(_QWORD *)(v4 + 80) + 16) = 0,
        v11 = heap_Calloc(*(_QWORD **)(*(_QWORD *)v4 + 8), 1, (8 * *(unsigned __int16 *)(a3 + 8)) | 1),
        v12 = *(_QWORD *)(v4 + 80),
        (*(_QWORD *)(v12 + 8) = v11) != 0))
  {
    *(_WORD *)(v4 + 88) = 1;
    v13 = *(unsigned __int16 *)(a3 + 8);
    if (*(_WORD *)(a3 + 8))
    {
      v85 = a1;
      v14 = 0;
      v88 = v4;
      do
      {
        v15 = *(_QWORD *)a3 + 32 * v14;
        if (!*(_QWORD *)(v15 + 8))
        {
          v16 = *(uint64_t **)(v15 + 16);
          if (v16)
          {
            v86 = v13;
            __s2[0] = 0;
            v17 = *((unsigned __int16 *)v16 + 4);
            if (*((_WORD *)v16 + 4))
            {
              v87 = 0;
              v18 = 0;
              v19 = 0;
              v20 = 0;
              v21 = 0;
              v22 = 0;
              v89 = *(_QWORD *)(v88 + 264);
              v90 = *(_QWORD *)(v88 + 256);
              v23 = *v16;
              do
              {
                v24 = (_WORD *)(v23 + 6 * v18);
                if (*v24 == 3)
                  v21 = 1;
                else
                  v20 = 1;
                if (v21 == 1 && v22 == 0)
                {
                  v26 = v90 + *(unsigned int *)(v89 + 4 * (unsigned __int16)v24[1]);
                  if (!strcmp((const char *)v26, "\\S"))
                  {
                    v22 = 0;
                    *(_WORD *)(v88 + 90) = v14;
                    HIDWORD(v87) = 1;
                  }
                  else if (*(_BYTE *)v26 == 94 && (v27 = strlen((const char *)v26), v27 >= 2u))
                  {
                    v28 = 0;
                    LODWORD(v87) = *(unsigned __int8 *)(v26 + 1);
                    __s2[0] = *(_BYTE *)(v26 + 1);
                    __s2[1] = 0;
                    do
                    {
                      v29 = *(unsigned __int8 *)(v26 + v28++);
                      if (v28 < v27 && v29 == 40)
                        v19 = 1;
                    }
                    while (v27 != v28);
                    v22 = v87;
                  }
                  else
                  {
                    v22 = 0;
                  }
                }
                ++v18;
              }
              while (v18 < v17);
            }
            else
            {
              v87 = 0;
              v21 = 0;
              v20 = 0;
              v19 = 0;
            }
            if (v21 == 1 && v87 > 0x40 && v87 <= 0x5A)
            {
              v31 = 0;
              v4 = v88;
              v32 = *(unsigned __int16 *)(v88 + 88);
              v33 = *(const char **)(v88 + 80);
              v34 = v33;
              while (v32 != v31)
              {
                v35 = strcmp(v34, __s2);
                ++v31;
                v34 += 24;
                if (!v35)
                {
                  v36 = v31 - 1;
                  v37 = *((_QWORD *)v34 - 2);
                  goto LABEL_49;
                }
              }
              __strcpy_chk();
              *(_WORD *)(*(_QWORD *)(v88 + 80) + 24 * *(unsigned __int16 *)(v88 + 88) + 16) = 0;
              v37 = heap_Calloc(*(_QWORD **)(*(_QWORD *)v88 + 8), 1, (8 * *(unsigned __int16 *)(a3 + 8)) | 1);
              v33 = *(const char **)(v88 + 80);
              v36 = *(unsigned __int16 *)(v88 + 88);
              *(_QWORD *)&v33[24 * v36 + 8] = v37;
              if (!v37)
                goto LABEL_56;
              *(_WORD *)(v88 + 88) = v36 + 1;
LABEL_49:
              v41 = &v33[24 * v36];
              v42 = *((unsigned __int16 *)v41 + 8);
              v43 = v37 + 8 * v42;
              *(_WORD *)v43 = v14;
              v45 = v20 != 1 && v19 != 1;
              *(_DWORD *)(v43 + 4) = v45;
              *((_WORD *)v41 + 8) = v42 + 1;
              v13 = *(unsigned __int16 *)(a3 + 8);
            }
            else
            {
              v4 = v88;
              if (!HIDWORD(v87))
              {
                v38 = *(_QWORD *)(v88 + 80);
                v39 = *(unsigned __int16 *)(v38 + 16);
                v40 = *(_QWORD *)(v38 + 8) + 8 * v39;
                *(_WORD *)v40 = v14;
                *(_DWORD *)(v40 + 4) = 0;
                *(_WORD *)(v38 + 16) = v39 + 1;
              }
              v13 = v86;
            }
          }
        }
        ++v14;
      }
      while (v14 < v13);
      v48 = *(unsigned __int16 *)(v4 + 88);
      v12 = *(_QWORD *)(v4 + 80);
      a1 = v85;
      if (v48 >= 2)
      {
        for (i = 1; i != v48; ++i)
        {
          v50 = *(unsigned __int16 *)(v12 + 24 * i + 16);
          if (*(_WORD *)(v12 + 24 * i + 16))
          {
            v51 = 0;
            v52 = (uint64_t *)(v12 + 24 * i + 8);
            do
            {
              v53 = 0;
              do
              {
                if (v51 != v53)
                {
                  v54 = *v52;
                  v55 = *(_QWORD *)(*(_QWORD *)a3 + 32 * *(unsigned __int16 *)(*v52 + 8 * v51) + 16);
                  v56 = *(unsigned __int16 *)(v55 + 8);
                  if (*(_WORD *)(v55 + 8))
                  {
                    v57 = 0;
                    v58 = *(_QWORD *)(*(_QWORD *)a3 + 32 * *(unsigned __int16 *)(v54 + 8 * v53) + 16);
                    v59 = *(unsigned __int16 *)(v58 + 8);
                    v60 = (_DWORD *)(v54 + 8 * v51 + 4);
                    v61 = (_DWORD *)(v54 + 8 * v53 + 4);
                    do
                    {
                      if ((_DWORD)v59)
                      {
                        v62 = 0;
                        v63 = (unsigned __int16 *)(*(_QWORD *)v55 + 6 * v57);
                        v66 = *v63;
                        v64 = v63 + 1;
                        v65 = v66;
                        do
                        {
                          if (v65 == 3 && *v64 == *(unsigned __int16 *)(*(_QWORD *)v58 + v62 + 2))
                          {
                            if (*v60 == 1)
                              *v60 = 0;
                            if (*v61 == 1)
                              *v61 = 0;
                          }
                          v62 += 6;
                        }
                        while (6 * v59 != v62);
                      }
                      ++v57;
                    }
                    while (v57 != v56);
                  }
                }
                ++v53;
              }
              while (v53 != v50);
              ++v51;
            }
            while (v51 != v50);
          }
        }
        v67 = 1;
        do
        {
          if (*(_WORD *)(v12 + 24 * v67 + 16))
          {
            v68 = 0;
            v69 = 0;
            v70 = 0;
            do
            {
              if (v68)
              {
                v71 = *(_QWORD *)(v12 + 24 * v67 + 8);
                if (!*(_DWORD *)(v71 + v68 + 4))
                {
                  v72 = *(_WORD *)(v71 + v68);
                  memmove((void *)(v71 + 8 * ((unsigned __int16)v70 + 1)), (const void *)(v71 + 8 * (unsigned __int16)v70), v68 - 8 * (unsigned __int16)v70);
                  v12 = *(_QWORD *)(v4 + 80);
                  v73 = *(_QWORD *)(v12 + 24 * v67 + 8) + 8 * (unsigned __int16)v70;
                  *(_DWORD *)(v73 + 4) = 0;
                  *(_WORD *)v73 = v72;
                  ++v70;
                }
              }
              ++v69;
              v68 += 8;
            }
            while (v69 < *(unsigned __int16 *)(v12 + 24 * v67 + 16));
            LODWORD(v48) = *(unsigned __int16 *)(v4 + 88);
          }
          ++v67;
        }
        while (v67 < v48);
      }
    }
    else
    {
      LODWORD(v48) = 1;
    }
    v74 = heap_Realloc(*(uint64_t **)(*(_QWORD *)v4 + 8), v12, (24 * v48) | 1);
    if (v74)
    {
      v75 = v74;
      *(_QWORD *)(v4 + 80) = v74;
      if (*(_WORD *)(v4 + 88))
      {
        v76 = 0;
        v77 = 0;
        do
        {
          v78 = v75 + v76;
          if (*(_WORD *)(v75 + v76 + 16))
          {
            v79 = heap_Realloc(*(uint64_t **)(*(_QWORD *)v4 + 8), *(_QWORD *)(v78 + 8), (8 * *(unsigned __int16 *)(v75 + v76 + 16)) | 1);
            if (!v79)
              goto LABEL_104;
          }
          else
          {
            heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(v78 + 8));
            v79 = 0;
          }
          v75 = *(_QWORD *)(v4 + 80);
          *(_QWORD *)(v75 + v76 + 8) = v79;
          ++v77;
          v80 = *(unsigned __int16 *)(v4 + 88);
          v76 += 24;
        }
        while (v77 < v80);
        if (*(_WORD *)(v4 + 90) == 9999)
        {
          if (*(_WORD *)(v4 + 88))
          {
            v81 = 0;
            v82 = 0;
            do
            {
              if (*(_WORD *)(v75 + v81 + 16))
              {
                heap_Free(*(_QWORD **)(a1 + 8), *(_QWORD *)(v75 + v81 + 8));
                v75 = *(_QWORD *)(v4 + 80);
                v80 = v75 + v81;
                *(_QWORD *)(v80 + 8) = 0;
                *(_WORD *)(v80 + 16) = 0;
                LOWORD(v80) = *(_WORD *)(v4 + 88);
              }
              ++v82;
              v81 += 24;
            }
            while (v82 < (unsigned __int16)v80);
          }
          goto LABEL_107;
        }
      }
      else if (*(_WORD *)(v4 + 90) == 9999)
      {
LABEL_107:
        heap_Free(*(_QWORD **)(a1 + 8), v75);
        v46 = 0;
        *(_QWORD *)(v4 + 80) = 0;
        *(_WORD *)(v4 + 88) = 0;
        return v46;
      }
      return 0;
    }
LABEL_104:
    v46 = 2313166858;
    v47 = *(_QWORD *)(a1 + 32);
  }
  else
  {
LABEL_56:
    v46 = 2313166858;
    v47 = *(_QWORD *)(*(_QWORD *)v4 + 32);
  }
  log_OutPublic(v47, (uint64_t)"FE_POS", 35000, 0, v7, v8, v9, v10, v84);
  return v46;
}

uint64_t statpos_rules_load(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t BrokerString_0;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t info_from_dct;
  _QWORD *v24;
  _WORD *v25;
  int v26;
  uint64_t v27;
  uint64_t v28;
  _WORD *v29;
  _WORD *v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  unint64_t v38;
  unsigned int v39;
  unsigned int v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  unint64_t v45;
  int v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  unint64_t v51;
  int v52;
  _WORD *v53;
  int v54;
  _QWORD *v55;
  uint64_t v56;
  unint64_t v57;
  unsigned int v58;
  _QWORD *v59;
  _WORD *v60;
  int v61;
  uint64_t v62;
  uint64_t v63;
  _QWORD *v64;
  _WORD *v65;
  int v66;
  uint64_t v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  uint64_t v71;
  unint64_t v72;
  unsigned int v73;
  uint64_t v74;
  uint64_t *v75;
  uint64_t v76;
  uint64_t v77;
  unint64_t v78;
  unsigned int v79;
  uint64_t v80;
  uint64_t v81;
  unint64_t v82;
  unsigned int v83;
  int v84;
  uint64_t v85;
  unint64_t v86;
  uint64_t v87;
  char *StrSetting;
  uint64_t v89;
  uint64_t v90;
  uint64_t v91;
  char v92;
  const char *v93;
  uint64_t v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t v97;
  char *v98;
  uint64_t v99;
  uint64_t v100;
  uint64_t v101;
  uint64_t v102;
  uint64_t v103;
  uint64_t v104;
  uint64_t v105;
  char *v106;
  uint64_t v107;
  uint64_t v108;
  uint64_t v109;
  uint64_t v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  uint64_t v116;
  uint64_t v117;
  uint64_t v118;
  uint64_t v119;
  uint64_t v120;
  uint64_t v121;
  uint64_t v122;
  uint64_t v123;
  uint64_t v124;
  uint64_t v125;
  uint64_t v126;
  uint64_t v127;
  uint64_t v128;
  uint64_t v129;
  uint64_t v130;
  char *v131;
  char *v132;
  char *v133;
  char *v134;
  char *v135;
  uint64_t v136;
  uint64_t v137;
  uint64_t v138;
  uint64_t v139;
  uint64_t v140;
  uint64_t v141;
  uint64_t v142;
  uint64_t v143;
  uint64_t v144;
  uint64_t v145;
  uint64_t v146;
  uint64_t v147;
  int StrSettingAsNumber;
  uint64_t v149;
  uint64_t v150;
  uint64_t v151;
  uint64_t v152;
  uint64_t v153;
  uint64_t v154;
  uint64_t v155;
  uint64_t v156;
  uint64_t v157;
  _QWORD *v158;
  uint64_t v159;
  uint64_t v160;
  char *v161;
  uint64_t v162;
  uint64_t v163;
  uint64_t v164;
  uint64_t v166;
  uint64_t v167;
  uint64_t v168;
  uint64_t v169;
  uint64_t v170;
  _BYTE __c[11];
  __int16 v172;
  int v173;
  char *v174;
  uint64_t v175;
  _WORD *v176;
  unsigned int v177;
  int v178;
  unsigned __int8 v179;
  _QWORD *v180;
  __int128 v181;
  uint64_t (*v182)(const char *, const char *);
  void *v183;
  _QWORD *(*v184)(_QWORD *, _QWORD *);
  _OWORD v185[8];
  uint64_t v186;

  v186 = *MEMORY[0x1E0C80C00];
  v180 = 0;
  v179 = 0;
  v177 = 0;
  v178 = 0;
  v175 = 0;
  v176 = 0;
  memset(v185, 0, sizeof(v185));
  v174 = 0;
  *(_QWORD *)a7 = a3;
  *(_WORD *)(a7 + 376) = 5;
  log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"loading MS StatPOS rules", a6, a7, a8, v169);
  BrokerString_0 = getBrokerString_0(a3, (char *)v185, 0x80uLL);
  if ((BrokerString_0 & 0x80000000) != 0)
    return BrokerString_0;
  BrokerString_0 = brk_DataOpenEx(*(_QWORD *)(a3 + 24), (uint64_t)v185, 1, (uint64_t)&v175);
  if ((BrokerString_0 & 0x80000000) != 0)
    return BrokerString_0;
  BrokerString_0 = brk_DataClose(*(_QWORD *)(a3 + 24), v175);
  if ((BrokerString_0 & 0x80000000) != 0)
    return BrokerString_0;
  BrokerString_0 = ssftriff_reader_ObjOpen(a1, a2, 0, (const char *)v185, "PANP", 1031, (uint64_t *)&v180);
  if ((BrokerString_0 & 0x80000000) != 0)
    return BrokerString_0;
  while (1)
  {
    LODWORD(info_from_dct) = ssftriff_reader_OpenChunk((uint64_t)v180, &v178, &v177, &v176, v16, v17, v18, v19);
    if ((info_from_dct & 0x80000000) != 0)
    {
LABEL_67:
      if ((info_from_dct & 0x1FFF) == 0xA)
        return 2313166858;
      ssftriff_reader_ObjClose(v180, v20, v21, v22, v16, v17, v18, v19);
      v180 = 0;
      if (*(_WORD *)(a7 + 104))
      {
        v85 = 0;
        v86 = 0;
        do
        {
          BrokerString_0 = ssftmap_Insert(*(_QWORD *)(a7 + 112), *(_QWORD *)(a7 + 296)+ *(unsigned int *)(*(_QWORD *)(a7 + 304)+ 4 * *(unsigned int *)(*(_QWORD *)(a7 + 96) + v85)), *(_QWORD *)(a7 + 96) + v85);
          if ((BrokerString_0 & 0x80000000) != 0)
            return BrokerString_0;
          ++v86;
          v85 += 4;
        }
        while (v86 < *(unsigned __int16 *)(a7 + 104));
      }
      *(_WORD *)(a7 + 88) = 0;
      v87 = statpos_splitMSMappingRulesIntoTables(a3, a7, a7 + 64);
      if ((v87 & 0x1FFF) == 0xA)
        return 2313166858;
      info_from_dct = v87;
      *(_QWORD *)(a7 + 16) = 0x2000100030000;
      *(_WORD *)(a7 + 24) = 4;
      StrSetting = (char *)statpos_getStrSetting(a7, "POSsep");
      if (StrSetting)
      {
        v92 = *StrSetting;
      }
      else
      {
        log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Warning : POSsep not defined in data file, using default '/'", v89, v90, v91, v170);
        v92 = 47;
      }
      *(_BYTE *)(a7 + 120) = v92;
      v93 = (const char *)statpos_getStrSetting(a7, "HYPHEN_CHAR");
      if (!v93)
      {
        log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Warning : HYPHEN_CHAR not defined in data file, using default '-'", v94, v95, v96, v170);
        v93 = "-";
      }
      *(_QWORD *)(a7 + 160) = v93;
      v97 = statpos_getStrSetting(a7, "PUNCT_CHAR");
      if (v97)
        v98 = (char *)v97;
      else
        v98 = &byte_1DEBD87CE;
      *(_QWORD *)(a7 + 168) = v98;
      v99 = statpos_getStrSetting(a7, "TERMPUNCT_CHAR");
      if (v99)
        v106 = (char *)v99;
      else
        v106 = &byte_1DEBD87CE;
      *(_QWORD *)(a7 + 176) = v106;
      *(_DWORD *)(a7 + 124) = statpos_getStrSettingAsNumber(a7, "ApplyRetaggingToOOV", v100, v101, v102, v103, v104, v105) == 1;
      *(_DWORD *)(a7 + 128) = statpos_getStrSettingAsNumber(a7, "ApplyRetaggingToKnownAmbiguous", v107, v108, v109, v110, v111, v112) == 1;
      *(_DWORD *)(a7 + 152) = statpos_getStrSettingAsNumber(a7, "NOOOVMODEL", v113, v114, v115, v116, v117, v118) == 1;
      *(_DWORD *)(a7 + 184) = statpos_getStrSettingAsNumber(a7, "DOMSMAPPINGBEFORELISTOFPOS", v119, v120, v121, v122, v123, v124) == 1;
      *(_DWORD *)(a7 + 188) = statpos_getStrSettingAsNumber(a7, "ReEstimateEachWord", v125, v126, v127, v128, v129, v130) == 1;
      v131 = (char *)statpos_getStrSetting(a7, "POITOPOS_ns");
      *(_QWORD *)(a7 + 336) = v131;
      if (v131)
      {
        BrokerString_0 = statpos_format_POI_param(a3, v131, (char **)(a7 + 336));
        if ((BrokerString_0 & 0x80000000) != 0)
          return BrokerString_0;
        info_from_dct = 0;
      }
      v132 = (char *)statpos_getStrSetting(a7, "POITOPOS_nt");
      *(_QWORD *)(a7 + 344) = v132;
      if (v132)
      {
        BrokerString_0 = statpos_format_POI_param(a3, v132, (char **)(a7 + 344));
        if ((BrokerString_0 & 0x80000000) != 0)
          return BrokerString_0;
        info_from_dct = 0;
      }
      v133 = (char *)statpos_getStrSetting(a7, "POITOPOS_nz");
      *(_QWORD *)(a7 + 352) = v133;
      if (v133)
      {
        BrokerString_0 = statpos_format_POI_param(a3, v133, (char **)(a7 + 352));
        if ((BrokerString_0 & 0x80000000) != 0)
          return BrokerString_0;
        info_from_dct = 0;
      }
      v134 = (char *)statpos_getStrSetting(a7, "POITOPOS_nx");
      *(_QWORD *)(a7 + 360) = v134;
      if (v134)
      {
        BrokerString_0 = statpos_format_POI_param(a3, v134, (char **)(a7 + 360));
        if ((BrokerString_0 & 0x80000000) != 0)
          return BrokerString_0;
        info_from_dct = 0;
      }
      v135 = (char *)statpos_getStrSetting(a7, "POITOPOS_nr");
      *(_QWORD *)(a7 + 368) = v135;
      if (v135)
      {
        BrokerString_0 = statpos_format_POI_param(a3, v135, (char **)(a7 + 368));
        if ((BrokerString_0 & 0x80000000) != 0)
          return BrokerString_0;
        info_from_dct = 0;
      }
      *(_DWORD *)(a7 + 136) = statpos_getStrSettingAsNumber(a7, "lexMismatchUseStringMatch", v136, v137, v138, v139, v140, v141) == 1;
      StrSettingAsNumber = statpos_getStrSettingAsNumber(a7, "mapTagsetFromDctMappingFile", v142, v143, v144, v145, v146, v147);
      *(_DWORD *)(a7 + 132) = StrSettingAsNumber == 1;
      if (StrSettingAsNumber == 1)
      {
        info_from_dct = statpos_get_info_from_dct(a3, a4, a5, a6, "fecfg", (uint64_t)"mde_tag_mappings_dic", &v174, 0, "STR");
        if ((info_from_dct & 0x80000000) != 0)
          return info_from_dct;
        if (v174)
        {
          v173 = 0;
          info_from_dct = (*(uint64_t (**)(uint64_t, uint64_t, char *, int *))(a6 + 72))(a4, a5, v174, &v173);
          if ((info_from_dct & 0x80000000) != 0)
            goto LABEL_126;
          if (v173)
          {
            *(_QWORD *)&__c[1] = 0;
            __c[0] = 0;
            v158 = *(_QWORD **)(*(_QWORD *)a7 + 8);
            *(_QWORD *)&v181 = ssftmap_ElemCopyString;
            *((_QWORD *)&v181 + 1) = ssftmap_ElemFreeString;
            v182 = ssftmap_ElemCompareKeysString;
            v183 = ssftmap_ElemCopyString;
            v184 = ssftmap_ElemFreeString;
            info_from_dct = ssftmap_ObjOpen(v158, 0, &v181, (uint64_t *)(a7 + 144));
            if ((info_from_dct & 0x80000000) != 0)
              goto LABEL_126;
            if (*(_WORD *)(a7 + 104))
            {
              v159 = 0;
              do
              {
                v172 = -1;
                info_from_dct = (*(uint64_t (**)(uint64_t, uint64_t, char *, _QWORD, _BYTE *, __int16 *, _BYTE *))(a6 + 96))(a4, a5, v174, *(_QWORD *)(a7 + 296)+ *(unsigned int *)(*(_QWORD *)(a7 + 304)+ 4 * *(unsigned int *)(*(_QWORD *)(a7 + 96) + 4 * v159)), &__c[1], &v172, __c);
                if ((info_from_dct & 0x80000000) != 0)
                  return info_from_dct;
                if (v172 == 1)
                {
                  v160 = **(_QWORD **)&__c[1];
                  v161 = strchr(**(char ***)&__c[1], __c[0]);
                  if (v161)
                  {
                    *v161 = 0;
                    v160 = **(_QWORD **)&__c[1];
                  }
                  info_from_dct = ssftmap_Insert(*(_QWORD *)(a7 + 144), *(_QWORD *)(a7 + 296)+ *(unsigned int *)(*(_QWORD *)(a7 + 304)+ 4 * *(unsigned int *)(*(_QWORD *)(a7 + 96) + 4 * v159)), v160);
                  if ((info_from_dct & 0x80000000) != 0)
                    goto LABEL_126;
                  log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"POS mapping %s->%s", v162, v163, v164, *(_QWORD *)(a7 + 296)+ *(unsigned int *)(*(_QWORD *)(a7 + 304) + 4 * *(unsigned int *)(*(_QWORD *)(a7 + 96) + 4 * v159)));
                }
              }
              while (++v159 < (unint64_t)*(unsigned __int16 *)(a7 + 104));
            }
          }
          else
          {
            log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Warning: mde_tag_mappings dictionary %s does not exist", v155, v156, v157, (uint64_t)v174);
          }
        }
        else
        {
          log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Warning: mde_tag_mappings dictionary does not exist", v152, v153, v154, 0);
        }
      }
      if (*(_QWORD *)(a7 + 144))
      {
        v166 = 0;
        while (1)
        {
          v167 = heap_Calloc(*(_QWORD **)(a3 + 8), 1, 32);
          *(_QWORD *)(a7 + 384 + v166) = v167;
          if (!v167)
            break;
          v166 += 8;
          if (v166 == 256)
            goto LABEL_125;
        }
        log_OutPublic(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 35000, 0, v168, v149, v150, v151, v170);
        return 2313166858;
      }
LABEL_125:
      log_OutText(*(_QWORD *)(a3 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"statpos data file : ambigPOSSep=%c ApplyRetaggingToOOV=%d ApplyRetaggingToKnownAmbiguous=%d NOOOVMODEL=%d ReEstimateEachWord=%d, poi_ns=%s,poi_nt=%s,poi_nz=%s,poi_nx=%s,poi_nr=%s", v149, v150, v151, *(unsigned __int8 *)(a7 + 120));
LABEL_126:
      if (v174)
        heap_Free(*(_QWORD **)(a3 + 8), (uint64_t)v174);
      return info_from_dct;
    }
    if (!(v178 ^ 0x47494643 | v179))
    {
      LODWORD(info_from_dct) = 0;
      v29 = v176;
      *(_WORD *)(a7 + 10) = *v176;
      *(_WORD *)(a7 + 12) = v29[1];
      *(_WORD *)(a7 + 14) = v29[2];
      goto LABEL_64;
    }
    if (!(v178 ^ 0x45535453 | v179))
    {
      v30 = v176;
      v31 = (unsigned __int16)*v176;
      *(_WORD *)(a7 + 40) = v31;
      v32 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a7 + 8), 1, (8 * v31) | 1);
      *(_QWORD *)(a7 + 32) = v32;
      if (!v32)
        goto LABEL_74;
      if (*(_WORD *)(a7 + 40))
      {
        v37 = 0;
        v38 = 0;
        v39 = 2;
        do
        {
          *(_DWORD *)(*(_QWORD *)(a7 + 32) + v37) = *(_DWORD *)((char *)v30 + v39);
          v40 = v39 + 4;
          *(_DWORD *)(*(_QWORD *)(a7 + 32) + v37 + 4) = *(_DWORD *)((char *)v30 + v40);
          v39 = v40 + 4;
          ++v38;
          v37 += 8;
        }
        while (v38 < *(unsigned __int16 *)(a7 + 40));
      }
LABEL_21:
      LODWORD(info_from_dct) = 0;
      goto LABEL_64;
    }
    if (!(v178 ^ 0x47415452 | v179))
      break;
    if (!(v178 ^ 0x4754524D | v179))
    {
      v47 = (uint64_t)v176;
      v48 = (unsigned __int16)*v176;
      *(_WORD *)(a7 + 72) = v48;
      LODWORD(v181) = 2;
      v49 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a7 + 8), 1, (32 * v48) | 1);
      *(_QWORD *)(a7 + 64) = v49;
      if (!v49)
        goto LABEL_74;
      if (*(_WORD *)(a7 + 72))
      {
        v50 = 0;
        v51 = 0;
        while (1)
        {
          v52 = v181;
          *(_DWORD *)(*(_QWORD *)(a7 + 64) + v50) = *(_DWORD *)(v47 + v181);
          LODWORD(v181) = v52 + 4;
          BrokerString_0 = readRULE_0(*(_QWORD *)a7, v47, (unsigned int *)&v181, (uint64_t *)(*(_QWORD *)(a7 + 64) + v50 + 8));
          if ((BrokerString_0 & 0x80000000) != 0)
            return BrokerString_0;
          ++v51;
          v50 += 32;
          if (v51 >= *(unsigned __int16 *)(a7 + 72))
            goto LABEL_33;
        }
      }
      goto LABEL_33;
    }
    if (v178 ^ 0x5053494C | v179)
    {
      if (!(v178 ^ 0x58474552 | v179))
      {
        v59 = v180;
        v60 = v176;
        *(_QWORD *)&v181 = v176;
        v61 = *(_DWORD *)v176;
        *(_DWORD *)(a7 + 208) = *(_DWORD *)v176;
        if (v61)
        {
          v62 = (*((_DWORD *)v60 + 1) + 8);
          *(_QWORD *)(a7 + 216) = (char *)v60 + v62;
          v63 = (v62 + v61);
        }
        else
        {
          v63 = 4;
        }
        v69 = *(unsigned __int16 *)((char *)v60 + v63);
        *(_WORD *)(a7 + 232) = v69;
        v70 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a7 + 8), 1, (4 * v69) | 1);
        *(_QWORD *)(a7 + 224) = v70;
        if (!v70)
          goto LABEL_74;
        if (*(_WORD *)(a7 + 232))
        {
          v72 = 0;
          v73 = v63 + 2;
          do
          {
            *(_DWORD *)(*(_QWORD *)(a7 + 224) + 4 * v72) = *(_DWORD *)((char *)v60 + v73);
            v73 += 4;
            ++v72;
          }
          while (v72 < *(unsigned __int16 *)(a7 + 232));
        }
        v74 = (uint64_t)v59;
        v75 = (uint64_t *)(a7 + 240);
        goto LABEL_63;
      }
      if (!(v178 ^ 0x53525453 | v179))
      {
        v64 = v180;
        v65 = v176;
        *(_QWORD *)&v181 = v176;
        v66 = *(_DWORD *)v176;
        *(_DWORD *)(a7 + 288) = *(_DWORD *)v176;
        if (v66)
        {
          v67 = (*((_DWORD *)v65 + 1) + 8);
          *(_QWORD *)(a7 + 296) = (char *)v65 + v67;
          v68 = (v67 + v66);
        }
        else
        {
          v68 = 4;
        }
        v76 = *(unsigned __int16 *)((char *)v65 + v68);
        *(_WORD *)(a7 + 312) = v76;
        v77 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a7 + 8), 1, (4 * v76) | 1);
        *(_QWORD *)(a7 + 304) = v77;
        if (!v77)
          goto LABEL_74;
        if (*(_WORD *)(a7 + 312))
        {
          v78 = 0;
          v79 = v68 + 2;
          do
          {
            *(_DWORD *)(*(_QWORD *)(a7 + 304) + 4 * v78) = *(_DWORD *)((char *)v65 + v79);
            v79 += 4;
            ++v78;
          }
          while (v78 < *(unsigned __int16 *)(a7 + 312));
        }
        v74 = (uint64_t)v64;
        v75 = (uint64_t *)(a7 + 328);
        goto LABEL_63;
      }
      if (!(v178 ^ 0x54534552 | v179))
      {
        v24 = v180;
        v25 = v176;
        *(_QWORD *)&v181 = v176;
        v26 = *(_DWORD *)v176;
        *(_DWORD *)(a7 + 248) = *(_DWORD *)v176;
        if (v26)
        {
          v27 = (*((_DWORD *)v25 + 1) + 8);
          *(_QWORD *)(a7 + 256) = (char *)v25 + v27;
          v28 = (v27 + v26);
        }
        else
        {
          v28 = 4;
        }
        v80 = *(unsigned __int16 *)((char *)v25 + v28);
        *(_WORD *)(a7 + 272) = v80;
        v81 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a7 + 8), 1, (4 * v80) | 1);
        *(_QWORD *)(a7 + 264) = v81;
        if (!v81)
          goto LABEL_74;
        if (*(_WORD *)(a7 + 272))
        {
          v82 = 0;
          v83 = v28 + 2;
          do
          {
            *(_DWORD *)(*(_QWORD *)(a7 + 264) + 4 * v82) = *(_DWORD *)((char *)v25 + v83);
            v83 += 4;
            ++v82;
          }
          while (v82 < *(unsigned __int16 *)(a7 + 272));
        }
        v74 = (uint64_t)v24;
        v75 = (uint64_t *)(a7 + 280);
LABEL_63:
        info_from_dct = ssftriff_reader_DetachChunkData(v74, v75, &v181, v71, v33, v34, v35, v36);
        if ((info_from_dct & 0x80000000) != 0)
          return info_from_dct;
      }
    }
    else
    {
      v53 = v176;
      v54 = (unsigned __int16)*v176;
      *(_WORD *)(a7 + 104) = v54;
      if (!v54)
        goto LABEL_21;
      v55 = *(_QWORD **)(*(_QWORD *)a7 + 8);
      *(_QWORD *)&v181 = ssftmap_ElemCopyString;
      *((_QWORD *)&v181 + 1) = ssftmap_ElemFreeString;
      v182 = ssftmap_ElemCompareKeysString;
      v183 = loc_CopyValue;
      v184 = loc_FreeValue;
      info_from_dct = ssftmap_ObjOpen(v55, 0, &v181, (uint64_t *)(a7 + 112));
      if ((info_from_dct & 0x80000000) != 0)
        return info_from_dct;
      v56 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a7 + 8), 1, (4 * *(unsigned __int16 *)(a7 + 104)) | 1);
      *(_QWORD *)(a7 + 96) = v56;
      if (!v56)
      {
LABEL_74:
        info_from_dct = 2313166858;
        log_OutPublic(*(_QWORD *)(*(_QWORD *)a7 + 32), (uint64_t)"FE_POS", 35000, 0, v33, v34, v35, v36, v170);
        return info_from_dct;
      }
      if (*(_WORD *)(a7 + 104))
      {
        v57 = 0;
        v58 = 1;
        do
        {
          *(_DWORD *)(*(_QWORD *)(a7 + 96) + 4 * v57) = *(_DWORD *)&v53[v58];
          v58 += 2;
          ++v57;
        }
        while (v57 < *(unsigned __int16 *)(a7 + 104));
      }
    }
LABEL_64:
    v84 = ssftriff_reader_CloseChunk((uint64_t)v180);
    if (v84 < 0)
      LODWORD(info_from_dct) = v84;
    if ((info_from_dct & 0x80000000) != 0)
      goto LABEL_67;
  }
  v41 = (uint64_t)v176;
  v42 = (unsigned __int16)*v176;
  *(_WORD *)(a7 + 56) = v42;
  LODWORD(v181) = 2;
  v43 = heap_Calloc(*(_QWORD **)(*(_QWORD *)a7 + 8), 1, (32 * v42) | 1);
  *(_QWORD *)(a7 + 48) = v43;
  if (!v43)
    goto LABEL_74;
  if (!*(_WORD *)(a7 + 56))
  {
LABEL_33:
    LODWORD(info_from_dct) = 0;
    goto LABEL_64;
  }
  v44 = 0;
  v45 = 0;
  while (1)
  {
    v46 = v181;
    *(_DWORD *)(*(_QWORD *)(a7 + 48) + v44) = *(_DWORD *)(v41 + v181);
    LODWORD(v181) = v46 + 4;
    BrokerString_0 = readRULE_0(*(_QWORD *)a7, v41, (unsigned int *)&v181, (uint64_t *)(*(_QWORD *)(a7 + 48) + v44 + 8));
    if ((BrokerString_0 & 0x80000000) != 0)
      return BrokerString_0;
    ++v45;
    v44 += 32;
    if (v45 >= *(unsigned __int16 *)(a7 + 56))
      goto LABEL_33;
  }
}

uint64_t statpos_getStrSettingAsNumber(uint64_t a1, char *__s1, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  unsigned int *v13;

  v10 = *(unsigned __int16 *)(a1 + 40);
  if (*(_WORD *)(a1 + 40))
  {
    v11 = *(_QWORD *)(a1 + 296);
    v12 = *(_QWORD *)(a1 + 304);
    v13 = (unsigned int *)(*(_QWORD *)(a1 + 32) + 4);
    while (strcmp(__s1, (const char *)(v11 + *(unsigned int *)(v12 + 4 * *(v13 - 1)))))
    {
      v13 += 2;
      if (!--v10)
        goto LABEL_5;
    }
    return atoi((const char *)(v11 + *(unsigned int *)(v12 + 4 * *v13)));
  }
  else
  {
LABEL_5:
    log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"Warning : key=%s not defined, setting to 0", a6, a7, a8, (uint64_t)__s1);
    return 0;
  }
}

uint64_t statpos_format_POI_param(uint64_t a1, char *__s, char **a3)
{
  size_t v6;
  char *v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  char *v12;
  uint64_t v13;
  int v14;
  uint64_t v15;
  uint64_t result;
  unsigned int v17;

  v6 = strlen(__s);
  v7 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, v6 + 3);
  if (v7)
  {
    v12 = v7;
    if (v6)
    {
      v13 = 0;
      *(_WORD *)v7 = 44;
      v14 = 1;
      while ((_WORD)v14)
      {
        v15 = (unsigned __int16)v14;
        if (v7[(unsigned __int16)v14 - 1] != 44 || __s[v13] != 44)
          goto LABEL_9;
        --v14;
LABEL_10:
        ++v13;
        ++v14;
        if (v6 <= (unsigned __int16)v13)
        {
          v7[(unsigned __int16)v14] = 0;
          *(_WORD *)&v7[strlen(v7)] = 44;
          goto LABEL_14;
        }
      }
      v15 = 0;
LABEL_9:
      v7[v15] = __s[v13];
      goto LABEL_10;
    }
    *v7 = 0;
LABEL_14:
    result = 0;
    *a3 = v12;
  }
  else
  {
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v8, v9, v10, v11, v17);
    return 2313166858;
  }
  return result;
}

uint64_t readRULE_0(uint64_t a1, uint64_t a2, unsigned int *a3, uint64_t *a4)
{
  uint64_t result;

  result = readCONTEXT_1(a1, a2, a3, a4);
  if ((result & 0x80000000) == 0)
  {
    result = readCONTEXT_1(a1, a2, a3, a4 + 1);
    if ((result & 0x80000000) == 0)
      return readCONTEXT_1(a1, a2, a3, a4 + 2);
  }
  return result;
}

uint64_t readCONTEXT_1(uint64_t a1, uint64_t a2, unsigned int *a3, uint64_t *a4)
{
  uint64_t v4;
  uint64_t v5;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  unint64_t v18;
  unsigned int v19;
  unsigned int v20;
  unsigned int v21;
  unsigned int v22;
  uint64_t v23;
  unsigned int v25;

  v4 = *a3;
  v5 = *(unsigned __int16 *)(a2 + v4);
  *a3 = v4 + 2;
  if (!v5)
    return 0;
  v10 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 17);
  if (v10
    && (v15 = v10,
        *(_WORD *)(v10 + 8) = v5,
        v16 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, (6 * v5) | 1),
        (*(_QWORD *)v15 = v16) != 0))
  {
    if (*(_WORD *)(v15 + 8))
    {
      v17 = 0;
      v18 = 0;
      v19 = *a3;
      do
      {
        *(_WORD *)(v16 + v17) = *(_WORD *)(a2 + v19);
        v20 = *a3 + 2;
        *a3 = v20;
        *(_WORD *)(*(_QWORD *)v15 + v17 + 2) = *(_WORD *)(a2 + v20);
        v21 = *a3;
        v22 = *a3 + 2;
        *a3 = v22;
        LOBYTE(v22) = *(_BYTE *)(a2 + v22);
        v19 = v21 + 4;
        *a3 = v19;
        v16 = *(_QWORD *)v15;
        *(_BYTE *)(*(_QWORD *)v15 + v17 + 4) = v22;
        ++v18;
        v17 += 6;
      }
      while (v18 < *(unsigned __int16 *)(v15 + 8));
    }
    v23 = 0;
    *a4 = v15;
  }
  else
  {
    v23 = 2313166858;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v11, v12, v13, v14, v25);
  }
  return v23;
}

uint64_t _statpos_char_check(const char *a1, const char *a2, unsigned int a3)
{
  int v6;
  int v7;
  int v8;
  const char *v9;
  size_t v10;

  v6 = strlen(a1);
  v7 = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)a1, v6);
  if (!v7)
    return 0;
  v8 = 0;
  while (1)
  {
    v9 = &a1[(unsigned __int16)v8];
    v10 = (unsigned __int16)utf8_determineUTF8CharLength(*(unsigned __int8 *)v9);
    if (v10 >= a3 && !strncmp(&a1[(unsigned __int16)v8], a2, v10))
      break;
    v8 += utf8_determineUTF8CharLength(*(unsigned __int8 *)v9);
    if (!--v7)
      return 0;
  }
  return 1;
}

uint64_t statpos_fv_new(uint64_t a1, unsigned int a2, uint64_t *a3)
{
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  _WORD *v12;
  uint64_t v13;
  uint64_t v14;
  unsigned int v16;

  v6 = heap_Calloc(*(_QWORD **)(a1 + 8), 1, 16 * a2);
  *a3 = v6;
  if (!v6)
  {
LABEL_7:
    v14 = 2313166858;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v7, v8, v9, v10, v16);
    return v14;
  }
  *((_DWORD *)a3 + 3) = a2;
  if (a2)
  {
    v11 = 0;
    do
    {
      v12 = (_WORD *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 65);
      v13 = *a3;
      *(_QWORD *)(*a3 + v11) = v12;
      if (!v12)
        goto LABEL_7;
      *(_DWORD *)(v13 + v11 + 8) = 65;
      *v12 = 61;
      v11 += 16;
    }
    while (16 * a2 != v11);
  }
  v14 = 0;
  *((_DWORD *)a3 + 2) = a2;
  return v14;
}

uint64_t statpos_fv_clear(uint64_t a1)
{
  uint64_t v1;
  unint64_t v2;

  if (*(_DWORD *)(a1 + 8))
  {
    v1 = 0;
    v2 = 0;
    do
    {
      **(_WORD **)(*(_QWORD *)a1 + v1) = 61;
      ++v2;
      v1 += 16;
    }
    while (v2 < *(unsigned int *)(a1 + 8));
  }
  return 0;
}

uint64_t statpos_fv_add(uint64_t a1, _QWORD *a2, unsigned int a3, char *__s, char *a5, uint64_t a6)
{
  unsigned int v10;
  unsigned __int16 v11;
  unsigned __int16 v12;
  uint64_t v13;
  const char *v14;
  size_t v15;
  uint64_t v16;
  char *v17;
  char *v18;
  char *v19;
  unsigned __int16 v20;
  unsigned __int16 v21;
  unsigned int v22;
  unint64_t v23;
  char *v24;
  unsigned int v25;
  uint64_t v26;
  char *v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unsigned int v35;

  if (a6)
  {
    v10 = *(_DWORD *)(a6 + 1336);
    if (v10)
    {
      v11 = strlen(a5);
      v12 = 0;
      v13 = *(_QWORD *)(a6 + 1328);
      v14 = *(const char **)(*(_QWORD *)(a6 + 1312) + 8 * (unsigned __int16)a3);
      v15 = v11;
      while (1)
      {
        v16 = v12;
        if (!strncmp(*(const char **)(v13 + 16 * v12), v14, v15))
          break;
        v12 = v16 + 1;
        if (v10 <= (unsigned __int16)(v16 + 1))
          goto LABEL_22;
      }
      v17 = *(char **)(v13 + 16 * v16 + 8);
      v18 = strstr(v17, __s);
      if (v18)
      {
        v19 = v18;
        v20 = strlen(__s);
        v21 = strlen(v17);
        v22 = v21;
        v23 = (unint64_t)&v17[v21];
        while (v19 != v17 || v22 != v20 && (v22 <= v20 + 1 || v17[v20] != 32))
        {
          if (v19 > v17)
          {
            v24 = &v19[v20];
            if (v23 > (unint64_t)(v24 + 1) && *v24 == 32)
            {
              if ((char *)v23 == v24 || *(v19 - 1) == 32)
                break;
            }
            else if ((char *)v23 == v24)
            {
              break;
            }
          }
          v19 = strstr(&v19[v20], __s);
          if (!v19)
            goto LABEL_21;
        }
      }
      else
      {
LABEL_21:
        *(_WORD *)__s = 61;
      }
    }
  }
LABEL_22:
  v25 = strlen(__s);
  v26 = *a2 + 16 * a3;
  if (*(_DWORD *)(v26 + 8) > v25)
  {
    v27 = *(char **)v26;
LABEL_26:
    strcpy(v27, __s);
    return 0;
  }
  v28 = v25 + 1;
  v27 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)v26, v28);
  if (v27)
  {
    v33 = *a2 + 16 * a3;
    *(_QWORD *)v33 = v27;
    *(_DWORD *)(v33 + 8) = v28;
    goto LABEL_26;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v29, v30, v31, v32, v35);
  return 2313166858;
}

uint64_t statpos_get_features(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, _QWORD *a7, uint64_t a8)
{
  uint64_t v13;
  uint64_t v14;
  const char *v15;
  char *v16;
  const char *v17;
  uint64_t result;

  if (a6)
  {
    v13 = 0;
    v14 = a6;
    while (2)
    {
      v15 = *(const char **)(a5 + 8 * v13);
      v16 = &byte_1EA938260;
      v17 = "PREVPOS";
      while (strcmp(v15, v17))
      {
        v17 = (const char *)*((_QWORD *)v16 + 1);
        v16 += 24;
        if (!v17)
          goto LABEL_9;
      }
      result = (*((uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t, _QWORD, _QWORD))v16 - 1))(a1, a2, a3, a4, *v16, *(_QWORD *)(a2 + 128));
      if ((result & 0x80000000) != 0)
        return result;
      result = statpos_fv_add(a1, a7, v13, *(char **)(a2 + 128), *(char **)(a5 + 8 * v13), a8);
      if ((result & 0x80000000) != 0)
        return result;
LABEL_9:
      if (++v13 != v14)
        continue;
      break;
    }
  }
  return 0;
}

uint64_t statpos_dumpFeatureVectorAndResult(uint64_t a1, int a2, const char **a3, _WORD *a4, char *__s, char *a6, uint64_t a7, _QWORD *a8, char *a9, int a10, char *a11, char *__s1)
{
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  char *v24;

  if (!a2)
    return 0;
  v18 = statcomp_add2Str(a1, a3, a4, __s);
  if ((v18 & 0x80000000) != 0)
    return v18;
  v18 = statcomp_add2Str(a1, a3, a4, " ");
  if ((v18 & 0x80000000) != 0)
    return v18;
  v18 = statcomp_add2Str(a1, a3, a4, a6);
  if ((v18 & 0x80000000) != 0)
    return v18;
  v18 = statcomp_add2Str(a1, a3, a4, " ");
  if ((v18 & 0x80000000) != 0)
    return v18;
  if (*(unsigned __int8 *)(a7 + 1296) >= 2u)
  {
    v19 = 0;
    do
    {
      v18 = statcomp_add2Str(a1, a3, a4, *(char **)(*a8 + 16 * v19));
      if ((v18 & 0x80000000) != 0)
        return v18;
      v18 = statcomp_add2Str(a1, a3, a4, " ");
      if ((v18 & 0x80000000) != 0)
        return v18;
    }
    while (*(unsigned __int8 *)(a7 + 1296) - 1 > (unsigned __int16)++v19);
  }
  if (!a11)
  {
    v18 = statcomp_add2Str(a1, a3, a4, "PRED=");
    if ((v18 & 0x80000000) == 0)
    {
      v18 = statcomp_add2Str(a1, a3, a4, a9);
      if ((v18 & 0x80000000) == 0)
      {
        v24 = " ";
LABEL_26:
        v20 = statcomp_add2Str(a1, a3, a4, v24);
        if ((v20 & 0x80000000) != 0)
          return v20;
        goto LABEL_27;
      }
    }
    return v18;
  }
  v18 = statcomp_add2Str(a1, a3, a4, "REF=");
  if ((v18 & 0x80000000) != 0)
    return v18;
  v18 = statcomp_add2Str(a1, a3, a4, a11);
  if ((v18 & 0x80000000) != 0)
    return v18;
  v18 = statcomp_add2Str(a1, a3, a4, " ");
  if ((v18 & 0x80000000) != 0)
    return v18;
  v18 = statcomp_add2Str(a1, a3, a4, "PRED=");
  if ((v18 & 0x80000000) != 0)
    return v18;
  v18 = statcomp_add2Str(a1, a3, a4, a9);
  if ((v18 & 0x80000000) != 0)
    return v18;
  v20 = statcomp_add2Str(a1, a3, a4, " ");
  if ((v20 & 0x80000000) != 0)
    return v20;
  if (strcmp(a11, a9) && (!__s1 || strcmp(__s1, a9)))
  {
    v24 = "*TAGERROR ";
    goto LABEL_26;
  }
LABEL_27:
  if (a10 || (v20 = statcomp_add2Str(a1, a3, a4, "*BADTAG "), (v20 & 0x80000000) == 0))
  {
    log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 5, 0, (uint64_t)"%s", v21, v22, v23, (uint64_t)*a3);
    **a3 = 0;
  }
  return v20;
}

uint64_t initFeatureVector(uint64_t a1, _QWORD *a2, unsigned int a3)
{
  uint64_t v5;
  _WORD *v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  unsigned int v12;

  if (!a3)
    return 0;
  v5 = a3;
  while (1)
  {
    v6 = (_WORD *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 65);
    *a2 = v6;
    if (!v6)
      break;
    *v6 = 61;
    ++a2;
    if (!--v5)
      return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v7, v8, v9, v10, v12);
  return 2313166858;
}

_WORD **clearFeatureVector(_WORD **result, unsigned int a2)
{
  uint64_t v2;
  _WORD *v3;

  if (a2)
  {
    v2 = a2;
    do
    {
      v3 = *result++;
      *v3 = 61;
      --v2;
    }
    while (v2);
  }
  return result;
}

_QWORD *freeFeatureVector(_QWORD *result, uint64_t *a2, unsigned int a3)
{
  _QWORD *v4;
  uint64_t v5;

  if (a3)
  {
    v4 = result;
    v5 = a3;
    do
    {
      if (*a2)
      {
        result = heap_Free((_QWORD *)v4[1], *a2);
        *a2 = 0;
      }
      ++a2;
      --v5;
    }
    while (v5);
  }
  return result;
}

uint64_t statpos_get_features_for_igtree(uint64_t a1, uint64_t a2, uint64_t a3)
{
  unsigned __int8 v6;
  uint64_t v7;
  uint64_t v8;
  const char *v9;
  size_t v10;
  char *v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unsigned int v17;

  if (!*(_DWORD *)(a3 + 8))
    return 0;
  v6 = 0;
  while (1)
  {
    v7 = v6;
    v8 = 16 * v6;
    v9 = *(const char **)(*(_QWORD *)a3 + v8);
    v10 = strlen(v9);
    if (v10 <= 0x40)
    {
      v11 = *(char **)(a2 + 8 * v7);
      goto LABEL_7;
    }
    v11 = (char *)heap_Realloc(*(uint64_t **)(a1 + 8), *(_QWORD *)(a2 + 8 * v7), (unsigned __int16)v10 + 1);
    if (!v11)
      break;
    *(_QWORD *)(a2 + 8 * v7) = v11;
    v9 = *(const char **)(*(_QWORD *)a3 + v8);
LABEL_7:
    strcpy(v11, v9);
    v6 = v7 + 1;
    if (*(_DWORD *)(a3 + 8) <= (v7 + 1))
      return 0;
  }
  log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_POS", 35000, 0, v12, v13, v14, v15, v17);
  return 2313166858;
}

uint64_t statpos_fe_prdctd_pos(int a1, uint64_t a2, int a3, int a4, int a5, char *__dst)
{
  unsigned int v6;
  __int16 v7;

  v6 = a5 + a4;
  if (a5 + a4 == -1)
  {
    __dst[2] = 0;
    v7 = 16979;
    goto LABEL_7;
  }
  if ((v6 & 0x80000000) != 0 || v6 >= *(unsigned __int16 *)(a2 + 8))
  {
    v7 = 61;
LABEL_7:
    *(_WORD *)__dst = v7;
    return 0;
  }
  strcpy(__dst, *(const char **)(*(_QWORD *)a2 + 160 * v6 + 88));
  return 0;
}

uint64_t statpos_fe_pssbl_tags(int a1, uint64_t a2, uint64_t a3, int a4, int a5, char *__dst)
{
  unsigned int v7;
  const char *v9;
  char *v11;
  char *v12;
  char *v13;
  char *v14;
  const char **v15;
  char *v16;
  unint64_t v18;
  unint64_t v19;
  const char **v20;
  char *v21;
  const char *v22;
  unsigned __int16 v23;
  char *v24;
  char __s2[8];
  char __s[32];
  uint64_t v27;

  v27 = *MEMORY[0x1E0C80C00];
  v7 = a5 + a4;
  if (a5 + a4 >= 0
    && (v9 = *(const char **)(*(_QWORD *)a2 + 160 * (int)v7 + 80)) != 0
    && v7 < *(unsigned __int16 *)(a2 + 8))
  {
    if (*(_QWORD *)(a3 + 144))
    {
      v24 = 0;
      v23 = 0;
      v11 = __s;
      __strcpy_chk();
      __s2[0] = *(_BYTE *)(a3 + 120);
      __s2[1] = 0;
      v12 = strchr(__s, 47);
      if (v12)
      {
        v13 = v12;
        v11 = __s;
        do
        {
          *v13 = 0;
          if ((ssftmap_FindReadOnly(*(_QWORD *)(a3 + 144), (uint64_t)v11, &v24) & 0x1FFF) == 0x14)
            v14 = v11;
          else
            v14 = v24;
          statpos_getPOSTags(v14, (const char **)(a3 + 384), &v23);
          v11 = v13 + 1;
          v13 = strchr(v13 + 1, 47);
        }
        while (v13);
      }
      if ((ssftmap_FindReadOnly(*(_QWORD *)(a3 + 144), (uint64_t)v11, &v24) & 0x1FFF) == 0x14)
      {
        v15 = (const char **)(a3 + 384);
        v16 = v11;
      }
      else
      {
        v16 = v24;
        v15 = (const char **)(a3 + 384);
      }
      statpos_getPOSTags(v16, v15, &v23);
      v18 = v23;
      ssft_qsort(a3 + 384, v23, 8, (uint64_t (*)(unint64_t, unint64_t))string_cmp_0);
      strcpy(__dst, *(const char **)(a3 + 384));
      if (v18 >= 2)
      {
        v19 = v18 - 1;
        v20 = (const char **)(a3 + 392);
        do
        {
          v21 = strcat(__dst, __s2);
          v22 = *v20++;
          strcat(v21, v22);
          --v19;
        }
        while (v19);
      }
    }
    else
    {
      strcpy(__dst, v9);
    }
  }
  else
  {
    *(_WORD *)__dst = 61;
  }
  return 0;
}

uint64_t statpos_fe_word(int a1, uint64_t a2, int a3, int a4, int a5, char *__dst)
{
  unsigned int v6;

  v6 = a5 + a4;
  if (a5 + a4 < 0 || v6 >= *(unsigned __int16 *)(a2 + 8))
    *(_WORD *)__dst = 61;
  else
    strcpy(__dst, **(const char ***)(*(_QWORD *)a2 + 160 * v6 + 48));
  return 0;
}

uint64_t statpos_fe_cword(int a1, uint64_t *a2, int a3, int a4, int a5, char *__dst)
{
  unsigned int v6;
  uint64_t v7;
  const char *v8;

  v6 = a5 + a4;
  if (a5 + a4 < 0 || v6 >= *((unsigned __int16 *)a2 + 4))
  {
    *(_WORD *)__dst = 61;
  }
  else
  {
    v7 = *a2;
    v8 = *(const char **)(*a2 + 160 * v6 + 120);
    if (!v8)
      v8 = **(const char ***)(v7 + 160 * v6 + 48);
    strcpy(__dst, v8);
  }
  return 0;
}

uint64_t statpos_fe_token(int a1, uint64_t a2, int a3, int a4, int a5, char *__dst)
{
  unsigned int v6;
  const char *v7;

  v6 = a5 + a4;
  if (a5 + a4 >= 0
    && v6 < *(unsigned __int16 *)(a2 + 8)
    && (v7 = *(const char **)(*(_QWORD *)(*(_QWORD *)a2 + 160 * v6 + 48) + 16)) != 0)
  {
    strcpy(__dst, v7);
  }
  else
  {
    *(_WORD *)__dst = 61;
  }
  return 0;
}

uint64_t statpos_fe_ends_in_aposs(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  unsigned int v7;
  const char *v8;
  size_t v9;
  const char *v10;

  v7 = a5 + a4;
  if (a5 + a4 < 0 || v7 >= *(unsigned __int16 *)(a2 + 8))
  {
    v10 = "=";
  }
  else
  {
    v8 = **(const char ***)(*(_QWORD *)a2 + 160 * v7 + 48);
    v9 = strlen(v8);
    if (v9 >= 3 && !strcmp("'s", &v8[v9 - 2]))
      v10 = "1";
    else
      v10 = "0";
  }
  *a6 = *(_WORD *)v10;
  return 0;
}

uint64_t statpos_fe_wrd_len(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, char *a6)
{
  unsigned int v7;
  int v8;

  v7 = a5 + a4;
  if (a5 + a4 < 0 || v7 >= *(unsigned __int16 *)(a2 + 8))
  {
    *(_WORD *)a6 = 61;
  }
  else
  {
    v8 = Utf8_Utf8NbrOfSymbols(**(const char ***)(*(_QWORD *)a2 + 160 * v7 + 48));
    sprintf(a6, "%d", v8 - 1);
  }
  return 0;
}

uint64_t statpos_fe_prefix(uint64_t a1, _QWORD *a2, uint64_t a3, unsigned int a4, int a5, char *a6)
{
  unsigned __int8 *v8;
  int v9;

  v8 = *(unsigned __int8 **)(*a2 + 160 * a4 + 120);
  if (!v8)
    v8 = **(unsigned __int8 ***)(*a2 + 160 * a4 + 48);
  if (a5 >= (unsigned __int16)(Utf8_Utf8NbrOfSymbols((const char *)v8) - 1))
  {
    *(_WORD *)a6 = 61;
  }
  else
  {
    v9 = Utf8_LengthInBytes(v8, a5);
    strncpy(a6, (const char *)v8, v9);
    a6[v9] = 0;
  }
  return 0;
}

uint64_t statpos_fe_suffix(uint64_t a1, _QWORD *a2, uint64_t a3, unsigned int a4, int a5, char *a6)
{
  char *v8;
  int v9;
  int v10;

  v8 = *(char **)(*a2 + 160 * a4 + 120);
  if (!v8)
    v8 = **(char ***)(*a2 + 160 * a4 + 48);
  v9 = (unsigned __int16)(Utf8_Utf8NbrOfSymbols(v8) - 1);
  if (v9 <= a5)
  {
    *(_WORD *)a6 = 61;
  }
  else
  {
    v10 = Utf8_LengthInBytes((unsigned __int8 *)v8, v9 - a5);
    strcpy(a6, &v8[v10]);
  }
  return 0;
}

uint64_t statpos_fe_fllw_by_punc(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  unsigned int v7;
  char *v9;
  int v10;
  int v11;
  const char *v12;
  unsigned int v13;
  const char *v14;

  v7 = a5 + a4;
  if (a5 + a4 < 0 || v7 >= *(unsigned __int16 *)(a2 + 8))
  {
    v14 = "=";
  }
  else
  {
    v9 = **(char ***)(*(_QWORD *)a2 + 160 * v7 + 48);
    v10 = Utf8_Utf8NbrOfSymbols(v9);
    v11 = Utf8_LengthInBytes((unsigned __int8 *)v9, v10 - 2);
    if ((v10 - 3) <= 0xFFFFFFFD
      && (v12 = &v9[v11], v13 = strlen(v12), _statpos_char_check(*(const char **)(a3 + 168), v12, v13)))
    {
      v14 = "1";
    }
    else
    {
      v14 = "0";
    }
  }
  *a6 = *(_WORD *)v14;
  return 0;
}

uint64_t statpos_fe_fllw_by_termpunc(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  unsigned int v7;
  char *v9;
  int v10;
  int v11;
  const char *v12;
  unsigned int v13;
  const char *v14;

  v7 = a5 + a4;
  if (a5 + a4 < 0 || v7 >= *(unsigned __int16 *)(a2 + 8))
  {
    v14 = "=";
  }
  else
  {
    v9 = **(char ***)(*(_QWORD *)a2 + 160 * v7 + 48);
    v10 = Utf8_Utf8NbrOfSymbols(v9);
    v11 = Utf8_LengthInBytes((unsigned __int8 *)v9, v10 - 2);
    if ((v10 - 3) <= 0xFFFFFFFD
      && (v12 = &v9[v11], v13 = strlen(v12), _statpos_char_check(*(const char **)(a3 + 176), v12, v13)))
    {
      v14 = "1";
    }
    else
    {
      v14 = "0";
    }
  }
  *a6 = *(_WORD *)v14;
  return 0;
}

uint64_t statpos_fe_has_hyphen(uint64_t a1, _QWORD *a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  const char *v8;
  unsigned int v9;
  int v10;
  unsigned int v11;

  *a6 = 48;
  v8 = **(const char ***)(*a2 + 160 * (a5 + a4) + 48);
  v9 = Utf8_Utf8NbrOfSymbols(v8) - 1;
  if (v9 >= 2)
  {
    v10 = 0;
    while (1)
    {
      v11 = utf8_determineUTF8CharLength(v8[v10]);
      if (_statpos_char_check(*(const char **)(a3 + 160), &v8[v10], v11))
        break;
      v10 += v11;
      if (!--v9)
        return 0;
    }
    *a6 = 49;
  }
  return 0;
}

uint64_t statpos_fe_allupper(uint64_t a1, _QWORD *a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  char *v7;
  int v8;
  int v9;
  unsigned int v10;
  unsigned int v11;

  *a6 = 49;
  v7 = **(char ***)(*a2 + 160 * (a5 + a4) + 48);
  v8 = Utf8_Utf8NbrOfSymbols(v7);
  v9 = v8 - 1;
  if (v8 != 1)
  {
    v10 = 0;
    while (1)
    {
      v11 = utf8_determineUTF8CharLength(v7[v10]);
      if (utf8_BelongsToSet(0x12u, v7, v10, v11) != 1
        && utf8_BelongsToSet(0x15u, v7, v10, v11) != 1
        && utf8_BelongsToSet(0x18u, v7, v10, v11) != 1
        && utf8_BelongsToSet(0x1Bu, v7, v10, v11) != 1
        && utf8_BelongsToSet(0x1Eu, v7, v10, v11) != 1)
      {
        break;
      }
      v10 += v11;
      if (!--v9)
        return 0;
    }
    *a6 = 48;
  }
  return 0;
}

uint64_t statpos_fe_leadingcap(uint64_t a1, _QWORD *a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  unsigned __int8 **v8;
  _BYTE *v9;
  unsigned int v10;
  unsigned int v11;
  const char *v12;

  v8 = *(unsigned __int8 ***)(*a2 + 160 * (a5 + a4) + 48);
  v9 = *v8;
  v10 = utf8_determineUTF8CharLength(**v8);
  if (a4
    && ((v11 = v10, utf8_BelongsToSet(0x12u, v9, 0, v10) == 1)
     || utf8_BelongsToSet(0x15u, v9, 0, v11) == 1
     || utf8_BelongsToSet(0x18u, v9, 0, v11) == 1
     || utf8_BelongsToSet(0x1Bu, v9, 0, v11) == 1
     || utf8_BelongsToSet(0x1Eu, v9, 0, v11) == 1))
  {
    v12 = "1";
  }
  else
  {
    v12 = "0";
  }
  *a6 = *(_WORD *)v12;
  return 0;
}

uint64_t statpos_fe_single_char(uint64_t a1, _QWORD *a2, uint64_t a3, int a4, int a5, __int16 *a6)
{
  __int16 v7;

  if (Utf8_Utf8NbrOfSymbols(**(const char ***)(*a2 + 160 * (a5 + a4) + 48)) == 2)
    v7 = 49;
  else
    v7 = 48;
  *a6 = v7;
  return 0;
}

uint64_t statpos_fe_contains_digit(uint64_t a1, _QWORD *a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  char *v7;
  int v8;
  int v9;
  unsigned int v10;
  unsigned int v11;

  *a6 = 48;
  v7 = **(char ***)(*a2 + 160 * (a5 + a4) + 48);
  v8 = Utf8_Utf8NbrOfSymbols(v7);
  v9 = v8 - 1;
  if (v8 != 1)
  {
    v10 = 0;
    while (1)
    {
      v11 = utf8_determineUTF8CharLength(v7[v10]);
      if (utf8_BelongsToSet(6u, v7, v10, v11) == 1)
        break;
      v10 += v11;
      if (!--v9)
        return 0;
    }
    *a6 = 49;
  }
  return 0;
}

uint64_t statpos_fe_hphn_wrd(uint64_t a1, _QWORD *a2, uint64_t a3, unsigned int a4, int a5, char *a6)
{
  const char *v9;
  int v10;
  int v11;
  int v12;
  unsigned int v13;
  unsigned int v14;
  unsigned int v15;
  int v16;
  unsigned int v17;
  int v18;
  unsigned int v19;
  size_t v20;
  unsigned int v22;
  const char *v23;
  unsigned int v24;
  int v25;
  char *__dst;

  v9 = *(const char **)(*a2 + 160 * a4 + 120);
  if (!v9)
    v9 = **(const char ***)(*a2 + 160 * a4 + 48);
  v10 = Utf8_Utf8NbrOfSymbols(v9);
  v11 = v10 - 1;
  if (v10 == 1)
    goto LABEL_20;
  v25 = a5;
  __dst = a6;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = v10 - 1;
  do
  {
    v17 = utf8_determineUTF8CharLength(v9[v15]);
    if (v11 != 1)
    {
      v18 = _statpos_char_check(*(const char **)(a3 + 160), &v9[v15], v17);
      v19 = v14 ? v14 : v15;
      if (v18)
      {
        v14 = v19;
        v13 = v17 + v15;
        v12 = 1;
      }
    }
    v15 += v17;
    --v16;
  }
  while (v16);
  a6 = __dst;
  if (v12 && v14)
  {
    if (v25 == -1)
    {
      v22 = (unsigned __int16)strlen(v9);
      if (v22 - v13 > 0x10)
        v22 = v13 + 16;
      v23 = &v9[v13];
      v24 = v22 - v13;
      strncpy(__dst, v23, v22 - v13);
      __dst[v24] = 0;
    }
    else if (v25 == 1)
    {
      if (v14 >= 0x10)
        v20 = 16;
      else
        v20 = v14;
      strncpy(__dst, v9, v20);
      __dst[v20] = 0;
    }
  }
  else
  {
LABEL_20:
    *(_WORD *)a6 = 61;
  }
  return 0;
}

uint64_t statpos_fe_char(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4, int a5, _BYTE *a6)
{
  int v7;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  char v13;
  int v14;
  unsigned int v15;
  unsigned int v16;
  unsigned __int8 *v17;
  uint64_t v18;
  int v19;

  LOBYTE(v7) = a5;
  if (a5 <= 0)
  {
    v14 = -1;
    if (a5 && a4)
    {
      do
      {
        v15 = a4 + v14;
        LOBYTE(v7) = v7 + Utf8_Utf8NbrOfSymbols(**(const char ***)(*(_QWORD *)a2 + 160 * (a4 + v14--) + 48)) - 1;
      }
      while ((v7 & 0x80) != 0 && ((v15 - 1) & 0x80000000) == 0);
    }
    LODWORD(v10) = v14 + ((v7 & 0x80) == 0);
  }
  else
  {
    v10 = 0;
    v11 = 160 * a4 + 208;
    v12 = a4 + 1;
    while (v12 + v10 < (unint64_t)*(unsigned __int16 *)(a2 + 8))
    {
      v13 = Utf8_Utf8NbrOfSymbols(**(const char ***)(*(_QWORD *)a2 + v11));
      v7 = (char)(v7 - v13 + 1);
      ++v10;
      v11 += 160;
      if (v7 <= 0)
      {
        LOBYTE(v7) = v13 + v7 - 2;
        goto LABEL_12;
      }
    }
    LODWORD(v10) = v10 + 1;
  }
LABEL_12:
  v16 = v10 + a4;
  if ((int)(v10 + a4) < 0 || v16 >= *(unsigned __int16 *)(a2 + 8))
  {
    *(_WORD *)a6 = 61;
  }
  else
  {
    v17 = **(unsigned __int8 ***)(*(_QWORD *)a2 + 160 * v16 + 48);
    v18 = (unsigned __int16)Utf8_LengthInBytes(v17, (char)v7);
    v19 = strlen((const char *)v17) - v18;
    if (v19 >= (int)Utf8_LengthInBytes(&v17[v18], 1))
      utf8_getUTF8Char((uint64_t)v17, v18, a6);
  }
  return 0;
}

uint64_t statpos_fe_wrd_prfx1(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, _BYTE *a6)
{
  unsigned int v7;
  const char *v8;

  v7 = a5 + a4;
  if (a5 + a4 >= 0
    && v7 < *(unsigned __int16 *)(a2 + 8)
    && (v8 = **(const char ***)(*(_QWORD *)a2 + 160 * v7 + 48),
        (((unsigned __int16)Utf8_Utf8NbrOfSymbols(v8) - 1) & 0xFFFE) != 0))
  {
    utf8_getUTF8Char((uint64_t)v8, 0, a6);
  }
  else
  {
    *(_WORD *)a6 = 61;
  }
  return 0;
}

uint64_t statpos_fe_wrd_prfx2(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, char *a6)
{
  unsigned int v7;
  unsigned __int8 *v8;
  unsigned int v9;

  v7 = a5 + a4;
  if (a5 + a4 < 0
    || v7 >= *(unsigned __int16 *)(a2 + 8)
    || (v8 = **(unsigned __int8 ***)(*(_QWORD *)a2 + 160 * v7 + 48),
        (unsigned __int16)(Utf8_Utf8NbrOfSymbols((const char *)v8) - 1) < 3u))
  {
    *(_WORD *)a6 = 61;
  }
  else
  {
    v9 = Utf8_LengthInBytes(v8, 2);
    strncpy(a6, (const char *)v8, v9);
    a6[v9] = 0;
  }
  return 0;
}

uint64_t statpos_fe_wrd_sffx1(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, char *a6)
{
  unsigned int v7;
  char *v8;
  unsigned int v9;

  v7 = a5 + a4;
  if (a5 + a4 >= 0
    && v7 < *(unsigned __int16 *)(a2 + 8)
    && (v8 = **(char ***)(*(_QWORD *)a2 + 160 * v7 + 48),
        (((unsigned __int16)Utf8_Utf8NbrOfSymbols(v8) - 1) & 0xFFFE) != 0))
  {
    v9 = strlen(v8);
    utf8_GetUtf8Symbol(v8, v9 - 1, v9, a6);
  }
  else
  {
    *(_WORD *)a6 = 61;
  }
  return 0;
}

uint64_t statpos_fe_wrd_sffx2(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, char *a6)
{
  unsigned int v7;
  unsigned __int8 *v8;
  unsigned int v9;
  int v10;

  v7 = a5 + a4;
  if (a5 + a4 < 0
    || v7 >= *(unsigned __int16 *)(a2 + 8)
    || (v8 = **(unsigned __int8 ***)(*(_QWORD *)a2 + 160 * v7 + 48),
        v9 = (unsigned __int16)(Utf8_Utf8NbrOfSymbols((const char *)v8) - 1),
        v9 < 3))
  {
    *(_WORD *)a6 = 61;
  }
  else
  {
    v10 = Utf8_LengthInBytes(v8, v9 - 2);
    strcpy(a6, (const char *)&v8[v10]);
  }
  return 0;
}

uint64_t statpos_fe_startofword(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  unsigned int v6;
  const char *v7;

  v6 = a5 + a4;
  if (a5 + a4 < 0 || v6 >= *(unsigned __int16 *)(a2 + 8))
  {
    v7 = "=";
  }
  else
  {
    v7 = "1";
    if (v6 && *(_DWORD *)(*(_QWORD *)a2 + 160 * (v6 - 1) + 20) != 1)
      v7 = "0";
  }
  *a6 = *(_WORD *)v7;
  return 0;
}

uint64_t statpos_fe_fllw_by_sp(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, __int16 *a6)
{
  unsigned int v6;
  __int16 v7;

  v6 = a5 + a4;
  if (a5 + a4 < 0 || v6 >= *(unsigned __int16 *)(a2 + 8))
  {
    v7 = 61;
  }
  else if (*(_DWORD *)(*(_QWORD *)a2 + 160 * v6 + 20) == 1)
  {
    v7 = 49;
  }
  else
  {
    v7 = 48;
  }
  *a6 = v7;
  return 0;
}

uint64_t statpos_fe_fllw_by_anypunc(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, _WORD *a6)
{
  unsigned int v7;
  char *v11;
  int v12;
  int v13;
  const char *v14;
  unsigned int v15;
  unsigned int v16;
  const char *v17;

  v7 = a5 + a4;
  if (a5 + a4 < 0 || v7 >= *(unsigned __int16 *)(a2 + 8))
  {
    v17 = "=";
  }
  else
  {
    v11 = **(char ***)(*(_QWORD *)a2 + 160 * v7 + 48);
    v12 = Utf8_Utf8NbrOfSymbols(v11);
    v13 = Utf8_LengthInBytes((unsigned __int8 *)v11, v12 - 2);
    if (a4 + 1 == *(unsigned __int16 *)(a2 + 8)
      || (v12 - 3) <= 0xFFFFFFFD
      && ((v14 = &v11[v13], v15 = strlen(v14), _statpos_char_check(*(const char **)(a3 + 168), v14, v15))
       || (v16 = strlen(v14), _statpos_char_check(*(const char **)(a3 + 176), v14, v16))))
    {
      v17 = "1";
    }
    else
    {
      v17 = "0";
    }
  }
  *a6 = *(_WORD *)v17;
  return 0;
}

uint64_t statpos_fe_cword_ambig(int a1, uint64_t *a2, int a3, int a4, int a5, char *__dst)
{
  unsigned int v6;
  uint64_t v7;
  const char *v8;

  v6 = a5 + a4;
  if (a5 + a4 < 0 || v6 >= *((unsigned __int16 *)a2 + 4))
  {
    *(_WORD *)__dst = 61;
  }
  else
  {
    v7 = *a2;
    if (*(_WORD *)(*a2 + 160 * v6 + 72) == 1)
      v8 = *(const char **)(v7 + 160 * v6 + 80);
    else
      v8 = **(const char ***)(v7 + 160 * v6 + 48);
    strcpy(__dst, v8);
  }
  return 0;
}

char *statpos_getPOSTags(char *a1, const char **a2, unsigned __int16 *a3)
{
  const char *v5;
  char *result;
  char *v7;
  unsigned __int16 v8;
  const char **v9;
  uint64_t v10;
  const char *v11;
  uint64_t v12;
  const char **v13;
  uint64_t i;
  const char *v15;

  v5 = a1;
  result = strchr(a1, 92);
  if (result)
  {
    v7 = result;
    v8 = *a3;
    do
    {
      v9 = a2;
      v10 = v8;
      while (v10)
      {
        v11 = *v9++;
        --v10;
        if (!strncmp(v11, v5, v7 - v5))
          goto LABEL_8;
      }
      strncpy((char *)a2[v8], v5, v7 - v5);
      a2[*a3][v7 - v5] = 0;
      v8 = *a3 + 1;
      *a3 = v8;
LABEL_8:
      v5 = v7 + 1;
      v7 = strchr(v7 + 1, 92);
    }
    while (v7);
  }
  else if (!v5)
  {
    return result;
  }
  v12 = *a3;
  v13 = a2;
  for (i = v12; i; --i)
  {
    v15 = *v13++;
    result = (char *)strcmp(v15, v5);
    if (!(_DWORD)result)
      return result;
  }
  result = strcpy((char *)a2[v12], v5);
  ++*a3;
  return result;
}

uint64_t string_cmp_0(const char **a1, const char **a2)
{
  return strcmp(*a1, *a2);
}

uint64_t statpunc_setFeature(uint64_t a1, uint64_t a2, char *__s1, uint64_t *a4, const char *a5)
{
  unint64_t v5;
  uint64_t v10;
  const char **i;
  size_t v12;
  char *v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t result;
  unsigned int v19;

  v5 = *(unsigned __int8 *)(a1 + 1296);
  if (v5 < 2)
    return 0;
  v10 = (v5 - 1);
  for (i = *(const char ***)(a1 + 1312); strcmp(__s1, *i); ++i)
  {
    ++a4;
    if (!--v10)
      return 0;
  }
  if (!*a5)
  {
    result = 0;
    *(_WORD *)*a4 = 95;
    return result;
  }
  v12 = strlen(a5);
  if (v12 <= 0x40)
  {
    v13 = (char *)*a4;
    goto LABEL_12;
  }
  v13 = (char *)heap_Realloc(*(uint64_t **)(a2 + 8), *a4, (unsigned __int16)v12 + 1);
  if (v13)
  {
    *a4 = (uint64_t)v13;
LABEL_12:
    strcpy(v13, a5);
    return 0;
  }
  log_OutPublic(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PUNCSPTN", 33000, 0, v14, v15, v16, v17, v19);
  return 2311069706;
}

uint64_t statpunc_initFeatureVector(uint64_t a1, uint64_t a2, uint64_t *a3, unsigned int a4)
{
  unint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t result;
  BOOL v15;
  unsigned int v16;

  if (!a4)
    return 0;
  v7 = 0;
  v8 = 8 * a4 - 8;
  while (1)
  {
    if (!a3[v7 / 8])
    {
      v9 = heap_Calloc(*(_QWORD **)(a2 + 8), 1, 65);
      a3[v7 / 8] = v9;
      if (!v9)
        break;
    }
    result = statpunc_setFeature(a1, a2, *(char **)(*(_QWORD *)(a1 + 1312) + v7), a3, "_");
    if ((result & 0x80000000) == 0)
    {
      v15 = v8 == v7;
      v7 += 8;
      if (!v15)
        continue;
    }
    return result;
  }
  log_OutPublic(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PUNCSPTN", 33000, 0, v10, v11, v12, v13, v16);
  return 2311069706;
}

uint64_t statpunc_dumpFeatureVectorAndResult(uint64_t a1, uint64_t a2, uint64_t a3, char *__src)
{
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  size_t v11;
  char __dst[256];
  uint64_t v14;

  v14 = *MEMORY[0x1E0C80C00];
  strncpy(__dst, __src, 0x100uLL);
  __dst[255] = 0;
  if (*(unsigned __int8 *)(a1 + 1296) >= 2u)
  {
    v10 = 0;
    do
    {
      v11 = strlen(*(const char **)(a3 + 8 * v10));
      if (v11 + strlen(__dst) + 2 > 0xFF)
        break;
      __strcat_chk();
      __strcat_chk();
      ++v10;
    }
    while (*(unsigned __int8 *)(a1 + 1296) - 1 > (unsigned __int16)v10);
  }
  return log_OutText(*(_QWORD *)(a2 + 32), (uint64_t)"FE_PUNCSPTN", 5, 0, (uint64_t)"traceFeatureVector %s", v7, v8, v9, (uint64_t)__dst);
}

uint64_t statpunc_getIgtreeBrkStr(uint64_t a1, uint64_t a2, char *a3, unint64_t a4)
{
  uint64_t result;
  int v8[2];
  char v9[256];
  uint64_t v10;

  v10 = *MEMORY[0x1E0C80C00];
  *(_QWORD *)v8 = 0;
  result = paramc_ParamGetStr(*(_QWORD *)(a1 + 40), (uint64_t)"langcode", v8);
  if ((result & 0x80000000) == 0)
  {
    strcpy(v9, "statpunc_");
    __strcat_chk();
    LODWORD(result) = brokeraux_ComposeBrokerString(a1, v9, 0, 1, *(char **)v8, 0, 0, a3, a4);
    if ((int)result >= 0)
      return result;
    else
      return result | 0x89C02000;
  }
  return result;
}

uint64_t statpunc_readIGTree(_WORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t IgtreeBrkStr;
  char *v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  unsigned int v24;
  unsigned __int16 v25;
  uint64_t v26;
  uint64_t v27;
  const char *v28;
  unsigned int v30;
  int v31[2];
  char v32[256];
  uint64_t v33;

  v33 = *MEMORY[0x1E0C80C00];
  *(_QWORD *)v31 = 0;
  IgtreeBrkStr = statpunc_getIgtreeBrkStr(a3, a4, v32, 0x100uLL);
  if ((IgtreeBrkStr & 0x80000000) != 0)
    return IgtreeBrkStr;
  IgtreeBrkStr = ssftriff_reader_ObjOpen(a1, a2, 2, v32, "IGTR", 1031, (uint64_t *)v31);
  if ((IgtreeBrkStr & 0x80000000) != 0)
    return IgtreeBrkStr;
  v10 = (char *)heap_Calloc(*(_QWORD **)(a3 + 8), 1, 1600);
  *(_QWORD *)(a5 + 8) = v10;
  if (!v10)
  {
    log_OutPublic(*(_QWORD *)(a3 + 32), (uint64_t)"FE_PUNCSPTN", 35000, 0, v11, v12, v13, v14, v30);
    return 2311069706;
  }
  IgtreeBrkStr = igtree_Init(a1, a2, *(uint64_t *)v31, v10);
  if ((IgtreeBrkStr & 0x80000000) != 0)
    return IgtreeBrkStr;
  v22 = ssftriff_reader_ObjClose(*(_QWORD **)v31, v15, v16, v17, v18, v19, v20, v21);
  if ((v22 & 0x80000000) == 0)
  {
    *(_QWORD *)(a5 + 16) = 0;
    *(_QWORD *)(a5 + 24) = 0;
    *(_DWORD *)(a5 + 32) = 393219;
    *(_QWORD *)(a5 + 40) = ":;.!?()[]{}#\"',-<>";
    v23 = *(_QWORD *)(a5 + 8);
    v24 = *(_DWORD *)(v23 + 1336);
    if (v24)
    {
      v25 = 0;
      v26 = *(_QWORD *)(v23 + 1328);
      do
      {
        v27 = v25;
        v28 = *(const char **)(v26 + 16 * v25);
        if (!strcmp(v28, "leftcollocation"))
        {
          *(_QWORD *)(a5 + 16) = *(_QWORD *)(v26 + 16 * v27 + 8);
        }
        else if (!strcmp(v28, "rightcollocation"))
        {
          *(_QWORD *)(a5 + 24) = *(_QWORD *)(v26 + 16 * v27 + 8);
        }
        else if (!strcmp(v28, "dist2endmaxshort"))
        {
          *(_WORD *)(a5 + 32) = atoi(*(const char **)(v26 + 16 * v27 + 8));
        }
        else if (!strcmp(v28, "dist2endminlong"))
        {
          *(_WORD *)(a5 + 34) = atoi(*(const char **)(v26 + 16 * v27 + 8));
        }
        else if (!strcmp(v28, "punctuation"))
        {
          *(_QWORD *)(a5 + 40) = *(_QWORD *)(v26 + 16 * v27 + 8);
        }
        v25 = v27 + 1;
      }
      while (v24 > (unsigned __int16)(v27 + 1));
    }
  }
  return v22;
}

uint64_t statpunc_freeIGTree(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10;

  if (!a2)
    return 0;
  v10 = igtree_Deinit(a1, a2, a3, a4, a5, a6, a7, a8);
  if ((v10 & 0x80000000) == 0)
    heap_Free(*(_QWORD **)(a1 + 8), a2);
  return v10;
}

BOOL bstartword(char *__s, char *a2, char *a3)
{
  char *v5;
  char *v6;
  char v7;
  int v8;
  char *v9;
  _BOOL4 v11;

  if (a3 == a2)
    return 1;
  v5 = a3 - 1;
  v6 = a3 - 1;
  do
  {
    v8 = *v6--;
    v7 = v8;
    v9 = strchr(__s, v8);
    if (v5 <= a2)
      break;
    v5 = v6;
  }
  while (v9);
  v11 = v6 + 1 == a2 && v9 != 0;
  return v7 == 32 || v11;
}

uint64_t statpunc_extractFeatures(uint64_t a1, uint64_t a2, char *a3, char *a4, const char *a5, uint64_t *a6)
{
  uint64_t v9;
  const char *v10;
  char *v11;
  char *v12;
  uint64_t v13;
  char *v14;
  const char *v15;
  char *v16;
  char *v17;
  char *v18;
  int v19;
  const char *v20;
  char *i;
  int v22;
  int v23;
  const char *v24;
  char *v25;
  int v26;
  const char *v27;
  int v28;
  const char *v29;
  char *v30;
  char *v31;
  int v32;
  char *v33;
  char *v34;
  const char *v35;
  int v36;
  int v37;
  char *v38;
  char *v40;
  int v41;
  int v42;
  char *v43;
  char *v45;
  uint64_t v46;
  int v47;
  char *v49;
  char *v50;
  char *v51;
  uint64_t v52;
  int v53;
  unsigned __int16 v55;
  int v56;
  char *v57;
  const char *v58;
  char *v60;
  int v61;
  int v62;
  char *__s2;

  v9 = *(_QWORD *)(a1 + 8);
  v10 = *(const char **)(a1 + 16);
  if (v10 && (v11 = strchr(*(char **)(a1 + 16), 124)) != 0)
  {
    v12 = v11;
    v13 = 0;
    do
    {
      *v12 = 0;
      v14 = strstr(a3, v10);
      if (v14 && v14 < a4)
        v13 = statpunc_setFeature(v9, a2, "collocation", a6, "left");
      *v12 = 124;
      v10 = v12 + 1;
      v12 = strchr(v12 + 1, 124);
    }
    while (v12);
  }
  else
  {
    v13 = 0;
  }
  v15 = *(const char **)(a1 + 24);
  if (v15)
  {
    v16 = strchr(*(char **)(a1 + 24), 124);
    if (v16)
    {
      v17 = v16;
      do
      {
        *v17 = 0;
        if (strstr(a3, v15) > a4)
          v13 = statpunc_setFeature(v9, a2, "collocation", a6, "right");
        *v17 = 124;
        v15 = v17 + 1;
        v17 = strchr(v17 + 1, 124);
      }
      while (v17);
    }
  }
  v18 = a4;
  if (a4 > a3)
  {
    v18 = a4;
    while (*v18 != 32)
    {
      if (--v18 <= a3)
      {
        v18 = a3;
        break;
      }
    }
  }
  if (v18 > a3)
  {
    while (*v18 == 32)
    {
      if (--v18 <= a3)
      {
        v18 = a3;
        break;
      }
    }
  }
  v19 = *v18;
  if (strchr(*(char **)(a1 + 40), v19))
  {
    v20 = "punc";
  }
  else
  {
    if (!memchr("0123456789", v19, 0xBuLL))
      goto LABEL_30;
    v20 = "digit";
  }
  v13 = statpunc_setFeature(v9, a2, "lwordendchar", a6, v20);
LABEL_30:
  if ((v13 & 0x80000000) != 0)
    return v13;
  for (i = a4; (*i | 0x20) != 0x20; ++i)
    ;
  do
  {
    v23 = *i++;
    v22 = v23;
  }
  while (v23 == 32);
  if (strchr(*(char **)(a1 + 40), v22))
  {
    v24 = "punc";
  }
  else
  {
    if (!memchr("0123456789", v22, 0xBuLL))
      goto LABEL_40;
    v24 = "digit";
  }
  v13 = statpunc_setFeature(v9, a2, "rwordbegchar", a6, v24);
LABEL_40:
  if ((v13 & 0x80000000) != 0)
    return v13;
  v25 = *(char **)(a1 + 40);
  if (a4 > a3)
  {
    v26 = *(a4 - 1);
    if (strchr(*(char **)(a1 + 40), v26))
    {
      v27 = "punc";
    }
    else
    {
      if (!memchr("0123456789", v26, 0xBuLL))
        goto LABEL_48;
      v27 = "digit";
    }
    v13 = statpunc_setFeature(v9, a2, "lchar", a6, v27);
    if ((v13 & 0x80000000) != 0)
      return v13;
    v25 = *(char **)(a1 + 40);
  }
LABEL_48:
  v28 = a4[1];
  if (strchr(v25, v28))
  {
    v29 = "punc";
  }
  else
  {
    if (!memchr("0123456789", v28, 0xBuLL))
      goto LABEL_54;
    v29 = "digit";
  }
  v13 = statpunc_setFeature(v9, a2, "rchar", a6, v29);
  if ((v13 & 0x80000000) != 0)
    return v13;
  v25 = *(char **)(a1 + 40);
LABEL_54:
  __s2 = (char *)(a1 + 4);
  if (a4 == a3)
    goto LABEL_60;
  v30 = a4 - 1;
  v31 = a4 - 1;
  do
  {
    v32 = *v31--;
    v33 = strchr(v25, v32);
    if (v30 <= a3)
      break;
    v30 = v31;
  }
  while (v33);
  if (v31 + 1 == a3 && v33)
  {
LABEL_60:
    v34 = a4 + 1;
    v35 = "isolated";
    while (1)
    {
      v37 = *v34++;
      v36 = v37;
      if (!v37)
        goto LABEL_80;
      v38 = strchr(v25, v36);
      if (v36 != 32 && v38 == 0)
      {
        if (strcmp(a5, (const char *)a1))
          goto LABEL_81;
        v13 = statpunc_setFeature(v9, a2, "sentpos", a6, "start");
        if ((v13 & 0x80000000) == 0)
          goto LABEL_81;
        return v13;
      }
    }
  }
  v40 = a4 + 1;
  while (1)
  {
    v42 = *v40++;
    v41 = v42;
    if (!v42)
      break;
    v43 = strchr(v25, v41);
    if (v41 != 32 && v43 == 0)
      goto LABEL_81;
  }
  if (!strcmp(a5, (const char *)(a1 + 4)))
  {
    v35 = "end";
LABEL_80:
    v13 = statpunc_setFeature(v9, a2, "sentpos", a6, v35);
  }
LABEL_81:
  v45 = *(char **)(a1 + 40);
  if (bstartword(v45, a3, a4))
  {
    v46 = 1;
    do
    {
      v47 = a4[v46];
      if (!a4[v46])
        goto LABEL_101;
    }
    while (strchr(v45, a4[v46++]));
    if ((v47 & 0xFFFFFFDF) == 0)
    {
LABEL_101:
      v57 = "pos";
      v58 = "isolated";
      return statpunc_setFeature(v9, a2, v57, a6, v58);
    }
    if (!strcmp(a5, (const char *)a1))
    {
      v13 = statpunc_setFeature(v9, a2, "pos", a6, "start");
      if ((v13 & 0x80000000) == 0)
      {
        v49 = strstr(a4 + 1, __s2);
        if (v49)
        {
          v50 = v49;
          v51 = *(char **)(a1 + 40);
          if (!bstartword(v51, a3, v49))
          {
            v52 = 1;
            while (1)
            {
              v53 = v50[v52];
              if (!v50[v52])
                break;
              if (!strchr(v51, v50[v52++]))
              {
                if ((v53 & 0xFFFFFFDF) != 0)
                  return v13;
                break;
              }
            }
            if (v50 <= a4)
            {
              v55 = 0;
            }
            else
            {
              v55 = 0;
              do
              {
                if (*a4 == 32)
                {
                  ++v55;
                  do
                    v56 = *++a4;
                  while (v56 == 32);
                }
                ++a4;
              }
              while (a4 < v50);
            }
            if (*(unsigned __int16 *)(a1 + 32) <= v55)
            {
              v57 = "dist2end";
              if (*(unsigned __int16 *)(a1 + 34) <= v55)
                v58 = "long";
              else
                v58 = "medium";
            }
            else
            {
              v57 = "dist2end";
              v58 = "short";
            }
            return statpunc_setFeature(v9, a2, v57, a6, v58);
          }
        }
      }
    }
  }
  else
  {
    v60 = a4 + 1;
    while (1)
    {
      v62 = *v60++;
      v61 = v62;
      if (!v62)
        break;
      if (!strchr(v45, v61))
      {
        if ((v61 & 0xFFFFFFDF) != 0)
          return v13;
        break;
      }
    }
    if (!strcmp(a5, __s2))
    {
      v57 = "pos";
      v58 = "end";
      return statpunc_setFeature(v9, a2, v57, a6, v58);
    }
  }
  return v13;
}

uint64_t statpunc_insertMarker(uint64_t a1, unsigned int a2, const char *a3, uint64_t *a4, _WORD *a5, uint64_t *a6, _WORD *a7, uint64_t *a8)
{
  uint64_t v15;
  int v16;
  int v17;
  uint64_t v18;
  uint64_t v19;
  int v20;
  unsigned __int16 v21;
  unsigned __int16 v22;
  int v23;
  int v24;
  _BOOL4 v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  int v33;
  char *v34;
  char *v35;
  BOOL v36;
  int v37;
  int v38;
  char *v39;
  char *v40;
  uint64_t v41;
  uint64_t v42;
  char *v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  unsigned int v55;
  uint64_t v56;
  char *v57;
  _WORD *v58;
  uint64_t *v59;
  _WORD *v60;

  v15 = a1;
  v16 = *(_DWORD *)(*a8 + 12);
  v17 = (unsigned __int16)*a5;
  if ((unsigned __int16)((unsigned __int16)((((-13107 * v17) & 0xFFFCu) >> 1) | ((_WORD)v17 << 15)) >> 1) < 0xCCDu)
  {
    v26 = heap_Realloc(*(uint64_t **)(a1 + 8), *a4, 8 * (unsigned __int16)*a5 + 80);
    if (!v26
      || (*a4 = v26, (v18 = heap_Realloc(*(uint64_t **)(v15 + 8), *a6, 20 * ((unsigned __int16)*a5 / 0xAu + 1))) == 0))
    {
LABEL_34:
      v44 = 2311069706;
      v53 = *(_QWORD *)(v15 + 32);
LABEL_35:
      log_OutPublic(v53, (uint64_t)"FE_PUNCSPTN", 33000, 0, v27, v28, v29, v30, v55);
      return v44;
    }
    v59 = a4;
    v60 = a5;
    *a6 = v18;
    LOWORD(v17) = *a5;
  }
  else
  {
    v59 = a4;
    v60 = a5;
    v18 = *a6;
  }
  *(_WORD *)(v18 + 2 * (unsigned __int16)v17) = a2;
  v19 = (unsigned __int16)*a7;
  v58 = a7;
  if (!*a7)
  {
    v21 = 0;
    goto LABEL_32;
  }
  v56 = v15;
  v57 = (char *)a3;
  v20 = *(_DWORD *)(*a8 + 12);
  if (v20 - v16 <= a2)
  {
    v21 = 0;
    v22 = 0;
    v23 = 0;
    v24 = 0;
    v31 = 0;
    v32 = *a8 + 24;
    do
    {
      v33 = *(_DWORD *)(v32 - 24);
      if (v33 == 1)
      {
        v21 = v31;
        v23 = v20;
      }
      if (v33 == 51)
      {
        v34 = *(char **)v32;
        v35 = strstr(*(char **)v32, "PUNC");
        v25 = v35 && (v35 == v34 || *(v35 - 1) != 95);
        v22 = v31;
        v24 = v20;
      }
      else
      {
        v25 = 0;
      }
      if (v19 == ++v31)
        break;
      v20 = *(_DWORD *)(v32 + 20);
      v32 += 32;
    }
    while (v20 - v16 <= a2);
  }
  else
  {
    v21 = 0;
    v22 = 0;
    v23 = 0;
    v24 = 0;
    v25 = 0;
  }
  if (!v22)
  {
    v15 = v56;
    a3 = v57;
    goto LABEL_32;
  }
  v36 = v23 == v24;
  v15 = v56;
  a3 = v57;
  if (!v36)
  {
LABEL_32:
    v45 = v21 + 1;
    memmove((void *)(*a8 + 32 * (v21 + 2)), (const void *)(*a8 + 32 * v45), 32 * (int)(v19 + ~v21));
    v46 = *a8;
    v47 = *a8 + 32 * v45;
    *(_DWORD *)v47 = 51;
    v48 = v46 + 32 * v21;
    *(_QWORD *)(v47 + 4) = *(_QWORD *)(v48 + 4);
    *(_QWORD *)(v47 + 12) = *(unsigned int *)(v48 + 12);
    v49 = strlen(a3);
    *(_QWORD *)(*a8 + 32 * v45 + 24) = heap_Alloc(*(_QWORD *)(v15 + 8), (v49 + 1));
    v50 = *(_QWORD *)(*a8 + 32 * v45 + 24);
    if (v50)
    {
      v51 = *v59;
      v52 = (unsigned __int16)*v60;
      *v60 = v52 + 1;
      *(_QWORD *)(v51 + 8 * v52) = v50;
      strcpy(*(char **)(*a8 + 32 * v45 + 24), a3);
      v44 = 0;
      ++*v58;
      return v44;
    }
    goto LABEL_34;
  }
  if (v25 && !strstr(v57, "S_PUNC") && !strstr(v57, "E_PUNC"))
    return 0;
  v37 = strlen(v57);
  v38 = strlen(*(const char **)(*a8 + 32 * v22 + 24));
  v39 = (char *)heap_Alloc(*(_QWORD *)(v56 + 8), (v37 + v38 + 2));
  if (!v39)
  {
    v44 = 2311069706;
    v53 = *(_QWORD *)(v56 + 32);
    goto LABEL_35;
  }
  v40 = v39;
  v41 = *v59;
  v42 = (unsigned __int16)*v60;
  *v60 = v42 + 1;
  *(_QWORD *)(v41 + 8 * v42) = v39;
  v43 = strcpy(v39, *(const char **)(*a8 + 32 * v22 + 24));
  *(_WORD *)&v40[strlen(v43)] = 59;
  strcat(v40, v57);
  v44 = 0;
  *(_QWORD *)(*a8 + 32 * v22 + 24) = v40;
  return v44;
}

char *statpunc_Strpunc(char *a1, const char *a2, const char *a3, const char **a4)
{
  char *v8;
  char *result;
  const char *v10;
  char *v11;

  v8 = strstr(a1, a2);
  result = strstr(a1, a3);
  if (v8)
  {
    if (v8 <= result)
      v10 = a2;
    else
      v10 = a3;
    if (v8 <= result)
      v11 = v8;
    else
      v11 = result;
    if (result)
      a3 = v10;
    else
      a3 = a2;
    if (result)
      result = v11;
    else
      result = v8;
  }
  else if (!result)
  {
    return result;
  }
  *a4 = a3;
  return result;
}

uint64_t statpunc_Process(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, int a6, uint64_t a7)
{
  uint64_t v8;
  uint64_t v10;
  uint64_t v12;
  uint64_t v14;
  const char *v15;
  const char *v16;
  char *v17;
  unsigned __int16 v18;
  char *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  const char *v24;
  char *v25;
  char *v26;
  const char *v27;
  __int16 v28;
  uint64_t inserted;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unsigned __int16 v33;
  int v34;
  unsigned int v35;
  uint64_t v38;
  uint64_t *v39;
  uint64_t inited;
  uint64_t Features;
  char *v42;
  char *v43;
  unsigned __int16 v44;
  uint64_t v45;
  int v46;
  uint64_t v48;
  uint64_t v49;
  uint64_t *v50;
  int v51;
  char *v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t i;
  const char *v60;
  const void *v61;
  unsigned __int16 v62;
  int v63;
  const char *v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  uint64_t v68;
  const char *v69;
  uint64_t v70;
  uint64_t v71;
  int v72;
  const char *v73;
  size_t v74;
  const char *v75;
  uint64_t v76;
  unsigned int v77;
  _DWORD *v78;
  uint64_t v79;
  __int16 v80;
  uint64_t v81;
  uint64_t *v82;
  uint64_t v83;
  unsigned int v84;
  uint64_t v85;
  uint64_t *v86;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  uint64_t v90;
  uint64_t v91;
  char *__dst;
  unsigned __int16 v93;
  int v94;
  uint64_t v95;
  uint64_t v96;
  uint64_t *v97;
  int v98;
  char *v99;
  void *__src;
  const char *v101;
  char *v102;
  char *v103;
  int v104;
  int v105;
  int v106;
  int v107;
  int v108[3];

  LODWORD(v8) = a6;
  v10 = a4;
  v12 = a2;
  v104 = 0;
  v105 = 0;
  v102 = 0;
  v103 = 0;
  __src = 0;
  v101 = 0;
  v99 = 0;
  v98 = 0;
  v96 = 0;
  v97 = 0;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(a2 + 104))(a3, a4, 1, 0, &v105);
  if ((v14 & 0x80000000) != 0)
    goto LABEL_57;
  v15 = 0;
  if (((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char *))(v12 + 184))(a3, v10, (unsigned __int16)v105, 0, (char *)&v105 + 2) & 0x80000000) != 0)goto LABEL_58;
  if (HIWORD(v105) != 1)
    goto LABEL_58;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, char **, char *))(v12 + 176))(a3, v10, (unsigned __int16)v105, 0, &v103, (char *)&v104 + 2);
  v15 = 0;
  if ((v14 & 0x80000000) != 0 || HIWORD(v104) < 2u)
    goto LABEL_58;
  v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, void **, char *))(v12 + 176))(a3, v10, (unsigned __int16)v105, 1, &__src, (char *)&v98 + 2);
  if ((v14 & 0x80000000) != 0)
    goto LABEL_57;
  v94 = *((_DWORD *)__src + 3);
  v16 = (const char *)(a5 + 4);
  v17 = statpunc_Strpunc(v103, (const char *)a5, (const char *)(a5 + 4), &v101);
  if (!v17)
    goto LABEL_57;
  v18 = 0;
  do
  {
    ++v18;
    v17 = statpunc_Strpunc(v17 + 1, (const char *)a5, (const char *)(a5 + 4), &v101);
  }
  while (v17);
  if (!v18)
  {
LABEL_57:
    v15 = 0;
    goto LABEL_58;
  }
  v19 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 32 * (HIWORD(v98) + (unint64_t)v18));
  v99 = v19;
  if (!v19)
  {
LABEL_56:
    v14 = 2311069706;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PUNCSPTN", 33000, 0, v20, v21, v22, v23, v84);
    goto LABEL_57;
  }
  v90 = a7;
  v95 = a3;
  memcpy(v19, __src, 32 * HIWORD(v98));
  v24 = v103;
  v25 = statpunc_Strpunc(v103, (const char *)a5, (const char *)(a5 + 4), &v101);
  v91 = v10;
  if (!v25)
  {
    v86 = 0;
LABEL_73:
    v51 = strlen(v24);
    v52 = (char *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, (v51 + 1));
    v15 = v52;
    if (v52)
    {
      strcpy(v52, v103);
      v85 = a5;
      if ((_DWORD)v8 && (_WORD)v98)
      {
        v57 = 0;
        v93 = 0;
        v8 = v8;
        v58 = v90;
        v88 = v8;
        v89 = a1;
        v87 = v12;
        while (2)
        {
          for (i = 0; i != v8; ++i)
          {
            v60 = (const char *)(v58 + (i << 9));
            if (!strcmp((const char *)v97[v57], v60))
            {
              v61 = v60 + 256;
              v62 = strlen(v60 + 256);
              v63 = strlen(v15);
              v64 = (const char *)heap_Realloc(*(uint64_t **)(a1 + 8), (uint64_t)v15, v62 + v63 + 1);
              if (!v64)
              {
                v14 = 2311069706;
                log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PUNCSPTN", 33000, 0, v65, v66, v67, v68, v84);
                goto LABEL_64;
              }
              v69 = v64;
              v70 = v96;
              v71 = *(unsigned __int16 *)(v96 + 2 * v57);
              v72 = v71 + v93;
              __dst = (char *)&v64[v72 + v62];
              v73 = &v64[v72 + 1];
              v74 = strlen(v64);
              v75 = v73;
              v12 = v87;
              memmove(__dst, v75, v74 - (v71 + v93));
              memcpy((void *)&v69[*(unsigned __int16 *)(v70 + 2 * v57) + v93], v61, v62);
              v76 = HIWORD(v98);
              v58 = v90;
              if (HIWORD(v98))
              {
                v77 = *(unsigned __int16 *)(v70 + 2 * v57) + v93;
                v78 = v99 + 12;
                do
                {
                  if (v77 < (unsigned __int16)(*v78 - v94))
                    *v78 += v62 - 1;
                  v78 += 8;
                  --v76;
                }
                while (v76);
              }
              v93 = v93 + v62 - 1;
              v15 = v69;
              v8 = v88;
              a1 = v89;
              v10 = v91;
            }
          }
          if (++v57 < (unint64_t)(unsigned __int16)v98)
            continue;
          break;
        }
      }
      v79 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, int *))(v12 + 160))(v95, v10, (unsigned __int16)v105, 1, HIWORD(v98), v99, &v104);
      if ((v79 & 0x80000000) != 0)
      {
        v14 = v79;
      }
      else
      {
        v80 = strlen(v15);
        v14 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, _QWORD, const char *, int *))(v12 + 160))(v95, v10, (unsigned __int16)v105, 0, (unsigned __int16)(v80 + 1), v15, &v104);
        if ((v14 & 0x80000000) == 0)
        {
          v81 = (unsigned __int16)v98;
          v48 = (uint64_t)v86;
          if ((_WORD)v98)
          {
            v82 = v97;
            do
            {
              v83 = *v82++;
              heap_Free(*(_QWORD **)(a1 + 8), v83);
              --v81;
            }
            while (v81);
          }
          a5 = v85;
          if (v96)
            heap_Free(*(_QWORD **)(a1 + 8), v96);
          if (v97)
            heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v97);
          goto LABEL_65;
        }
      }
LABEL_64:
      a5 = v85;
      v48 = (uint64_t)v86;
      goto LABEL_65;
    }
    v14 = 2311069706;
    log_OutPublic(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PUNCSPTN", 33000, 0, v53, v54, v55, v56, v84);
LABEL_98:
    v48 = (uint64_t)v86;
LABEL_65:
    if (!v48)
      goto LABEL_58;
    goto LABEL_66;
  }
  v26 = v25;
  v27 = 0;
  v85 = a5;
  v86 = 0;
  while (1)
  {
    v28 = (__int16)v103;
    v107 = 0;
    v108[0] = 0;
    v106 = 0;
    inserted = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(v12 + 104))(v95, v10, 3, (unsigned __int16)v105, (char *)&v107 + 2);
    if ((inserted & 0x80000000) != 0)
      goto LABEL_63;
    v33 = HIWORD(v107);
    if (HIWORD(v107))
    {
      v34 = 0;
      v35 = (unsigned __int16)((_WORD)v26 - v28);
      while (1)
      {
        inserted = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, int *))(v12 + 168))(v95, v10, v33, 0, 1, v108, &v107);
        if ((inserted & 0x80000000) != 0)
          break;
        inserted = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, int *))(v12 + 168))(v95, v10, HIWORD(v107), 1, 1, (char *)&v106 + 2, &v107);
        if ((inserted & 0x80000000) != 0)
          break;
        inserted = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, int *))(v12 + 168))(v95, v10, HIWORD(v107), 2, 1, &v106, &v107);
        if ((inserted & 0x80000000) != 0)
          break;
        if ((unsigned __int16)v106 > v35 && HIWORD(v106) <= v35 && (v108[0] & 0xFFFFFFFD) == 4)
          v34 = 1;
        v38 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, char *))(v12 + 120))(v95, v10, HIWORD(v107), (char *)&v107 + 2);
        v14 = v38;
        if ((v38 & 0x80000000) == 0)
        {
          v33 = HIWORD(v107);
          if (HIWORD(v107))
            continue;
        }
        a5 = v85;
        if ((v38 & 0x80000000) != 0)
        {
          v15 = 0;
          goto LABEL_98;
        }
        if (v34)
          goto LABEL_54;
        goto LABEL_35;
      }
LABEL_63:
      v14 = inserted;
      v15 = 0;
      goto LABEL_64;
    }
    a5 = v85;
LABEL_35:
    v39 = v86;
    if (!v86)
    {
      log_OutText(*(_QWORD *)(a1 + 32), (uint64_t)"FE_PUNCSPTN", 5, 0, (uint64_t)"traceFeatureVector %s", v30, v31, v32, (uint64_t)v103);
      v39 = (uint64_t *)heap_Calloc(*(_QWORD **)(a1 + 8), 1, 8 * *(unsigned __int8 *)(*(_QWORD *)(a5 + 8) + 1296) - 8);
      if (!v39)
        goto LABEL_56;
    }
    inited = statpunc_initFeatureVector(*(_QWORD *)(a5 + 8), a1, v39, (unsigned __int16)(*(unsigned __int8 *)(*(_QWORD *)(a5 + 8) + 1296) - 1));
    if ((inited & 0x80000000) != 0)
    {
LABEL_101:
      v14 = inited;
      v15 = 0;
      v48 = (uint64_t)v39;
      goto LABEL_66;
    }
    v86 = v39;
    Features = statpunc_extractFeatures(a5, a1, v103, v26, v101, v39);
    if ((Features & 0x80000000) != 0)
      break;
    if (v27)
    {
      inited = statpunc_setFeature(*(_QWORD *)(a5 + 8), a1, "startpred", v39, v27);
      if ((inited & 0x80000000) != 0)
        goto LABEL_101;
    }
    inited = igtree_Process(*(_QWORD *)(a5 + 8), (uint64_t)v39, &v102);
    if ((inited & 0x80000000) != 0)
      goto LABEL_101;
    if (!strcmp((const char *)*v39, "start"))
      v27 = v102;
    statpunc_dumpFeatureVectorAndResult(*(_QWORD *)(a5 + 8), a1, (uint64_t)v39, v102);
    v42 = v102;
    if (!strstr(v102, "IGNORE"))
    {
      v43 = v103;
      v44 = (_WORD)v26 - (_WORD)v103;
      if (!strstr(v42, "S_PUNC"))
      {
        v45 = v44;
        if (v44)
        {
          while (1)
          {
            v46 = v43[v45 - 1];
            if (v46 != 32 && !strchr(*(char **)(v85 + 40), v46))
              break;
            if (!(_WORD)--v45)
            {
              v44 = 0;
              goto LABEL_52;
            }
          }
          v44 = v45;
        }
      }
LABEL_52:
      inserted = statpunc_insertMarker(a1, v44, v42, (uint64_t *)&v97, &v98, &v96, (_WORD *)&v98 + 1, (uint64_t *)&v99);
      if ((inserted & 0x80000000) != 0)
        goto LABEL_63;
      a5 = v85;
      v10 = v91;
    }
LABEL_54:
    v26 = statpunc_Strpunc(v26 + 1, (const char *)a5, v16, &v101);
    if (!v26)
    {
      v24 = v103;
      goto LABEL_73;
    }
  }
  v14 = Features;
  v15 = 0;
  v48 = (uint64_t)v39;
LABEL_66:
  if (*(_BYTE *)(*(_QWORD *)(a5 + 8) + 1296) != 1)
  {
    v49 = (unsigned __int16)(*(unsigned __int8 *)(*(_QWORD *)(a5 + 8) + 1296) - 1);
    v50 = (uint64_t *)v48;
    do
    {
      if (*v50)
        heap_Free(*(_QWORD **)(a1 + 8), *v50);
      ++v50;
      --v49;
    }
    while (v49);
  }
  heap_Free(*(_QWORD **)(a1 + 8), v48);
LABEL_58:
  if (v99)
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v99);
  if (v15)
    heap_Free(*(_QWORD **)(a1 + 8), (uint64_t)v15);
  return v14;
}

uint64_t fe_puncsptn_ObjOpen(uint64_t a1, uint64_t a2, _WORD *a3, uint64_t a4, uint64_t a5)
{
  uint64_t v5;
  uint64_t inited;
  uint64_t Object;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t *v24;

  v23 = 0;
  v24 = 0;
  v5 = 2311069703;
  v21 = 0;
  v22 = 0;
  if (!a5)
    return v5;
  *(_QWORD *)a5 = 0;
  *(_DWORD *)(a5 + 8) = 0;
  inited = InitRsrcFunction(a3, a4, &v24);
  if ((inited & 0x80000000) != 0)
    return inited;
  inited = objc_GetObject(v24[6], (uint64_t)"LINGDB", &v23);
  if ((inited & 0x80000000) != 0)
    return inited;
  Object = objc_GetObject(v24[6], (uint64_t)"FE_DEPES", &v22);
  v11 = v24[6];
  if ((Object & 0x80000000) != 0)
  {
LABEL_11:
    objc_ReleaseObject(v11, (uint64_t)"LINGDB");
    return Object;
  }
  v12 = objc_GetObject(v11, (uint64_t)"FE_DCTLKP", &v21);
  if ((v12 & 0x80000000) != 0)
  {
    Object = v12;
    objc_ReleaseObject(v24[6], (uint64_t)"FE_DEPES");
    v11 = v24[6];
    goto LABEL_11;
  }
  v13 = heap_Alloc(v24[1], 168);
  if (v13)
  {
    *(_QWORD *)(v13 + 160) = 0;
    *(_OWORD *)(v13 + 128) = 0u;
    *(_OWORD *)(v13 + 144) = 0u;
    *(_OWORD *)(v13 + 96) = 0u;
    *(_OWORD *)(v13 + 112) = 0u;
    *(_OWORD *)(v13 + 64) = 0u;
    *(_OWORD *)(v13 + 80) = 0u;
    *(_OWORD *)(v13 + 32) = 0u;
    *(_OWORD *)(v13 + 48) = 0u;
    *(_OWORD *)v13 = 0u;
    *(_OWORD *)(v13 + 16) = 0u;
    *(_QWORD *)a5 = v13;
    *(_DWORD *)(a5 + 8) = 62339;
    *(_QWORD *)v13 = v24;
    *(_QWORD *)(v13 + 8) = a3;
    *(_QWORD *)(v13 + 16) = a4;
    *(_QWORD *)(v13 + 24) = *(_QWORD *)(v23 + 8);
    v18 = v22;
    *(_QWORD *)(v13 + 48) = *(_QWORD *)(v22 + 8);
    *(_OWORD *)(v13 + 32) = *(_OWORD *)(v18 + 16);
    v19 = v21;
    *(_QWORD *)(v13 + 72) = *(_QWORD *)(v21 + 8);
    *(_OWORD *)(v13 + 56) = *(_OWORD *)(v19 + 16);
    *(_WORD *)(v13 + 112) = 0;
    *(_OWORD *)(v13 + 80) = 0u;
    *(_OWORD *)(v13 + 96) = 0u;
    v5 = hlp_open((_QWORD *)v13);
    if ((v5 & 0x80000000) != 0)
    {
      fe_puncsptn_ObjClose(*(uint64_t **)a5, *(_QWORD *)(a5 + 8));
      *(_QWORD *)a5 = 0;
      *(_DWORD *)(a5 + 8) = 0;
    }
  }
  else
  {
    log_OutPublic(v24[4], (uint64_t)"FE_PUNCSPTN", 33000, 0, v14, v15, v16, v17, v21);
    objc_ReleaseObject(v24[6], (uint64_t)"LINGDB");
    objc_ReleaseObject(v24[6], (uint64_t)"FE_DEPES");
    objc_ReleaseObject(v24[6], (uint64_t)"FE_DCTLKP");
    return 2311069706;
  }
  return v5;
}

uint64_t hlp_open(_QWORD *a1)
{
  uint64_t v1;
  uint64_t v3;
  _BOOL4 v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t IGTree;
  int v15;
  char *v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  unint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t i;
  char *v30;
  const char **v31;
  char *v32;
  char *v33;
  char *v34;
  char *v35;
  char *v36;
  char *v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  unint64_t v41;
  char *v42;
  char *v43;
  char *v44;
  unsigned int v46;
  char v47;
  __int16 v48;
  _BYTE **v49;
  char *v50;
  uint64_t v51;
  char *__s1;
  char v53;
  unsigned __int16 v54;
  const char **v55;

  v1 = 2311069706;
  v51 = 0;
  v48 = -1;
  v47 = 0;
  if (!a1)
    return 2311069702;
  v49 = 0;
  v50 = 0;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, char *, uint64_t *))(a1[9] + 88))(a1[7], a1[8], (char *)&v51 + 4, &v51);
  if ((v3 & 0x80000000) != 0)
    return v3;
  v5 = (_DWORD)v51 == 1 && HIDWORD(v51) == 1;
  a1[15] = 0;
  *((_DWORD *)a1 + 29) = v5;
  if ((paramc_ParamGet(*(_QWORD *)(*a1 + 40), (uint64_t)"fecfg", &v50, 0) & 0x80000000) == 0
    && (!LH_stricmp(v50, "mpthree") || !LH_stricmp(v50, "vadvde")))
  {
    *((_DWORD *)a1 + 30) = 1;
  }
  v48 = -1;
  v3 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, _BYTE ***, __int16 *, char *))(a1[9] + 96))(a1[7], a1[8], "fecfg", "puncsptneos", &v49, &v48, &v47);
  if ((v3 & 0x80000000) != 0)
    return v3;
  if (v48 == 1 && v49 && **v49 == 49)
    *((_DWORD *)a1 + 31) = 1;
  LOBYTE(v54) = 0;
  LOWORD(__s1) = -1;
  v6 = a1[16];
  if (v6)
    heap_Free(*(_QWORD **)(*a1 + 8), v6);
  v55 = 0;
  a1[16] = 0;
  v7 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, const char ***, char **, unsigned __int16 *))(a1[9] + 96))(a1[7], a1[8], "fecfg", "esctn", &v55, &__s1, &v54);
  IGTree = v7;
  if ((v7 & 0x80000000) != 0 || !(_WORD)__s1)
  {
    if ((v7 & 0x80000000) != 0)
      return IGTree;
  }
  else
  {
    v15 = strlen(*v55);
    v16 = (char *)heap_Calloc(*(_QWORD **)(*a1 + 8), 1, (v15 + 1));
    a1[16] = v16;
    if (!v16)
    {
      log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PUNCSPTN", 34000, 0, v17, v18, v19, v20, v46);
      return 2311069706;
    }
    strcpy(v16, *v55);
    *(_BYTE *)(strlen(*v55) + a1[16] - 1) = 124;
  }
  v54 = 0;
  v55 = 0;
  v53 = 0;
  v21 = a1[17];
  if (*((_WORD *)a1 + 72))
  {
    v22 = 0;
    v23 = 8;
    do
    {
      statpunc_freeIGTree(*a1, *(_QWORD *)(v21 + v23), v8, v9, v10, v11, v12, v13);
      v21 = a1[17];
      *(_QWORD *)(v21 + v23) = 0;
      ++v22;
      v23 += 48;
    }
    while (v22 < *((unsigned __int16 *)a1 + 72));
  }
  else if (!v21)
  {
    goto LABEL_33;
  }
  heap_Free(*(_QWORD **)(*a1 + 8), v21);
LABEL_33:
  a1[17] = 0;
  *((_WORD *)a1 + 72) = 0;
  IGTree = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, const char ***, unsigned __int16 *, char *))(a1[9] + 96))(a1[7], a1[8], "fecfg", "statpunc", &v55, &v54, &v53);
  if ((IGTree & 0x80000000) == 0 && v54)
  {
    __s1 = 0;
    paramc_ParamGetStr(*(_QWORD *)(*a1 + 40), (uint64_t)"fevoice", &__s1);
    v24 = heap_Alloc(*(_QWORD *)(*a1 + 8), 48 * v54);
    a1[17] = v24;
    if (!v24)
      goto LABEL_63;
    if (v54)
    {
      for (i = 0; i < v54; ++i)
      {
        if (__s1)
        {
          v30 = strstr(__s1, "uni");
          v31 = v55;
          if (v30)
          {
            v32 = (char *)v55[i];
LABEL_43:
            v33 = strchr(v32, 124);
            if (v33)
            {
              *v33 = 0;
              v34 = v33 + 1;
              __strcpy_chk();
              v35 = strchr(v34, 124);
              if (v35)
              {
                *v35 = 0;
                v36 = v35 + 1;
                __strcpy_chk();
                v37 = strchr(v36, 124);
                if (v37)
                {
                  *v37 = 0;
                  IGTree = statpunc_readIGTree((_WORD *)a1[1], a1[2], *a1, (uint64_t)v36, a1[17] + 48 * *((unsigned __int16 *)a1 + 72));
                  if ((IGTree & 0x80000000) != 0)
                    return IGTree;
                  ++*((_WORD *)a1 + 72);
                }
              }
            }
            continue;
          }
        }
        else
        {
          v31 = v55;
        }
        v32 = (char *)v31[i];
        if (!strstr(v32, "extended"))
          goto LABEL_43;
      }
    }
  }
  if ((IGTree & 0x80000000) == 0)
  {
    LOBYTE(v54) = 0;
    LOWORD(__s1) = 0;
    v38 = a1[19];
    if (v38)
      heap_Free(*(_QWORD **)(*a1 + 8), v38);
    v55 = 0;
    a1[19] = 0;
    *((_WORD *)a1 + 80) = 0;
    v39 = (*(uint64_t (**)(_QWORD, _QWORD, const char *, const char *, const char ***, char **, unsigned __int16 *))(a1[9] + 96))(a1[7], a1[8], "fecfg", "statpuncorthmap", &v55, &__s1, &v54);
    if ((v39 & 0x80000000) != 0 || !(_WORD)__s1)
      return v39;
    v40 = heap_Alloc(*(_QWORD *)(*a1 + 8), (unint64_t)(unsigned __int16)__s1 << 9);
    a1[19] = v40;
    if (v40)
    {
      if ((_WORD)__s1)
      {
        v41 = 0;
        do
        {
          v42 = strchr((char *)v55[v41], 124);
          if (v42)
          {
            *v42 = 0;
            v43 = v42 + 1;
            __strcpy_chk();
            v44 = strchr(v43, 124);
            if (v44)
            {
              *v44 = 0;
              strcpy((char *)(a1[19] + ((unint64_t)*((unsigned __int16 *)a1 + 80) << 9) + 256), v43);
              ++*((_WORD *)a1 + 80);
            }
          }
          ++v41;
        }
        while (v41 < (unsigned __int16)__s1);
      }
      return v39;
    }
LABEL_63:
    log_OutPublic(*(_QWORD *)(*a1 + 32), (uint64_t)"FE_PUNCSPTN", 34000, 0, v25, v26, v27, v28, v46);
    return v1;
  }
  return IGTree;
}

uint64_t fe_puncsptn_ObjClose(uint64_t *a1, int a2)
{
  uint64_t result;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unint64_t v16;
  uint64_t v17;
  uint64_t v18;

  result = safeh_HandleCheck((uint64_t)a1, a2, 62339, 168);
  if ((result & 0x80000000) != 0)
    return 2311069704;
  if (!a1)
    return result;
  v10 = a1[13];
  if (v10)
    heap_Free(*(_QWORD **)(*a1 + 8), v10);
  a1[13] = 0;
  v11 = a1[10];
  if (v11)
    heap_Free(*(_QWORD **)(*a1 + 8), v11);
  a1[10] = 0;
  v12 = a1[11];
  if (v12)
    heap_Free(*(_QWORD **)(*a1 + 8), v12);
  a1[11] = 0;
  v13 = a1[12];
  if (v13)
    heap_Free(*(_QWORD **)(*a1 + 8), v13);
  a1[12] = 0;
  v14 = a1[16];
  if (v14)
    heap_Free(*(_QWORD **)(*a1 + 8), v14);
  a1[16] = 0;
  v15 = a1[17];
  if (*((_WORD *)a1 + 72))
  {
    v16 = 0;
    v17 = 8;
    do
    {
      statpunc_freeIGTree(*a1, *(_QWORD *)(v15 + v17), v4, v5, v6, v7, v8, v9);
      v15 = a1[17];
      *(_QWORD *)(v15 + v17) = 0;
      ++v16;
      v17 += 48;
    }
    while (v16 < *((unsigned __int16 *)a1 + 72));
    goto LABEL_19;
  }
  if (v15)
  {
LABEL_19:
    heap_Free(*(_QWORD **)(*a1 + 8), v15);
    a1[17] = 0;
  }
  v18 = a1[19];
  if (v18)
  {
    heap_Free(*(_QWORD **)(*a1 + 8), v18);
    a1[19] = 0;
  }
  objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"LINGDB");
  objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"FE_DEPES");
  objc_ReleaseObject(*(_QWORD *)(*a1 + 48), (uint64_t)"FE_DCTLKP");
  heap_Free(*(_QWORD **)(*a1 + 8), (uint64_t)a1);
  return 0;
}

uint64_t fe_puncsptn_ObjReopen(_QWORD *a1, int a2)
{
  if ((safeh_HandleCheck((uint64_t)a1, a2, 62339, 168) & 0x80000000) != 0)
    return 2311069704;
  else
    return hlp_open(a1);
}

uint64_t fe_puncsptn_ProcessStart(uint64_t a1, int a2)
{
  uint64_t result;

  LODWORD(result) = safeh_HandleCheck(a1, a2, 62339, 168);
  if ((int)result >= 0)
    return result;
  else
    return 2311069704;
}

uint64_t fe_puncsptn_Process(uint64_t a1, int a2, uint64_t a3, uint64_t a4, _DWORD *a5)
{
  uint64_t v9;
  uint64_t updated;
  uint64_t v11;
  unsigned __int16 v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  unint64_t v16;
  const char **v17;
  int v18;
  char *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int *v24;
  int v25;
  unsigned int v26;
  uint64_t v27;
  int v28;
  unsigned __int16 v29;
  unsigned int v30;
  int v31;
  unsigned int v32;
  int v33;
  unsigned int v34;
  uint64_t v35;
  uint64_t v36;
  unsigned __int16 v37;
  uint64_t v38;
  unsigned __int16 v39;
  int v40;
  _DWORD *v41;
  uint64_t v42;
  unsigned __int16 i;
  uint64_t v44;
  unsigned int v45;
  const char *v46;
  unsigned int v47;
  int v48;
  unsigned int v49;
  const char *v50;
  unsigned int v51;
  int v52;
  unsigned __int16 v53;
  unsigned int v54;
  unsigned int Utf8Symbol;
  unsigned __int16 v56;
  size_t v57;
  uint64_t v58;
  const char *v59;
  __int16 v60;
  int v61;
  unsigned __int16 v62;
  uint64_t v63;
  int v64;
  size_t v65;
  __int16 v66;
  const char *v67;
  uint64_t v68;
  uint64_t v69;
  uint64_t v70;
  __int16 v71;
  unsigned __int16 v72;
  uint64_t v73;
  uint64_t v74;
  uint64_t v75;
  unsigned int v77;
  int v78;
  unsigned __int16 __src[4];
  int v80;
  __int16 v81;
  int v82;
  unsigned __int16 v83;
  uint64_t v84;
  char *__s1;
  int v86;
  unsigned __int16 v87;
  unsigned __int16 v88;
  unsigned __int16 v89;
  __int16 v90;
  unsigned __int16 v91;
  int v92;
  const char *v93;
  __int16 v94;
  int v95;

  v88 = 0;
  v87 = 0;
  __s1 = 0;
  v83 = 0;
  v81 = 0;
  if ((safeh_HandleCheck(a1, a2, 62339, 168) & 0x80000000) != 0)
    return 2311069704;
  v93 = 0;
  v92 = 0;
  v91 = 0;
  v90 = 0;
  v89 = 0;
  v86 = 0;
  v84 = 0;
  v82 = 0;
  *a5 = 1;
  v9 = *(_QWORD *)(a1 + 24);
  LOWORD(v80) = 0;
  v95 = 0;
  v94 = 0;
  *(_DWORD *)__src = 0;
  updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(v9 + 104))(a3, a4, 1, 0, (char *)&v95 + 2);
  if ((updated & 0x80000000) != 0)
    return updated;
  v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(v9 + 184))(a3, a4, HIWORD(v95), 0, &v94);
  if ((v11 & 0x80000000) == 0 && v94 == 1)
  {
    v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(v9 + 104))(a3, a4, 3, HIWORD(v95), &v95);
    if ((v11 & 0x80000000) == 0)
    {
      v12 = v95;
      if ((_WORD)v95)
      {
        v13 = 0;
        while (1)
        {
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, unsigned __int16 *, int *))(v9 + 168))(a3, a4, v12, 0, 1, __src, &v80);
          if ((updated & 0x80000000) != 0)
            return updated;
          if (*(_DWORD *)__src > 3u)
          {
            v14 = (unsigned __int16)v95;
          }
          else
          {
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(v9 + 192))(a3, a4, (unsigned __int16)v95);
            if ((updated & 0x80000000) != 0)
              return updated;
            LOWORD(v95) = v13;
            v14 = v13;
          }
          if ((_WORD)v14)
          {
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(v9 + 120))(a3, a4, (unsigned __int16)v14, &v95);
            v13 = v14;
            if ((updated & 0x80000000) != 0)
              return updated;
          }
          else
          {
            updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(v9 + 104))(a3, a4, 3, HIWORD(v95), &v95);
            if ((updated & 0x80000000) != 0)
              return updated;
          }
          v12 = v95;
          if (!(_WORD)v95)
            goto LABEL_21;
        }
      }
    }
  }
  if ((v11 & 0x80000000) != 0)
    return v11;
LABEL_21:
  if (*(_WORD *)(a1 + 144))
  {
    v15 = 0;
    v16 = 0;
    do
    {
      updated = statpunc_Process(*(_QWORD *)a1, *(_QWORD *)(a1 + 24), a3, a4, *(_QWORD *)(a1 + 136) + v15, *(unsigned __int16 *)(a1 + 160), *(_QWORD *)(a1 + 152));
      if ((updated & 0x80000000) != 0)
        return updated;
      ++v16;
      v15 += 48;
    }
    while (v16 < *(unsigned __int16 *)(a1 + 144));
  }
  v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, char *))(*(_QWORD *)(a1 + 24) + 104))(a3, a4, 1, 0, (char *)&v92 + 2);
  if ((v11 & 0x80000000) == 0
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, __int16 *))(*(_QWORD *)(a1 + 24) + 184))(a3, a4, HIWORD(v92), 0, &v81) & 0x80000000) == 0&& v81 == 1)
  {
    v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, const char **, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 176))(a3, a4, HIWORD(v92), 0, &v93, &v91);
    if ((v11 & 0x80000000) == 0 && v91 >= 2u)
    {
      v17 = (const char **)(a1 + 104);
      v18 = strlen(v93);
      v19 = (char *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 104), (v18 + 101));
      if (!v19)
      {
        log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PUNCSPTN", 33000, 0, v20, v21, v22, v23, v77);
        return 2311069706;
      }
      *(_QWORD *)(a1 + 104) = v19;
      strcpy(v19, v93);
      updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 176))(a3, a4, HIWORD(v92), 1, &v84, &v83);
      if ((updated & 0x80000000) != 0)
        return updated;
      v24 = (int *)(v84 + 12);
      v25 = *(_DWORD *)(v84 + 12);
      *(_WORD *)(a1 + 112) = 0;
      v26 = v83;
      if (v83)
      {
        v27 = 0;
        while (1)
        {
          v28 = *v24;
          v24 += 8;
          if (v28 != v25)
            break;
          if (v83 == ++v27)
            goto LABEL_39;
        }
        v26 = (unsigned __int16)v27;
      }
LABEL_39:
      HIWORD(v95) = v26;
      updated = (*(uint64_t (**)(_QWORD, _QWORD, int *, _QWORD))(*(_QWORD *)(a1 + 48) + 112))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), &v82, 0);
      if ((updated & 0x80000000) != 0)
        return updated;
      __src[0] = 0;
      updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 104))(a3, a4, 3, HIWORD(v92), &v92);
      if ((updated & 0x80000000) != 0)
        return updated;
      v29 = v92;
      if ((_WORD)v92)
      {
        v30 = 0;
        v31 = 0;
        do
        {
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, v29, 0, 1, &v86, &v91);
          if ((updated & 0x80000000) != 0)
            return updated;
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, (unsigned __int16)v92, 1, 1, &v88, &v91);
          if ((updated & 0x80000000) != 0)
            return updated;
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, (unsigned __int16)v92, 2, 1, &v87, &v91);
          if ((updated & 0x80000000) != 0)
            return updated;
          if (v86 == 5)
          {
            if (v88 <= v30 || (v32 = __src[0], v88 >= __src[0]))
            {
              v36 = 0;
              v31 = (unsigned __int16)v92;
            }
            else
            {
              v33 = v31;
              v34 = v87;
              v78 = v33;
              v35 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, __int16 *))(*(_QWORD *)(a1 + 24) + 160))(a3, a4, (unsigned __int16)v33, 2, 1, __src, &v90);
              v11 = v35;
              if (v34 > v32)
              {
                if ((v35 & 0x80000000) != 0)
                  return v11;
                updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, __int16 *))(*(_QWORD *)(a1 + 24) + 160))(a3, a4, (unsigned __int16)v92, 1, 1, __src, &v90);
                v31 = v78;
                if ((updated & 0x80000000) != 0)
                  return updated;
LABEL_56:
                v36 = 0;
                goto LABEL_57;
              }
              if ((v35 & 0x80000000) != 0)
                return v11;
              v36 = (unsigned __int16)v92;
              v31 = v78;
            }
          }
          else
          {
            if ((v86 & 0xFFFFFFFD) != 4)
              goto LABEL_56;
            v36 = 0;
            v30 = v88;
            __src[0] = v87;
          }
LABEL_57:
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 120))(a3, a4, (unsigned __int16)v92, &v92);
          if ((updated & 0x80000000) != 0)
            return updated;
          if ((_DWORD)v36)
          {
            updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)(a1 + 24) + 192))(a3, a4, v36);
            if ((updated & 0x80000000) != 0)
              return updated;
          }
          v29 = v92;
        }
        while ((_WORD)v92);
      }
      updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 104))(a3, a4, 3, HIWORD(v92), &v92);
      if ((updated & 0x80000000) != 0)
        return updated;
      v89 = v92;
      v37 = v92;
      if (!(_WORD)v92)
        goto LABEL_81;
      while (1)
      {
        updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, v37, 0, 1, &v86, &v91);
        if ((updated & 0x80000000) != 0)
          return updated;
        v38 = *(_QWORD *)(a1 + 24);
        if (v86 == 5)
        {
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(v38 + 168))(a3, a4, v89, 1, 1, &v88, &v91);
          if ((updated & 0x80000000) != 0)
            return updated;
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, v89, 2, 1, &v87, &v91);
          if ((updated & 0x80000000) != 0)
            return updated;
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 176))(a3, a4, v89, 4, &__s1, &v91);
          if ((updated & 0x80000000) != 0)
            return updated;
          if (v87 >= v88)
          {
            updated = hlp_Normalize(a1, (const char **)(a1 + 104), v93, v88, v87, __s1, a3, a4, (unsigned __int16 *)&v92, v84, (_WORD *)&v95 + 1, &v83, v25);
            if ((updated & 0x80000000) != 0)
              return updated;
            v89 = v92;
            goto LABEL_78;
          }
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 24)
                                                                                            + 120))(a3, a4, v89, &v89);
        }
        else
        {
          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(v38 + 120))(a3, a4, v89, &v89);
        }
        if ((updated & 0x80000000) != 0)
          return updated;
LABEL_78:
        if ((_WORD)v92)
        {
          v37 = v89;
          if (v89)
            continue;
        }
        v26 = HIWORD(v95);
LABEL_81:
        v39 = v83;
        if (v26 < v83)
        {
          v40 = v25 + strlen(*v17);
          v41 = (_DWORD *)(v84 + 32 * v26 + 12);
          v42 = v83 - (unint64_t)v26;
          do
          {
            *v41 = v40;
            v41 += 8;
            --v42;
          }
          while (v42);
          LOWORD(v26) = v39;
        }
        HIWORD(v95) = v26;
        updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 104))(a3, a4, 3, HIWORD(v92), &v92);
        if ((updated & 0x80000000) == 0)
        {
          for (i = v92; (_WORD)v92; i = v92)
          {
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, i, 0, 1, &v86, &v91);
            if ((updated & 0x80000000) != 0)
              return updated;
            v44 = (unsigned __int16)v92;
            if (v86 != 5)
            {
LABEL_126:
              v58 = 0;
              goto LABEL_127;
            }
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, (unsigned __int16)v92, 1, 1, &v88, &v91);
            if ((updated & 0x80000000) != 0)
              return updated;
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, (unsigned __int16)v92, 2, 1, &v87, &v91);
            if ((updated & 0x80000000) != 0)
              return updated;
            v45 = v88;
            if (v88)
            {
              v46 = *v17;
              if (v88 < (unsigned __int16)strlen(*v17))
              {
                v47 = v88 - 1;
                do
                {
                  v48 = v46[v47];
                  if (v48 == 32)
                    break;
                  if (v48 == 95)
                    break;
                  v88 = ++v45;
                  ++v47;
                }
                while (v45 < (unsigned __int16)strlen(v46));
              }
            }
            v49 = v87;
            if (v87)
            {
              v50 = *v17;
              if (v87 < (unsigned __int16)strlen(*v17))
              {
                v51 = v87 - 1;
                do
                {
                  v52 = v50[v51];
                  if (v52 == 32)
                    break;
                  if (v52 == 95)
                    break;
                  v87 = ++v49;
                  ++v51;
                }
                while (v49 < (unsigned __int16)strlen(v50));
              }
              if (v49 < (unsigned __int16)strlen(v50)
                && (*(unsigned int (**)(_QWORD, _QWORD, const char *))(*(_QWORD *)(a1 + 72) + 128))(*(_QWORD *)(a1 + 56), *(_QWORD *)(a1 + 64), &v50[v49]))
              {
                v53 = v87;
                LOWORD(v95) = 0;
                v80 = 0;
                updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 120))(a3, a4, (unsigned __int16)v92, &v95);
                if ((updated & 0x80000000) != 0)
                  return updated;
                if (!(_WORD)v95)
                {
                  v80 = 2;
LABEL_115:
                  v54 = strlen(*v17);
                  Utf8Symbol = utf8_GetUtf8Symbol(*v17, v87, v54, (char *)__src);
                  do
                    v56 = v53--;
                  while (v53 && (*v17)[v53] == 32);
                  if (v87 > v56)
                  {
                    v57 = Utf8Symbol;
                    memmove((void *)&(*v17)[v56 + Utf8Symbol], &(*v17)[v56], v87 - (unint64_t)v56);
                    strncpy((char *)&(*v17)[v56], (const char *)__src, v57);
                  }
                  goto LABEL_120;
                }
                updated = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 24) + 168))(a3, a4);
                if ((updated & 0x80000000) != 0)
                  return updated;
                if (v80 != 5)
                  goto LABEL_115;
                updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 176))(a3, a4, (unsigned __int16)v95, 4, &__s1, &v91);
                if ((updated & 0x80000000) != 0)
                  return updated;
                if (v80 != 5 || !__s1 || strcmp(__s1, "phon"))
                  goto LABEL_115;
              }
            }
LABEL_120:
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, __int16 *))(*(_QWORD *)(a1 + 24) + 160))(a3, a4, (unsigned __int16)v92, 1, 1, &v88, &v90);
            if ((updated & 0x80000000) != 0)
              return updated;
            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, __int16 *))(*(_QWORD *)(a1 + 24) + 160))(a3, a4, (unsigned __int16)v92, 2, 1, &v87, &v90);
            if ((updated & 0x80000000) != 0)
              return updated;
            v44 = (unsigned __int16)v92;
            if (v86 != 5)
              goto LABEL_126;
            if (v88 == v87)
              v58 = (unsigned __int16)v92;
            else
              v58 = 0;
LABEL_127:
            updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, int *))(*(_QWORD *)(a1 + 24) + 120))(a3, a4, v44, &v92);
            if ((updated & 0x80000000) != 0)
              return updated;
            if ((_DWORD)v58)
            {
              updated = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(_QWORD *)(a1 + 24) + 192))(a3, a4, v58);
              if ((updated & 0x80000000) != 0)
                return updated;
            }
          }
          if (*(_DWORD *)(a1 + 116) != 1
            || (updated = updateTokenDomainLanguageTags((_QWORD *)a1, a3, a4, HIWORD(v92), *(const char **)(a1 + 104)),
                (updated & 0x80000000) == 0))
          {
            hlp_AdjustMarkersToWordBoundaries(*(_QWORD *)(a1 + 104), v84, v83);
            hlp_AdjustUserTnToWordBoundaries(*(const char **)(a1 + 104), a3, a4, *(_QWORD *)(a1 + 24));
            v59 = *(const char **)(a1 + 104);
            if ((unsigned __int16)strlen(v59))
            {
              v60 = 0;
              v61 = 1;
              v62 = 1;
              while (1)
              {
                v63 = v61 - 1;
                v64 = v59[v63];
                if (v64 == 44)
                {
                  if (v59[v62] == 44)
                  {
                    v59[v62] = 32;
                    v59 = *v17;
                    v64 = (*v17)[v63];
                  }
                  else
                  {
                    v64 = 44;
                  }
                }
                if (memchr(" _", (char)v64, 3uLL)
                  && (v62 == 1 || v62 == (unsigned __int16)strlen(v59) || memchr(" _", v59[v62], 3uLL)))
                {
                  if (v62 != (unsigned __int16)strlen(v59))
                  {
                    if (v64 == 32 && v59[v62] == 95)
                    {
                      v59[v62] = 32;
                      v59 = *v17;
                    }
                    v65 = strlen(v59);
                    memmove((void *)&v59[v62 - 1], &v59[v62], v65 - v62);
                    v59 = *v17;
                  }
                  v59[strlen(v59) - 1] = 0;
                  updated = hlp_UpdateLingDBTokensForDeletion(a3, a4, *(_QWORD *)(a1 + 24), (unsigned __int16)v63);
                  if ((updated & 0x80000000) != 0)
                    return updated;
                  hlp_UpdateMarkersForDeletion(v84, v83, (unsigned __int16)v63);
                  --v60;
                  v59 = *v17;
                }
                else
                {
                  ++v62;
                }
                v61 = v62;
                if (v62 > (unsigned __int16)strlen(v59))
                  goto LABEL_154;
              }
            }
            v60 = 0;
LABEL_154:
            v66 = *(_WORD *)(a1 + 112) + v60;
            *(_WORD *)(a1 + 112) = v66;
            v82 += v66;
            updated = (*(uint64_t (**)(_QWORD, _QWORD))(*(_QWORD *)(a1 + 48) + 104))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40));
            if ((updated & 0x80000000) == 0)
            {
              v67 = *(const char **)(a1 + 104);
              *(_DWORD *)(v84 + 16) = strlen(v67);
              log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PUNCSPTN", 5, 0, (uint64_t)"Space normalization: |%s|", v68, v69, v70, (uint64_t)v67);
              hlp_AdjustPuncMarkers(*(const char **)(a1 + 104), v84, v83);
              v71 = strlen(*(const char **)(a1 + 104));
              v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, _QWORD, _QWORD, __int16 *))(*(_QWORD *)(a1 + 24) + 160))(a3, a4, HIWORD(v92), 0, (unsigned __int16)(v71 + 1), *(_QWORD *)(a1 + 104), &v90);
              if ((v11 & 0x80000000) == 0)
              {
                v81 = 0;
                if (((*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, __int16 *))(*(_QWORD *)(a1 + 24)
                                                                                              + 152))(a3, a4, 3, HIWORD(v92), &v81) & 0x80000000) == 0)
                {
                  if (v81)
                  {
                    v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24)
                                                                                              + 104))(a3, a4, 3, HIWORD(v92), &v92);
                    if ((v11 & 0x80000000) == 0)
                    {
                      v72 = v92;
                      if ((_WORD)v92)
                      {
                        v73 = 0;
                        while (1)
                        {
                          updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(a3, a4, v72, 0, 1, &v86, &v91);
                          if ((updated & 0x80000000) != 0)
                            break;
                          if (v86 == 4)
                          {
                            updated = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD))(*(_QWORD *)(a1 + 24) + 192))(a3, a4, (unsigned __int16)v92);
                            if ((updated & 0x80000000) != 0)
                              return updated;
                            LOWORD(v92) = v73;
                            v74 = v73;
                          }
                          else
                          {
                            v74 = (unsigned __int16)v92;
                          }
                          v75 = *(_QWORD *)(a1 + 24);
                          if ((_WORD)v74)
                          {
                            v11 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(v75 + 120))(a3, a4, (unsigned __int16)v74, &v92);
                            v73 = v74;
                            if ((v11 & 0x80000000) != 0)
                              return v11;
                          }
                          else
                          {
                            v11 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, _QWORD, int *))(v75 + 104))(a3, a4, 3, HIWORD(v92), &v92);
                            if ((v11 & 0x80000000) != 0)
                              return v11;
                          }
                          v72 = v92;
                          if (!(_WORD)v92)
                            return v11;
                        }
                        return updated;
                      }
                    }
                  }
                }
              }
              return v11;
            }
          }
        }
        return updated;
      }
    }
  }
  return v11;
}

uint64_t hlp_Normalize(uint64_t a1, const char **a2, const char *a3, unsigned int a4, unsigned int a5, char *a6, uint64_t a7, uint64_t a8, unsigned __int16 *a9, uint64_t a10, _WORD *a11, unsigned __int16 *a12, int a13)
{
  unsigned int v16;
  unsigned __int16 v19;
  uint64_t v20;
  _BYTE *v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  _BYTE *v26;
  uint64_t v27;
  uint64_t v28;
  unsigned __int16 v29;
  unsigned __int16 v30;
  int v31;
  uint64_t v32;
  uint64_t v33;
  unsigned int v34;
  uint64_t v35;
  char *v36;
  uint64_t v37;
  char *v38;
  uint64_t v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  int v43;
  int v44;
  int i;
  unsigned __int16 v46;
  size_t v47;
  uint64_t v48;
  int v49;
  size_t v50;
  uint64_t v51;
  int v52;
  int v53;
  unsigned __int8 v54;
  int v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  size_t v60;
  size_t v61;
  int j;
  int v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  uint64_t v67;
  int v68;
  unsigned __int16 v69;
  unsigned __int16 v70;
  uint64_t v71;
  char *v72;
  unsigned __int16 v73;
  uint64_t v74;
  __int16 v75;
  __int16 v76;
  unsigned __int8 *v77;
  int v78;
  int v79;
  const char *v80;
  uint64_t v81;
  uint64_t v82;
  uint64_t v83;
  uint64_t v84;
  char *v85;
  const char *v86;
  uint64_t v87;
  int v88;
  unint64_t v89;
  unsigned int v90;
  unsigned int v91;
  unsigned int *v92;
  unint64_t v93;
  BOOL v94;
  int v95;
  int v96;
  uint64_t v97;
  int v98;
  unsigned int v99;
  unsigned int v101;
  uint64_t v102;
  unsigned __int16 v103;
  unsigned __int16 v104;
  uint64_t v105;
  uint64_t v106;
  const char **v107;
  uint64_t v108;
  uint64_t v109;
  uint64_t m;
  __int16 v111;
  int v112;
  unsigned int v113;
  uint64_t v114;
  unsigned __int16 v115;
  uint64_t v116;
  _DWORD *v117;
  int v118;
  unsigned __int16 v119;
  int v120;
  int v121;
  int v122;
  uint64_t v123;
  char *v124;
  char *v125;
  uint64_t v126;
  char *v127;
  unsigned __int16 v128;
  unint64_t v129;
  uint64_t v130;
  uint64_t v131;
  uint64_t v132;
  unsigned __int16 v133;
  uint64_t v134;
  unsigned __int16 v135;
  __int16 v136;
  char *v137;
  const char *v138;
  size_t v139;
  uint64_t v140;
  uint64_t v141;
  char *v142;
  char *v143;
  uint64_t v144;
  unsigned int v145;
  unint64_t v146;
  uint64_t v147;
  int v148;
  int *v149;
  unint64_t v150;
  int v151;
  char *v152;
  int v153;
  int v154;
  uint64_t v155;
  unint64_t v156;
  _WORD *v157;
  unint64_t v158;
  int v159;
  int v160;
  _WORD *v161;
  unint64_t v162;
  unsigned int v163;
  _DWORD *v164;
  size_t v165;
  int v166;
  int v167;
  int v168;
  unsigned __int16 v169;
  uint64_t v171;
  uint64_t v172;
  uint64_t v173;
  unsigned int v174;
  int v175;
  uint64_t v176;
  _DWORD *v177;
  int v178;
  unsigned __int16 v179;
  uint64_t v180;
  uint64_t v181;
  uint64_t v182;
  unsigned __int16 v183;
  uint64_t v184;
  uint64_t v185;
  uint64_t v186;
  uint64_t v187;
  uint64_t v188;
  int v189;
  __int16 v190;
  int v191;
  __int16 v192;
  unsigned __int16 k;
  unsigned __int16 v194;
  __int16 v195;
  uint64_t v196;
  char *v197;
  int v198;
  uint64_t v199;
  __int16 v200;
  uint64_t v201;
  unsigned int v202;
  int v203;
  uint64_t v204;
  uint64_t v205;
  int v206;
  int v207;
  int v208;
  char v209;
  uint64_t v210;
  int v211;
  int v212;
  unsigned int v213;
  unsigned int v214;
  uint64_t v215;
  unsigned __int16 v216;
  const char **v217;
  char *__s1;
  int v219;
  unsigned __int8 v220;
  unsigned __int16 v221;
  uint64_t v223;
  int v225;
  int v226;
  int v227;
  int v228;
  uint64_t v229;
  char *v230;
  unsigned __int16 v231;
  unsigned __int16 v232;
  unsigned __int16 v233;
  unsigned __int8 *v234;
  char *v235;
  char *v236;
  int v237;
  char *v238;
  unsigned __int16 v239;
  unsigned __int16 v240;
  unsigned __int16 v241;
  char __s[128];
  uint64_t v243;

  v16 = a4;
  v243 = *MEMORY[0x1E0C80C00];
  v241 = 0;
  v240 = a4;
  v239 = a4;
  v237 = 0;
  v233 = 0;
  v232 = *a9;
  v231 = a4;
  v19 = strlen(*a2);
  v229 = 0;
  v227 = 0;
  v228 = 0;
  v226 = 0;
  strcpy(__s, "disambiguate_punctuation");
  v221 = strlen(__s);
  v20 = (int)(a5 - v16 + 129);
  v21 = (_BYTE *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 80), v20);
  if (!v21)
    goto LABEL_106;
  *(_QWORD *)(a1 + 80) = v21;
  *v21 = 0;
  v26 = (_BYTE *)heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 88), v20);
  if (!v26)
    goto LABEL_106;
  *(_QWORD *)(a1 + 88) = v26;
  *v26 = 0;
  v27 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 96), v20);
  if (!v27)
    goto LABEL_106;
  v217 = a2;
  __s1 = a6;
  v223 = a7;
  v216 = v19;
  v28 = 0;
  v238 = 0;
  v235 = 0;
  v236 = 0;
  v234 = 0;
  v230 = 0;
  *(_QWORD *)(a1 + 96) = v27;
  v220 = 1;
  v29 = *a9;
  if (*a9)
  {
    v30 = v16;
    LOWORD(v219) = 0;
    v31 = 0;
    if (a5 > v16)
    {
      v31 = 0;
      v219 = 0;
      v215 = (unsigned __int16)(a5 - v16) + 1;
      v220 = 1;
      v30 = v16;
      do
      {
        v32 = a8;
        v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(v223, a8, v29, 0, 1, &v237, &v241);
        if ((v33 & 0x80000000) != 0)
          return v33;
        v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(v223, a8, *a9, 1, 1, &v240, &v241);
        if ((v28 & 0x80000000) != 0)
          return v28;
        v34 = v240;
        if (v240 < a5 && (v237 & 0xFFFFFFFD) == 4)
        {
          (*(void (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(v223, a8, *a9, 2, 1, &v239, &v241);
          if (v237 == 6)
          {
            v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 176))(v223, a8, *a9, 4, &v238, &v241);
            v35 = v223;
            if ((v33 & 0x80000000) != 0)
              return v33;
          }
          else
          {
            v238 = "_DT_";
            v35 = v223;
          }
          v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 176))(v35, a8, *a9, 3, &v230, &v241);
          if ((v28 & 0x80000000) != 0)
            return v28;
          v213 = a5;
          v36 = v230;
          v37 = v239;
          v31 = v31 + strlen(v230) - v239 + v240;
          while (1)
          {
            v38 = strstr(v36, "▲");
            if (!v38)
              break;
            if (!v38[3])
              goto LABEL_236;
            v43 = v31 - 3;
            v36 = v38 + 6;
            while (strncmp(v36 - 3, "▼", 3uLL))
            {
              --v43;
              v44 = *(v36 - 2);
              ++v36;
              if (!v44)
                goto LABEL_236;
            }
            v31 = v43 - 3;
            v230 = v36;
          }
          strncat(*(char **)(a1 + 80), &(*a2)[v30 + *(__int16 *)(a1 + 112)], v37 - v30);
          if (v240 > v30)
          {
            for (i = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)&(*a2)[v30 + *(__int16 *)(a1 + 112)], v240 - v30); i; --i)
              *(_WORD *)(*(_QWORD *)(a1 + 88) + strlen(*(const char **)(a1 + 88))) = 32;
          }
          v46 = Utf8_LengthInUtf8chars((unint64_t)&(*a2)[v240 + *(__int16 *)(a1 + 112)], v239 - v240);
          v47 = strlen(v238);
          if ((__int16)v46 >= (__int16)(2 * v47 - 2))
          {
            *(_WORD *)(*(_QWORD *)(a1 + 88) + strlen(*(const char **)(a1 + 88))) = 88;
            v50 = strlen(v238);
            strncat(*(char **)(a1 + 88), v238 + 1, v50 - 2);
            v51 = v46 + 2;
            if (v51 != 2 * strlen(v238))
            {
              v52 = 0;
              do
              {
                *(_WORD *)(*(_QWORD *)(a1 + 88) + strlen(*(const char **)(a1 + 88))) = 126;
                ++v52;
              }
              while (v51 - 2 * strlen(v238) > (unsigned __int16)v52);
            }
          }
          else
          {
            v48 = -2 - v46;
            if (v48 + 2 * v47)
            {
              v53 = 0;
              v49 = v219;
              while (1)
              {
                v54 = v220;
                v55 = v49;
                if (v220 << 7 == (unsigned __int16)v49)
                {
                  ++v220;
                  v56 = v215 + ((unint64_t)(v54 + 1) << 7);
                  v57 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 80), v56);
                  if (!v57)
                    goto LABEL_106;
                  *(_QWORD *)(a1 + 80) = v57;
                  v58 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 88), v56);
                  if (!v58)
                    goto LABEL_106;
                  *(_QWORD *)(a1 + 88) = v58;
                  v59 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), *(_QWORD *)(a1 + 96), v56);
                  if (!v59)
                    goto LABEL_106;
                  *(_QWORD *)(a1 + 96) = v59;
                }
                *(_WORD *)(*(_QWORD *)(a1 + 80) + strlen(*(const char **)(a1 + 80))) = 126;
                ++v53;
                v49 = v55 + 1;
                if (v48 + 2 * strlen(v238) <= (unsigned __int16)v53)
                  goto LABEL_47;
              }
            }
            v49 = v219;
LABEL_47:
            v219 = v49;
            *(_WORD *)(*(_QWORD *)(a1 + 88) + strlen(*(const char **)(a1 + 88))) = 88;
            v60 = strlen(v238);
            strncat(*(char **)(a1 + 88), v238 + 1, v60 - 2);
          }
          *(_WORD *)(*(_QWORD *)(a1 + 88) + strlen(*(const char **)(a1 + 88))) = 89;
          v61 = strlen(v238);
          strncat(*(char **)(a1 + 88), v238 + 1, v61 - 2);
          v30 = v239;
          v231 = v239;
          v34 = v240;
          a5 = v213;
          v32 = a8;
        }
        if (v34 < a5)
        {
          v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 120))(v223, v32, *a9, a9);
          if ((v28 & 0x80000000) != 0)
            return v28;
          v34 = v240;
        }
        v29 = *a9;
      }
      while (*a9 && v34 < a5);
    }
  }
  else
  {
    v30 = v16;
    LOWORD(v219) = 0;
    v31 = 0;
  }
  if (a5 > v30)
  {
    strncat(*(char **)(a1 + 80), &(*a2)[v30 + *(__int16 *)(a1 + 112)], (int)(a5 - v30));
    for (j = (unsigned __int16)Utf8_LengthInUtf8chars((unint64_t)&(*a2)[v30 + *(__int16 *)(a1 + 112)], a5 - v30);
          j;
          --j)
    {
      *(_WORD *)(*(_QWORD *)(a1 + 88) + strlen(*(const char **)(a1 + 88))) = 32;
    }
  }
  if (strstr(__s1, "spell"))
  {
    v63 = (unsigned __int16)strlen(*(const char **)(a1 + 80));
    if (v63)
    {
      do
      {
        v64 = *(_QWORD *)(a1 + 80);
        v65 = (v63 - 1);
        if (*(_BYTE *)(v64 + v65) != 32)
          break;
        *(_BYTE *)(v64 + v65) = 0;
        *(_BYTE *)(*(_QWORD *)(a1 + 88) + (unsigned __int16)Utf8_LengthInUtf8chars(*(_QWORD *)(a1 + 80), v65)) = 0;
        --v31;
        v63 = (unsigned __int16)v65;
      }
      while ((_WORD)v65);
    }
  }
  if (v220 << 7 < (unsigned __int16)v219)
    goto LABEL_58;
  v68 = strlen(*(const char **)(a1 + 80));
  v69 = Utf8_LengthInUtf8chars(*(_QWORD *)(a1 + 80), v68);
  v70 = v69;
  if (v69)
  {
    v71 = 0;
    do
      *(_BYTE *)(*(_QWORD *)(a1 + 96) + v71++) = 1;
    while (v69 != v71);
  }
  v72 = *(char **)(a1 + 88);
  v73 = strlen(v72);
  v74 = v73;
  if (v73)
  {
    v75 = 0;
    v76 = 0;
    v77 = *(unsigned __int8 **)(a1 + 88);
    do
    {
      v79 = *v77++;
      v78 = v79;
      if (v79 == 88)
        ++v76;
      if (v78 == 89)
        ++v75;
      --v74;
    }
    while (v74);
  }
  else
  {
    v73 = 0;
    v76 = 0;
    v75 = 0;
  }
  v231 = v73;
  if (*(_DWORD *)(a1 + 124))
  {
    if (!v16 && *v72 == 32)
      *v72 = 40;
    if (a5 == (unsigned __int16)strlen(a3))
    {
      v80 = *(const char **)(a1 + 88);
      v81 = (unsigned __int16)strlen(v80) - 1;
      if (v80[v81] == 32)
        v80[v81] = 41;
    }
  }
  if (!strcmp(__s1, "internal-nuance-system-norm")
    || !strcmp(__s1, "phon")
    || *(_DWORD *)(a1 + 120) && strcmp(__s1, "spell") && !ToNorm(*(unsigned __int8 **)(a1 + 80)))
  {
    v85 = *(char **)(a1 + 80);
    v235 = *(char **)(a1 + 88);
    v236 = v85;
    v234 = *(unsigned __int8 **)(a1 + 96);
    goto LABEL_85;
  }
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PUNCSPTN", 5, 0, (uint64_t)"%s L1: %s", v82, v83, v84, (uint64_t)__s);
  v179 = strlen(*(const char **)(a1 + 80));
  v33 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 48) + 120))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), 0, *(_QWORD *)(a1 + 80), v179);
  if ((v33 & 0x80000000) != 0)
    return v33;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PUNCSPTN", 5, 0, (uint64_t)"%s L2: %s", v180, v181, v182, (uint64_t)__s);
  v183 = strlen(*(const char **)(a1 + 88));
  v33 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, _QWORD, _QWORD))(*(_QWORD *)(a1 + 48) + 120))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), 1, *(_QWORD *)(a1 + 88), v183);
  if ((v33 & 0x80000000) != 0)
    return v33;
  v33 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, _QWORD))(*(_QWORD *)(a1 + 48) + 88))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), *(_QWORD *)(a1 + 96), v70);
  if ((v33 & 0x80000000) != 0)
    return v33;
  if (strcmp(__s1, "normal") && strlen(__s1) + v221 + 2 <= 0x7F)
  {
    __strcat_chk();
    __strcat_chk();
  }
  if (((*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 48) + 80))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), __s) & 0x80000000) != 0)
  {
    __s[v221] = 0;
    v33 = (*(uint64_t (**)(_QWORD, _QWORD, char *))(*(_QWORD *)(a1 + 48) + 80))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), __s);
    if ((v33 & 0x80000000) != 0)
      return v33;
  }
  v33 = (*(uint64_t (**)(_QWORD, _QWORD, _QWORD, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 48) + 128))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), 0, &v236, &v233);
  if ((v33 & 0x80000000) != 0)
    return v33;
  if (strstr(__s1, "spell"))
  {
    v187 = v233++;
    v236[v187] = 32;
  }
  v236[v233] = 0;
  log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PUNCSPTN", 5, 0, (uint64_t)"%s O1: %s", v184, v185, v186, (uint64_t)__s);
  v33 = (*(uint64_t (**)(_QWORD, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 48) + 128))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), 1, &v235, &v233);
  if ((v33 & 0x80000000) != 0)
    return v33;
  if (strstr(__s1, "spell"))
  {
    v188 = v233++;
    v235[v188] = 32;
  }
  v235[v233] = 0;
  v189 = strlen(v236);
  v190 = Utf8_LengthInUtf8chars((unint64_t)v236, v189);
  v191 = strlen(v235);
  v192 = Utf8_LengthInUtf8chars((unint64_t)v235, v191) ^ v190;
  v66 = *(_QWORD *)(*(_QWORD *)a1 + 32);
  if (v192)
  {
    v28 = 2311069696;
    goto LABEL_59;
  }
  log_OutText(v66, (uint64_t)"FE_PUNCSPTN", 5, 0, (uint64_t)"%s O2: %s", v40, v41, v42, (uint64_t)__s);
  v194 = strlen(v235);
  if (v194)
  {
    v195 = 0;
    v196 = v194;
    v197 = v235;
    do
    {
      v198 = *v197++;
      if (v198 == 88)
        ++v195;
      --v196;
    }
    while (v196);
    v231 = v194;
    if (v195 != v76)
      goto LABEL_58;
    v199 = 0;
    v200 = 0;
    do
    {
      if (v235[v199] == 89)
        ++v200;
      ++v199;
    }
    while (v194 != v199);
  }
  else
  {
    if (v76)
    {
LABEL_58:
      v28 = 2311069696;
      v66 = *(_QWORD *)(*(_QWORD *)a1 + 32);
LABEL_59:
      v67 = 33002;
      goto LABEL_237;
    }
    LOWORD(v199) = 0;
    v200 = 0;
  }
  v231 = v199;
  if (v200 != v75)
    goto LABEL_58;
  v28 = (*(uint64_t (**)(_QWORD, _QWORD, unsigned __int8 **, unsigned __int16 *))(*(_QWORD *)(a1 + 48) + 96))(*(_QWORD *)(a1 + 32), *(_QWORD *)(a1 + 40), &v234, &v233);
  if ((v28 & 0x80000000) != 0)
    return v28;
  if (strstr(__s1, "spell"))
  {
    v201 = v233++;
    v234[v201] = 0;
  }
LABEL_85:
  v86 = *(const char **)(a1 + 80);
  if (*v86 != 32)
  {
    v87 = 0;
    v88 = 0;
    while (v236[v87] == 32)
    {
      v87 = ++v88;
      if (v86[v88] == 32)
        goto LABEL_91;
    }
    LODWORD(v87) = v88;
LABEL_91:
    if ((_DWORD)v87)
    {
      v89 = *a12;
      if (v89 >= 2)
      {
        v90 = *(_DWORD *)(a10 + 12) + v16 + *(__int16 *)(a1 + 112);
        v91 = v90 + v87;
        v92 = (unsigned int *)(a10 + 44);
        v93 = v89 - 1;
        do
        {
          v94 = v90 > *v92 || *v92 >= v91;
          if (!v94)
            *v92 = v91;
          v92 += 8;
          --v93;
        }
        while (v93);
      }
    }
  }
  v95 = v31 + strlen(v236);
  v96 = (__int16)(v95 - strlen(v86));
  if (v96 <= 0)
  {
    if (v96 < 0)
    {
      for (k = *(_WORD *)(a1 + 112) + a5; k <= (unsigned __int16)strlen(*v217); ++k)
        (*v217)[k + v96] = (*v217)[k];
    }
    goto LABEL_109;
  }
  v97 = heap_Realloc(*(uint64_t **)(*(_QWORD *)a1 + 8), (uint64_t)*v217, (unsigned __int16)(v216 + v96 + 101));
  if (!v97)
  {
LABEL_106:
    log_OutPublic(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PUNCSPTN", 33000, 0, v22, v23, v24, v25, v202);
    return 2311069706;
  }
  *v217 = (const char *)v97;
  bzero((void *)(v97 + v216), (unsigned __int16)(v96 + 101));
  v98 = strlen(*v217);
  if ((int)(*(__int16 *)(a1 + 112) + a5) <= (unsigned __int16)v98)
  {
    v99 = (unsigned __int16)v98;
    do
    {
      (*v217)[v99 + (unint64_t)v96] = (*v217)[(unsigned __int16)v98--];
      v99 = (unsigned __int16)v98;
    }
    while ((int)(*(__int16 *)(a1 + 112) + a5) <= (unsigned __int16)v98);
  }
LABEL_109:
  v101 = 0;
  v102 = 0;
  v240 = v16;
  v231 = 0;
  LOWORD(v226) = 0;
  v103 = *(_WORD *)(a1 + 112) + v16;
  v104 = v232;
  if (!v232 || a5 <= v16)
  {
    LOWORD(v211) = 0;
    LODWORD(v105) = 0;
    goto LABEL_239;
  }
  v208 = *(unsigned __int16 *)(a1 + 112) + v16;
  v105 = 0;
  v211 = 0;
  v205 = a10 + 12;
  v106 = a8;
  v107 = v217;
  while (1)
  {
    v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(v223, v106, v104, 0, 1, &v237, &v241);
    if ((v33 & 0x80000000) != 0)
      return v33;
    if (v237 != 7)
    {
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(v223, v106, v232, 1, 1, &v240, &v241);
      if ((v33 & 0x80000000) != 0)
        return v33;
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, unsigned __int16 *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(v223, v106, v232, 2, 1, &v239, &v241);
      if ((v33 & 0x80000000) != 0)
        return v33;
    }
    if (v240 >= a5)
      goto LABEL_232;
    if ((v237 & 0xFFFFFFFD) == 4)
      break;
    if (v237 == 5)
    {
      v111 = *(_WORD *)(a1 + 112);
      HIWORD(v228) = v111 + v240;
      LOWORD(v228) = v111 + v96 + v239;
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 24)
                                                                                                  + 160))(v223, v106, v232, 1, 1, (char *)&v228 + 2, (char *)&v227 + 2);
      if ((v33 & 0x80000000) != 0)
        return v33;
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 24)
                                                                                                 + 160))(v223, v106, v232, 2, 1, &v228, (char *)&v227 + 2);
      if ((v33 & 0x80000000) != 0)
        return v33;
    }
LABEL_232:
    v28 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 120))(v223, v106, v232, &v232);
    if ((v28 & 0x80000000) != 0)
      return v28;
    v104 = v232;
    if (!v232 || v240 >= a5)
    {
      v101 = v231;
      v102 = (unsigned __int16)v226;
      v103 = v208;
LABEL_239:
      v168 = v105;
      do
        v169 = v168;
      while (v235[(unsigned __int16)v168++]);
      hlp_updateBytePositions(v169, (unsigned __int8 *)v236, v234, *(unsigned __int8 **)(a1 + 80), &v231, &v226);
      if ((int)(v231 - v101 + v103) <= v96 + v216 + 100)
      {
        memcpy((void *)&(*v217)[v103], &v236[v101], v231 - (unint64_t)v101);
        log_OutText(*(_QWORD *)(*(_QWORD *)a1 + 32), (uint64_t)"FE_PUNCSPTN", 5, 0, (uint64_t)"Normalizing to: |%s|", v171, v172, v173, (uint64_t)*v217);
        v174 = (unsigned __int16)*a11;
        if (v174 < *a12)
        {
          v175 = a13 + (unsigned __int16)v16;
          do
          {
            v176 = a10 + 32 * (unsigned __int16)v174;
            v178 = *(_DWORD *)(v176 + 12);
            v177 = (_DWORD *)(v176 + 12);
            if ((int)a5 < (__int16)(v178 - a13))
              break;
            hlp_updateMarkerPosition(*(_QWORD *)(a1 + 80) + v102, (uint64_t)&v234[(unsigned __int16)v105], (unsigned __int8 *)&v236[v101], v175, (unsigned __int16)(v169 - v105), *(__int16 *)(a1 + 112) + (__int16)v211, v177);
            LOWORD(v174) = *a11 + 1;
            *a11 = v174;
          }
          while (*a12 > (unsigned __int16)v174);
        }
        *(_WORD *)(a1 + 112) += v96;
        return v28;
      }
      goto LABEL_58;
    }
  }
  v108 = v231;
  v109 = (unsigned __int16)v226;
  for (m = v105; v235[(unsigned __int16)m] && v235[(unsigned __int16)m] != 88; m = (m + 1))
    ;
  v207 = v96;
  v214 = a5;
  hlp_updateBytePositions((unsigned __int16)m, (unsigned __int8 *)v236, v234, *(unsigned __int8 **)(a1 + 80), &v231, &v226);
  v112 = v231;
  memcpy((void *)&(*v107)[(unsigned __int16)v208], &v236[v108], v231 - v108);
  v113 = (unsigned __int16)*a11;
  if (v113 < *a12)
  {
    v114 = (unsigned __int16)v105;
    v115 = m - v105;
    do
    {
      v116 = a10 + 32 * (unsigned __int16)v113;
      v118 = *(_DWORD *)(v116 + 12);
      v117 = (_DWORD *)(v116 + 12);
      if (v240 <= (__int16)(v118 - a13))
        break;
      hlp_updateMarkerPosition(*(_QWORD *)(a1 + 80) + v109, (uint64_t)&v234[v114], (unsigned __int8 *)&v236[v108], a13 + (unsigned __int16)v16, v115, *(__int16 *)(a1 + 112) + (__int16)v211, v117);
      LOWORD(v113) = *a11 + 1;
      *a11 = v113;
    }
    while (*a12 > (unsigned __int16)v113);
  }
  v119 = 0;
  v206 = v112 - v108 + v208;
  v212 = v16 + v211 + v112 - v108 - v240;
  v16 = v239;
  while (2)
  {
    v120 = v235[(unsigned __int16)m];
    if (v120 == 88)
    {
      v119 = m;
LABEL_136:
      m = (m + 1);
      continue;
    }
    break;
  }
  if (v235[(unsigned __int16)m] && v120 != 89)
    goto LABEL_136;
  v121 = 2 * (unsigned __int16)m;
  if (v120 != 89)
    v121 = 0;
  v122 = v121 - v119;
  v105 = m;
  a5 = v214;
  v107 = v217;
  v123 = a8;
  do
  {
    if (v120 == 41 && *(_DWORD *)(a1 + 124))
      break;
    if (!v120)
      break;
    if (v120 == 32)
      break;
    if (v120 == 126)
      break;
    if (v122 == (unsigned __int16)v105)
      break;
    v105 = (v105 + 1);
    v120 = v235[(unsigned __int16)v105];
  }
  while (v120 != 88);
  hlp_updateBytePositions((unsigned __int16)v105, (unsigned __int8 *)v236, v234, *(unsigned __int8 **)(a1 + 80), &v231, &v226);
  v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, char **, unsigned __int16 *))(*(_QWORD *)(a1 + 24)
                                                                                                  + 176))(v223, a8, v232, 3, &v230, &v241);
  if ((v33 & 0x80000000) != 0)
    return v33;
  LOWORD(v227) = 0;
  HIWORD(v226) = 0;
  if (v237 == 6
    && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, int *))(*(_QWORD *)(a1 + 24) + 184))(v223, a8, v232, 5, &v227) & 0x80000000) == 0&& (unsigned __int16)v227 == 1)
  {
    v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, char *))(*(_QWORD *)(a1 + 24) + 176))(v223, a8, v232, 5, &v229, (char *)&v226 + 2);
    if ((v33 & 0x80000000) != 0)
      return v33;
  }
  v124 = strstr(v230, "▲");
  if (!v124)
  {
LABEL_192:
    v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(v223, v123, v232, 0, 1, &v237, &v241);
    if ((v33 & 0x80000000) != 0)
      return v33;
    LOWORD(v227) = 0;
    v140 = v223;
    if (v237 == 6
      && ((*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, int *))(*(_QWORD *)(a1 + 24) + 184))(v223, v123, v232, 5, &v227) & 0x80000000) == 0&& (unsigned __int16)v227 == 1)
    {
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 176))(v223, v123, v232, 5, &v229, &v241);
      if ((v33 & 0x80000000) != 0)
        return v33;
      v141 = v240;
      v142 = (char *)&a3[v240];
      v143 = strchr(v142, 32);
      LOWORD(v144) = 0;
      v145 = (unsigned __int16)*a11;
      LODWORD(v146) = *a12;
      v203 = v141;
      if (v143 && v241 >= 2u)
      {
        v144 = 0;
        v210 = v241 - 1;
        v204 = v141 - (_QWORD)v142;
        v147 = v229;
        v148 = a13 + (__int16)v212 + v141;
        do
        {
          if (v145 < v146 && (uint64_t)&v143[v204] > (__int16)(*(_WORD *)(a10 + 32 * v145 + 12) - a13))
          {
            v149 = (int *)(a10 + 44 + 32 * v145);
            v150 = v145 + 1;
            do
            {
              *(v149 - 8) = v148 + *(__int16 *)(a1 + 112) + *(unsigned __int16 *)(v147 + 2 * v144);
              v145 = (unsigned __int16)v150;
              *a11 = v150;
              v146 = *a12;
              if (v150 >= v146)
                break;
              v151 = *v149;
              v149 += 8;
              ++v150;
            }
            while ((uint64_t)&v143[v204] > (__int16)(v151 - a13));
          }
          v152 = v143 - 1;
          do
            v153 = *++v152;
          while (v153 == 32);
          v143 = strchr(v152, 32);
          ++v144;
        }
        while (v143 && v144 < v210);
      }
      v94 = v145 >= v146;
      v140 = v223;
      if (!v94)
      {
        v154 = v239;
        v155 = v229;
        v156 = v145;
        v157 = (_WORD *)(v205 + 32 * v145);
        do
        {
          if (v154 <= (__int16)(*v157 - a13))
            break;
          *(_DWORD *)v157 = a13
                          + (__int16)v212
                          + v203
                          + *(__int16 *)(a1 + 112)
                          + *(unsigned __int16 *)(v155 + 2 * (unsigned __int16)v144);
          v157 += 16;
          *a11 = ++v156;
        }
        while (v156 < *a12);
      }
    }
    else if (!strcmp(__s1, "prompt") || !strcmp(__s1, "internal-nuance-system-norm"))
    {
      v162 = (unsigned __int16)*a11;
      if (v162 < *a12)
      {
        v163 = v239;
        v164 = (_DWORD *)(v205 + 32 * v162);
        do
        {
          if (v163 <= (unsigned __int16)(*v164 - a13))
            break;
          *v164 += (__int16)v212 + *(__int16 *)(a1 + 112);
          v164 += 8;
          *a11 = ++v162;
        }
        while (v162 < *a12);
      }
    }
    else
    {
      v158 = (unsigned __int16)*a11;
      if (v158 < *a12)
      {
        v159 = v239;
        v160 = a13 + (__int16)v212 + v240;
        v161 = (_WORD *)(v205 + 32 * v158);
        do
        {
          if (v159 <= (__int16)(*v161 - a13))
            break;
          *(_DWORD *)v161 = v160 + *(__int16 *)(a1 + 112);
          v161 += 16;
          *a11 = ++v158;
        }
        while (v158 < *a12);
      }
    }
    v165 = strlen(v230);
    memcpy((void *)&(*v107)[(unsigned __int16)v206], v230, v165);
    v166 = strlen(v230);
    if (v237 == 6)
      HIWORD(v228) = v240 + v212 + *(_WORD *)(a1 + 112);
    v208 = v206 + v166;
    v167 = v212 + strlen(v230);
    v211 = v167 - v239 + v240;
    v96 = v207;
    if (v237 == 6)
    {
      LOWORD(v228) = v167 + v240 + *(_WORD *)(a1 + 112);
      v106 = a8;
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 24)
                                                                                                  + 160))(v140, a8, v232, 1, 1, (char *)&v228 + 2, (char *)&v227 + 2);
      if ((v33 & 0x80000000) != 0)
        return v33;
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, int *, char *))(*(_QWORD *)(a1 + 24)
                                                                                                 + 160))(v140, a8, v232, 2, 1, &v228, (char *)&v227 + 2);
      if ((v33 & 0x80000000) != 0)
        return v33;
    }
    else
    {
      v106 = a8;
    }
    goto LABEL_232;
  }
  v125 = v124;
  v209 = 0;
  while (1)
  {
    v225 = 0;
    v125[2] = 0;
    *(_WORD *)v125 = 0;
    if (!v125[3])
      break;
    v126 = 0;
    while (1)
    {
      v127 = &v125[v126];
      if (!strncmp(&v125[v126 + 3], "▼", 3uLL))
        break;
      ++v126;
      if (!v127[4])
        goto LABEL_236;
    }
    *(_WORD *)(v127 + 3) = 0;
    v127[5] = 0;
    v128 = HIWORD(v226);
    if (HIWORD(v226))
    {
      v129 = 0;
      v130 = v229;
      v131 = v125 - v230 + v126 + 3;
      do
      {
        if (v130)
        {
          v132 = *(unsigned __int16 *)(v130 + 2 * v129);
          if (v131 < v132)
          {
            *(_WORD *)(v130 + 2 * v129) = v132 + -6 - v126;
            v128 = HIWORD(v226);
          }
        }
        ++v129;
      }
      while (v129 < v128);
    }
    LOWORD(v225) = v232;
    v33 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 24) + 168))(v223, a8);
    if ((v33 & 0x80000000) != 0)
      return v33;
    v133 = 0;
    while (HIWORD(v225) == v240)
    {
      v134 = v223;
      if (!(_WORD)v225)
        goto LABEL_174;
      v133 = v225;
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 120))(v223, a8, (unsigned __int16)v225, &v225);
      if ((v33 & 0x80000000) != 0)
        return v33;
      if (!(_WORD)v225)
        break;
      v33 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 24) + 168))(v223, a8);
      if ((v33 & 0x80000000) != 0)
        return v33;
    }
    v134 = v223;
LABEL_174:
    LOWORD(v225) = v133;
    v135 = v133;
    if ((v209 & 1) != 0)
    {
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 120))(v134, a8, v133, &v225);
      if ((v33 & 0x80000000) != 0)
        return v33;
      v135 = v225;
      v134 = v223;
    }
    if (v135)
    {
      v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, unsigned __int16 *))(*(_QWORD *)(a1 + 24) + 168))(v134, a8, v135, 0, 1, &v237, &v241);
      if ((v33 & 0x80000000) != 0)
        return v33;
      while ((_WORD)v225)
      {
        v134 = v223;
        if (v237 != 7)
          goto LABEL_186;
        v133 = v225;
        v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 120))(v223, a8, (unsigned __int16)v225, &v225);
        if ((v33 & 0x80000000) != 0)
          return v33;
        if (!(_WORD)v225)
          break;
        v33 = (*(uint64_t (**)(uint64_t, uint64_t))(*(_QWORD *)(a1 + 24) + 168))(v223, a8);
        if ((v33 & 0x80000000) != 0)
          return v33;
      }
      v134 = v223;
    }
LABEL_186:
    LOWORD(v225) = v133;
    v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, int *))(*(_QWORD *)(a1 + 24) + 80))(v134, a8, v133, &v225);
    if ((v33 & 0x80000000) != 0)
      return v33;
    v237 = 7;
    v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, _QWORD, uint64_t, int *, char *))(*(_QWORD *)(a1 + 24)
                                                                                              + 160))(v134, a8, (unsigned __int16)v225, 0, 1, &v237, (char *)&v227 + 2);
    if ((v33 & 0x80000000) != 0)
      return v33;
    HIWORD(v225) = v240 + v212 + *(_WORD *)(a1 + 112) + (_WORD)v125 - (_WORD)v230;
    v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 24)
                                                                                                + 160))(v134, a8, (unsigned __int16)v225, 1, 1, (char *)&v225 + 2, (char *)&v227 + 2);
    if ((v33 & 0x80000000) != 0)
      return v33;
    v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, uint64_t, char *, char *))(*(_QWORD *)(a1 + 24)
                                                                                                + 160))(v134, a8, (unsigned __int16)v225, 2, 1, (char *)&v225 + 2, (char *)&v227 + 2);
    if ((v33 & 0x80000000) != 0)
      return v33;
    v136 = strlen(v125 + 3);
    v33 = (*(uint64_t (**)(uint64_t, uint64_t, _QWORD, uint64_t, _QWORD, char *, char *))(*(_QWORD *)(a1 + 24)
                                                                                               + 160))(v134, a8, (unsigned __int16)v225, 4, (unsigned __int16)(v136 + 1), v125 + 3, (char *)&v227 + 2);
    if ((v33 & 0x80000000) != 0)
      return v33;
    v137 = &v230[strlen(v230)];
    v138 = &v125[v126 + 6];
    v139 = strlen(v138);
    memmove(v137, v138, v139 + 1);
    v125 = strstr(v230, "▲");
    v209 = 1;
    v107 = v217;
    v123 = a8;
    if (!v125)
      goto LABEL_192;
  }
LABEL_236:
  v28 = 2311069696;
  v66 = *(_QWORD *)(*(_QWORD *)a1 + 32);
  v67 = 33003;
LABEL_237:
  log_OutPublic(v66, (uint64_t)"FE_PUNCSPTN", v67, 0, v39, v40, v41, v42, v202);
  return v28;
}

