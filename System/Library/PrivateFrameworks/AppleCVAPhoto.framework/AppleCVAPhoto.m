void sub_1B5657738()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B565774C()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B5657760()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B5657774()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B5657788()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B565779C()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B56577B0()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B56577C4()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B56577D8()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B56577EC()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B5657800()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B5657814()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B5657828()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B565783C()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B5657850()
{
  objc_autoreleasePoolPop((void *)MEMORY[0x1B5E4E0C8]());
}

void sub_1B56579C8(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5657B58(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5657D30(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, void *a17, void *a18, void *a19)
{
  void *v19;

  _Unwind_Resume(a1);
}

void sub_1B5657DC0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  a9.super_class = (Class)CVADisparityPostprocessingRequest;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B5657FD0(void *a1)
{
  __cxa_begin_catch(a1);
  std::terminate();
}

void sub_1B5658080(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5658208(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5658290(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  a9.super_class = (Class)CVAMattingRequest;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B565841C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5658480(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  void *v9;
  void *v10;

  v10 = v9;
  a9.receiver = v10;
  a9.super_class = (Class)CVAPortraitRequest;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B5658674(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B56586D8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  void *v9;
  void *v10;

  v10 = v9;
  a9.receiver = v10;
  a9.super_class = (Class)CVAPortraitRequest_StageLight;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B5658AE8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  void *v9;
  void *v10;

  v10 = v9;
  a9.receiver = v10;
  a9.super_class = (Class)CVAPortraitGenericRequestCubeImpl;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B5658C88(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5658D10(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, id a12)
{
  void *v12;

  _Unwind_Resume(a1);
}

uint64_t sub_1B5658D40(uint64_t a1, _QWORD *a2, void *a3, uint64_t a4, void *a5)
{
  id v9;
  id v10;
  void *v11;
  uint64_t v12;
  uint64_t v13;
  void *v14;
  void *v15;
  _QWORD *v16;
  uint64_t v17;
  const __CFString *v19;
  id v20;
  _QWORD v21[2];
  _QWORD v22[2];
  uint64_t (**v23)();
  unint64_t v24;
  id v25;
  uint64_t (***v26)();
  _QWORD v27[3];
  _QWORD *v28;
  uint64_t v29;

  v29 = *MEMORY[0x1E0C80C00];
  v9 = a3;
  v23 = &off_1E69367B8;
  v24 = a1 | (unint64_t)(a4 << 32);
  v25 = a5;
  v26 = &v23;
  v28 = v27;
  v27[0] = &off_1E69367B8;
  v27[1] = v24;
  v10 = v25;
  v27[2] = v10;
  sub_1B5659138((uint64_t)&v23);
  if (a2 && (_DWORD)a1)
  {
    v11 = (void *)MEMORY[0x1E0CB35C8];
    v12 = *MEMORY[0x1E0CB2F90];
    if (v9)
    {
      v13 = *MEMORY[0x1E0CB3388];
      v21[0] = CFSTR("Error Reason");
      v21[1] = v13;
      v22[0] = v10;
      v22[1] = v9;
      objc_msgSend(MEMORY[0x1E0C99D80], "dictionaryWithObjects:forKeys:count:", v22, v21, 2);
      v14 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(v11, "errorWithDomain:code:userInfo:", v12, (int)a4, v14);
      v15 = (void *)objc_claimAutoreleasedReturnValue();
    }
    else
    {
      v19 = CFSTR("Error Reason");
      v20 = v10;
      objc_msgSend(MEMORY[0x1E0C99D80], "dictionaryWithObjects:forKeys:count:", &v20, &v19, 1);
      v14 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(v11, "errorWithDomain:code:userInfo:", v12, (int)a4, v14);
      v15 = (void *)objc_claimAutoreleasedReturnValue();
    }
    *a2 = v15;

  }
  if (!v28)
  {
    sub_1B5658FA0();
    __break(1u);
  }
  (*(void (**)(_QWORD *))(*v28 + 48))(v28);
  v16 = v28;
  if (v28 == v27)
  {
    v17 = 4;
    v16 = v27;
    goto LABEL_12;
  }
  if (v28)
  {
    v17 = 5;
LABEL_12:
    (*(void (**)(void))(*v16 + 8 * v17))();
  }

  return a1;
}

void sub_1B5658F24(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, ...)
{
  void *v12;
  void *v13;
  void *v14;
  va_list va;

  va_start(va, a12);

  sub_1B5658FB4(va);
  _Unwind_Resume(a1);
}

uint64_t sub_1B5658FA0()
{
  std::__libcpp_verbose_abort("bad_function_call was thrown in -fno-exceptions mode");
  return sub_1B5658FB4();
}

uint64_t sub_1B5658FB4(_QWORD *a1)
{
  uint64_t v2;
  _QWORD *v3;
  uint64_t v4;
  uint64_t result;

  v2 = a1[3];
  if (v2)
  {
    (*(void (**)(uint64_t))(*(_QWORD *)v2 + 48))(v2);
    v3 = (_QWORD *)a1[3];
    if (v3 == a1)
    {
      v4 = 4;
      v3 = a1;
    }
    else
    {
      if (!v3)
        return (uint64_t)a1;
      v4 = 5;
    }
    (*(void (**)(void))(*v3 + 8 * v4))();
    return (uint64_t)a1;
  }
  result = sub_1B5658FA0();
  __break(1u);
  return result;
}

void sub_1B565901C(_Unwind_Exception *exception_object)
{
  _QWORD *v1;
  _QWORD *v3;
  uint64_t v4;

  v3 = (_QWORD *)v1[3];
  if (v3 == v1)
  {
    v4 = 4;
  }
  else
  {
    if (!v3)
      goto LABEL_6;
    v4 = 5;
    v1 = (_QWORD *)v1[3];
  }
  (*(void (**)(_QWORD *))(*v1 + 8 * v4))(v1);
LABEL_6:
  _Unwind_Resume(exception_object);
}

uint64_t sub_1B5659058(uint64_t a1)
{

  return a1;
}

void sub_1B5659080(uint64_t a1)
{

  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B56590B8(uint64_t a1)
{
  _QWORD *v2;
  uint64_t v3;
  void *v4;

  v2 = operator new(0x18uLL);
  v3 = *(_QWORD *)(a1 + 8);
  v4 = *(void **)(a1 + 16);
  *v2 = &off_1E69367B8;
  v2[1] = v3;
  v2[2] = v4;
  return v2;
}

id sub_1B56590FC(uint64_t a1, _QWORD *a2)
{
  id result;

  *a2 = &off_1E69367B8;
  a2[1] = *(_QWORD *)(a1 + 8);
  result = *(id *)(a1 + 16);
  a2[2] = result;
  return result;
}

void sub_1B5659138(uint64_t a1)
{

}

void sub_1B5659140(id *a1)
{

  operator delete(a1);
}

void sub_1B5659168(uint64_t a1)
{
  int v2;
  uint64_t v3;
  _DWORD v4[2];
  __int16 v5;
  uint64_t v6;
  uint64_t v7;

  v7 = *MEMORY[0x1E0C80C00];
  if (*(_BYTE *)(a1 + 8))
  {
    if (os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
    {
      v2 = *(_DWORD *)(a1 + 12);
      v3 = *(_QWORD *)(a1 + 16);
      v4[0] = 67109378;
      v4[1] = v2;
      v5 = 2112;
      v6 = v3;
      _os_log_impl(&dword_1B5656000, MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT, "> > > CVAPhoto error = %d, %@", (uint8_t *)v4, 0x12u);
    }
  }
}

void sub_1B5659364(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B565950C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5659574(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  a9.super_class = (Class)CVADisparityPostprocessingResult_Impl;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B56596E4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5659740(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  void *v9;
  void *v10;

  v10 = v9;
  a9.receiver = v10;
  a9.super_class = (Class)CVAMattingResult_Impl;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B565983C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B56598F0(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5659950(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  void *v9;
  void *v10;

  v10 = v9;
  a9.receiver = v10;
  a9.super_class = (Class)CVAPortraitResult_Impl;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

double sub_1B56599B0(double *a1)
{
  double v1;
  double v2;
  void *v5;
  void *v6;

  v1 = *a1;
  v2 = sqrt(a1[1] * a1[1] + v1 * v1 + a1[2] * a1[2] + a1[3] * a1[3]);
  if (v2 < 0.00000011920929)
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v5 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "CVAQuaternion cva::normalized(const CVAQuaternion &)");
    v6 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v5, "handleFailureInFunction:file:lineNumber:description:", v6, CFSTR("CVAQuaternion.mm"), 14, CFSTR("Unable to normalize quaternion"));

    v1 = *a1;
  }
  return v1 / v2;
}

void sub_1B5659A7C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

double sub_1B5659A98(double *a1, double *a2)
{
  double v4;
  double v6;
  double v7;
  double v8;
  double v9;
  double v10;
  void *v13;
  void *v14;
  void *v15;
  void *v16;

  v4 = sqrt(a1[1] * a1[1] + *a1 * *a1 + a1[2] * a1[2] + a1[3] * a1[3]);
  if (v4 < 0.999999881 || v4 > 1.00000012)
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v13 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "double cva::distance(const CVAQuaternion &, const CVAQuaternion &)");
    v14 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v13, "handleFailureInFunction:file:lineNumber:description:", v14, CFSTR("CVAQuaternion.mm"), 75, CFSTR("Quaternion has length %.3e != 1.0"), sqrt(a1[1] * a1[1] + *a1 * *a1 + a1[2] * a1[2] + a1[3] * a1[3]));

  }
  v6 = *a2;
  v7 = a2[1];
  v8 = a2[2];
  v9 = a2[3];
  v10 = sqrt(v7 * v7 + v6 * v6 + v8 * v8 + v9 * v9);
  if (v10 < 0.999999881 || v10 > 1.00000012)
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v15 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "double cva::distance(const CVAQuaternion &, const CVAQuaternion &)");
    v16 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v15, "handleFailureInFunction:file:lineNumber:description:", v16, CFSTR("CVAQuaternion.mm"), 79, CFSTR("Quaternion has length %.3e != 1.0"), sqrt(a2[1] * a2[1] + *a2 * *a2 + a2[2] * a2[2] + a2[3] * a2[3]));

    v6 = *a2;
    v7 = a2[1];
    v8 = a2[2];
    v9 = a2[3];
  }
  return 1.0 - (a1[1] * v7 + *a1 * v6 + a1[2] * v8 + a1[3] * v9);
}

void sub_1B5659C68(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5659D5C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5659DE4(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B5659E44(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B5659F9C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B565A2EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19)
{
  void *v19;
  void *v20;

  _Unwind_Resume(a1);
}

void sub_1B565A410(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B565A588(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B565A65C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B565A6AC(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B565A704(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B565A83C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B565A8BC(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B565A938(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B565AAA8(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B565ABD0(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B565B384(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  __cxa_guard_abort(&qword_1EF12D3C0);
  _Unwind_Resume(a1);
}

void sub_1B565B5B8(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  __cxa_guard_abort(&qword_1EF12D690);
  _Unwind_Resume(a1);
}

void sub_1B565B658(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B565B75C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B565B958(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;

  _Unwind_Resume(a1);
}

void sub_1B565BCB0(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B565D468(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v7;

  v7 = v4;

  _Unwind_Resume(a1);
}

void sub_1B565D640(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  a9.super_class = (Class)CVAPortraitVideoPipeline_Impl;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B565E06C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B565E24C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;

  _Unwind_Resume(a1);
}

void sub_1B565EC88(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B565F158(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B565F974(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5661A34(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,void *a34,uint64_t a35,void *a36)
{
  void *v36;
  void *v38;

  __cxa_guard_abort(&qword_1EF12D3D8);
  sub_1B566BAE0(&STACK[0x2B0]);
  v38 = (void *)STACK[0x360];
  if (STACK[0x360])
  {
    STACK[0x368] = (unint64_t)v38;
    operator delete(v38);
  }

  _Unwind_Resume(a1);
}

void sub_1B5662254(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B5662CBC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15, void *a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,void *a22)
{
  __cxa_guard_abort(&qword_1EF12D510);

  _Unwind_Resume(a1);
}

void sub_1B5663520(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,void *a23,uint64_t a24,void *a25,void *a26,void *a27,uint64_t a28,void *a29)
{
  __cxa_guard_abort(&qword_1EF12D3D0);

  _Unwind_Resume(a1);
}

void sub_1B56639B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, void *a11, void *a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16, void *a17)
{
  void *v17;

  __cxa_guard_abort(&qword_1EF12D6D8);

  _Unwind_Resume(a1);
}

void sub_1B5663EC8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20,void *a21,void *a22,void *a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,void *a28,uint64_t a29,void *a30,uint64_t a31,uint64_t a32,void *a33)
{
  __cxa_guard_abort(&qword_1EF12D6F0);

  _Unwind_Resume(a1);
}

void sub_1B5664164(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B56642A4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5664474(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B5664640(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5665928()
{
  void *v0;

  objc_end_catch();
  JUMPOUT(0x1B5665934);
}

void sub_1B5665940(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31,uint64_t a32,uint64_t a33,char *a34)
{
  char *v35;
  uint64_t v36;

  v35 = a34;
  if (a34 == &a31)
  {
    v36 = 4;
    v35 = &a31;
  }
  else
  {
    if (!a34)
      _Unwind_Resume(a1);
    v36 = 5;
  }
  (*(void (**)(void))(*(_QWORD *)v35 + 8 * v36))();
  _Unwind_Resume(a1);
}

void sub_1B56661AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10, void *a11, void *a12, void *a13, void *a14)
{
  void *v14;
  void *v15;
  void *v16;
  void *v17;
  void *v18;
  void *v19;

  __cxa_guard_abort(&qword_1EF12D728);
  _Unwind_Resume(a1);
}

void sub_1B5666E74(void *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, CFTypeRef a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,_QWORD *a21,CFTypeRef a22,CFTypeRef cf,CFTypeRef a24,CFTypeRef a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,void *a30,void *a31,uint64_t a32,void *a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,char a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,void *a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61)
{
  void *v61;
  void *v62;
  id v65;
  void *v66;

  if (cf)
    CFRelease(cf);
  if (a24)
    CFRelease(a24);
  if (a25)
    CFRelease(a25);

  if (a15)
    CFRelease(a15);
  if (a2 == 2)
  {
    v65 = objc_begin_catch(a1);
    v66 = v65;
    if (a21)
    {
      objc_msgSend(v65, "error");
      *a21 = (id)objc_claimAutoreleasedReturnValue();
    }
    objc_msgSend(v66, "log");

    objc_end_catch();
    JUMPOUT(0x1B5666DF4);
  }

  _Block_object_dispose(&a41, 8);
  sub_1B5658FB4(&a61);
  JUMPOUT(0x1B5667174);
}

void sub_1B5667070()
{
  void *v0;

  JUMPOUT(0x1B56670A0);
}

void sub_1B56670A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,char a61,uint64_t a62,uint64_t a63)
{
  char *a64;
  char *v65;
  uint64_t v66;

  v65 = a64;
  if (a64 == &a61)
  {
    v66 = 4;
    v65 = &a61;
  }
  else
  {
    if (!a64)
      JUMPOUT(0x1B56671A4);
    v66 = 5;
  }
  (*(void (**)(void))(*(_QWORD *)v65 + 8 * v66))();
  _Unwind_Resume(a1);
}

void sub_1B5667154()
{
  JUMPOUT(0x1B5667170);
}

void sub_1B566715C()
{
  JUMPOUT(0x1B5667170);
}

void sub_1B5667AC0(_Unwind_Exception *a1)
{
  id *v1;
  uint64_t v2;
  void *v3;
  std::mutex *v4;
  void **v5;
  void *v6;
  char *v8;
  void *v9;
  char *v10;
  std::__shared_weak_count *v11;
  unint64_t *p_shared_owners;
  unint64_t v13;
  void **v14;

  v14 = v5;
  v6 = v3;

  std::mutex::~mutex(v4);
  if (*(_BYTE *)(v2 + 56))
    *(_BYTE *)(v2 + 56) = 0;
  v8 = *(char **)(v2 + 32);
  if (v8)
  {
    do
    {
      v10 = *(char **)v8;
      v11 = (std::__shared_weak_count *)*((_QWORD *)v8 + 6);
      if (v11)
      {
        p_shared_owners = (unint64_t *)&v11->__shared_owners_;
        do
          v13 = __ldaxr(p_shared_owners);
        while (__stlxr(v13 - 1, p_shared_owners));
        if (!v13)
        {
          ((void (*)(std::__shared_weak_count *))v11->__on_zero_shared)(v11);
          std::__shared_weak_count::__release_weak(v11);
        }
      }
      if (v8[39] < 0)
        operator delete(*((void **)v8 + 2));
      operator delete(v8);
      v8 = v10;
    }
    while (v10);
  }
  v9 = *v14;
  *v14 = 0;
  if (v9)
    operator delete(v9);
  MEMORY[0x1B5E4DE7C](v2, 0x10A0C4075515932);

  _Unwind_Resume(a1);
}

void sub_1B5667BD4(_QWORD *a1, CVPixelBufferRef pixelBuffer)
{
  size_t Width;
  size_t Height;
  uint64_t PixelFormatType;
  uint64_t v7;
  uint64_t v8;
  void *v9;
  void *v10;
  void *v11;
  const __CFDictionary *v12;
  CVPixelBufferRef v13;
  _QWORD v14[4];
  _QWORD v15[5];

  v15[4] = *MEMORY[0x1E0C80C00];
  Width = CVPixelBufferGetWidth(pixelBuffer);
  Height = CVPixelBufferGetHeight(pixelBuffer);
  PixelFormatType = CVPixelBufferGetPixelFormatType(pixelBuffer);
  v7 = *MEMORY[0x1E0CA8FF0];
  v15[0] = MEMORY[0x1E0C9AA70];
  v8 = *MEMORY[0x1E0CA9040];
  v14[0] = v7;
  v14[1] = v8;
  objc_msgSend(MEMORY[0x1E0CB37E8], "numberWithUnsignedInt:", PixelFormatType);
  v9 = (void *)objc_claimAutoreleasedReturnValue();
  v15[1] = v9;
  v14[2] = *MEMORY[0x1E0CA90E0];
  objc_msgSend(MEMORY[0x1E0CB37E8], "numberWithUnsignedLong:", Width);
  v10 = (void *)objc_claimAutoreleasedReturnValue();
  v15[2] = v10;
  v14[3] = *MEMORY[0x1E0CA8FD8];
  objc_msgSend(MEMORY[0x1E0CB37E8], "numberWithUnsignedLong:", Height);
  v11 = (void *)objc_claimAutoreleasedReturnValue();
  v15[3] = v11;
  objc_msgSend(MEMORY[0x1E0C99D80], "dictionaryWithObjects:forKeys:count:", v15, v14, 4);
  v12 = (const __CFDictionary *)objc_claimAutoreleasedReturnValue();

  v13 = 0;
  CVPixelBufferCreate(0, Width, Height, PixelFormatType, v12, &v13);
  *a1 = v13;

}

void sub_1B5667D54(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

uint64_t sub_1B5667D90(uint64_t result, uint64_t a2)
{
  *(_QWORD *)(result + 40) = *(_QWORD *)(a2 + 40);
  *(_QWORD *)(a2 + 40) = 0;
  return result;
}

void sub_1B5667DA0(uint64_t a1)
{

}

void sub_1B5667DA8(uint64_t a1, int a2, int a3, id obj)
{
  objc_storeStrong((id *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 40), obj);
}

void sub_1B5667DBC(_QWORD *a1)
{
  CVAPortraitResult_Impl *v2;
  void *v3;
  uint64_t v4;
  int v5;
  int v6;
  int v7;
  double v8;
  double v9;
  uint64_t v10;
  void *v11;
  CVAPortraitResult_Impl *v12;

  if (a1[7])
  {
    v2 = [CVAPortraitResult_Impl alloc];
    objc_msgSend(*(id *)(*(_QWORD *)(a1[8] + 8) + 40), "mattingResult");
    v3 = (void *)objc_claimAutoreleasedReturnValue();
    v4 = a1[9];
    objc_msgSend(*(id *)(*(_QWORD *)(a1[8] + 8) + 40), "portraitStability");
    v6 = v5;
    objc_msgSend(*(id *)(*(_QWORD *)(a1[8] + 8) + 40), "relightingStability");
    LODWORD(v8) = v7;
    LODWORD(v9) = v6;
    v12 = -[CVAPortraitResult_Impl initWithMattingResult:portraitPixelBuffer:portraitStability:relightingStability:](v2, "initWithMattingResult:portraitPixelBuffer:portraitStability:relightingStability:", v3, v4, v9, v8);

    (*(void (**)(void))(a1[7] + 16))();
    v10 = *(_QWORD *)(a1[8] + 8);
    v11 = *(void **)(v10 + 40);
    *(_QWORD *)(v10 + 40) = 0;

  }
}

void sub_1B5667EA8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{

  _Unwind_Resume(a1);
}

const void **sub_1B5667EC4(const void **a1, CFTypeRef cf)
{
  const void *v4;

  if (cf)
    CFRetain(cf);
  v4 = *a1;
  *a1 = cf;
  if (v4)
    CFRelease(v4);
  return a1;
}

void sub_1B5667F08()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B5667F1C(uint64_t a1)
{
  _QWORD *result;
  uint64_t v3;

  result = operator new(0x10uLL);
  v3 = *(_QWORD *)(a1 + 8);
  *result = &off_1E6936760;
  result[1] = v3;
  return result;
}

uint64_t sub_1B5667F50(uint64_t result, _QWORD *a2)
{
  uint64_t v2;

  v2 = *(_QWORD *)(result + 8);
  *a2 = &off_1E6936760;
  a2[1] = v2;
  return result;
}

uint64_t sub_1B5667F6C(uint64_t result)
{
  *(_BYTE *)(**(_QWORD **)(result + 8) + 456) = 0;
  return result;
}

void sub_1B5667F7C(uint64_t a1, uint64_t a2)
{
  unsigned __int8 v4;
  _QWORD *v5;
  _QWORD *v6;
  unint64_t v7;
  char *v8;
  _QWORD *v9;
  char *v10;
  uint64_t v11;
  unint64_t v12;
  uint64_t v13;
  unint64_t v14;
  _BYTE *v15;
  _QWORD *v16;
  char *v17;
  unint64_t v18;
  uint64_t v19;
  _OWORD *v20;
  char *v21;
  uint64_t v22;
  __int128 v23;
  uint64_t v24;
  uint64_t v25;
  _QWORD *v26;
  void *v27;

  if ((byte_1EF12D9B9 & 1) == 0)
  {
    v4 = atomic_load((unsigned __int8 *)&qword_1EF12D310);
    if ((v4 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D310))
    {
      sub_1B5669E3C();
      __cxa_atexit((void (*)(void *))sub_1B566A020, &xmmword_1EF12D318, &dword_1B5656000);
      __cxa_guard_release(&qword_1EF12D310);
    }
    v5 = sub_1B566AA8C(a2, a2);
    v6 = v5;
    v8 = (char *)v5[6];
    v7 = v5[7];
    if ((unint64_t)v8 >= v7)
    {
      v10 = (char *)v5[5];
      v11 = (v8 - v10) >> 3;
      v12 = v11 + 1;
      if ((unint64_t)(v11 + 1) >> 61)
        abort();
      v13 = v7 - (_QWORD)v10;
      if (v13 >> 2 > v12)
        v12 = v13 >> 2;
      if ((unint64_t)v13 >= 0x7FFFFFFFFFFFFFF8)
        v14 = 0x1FFFFFFFFFFFFFFFLL;
      else
        v14 = v12;
      if (v14)
      {
        if (v14 >> 61)
          sub_1B566A9AC();
        v15 = operator new(8 * v14);
      }
      else
      {
        v15 = 0;
      }
      v16 = &v15[8 * v11];
      v17 = &v15[8 * v14];
      *v16 = a1;
      v9 = v16 + 1;
      if (v8 == v10)
      {
        v10 = v8;
      }
      else
      {
        v18 = v8 - v10 - 8;
        if (v18 < 0x58)
          goto LABEL_38;
        if ((unint64_t)(v10 - v15) < 0x20)
          goto LABEL_38;
        v19 = (v18 >> 3) + 1;
        v20 = &v15[8 * v11 - 16];
        v21 = v8 - 16;
        v22 = v19 & 0x3FFFFFFFFFFFFFFCLL;
        do
        {
          v23 = *(_OWORD *)v21;
          *(v20 - 1) = *((_OWORD *)v21 - 1);
          *v20 = v23;
          v20 -= 2;
          v21 -= 32;
          v22 -= 4;
        }
        while (v22);
        v16 -= v19 & 0x3FFFFFFFFFFFFFFCLL;
        v8 -= 8 * (v19 & 0x3FFFFFFFFFFFFFFCLL);
        if (v19 != (v19 & 0x3FFFFFFFFFFFFFFCLL))
        {
LABEL_38:
          do
          {
            v24 = *((_QWORD *)v8 - 1);
            v8 -= 8;
            *--v16 = v24;
          }
          while (v8 != v10);
          v10 = (char *)v6[5];
        }
      }
      v6[5] = v16;
      v6[6] = v9;
      v6[7] = v17;
      if (v10)
        operator delete(v10);
    }
    else
    {
      *(_QWORD *)v8 = a1;
      v9 = v8 + 8;
    }
    v6[6] = v9;
    if (byte_1EF12D3B8)
    {
      if (*(char *)(a2 + 23) >= 0)
        v25 = a2;
      else
        v25 = *(_QWORD *)a2;
      NSLog(CFSTR(">>>>>>>>> FileConfig: registerVariable %s"), v25);
      NSLog(CFSTR(">>>>>>>>> FileConfig:     singleton = %p"), &xmmword_1EF12D318);
      v26 = sub_1B566AA8C(a2, a2);
      NSLog(CFSTR(">>>>>>>>> FileConfig:     singleton._varNameToObjects[variableName].size() = %lu"), (uint64_t)(v26[6] - v26[5]) >> 3);
    }
    v27 = (void *)qword_1EF12D390;
    qword_1EF12D390 = 0;

    sub_1B5668204();
  }
}

void sub_1B56681EC(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D310);
  _Unwind_Resume(a1);
}

void sub_1B5668204()
{
  unint64_t v0;
  unint64_t v1;
  unsigned __int8 v2;
  void *v3;
  void *v4;
  uint64_t v5;
  id v6;
  void *v7;
  id v8;
  void **v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  void **v13;
  void *v14;
  id v15;
  void *v16;
  void *v17;
  void *v18;
  void *v19;
  void *v20;
  void *v21;
  void *v22;
  void *v23;
  void *v24;
  uint64_t v25;
  id v26;
  const char *v27;
  size_t v28;
  size_t v29;
  __int128 *v30;
  void *v31;
  void *v32;
  id v33;
  const char *v34;
  size_t v35;
  size_t v36;
  __int128 *p_dst;
  uint64_t v38;
  uint64_t v39;
  int v40;
  void *v41;
  uint64_t *v42;
  unint64_t v43;
  unint64_t v44;
  unint64_t v45;
  unint64_t v46;
  uint8x8_t v47;
  void **v48;
  unsigned __int8 *v49;
  uint64_t v50;
  unint64_t v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  int v59;
  __objc2_prop_list **p_inst_props;
  int64_t v61;
  float v62;
  _BOOL8 v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t *v66;
  unint64_t v67;
  unint64_t v68;
  unint64_t v69;
  unint64_t v70;
  uint8x8_t v71;
  unint64_t v72;
  unint64_t v73;
  unint64_t v74;
  size_t prime;
  unint64_t v76;
  uint8x8_t v77;
  uint64_t v78;
  uint64_t **v79;
  uint64_t *v80;
  uint64_t v81;
  unint64_t v82;
  uint64_t v83;
  uint64_t v84;
  uint64_t v85;
  uint64_t v86;
  uint64_t v87;
  uint64_t v88;
  uint64_t v89;
  id **v90;
  int v91;
  __int128 v92;
  uint64_t *v93;
  unint64_t v94;
  unint64_t v95;
  unint64_t v96;
  uint8x8_t v97;
  uint64_t **v98;
  uint64_t *v99;
  uint64_t v100;
  unint64_t v101;
  uint64_t v102;
  uint64_t v103;
  const void **v104;
  uint64_t *v105;
  uint64_t v106;
  uint64_t v107;
  uint64_t v108;
  const void **v109;
  uint64_t *v110;
  int v111;
  _QWORD *v112;
  float v113;
  _BOOL8 v114;
  unint64_t v115;
  unint64_t v116;
  size_t v117;
  void *v118;
  void *v119;
  uint64_t v120;
  _QWORD **v121;
  size_t v122;
  size_t v123;
  size_t v124;
  _QWORD *i;
  size_t v126;
  uint64_t v127;
  unint64_t v128;
  uint8x8_t v129;
  uint64_t v130;
  _QWORD *v131;
  uint64_t v132;
  size_t v133;
  _QWORD *v134;
  unint64_t v135;
  void *v136;
  uint64_t v137;
  _QWORD *v138;
  unint64_t v139;
  __objc2_prop_list *v140;
  id WeakRetained;
  BOOL v142;
  id v143;
  void *v144;
  id v145;
  id v146;
  uint64_t v147;
  void *v148;
  void *v149;
  id v150;
  void *v151;
  uint64_t v152;
  uint64_t v153;
  uint64_t v154;
  uint64_t v155;
  id v156;
  void *v157;
  id **v158;
  id obj;
  id v160;
  uint64_t v161;
  id v162;
  __int128 __dst;
  int64_t v164;
  unsigned int v165;
  __int128 v166;
  __int128 v167;
  __int128 v168;
  __int128 v169;
  id v170;
  id v171;
  uint64_t *v172;
  char v173;
  _BYTE v174[128];
  uint64_t v175;

  v175 = *MEMORY[0x1E0C80C00];
  if ((byte_1EF12D9B9 & 1) == 0)
  {
    v2 = atomic_load((unsigned __int8 *)&qword_1EF12D310);
    if ((v2 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D310))
    {
      sub_1B5669E3C();
      __cxa_atexit((void (*)(void *))sub_1B566A020, &xmmword_1EF12D318, &dword_1B5656000);
      __cxa_guard_release(&qword_1EF12D310);
    }
    if (!qword_1EF12D390)
    {
      sub_1B566A6C8();
      v151 = (void *)objc_claimAutoreleasedReturnValue();
      if (byte_1EF12D3B8)
        NSLog(CFSTR(">>>>>>>>> FileConfig: checkForModifications() - singleton = (%p), configFilepath = %@"), &xmmword_1EF12D318, v151);
      if (byte_1EF12D9B9 == 1 || (sub_1B566A6C8(), (v3 = (void *)objc_claimAutoreleasedReturnValue()) == 0))
      {
        v8 = 0;
      }
      else
      {
        objc_msgSend(MEMORY[0x1E0C99E98], "fileURLWithPath:", v3);
        v4 = (void *)objc_claimAutoreleasedReturnValue();
        v171 = 0;
        v5 = *MEMORY[0x1E0C998D8];
        *(_QWORD *)&__dst = 0;
        objc_msgSend(v4, "getResourceValue:forKey:error:", &v171, v5, &__dst);
        v6 = v171;
        v7 = v6;
        if ((_QWORD)__dst)
          v8 = 0;
        else
          v8 = v6;

        if (v8)
        {
          v156 = v8;
          if (!qword_1EF12D390 || (objc_msgSend(v8, "isEqual:") & 1) == 0)
          {
            objc_storeStrong((id *)&qword_1EF12D390, v8);
            if (qword_1EF12D380)
            {
              v9 = (void **)qword_1EF12D378;
              if (qword_1EF12D378)
              {
                do
                {
                  v13 = (void **)*v9;
                  if (*((char *)v9 + 39) < 0)
                    operator delete(v9[2]);
                  operator delete(v9);
                  v9 = v13;
                }
                while (v13);
              }
              qword_1EF12D378 = 0;
              v10 = *((_QWORD *)&xmmword_1EF12D368 + 1);
              if (*((_QWORD *)&xmmword_1EF12D368 + 1))
              {
                v11 = 0;
                do
                  *(_QWORD *)(xmmword_1EF12D368 + 8 * v11++) = 0;
                while (v10 != v11);
              }
              qword_1EF12D380 = 0;
            }
            if (byte_1EF12D3B8)
              NSLog(CFSTR(">>>>>>>>> FileConfig:           .... reloading JSON for singleton = (%p), configFilepath = %@"), &xmmword_1EF12D318, v151);
            objc_msgSend(MEMORY[0x1E0C99D50], "dataWithContentsOfFile:", v151);
            v12 = objc_claimAutoreleasedReturnValue();
            v170 = 0;
            v148 = (void *)v12;
            objc_msgSend(MEMORY[0x1E0CB36D8], "JSONObjectWithData:options:error:", v12, 0, &v170);
            v149 = (void *)objc_claimAutoreleasedReturnValue();
            v150 = v170;
            if (v150)
            {
              if (byte_1EF12D3B8)
                NSLog(CFSTR(">>>>>>>>> FileConfig: checkForModifications - error opening JSON: %@"), v150);
LABEL_332:

              goto LABEL_11;
            }
            v168 = 0u;
            v169 = 0u;
            v166 = 0u;
            v167 = 0u;
            obj = v149;
            v155 = objc_msgSend(obj, "countByEnumeratingWithState:objects:count:", &v166, v174, 16);
            if (!v155)
              goto LABEL_331;
            v154 = *(_QWORD *)v167;
            v147 = *MEMORY[0x1E0CB3380];
LABEL_33:
            v161 = 0;
LABEL_34:
            if (*(_QWORD *)v167 != v154)
              objc_enumerationMutation(obj);
            v14 = *(void **)(*((_QWORD *)&v166 + 1) + 8 * v161);
            if (objc_msgSend(v14, "rangeOfString:", CFSTR("/")) == 0x7FFFFFFFFFFFFFFFLL)
            {
              v15 = v14;
            }
            else
            {
              objc_msgSend(v14, "componentsSeparatedByString:", CFSTR("/"));
              v16 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v16, "objectAtIndexedSubscript:", 0);
              v17 = (void *)objc_claimAutoreleasedReturnValue();

              objc_msgSend(MEMORY[0x1E0CB3500], "whitespaceCharacterSet");
              v18 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v17, "stringByTrimmingCharactersInSet:", v18);
              v15 = (id)objc_claimAutoreleasedReturnValue();

            }
            objc_msgSend(obj, "objectForKey:", v14);
            v162 = (id)objc_claimAutoreleasedReturnValue();
            v160 = v15;
            if (objc_msgSend(v14, "rangeOfString:", CFSTR("/ color")) != 0x7FFFFFFFFFFFFFFFLL)
            {
              objc_msgSend(v162, "substringWithRange:", 1, 2);
              v19 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v162, "substringWithRange:", 3, 2);
              v20 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v162, "substringWithRange:", 5, 2);
              v21 = (void *)objc_claimAutoreleasedReturnValue();
              LODWORD(v171) = 0;
              objc_msgSend(MEMORY[0x1E0CB3900], "scannerWithString:", v19);
              v22 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v22, "scanHexInt:", &v171);

              LODWORD(__dst) = 0;
              objc_msgSend(MEMORY[0x1E0CB3900], "scannerWithString:", v20);
              v23 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v23, "scanHexInt:", &__dst);

              v165 = 0;
              objc_msgSend(MEMORY[0x1E0CB3900], "scannerWithString:", v21);
              v24 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v24, "scanHexInt:", &v165);

              objc_msgSend(MEMORY[0x1E0C9DD80], "colorWithRed:green:blue:alpha:", (float)((float)v171 / 255.0), (float)((float)__dst / 255.0), (float)((float)v165 / 255.0), 1.0);
              v25 = objc_claimAutoreleasedReturnValue();

              v162 = (id)v25;
            }
            if (!objc_msgSend(v15, "length") || objc_msgSend(v15, "characterAtIndex:", 0) != 46)
            {
              objc_msgSend(v15, "componentsSeparatedByString:", CFSTR("."));
              v157 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v157, "objectAtIndexedSubscript:", 0);
              v31 = (void *)objc_claimAutoreleasedReturnValue();
              objc_msgSend(v157, "objectAtIndexedSubscript:", 1);
              v32 = (void *)objc_claimAutoreleasedReturnValue();
              v33 = objc_retainAutorelease(v31);
              v34 = (const char *)objc_msgSend(v33, "UTF8String");
              v35 = strlen(v34);
              if (v35 > 0x7FFFFFFFFFFFFFF7)
                abort();
              v36 = v35;
              if (v35 >= 0x17)
              {
                v38 = (v35 & 0xFFFFFFFFFFFFFFF8) + 8;
                if ((v35 | 7) != 0x17)
                  v38 = v35 | 7;
                v39 = v38 + 1;
                p_dst = (__int128 *)operator new(v38 + 1);
                *((_QWORD *)&__dst + 1) = v36;
                v164 = v39 | 0x8000000000000000;
                *(_QWORD *)&__dst = p_dst;
              }
              else
              {
                HIBYTE(v164) = v35;
                p_dst = &__dst;
                if (!v35)
                  goto LABEL_55;
              }
              memmove(p_dst, v34, v36);
LABEL_55:
              *((_BYTE *)p_dst + v36) = 0;
              v40 = SHIBYTE(v164);
              v41 = (void *)__dst;
              if (v164 >= 0)
                v42 = (uint64_t *)&__dst;
              else
                v42 = (uint64_t *)__dst;
              if (v164 >= 0)
                v43 = HIBYTE(v164);
              else
                v43 = *((_QWORD *)&__dst + 1);
              v44 = sub_1B566A10C(v42, v43);
              v45 = v44;
              v46 = *((_QWORD *)&xmmword_1EF12D318 + 1);
              if (*((_QWORD *)&xmmword_1EF12D318 + 1))
              {
                v47 = (uint8x8_t)vcnt_s8(*(int8x8_t *)((char *)&xmmword_1EF12D318 + 8));
                v47.i16[0] = vaddlv_u8(v47);
                if (v47.u32[0] > 1uLL)
                {
                  v1 = v44;
                  if (v44 >= *((_QWORD *)&xmmword_1EF12D318 + 1))
                    v1 = v44 % *((_QWORD *)&xmmword_1EF12D318 + 1);
                }
                else
                {
                  v1 = (*((_QWORD *)&xmmword_1EF12D318 + 1) - 1) & v44;
                }
                v48 = *(void ***)(xmmword_1EF12D318 + 8 * v1);
                if (v48)
                {
                  v49 = (unsigned __int8 *)*v48;
                  if (*v48)
                  {
                    if (v47.u32[0] < 2uLL)
                    {
                      v50 = *((_QWORD *)&xmmword_1EF12D318 + 1) - 1;
                      while (1)
                      {
                        v55 = *((_QWORD *)v49 + 1);
                        if (v55 == v45)
                        {
                          v56 = v49[39];
                          if ((v56 & 0x80u) == 0)
                            v57 = v49[39];
                          else
                            v57 = *((_QWORD *)v49 + 3);
                          if (v57 == v43)
                          {
                            if ((v56 & 0x80) != 0)
                            {
                              v152 = v50;
                              v59 = memcmp(*((const void **)v49 + 2), v42, *((_QWORD *)v49 + 3));
                              v50 = v152;
                              if (!v59)
                                goto LABEL_101;
                            }
                            else
                            {
                              if (!v49[39])
                                goto LABEL_101;
                              v58 = 0;
                              while (v49[v58 + 16] == *((unsigned __int8 *)v42 + v58))
                              {
                                if (v56 == ++v58)
                                  goto LABEL_101;
                              }
                            }
                          }
                        }
                        else if ((v55 & v50) != v1)
                        {
                          goto LABEL_103;
                        }
                        v49 = *(unsigned __int8 **)v49;
                        if (!v49)
                          goto LABEL_103;
                      }
                    }
                    do
                    {
                      v51 = *((_QWORD *)v49 + 1);
                      if (v51 == v45)
                      {
                        v52 = v49[39];
                        if ((v52 & 0x80u) == 0)
                          v53 = v49[39];
                        else
                          v53 = *((_QWORD *)v49 + 3);
                        if (v53 == v43)
                        {
                          if ((v52 & 0x80) != 0)
                          {
                            if (!memcmp(*((const void **)v49 + 2), v42, *((_QWORD *)v49 + 3)))
                            {
LABEL_101:
                              v8 = v156;
                              p_inst_props = (__objc2_prop_list **)(&OBJC_PROTOCOL___CVAVideoPipeline + 56);
                              v15 = v160;
                              if (v40 < 0)
                                operator delete(v41);
                              goto LABEL_319;
                            }
                          }
                          else
                          {
                            if (!v49[39])
                              goto LABEL_101;
                            v54 = 0;
                            while (v49[v54 + 16] == *((unsigned __int8 *)v42 + v54))
                            {
                              if (v52 == ++v54)
                                goto LABEL_101;
                            }
                          }
                        }
                      }
                      else
                      {
                        if (v51 >= v46)
                          v51 %= v46;
                        if (v51 != v1)
                          break;
                      }
                      v49 = *(unsigned __int8 **)v49;
                    }
                    while (v49);
                  }
                }
              }
LABEL_103:
              v49 = (unsigned __int8 *)operator new(0x40uLL);
              v171 = v49;
              v172 = &qword_1EF12D328;
              *(_QWORD *)v49 = 0;
              *((_QWORD *)v49 + 1) = v45;
              *((_OWORD *)v49 + 1) = __dst;
              v61 = v164;
              __dst = 0uLL;
              v164 = 0;
              *((_QWORD *)v49 + 4) = v61;
              *((_QWORD *)v49 + 5) = 0;
              *((_QWORD *)v49 + 6) = 0;
              *((_QWORD *)v49 + 7) = 0;
              v173 = 1;
              v62 = (float)(unint64_t)(qword_1EF12D330 + 1);
              v8 = v156;
              if (!v46 || (float)(*(float *)&dword_1EF12D338 * (float)v46) < v62)
              {
                v63 = v46 < 3 || (v46 & (v46 - 1)) != 0;
                v73 = v63 | (2 * v46);
                v74 = vcvtps_u32_f32(v62 / *(float *)&dword_1EF12D338);
                if (v73 <= v74)
                  prime = v74;
                else
                  prime = v73;
                if (prime == 1)
                {
                  prime = 2;
                }
                else if ((prime & (prime - 1)) != 0)
                {
                  prime = std::__next_prime(prime);
                  v46 = *((_QWORD *)&xmmword_1EF12D318 + 1);
                }
                if (prime > v46)
                  goto LABEL_129;
                if (prime < v46)
                {
                  v76 = vcvtps_u32_f32((float)(unint64_t)qword_1EF12D330 / *(float *)&dword_1EF12D338);
                  if (v46 < 3
                    || (v77 = (uint8x8_t)vcnt_s8((int8x8_t)v46), v77.i16[0] = vaddlv_u8(v77), v77.u32[0] > 1uLL))
                  {
                    v76 = std::__next_prime(v76);
                  }
                  else
                  {
                    v78 = 1 << -(char)__clz(v76 - 1);
                    if (v76 >= 2)
                      v76 = v78;
                  }
                  if (prime <= v76)
                    prime = v76;
                  if (prime < v46)
LABEL_129:
                    sub_1B566A764(prime);
                }
                v46 = *((_QWORD *)&xmmword_1EF12D318 + 1);
                if ((*((_QWORD *)&xmmword_1EF12D318 + 1) & (*((_QWORD *)&xmmword_1EF12D318 + 1) - 1)) != 0)
                {
                  if (v45 >= *((_QWORD *)&xmmword_1EF12D318 + 1))
                    v1 = v45 % *((_QWORD *)&xmmword_1EF12D318 + 1);
                  else
                    v1 = v45;
                }
                else
                {
                  v1 = (*((_QWORD *)&xmmword_1EF12D318 + 1) - 1) & v45;
                }
              }
              v137 = xmmword_1EF12D318;
              v138 = *(_QWORD **)(xmmword_1EF12D318 + 8 * v1);
              p_inst_props = &OBJC_PROTOCOL___CVAVideoPipeline.inst_props;
              v15 = v160;
              if (v138)
              {
                *(_QWORD *)v49 = *v138;
                goto LABEL_317;
              }
              *(_QWORD *)v49 = qword_1EF12D328;
              qword_1EF12D328 = (uint64_t)v49;
              *(_QWORD *)(v137 + 8 * v1) = &qword_1EF12D328;
              if (*(_QWORD *)v49)
              {
                v139 = *(_QWORD *)(*(_QWORD *)v49 + 8);
                if ((v46 & (v46 - 1)) != 0)
                {
                  if (v139 >= v46)
                    v139 %= v46;
                }
                else
                {
                  v139 &= v46 - 1;
                }
                v138 = (_QWORD *)(xmmword_1EF12D318 + 8 * v139);
LABEL_317:
                *v138 = v49;
              }
              ++qword_1EF12D330;
LABEL_319:
              v1 = *((_QWORD *)v49 + 5);
              v0 = *((_QWORD *)v49 + 6);
              while (v1 != v0)
              {
                WeakRetained = objc_loadWeakRetained((id *)v1);
                v142 = WeakRetained == 0;

                if (!v142)
                {
                  v143 = objc_loadWeakRetained((id *)v1);
                  objc_msgSend(v143, "valueForKey:", v32);
                  v144 = (void *)objc_claimAutoreleasedReturnValue();

                  if (v144)
                  {
                    v145 = objc_loadWeakRetained((id *)v1);
                    objc_msgSend(v145, "setValue:forKey:", v162, v32);

                  }
                  else
                  {
                    if (byte_1EF12D3B8)
                    {
                      v146 = objc_loadWeakRetained((id *)v1);
                      NSLog(CFSTR(">>>>>>>>> FileConfig: checkForModifications - WARNING: object %@ has member %@ that is nil."), v146, v32, v147);

                    }
                    v140 = p_inst_props[114];
                    p_inst_props[114] = 0;

                  }
                }
                v1 += 8;
              }

              goto LABEL_329;
            }
            objc_msgSend(v15, "substringFromIndex:", 1);
            v26 = objc_retainAutorelease((id)objc_claimAutoreleasedReturnValue());
            v27 = (const char *)objc_msgSend(v26, "UTF8String");
            v28 = strlen(v27);
            if (v28 > 0x7FFFFFFFFFFFFFF7)
              abort();
            v29 = v28;
            if (v28 >= 0x17)
            {
              v64 = (v28 & 0xFFFFFFFFFFFFFFF8) + 8;
              if ((v28 | 7) != 0x17)
                v64 = v28 | 7;
              v65 = v64 + 1;
              v30 = (__int128 *)operator new(v64 + 1);
              *((_QWORD *)&__dst + 1) = v29;
              v164 = v65 | 0x8000000000000000;
              *(_QWORD *)&__dst = v30;
            }
            else
            {
              HIBYTE(v164) = v28;
              v30 = &__dst;
              if (!v28)
              {
LABEL_111:
                *((_BYTE *)v30 + v29) = 0;

                if (v164 >= 0)
                  v66 = (uint64_t *)&__dst;
                else
                  v66 = (uint64_t *)__dst;
                if (v164 >= 0)
                  v67 = HIBYTE(v164);
                else
                  v67 = *((_QWORD *)&__dst + 1);
                v68 = sub_1B566A10C(v66, v67);
                v69 = qword_1EF12D348;
                if (!qword_1EF12D348)
                  goto LABEL_296;
                v70 = v68;
                v71 = (uint8x8_t)vcnt_s8((int8x8_t)qword_1EF12D348);
                v71.i16[0] = vaddlv_u8(v71);
                if (v71.u32[0] > 1uLL)
                {
                  v72 = v68;
                  if (v68 >= qword_1EF12D348)
                    v72 = v68 % qword_1EF12D348;
                }
                else
                {
                  v72 = (qword_1EF12D348 - 1) & v68;
                }
                v79 = *(uint64_t ***)(qword_1EF12D340 + 8 * v72);
                if (!v79)
                  goto LABEL_296;
                v80 = *v79;
                if (!*v79)
                  goto LABEL_296;
                if (v71.u32[0] < 2uLL)
                {
                  v81 = qword_1EF12D348 - 1;
                  while (1)
                  {
                    v86 = v80[1];
                    if (v86 == v70)
                    {
                      v87 = *((unsigned __int8 *)v80 + 39);
                      if ((v87 & 0x80u) == 0)
                        v88 = *((unsigned __int8 *)v80 + 39);
                      else
                        v88 = v80[3];
                      if (v88 == v67)
                      {
                        if ((v87 & 0x80) != 0)
                        {
                          if (!memcmp((const void *)v80[2], v66, v80[3]))
                            goto LABEL_175;
                        }
                        else
                        {
                          if (!*((_BYTE *)v80 + 39))
                            goto LABEL_175;
                          v89 = 0;
                          while (*((unsigned __int8 *)v80 + v89 + 16) == *((unsigned __int8 *)v66 + v89))
                          {
                            if (v87 == ++v89)
                              goto LABEL_174;
                          }
                        }
                      }
                    }
                    else if ((v86 & v81) != v72)
                    {
                      goto LABEL_296;
                    }
                    v80 = (uint64_t *)*v80;
                    if (!v80)
                      goto LABEL_296;
                  }
                }
                while (1)
                {
                  v82 = v80[1];
                  if (v82 == v70)
                  {
                    v83 = *((unsigned __int8 *)v80 + 39);
                    if ((v83 & 0x80u) == 0)
                      v84 = *((unsigned __int8 *)v80 + 39);
                    else
                      v84 = v80[3];
                    if (v84 == v67)
                    {
                      if ((v83 & 0x80) == 0)
                      {
                        if (*((_BYTE *)v80 + 39))
                        {
                          v85 = 0;
                          do
                          {
                            if (*((unsigned __int8 *)v80 + v85 + 16) != *((unsigned __int8 *)v66 + v85))
                              goto LABEL_143;
                            ++v85;
                          }
                          while (v83 != v85);
LABEL_174:
                          if (!v80)
                          {
LABEL_296:
                            if (byte_1EF12D3B9)
                              NSLog(CFSTR(">>>>>>>>> FileConfig: checkForModifications - WARNING: static varName %s has no references in the code."), v66);
                            goto LABEL_298;
                          }
                        }
LABEL_175:
                        v90 = (id **)v80[5];
                        v158 = (id **)v80[6];
                        if (v90 == v158)
                          goto LABEL_298;
                        while (2)
                        {
                          objc_storeStrong(*v90, v162);
                          v91 = SHIBYTE(v164);
                          v92 = __dst;
                          if (v164 >= 0)
                            v93 = (uint64_t *)&__dst;
                          else
                            v93 = (uint64_t *)__dst;
                          if (v164 >= 0)
                            v94 = HIBYTE(v164);
                          else
                            v94 = *((_QWORD *)&__dst + 1);
                          v95 = sub_1B566A10C(v93, v94);
                          v96 = v95;
                          v1 = *((_QWORD *)&xmmword_1EF12D368 + 1);
                          if (*((_QWORD *)&xmmword_1EF12D368 + 1))
                          {
                            v97 = (uint8x8_t)vcnt_s8(*(int8x8_t *)((char *)&xmmword_1EF12D368 + 8));
                            v97.i16[0] = vaddlv_u8(v97);
                            if (v97.u32[0] > 1uLL)
                            {
                              v0 = v95;
                              if (v95 >= *((_QWORD *)&xmmword_1EF12D368 + 1))
                                v0 = v95 % *((_QWORD *)&xmmword_1EF12D368 + 1);
                            }
                            else
                            {
                              v0 = (*((_QWORD *)&xmmword_1EF12D368 + 1) - 1) & v95;
                            }
                            v98 = *(uint64_t ***)(xmmword_1EF12D368 + 8 * v0);
                            if (v98)
                            {
                              v99 = *v98;
                              if (*v98)
                              {
                                if (v97.u32[0] < 2uLL)
                                {
                                  v100 = *((_QWORD *)&xmmword_1EF12D368 + 1) - 1;
                                  while (1)
                                  {
                                    v106 = v99[1];
                                    if (v106 == v96)
                                    {
                                      v107 = *((unsigned __int8 *)v99 + 39);
                                      if ((v107 & 0x80u) == 0)
                                        v108 = *((unsigned __int8 *)v99 + 39);
                                      else
                                        v108 = v99[3];
                                      if (v108 == v94)
                                      {
                                        v109 = (const void **)(v99 + 2);
                                        if ((v107 & 0x80) != 0)
                                        {
                                          v153 = v100;
                                          v111 = memcmp(*v109, v93, v99[3]);
                                          v100 = v153;
                                          if (!v111)
                                            goto LABEL_179;
                                        }
                                        else
                                        {
                                          if (!*((_BYTE *)v99 + 39))
                                            goto LABEL_179;
                                          v110 = v93;
                                          while (*(unsigned __int8 *)v109 == *(unsigned __int8 *)v110)
                                          {
                                            v109 = (const void **)((char *)v109 + 1);
                                            v110 = (uint64_t *)((char *)v110 + 1);
                                            if (!--v107)
                                              goto LABEL_179;
                                          }
                                        }
                                      }
                                    }
                                    else if ((v106 & v100) != v0)
                                    {
                                      goto LABEL_227;
                                    }
                                    v99 = (uint64_t *)*v99;
                                    if (!v99)
                                      goto LABEL_227;
                                  }
                                }
                                do
                                {
                                  v101 = v99[1];
                                  if (v101 == v96)
                                  {
                                    v102 = *((unsigned __int8 *)v99 + 39);
                                    if ((v102 & 0x80u) == 0)
                                      v103 = *((unsigned __int8 *)v99 + 39);
                                    else
                                      v103 = v99[3];
                                    if (v103 == v94)
                                    {
                                      v104 = (const void **)(v99 + 2);
                                      if ((v102 & 0x80) != 0)
                                      {
                                        if (!memcmp(*v104, v93, v99[3]))
                                          goto LABEL_179;
                                      }
                                      else
                                      {
                                        if (!*((_BYTE *)v99 + 39))
                                          goto LABEL_179;
                                        v105 = v93;
                                        while (*(unsigned __int8 *)v104 == *(unsigned __int8 *)v105)
                                        {
                                          v104 = (const void **)((char *)v104 + 1);
                                          v105 = (uint64_t *)((char *)v105 + 1);
                                          if (!--v102)
                                            goto LABEL_179;
                                        }
                                      }
                                    }
                                  }
                                  else
                                  {
                                    if (v101 >= v1)
                                      v101 %= v1;
                                    if (v101 != v0)
                                      break;
                                  }
                                  v99 = (uint64_t *)*v99;
                                }
                                while (v99);
                              }
                            }
                          }
LABEL_227:
                          v112 = operator new(0x28uLL);
                          v171 = v112;
                          v172 = &qword_1EF12D378;
                          v173 = 0;
                          *v112 = 0;
                          v112[1] = v96;
                          if (v91 < 0)
                          {
                            sub_1B566A9B8((_BYTE *)v112 + 16, (void *)v92, *((unint64_t *)&v92 + 1));
                          }
                          else
                          {
                            *((_OWORD *)v112 + 1) = __dst;
                            v112[4] = v164;
                          }
                          v173 = 1;
                          v113 = (float)(unint64_t)(qword_1EF12D380 + 1);
                          if (!v1 || (float)(*(float *)&dword_1EF12D388 * (float)v1) < v113)
                          {
                            v114 = (v1 & (v1 - 1)) != 0;
                            if (v1 < 3)
                              v114 = 1;
                            v115 = v114 | (2 * v1);
                            v116 = vcvtps_u32_f32(v113 / *(float *)&dword_1EF12D388);
                            if (v115 <= v116)
                              v117 = v116;
                            else
                              v117 = v115;
                            if (v117 == 1)
                            {
                              v117 = 2;
                            }
                            else if ((v117 & (v117 - 1)) != 0)
                            {
                              v117 = std::__next_prime(v117);
                            }
                            v1 = *((_QWORD *)&xmmword_1EF12D368 + 1);
                            if (v117 > *((_QWORD *)&xmmword_1EF12D368 + 1))
                            {
LABEL_242:
                              if (v117 >> 61)
                                sub_1B566A9AC();
                              v118 = operator new(8 * v117);
                              v119 = (void *)xmmword_1EF12D368;
                              *(_QWORD *)&xmmword_1EF12D368 = v118;
                              if (v119)
                                operator delete(v119);
                              v120 = 0;
                              *((_QWORD *)&xmmword_1EF12D368 + 1) = v117;
                              do
                                *(_QWORD *)(xmmword_1EF12D368 + 8 * v120++) = 0;
                              while (v117 != v120);
                              v121 = (_QWORD **)qword_1EF12D378;
                              if (!qword_1EF12D378)
                                goto LABEL_266;
                              v122 = *(_QWORD *)(qword_1EF12D378 + 8);
                              v123 = v117 - 1;
                              if ((v117 & (v117 - 1)) == 0)
                              {
                                v124 = v122 & v123;
                                *(_QWORD *)(xmmword_1EF12D368 + 8 * v124) = &qword_1EF12D378;
                                for (i = *v121; *v121; i = *v121)
                                {
                                  v126 = i[1] & v123;
                                  if (v126 == v124)
                                  {
                                    v121 = (_QWORD **)i;
                                  }
                                  else if (*(_QWORD *)(xmmword_1EF12D368 + 8 * v126))
                                  {
                                    *v121 = (_QWORD *)*i;
                                    v127 = 8 * v126;
                                    *i = **(_QWORD **)(xmmword_1EF12D368 + v127);
                                    **(_QWORD **)(xmmword_1EF12D368 + v127) = i;
                                  }
                                  else
                                  {
                                    *(_QWORD *)(xmmword_1EF12D368 + 8 * v126) = v121;
                                    v121 = (_QWORD **)i;
                                    v124 = v126;
                                  }
                                }
                                goto LABEL_266;
                              }
                              if (v122 >= v117)
                                v122 %= v117;
                              *(_QWORD *)(xmmword_1EF12D368 + 8 * v122) = &qword_1EF12D378;
                              v131 = *v121;
                              if (!*v121)
                              {
LABEL_266:
                                v1 = v117;
                                goto LABEL_267;
                              }
                              while (2)
                              {
                                v133 = v131[1];
                                if (v133 >= v117)
                                  v133 %= v117;
                                if (v133 != v122)
                                {
                                  if (!*(_QWORD *)(xmmword_1EF12D368 + 8 * v133))
                                  {
                                    *(_QWORD *)(xmmword_1EF12D368 + 8 * v133) = v121;
LABEL_271:
                                    v121 = (_QWORD **)v131;
                                    v131 = (_QWORD *)*v131;
                                    v122 = v133;
                                    if (!v131)
                                      goto LABEL_266;
                                    continue;
                                  }
                                  *v121 = (_QWORD *)*v131;
                                  v132 = 8 * v133;
                                  *v131 = **(_QWORD **)(xmmword_1EF12D368 + v132);
                                  **(_QWORD **)(xmmword_1EF12D368 + v132) = v131;
                                  v131 = v121;
                                }
                                break;
                              }
                              v133 = v122;
                              goto LABEL_271;
                            }
                            if (v117 < *((_QWORD *)&xmmword_1EF12D368 + 1))
                            {
                              v128 = vcvtps_u32_f32((float)(unint64_t)qword_1EF12D380 / *(float *)&dword_1EF12D388);
                              if (*((_QWORD *)&xmmword_1EF12D368 + 1) < 3uLL
                                || (v129 = (uint8x8_t)vcnt_s8(*(int8x8_t *)((char *)&xmmword_1EF12D368 + 8)),
                                    v129.i16[0] = vaddlv_u8(v129),
                                    v129.u32[0] > 1uLL))
                              {
                                v128 = std::__next_prime(v128);
                              }
                              else
                              {
                                v130 = 1 << -(char)__clz(v128 - 1);
                                if (v128 >= 2)
                                  v128 = v130;
                              }
                              if (v117 <= v128)
                                v117 = v128;
                              if (v117 >= v1)
                              {
                                v1 = *((_QWORD *)&xmmword_1EF12D368 + 1);
                              }
                              else
                              {
                                if (v117)
                                  goto LABEL_242;
                                v136 = (void *)xmmword_1EF12D368;
                                *(_QWORD *)&xmmword_1EF12D368 = 0;
                                if (v136)
                                  operator delete(v136);
                                v1 = 0;
                                *((_QWORD *)&xmmword_1EF12D368 + 1) = 0;
                              }
                            }
LABEL_267:
                            if ((v1 & (v1 - 1)) != 0)
                            {
                              if (v96 >= v1)
                                v0 = v96 % v1;
                              else
                                v0 = v96;
                            }
                            else
                            {
                              v0 = (v1 - 1) & v96;
                            }
                          }
                          v134 = *(_QWORD **)(xmmword_1EF12D368 + 8 * v0);
                          if (v134)
                          {
                            *(_QWORD *)v171 = *v134;
                            *v134 = v171;
                          }
                          else
                          {
                            *(_QWORD *)v171 = qword_1EF12D378;
                            qword_1EF12D378 = (uint64_t)v171;
                            *(_QWORD *)(xmmword_1EF12D368 + 8 * v0) = &qword_1EF12D378;
                            if (*(_QWORD *)v171)
                            {
                              v135 = *(_QWORD *)(*(_QWORD *)v171 + 8);
                              if ((v1 & (v1 - 1)) != 0)
                              {
                                if (v135 >= v1)
                                  v135 %= v1;
                              }
                              else
                              {
                                v135 &= v1 - 1;
                              }
                              *(_QWORD *)(xmmword_1EF12D368 + 8 * v135) = v171;
                            }
                          }
                          ++qword_1EF12D380;
LABEL_179:
                          ++v90;
                          v8 = v156;
                          v15 = v160;
                          if (v90 != v158)
                            continue;
                          break;
                        }
LABEL_298:
                        if (SHIBYTE(v164) < 0)
                          operator delete((void *)__dst);
LABEL_329:

                        if (++v161 == v155)
                        {
                          v155 = objc_msgSend(obj, "countByEnumeratingWithState:objects:count:", &v166, v174, 16);
                          if (!v155)
                          {
LABEL_331:

                            goto LABEL_332;
                          }
                          goto LABEL_33;
                        }
                        goto LABEL_34;
                      }
                      if (!memcmp((const void *)v80[2], v66, v80[3]))
                        goto LABEL_175;
                    }
                  }
                  else
                  {
                    if (v82 >= v69)
                      v82 %= v69;
                    if (v82 != v72)
                      goto LABEL_296;
                  }
LABEL_143:
                  v80 = (uint64_t *)*v80;
                  if (!v80)
                    goto LABEL_296;
                }
              }
            }
            memmove(v30, v27, v29);
            goto LABEL_111;
          }
        }
      }
LABEL_11:

    }
  }
}

void sub_1B56695F4(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D310);
  _Unwind_Resume(a1);
}

void sub_1B566960C()
{
  void *v0;
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  void *v10;
  void *v11;
  void *v12;

  objc_end_catch();
  JUMPOUT(0x1B566983CLL);
}

void sub_1B5669638()
{
  JUMPOUT(0x1B5669804);
}

void sub_1B5669640()
{
  JUMPOUT(0x1B566980CLL);
}

void sub_1B5669648()
{
  JUMPOUT(0x1B5669814);
}

void sub_1B5669654()
{
  JUMPOUT(0x1B5669824);
}

void sub_1B566965C()
{
  JUMPOUT(0x1B5669824);
}

void sub_1B5669664()
{
  void *v0;
  void *v1;

  JUMPOUT(0x1B566982CLL);
}

void sub_1B566967C()
{
  JUMPOUT(0x1B566982CLL);
}

void sub_1B5669684()
{
  JUMPOUT(0x1B566982CLL);
}

void sub_1B566968C()
{
  JUMPOUT(0x1B5669804);
}

void sub_1B5669694(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,void *__p,uint64_t a26,int a27,__int16 a28,char a29,char a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41)
{
  void *v41;
  void *v42;
  void *v43;
  void *v44;
  void *v45;
  void *v46;
  void *v47;
  void *v48;

  sub_1B566AA40(&a41);
  if (a30 < 0)
    operator delete(__p);

  JUMPOUT(0x1B566983CLL);
}

void sub_1B5669768()
{
  int v0;
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  void *v10;
  void *v11;
  void *v12;

  if (v0 < 0)
    operator delete(v3);

  JUMPOUT(0x1B566983CLL);
}

void sub_1B566977C()
{
  JUMPOUT(0x1B56697E8);
}

void sub_1B5669784()
{
  void *v0;
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  void *v10;

  JUMPOUT(0x1B566983CLL);
}

void sub_1B5669790()
{
  JUMPOUT(0x1B56697ECLL);
}

void sub_1B5669798()
{
  void *v0;

  JUMPOUT(0x1B5669804);
}

void sub_1B56697A4()
{
  JUMPOUT(0x1B5669804);
}

void sub_1B56697B0()
{
  void *v0;

  JUMPOUT(0x1B5669804);
}

void sub_1B56697BC()
{
  void *v0;
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  void *v10;

  JUMPOUT(0x1B566983CLL);
}

void sub_1B56697C4()
{
  JUMPOUT(0x1B56697F4);
}

void sub_1B56697CC()
{
  void *v0;
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  void *v10;
  void *v11;

  JUMPOUT(0x1B566983CLL);
}

void sub_1B56697D8()
{
  void *v0;
  void *v1;

  JUMPOUT(0x1B56697E4);
}

BOOL sub_1B5669844(char *__s)
{
  _BOOL8 v1;
  unsigned __int8 v3;
  size_t v4;
  size_t v5;
  _QWORD *p_dst;
  uint64_t v7;
  uint64_t v8;
  int v9;
  void *v10;
  uint64_t *v11;
  unint64_t v12;
  unint64_t v13;
  unint64_t v14;
  unint64_t v15;
  uint8x8_t v16;
  unint64_t v17;
  uint64_t **v18;
  uint64_t *v19;
  uint64_t v20;
  uint64_t *v21;
  unint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  _QWORD *__dst;
  size_t v32;
  int64_t v33;

  if ((byte_1EF12D9B9 & 1) != 0)
    return 0;
  v3 = atomic_load((unsigned __int8 *)&qword_1EF12D310);
  if ((v3 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D310))
  {
    sub_1B5669E3C();
    __cxa_atexit((void (*)(void *))sub_1B566A020, &xmmword_1EF12D318, &dword_1B5656000);
    __cxa_guard_release(&qword_1EF12D310);
  }
  v4 = strlen(__s);
  if (v4 >= 0x7FFFFFFFFFFFFFF8)
    abort();
  v5 = v4;
  if (v4 >= 0x17)
  {
    v7 = (v4 & 0xFFFFFFFFFFFFFFF8) + 8;
    if ((v4 | 7) != 0x17)
      v7 = v4 | 7;
    v8 = v7 + 1;
    p_dst = operator new(v7 + 1);
    v32 = v5;
    v33 = v8 | 0x8000000000000000;
    __dst = p_dst;
    goto LABEL_11;
  }
  HIBYTE(v33) = v4;
  p_dst = &__dst;
  if (v4)
LABEL_11:
    memcpy(p_dst, __s, v5);
  *((_BYTE *)p_dst + v5) = 0;
  v9 = SHIBYTE(v33);
  v10 = __dst;
  if (v33 >= 0)
    v11 = (uint64_t *)&__dst;
  else
    v11 = __dst;
  if (v33 >= 0)
    v12 = HIBYTE(v33);
  else
    v12 = v32;
  v13 = sub_1B566A10C(v11, v12);
  v14 = *((_QWORD *)&xmmword_1EF12D368 + 1);
  if (!*((_QWORD *)&xmmword_1EF12D368 + 1))
    goto LABEL_59;
  v15 = v13;
  v16 = (uint8x8_t)vcnt_s8(*(int8x8_t *)((char *)&xmmword_1EF12D368 + 8));
  v16.i16[0] = vaddlv_u8(v16);
  if (v16.u32[0] > 1uLL)
  {
    v17 = v13;
    if (v13 >= *((_QWORD *)&xmmword_1EF12D368 + 1))
      v17 = v13 % *((_QWORD *)&xmmword_1EF12D368 + 1);
  }
  else
  {
    v17 = (*((_QWORD *)&xmmword_1EF12D368 + 1) - 1) & v13;
  }
  v18 = *(uint64_t ***)(xmmword_1EF12D368 + 8 * v17);
  if (!v18 || (v19 = *v18) == 0)
  {
LABEL_59:
    v21 = 0;
    goto LABEL_60;
  }
  if (v16.u32[0] < 2uLL)
  {
    v20 = *((_QWORD *)&xmmword_1EF12D368 + 1) - 1;
    while (1)
    {
      v26 = v19[1];
      if (v15 == v26)
      {
        v27 = *((unsigned __int8 *)v19 + 39);
        if ((v27 & 0x80u) == 0)
          v28 = *((unsigned __int8 *)v19 + 39);
        else
          v28 = v19[3];
        if (v28 == v12)
        {
          if ((v27 & 0x80) != 0)
          {
            if (!memcmp((const void *)v19[2], v11, v19[3]))
              goto LABEL_58;
          }
          else
          {
            if (!*((_BYTE *)v19 + 39))
              goto LABEL_58;
            v29 = 0;
            while (*((unsigned __int8 *)v19 + v29 + 16) == *((unsigned __int8 *)v11 + v29))
            {
              if (v27 == ++v29)
                goto LABEL_58;
            }
          }
        }
      }
      else if ((v26 & v20) != v17)
      {
        goto LABEL_59;
      }
      v21 = 0;
      v19 = (uint64_t *)*v19;
      if (!v19)
        goto LABEL_60;
    }
  }
  while (1)
  {
    v22 = v19[1];
    if (v15 != v22)
    {
      if (v22 >= v14)
        v22 %= v14;
      if (v22 != v17)
        goto LABEL_59;
      goto LABEL_28;
    }
    v23 = *((unsigned __int8 *)v19 + 39);
    if ((v23 & 0x80u) == 0)
      v24 = *((unsigned __int8 *)v19 + 39);
    else
      v24 = v19[3];
    if (v24 != v12)
      goto LABEL_28;
    if ((v23 & 0x80) != 0)
      break;
    if (!*((_BYTE *)v19 + 39))
      goto LABEL_58;
    v25 = 0;
    while (*((unsigned __int8 *)v19 + v25 + 16) == *((unsigned __int8 *)v11 + v25))
    {
      if (v23 == ++v25)
        goto LABEL_58;
    }
LABEL_28:
    v21 = 0;
    v19 = (uint64_t *)*v19;
    if (!v19)
      goto LABEL_60;
  }
  if (memcmp((const void *)v19[2], v11, v19[3]))
    goto LABEL_28;
LABEL_58:
  v21 = v19;
LABEL_60:
  v1 = v21 != 0;
  if (v9 < 0)
    operator delete(v10);
  return v1;
}

void sub_1B5669B2C(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D310);
  _Unwind_Resume(a1);
}

uint64_t sub_1B5669B44(uint64_t result, float a2)
{
  *(float *)(*(_QWORD *)(result + 32) + 8) = a2;
  return result;
}

uint64_t sub_1B5669B50(uint64_t a1)
{
  uint64_t v1;
  uint64_t v2;
  _BOOL4 v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;

  switch(a1)
  {
    case 0:
    case 1:
    case 3:
      v6 = 0;
      v7 = 0;
      v4 = 0;
      v5 = 1;
      return (v7 << 48) | (v4 << 56) | (v7 << 40) | v6 | v5;
    case 2:
      v5 = 0;
      v7 = 0;
      v4 = 0;
      v6 = 0x100000000;
      return (v7 << 48) | (v4 << 56) | (v7 << 40) | v6 | v5;
    case 4:
    case 6:
    case 12:
    case 15:
    case 18:
      v6 = 0;
      v4 = a1 == 18;
      v5 = 1;
      goto LABEL_11;
    case 5:
    case 7:
    case 9:
    case 10:
    case 11:
    case 14:
    case 17:
    case 19:
    case 30:
    case 46:
    case 47:
      v5 = 0;
      v4 = 0;
      v6 = 0x100000000;
      goto LABEL_11;
    case 8:
      v6 = 0;
      v4 = 0;
      v7 = 1;
      v5 = 2;
      return (v7 << 48) | (v4 << 56) | (v7 << 40) | v6 | v5;
    case 13:
    case 16:
      v6 = 0;
      v5 = 1;
      goto LABEL_17;
    case 20:
      v6 = 0;
      v7 = 1;
      v5 = 3;
      goto LABEL_18;
    case 21:
      v4 = 0;
      v6 = 0x100000000;
      v7 = 1;
      v5 = 3;
      return (v7 << 48) | (v4 << 56) | (v7 << 40) | v6 | v5;
    case 22:
    case 24:
    case 25:
    case 27:
    case 28:
    case 29:
    case 31:
    case 32:
    case 34:
    case 35:
    case 36:
    case 38:
    case 39:
    case 40:
    case 41:
    case 42:
    case 43:
    case 44:
    case 45:
    case 48:
    case 49:
      if ((unint64_t)(a1 - 22) > 0xC)
      {
        v4 = a1 == 48;
        v3 = a1 != 44;
      }
      else
      {
        v3 = a1 != 44;
        if (((0x12C9u >> (a1 - 22)) & 1) != 0)
        {
          v3 = a1 != 44;
          v4 = 1;
        }
        else
        {
          v4 = a1 == 48;
        }
      }
      v6 = 0;
      v5 = a1 != 49 && v3;
      goto LABEL_11;
    case 23:
    case 26:
      v5 = 0;
      v6 = 0x100000000;
LABEL_17:
      v7 = 1;
LABEL_18:
      v4 = 1;
      break;
    case 33:
    case 37:
      v6 = 0;
      v5 = 0;
      v4 = 0;
LABEL_11:
      v7 = 1;
      break;
    case 50:
      syslog(3, "CVAVideoPipelineDevice_UniqueCount isn't a valid device", v1, v2);
      abort();
    default:
      v6 = 0;
      v5 = 0;
      v7 = 0;
      v4 = 0;
      break;
  }
  return (v7 << 48) | (v4 << 56) | (v7 << 40) | v6 | v5;
}

void sub_1B5669D60(void *a1, __CVBuffer *a2)
{
  id v3;
  void *v4;
  OSType PixelFormatType;
  void *v6;
  size_t Width;
  _BYTE v8[2];
  __int16 v9;
  char v10;

  v3 = a1;
  v4 = (void *)MEMORY[0x1E0CB3940];
  PixelFormatType = CVPixelBufferGetPixelFormatType(a2);
  v9 = bswap32(PixelFormatType) >> 16;
  v8[1] = BYTE2(PixelFormatType);
  v8[0] = HIBYTE(PixelFormatType);
  v10 = 0;
  objc_msgSend(MEMORY[0x1E0CB3940], "stringWithCString:encoding:", v8, 4);
  v6 = (void *)objc_claimAutoreleasedReturnValue();
  Width = CVPixelBufferGetWidth(a2);
  objc_msgSend(v4, "stringWithFormat:", CFSTR("%@ (%@) = %zux%zu"), v3, v6, Width, CVPixelBufferGetHeight(a2));

}

void sub_1B5669E20(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B5669E3C()
{
  void *v0;
  int v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  uint64_t v6;
  void *v7;
  uint64_t v8;
  void *v9;
  id v10;

  xmmword_1EF12D318 = 0u;
  *(_OWORD *)&qword_1EF12D328 = 0u;
  dword_1EF12D338 = 1065353216;
  *(_OWORD *)&qword_1EF12D340 = 0u;
  *(_OWORD *)&qword_1EF12D350 = 0u;
  dword_1EF12D360 = 1065353216;
  xmmword_1EF12D368 = 0u;
  *(_OWORD *)&qword_1EF12D378 = 0u;
  dword_1EF12D388 = 1065353216;
  *(_OWORD *)&qword_1EF12D390 = 0u;
  *(_OWORD *)&qword_1EF12D3A0 = 0u;
  *(_OWORD *)((char *)&qword_1EF12D3A8 + 2) = 0u;
  +[CVAPreferenceManager defaults](CVAPreferenceManager, "defaults");
  v0 = (void *)objc_claimAutoreleasedReturnValue();
  v10 = v0;
  if (v0)
  {
    v1 = objc_msgSend(v0, "BOOLForKey:", CFSTR("CVAPhotoLogConfig"));
    byte_1EF12D3B8 = v1;
    if (v1)
      LOBYTE(v1) = objc_msgSend(v10, "BOOLForKey:", CFSTR("CVAPhotoLogConfigStaticVars"));
    byte_1EF12D3B9 = v1;
  }
  v2 = (void *)qword_1EF12D3A8;
  qword_1EF12D3A8 = (uint64_t)CFSTR("/System/Library/PrivateFrameworks/AppleCVAPhoto.framework/Resources/");

  objc_msgSend(MEMORY[0x1E0CB3620], "defaultManager");
  v3 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v3, "contentsOfDirectoryAtPath:error:", qword_1EF12D3A8, 0);
  v4 = (void *)objc_claimAutoreleasedReturnValue();

  objc_msgSend(MEMORY[0x1E0CB3880], "predicateWithFormat:", CFSTR("self ENDSWITH '.persistent.config.txt'"));
  v5 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v4, "filteredArrayUsingPredicate:", v5);
  v6 = objc_claimAutoreleasedReturnValue();
  v7 = (void *)qword_1EF12D398;
  qword_1EF12D398 = v6;

  objc_msgSend((id)qword_1EF12D398, "sortedArrayUsingSelector:", sel_compare_);
  v8 = objc_claimAutoreleasedReturnValue();
  v9 = (void *)qword_1EF12D398;
  qword_1EF12D398 = v8;

}

void sub_1B5669F98(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  id *v10;
  void *v11;
  void *v12;
  void *v13;

  v13 = v12;

  sub_1B566A5E8();
  sub_1B566A650();
  sub_1B566A540((uint64_t)v10);
  _Unwind_Resume(a1);
}

uint64_t sub_1B566A020(uint64_t a1)
{
  void **v2;
  void *v3;
  char *v4;
  void *v5;
  void **v7;
  char *v8;
  void *v9;

  byte_1EF12D9B9 = 1;

  v2 = *(void ***)(a1 + 96);
  if (v2)
  {
    do
    {
      v7 = (void **)*v2;
      if (*((char *)v2 + 39) < 0)
        operator delete(v2[2]);
      operator delete(v2);
      v2 = v7;
    }
    while (v7);
  }
  v3 = *(void **)(a1 + 80);
  *(_QWORD *)(a1 + 80) = 0;
  if (v3)
    operator delete(v3);
  v4 = *(char **)(a1 + 56);
  if (v4)
  {
    do
    {
      v8 = *(char **)v4;
      v9 = (void *)*((_QWORD *)v4 + 5);
      if (v9)
      {
        *((_QWORD *)v4 + 6) = v9;
        operator delete(v9);
      }
      if (v4[39] < 0)
        operator delete(*((void **)v4 + 2));
      operator delete(v4);
      v4 = v8;
    }
    while (v8);
  }
  v5 = *(void **)(a1 + 40);
  *(_QWORD *)(a1 + 40) = 0;
  if (v5)
    operator delete(v5);
  return sub_1B566A540(a1);
}

unint64_t sub_1B566A10C(uint64_t *a1, unint64_t a2)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  unint64_t v24;
  unint64_t v25;
  uint64_t v26;
  unint64_t v27;
  uint64_t v28;
  unint64_t v29;
  unint64_t v30;
  unint64_t v31;
  unint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  uint64_t v36;
  uint64_t v37;
  uint64_t v38;
  uint64_t v39;
  unint64_t v40;
  unint64_t v41;
  unint64_t v42;
  unint64_t v43;
  uint64_t v44;
  unint64_t v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  _QWORD *v51;
  uint64_t v52;
  unint64_t v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  uint64_t v65;
  uint64_t v66;
  unint64_t v67;
  unint64_t v68;
  unint64_t v69;
  unint64_t v70;
  unint64_t v71;
  uint64_t v72;
  unint64_t v73;

  if (a2 > 0x20)
  {
    if (a2 <= 0x40)
    {
      v5 = *(uint64_t *)((char *)a1 + a2 - 16);
      v6 = *a1 - 0x3C5A37A36834CED9 * (v5 + a2);
      v8 = a1[2];
      v7 = a1[3];
      v9 = __ROR8__(v6 + v7, 52);
      v10 = v6 + a1[1];
      v11 = __ROR8__(v10, 7);
      v12 = v10 + v8;
      v13 = *(uint64_t *)((char *)a1 + a2 - 32) + v8;
      v14 = *(uint64_t *)((char *)a1 + a2 - 8) + v7;
      v15 = __ROR8__(v14 + v13, 52);
      v16 = v11 + __ROR8__(*a1 - 0x3C5A37A36834CED9 * (v5 + a2), 37) + v9;
      v17 = __ROR8__(v13, 37);
      v18 = *(uint64_t *)((char *)a1 + a2 - 24) + v13;
      v19 = __ROR8__(v18, 7);
      v20 = v16 + __ROR8__(v12, 31);
      v21 = v18 + v5;
      v22 = v21 + v14;
      v23 = 0x9AE16A3B2F90404FLL;
      v24 = 0xC3A5C85C97CB3127 * (v22 + v20) - 0x651E95C4D06FBFB1 * (v12 + v7 + v17 + v19 + v15 + __ROR8__(v21, 31));
      v25 = v20 - 0x3C5A37A36834CED9 * (v24 ^ (v24 >> 47));
      return (v25 ^ (v25 >> 47)) * v23;
    }
    v32 = 0x9DDFEA08EB382D69;
    v33 = *(uint64_t *)((char *)a1 + a2 - 48);
    v34 = *(uint64_t *)((char *)a1 + a2 - 40);
    v35 = *(uint64_t *)((char *)a1 + a2 - 24);
    v37 = *(uint64_t *)((char *)a1 + a2 - 64);
    v36 = *(uint64_t *)((char *)a1 + a2 - 56);
    v38 = *(uint64_t *)((char *)a1 + a2 - 16);
    v39 = *(uint64_t *)((char *)a1 + a2 - 8);
    v40 = v36 + v38;
    v41 = 0x9DDFEA08EB382D69
        * (v35 ^ ((0x9DDFEA08EB382D69 * (v35 ^ (v33 + a2))) >> 47) ^ (0x9DDFEA08EB382D69 * (v35 ^ (v33 + a2))));
    v42 = 0x9DDFEA08EB382D69 * (v41 ^ (v41 >> 47));
    v43 = v37 + a2 + v36 + v33;
    v44 = v43 + v34;
    v45 = __ROR8__(v43, 44) + v37 + a2 + __ROR8__(v34 + v37 + a2 - 0x622015F714C7D297 * (v41 ^ (v41 >> 47)), 21);
    v46 = v36 + v38 + *(uint64_t *)((char *)a1 + a2 - 32) - 0x4B6D499041670D8DLL;
    v47 = v46 + v35 + v38;
    v48 = __ROR8__(v47, 44);
    v49 = v47 + v39;
    v50 = v48 + v46 + __ROR8__(v46 + v34 + v39, 21);
    v52 = *a1;
    v51 = a1 + 4;
    v53 = v52 - 0x4B6D499041670D8DLL * v34;
    v54 = -(uint64_t)((a2 - 1) & 0xFFFFFFFFFFFFFFC0);
    do
    {
      v55 = *(v51 - 3);
      v56 = v53 + v44 + v40 + v55;
      v57 = v51[2];
      v58 = v51[3];
      v59 = v51[1];
      v40 = v59 + v44 - 0x4B6D499041670D8DLL * __ROR8__(v40 + v45 + v57, 42);
      v60 = v42 + v49;
      v61 = *(v51 - 2);
      v62 = *(v51 - 1);
      v63 = *(v51 - 4) - 0x4B6D499041670D8DLL * v45;
      v64 = v63 + v49 + v62;
      v65 = v63 + v55 + v61;
      v44 = v65 + v62;
      v66 = __ROR8__(v65, 44) + v63;
      v67 = (0xB492B66FBE98F273 * __ROR8__(v56, 37)) ^ v50;
      v53 = 0xB492B66FBE98F273 * __ROR8__(v60, 33);
      v45 = v66 + __ROR8__(v64 + v67, 21);
      v68 = v53 + v50 + *v51;
      v49 = v68 + v59 + v57 + v58;
      v50 = __ROR8__(v68 + v59 + v57, 44) + v68 + __ROR8__(v40 + v61 + v68 + v58, 21);
      v51 += 8;
      v42 = v67;
      v54 += 64;
    }
    while (v54);
    v69 = v53
        - 0x622015F714C7D297
        * ((0x9DDFEA08EB382D69
          * (v50 ^ ((0x9DDFEA08EB382D69 * (v50 ^ v45)) >> 47) ^ (0x9DDFEA08EB382D69 * (v50 ^ v45)))) ^ ((0x9DDFEA08EB382D69 * (v50 ^ ((0x9DDFEA08EB382D69 * (v50 ^ v45)) >> 47) ^ (0x9DDFEA08EB382D69 * (v50 ^ v45)))) >> 47));
    v70 = 0x9DDFEA08EB382D69
        * (v69 ^ (v67
                - 0x4B6D499041670D8DLL * (v40 ^ (v40 >> 47))
                - 0x622015F714C7D297
                * ((0x9DDFEA08EB382D69
                  * (v49 ^ ((0x9DDFEA08EB382D69 * (v49 ^ v44)) >> 47) ^ (0x9DDFEA08EB382D69 * (v49 ^ v44)))) ^ ((0x9DDFEA08EB382D69 * (v49 ^ ((0x9DDFEA08EB382D69 * (v49 ^ v44)) >> 47) ^ (0x9DDFEA08EB382D69 * (v49 ^ v44)))) >> 47))));
    v71 = 0x9DDFEA08EB382D69 * (v69 ^ (v70 >> 47) ^ v70);
    goto LABEL_13;
  }
  if (a2 > 0x10)
  {
    v26 = a1[1];
    v27 = 0xB492B66FBE98F273 * *a1;
    v28 = __ROR8__(0x9AE16A3B2F90404FLL * *(uint64_t *)((char *)a1 + a2 - 8), 30) + __ROR8__(v27 - v26, 43);
    v29 = v27 + a2 + __ROR8__(v26 ^ 0xC949D7C7509E6557, 20) - 0x9AE16A3B2F90404FLL * *(uint64_t *)((char *)a1 + a2 - 8);
    v23 = 0x9DDFEA08EB382D69;
    v30 = 0x9DDFEA08EB382D69 * ((v28 - 0x3C5A37A36834CED9 * *(uint64_t *)((char *)a1 + a2 - 16)) ^ v29);
    v31 = v29 ^ (v30 >> 47) ^ v30;
LABEL_8:
    v25 = 0x9DDFEA08EB382D69 * v31;
    return (v25 ^ (v25 >> 47)) * v23;
  }
  if (a2 >= 9)
  {
    v2 = *(uint64_t *)((char *)a1 + a2 - 8);
    v3 = __ROR8__(v2 + a2, a2);
    return (0x9DDFEA08EB382D69
          * ((0x9DDFEA08EB382D69
            * (v3 ^ ((0x9DDFEA08EB382D69 * (v3 ^ *a1)) >> 47) ^ (0x9DDFEA08EB382D69 * (v3 ^ *a1)))) ^ ((0x9DDFEA08EB382D69 * (v3 ^ ((0x9DDFEA08EB382D69 * (v3 ^ *a1)) >> 47) ^ (0x9DDFEA08EB382D69 * (v3 ^ *a1)))) >> 47))) ^ v2;
  }
  if (a2 >= 4)
  {
    v72 = *(unsigned int *)((char *)a1 + a2 - 4);
    v23 = 0x9DDFEA08EB382D69;
    v73 = 0x9DDFEA08EB382D69 * (((8 * *(_DWORD *)a1) + a2) ^ v72);
    v31 = v72 ^ (v73 >> 47) ^ v73;
    goto LABEL_8;
  }
  v32 = 0x9AE16A3B2F90404FLL;
  if (a2)
  {
    v71 = (0xC949D7C7509E6557 * (a2 + 4 * *((unsigned __int8 *)a1 + a2 - 1))) ^ (0x9AE16A3B2F90404FLL
                                                                                   * (*(unsigned __int8 *)a1 | ((unint64_t)*((unsigned __int8 *)a1 + (a2 >> 1)) << 8)));
LABEL_13:
    v32 *= v71 ^ (v71 >> 47);
  }
  return v32;
}

uint64_t sub_1B566A540(uint64_t a1)
{
  char *v2;
  void *v3;
  char *v5;
  id *v6;
  id *v7;
  void *v8;

  v2 = *(char **)(a1 + 16);
  if (v2)
  {
    do
    {
      v5 = *(char **)v2;
      v6 = (id *)*((_QWORD *)v2 + 5);
      if (v6)
      {
        v7 = (id *)*((_QWORD *)v2 + 6);
        v8 = (void *)*((_QWORD *)v2 + 5);
        if (v7 != v6)
        {
          do
            objc_destroyWeak(--v7);
          while (v7 != v6);
          v8 = (void *)*((_QWORD *)v2 + 5);
        }
        *((_QWORD *)v2 + 6) = v6;
        operator delete(v8);
      }
      if (v2[39] < 0)
        operator delete(*((void **)v2 + 2));
      operator delete(v2);
      v2 = v5;
    }
    while (v5);
  }
  v3 = *(void **)a1;
  *(_QWORD *)a1 = 0;
  if (v3)
    operator delete(v3);
  return a1;
}

void sub_1B566A5E8()
{
  void **v0;
  void *v1;
  void **v2;

  v0 = (void **)qword_1EF12D378;
  if (qword_1EF12D378)
  {
    do
    {
      v2 = (void **)*v0;
      if (*((char *)v0 + 39) < 0)
        operator delete(v0[2]);
      operator delete(v0);
      v0 = v2;
    }
    while (v2);
  }
  v1 = (void *)xmmword_1EF12D368;
  *(_QWORD *)&xmmword_1EF12D368 = 0;
  if (v1)
    operator delete(v1);
}

void sub_1B566A650()
{
  char *v0;
  void *v1;
  char *v2;
  void *v3;

  v0 = (char *)qword_1EF12D350;
  if (qword_1EF12D350)
  {
    do
    {
      v2 = *(char **)v0;
      v3 = (void *)*((_QWORD *)v0 + 5);
      if (v3)
      {
        *((_QWORD *)v0 + 6) = v3;
        operator delete(v3);
      }
      if (v0[39] < 0)
        operator delete(*((void **)v0 + 2));
      operator delete(v0);
      v0 = v2;
    }
    while (v2);
  }
  v1 = (void *)qword_1EF12D340;
  qword_1EF12D340 = 0;
  if (v1)
    operator delete(v1);
}

id sub_1B566A6C8()
{
  unsigned __int8 v0;
  void *v1;

  v0 = atomic_load((unsigned __int8 *)&qword_1EF12D310);
  if ((v0 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D310))
  {
    sub_1B5669E3C();
    __cxa_atexit((void (*)(void *))sub_1B566A020, &xmmword_1EF12D318, &dword_1B5656000);
    __cxa_guard_release(&qword_1EF12D310);
  }
  v1 = (void *)qword_1EF12D3B0;
  if (qword_1EF12D3A0)
    v1 = (void *)qword_1EF12D3A0;
  return v1;
}

void sub_1B566A74C(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D310);
  _Unwind_Resume(a1);
}

void sub_1B566A764(unint64_t a1)
{
  void *v2;
  void *v3;
  uint64_t v4;
  _QWORD **v5;
  unint64_t v6;
  unint64_t v7;
  uint64_t v8;
  _QWORD *v9;
  uint64_t v10;
  uint64_t v11;
  void *v12;
  _QWORD *i;
  uint64_t v14;
  unint64_t v15;

  if (!a1)
  {
    v12 = (void *)xmmword_1EF12D318;
    *(_QWORD *)&xmmword_1EF12D318 = 0;
    if (v12)
      operator delete(v12);
    *((_QWORD *)&xmmword_1EF12D318 + 1) = 0;
    return;
  }
  if (a1 >> 61)
    sub_1B566A9AC();
  v2 = operator new(8 * a1);
  v3 = (void *)xmmword_1EF12D318;
  *(_QWORD *)&xmmword_1EF12D318 = v2;
  if (v3)
    operator delete(v3);
  v4 = 0;
  *((_QWORD *)&xmmword_1EF12D318 + 1) = a1;
  do
    *(_QWORD *)(xmmword_1EF12D318 + 8 * v4++) = 0;
  while (a1 != v4);
  v5 = (_QWORD **)qword_1EF12D328;
  if (qword_1EF12D328)
  {
    v6 = *(_QWORD *)(qword_1EF12D328 + 8);
    v7 = a1 - 1;
    if ((a1 & (a1 - 1)) == 0)
    {
      v8 = v6 & v7;
      *(_QWORD *)(xmmword_1EF12D318 + 8 * v8) = &qword_1EF12D328;
      while (1)
      {
        v9 = *v5;
        if (!*v5)
          break;
        v10 = v9[1] & v7;
        if (v10 == v8)
        {
          v5 = (_QWORD **)*v5;
        }
        else if (*(_QWORD *)(xmmword_1EF12D318 + 8 * v10))
        {
          *v5 = (_QWORD *)*v9;
          v11 = 8 * v10;
          *v9 = **(_QWORD **)(xmmword_1EF12D318 + v11);
          **(_QWORD **)(xmmword_1EF12D318 + v11) = v9;
        }
        else
        {
          *(_QWORD *)(xmmword_1EF12D318 + 8 * v10) = v5;
          v5 = (_QWORD **)v9;
          v8 = v10;
        }
      }
      return;
    }
    if (v6 >= a1)
      v6 %= a1;
    *(_QWORD *)(xmmword_1EF12D318 + 8 * v6) = &qword_1EF12D328;
    for (i = *v5; i; v6 = v15)
    {
      v15 = i[1];
      if (v15 >= a1)
        v15 %= a1;
      if (v15 != v6)
      {
        if (!*(_QWORD *)(xmmword_1EF12D318 + 8 * v15))
        {
          *(_QWORD *)(xmmword_1EF12D318 + 8 * v15) = v5;
          goto LABEL_26;
        }
        *v5 = (_QWORD *)*i;
        v14 = 8 * v15;
        *i = **(_QWORD **)(xmmword_1EF12D318 + v14);
        **(_QWORD **)(xmmword_1EF12D318 + v14) = i;
        i = v5;
      }
      v15 = v6;
LABEL_26:
      v5 = (_QWORD **)i;
      i = (_QWORD *)*i;
    }
  }
}

uint64_t *sub_1B566A920(uint64_t *a1)
{
  uint64_t v2;
  id *v3;
  id *v4;
  void *v5;

  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    if (*((_BYTE *)a1 + 16))
    {
      v3 = *(id **)(v2 + 40);
      if (v3)
      {
        v4 = *(id **)(v2 + 48);
        v5 = *(void **)(v2 + 40);
        if (v4 != v3)
        {
          do
            objc_destroyWeak(--v4);
          while (v4 != v3);
          v5 = *(void **)(v2 + 40);
        }
        *(_QWORD *)(v2 + 48) = v3;
        operator delete(v5);
      }
      if (*(char *)(v2 + 39) < 0)
        operator delete(*(void **)(v2 + 16));
    }
    operator delete((void *)v2);
  }
  return a1;
}

void sub_1B566A9AC()
{
  abort();
}

void *sub_1B566A9B8(_BYTE *__dst, void *__src, unint64_t a3)
{
  _QWORD *v5;
  uint64_t v6;
  uint64_t v7;
  _QWORD *v8;

  v5 = __dst;
  if (a3 > 0x16)
  {
    if (a3 >= 0x7FFFFFFFFFFFFFF8)
      abort();
    v6 = (a3 & 0xFFFFFFFFFFFFFFF8) + 8;
    if ((a3 | 7) != 0x17)
      v6 = a3 | 7;
    v7 = v6 + 1;
    v8 = operator new(v6 + 1);
    v5[1] = a3;
    v5[2] = v7 | 0x8000000000000000;
    *v5 = v8;
    v5 = v8;
  }
  else
  {
    __dst[23] = a3;
  }
  return memmove(v5, __src, a3 + 1);
}

uint64_t *sub_1B566AA40(uint64_t *a1)
{
  uint64_t v2;

  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    if (*((_BYTE *)a1 + 16) && *(char *)(v2 + 39) < 0)
      operator delete(*(void **)(v2 + 16));
    operator delete((void *)v2);
  }
  return a1;
}

_QWORD *sub_1B566AA8C(uint64_t a1, uint64_t a2)
{
  unint64_t v2;
  int v4;
  uint64_t *v5;
  unint64_t v6;
  unint64_t v7;
  unint64_t v8;
  unint64_t v9;
  uint8x8_t v10;
  _QWORD *v11;
  _QWORD *v12;
  unint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  _QWORD *v21;
  _BYTE *v22;
  float v23;
  _BOOL8 v24;
  unint64_t v25;
  unint64_t v26;
  unint64_t prime;
  void *v28;
  void *v29;
  uint64_t v30;
  _QWORD **v31;
  unint64_t v32;
  unint64_t v33;
  unint64_t v34;
  _QWORD *i;
  unint64_t v36;
  uint64_t v37;
  unint64_t v38;
  uint8x8_t v39;
  uint64_t v40;
  _QWORD *v41;
  uint64_t v42;
  unint64_t v43;
  _QWORD *v44;
  unint64_t v45;
  void *v47;

  v4 = *(char *)(a1 + 23);
  if (v4 >= 0)
    v5 = (uint64_t *)a1;
  else
    v5 = *(uint64_t **)a1;
  if (v4 >= 0)
    v6 = *(unsigned __int8 *)(a1 + 23);
  else
    v6 = *(_QWORD *)(a1 + 8);
  v7 = sub_1B566A10C(v5, v6);
  v8 = v7;
  v9 = qword_1EF12D348;
  if (qword_1EF12D348)
  {
    v10 = (uint8x8_t)vcnt_s8((int8x8_t)qword_1EF12D348);
    v10.i16[0] = vaddlv_u8(v10);
    if (v10.u32[0] > 1uLL)
    {
      v2 = v7;
      if (v7 >= qword_1EF12D348)
        v2 = v7 % qword_1EF12D348;
    }
    else
    {
      v2 = (qword_1EF12D348 - 1) & v7;
    }
    v11 = *(_QWORD **)(qword_1EF12D340 + 8 * v2);
    if (v11)
    {
      v12 = (_QWORD *)*v11;
      if (*v11)
      {
        if (v10.u32[0] < 2uLL)
        {
          while (1)
          {
            v17 = v12[1];
            if (v17 == v8)
            {
              v18 = *((unsigned __int8 *)v12 + 39);
              if ((v18 & 0x80u) == 0)
                v19 = *((unsigned __int8 *)v12 + 39);
              else
                v19 = v12[3];
              if (v19 == v6)
              {
                if ((v18 & 0x80) != 0)
                {
                  if (!memcmp((const void *)v12[2], v5, v12[3]))
                    return v12;
                }
                else
                {
                  if (!*((_BYTE *)v12 + 39))
                    return v12;
                  v20 = 0;
                  while (*((unsigned __int8 *)v12 + v20 + 16) == *((unsigned __int8 *)v5 + v20))
                  {
                    if (v18 == ++v20)
                      return v12;
                  }
                }
              }
            }
            else if ((v17 & (v9 - 1)) != v2)
            {
              goto LABEL_49;
            }
            v12 = (_QWORD *)*v12;
            if (!v12)
              goto LABEL_49;
          }
        }
        do
        {
          v13 = v12[1];
          if (v13 == v8)
          {
            v14 = *((unsigned __int8 *)v12 + 39);
            if ((v14 & 0x80u) == 0)
              v15 = *((unsigned __int8 *)v12 + 39);
            else
              v15 = v12[3];
            if (v15 == v6)
            {
              if ((v14 & 0x80) != 0)
              {
                if (!memcmp((const void *)v12[2], v5, v12[3]))
                  return v12;
              }
              else
              {
                if (!*((_BYTE *)v12 + 39))
                  return v12;
                v16 = 0;
                while (*((unsigned __int8 *)v12 + v16 + 16) == *((unsigned __int8 *)v5 + v16))
                {
                  if (v14 == ++v16)
                    return v12;
                }
              }
            }
          }
          else
          {
            if (v13 >= v9)
              v13 %= v9;
            if (v13 != v2)
              break;
          }
          v12 = (_QWORD *)*v12;
        }
        while (v12);
      }
    }
  }
LABEL_49:
  v21 = operator new(0x40uLL);
  *v21 = 0;
  v21[1] = v8;
  v22 = v21 + 2;
  if (*(char *)(a2 + 23) < 0)
  {
    sub_1B566A9B8(v22, *(void **)a2, *(_QWORD *)(a2 + 8));
  }
  else
  {
    *(_OWORD *)v22 = *(_OWORD *)a2;
    v21[4] = *(_QWORD *)(a2 + 16);
  }
  v21[5] = 0;
  v21[6] = 0;
  v21[7] = 0;
  v23 = (float)(unint64_t)(qword_1EF12D358 + 1);
  if (!v9 || (float)(*(float *)&dword_1EF12D360 * (float)v9) < v23)
  {
    v24 = 1;
    if (v9 >= 3)
      v24 = (v9 & (v9 - 1)) != 0;
    v25 = v24 | (2 * v9);
    v26 = vcvtps_u32_f32(v23 / *(float *)&dword_1EF12D360);
    if (v25 <= v26)
      prime = v26;
    else
      prime = v25;
    if (prime == 1)
    {
      prime = 2;
    }
    else if ((prime & (prime - 1)) != 0)
    {
      prime = std::__next_prime(prime);
    }
    v9 = qword_1EF12D348;
    if (prime <= qword_1EF12D348)
    {
      if (prime >= qword_1EF12D348)
        goto LABEL_89;
      v38 = vcvtps_u32_f32((float)(unint64_t)qword_1EF12D358 / *(float *)&dword_1EF12D360);
      if ((unint64_t)qword_1EF12D348 < 3
        || (v39 = (uint8x8_t)vcnt_s8((int8x8_t)qword_1EF12D348), v39.i16[0] = vaddlv_u8(v39), v39.u32[0] > 1uLL))
      {
        v38 = std::__next_prime(v38);
      }
      else
      {
        v40 = 1 << -(char)__clz(v38 - 1);
        if (v38 >= 2)
          v38 = v40;
      }
      if (prime <= v38)
        prime = v38;
      if (prime >= v9)
      {
        v9 = qword_1EF12D348;
LABEL_89:
        if ((v9 & (v9 - 1)) != 0)
        {
          if (v8 >= v9)
            v2 = v8 % v9;
          else
            v2 = v8;
        }
        else
        {
          v2 = (v9 - 1) & v8;
        }
        goto LABEL_102;
      }
      if (!prime)
      {
        v47 = (void *)qword_1EF12D340;
        qword_1EF12D340 = 0;
        if (v47)
          operator delete(v47);
        v9 = 0;
        qword_1EF12D348 = 0;
        goto LABEL_89;
      }
    }
    if (prime >> 61)
      sub_1B566A9AC();
    v28 = operator new(8 * prime);
    v29 = (void *)qword_1EF12D340;
    qword_1EF12D340 = (uint64_t)v28;
    if (v29)
      operator delete(v29);
    v30 = 0;
    qword_1EF12D348 = prime;
    do
      *(_QWORD *)(qword_1EF12D340 + 8 * v30++) = 0;
    while (prime != v30);
    v31 = (_QWORD **)qword_1EF12D350;
    if (!qword_1EF12D350)
    {
LABEL_88:
      v9 = prime;
      goto LABEL_89;
    }
    v32 = *(_QWORD *)(qword_1EF12D350 + 8);
    v33 = prime - 1;
    if ((prime & (prime - 1)) == 0)
    {
      v34 = v32 & v33;
      *(_QWORD *)(qword_1EF12D340 + 8 * v34) = &qword_1EF12D350;
      for (i = *v31; *v31; i = *v31)
      {
        v36 = i[1] & v33;
        if (v36 == v34)
        {
          v31 = (_QWORD **)i;
        }
        else if (*(_QWORD *)(qword_1EF12D340 + 8 * v36))
        {
          *v31 = (_QWORD *)*i;
          v37 = 8 * v36;
          *i = **(_QWORD **)(qword_1EF12D340 + v37);
          **(_QWORD **)(qword_1EF12D340 + v37) = i;
        }
        else
        {
          *(_QWORD *)(qword_1EF12D340 + 8 * v36) = v31;
          v31 = (_QWORD **)i;
          v34 = v36;
        }
      }
      goto LABEL_88;
    }
    if (v32 >= prime)
      v32 %= prime;
    *(_QWORD *)(qword_1EF12D340 + 8 * v32) = &qword_1EF12D350;
    v41 = *v31;
    if (!*v31)
      goto LABEL_88;
    while (1)
    {
      v43 = v41[1];
      if (v43 >= prime)
        v43 %= prime;
      if (v43 != v32)
      {
        if (!*(_QWORD *)(qword_1EF12D340 + 8 * v43))
        {
          *(_QWORD *)(qword_1EF12D340 + 8 * v43) = v31;
          goto LABEL_93;
        }
        *v31 = (_QWORD *)*v41;
        v42 = 8 * v43;
        *v41 = **(_QWORD **)(qword_1EF12D340 + v42);
        **(_QWORD **)(qword_1EF12D340 + v42) = v41;
        v41 = v31;
      }
      v43 = v32;
LABEL_93:
      v31 = (_QWORD **)v41;
      v41 = (_QWORD *)*v41;
      v32 = v43;
      if (!v41)
        goto LABEL_88;
    }
  }
LABEL_102:
  v44 = *(_QWORD **)(qword_1EF12D340 + 8 * v2);
  if (v44)
  {
    *v21 = *v44;
    *v44 = v21;
  }
  else
  {
    *v21 = qword_1EF12D350;
    qword_1EF12D350 = (uint64_t)v21;
    *(_QWORD *)(qword_1EF12D340 + 8 * v2) = &qword_1EF12D350;
    if (*v21)
    {
      v45 = *(_QWORD *)(*v21 + 8);
      if ((v9 & (v9 - 1)) != 0)
      {
        if (v45 >= v9)
          v45 %= v9;
      }
      else
      {
        v45 &= v9 - 1;
      }
      *(_QWORD *)(qword_1EF12D340 + 8 * v45) = v21;
    }
  }
  v12 = v21;
  ++qword_1EF12D358;
  return v12;
}

void sub_1B566B034(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_list va;

  va_start(va, a2);
  sub_1B566B04C((uint64_t *)va);
  _Unwind_Resume(a1);
}

uint64_t *sub_1B566B04C(uint64_t *a1)
{
  uint64_t v2;
  void *v3;

  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    if (*((_BYTE *)a1 + 16))
    {
      v3 = *(void **)(v2 + 40);
      if (v3)
      {
        *(_QWORD *)(v2 + 48) = v3;
        operator delete(v3);
      }
      if (*(char *)(v2 + 39) < 0)
        operator delete(*(void **)(v2 + 16));
    }
    operator delete((void *)v2);
  }
  return a1;
}

void sub_1B566B0A8(uint64_t a1)
{
  uint64_t v2;
  int v3;
  uint64_t v4;
  void *v5;
  void *v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  void *v10;
  void *v11;
  void (**v12)(_QWORD, _QWORD, _QWORD, _QWORD);
  void *v13;
  void *v14;
  uint64_t v15;
  std::chrono::system_clock::time_point v16;

  sub_1B567CC14(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 504));
  v2 = objc_msgSend(*(id *)(a1 + 40), "destinationColorPixelBuffer");
  v3 = *(unsigned __int8 *)(a1 + 80);
  v4 = objc_msgSend(*(id *)(a1 + 48), "canonicalDisparityPixelBuffer");
  objc_msgSend(*(id *)(a1 + 40), "mattingRequest");
  v5 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v5, "disparityPostprocessingRequest");
  v6 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v6, "fixedPointDisparityPixelBuffer");
  v7 = objc_msgSend(*(id *)(*(_QWORD *)(a1 + 32) + 24), "rawShiftInvalidThreshold");
  v8 = *(_QWORD *)(a1 + 32);
  v9 = **(unsigned int **)(v8 + 360);
  sub_1B5669B50(objc_msgSend(*(id *)(v8 + 24), "videoPipelineDevice"));
  objc_msgSend(*(id *)(*(_QWORD *)(a1 + 32) + 384), "primaryCaptureRect");
  if (v3)
    +[CVAPortraitVideoPipeline_Impl drawDisparity:onColor:canonical:rawShiftInvalidThreshold:focusMachineState:offsetX:offsetY:](CVAPortraitVideoPipeline_Impl, "drawDisparity:onColor:canonical:rawShiftInvalidThreshold:focusMachineState:offsetX:offsetY:", v4, v2, 1, v7, v9, 0, 0);

  objc_msgSend(*(id *)(a1 + 40), "destinationColorPixelBuffer");
  if (*(_QWORD *)(a1 + 64))
  {
    objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestFrom");
    v10 = (void *)objc_claimAutoreleasedReturnValue();
    if (v10)
    {

LABEL_7:
      v12 = (void (**)(_QWORD, _QWORD, _QWORD, _QWORD))MEMORY[0x1B5E4E2A8](*(_QWORD *)(a1 + 64));
      objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestFrom");
      v13 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestTo");
      v14 = (void *)objc_claimAutoreleasedReturnValue();
      ((void (**)(_QWORD, void *, void *, _QWORD))v12)[2](v12, v13, v14, *(_QWORD *)(a1 + 56));

      goto LABEL_8;
    }
    objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestTo");
    v11 = (void *)objc_claimAutoreleasedReturnValue();

    if (v11)
      goto LABEL_7;
    (*(void (**)(void))(*(_QWORD *)(a1 + 64) + 16))();
  }
LABEL_8:
  if (*(_DWORD *)(*(_QWORD *)(a1 + 32) + 304))
  {
    v15 = *(_QWORD *)(a1 + 72);
    v16.__d_.__rep_ = std::chrono::system_clock::now().__d_.__rep_;
    syslog(4, "sdofTime : %lld  %lld (diff : %lld)", v15, v16.__d_.__rep_ / 1000, v16.__d_.__rep_ / 1000 - v15);
  }
}

void sub_1B566B284(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B566B2B8(uint64_t a1)
{
  uint64_t v2;
  int v3;
  uint64_t v4;
  void *v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  void *v9;
  void *v10;
  void *v11;
  void *v12;
  id v13;
  void (**v14)(id, void *, void *, _QWORD);

  sub_1B567CC14(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 504));
  v2 = objc_msgSend(*(id *)(a1 + 40), "destinationColorPixelBuffer");
  v3 = *(unsigned __int8 *)(a1 + 72);
  v4 = objc_msgSend(*(id *)(a1 + 48), "canonicalDisparityPixelBuffer");
  objc_msgSend(*(id *)(a1 + 40), "mattingRequest");
  v13 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v13, "disparityPostprocessingRequest");
  v5 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v5, "fixedPointDisparityPixelBuffer");
  v6 = objc_msgSend(*(id *)(*(_QWORD *)(a1 + 32) + 24), "rawShiftInvalidThreshold");
  v7 = *(_QWORD *)(a1 + 32);
  v8 = **(unsigned int **)(v7 + 360);
  sub_1B5669B50(objc_msgSend(*(id *)(v7 + 24), "videoPipelineDevice"));
  objc_msgSend(*(id *)(*(_QWORD *)(a1 + 32) + 384), "primaryCaptureRect");
  if (v3)
    +[CVAPortraitVideoPipeline_Impl drawDisparity:onColor:canonical:rawShiftInvalidThreshold:focusMachineState:offsetX:offsetY:](CVAPortraitVideoPipeline_Impl, "drawDisparity:onColor:canonical:rawShiftInvalidThreshold:focusMachineState:offsetX:offsetY:", v4, v2, 1, v6, v8, 0, 0);

  objc_msgSend(*(id *)(a1 + 40), "destinationColorPixelBuffer");
  if (*(_QWORD *)(a1 + 64))
  {
    objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestFrom");
    v9 = (void *)objc_claimAutoreleasedReturnValue();
    if (v9)
    {

LABEL_8:
      v14 = (void (**)(id, void *, void *, _QWORD))MEMORY[0x1B5E4E2A8](*(_QWORD *)(a1 + 64));
      objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestFrom");
      v11 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestTo");
      v12 = (void *)objc_claimAutoreleasedReturnValue();
      v14[2](v14, v11, v12, *(_QWORD *)(a1 + 56));

      return;
    }
    objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestTo");
    v10 = (void *)objc_claimAutoreleasedReturnValue();

    if (v10)
      goto LABEL_8;
    (*(void (**)(void))(*(_QWORD *)(a1 + 64) + 16))();
  }
}

void sub_1B566B47C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;
  void *v11;

  _Unwind_Resume(a1);
}

void sub_1B566B4B4(uint64_t a1)
{
  uint64_t v2;
  int v3;
  uint64_t v4;
  void *v5;
  void *v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  void *v10;
  void *v11;
  void (**v12)(_QWORD, _QWORD, _QWORD, _QWORD);
  void *v13;
  void *v14;
  uint64_t v15;
  std::chrono::system_clock::time_point v16;

  sub_1B567CC14(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 504));
  v2 = objc_msgSend(*(id *)(a1 + 40), "destinationColorPixelBuffer");
  v3 = *(unsigned __int8 *)(a1 + 80);
  v4 = objc_msgSend(*(id *)(a1 + 48), "canonicalDisparityPixelBuffer");
  objc_msgSend(*(id *)(a1 + 40), "mattingRequest");
  v5 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v5, "disparityPostprocessingRequest");
  v6 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v6, "fixedPointDisparityPixelBuffer");
  v7 = objc_msgSend(*(id *)(*(_QWORD *)(a1 + 32) + 24), "rawShiftInvalidThreshold");
  v8 = *(_QWORD *)(a1 + 32);
  v9 = **(unsigned int **)(v8 + 360);
  sub_1B5669B50(objc_msgSend(*(id *)(v8 + 24), "videoPipelineDevice"));
  objc_msgSend(*(id *)(*(_QWORD *)(a1 + 32) + 384), "primaryCaptureRect");
  if (v3)
    +[CVAPortraitVideoPipeline_Impl drawDisparity:onColor:canonical:rawShiftInvalidThreshold:focusMachineState:offsetX:offsetY:](CVAPortraitVideoPipeline_Impl, "drawDisparity:onColor:canonical:rawShiftInvalidThreshold:focusMachineState:offsetX:offsetY:", v4, v2, 1, v7, v9, 0, 0);

  objc_msgSend(*(id *)(a1 + 40), "destinationColorPixelBuffer");
  if (*(_QWORD *)(a1 + 64))
  {
    objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestFrom");
    v10 = (void *)objc_claimAutoreleasedReturnValue();
    if (v10)
    {

LABEL_7:
      v12 = (void (**)(_QWORD, _QWORD, _QWORD, _QWORD))MEMORY[0x1B5E4E2A8](*(_QWORD *)(a1 + 64));
      objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestFrom");
      v13 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestTo");
      v14 = (void *)objc_claimAutoreleasedReturnValue();
      ((void (**)(_QWORD, void *, void *, _QWORD))v12)[2](v12, v13, v14, *(_QWORD *)(a1 + 56));

      goto LABEL_8;
    }
    objc_msgSend(*(id *)(a1 + 40), "parentGenericRequestTo");
    v11 = (void *)objc_claimAutoreleasedReturnValue();

    if (v11)
      goto LABEL_7;
    (*(void (**)(void))(*(_QWORD *)(a1 + 64) + 16))();
  }
LABEL_8:
  if (*(_DWORD *)(*(_QWORD *)(a1 + 32) + 304))
  {
    v15 = *(_QWORD *)(a1 + 72);
    v16.__d_.__rep_ = std::chrono::system_clock::now().__d_.__rep_;
    syslog(4, "sdofTime : %lld  %lld (diff : %lld)", v15, v16.__d_.__rep_ / 1000, v16.__d_.__rep_ / 1000 - v15);
  }
}

void sub_1B566B690(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

uint64_t sub_1B566B6C4()
{
  unsigned __int8 v0;
  void *v2;
  char v3;

  v0 = atomic_load((unsigned __int8 *)&qword_1EF12D4B0);
  if ((v0 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D4B0))
  {
    +[CVAPreferenceManager defaults](CVAPreferenceManager, "defaults");
    v2 = (void *)objc_claimAutoreleasedReturnValue();
    v3 = objc_msgSend(v2, "BOOLForKey:", CFSTR("CVAPhotoLogTransitionData"));

    byte_1EF12D730 = v3;
    __cxa_guard_release(&qword_1EF12D4B0);
  }
  return byte_1EF12D730;
}

void sub_1B566B744(_Unwind_Exception *a1)
{
  void *v1;

  __cxa_guard_abort(&qword_1EF12D4B0);
  _Unwind_Resume(a1);
}

uint64_t sub_1B566B768(_QWORD *a1)
{
  uint64_t result;

  result = a1[6];
  if (result)
    return (*(uint64_t (**)(uint64_t, _QWORD, _QWORD))(result + 16))(result, a1[4], a1[5]);
  return result;
}

uint64_t sub_1B566B784(_QWORD *a1)
{
  uint64_t result;

  result = a1[6];
  if (result)
    return (*(uint64_t (**)(uint64_t, _QWORD, _QWORD))(result + 16))(result, a1[4], a1[5]);
  return result;
}

float sub_1B566B7A0(float *a1, float *a2, float *a3, float *a4, void *a5)
{
  void *v9;
  void *v10;
  float v11;
  float v12;
  void *v13;
  float v14;
  float v15;
  void *v16;
  float v17;
  float v18;
  void *v19;
  double v20;
  double v21;
  double v22;
  float v23;
  double v24;
  float v25;
  float v26;
  float v27;
  float v28;
  float result;
  void *v30;

  objc_msgSend(a5, "objectForKeyedSubscript:", CFSTR("FinalCropRectFromSource"));
  v9 = (void *)objc_claimAutoreleasedReturnValue();
  if (v9)
  {
    v30 = v9;
    objc_msgSend(v9, "objectForKeyedSubscript:", CFSTR("X"));
    v10 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v10, "floatValue");
    v12 = v11;
    objc_msgSend(v30, "objectForKeyedSubscript:", CFSTR("Y"));
    v13 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v13, "floatValue");
    v15 = v14;
    objc_msgSend(v30, "objectForKeyedSubscript:", CFSTR("Width"));
    v16 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v16, "floatValue");
    v18 = v17;
    objc_msgSend(v30, "objectForKeyedSubscript:", CFSTR("Height"));
    v19 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v19, "floatValue");
    v20 = v12;
    v21 = v15;
    v22 = v18;
    v24 = v23;

    v9 = v30;
  }
  else
  {
    v22 = 1.0;
    v20 = 0.0;
    v21 = 0.0;
    v24 = 1.0;
  }
  v25 = (*a1 - v20) / v22;
  *a1 = v25;
  v26 = (*a2 - v21) / v24;
  *a2 = v26;
  v27 = *a3 / v22;
  *a3 = v27;
  v28 = *a4 / v24;
  *a4 = v28;

  return result;
}

void sub_1B566B924(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;
  void *v11;
  void *v12;
  void *v13;

  _Unwind_Resume(a1);
}

_QWORD *sub_1B566B968(_QWORD *result, char *__src, char *a3, size_t __sz)
{
  char *v6;
  _QWORD *v7;
  uint64_t v8;
  char *v9;
  uint64_t v10;
  BOOL v11;
  unint64_t v12;
  uint64_t v13;
  size_t v14;
  void **v15;
  _BYTE *v16;
  unint64_t v17;
  char *v18;
  void *v19;

  v6 = __src;
  v7 = result;
  v8 = result[2];
  v9 = (char *)*result;
  if (__sz > (v8 - *result) >> 2)
  {
    if (v9)
    {
      result[1] = v9;
      operator delete(v9);
      v8 = 0;
      *v7 = 0;
      v7[1] = 0;
      v7[2] = 0;
    }
    if (__sz >> 62)
      goto LABEL_22;
    v10 = v8 >> 1;
    if (v8 >> 1 <= __sz)
      v10 = __sz;
    v11 = (unint64_t)v8 >= 0x7FFFFFFFFFFFFFFCLL;
    v12 = 0x3FFFFFFFFFFFFFFFLL;
    if (!v11)
      v12 = v10;
    if (v12 >> 62)
LABEL_22:
      abort();
    v13 = 4 * v12;
    result = operator new(4 * v12);
    v9 = (char *)result;
    *v7 = result;
    v7[1] = result;
    v7[2] = (char *)result + v13;
    v14 = a3 - v6;
    if (v14)
      result = memcpy(result, v6, v14);
    v15 = (void **)(v7 + 1);
    goto LABEL_21;
  }
  v15 = (void **)(result + 1);
  v16 = (_BYTE *)result[1];
  v17 = (v16 - v9) >> 2;
  if (v17 >= __sz)
  {
    v14 = a3 - __src;
    if (a3 == __src)
      goto LABEL_21;
    v19 = (void *)*result;
LABEL_20:
    result = memmove(v19, __src, v14);
    goto LABEL_21;
  }
  v18 = &__src[4 * v17];
  if (v16 != v9)
  {
    result = memmove((void *)*result, __src, v16 - v9);
    v9 = (char *)*v15;
  }
  v14 = a3 - v18;
  if (v14)
  {
    v19 = v9;
    __src = v18;
    goto LABEL_20;
  }
LABEL_21:
  *v15 = &v9[v14];
  return result;
}

uint64_t sub_1B566BAA8(_QWORD *a1)
{
  uint64_t result;

  result = a1[6];
  if (result)
    return (*(uint64_t (**)(uint64_t, _QWORD, _QWORD))(result + 16))(result, a1[4], a1[5]);
  return result;
}

uint64_t sub_1B566BAC4(_QWORD *a1)
{
  uint64_t result;

  result = a1[6];
  if (result)
    return (*(uint64_t (**)(uint64_t, _QWORD, _QWORD))(result + 16))(result, a1[4], a1[5]);
  return result;
}

_QWORD *sub_1B566BAE0(_QWORD *a1)
{
  void *v2;
  void *v3;

  v2 = (void *)a1[9];
  if (v2)
  {
    a1[10] = v2;
    operator delete(v2);
  }
  v3 = (void *)a1[6];
  if (v3)
  {
    a1[7] = v3;
    operator delete(v3);
  }
  return a1;
}

BOOL sub_1B566BB20(void *a1)
{
  id v1;
  _BOOL8 v2;
  int v3;
  long double v4;

  v1 = a1;
  if ((objc_msgSend(v1, "length") & 0xF) != 0)
  {
    v2 = 0;
  }
  else
  {
    v3 = objc_msgSend(v1, "length") & 0xF;
    v4 = cbrt((double)v3);
    v2 = (int)v4 * (int)v4 * (int)v4 == v3;
  }

  return v2;
}

void sub_1B566BB84(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B566C248(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B56722C8(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  sub_1B5673DF4((_QWORD *)STACK[0x248]);
  _Unwind_Resume(a1);
}

void sub_1B56733C4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

id sub_1B5673B10(uint64_t a1, void *a2)
{
  id v3;
  void *v4;
  id v5;
  void *v6;
  id v7;
  void *v8;
  void *v9;
  void *v10;
  NSObject *v11;
  const char *v12;
  uint32_t v13;
  int v15;
  id v16;
  uint64_t v17;

  v17 = *MEMORY[0x1E0C80C00];
  v3 = a2;
  objc_msgSend(**(id **)a1, "objectForKey:", v3);
  v4 = (void *)objc_claimAutoreleasedReturnValue();
  if (!v4 || (objc_opt_class(), (objc_opt_isKindOfClass() & 1) == 0))
  {
    objc_msgSend(**(id **)(a1 + 8), "objectForKeyedSubscript:", v3);
    v6 = (void *)objc_claimAutoreleasedReturnValue();
    if (v6)
    {
      objc_opt_class();
      if ((objc_opt_isKindOfClass() & 1) != 0)
      {
        v7 = v6;
        objc_msgSend(v7, "objectForKeyedSubscript:", &unk_1E6949478);
        v8 = (void *)objc_claimAutoreleasedReturnValue();
        objc_msgSend(MEMORY[0x1E0CB37E8], "numberWithUnsignedInteger:", **(_QWORD **)(a1 + 16));
        v9 = (void *)objc_claimAutoreleasedReturnValue();
        objc_msgSend(v7, "objectForKeyedSubscript:", v9);
        v10 = (void *)objc_claimAutoreleasedReturnValue();

        if (v10)
        {
          v5 = v10;
        }
        else if (v8)
        {
          v5 = v8;
        }
        else
        {
          if (os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_ERROR))
          {
            v15 = 138412290;
            v16 = v3;
            _os_log_error_impl(&dword_1B5656000, MEMORY[0x1E0C81028], OS_LOG_TYPE_ERROR, "No value for parameter %@", (uint8_t *)&v15, 0xCu);
          }
          v5 = 0;
        }

        goto LABEL_20;
      }
      objc_opt_class();
      if ((objc_opt_isKindOfClass() & 1) != 0)
      {
        v5 = v6;
LABEL_20:

        goto LABEL_21;
      }
      if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_ERROR))
      {
LABEL_13:
        v5 = 0;
        goto LABEL_20;
      }
      LOWORD(v15) = 0;
      v11 = MEMORY[0x1E0C81028];
      v12 = "Unknown parameter type";
      v13 = 2;
    }
    else
    {
      if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_ERROR))
        goto LABEL_13;
      v15 = 138412290;
      v16 = v3;
      v11 = MEMORY[0x1E0C81028];
      v12 = "No value for parameter %@";
      v13 = 12;
    }
    _os_log_error_impl(&dword_1B5656000, v11, OS_LOG_TYPE_ERROR, v12, (uint8_t *)&v15, v13);
    goto LABEL_13;
  }
  v5 = v4;
LABEL_21:

  return v5;
}

void sub_1B5673D9C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;

  v7 = v6;

  _Unwind_Resume(a1);
}

void sub_1B5673DF4(_QWORD *a1)
{
  if (a1)
  {
    sub_1B5673DF4(*a1);
    sub_1B5673DF4(a1[1]);
    operator delete(a1);
  }
}

double sub_1B5673E38(double *a1)
{
  double v1;
  double v2;
  void *v5;
  void *v6;

  v1 = *a1;
  v2 = sqrt(a1[1] * a1[1] + v1 * v1 + a1[2] * a1[2]);
  if (v2 < 0.00000011920929)
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v5 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "CVAVector cva::normalized(const CVAVector &)");
    v6 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v5, "handleFailureInFunction:file:lineNumber:description:", v6, CFSTR("CVAVector.mm"), 15, CFSTR("Unable to normalize vector (%.3e %.3e %.3e)"), *(_QWORD *)a1, *((_QWORD *)a1 + 1), *((_QWORD *)a1 + 2));

    v1 = *a1;
  }
  return v1 / v2;
}

void sub_1B5673F14(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5674264(_Unwind_Exception *a1, uint64_t a2, ...)
{
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  va_list va;

  va_start(va, a2);
  sub_1B5674E20((id *)va);

  _Unwind_Resume(a1);
}

void sub_1B5674678(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5674888(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5674A9C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5674B88(void **a1, void *a2, void *a3, void *a4, void *a5, _QWORD *a6, void *a7)
{
  id v13;
  id v14;
  id v15;
  id v16;
  id v17;
  id v18;
  id v19;
  void *v20;
  id v21;
  id v22;
  uint64_t v23;
  id v24;
  void *v25;
  BOOL v26;
  uint64_t v27;
  void *v28;
  void *v29;
  void *v30;
  void *v31;
  void *v32;
  void *v33;
  id v34;
  id v35;
  id v36;
  id v37;

  v36 = a2;
  v13 = a3;
  v14 = a4;
  v15 = a5;
  v16 = a7;
  v17 = v13;
  v18 = v14;
  v19 = v15;
  sub_1B56A2330(v36, v17, v19, a6, v16);
  v20 = (void *)objc_claimAutoreleasedReturnValue();
  if (!v20 || a6 && *a6)
  {
    v21 = 0;
  }
  else
  {
    v34 = v18;
    v35 = v16;
    v22 = objc_alloc_init(MEMORY[0x1E0CC6A80]);
    objc_msgSend(v22, "setThreadGroupSizeIsMultipleOfThreadExecutionWidth:", 1);
    objc_msgSend(v22, "setComputeFunction:", v20);
    objc_msgSend(v22, "setPipelineLibrary:", v17);
    v37 = 0;
    v23 = objc_msgSend(v18, "newComputePipelineStateWithDescriptor:error:", v22, &v37);
    v24 = v37;
    v25 = v24;
    v33 = (void *)v23;
    if (v24)
      v26 = 1;
    else
      v26 = v23 == 0;
    v27 = v26;
    v28 = (void *)MEMORY[0x1E0CB3940];
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Unable to create function (%@): %@"), v19, v24);
    v29 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v28, "stringWithFormat:", CFSTR("Assertion failure in %s at %s:%d -- %@"), "id<MTLComputePipelineState> computeKernel(__strong id<MTLLibrary> _Nonnull, __strong id<MTLPipelineLibrarySPI> _Nonnull, __strong id<MTLDeviceSPI> _Nonnull, NSString *__strong _Nonnull, NSError *__autoreleasing * _Nullable, MTLFunctionConstantValues * _Nullable __strong)", "/Library/Caches/com.apple.xbs/Sources/AppleCVAPhoto/module/sdof/src/metal/MetalHelpers.mm", 126, v29);
    v30 = (void *)objc_claimAutoreleasedReturnValue();
    sub_1B5658D40(v27, a6, v25, 4294944382, v30);

    if ((v27 & 1) != 0)
    {
      v21 = 0;
      v31 = v33;
      v18 = v34;
    }
    else
    {
      v31 = v33;
      v21 = v33;
      v18 = v34;
    }

    v16 = v35;
  }

  v32 = *a1;
  *a1 = v21;

}

void sub_1B5674D98(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14, void *a15, void *a16, id a17)
{
  void *v17;
  void *v18;
  void *v19;
  void *v20;
  void *v21;
  void *v22;
  void *v23;

  _Unwind_Resume(a1);
}

id *sub_1B5674E20(id *a1)
{

  return a1;
}

void sub_1B5674EC0(void *a1, _QWORD *a2)
{
  int v3;
  void *v4;
  int v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  void *v11;
  uint64_t v12;
  uint64_t v13;
  void *v14;
  int v15;
  uint64_t v16;
  uint64_t v17;
  id v18;

  v18 = a1;
  v3 = objc_msgSend(v18, "count");
  objc_msgSend(v18, "objectAtIndexedSubscript:", 0);
  v4 = (void *)objc_claimAutoreleasedReturnValue();
  v5 = objc_msgSend(v4, "count");
  if (v3 < 1)
  {
    v11 = v4;
  }
  else if (v5 <= 0)
  {
    v16 = 0;
    v17 = v3;
    do
    {
      objc_msgSend(v18, "objectAtIndexedSubscript:", v16);
      v11 = (void *)objc_claimAutoreleasedReturnValue();

      ++v16;
      v4 = v11;
    }
    while (v17 != v16);
  }
  else
  {
    v6 = 0;
    v7 = 0;
    v8 = v3;
    v9 = v5;
    v10 = 4 * v3;
    do
    {
      objc_msgSend(v18, "objectAtIndexedSubscript:", v7);
      v11 = (void *)objc_claimAutoreleasedReturnValue();

      v12 = 0;
      v13 = v6;
      do
      {
        objc_msgSend(v11, "objectAtIndexedSubscript:", v12);
        v14 = (void *)objc_claimAutoreleasedReturnValue();
        objc_msgSend(v14, "floatValue");
        *(_DWORD *)(*a2 + v13) = v15;

        ++v12;
        v13 += v10;
      }
      while (v9 != v12);
      ++v7;
      v6 += 4;
      v4 = v11;
    }
    while (v7 != v8);
  }

}

void sub_1B5675000(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;

  _Unwind_Resume(a1);
}

void sub_1B5675048(void *a1, void *a2, _OWORD **a3)
{
  id v5;
  __int128 v6;
  __int128 v7;
  __int128 v8;
  _OWORD *v9;
  _OWORD *v10;
  _DWORD *v11;
  unint64_t v12;
  unint64_t v13;
  __int128 *v14;
  id v15;
  unint64_t i;
  void *v17;
  int v18;
  _OWORD *v19;
  unint64_t v20;
  unint64_t v21;
  uint64_t v22;
  _DWORD *v23;
  int *v24;
  int v25;
  _OWORD *v26;
  __int128 *v27;
  unint64_t v28;
  __int128 v29;
  id v30;
  _QWORD v31[3];

  v30 = a1;
  v5 = a2;
  v6 = *(_OWORD *)(MEMORY[0x1E0C83FF0] + 16);
  v7 = *(_OWORD *)(MEMORY[0x1E0C83FF0] + 32);
  v8 = *(_OWORD *)(MEMORY[0x1E0C83FF0] + 48);
  v9 = *a3;
  *v9 = *MEMORY[0x1E0C83FF0];
  v9[1] = v6;
  v9[2] = v7;
  v9[3] = v8;
  v10 = operator new(0x24uLL);
  v31[1] = (char *)v10 + 36;
  v31[2] = (char *)v10 + 36;
  *v10 = 0u;
  v10[1] = 0u;
  *((_DWORD *)v10 + 8) = 0;
  v31[0] = v10;
  sub_1B5674EC0(v30, v31);
  v11 = *a3;
  *v11 = *(_DWORD *)v10;
  v11[1] = *((_DWORD *)v10 + 1);
  v11[2] = *((_DWORD *)v10 + 2);
  v11[4] = *((_DWORD *)v10 + 3);
  v11[5] = *((_DWORD *)v10 + 4);
  v11[6] = *((_DWORD *)v10 + 5);
  v11[8] = *((_DWORD *)v10 + 6);
  v11[9] = *((_DWORD *)v10 + 7);
  v11[10] = *((_DWORD *)v10 + 8);
  v12 = objc_msgSend(v5, "count");
  v13 = v12;
  if (v12)
  {
    if (v12 >> 62)
      abort();
    v14 = (__int128 *)operator new(4 * v12);
    bzero(v14, 4 * v13);
  }
  else
  {
    v14 = 0;
  }
  v15 = v5;
  for (i = 0; i < objc_msgSend(v15, "count", v30); ++i)
  {
    objc_msgSend(v15, "objectAtIndexedSubscript:", i);
    v17 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v17, "floatValue");
    *((_DWORD *)v14 + i) = v18;

  }
  if (!v13)
  {
    if (!v14)
      goto LABEL_21;
    goto LABEL_20;
  }
  v19 = *a3;
  if (v13 > 7 && (unint64_t)((char *)v19 - (char *)v14 + 48) >= 0x20)
  {
    v20 = v13 & 0xFFFFFFFFFFFFFFF8;
    v26 = v19 + 4;
    v27 = v14 + 1;
    v28 = v13 & 0xFFFFFFFFFFFFFFF8;
    do
    {
      v29 = *v27;
      *(v26 - 1) = *(v27 - 1);
      *v26 = v29;
      v26 += 2;
      v27 += 2;
      v28 -= 8;
    }
    while (v28);
    if (v13 == v20)
      goto LABEL_20;
  }
  else
  {
    v20 = 0;
  }
  v21 = v13 - v20;
  v22 = 4 * v20;
  v23 = (_DWORD *)((char *)v19 + v22 + 48);
  v24 = (int *)((char *)v14 + v22);
  do
  {
    v25 = *v24++;
    *v23++ = v25;
    --v21;
  }
  while (v21);
LABEL_20:
  operator delete(v14);
LABEL_21:
  operator delete(v10);

}

void sub_1B5675254(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, id a9)
{
  void *v9;
  void *v10;

  operator delete(v9);

  _Unwind_Resume(a1);
}

uint64_t sub_1B56752A8(uint64_t a1)
{
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 200));
  *(_QWORD *)(a1 + 200) = 0;
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 192));
  *(_QWORD *)(a1 + 192) = 0;
  v2 = *(void **)(a1 + 256);
  if (v2)
  {
    *(_QWORD *)(a1 + 264) = v2;
    operator delete(v2);
  }
  v3 = *(void **)(a1 + 208);
  if (v3)
  {
    *(_QWORD *)(a1 + 216) = v3;
    operator delete(v3);
  }
  v4 = *(void **)(a1 + 72);
  if (v4)
  {
    *(_QWORD *)(a1 + 80) = v4;
    operator delete(v4);
  }
  v5 = *(void **)(a1 + 48);
  if (v5)
  {
    *(_QWORD *)(a1 + 56) = v5;
    operator delete(v5);
  }
  return a1;
}

uint64_t sub_1B5675320(uint64_t a1, CVPixelBufferRef pixelBuffer, uint64_t a3, float a4, float a5, float a6)
{
  size_t Width;
  size_t Height;
  float *BaseAddress;
  size_t BytesPerRow;
  float *v16;
  uint64_t v17;
  int v18;
  int v19;
  float *v20;
  size_t v21;
  float v22;
  float v23;
  float v24;
  unint64_t v26;
  float v27;
  uint64_t i;
  float v29;
  uint64_t j;
  unint64_t v31;
  float v32;
  float v33;
  float v34;
  float v35;
  float v36;
  float32x4_t *v37;
  size_t v38;
  size_t v39;
  size_t v40;
  int32x2_t v41;
  int v42;
  float *v43;
  float v44;
  float v45;
  float v46;
  float v47;
  float v48;
  float v49;
  float v50;
  float v51;
  uint64_t v52;
  float32x4_t v53;
  float32x4_t *v54;
  float *f32;
  float32x4_t v56;
  int8x16_t v57;
  int32x4_t v58;
  int32x4_t v59;
  float32x4_t *v60;
  unint64_t v61;
  float32x4_t v62;
  int32x4_t v63;
  int32x4_t v64;
  int8x16_t v65;
  int8x16_t v66;
  float *v67;
  size_t v68;
  float v69;
  float v70;
  float v71;
  int v72;
  int v73;
  float32x4_t *v74;
  size_t v75;
  size_t v76;
  size_t v77;
  int8x16_t *v78;
  size_t v79;
  int32x2_t v80;
  unint64_t v81;
  unint64_t v82;
  float *v83;
  __int8 *v84;
  size_t v85;
  float v86;
  uint64_t v87;
  float v88;
  uint64_t v89;
  float v90;
  uint64_t v91;
  uint64_t v92;
  float v93;
  uint64_t v94;
  float v95;
  uint64_t v96;
  float v97;
  uint64_t v98;
  float v99;
  float v100;
  uint64_t v101;
  float v102;
  float v103;
  __CVBuffer *v104;
  uint64_t v105;
  float32x4_t v106;
  uint64_t v107;
  float32x4_t v108;
  int8x16_t v109;
  float32x4_t *v110;
  int8x16_t *v111;
  float32x4_t *v112;
  int8x8_t *v113;
  int8x8_t v115;
  int8x16_t v116;
  int64x2_t v117;
  int64x2_t v118;
  int64x2_t v119;
  unint64_t v120;
  size_t v121;
  char *v122;
  float *v123;
  float v124;
  uint64_t v125;
  uint64_t v126;
  float32x4_t v127;
  int8x16_t v128;
  int8x16_t v129;
  float32x4_t *v130;
  int8x16_t *v131;
  int64x2_t v133;
  int64x2_t v134;
  float32x4_t *v135;
  int8x16_t *v136;
  unint64_t v137;
  int64x2_t v138;
  int64x2_t v139;
  int64x2_t v140;
  int64x2_t v141;
  int64x2_t v142;
  int64x2_t v143;
  int8x16_t v144;
  int8x16_t v145;
  int64x2_t v146;
  int64x2_t v147;
  int64x2_t v148;
  int64x2_t v149;
  int64x2_t v150;
  int64x2_t v151;
  int64x2_t v152;
  uint64_t v153;
  int64x2_t v154;
  int64x2_t v155;
  unint64_t v156;
  unint64_t v157;
  int64x2_t v158;
  int64x2_t v159;
  int8x8_t v160;
  int8x16_t v161;
  int8x16_t v162;
  int8x16_t v163;
  int8x16_t v164;
  unsigned int v165;
  unsigned int v166;
  int64x2_t v167;
  int64x2_t v168;
  unint64_t k;
  float v170;
  uint64_t v171;
  int64x2_t v172;
  int8x16_t *data;
  uint64_t v174;
  unint64_t v175;
  int8x16_t *v176;
  size_t v177;
  unsigned int v178;
  float v179;
  uint64_t v180;
  uint64_t v181;
  unint64_t v182;
  unint64_t v183;
  unint64_t v184;
  int v185;
  float v186;
  int v187;
  float v188;
  int v189;
  float v190;
  float v191;
  uint64_t v192;
  uint64_t v193;
  unint64_t v194;
  unint64_t v195;
  unint64_t v196;
  int v197;
  float v198;
  int v199;
  float v200;
  int v201;
  float v202;
  float v203;
  int v204;
  uint64_t v206;
  unint64_t v207;
  int64x2_t v208;
  int64x2_t v209;
  int64x2_t v210;
  int64x2_t v211;
  uint32x4_t v212;
  unint64_t v213;
  int64x2_t v214;
  int64x2_t v215;
  int8x16_t *v216;
  unint64_t v217;
  int64x2_t v218;
  int64x2_t v219;
  int64x2_t v220;
  int64x2_t v221;
  int64x2_t v222;
  int8x16_t v223;
  uint32x4_t v224;
  uint32x4_t v225;
  uint32x4_t v226;
  uint32x4_t v227;
  uint64_t v228;
  __CVBuffer *pixelBuffera;
  vImage_Buffer dest;
  vImage_Buffer src;

  Width = CVPixelBufferGetWidth(pixelBuffer);
  Height = CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
  BaseAddress = (float *)CVPixelBufferGetBaseAddress(pixelBuffer);
  CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferGetWidth(pixelBuffer);
  pixelBuffera = pixelBuffer;
  BytesPerRow = CVPixelBufferGetBytesPerRow(pixelBuffer);
  v16 = (float *)(a1 + 304);
  bzero((void *)(a1 + 304), 0x400uLL);
  if (Height && Width)
  {
    v17 = 0;
    v18 = 0;
    v19 = 0;
    do
    {
      v20 = BaseAddress;
      v21 = Width;
      do
      {
        v22 = *v20;
        if (*v20 >= 2048.0)
        {
          ++v19;
        }
        else
        {
          v23 = *(float *)(a1 + 112);
          v24 = *(float *)(a1 + 116);
          if (v22 >= v23 && v22 < v24)
          {
            v26 = (unint64_t)(float)((float)((float)(v22 - v23) * 256.0) / (float)(v24 - v23));
            v16[v26] = v16[v26] + 1.0;
            v22 = *v20;
          }
          if ((float)(a4 - v22) > 0.0)
            ++v18;
        }
        ++v20;
        --v21;
      }
      while (v21);
      ++v17;
      BaseAddress = (float *)((char *)BaseAddress + BytesPerRow);
    }
    while (v17 != Height);
  }
  else
  {
    v19 = 0;
    v18 = 0;
  }
  CVPixelBufferUnlockBaseAddress(pixelBuffera, 1uLL);
  *(_DWORD *)(a1 + 1328) = 872415232;
  v27 = 0.00000011921;
  for (i = 304; i != 1328; i += 4)
  {
    v27 = v27 + *(float *)(a1 + i);
    *(float *)(a1 + 1328) = v27;
  }
  v29 = *v16 / v27;
  *v16 = v29;
  for (j = 308; j != 1328; j += 4)
  {
    v29 = v29 + (float)(*(float *)(a1 + j) / *(float *)(a1 + 1328));
    *(float *)(a1 + j) = v29;
  }
  if (*(float *)(a1 + 1328) <= 0.00000011921)
    bzero((void *)(a1 + 304), 0x400uLL);
  v31 = 0;
  v32 = (float)(Height * Width);
  v33 = (float)v19 / v32;
  v34 = *(float *)(a1 + 112);
  v35 = *(float *)(a1 + 116);
  v36 = (float)v18 / v32;
  do
  {
    if (*(float *)(a1 + 4 * v31 + 304) > *(float *)(a1 + 180))
      break;
    ++v31;
  }
  while (v31 != 256);
  CVPixelBufferLockBaseAddress(pixelBuffera, 1uLL);
  v37 = (float32x4_t *)CVPixelBufferGetBaseAddress(pixelBuffera);
  v38 = CVPixelBufferGetHeight(pixelBuffera);
  v39 = CVPixelBufferGetWidth(pixelBuffera);
  v40 = CVPixelBufferGetBytesPerRow(pixelBuffera);
  v228 = a3;
  if (v38 && v39)
  {
    *(float *)v41.i32 = v34 + (float)((float)((float)v31 * 0.0039062) * (float)(v35 - v34));
    if (v39 >= 8)
    {
      v52 = 0;
      v42 = 0;
      v53 = (float32x4_t)vdupq_lane_s32(v41, 0);
      v54 = v37 + 1;
      f32 = v37[2 * (v39 >> 3)].f32;
      v44 = 0.0;
      v56.i64[0] = 0x4500000045000000;
      v56.i64[1] = 0x4500000045000000;
      v57.i64[0] = 0x8000000080000000;
      v57.i64[1] = 0x8000000080000000;
      do
      {
        v58 = 0uLL;
        v59 = (int32x4_t)v42;
        v60 = v54;
        v61 = v39 & 0xFFFFFFFFFFFFFFF8;
        do
        {
          v62 = v60[-1];
          v63 = (int32x4_t)vbicq_s8((int8x16_t)vcgeq_f32(v62, v53), (int8x16_t)vcgeq_f32(v62, v56));
          v64 = (int32x4_t)vbicq_s8((int8x16_t)vcgeq_f32(*v60, v53), (int8x16_t)vcgeq_f32(*v60, v56));
          v59 = vsubq_s32(v59, v63);
          v58 = vsubq_s32(v58, v64);
          v65 = vbslq_s8((int8x16_t)v63, (int8x16_t)v62, v57);
          v66 = vbslq_s8((int8x16_t)v64, *(int8x16_t *)v60, v57);
          v44 = (float)((float)((float)((float)((float)((float)((float)(v44 + *(float *)v65.i32) + *(float *)&v65.i32[1])
                                                      + *(float *)&v65.i32[2])
                                              + *(float *)&v65.i32[3])
                                      + *(float *)v66.i32)
                              + *(float *)&v66.i32[1])
                      + *(float *)&v66.i32[2])
              + *(float *)&v66.i32[3];
          v60 += 2;
          v61 -= 8;
        }
        while (v61);
        v42 = vaddvq_s32(vaddq_s32(v58, v59));
        if (v39 != (v39 & 0xFFFFFFFFFFFFFFF8))
        {
          v67 = f32;
          v68 = v39 - (v39 & 0xFFFFFFFFFFFFFFF8);
          do
          {
            v69 = *v67++;
            v70 = v69;
            v42 += v69 < 2048.0 && v69 >= *(float *)v41.i32;
            if (v69 >= 2048.0 || v69 < *(float *)v41.i32)
              v70 = -0.0;
            v44 = v44 + v70;
            --v68;
          }
          while (v68);
        }
        ++v52;
        v54 = (float32x4_t *)((char *)v54 + v40);
        f32 = (float *)((char *)f32 + v40);
      }
      while (v52 != v38);
    }
    else
    {
      v42 = 0;
      v43 = &v37->f32[3];
      v44 = 0.0;
      do
      {
        v45 = *(v43 - 3);
        v42 += v45 < 2048.0 && v45 >= *(float *)v41.i32;
        if (v45 >= 2048.0 || v45 < *(float *)v41.i32)
          v45 = -0.0;
        v44 = v44 + v45;
        if (v39 != 1)
        {
          v46 = *(v43 - 2);
          v42 += v46 < 2048.0 && v46 >= *(float *)v41.i32;
          if (v46 >= 2048.0 || v46 < *(float *)v41.i32)
            v46 = -0.0;
          v44 = v44 + v46;
          if (v39 != 2)
          {
            v47 = *(v43 - 1);
            v42 += v47 < 2048.0 && v47 >= *(float *)v41.i32;
            if (v47 >= 2048.0 || v47 < *(float *)v41.i32)
              v47 = -0.0;
            v44 = v44 + v47;
            if (v39 != 3)
            {
              v48 = *v43;
              v42 += *v43 < 2048.0 && *v43 >= *(float *)v41.i32;
              if (*v43 >= 2048.0 || *v43 < *(float *)v41.i32)
                v48 = -0.0;
              v44 = v44 + v48;
              if (v39 != 4)
              {
                v49 = v43[1];
                v42 += v49 < 2048.0 && v49 >= *(float *)v41.i32;
                if (v49 >= 2048.0 || v49 < *(float *)v41.i32)
                  v49 = -0.0;
                v44 = v44 + v49;
                if (v39 != 5)
                {
                  v50 = v43[2];
                  v42 += v50 < 2048.0 && v50 >= *(float *)v41.i32;
                  if (v50 >= 2048.0 || v50 < *(float *)v41.i32)
                    v50 = -0.0;
                  v44 = v44 + v50;
                  if (v39 != 6)
                  {
                    v51 = v43[3];
                    v42 += v51 < 2048.0 && v51 >= *(float *)v41.i32;
                    if (v51 >= 2048.0 || v51 < *(float *)v41.i32)
                      v51 = -0.0;
                    v44 = v44 + v51;
                  }
                }
              }
            }
          }
        }
        v43 = (float *)((char *)v43 + v40);
        --v38;
      }
      while (v38);
    }
    CVPixelBufferUnlockBaseAddress(pixelBuffera, 1uLL);
    if (v42)
    {
      v71 = v44 / (float)v42;
      goto LABEL_68;
    }
  }
  else
  {
    CVPixelBufferUnlockBaseAddress(pixelBuffera, 1uLL);
  }
  v71 = 2048.0;
LABEL_68:
  sub_1B56763DC((float *)a1, a1 + 304, a6, *(float *)(a1 + 112), *(float *)(a1 + 116), a4, a5, *(float *)(a1 + 176));
  v73 = v72;
  if (!*(_BYTE *)(a1 + 188))
  {
    v99 = 0.0;
    v100 = 0.0;
    v101 = a3;
    goto LABEL_145;
  }
  CVPixelBufferLockBaseAddress(pixelBuffera, 1uLL);
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 192), 0);
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 200), 0);
  v74 = (float32x4_t *)CVPixelBufferGetBaseAddress(pixelBuffera);
  v75 = CVPixelBufferGetHeight(pixelBuffera);
  v76 = CVPixelBufferGetWidth(pixelBuffera);
  v77 = CVPixelBufferGetBytesPerRow(pixelBuffera);
  v78 = (int8x16_t *)CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 192));
  src.data = v78;
  src.height = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 192));
  src.width = CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 192));
  v79 = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 192));
  src.rowBytes = v79;
  dest.data = CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 200));
  dest.height = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 200));
  dest.width = CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 200));
  dest.rowBytes = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 200));
  if (v75 && v76)
  {
    *(float *)v80.i32 = a4 + -0.6;
    v81 = v76 & 0xFFFFFFFFFFFFFFF8;
    if (v76 <= 7)
    {
      v82 = 0;
      v83 = &v74->f32[3];
      v84 = &v78->i8[3];
      v85 = v75;
      do
      {
        v86 = *(v83 - 3);
        v87 = v86 >= *(float *)v80.i32 && v86 < 2048.0;
        *(v84 - 3) = v87;
        v82 += v87;
        if (v76 != 1)
        {
          v88 = *(v83 - 2);
          v89 = v88 >= *(float *)v80.i32 && (unint64_t)(v88 < 2048.0);
          *(v84 - 2) = v89;
          v82 += v89;
          if (v76 != 2)
          {
            v90 = *(v83 - 1);
            v91 = v90 >= *(float *)v80.i32 && (unint64_t)(v90 < 2048.0);
            *(v84 - 1) = v91;
            v82 += v91;
            if (v76 != 3)
            {
              v92 = *v83 >= *(float *)v80.i32 && (unint64_t)(*v83 < 2048.0);
              *v84 = v92;
              v82 += v92;
              if (v76 != 4)
              {
                v93 = v83[1];
                v94 = v93 >= *(float *)v80.i32 && (unint64_t)(v93 < 2048.0);
                v84[1] = v94;
                v82 += v94;
                if (v76 != 5)
                {
                  v95 = v83[2];
                  v96 = v95 >= *(float *)v80.i32 && (unint64_t)(v95 < 2048.0);
                  v84[2] = v96;
                  v82 += v96;
                  if (v76 != 6)
                  {
                    v97 = v83[3];
                    v98 = v97 >= *(float *)v80.i32 && v97 < 2048.0;
                    v84[3] = v98;
                    v82 += v98;
                  }
                }
              }
            }
          }
        }
        v83 = (float *)((char *)v83 + v77);
        v84 += v79;
        --v85;
      }
      while (v85);
LABEL_138:
      vImageMin_Planar8(&src, &dest, 0, 0, 0, 3uLL, 3uLL, 0);
      data = (int8x16_t *)dest.data;
      if (v76 < 8)
      {
        v174 = 0;
        v175 = 0;
        v101 = v228;
        v104 = pixelBuffera;
        do
        {
          v176 = data;
          v177 = v76;
          do
          {
            v178 = v176->u8[0];
            v176 = (int8x16_t *)((char *)v176 + 1);
            v175 += v178;
            --v177;
          }
          while (v177);
          ++v174;
          data = (int8x16_t *)((char *)data + dest.rowBytes);
        }
        while (v174 != v75);
LABEL_143:
        v102 = (float)v82;
        v103 = (float)v175;
        goto LABEL_144;
      }
      v206 = 0;
      v175 = 0;
      v101 = v228;
      v104 = pixelBuffera;
      while (v76 >= 0x10)
      {
        v214 = 0uLL;
        v215 = (int64x2_t)v175;
        v216 = data;
        v217 = v76 & 0xFFFFFFFFFFFFFFF0;
        v218 = 0uLL;
        v219 = 0uLL;
        v220 = 0uLL;
        v172 = 0uLL;
        v221 = 0uLL;
        v222 = 0uLL;
        do
        {
          v223 = *v216++;
          v224 = (uint32x4_t)vqtbl1q_s8(v223, (int8x16_t)xmmword_1B56AC160);
          v225 = (uint32x4_t)vqtbl1q_s8(v223, (int8x16_t)xmmword_1B56AC170);
          v226 = (uint32x4_t)vqtbl1q_s8(v223, (int8x16_t)xmmword_1B56AC180);
          v227 = (uint32x4_t)vqtbl1q_s8(v223, (int8x16_t)xmmword_1B56AC190);
          v214 = (int64x2_t)vaddw_high_u32((uint64x2_t)v214, v225);
          v219 = (int64x2_t)vaddw_high_u32((uint64x2_t)v219, v224);
          v218 = (int64x2_t)vaddw_u32((uint64x2_t)v218, *(uint32x2_t *)v224.i8);
          v215 = (int64x2_t)vaddw_u32((uint64x2_t)v215, *(uint32x2_t *)v225.i8);
          v220 = (int64x2_t)vaddw_u32((uint64x2_t)v220, *(uint32x2_t *)v226.i8);
          v172 = (int64x2_t)vaddw_high_u32((uint64x2_t)v172, v226);
          v221 = (int64x2_t)vaddw_u32((uint64x2_t)v221, *(uint32x2_t *)v227.i8);
          v222 = (int64x2_t)vaddw_high_u32((uint64x2_t)v222, v227);
          v217 -= 16;
        }
        while (v217);
        v175 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v215, v220), vaddq_s64(v218, v221)), vaddq_s64(vaddq_s64(v214, v172), vaddq_s64(v219, v222))));
        if (v76 == (v76 & 0xFFFFFFFFFFFFFFF0))
          goto LABEL_170;
        v207 = v76 & 0xFFFFFFFFFFFFFFF0;
        v213 = v76 & 0xFFFFFFFFFFFFFFF0;
        if ((v76 & 8) != 0)
          goto LABEL_173;
        do
LABEL_181:
          v175 += data->u8[v213++];
        while (v76 != v213);
LABEL_170:
        ++v206;
        data = (int8x16_t *)((char *)data + dest.rowBytes);
        if (v206 == v75)
          goto LABEL_143;
      }
      v207 = 0;
LABEL_173:
      v208 = 0uLL;
      v209 = (int64x2_t)v175;
      v210 = 0uLL;
      v211 = 0uLL;
      do
      {
        v172.i64[0] = *(uint64_t *)((char *)data->i64 + v207);
        v212 = (uint32x4_t)vqtbl1q_s8((int8x16_t)v172, (int8x16_t)xmmword_1B56AC160);
        v172 = (int64x2_t)vqtbl1q_s8((int8x16_t)v172, (int8x16_t)xmmword_1B56AC170);
        v211 = (int64x2_t)vaddw_high_u32((uint64x2_t)v211, v212);
        v208 = (int64x2_t)vaddw_high_u32((uint64x2_t)v208, (uint32x4_t)v172);
        v210 = (int64x2_t)vaddw_u32((uint64x2_t)v210, *(uint32x2_t *)v212.i8);
        v209 = (int64x2_t)vaddw_u32((uint64x2_t)v209, *(uint32x2_t *)v172.i8);
        v207 += 8;
      }
      while (v81 != v207);
      v175 = vaddvq_s64(vaddq_s64(vaddq_s64(v209, v210), vaddq_s64(v208, v211)));
      v213 = v76 & 0xFFFFFFFFFFFFFFF8;
      if (v76 == v81)
        goto LABEL_170;
      goto LABEL_181;
    }
    v105 = 4 * v76;
    v106 = (float32x4_t)vdupq_lane_s32(v80, 0);
    if (v76 < 0x10)
    {
      v107 = 0;
      v82 = 0;
      v108.i64[0] = 0x4500000045000000;
      v108.i64[1] = 0x4500000045000000;
      v109 = (int8x16_t)vdupq_n_s64(1uLL);
      v110 = v74;
      v111 = v78;
      while (1)
      {
        v112 = (float32x4_t *)((char *)v74 + v107 * v77);
        v113 = (int8x8_t *)&v78->i8[v79 * v107];
        if (v113 < (int8x8_t *)((char *)v74 + v105 + v107 * v77) && v112 < (float32x4_t *)&v78->i8[v76 + v79 * v107])
          break;
        v115 = vmovn_s16((int16x8_t)vbicq_s8(vmvnq_s8((int8x16_t)vuzp1q_s16((int16x8_t)vcgeq_f32(*v112, v108), (int16x8_t)vcgeq_f32(v112[1], v108))), (int8x16_t)vuzp1q_s16((int16x8_t)vcgtq_f32(v106, *v112), (int16x8_t)vcgtq_f32(v106, v112[1]))));
        *v113 = vand_s8(v115, (int8x8_t)0x101010101010101);
        v116.i64[0] = v115.u8[4];
        v116.i64[1] = v115.u8[5];
        v117 = (int64x2_t)vandq_s8(v116, v109);
        v116.i64[0] = v115.u8[6];
        v116.i64[1] = v115.u8[7];
        v118 = (int64x2_t)vandq_s8(v116, v109);
        v116.i64[0] = v115.u8[2];
        v116.i64[1] = v115.u8[3];
        v119 = (int64x2_t)vandq_s8(v116, v109);
        v116.i64[0] = v115.u8[0];
        v116.i64[1] = v115.u8[1];
        v82 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64((int64x2_t)v82, (int64x2_t)vandq_s8(v116, v109)), v117), vaddq_s64(v119, v118)));
        v120 = v76 & 0xFFFFFFFFFFFFFFF8;
        if (v76 != v81)
          goto LABEL_113;
LABEL_106:
        ++v107;
        v111 = (int8x16_t *)((char *)v111 + v79);
        v110 = (float32x4_t *)((char *)v110 + v77);
        if (v107 == v75)
          goto LABEL_138;
      }
      v120 = 0;
LABEL_113:
      v121 = v76 - v120;
      v122 = &v111->i8[v120];
      v123 = &v110->f32[v120];
      do
      {
        v124 = *v123++;
        LODWORD(v125) = v124 < 2048.0;
        if (v124 >= *(float *)v80.i32)
          v125 = v125;
        else
          v125 = 0;
        *v122++ = v125;
        v82 += v125;
        --v121;
      }
      while (v121);
      goto LABEL_106;
    }
    v126 = 0;
    v82 = 0;
    v127.i64[0] = 0x4500000045000000;
    v127.i64[1] = 0x4500000045000000;
    v128.i64[0] = 0x101010101010101;
    v128.i64[1] = 0x101010101010101;
    v129 = (int8x16_t)vdupq_n_s64(1uLL);
    v130 = v74;
    v131 = v78;
    while (&v78->i8[v79 * v126] >= (char *)v74 + v105 + v126 * v77
         || (char *)v74 + v126 * v77 >= &v78->i8[v76 + v79 * v126])
    {
      v133 = 0uLL;
      v134 = (int64x2_t)v82;
      v135 = v130;
      v136 = v131;
      v137 = v76 & 0xFFFFFFFFFFFFFFF0;
      v138 = 0uLL;
      v139 = 0uLL;
      v140 = 0uLL;
      v141 = 0uLL;
      v142 = 0uLL;
      v143 = 0uLL;
      do
      {
        v144 = vbicq_s8(vmvnq_s8(vuzp1q_s8((int8x16_t)vuzp1q_s16((int16x8_t)vcgeq_f32(*v135, v127), (int16x8_t)vcgeq_f32(v135[1], v127)), (int8x16_t)vuzp1q_s16((int16x8_t)vcgeq_f32(v135[2], v127), (int16x8_t)vcgeq_f32(v135[3], v127)))), vuzp1q_s8((int8x16_t)vuzp1q_s16((int16x8_t)vcgtq_f32(v106, *v135), (int16x8_t)vcgtq_f32(v106, v135[1])), (int8x16_t)vuzp1q_s16((int16x8_t)vcgtq_f32(v106, v135[2]), (int16x8_t)vcgtq_f32(v106, v135[3]))));
        v145.i64[0] = v144.u8[0];
        v145.i64[1] = v144.u8[1];
        v146 = (int64x2_t)vandq_s8(v145, v129);
        v145.i64[0] = v144.u8[2];
        v145.i64[1] = v144.u8[3];
        v147 = (int64x2_t)vandq_s8(v145, v129);
        v145.i64[0] = v144.u8[4];
        v145.i64[1] = v144.u8[5];
        v148 = (int64x2_t)vandq_s8(v145, v129);
        v145.i64[0] = v144.u8[6];
        v145.i64[1] = v144.u8[7];
        v149 = (int64x2_t)vandq_s8(v145, v129);
        v145.i64[0] = v144.u8[8];
        v145.i64[1] = v144.u8[9];
        v150 = (int64x2_t)vandq_s8(v145, v129);
        v145.i64[0] = v144.u8[10];
        v145.i64[1] = v144.u8[11];
        v151 = (int64x2_t)vandq_s8(v145, v129);
        v145.i64[0] = v144.u8[12];
        v145.i64[1] = v144.u8[13];
        v152 = (int64x2_t)vandq_s8(v145, v129);
        v145.i64[0] = v144.u8[14];
        v145.i64[1] = v144.u8[15];
        v143 = vaddq_s64(v143, (int64x2_t)vandq_s8(v145, v129));
        v142 = vaddq_s64(v142, v152);
        *v136++ = vandq_s8(v144, v128);
        v141 = vaddq_s64(v141, v151);
        v140 = vaddq_s64(v140, v150);
        v139 = vaddq_s64(v139, v149);
        v138 = vaddq_s64(v138, v148);
        v133 = vaddq_s64(v133, v147);
        v134 = vaddq_s64(v134, v146);
        v135 += 4;
        v137 -= 16;
      }
      while (v137);
      v153 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v134, v140), vaddq_s64(v138, v142)), vaddq_s64(vaddq_s64(v133, v141), vaddq_s64(v139, v143))));
      v82 = v153;
      if (v76 != (v76 & 0xFFFFFFFFFFFFFFF0))
      {
        k = v76 & 0xFFFFFFFFFFFFFFF0;
        if ((v76 & 8) == 0)
          goto LABEL_133;
        v154 = 0uLL;
        v155 = (int64x2_t)(unint64_t)v153;
        v156 = v105 & 0xFFFFFFFFFFFFFFC0;
        v157 = v76 & 0xFFFFFFFFFFFFFFF0;
        v158 = 0uLL;
        v159 = 0uLL;
        do
        {
          v160 = vmovn_s16((int16x8_t)vbicq_s8(vmvnq_s8((int8x16_t)vuzp1q_s16((int16x8_t)vcgeq_f32(*(float32x4_t *)((char *)v130 + v156), v127), (int16x8_t)vcgeq_f32(*(float32x4_t *)((char *)v130 + v156 + 16), v127))), (int8x16_t)vuzp1q_s16((int16x8_t)vcgtq_f32(v106, *(float32x4_t *)((char *)v130 + v156)), (int16x8_t)vcgtq_f32(v106, *(float32x4_t *)((char *)v130 + v156 + 16)))));
          *(int8x8_t *)&v131->i8[v157] = vand_s8(v160, (int8x8_t)0x101010101010101);
          v161 = (int8x16_t)vdupq_n_s64(1uLL);
          v162.i64[0] = v160.u8[0];
          v162.i64[1] = v160.u8[1];
          v163 = v162;
          v162.i64[0] = v160.u8[2];
          v162.i64[1] = v160.u8[3];
          v164 = v162;
          v162.i64[0] = v160.u8[4];
          v162.i64[1] = v160.u8[5];
          v165 = v160.u8[6];
          v166 = v160.u8[7];
          v167 = (int64x2_t)vandq_s8(v164, v161);
          v168 = (int64x2_t)vandq_s8(v162, v161);
          v162.i64[0] = v165;
          v162.i64[1] = v166;
          v159 = vaddq_s64(v159, (int64x2_t)vandq_s8(v162, v161));
          v158 = vaddq_s64(v158, v168);
          v154 = vaddq_s64(v154, v167);
          v155 = vaddq_s64(v155, (int64x2_t)vandq_s8(v163, v161));
          v157 += 8;
          v156 += 32;
        }
        while (v81 != v157);
        v82 = vaddvq_s64(vaddq_s64(vaddq_s64(v155, v158), vaddq_s64(v154, v159)));
        k = v76 & 0xFFFFFFFFFFFFFFF8;
        if (v76 != v81)
          goto LABEL_133;
      }
LABEL_120:
      ++v126;
      v131 = (int8x16_t *)((char *)v131 + v79);
      v130 = (float32x4_t *)((char *)v130 + v77);
      if (v126 == v75)
        goto LABEL_138;
    }
    for (k = 0; k != v76; ++k)
    {
LABEL_133:
      v170 = v130->f32[k];
      v171 = v170 >= *(float *)v80.i32 && v170 < 2048.0;
      v131->i8[k] = v171;
      v82 += v171;
    }
    goto LABEL_120;
  }
  vImageMin_Planar8(&src, &dest, 0, 0, 0, 3uLL, 3uLL, 0);
  v102 = 0.0;
  v103 = 0.0;
  v101 = v228;
  v104 = pixelBuffera;
LABEL_144:
  v179 = (float)v75 * (float)v76;
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 200), 0);
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 192), 0);
  CVPixelBufferUnlockBaseAddress(v104, 1uLL);
  v100 = v103 / v179;
  v99 = v102 / v179;
LABEL_145:
  if (*(int *)(a1 + 184) <= 0)
  {
    *(float *)(a1 + 8) = v36;
    *(float *)(a1 + 16) = v33;
  }
  else
  {
    *(float *)(a1 + 8) = (float)(v36 * *(float *)(a1 + 120))
                       + (float)((float)(1.0 - *(float *)(a1 + 120)) * *(float *)(a1 + 8));
    *(float *)(a1 + 16) = *(float *)(a1 + 16) + (float)(*(float *)(a1 + 1352) * (float)(v33 - *(float *)(a1 + 16)));
  }
  v180 = *(int *)(a1 + 236);
  v181 = *(_QWORD *)(a1 + 208);
  *(_DWORD *)(v181 + 4 * v180) = *(_DWORD *)v101;
  v182 = v180 + 1;
  v183 = (*(_QWORD *)(a1 + 216) - v181) >> 2;
  v184 = v182 % v183;
  *(_DWORD *)(a1 + 236) = v184;
  v185 = *(_DWORD *)(a1 + 232);
  if (v185 == (_DWORD)v184)
    v185 = ((int)v184 + 1) % v183;
  *(_DWORD *)(a1 + 232) = v185;
  if (v185 == (_DWORD)v184)
  {
    *(_QWORD *)(a1 + 240) = 0;
  }
  else
  {
    v186 = 0.0;
    v187 = -1;
    v188 = 0.0;
    do
    {
      v189 = v187 + 2;
      v190 = *(float *)(v181 + 4 * v185);
      v191 = v190 - v188;
      v188 = v188 + (float)((float)(v190 - v188) / (float)(v187 + 2));
      v186 = v186 + (float)(v191 * (float)(v190 - v188));
      v185 = (v185 + 1) % v183;
      ++v187;
    }
    while (v185 != (_DWORD)v184);
    *(_DWORD *)(a1 + 240) = v189;
    *(float *)(a1 + 244) = v188;
    if (v187)
      *(float *)(a1 + 248) = v186 / (float)v187;
  }
  *(_DWORD *)(a1 + 4) = *(_DWORD *)(a1 + 248);
  v192 = *(int *)(a1 + 284);
  v193 = *(_QWORD *)(a1 + 256);
  *(_DWORD *)(v193 + 4 * v192) = *(_DWORD *)(a1 + 16);
  v194 = v192 + 1;
  v195 = (*(_QWORD *)(a1 + 264) - v193) >> 2;
  v196 = v194 % v195;
  *(_DWORD *)(a1 + 284) = v196;
  v197 = *(_DWORD *)(a1 + 280);
  if (v197 == (_DWORD)v196)
    v197 = ((int)v196 + 1) % v195;
  *(_DWORD *)(a1 + 280) = v197;
  if (v197 == (_DWORD)v196)
  {
    *(_QWORD *)(a1 + 288) = 0;
  }
  else
  {
    v198 = 0.0;
    v199 = -1;
    v200 = 0.0;
    do
    {
      v201 = v199 + 2;
      v202 = *(float *)(v193 + 4 * v197);
      v203 = v202 - v200;
      v200 = v200 + (float)((float)(v202 - v200) / (float)(v199 + 2));
      v198 = v198 + (float)(v203 * (float)(v202 - v200));
      v197 = (v197 + 1) % v195;
      ++v199;
    }
    while (v197 != (_DWORD)v196);
    *(_DWORD *)(a1 + 288) = v201;
    *(float *)(a1 + 292) = v200;
    if (v199)
      *(float *)(a1 + 296) = v198 / (float)v199;
  }
  v204 = *(_DWORD *)(a1 + 296);
  *(_DWORD *)(a1 + 32) = v73;
  *(float *)(a1 + 36) = v71;
  *(_DWORD *)(a1 + 20) = v204;
  *(float *)(a1 + 24) = v100;
  *(float *)(a1 + 28) = v99;
  *(_DWORD *)(a1 + 12) = v19;
  *(_DWORD *)(a1 + 40) = *(_DWORD *)v101;
  if (a1 + 48 != v101 + 8)
    sub_1B566B968((_QWORD *)(a1 + 48), *(char **)(v101 + 8), *(char **)(v101 + 16), (uint64_t)(*(_QWORD *)(v101 + 16) - *(_QWORD *)(v101 + 8)) >> 2);
  if (a1 + 72 != v101 + 32)
    sub_1B566B968((_QWORD *)(a1 + 72), *(char **)(v101 + 32), *(char **)(v101 + 40), (uint64_t)(*(_QWORD *)(v101 + 40) - *(_QWORD *)(v101 + 32)) >> 2);
  ++*(_DWORD *)(a1 + 184);
  return a1;
}

void sub_1B56763DC(float *a1, uint64_t a2, float a3, float a4, float a5, float a6, float a7, float a8)
{
  float v8;
  uint64_t v9;
  float v11;
  float v13;
  float v14;
  BOOL v15;
  float v16;
  uint64_t v18;
  int v19;
  uint64_t v22;
  float v23;
  float v24;
  float v26;
  float v27;
  float v28;
  float v29;

  v8 = a5 - a4;
  if ((int)(float)((float)((float)(a6 - a4) * 256.0) / v8) <= 0xFF)
  {
    LODWORD(v9) = (int)(float)((float)((float)(fminf(a7, 0.25) - a4) * 256.0) / v8);
    if (v9 <= 0xFF)
    {
      if (a6 > -0.00000011921 && a6 < 0.0)
        v11 = -0.00000011921;
      else
        v11 = a6;
      if (a6 >= 0.00000011921 || a6 < 0.0)
        v13 = v11;
      else
        v13 = 0.00000011921;
      v14 = (float)(1.0 / v13) + a8;
      v15 = v14 > -0.00000011921 && v14 < 0.0;
      v16 = 1.0 / v14;
      if (v15)
        v16 = -8388600.0;
      if (v14 < 0.00000011921 && v14 >= 0.0)
        v16 = 8388600.0;
      v18 = (int)(float)((float)((float)(v13 - a4) * 256.0) / v8);
      v19 = (int)(float)((float)((float)(v16 - a4) * 256.0) / v8);
      v9 = (int)v9 <= v19 ? v19 : v9;
      if ((v18 & 0x80000000) == 0
        && v18 <= 0xFF
        && v9 <= 0xFF
        && v9 < v18)
      {
        v22 = -(uint64_t)(int)(float)((float)(a3 * 256.0) / v8);
        v23 = 1.0;
        do
        {
          if (v22 + v18 >= 0)
            v24 = *(float *)(a2 + 4 * (v22 + v18));
          else
            v24 = 0.0;
          v23 = fminf(fminf(fmaxf(*(float *)(a2 + 4 * v18) - v24, 0.00000011921), 1.0), v23);
        }
        while (v18-- > v9);
        v26 = powf(1.0 - v23, 30.0);
        v27 = a1[336];
        if (v27 >= 0.0)
        {
          v28 = (float)(v26 * a1[334]) + (float)((float)(1.0 - a1[334]) * v27);
          a1[336] = v28;
          v29 = a1[337];
          if (vabds_f32(v29, v28) <= a1[335])
            return;
          v26 = (float)(v28 * a1[333]) + (float)((float)(1.0 - a1[333]) * v29);
        }
        else
        {
          a1[336] = v26;
        }
        a1[337] = v26;
      }
    }
  }
}

uint64_t sub_1B56765B8(uint64_t a1, CVPixelBufferRef pixelBuffer, uint64_t a3, float a4, float a5, float a6)
{
  size_t Width;
  size_t Height;
  char *BaseAddress;
  size_t BytesPerRow;
  float *v16;
  uint64_t v17;
  int v18;
  int v19;
  __int16 *v20;
  size_t v21;
  float v27;
  float v28;
  unint64_t v30;
  float v31;
  uint64_t i;
  float v33;
  uint64_t j;
  unint64_t v35;
  float v36;
  float v37;
  float v38;
  float v39;
  float v40;
  float16x4_t *v41;
  size_t v42;
  size_t v43;
  size_t v44;
  int32x2_t v45;
  int v46;
  __int16 *v47;
  float v48;
  uint64_t v63;
  float32x4_t v64;
  float16x4_t *v65;
  char *v66;
  float32x4_t v67;
  int8x16_t v68;
  int8x16_t v69;
  int32x4_t v70;
  int32x4_t v71;
  float16x4_t *v72;
  unint64_t v73;
  float32x4_t v74;
  float32x4_t v75;
  int8x8_t v76;
  int8x8_t v77;
  int32x4_t v78;
  int32x4_t v79;
  int8x16_t v80;
  int8x16_t v81;
  char *v82;
  size_t v83;
  __int16 v84;
  float v87;
  int v88;
  int v89;
  float16x4_t *v90;
  size_t v91;
  size_t v92;
  size_t v93;
  char *v94;
  size_t v95;
  int32x2_t v96;
  unint64_t v97;
  unint64_t v98;
  __int16 *v99;
  _BYTE *v100;
  size_t v101;
  uint64_t v104;
  uint64_t v107;
  uint64_t v110;
  uint64_t v113;
  uint64_t v116;
  uint64_t v119;
  uint64_t v122;
  float v123;
  float v124;
  uint64_t v125;
  float v126;
  float v127;
  __CVBuffer *v128;
  uint64_t v129;
  float32x4_t v130;
  char *v131;
  float16x4_t *v132;
  float32x4_t v133;
  int8x16_t v134;
  float16x4_t *v135;
  char *v136;
  int64x2_t v138;
  int64x2_t v139;
  float16x4_t *v140;
  char *v141;
  unint64_t v142;
  int64x2_t v143;
  int64x2_t v144;
  float32x4_t v145;
  float32x4_t v146;
  int16x8_t v147;
  int16x8_t v148;
  uint32x4_t v149;
  int8x16_t v150;
  int64x2_t v151;
  int64x2_t v152;
  uint32x4_t v153;
  int64x2_t v154;
  unint64_t v155;
  size_t v156;
  char *v157;
  char *v158;
  __int16 v159;
  uint64_t v162;
  int64x2_t v163;
  int8x16_t *data;
  uint64_t v165;
  unint64_t v166;
  int8x16_t *v167;
  size_t v168;
  unsigned int v169;
  float v170;
  uint64_t v171;
  uint64_t v172;
  unint64_t v173;
  unint64_t v174;
  unint64_t v175;
  int v176;
  float v177;
  int v178;
  float v179;
  int v180;
  float v181;
  float v182;
  uint64_t v183;
  uint64_t v184;
  unint64_t v185;
  unint64_t v186;
  unint64_t v187;
  int v188;
  float v189;
  int v190;
  float v191;
  int v192;
  float v193;
  float v194;
  int v195;
  uint64_t v197;
  unint64_t v198;
  int64x2_t v199;
  int64x2_t v200;
  int64x2_t v201;
  int64x2_t v202;
  uint32x4_t v203;
  unint64_t v204;
  int64x2_t v205;
  int64x2_t v206;
  int8x16_t *v207;
  unint64_t v208;
  int64x2_t v209;
  int64x2_t v210;
  int64x2_t v211;
  int64x2_t v212;
  int64x2_t v213;
  int8x16_t v214;
  uint32x4_t v215;
  uint32x4_t v216;
  uint32x4_t v217;
  uint32x4_t v218;
  uint64_t v219;
  __CVBuffer *pixelBuffera;
  vImage_Buffer dest;
  vImage_Buffer src;

  Width = CVPixelBufferGetWidth(pixelBuffer);
  Height = CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
  BaseAddress = (char *)CVPixelBufferGetBaseAddress(pixelBuffer);
  CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferGetWidth(pixelBuffer);
  pixelBuffera = pixelBuffer;
  BytesPerRow = CVPixelBufferGetBytesPerRow(pixelBuffer);
  v16 = (float *)(a1 + 304);
  bzero((void *)(a1 + 304), 0x400uLL);
  if (Height && Width)
  {
    v17 = 0;
    v18 = 0;
    v19 = 0;
    do
    {
      v20 = (__int16 *)BaseAddress;
      v21 = Width;
      do
      {
        _H2 = *v20;
        __asm { FCVT            S2, H2 }
        if (_S2 >= 2048.0)
        {
          ++v19;
        }
        else
        {
          v27 = *(float *)(a1 + 112);
          v28 = *(float *)(a1 + 116);
          if (v27 <= _S2 && v28 > _S2)
          {
            v30 = (unint64_t)(float)((float)((float)(_S2 - v27) * 256.0) / (float)(v28 - v27));
            v16[v30] = v16[v30] + 1.0;
          }
          if ((float)(a4 - _S2) > 0.0)
            ++v18;
        }
        ++v20;
        --v21;
      }
      while (v21);
      ++v17;
      BaseAddress += BytesPerRow;
    }
    while (v17 != Height);
  }
  else
  {
    v19 = 0;
    v18 = 0;
  }
  CVPixelBufferUnlockBaseAddress(pixelBuffera, 1uLL);
  *(_DWORD *)(a1 + 1328) = 872415232;
  v31 = 0.00000011921;
  for (i = 304; i != 1328; i += 4)
  {
    v31 = v31 + *(float *)(a1 + i);
    *(float *)(a1 + 1328) = v31;
  }
  v33 = *v16 / v31;
  *v16 = v33;
  for (j = 308; j != 1328; j += 4)
  {
    v33 = v33 + (float)(*(float *)(a1 + j) / *(float *)(a1 + 1328));
    *(float *)(a1 + j) = v33;
  }
  if (*(float *)(a1 + 1328) <= 0.00000011921)
    bzero((void *)(a1 + 304), 0x400uLL);
  v35 = 0;
  v36 = (float)(Height * Width);
  v37 = (float)v19 / v36;
  v38 = *(float *)(a1 + 112);
  v39 = *(float *)(a1 + 116);
  v40 = (float)v18 / v36;
  do
  {
    if (*(float *)(a1 + 4 * v35 + 304) > *(float *)(a1 + 180))
      break;
    ++v35;
  }
  while (v35 != 256);
  CVPixelBufferLockBaseAddress(pixelBuffera, 1uLL);
  v41 = (float16x4_t *)CVPixelBufferGetBaseAddress(pixelBuffera);
  v42 = CVPixelBufferGetHeight(pixelBuffera);
  v43 = CVPixelBufferGetWidth(pixelBuffera);
  v44 = CVPixelBufferGetBytesPerRow(pixelBuffera);
  v219 = a3;
  if (v42 && v43)
  {
    *(float *)v45.i32 = v38 + (float)((float)((float)v35 * 0.0039062) * (float)(v39 - v38));
    if (v43 >= 8)
    {
      v63 = 0;
      v46 = 0;
      v64 = (float32x4_t)vdupq_lane_s32(v45, 0);
      v65 = v41 + 1;
      v66 = (char *)&v41[2 * (v43 >> 3)];
      v48 = 0.0;
      v67.i64[0] = 0x4500000045000000;
      v67.i64[1] = 0x4500000045000000;
      v68.i64[0] = 0x100000001;
      v68.i64[1] = 0x100000001;
      v69.i64[0] = 0x8000000080000000;
      v69.i64[1] = 0x8000000080000000;
      do
      {
        v70 = 0uLL;
        v71 = (int32x4_t)v46;
        v72 = v65;
        v73 = v43 & 0xFFFFFFFFFFFFFFF8;
        do
        {
          v74 = vcvtq_f32_f16(v72[-1]);
          v75 = vcvtq_f32_f16(*v72);
          v76 = (int8x8_t)vmovn_s32(vcgeq_f32(v74, v67));
          v77 = (int8x8_t)vmovn_s32(vcgeq_f32(v75, v67));
          v78 = vcgeq_f32(v74, v64);
          v79 = vcgeq_f32(v75, v64);
          v71 = vaddq_s32(v71, (int32x4_t)vandq_s8((int8x16_t)vmovl_u16((uint16x4_t)vbic_s8((int8x8_t)vmovn_s32(v78), v76)), v68));
          v70 = vaddq_s32(v70, (int32x4_t)vandq_s8((int8x16_t)vmovl_u16((uint16x4_t)vbic_s8((int8x8_t)vmovn_s32(v79), v77)), v68));
          v80 = vbslq_s8(vandq_s8((int8x16_t)vmovl_s16((int16x4_t)vmvn_s8(v76)), (int8x16_t)v78), (int8x16_t)v74, v69);
          v81 = vbslq_s8(vandq_s8((int8x16_t)vmovl_s16((int16x4_t)vmvn_s8(v77)), (int8x16_t)v79), (int8x16_t)v75, v69);
          v48 = (float)((float)((float)((float)((float)((float)((float)(v48 + *(float *)v80.i32) + *(float *)&v80.i32[1])
                                                      + *(float *)&v80.i32[2])
                                              + *(float *)&v80.i32[3])
                                      + *(float *)v81.i32)
                              + *(float *)&v81.i32[1])
                      + *(float *)&v81.i32[2])
              + *(float *)&v81.i32[3];
          v72 += 2;
          v73 -= 8;
        }
        while (v73);
        v46 = vaddvq_s32(vaddq_s32(v70, v71));
        if (v43 != (v43 & 0xFFFFFFFFFFFFFFF8))
        {
          v82 = v66;
          v83 = v43 - (v43 & 0xFFFFFFFFFFFFFFF8);
          do
          {
            v84 = *(_WORD *)v82;
            v82 += 2;
            _H7 = v84;
            __asm { FCVT            S7, H7 }
            v46 += _S7 < 2048.0 && *(float *)v45.i32 <= _S7;
            if (_S7 >= 2048.0 || *(float *)v45.i32 > _S7)
              _S7 = -0.0;
            v48 = v48 + _S7;
            --v83;
          }
          while (v83);
        }
        ++v63;
        v65 = (float16x4_t *)((char *)v65 + v44);
        v66 += v44;
      }
      while (v63 != v42);
    }
    else
    {
      v46 = 0;
      v47 = (__int16 *)v41 + 3;
      v48 = 0.0;
      do
      {
        _H3 = *(v47 - 3);
        __asm { FCVT            S3, H3 }
        v46 += _S3 < 2048.0 && *(float *)v45.i32 <= _S3;
        if (_S3 >= 2048.0 || *(float *)v45.i32 > _S3)
          _S3 = -0.0;
        v48 = v48 + _S3;
        if (v43 != 1)
        {
          _H3 = *(v47 - 2);
          __asm { FCVT            S3, H3 }
          v46 += _S3 < 2048.0 && *(float *)v45.i32 <= _S3;
          if (_S3 >= 2048.0 || *(float *)v45.i32 > _S3)
            _S3 = -0.0;
          v48 = v48 + _S3;
          if (v43 != 2)
          {
            _H3 = *(v47 - 1);
            __asm { FCVT            S3, H3 }
            v46 += _S3 < 2048.0 && *(float *)v45.i32 <= _S3;
            if (_S3 >= 2048.0 || *(float *)v45.i32 > _S3)
              _S3 = -0.0;
            v48 = v48 + _S3;
            if (v43 != 3)
            {
              _H3 = *v47;
              __asm { FCVT            S3, H3 }
              v46 += _S3 < 2048.0 && *(float *)v45.i32 <= _S3;
              if (_S3 >= 2048.0 || *(float *)v45.i32 > _S3)
                _S3 = -0.0;
              v48 = v48 + _S3;
              if (v43 != 4)
              {
                _H3 = v47[1];
                __asm { FCVT            S3, H3 }
                v46 += _S3 < 2048.0 && *(float *)v45.i32 <= _S3;
                if (_S3 >= 2048.0 || *(float *)v45.i32 > _S3)
                  _S3 = -0.0;
                v48 = v48 + _S3;
                if (v43 != 5)
                {
                  _H3 = v47[2];
                  __asm { FCVT            S3, H3 }
                  v46 += _S3 < 2048.0 && *(float *)v45.i32 <= _S3;
                  if (_S3 >= 2048.0 || *(float *)v45.i32 > _S3)
                    _S3 = -0.0;
                  v48 = v48 + _S3;
                  if (v43 != 6)
                  {
                    _H3 = v47[3];
                    __asm { FCVT            S3, H3 }
                    v46 += _S3 < 2048.0 && *(float *)v45.i32 <= _S3;
                    if (_S3 >= 2048.0 || *(float *)v45.i32 > _S3)
                      _S3 = -0.0;
                    v48 = v48 + _S3;
                  }
                }
              }
            }
          }
        }
        v47 = (__int16 *)((char *)v47 + v44);
        --v42;
      }
      while (v42);
    }
    CVPixelBufferUnlockBaseAddress(pixelBuffera, 1uLL);
    if (v46)
    {
      v87 = v48 / (float)v46;
      goto LABEL_67;
    }
  }
  else
  {
    CVPixelBufferUnlockBaseAddress(pixelBuffera, 1uLL);
  }
  v87 = 2048.0;
LABEL_67:
  sub_1B56763DC((float *)a1, a1 + 304, a6, *(float *)(a1 + 112), *(float *)(a1 + 116), a4, a5, *(float *)(a1 + 176));
  v89 = v88;
  if (!*(_BYTE *)(a1 + 188))
  {
    v123 = 0.0;
    v124 = 0.0;
    v125 = a3;
    goto LABEL_126;
  }
  CVPixelBufferLockBaseAddress(pixelBuffera, 1uLL);
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 192), 0);
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 200), 0);
  v90 = (float16x4_t *)CVPixelBufferGetBaseAddress(pixelBuffera);
  v91 = CVPixelBufferGetHeight(pixelBuffera);
  v92 = CVPixelBufferGetWidth(pixelBuffera);
  v93 = CVPixelBufferGetBytesPerRow(pixelBuffera);
  v94 = (char *)CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 192));
  src.data = v94;
  src.height = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 192));
  src.width = CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 192));
  v95 = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 192));
  src.rowBytes = v95;
  dest.data = CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 200));
  dest.height = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 200));
  dest.width = CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 200));
  dest.rowBytes = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 200));
  if (v91 && v92)
  {
    *(float *)v96.i32 = a4 + -0.6;
    v97 = v92 & 0xFFFFFFFFFFFFFFF8;
    if (v92 < 8)
    {
      v98 = 0;
      v99 = (__int16 *)v90 + 3;
      v100 = v94 + 3;
      v101 = v91;
      do
      {
        _H2 = *(v99 - 3);
        __asm { FCVT            S2, H2 }
        v104 = *(float *)v96.i32 <= _S2 && _S2 < 2048.0;
        *(v100 - 3) = v104;
        v98 += v104;
        if (v92 != 1)
        {
          _H2 = *(v99 - 2);
          __asm { FCVT            S2, H2 }
          v107 = *(float *)v96.i32 <= _S2 && (unint64_t)(_S2 < 2048.0);
          *(v100 - 2) = v107;
          v98 += v107;
          if (v92 != 2)
          {
            _H2 = *(v99 - 1);
            __asm { FCVT            S2, H2 }
            v110 = *(float *)v96.i32 <= _S2 && (unint64_t)(_S2 < 2048.0);
            *(v100 - 1) = v110;
            v98 += v110;
            if (v92 != 3)
            {
              _H2 = *v99;
              __asm { FCVT            S2, H2 }
              v113 = *(float *)v96.i32 <= _S2 && (unint64_t)(_S2 < 2048.0);
              *v100 = v113;
              v98 += v113;
              if (v92 != 4)
              {
                _H2 = v99[1];
                __asm { FCVT            S2, H2 }
                v116 = *(float *)v96.i32 <= _S2 && (unint64_t)(_S2 < 2048.0);
                v100[1] = v116;
                v98 += v116;
                if (v92 != 5)
                {
                  _H2 = v99[2];
                  __asm { FCVT            S2, H2 }
                  v119 = *(float *)v96.i32 <= _S2 && (unint64_t)(_S2 < 2048.0);
                  v100[2] = v119;
                  v98 += v119;
                  if (v92 != 6)
                  {
                    _H2 = v99[3];
                    __asm { FCVT            S2, H2 }
                    v122 = *(float *)v96.i32 <= _S2 && _S2 < 2048.0;
                    v100[3] = v122;
                    v98 += v122;
                  }
                }
              }
            }
          }
        }
        v99 = (__int16 *)((char *)v99 + v93);
        v100 += v95;
        --v101;
      }
      while (v101);
LABEL_119:
      vImageMin_Planar8(&src, &dest, 0, 0, 0, 3uLL, 3uLL, 0);
      data = (int8x16_t *)dest.data;
      if (v92 < 8)
      {
        v165 = 0;
        v166 = 0;
        v125 = v219;
        v128 = pixelBuffera;
        do
        {
          v167 = data;
          v168 = v92;
          do
          {
            v169 = v167->u8[0];
            v167 = (int8x16_t *)((char *)v167 + 1);
            v166 += v169;
            --v168;
          }
          while (v168);
          ++v165;
          data = (int8x16_t *)((char *)data + dest.rowBytes);
        }
        while (v165 != v91);
LABEL_124:
        v126 = (float)v98;
        v127 = (float)v166;
        goto LABEL_125;
      }
      v197 = 0;
      v166 = 0;
      v125 = v219;
      v128 = pixelBuffera;
      while (v92 >= 0x10)
      {
        v205 = 0uLL;
        v206 = (int64x2_t)v166;
        v207 = data;
        v208 = v92 & 0xFFFFFFFFFFFFFFF0;
        v209 = 0uLL;
        v210 = 0uLL;
        v211 = 0uLL;
        v163 = 0uLL;
        v212 = 0uLL;
        v213 = 0uLL;
        do
        {
          v214 = *v207++;
          v215 = (uint32x4_t)vqtbl1q_s8(v214, (int8x16_t)xmmword_1B56AC160);
          v216 = (uint32x4_t)vqtbl1q_s8(v214, (int8x16_t)xmmword_1B56AC170);
          v217 = (uint32x4_t)vqtbl1q_s8(v214, (int8x16_t)xmmword_1B56AC180);
          v218 = (uint32x4_t)vqtbl1q_s8(v214, (int8x16_t)xmmword_1B56AC190);
          v205 = (int64x2_t)vaddw_high_u32((uint64x2_t)v205, v216);
          v210 = (int64x2_t)vaddw_high_u32((uint64x2_t)v210, v215);
          v209 = (int64x2_t)vaddw_u32((uint64x2_t)v209, *(uint32x2_t *)v215.i8);
          v206 = (int64x2_t)vaddw_u32((uint64x2_t)v206, *(uint32x2_t *)v216.i8);
          v211 = (int64x2_t)vaddw_u32((uint64x2_t)v211, *(uint32x2_t *)v217.i8);
          v163 = (int64x2_t)vaddw_high_u32((uint64x2_t)v163, v217);
          v212 = (int64x2_t)vaddw_u32((uint64x2_t)v212, *(uint32x2_t *)v218.i8);
          v213 = (int64x2_t)vaddw_high_u32((uint64x2_t)v213, v218);
          v208 -= 16;
        }
        while (v208);
        v166 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v206, v211), vaddq_s64(v209, v212)), vaddq_s64(vaddq_s64(v205, v163), vaddq_s64(v210, v213))));
        if (v92 == (v92 & 0xFFFFFFFFFFFFFFF0))
          goto LABEL_151;
        v198 = v92 & 0xFFFFFFFFFFFFFFF0;
        v204 = v92 & 0xFFFFFFFFFFFFFFF0;
        if ((v92 & 8) != 0)
          goto LABEL_154;
        do
LABEL_162:
          v166 += data->u8[v204++];
        while (v92 != v204);
LABEL_151:
        ++v197;
        data = (int8x16_t *)((char *)data + dest.rowBytes);
        if (v197 == v91)
          goto LABEL_124;
      }
      v198 = 0;
LABEL_154:
      v199 = 0uLL;
      v200 = (int64x2_t)v166;
      v201 = 0uLL;
      v202 = 0uLL;
      do
      {
        v163.i64[0] = *(uint64_t *)((char *)data->i64 + v198);
        v203 = (uint32x4_t)vqtbl1q_s8((int8x16_t)v163, (int8x16_t)xmmword_1B56AC160);
        v163 = (int64x2_t)vqtbl1q_s8((int8x16_t)v163, (int8x16_t)xmmword_1B56AC170);
        v202 = (int64x2_t)vaddw_high_u32((uint64x2_t)v202, v203);
        v199 = (int64x2_t)vaddw_high_u32((uint64x2_t)v199, (uint32x4_t)v163);
        v201 = (int64x2_t)vaddw_u32((uint64x2_t)v201, *(uint32x2_t *)v203.i8);
        v200 = (int64x2_t)vaddw_u32((uint64x2_t)v200, *(uint32x2_t *)v163.i8);
        v198 += 8;
      }
      while (v97 != v198);
      v166 = vaddvq_s64(vaddq_s64(vaddq_s64(v200, v201), vaddq_s64(v199, v202)));
      v204 = v92 & 0xFFFFFFFFFFFFFFF8;
      if (v92 == v97)
        goto LABEL_151;
      goto LABEL_162;
    }
    v129 = 0;
    v98 = 0;
    v130 = (float32x4_t)vdupq_lane_s32(v96, 0);
    v131 = v94 + 4;
    v132 = v90 + 1;
    v133.i64[0] = 0x4500000045000000;
    v133.i64[1] = 0x4500000045000000;
    v134 = (int8x16_t)vdupq_n_s64(1uLL);
    v135 = v90;
    v136 = v94;
    while (&v94[v95 * v129] >= (char *)v90 + 2 * v92 + v129 * v93 || &v90->i8[v129 * v93] >= &v94[v92 + v95 * v129])
    {
      v138 = (int64x2_t)v98;
      v139 = 0uLL;
      v140 = v132;
      v141 = v131;
      v142 = v92 & 0xFFFFFFFFFFFFFFF8;
      v143 = 0uLL;
      v144 = 0uLL;
      do
      {
        v145 = vcvtq_f32_f16(v140[-1]);
        v146 = vcvtq_f32_f16(*v140);
        v147 = (int16x8_t)vcgeq_f32(v145, v133);
        v148 = (int16x8_t)vcgeq_f32(v146, v133);
        *(int8x8_t *)v145.f32 = vbic_s8((int8x8_t)vmovn_s32((int32x4_t)vmvnq_s8((int8x16_t)vcgtq_f32(v130, v145))), (int8x8_t)vmovn_s32((int32x4_t)v147));
        *(int8x8_t *)v146.f32 = vbic_s8((int8x8_t)vmovn_s32((int32x4_t)vmvnq_s8((int8x16_t)vcgtq_f32(v130, v146))), (int8x8_t)vmovn_s32((int32x4_t)v148));
        *(int8x8_t *)v147.i8 = vand_s8(*(int8x8_t *)v145.f32, (int8x8_t)0x1000100010001);
        *(int8x8_t *)v148.i8 = vand_s8(*(int8x8_t *)v146.f32, (int8x8_t)0x1000100010001);
        v147.i32[0] = vmovn_s16(v147).u32[0];
        v147.i32[1] = vmovn_s16(v148).u32[0];
        *(_QWORD *)(v141 - 4) = v147.i64[0];
        v149 = vmovl_u16(*(uint16x4_t *)v145.f32);
        v150.i64[0] = v149.u32[0];
        v150.i64[1] = v149.u32[1];
        v151 = (int64x2_t)vandq_s8(v150, v134);
        v150.i64[0] = v149.u32[2];
        v150.i64[1] = v149.u32[3];
        v152 = (int64x2_t)vandq_s8(v150, v134);
        v153 = vmovl_u16(*(uint16x4_t *)v146.f32);
        v150.i64[0] = v153.u32[0];
        v150.i64[1] = v153.u32[1];
        v154 = (int64x2_t)vandq_s8(v150, v134);
        v150.i64[0] = v153.u32[2];
        v150.i64[1] = v153.u32[3];
        v139 = vaddq_s64(v139, v152);
        v138 = vaddq_s64(v138, v151);
        v144 = vaddq_s64(v144, (int64x2_t)vandq_s8(v150, v134));
        v143 = vaddq_s64(v143, v154);
        v141 += 8;
        v140 += 2;
        v142 -= 8;
      }
      while (v142);
      v98 = vaddvq_s64(vaddq_s64(vaddq_s64(v143, v138), vaddq_s64(v144, v139)));
      v155 = v92 & 0xFFFFFFFFFFFFFFF8;
      if (v92 != v97)
        goto LABEL_113;
LABEL_104:
      ++v129;
      v131 += v95;
      v132 = (float16x4_t *)((char *)v132 + v93);
      v136 += v95;
      v135 = (float16x4_t *)((char *)v135 + v93);
      if (v129 == v91)
        goto LABEL_119;
    }
    v155 = 0;
LABEL_113:
    v156 = v92 - v155;
    v157 = &v136[v155];
    v158 = (char *)v135 + 2 * v155;
    do
    {
      v159 = *(_WORD *)v158;
      v158 += 2;
      _H6 = v159;
      __asm { FCVT            S6, H6 }
      v162 = *(float *)v96.i32 <= _S6 && _S6 < 2048.0;
      *v157++ = v162;
      v98 += v162;
      --v156;
    }
    while (v156);
    goto LABEL_104;
  }
  vImageMin_Planar8(&src, &dest, 0, 0, 0, 3uLL, 3uLL, 0);
  v126 = 0.0;
  v127 = 0.0;
  v125 = v219;
  v128 = pixelBuffera;
LABEL_125:
  v170 = (float)v91 * (float)v92;
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 200), 0);
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 192), 0);
  CVPixelBufferUnlockBaseAddress(v128, 1uLL);
  v124 = v127 / v170;
  v123 = v126 / v170;
LABEL_126:
  if (*(int *)(a1 + 184) <= 0)
  {
    *(float *)(a1 + 8) = v40;
    *(float *)(a1 + 16) = v37;
  }
  else
  {
    *(float *)(a1 + 8) = (float)(v40 * *(float *)(a1 + 120))
                       + (float)((float)(1.0 - *(float *)(a1 + 120)) * *(float *)(a1 + 8));
    *(float *)(a1 + 16) = *(float *)(a1 + 16) + (float)(*(float *)(a1 + 1352) * (float)(v37 - *(float *)(a1 + 16)));
  }
  v171 = *(int *)(a1 + 236);
  v172 = *(_QWORD *)(a1 + 208);
  *(_DWORD *)(v172 + 4 * v171) = *(_DWORD *)v125;
  v173 = v171 + 1;
  v174 = (*(_QWORD *)(a1 + 216) - v172) >> 2;
  v175 = v173 % v174;
  *(_DWORD *)(a1 + 236) = v175;
  v176 = *(_DWORD *)(a1 + 232);
  if (v176 == (_DWORD)v175)
    v176 = ((int)v175 + 1) % v174;
  *(_DWORD *)(a1 + 232) = v176;
  if (v176 == (_DWORD)v175)
  {
    *(_QWORD *)(a1 + 240) = 0;
  }
  else
  {
    v177 = 0.0;
    v178 = -1;
    v179 = 0.0;
    do
    {
      v180 = v178 + 2;
      v181 = *(float *)(v172 + 4 * v176);
      v182 = v181 - v179;
      v179 = v179 + (float)((float)(v181 - v179) / (float)(v178 + 2));
      v177 = v177 + (float)(v182 * (float)(v181 - v179));
      v176 = (v176 + 1) % v174;
      ++v178;
    }
    while (v176 != (_DWORD)v175);
    *(_DWORD *)(a1 + 240) = v180;
    *(float *)(a1 + 244) = v179;
    if (v178)
      *(float *)(a1 + 248) = v177 / (float)v178;
  }
  *(_DWORD *)(a1 + 4) = *(_DWORD *)(a1 + 248);
  v183 = *(int *)(a1 + 284);
  v184 = *(_QWORD *)(a1 + 256);
  *(_DWORD *)(v184 + 4 * v183) = *(_DWORD *)(a1 + 16);
  v185 = v183 + 1;
  v186 = (*(_QWORD *)(a1 + 264) - v184) >> 2;
  v187 = v185 % v186;
  *(_DWORD *)(a1 + 284) = v187;
  v188 = *(_DWORD *)(a1 + 280);
  if (v188 == (_DWORD)v187)
    v188 = ((int)v187 + 1) % v186;
  *(_DWORD *)(a1 + 280) = v188;
  if (v188 == (_DWORD)v187)
  {
    *(_QWORD *)(a1 + 288) = 0;
  }
  else
  {
    v189 = 0.0;
    v190 = -1;
    v191 = 0.0;
    do
    {
      v192 = v190 + 2;
      v193 = *(float *)(v184 + 4 * v188);
      v194 = v193 - v191;
      v191 = v191 + (float)((float)(v193 - v191) / (float)(v190 + 2));
      v189 = v189 + (float)(v194 * (float)(v193 - v191));
      v188 = (v188 + 1) % v186;
      ++v190;
    }
    while (v188 != (_DWORD)v187);
    *(_DWORD *)(a1 + 288) = v192;
    *(float *)(a1 + 292) = v191;
    if (v190)
      *(float *)(a1 + 296) = v189 / (float)v190;
  }
  v195 = *(_DWORD *)(a1 + 296);
  *(_DWORD *)(a1 + 32) = v89;
  *(float *)(a1 + 36) = v87;
  *(_DWORD *)(a1 + 20) = v195;
  *(float *)(a1 + 24) = v124;
  *(float *)(a1 + 28) = v123;
  *(_DWORD *)(a1 + 12) = v19;
  *(_DWORD *)(a1 + 40) = *(_DWORD *)v125;
  if (a1 + 48 != v125 + 8)
    sub_1B566B968((_QWORD *)(a1 + 48), *(char **)(v125 + 8), *(char **)(v125 + 16), (uint64_t)(*(_QWORD *)(v125 + 16) - *(_QWORD *)(v125 + 8)) >> 2);
  if (a1 + 72 != v125 + 32)
    sub_1B566B968((_QWORD *)(a1 + 72), *(char **)(v125 + 32), *(char **)(v125 + 40), (uint64_t)(*(_QWORD *)(v125 + 40) - *(_QWORD *)(v125 + 32)) >> 2);
  ++*(_DWORD *)(a1 + 184);
  return a1;
}

void sub_1B56775A0(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B567774C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B5677924(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5677C64(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;

  _Unwind_Resume(a1);
}

void sub_1B5677F44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  void *v10;
  void *v11;
  void *v12;
  void *v13;
  void *v14;
  void *v15;

  _Unwind_Resume(a1);
}

void sub_1B5678138(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B56782B8(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B56784A8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;
  void *v11;
  void *v12;

  _Unwind_Resume(a1);
}

void sub_1B5678808(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *a9, void *a10, void *a11, void *a12, void *a13, void *a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,CFTypeRef a31,char a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,CFTypeRef cf)
{
  void *v38;
  void *v39;
  void *v40;
  uint64_t v41;
  CFTypeRef v43;
  const void *v44;

  _Block_object_dispose(&a32, 8);
  v43 = cf;
  cf = 0;
  if (v43)
    CFRelease(v43);
  _Block_object_dispose((const void *)(v41 - 160), 8);
  v44 = *(const void **)(v41 - 112);
  *(_QWORD *)(v41 - 112) = 0;
  if (v44)
    CFRelease(v44);

  _Unwind_Resume(a1);
}

uint64_t sub_1B56789A4(uint64_t result, uint64_t a2)
{
  uint64_t v2;

  v2 = *(_QWORD *)(a2 + 48);
  *(_QWORD *)(a2 + 48) = 0;
  *(_QWORD *)(result + 48) = v2;
  return result;
}

void sub_1B56789B4(uint64_t a1)
{
  const void *v2;

  v2 = *(const void **)(a1 + 48);
  *(_QWORD *)(a1 + 48) = 0;
  if (v2)
    CFRelease(v2);
}

void sub_1B56789CC(uint64_t a1, void *a2)
{
  id v3;
  uint64_t v4;
  const void *v5;
  uint64_t v6;
  const void *v7;
  NSObject *v8;
  id v9;
  uint64_t v10;
  _QWORD block[5];
  id v12;
  uint64_t v13;

  v3 = a2;
  v4 = *(_QWORD *)(*(_QWORD *)(a1 + 56) + 8);
  v5 = *(const void **)(v4 + 48);
  *(_QWORD *)(v4 + 48) = 0;
  if (v5)
    CFRelease(v5);
  v6 = *(_QWORD *)(*(_QWORD *)(a1 + 64) + 8);
  v7 = *(const void **)(v6 + 48);
  *(_QWORD *)(v6 + 48) = 0;
  if (v7)
    CFRelease(v7);
  v8 = *(NSObject **)(a1 + 32);
  if (!v8)
    v8 = *(NSObject **)(*(_QWORD *)(a1 + 40) + 48);
  block[0] = MEMORY[0x1E0C809B0];
  block[1] = 3221225472;
  block[2] = sub_1B5678AA4;
  block[3] = &unk_1E6936CE8;
  v9 = *(id *)(a1 + 48);
  v10 = *(_QWORD *)(a1 + 72);
  v12 = v9;
  v13 = v10;
  block[4] = *(_QWORD *)(a1 + 40);
  dispatch_async(v8, block);

}

intptr_t sub_1B5678AA4(_QWORD *a1)
{
  uint64_t v2;
  uint64_t v3;
  const void *v4;

  v2 = a1[5];
  if (v2)
    (*(void (**)(void))(v2 + 16))();
  v3 = *(_QWORD *)(a1[6] + 8);
  v4 = *(const void **)(v3 + 48);
  *(_QWORD *)(v3 + 48) = 0;
  if (v4)
    CFRelease(v4);
  return dispatch_semaphore_signal(*(dispatch_semaphore_t *)(a1[4] + 56));
}

void sub_1B5678DF8(_Unwind_Exception *a1, uint64_t a2, void *a3, void *a4, ...)
{
  void *v4;
  void *v5;
  void *v6;
  va_list va;

  va_start(va, a4);
  sub_1B5679518((id *)va);

  _Unwind_Resume(a1);
}

void sub_1B5679148(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;
  void *v11;
  void *v12;

  _Unwind_Resume(a1);
}

void sub_1B56793B0(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

id *sub_1B5679518(id *a1)
{

  return a1;
}

void sub_1B567984C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *a11, id a12)
{
  void *v12;
  void *v13;
  void *v14;
  void *v15;
  void *v16;

  _Unwind_Resume(a1);
}

void sub_1B5679B44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void *a9, void *a10)
{
  void *v10;
  void *v11;

  _Unwind_Resume(a1);
}

void sub_1B5679C88(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5679DD4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B567A0DC(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B567ACB4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,void *a27,void *a28,void *a29,void *a30,uint64_t a31,uint64_t a32,uint64_t a33,id a34)
{
  void *v34;
  void *v35;
  void *v36;

  sub_1B5674E20(&a34);

  operator delete(v35);
  _Unwind_Resume(a1);
}

void sub_1B567B9BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12, void *a13, void *a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19)
{
  void *v19;

  _Unwind_Resume(a1);
}

void sub_1B567BB10(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;
  void *v11;

  _Unwind_Resume(a1);
}

void sub_1B567BC48(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;

  _Unwind_Resume(a1);
}

void sub_1B567BD94(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B567C238(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *a11, void *__p, uint64_t a13, int a14, __int16 a15, char a16, char a17)
{
  void *v17;
  void *v18;
  void *v19;

  __cxa_guard_abort(&qword_1EF12D750);

  _Unwind_Resume(a1);
}

void sub_1B567C454(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;

  v6 = v5;

  _Unwind_Resume(a1);
}

id sub_1B567C7B4(_QWORD **a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  void *v8;
  void *v9;
  void *v10;
  void *v12;

  v8 = *(void **)(**a1 + 8);
  sub_1B56A25D0(a2, a3, a4);
  v9 = (void *)objc_claimAutoreleasedReturnValue();
  v10 = (void *)objc_msgSend(v8, "newTextureWithDescriptor:", v9);

  if (!v10)
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v12 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v12, "handleFailureInMethod:object:file:lineNumber:description:", *a1[1], **a1, CFSTR("CVAFilterGuided.mm"), 607, CFSTR("[_Nonnull id<MTLDeviceSPI newTextureWithDescriptor:textureDescriptor(%lu, %lu, %lu)] is nil"), a2, a3, a4);

  }
  return v10;
}

void sub_1B567C884(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B567C898(uint64_t a1, void *a2, void *a3)
{
  id v5;
  id v6;
  uint64_t v7;
  void *v8;
  uint64_t v9;
  void *v10;
  void *v11;
  void *v12;
  void *v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  _QWORD v17[5];
  _QWORD v18[3];
  _QWORD v19[3];
  _QWORD v20[3];

  v5 = a2;
  v6 = a3;
  if (*(_BYTE *)a1 || *(_BYTE *)(a1 + 1))
  {
    if (!*(_QWORD *)(a1 + 144))
    {
      sub_1B567CA60(v5);
      v7 = objc_claimAutoreleasedReturnValue();
      v8 = *(void **)(a1 + 144);
      *(_QWORD *)(a1 + 144) = v7;

      sub_1B567CA60(v5);
      v9 = objc_claimAutoreleasedReturnValue();
      v10 = *(void **)(a1 + 152);
      *(_QWORD *)(a1 + 152) = v9;

    }
    objc_msgSend(v6, "commandBuffer");
    v11 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v11, "setLabel:", CFSTR("perf profiler"));
    objc_msgSend(v11, "blitCommandEncoder");
    v12 = (void *)objc_claimAutoreleasedReturnValue();
    v13 = *(void **)(a1 + 144);
    memset(v20, 0, sizeof(v20));
    v14 = objc_msgSend(v13, "width");
    v15 = objc_msgSend(*(id *)(a1 + 144), "height");
    v19[0] = v14;
    v19[1] = v15;
    v19[2] = 1;
    v16 = *(_QWORD *)(a1 + 152);
    memset(v18, 0, sizeof(v18));
    objc_msgSend(v12, "copyFromTexture:sourceSlice:sourceLevel:sourceOrigin:sourceSize:toTexture:destinationSlice:destinationLevel:destinationOrigin:", v13, 0, 0, v20, v19, v16, 0, 0, v18);
    objc_msgSend(v12, "endEncoding");
    v17[0] = MEMORY[0x1E0C809B0];
    v17[1] = 3221225472;
    v17[2] = sub_1B567CB88;
    v17[3] = &unk_1E6936D30;
    v17[4] = a1;
    objc_msgSend(v11, "addCompletedHandler:", v17);
    objc_msgSend(v11, "commit");
    ++*(_QWORD *)(a1 + 8);

  }
}

void sub_1B567CA24(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

id sub_1B567CA60(void *a1)
{
  id v1;
  void *v2;
  void *v3;
  _QWORD v5[3];
  int64x2_t v6;
  uint64_t v7;
  __int128 v8;
  uint64_t v9;

  v9 = *MEMORY[0x1E0C80C00];
  v1 = a1;
  objc_msgSend(MEMORY[0x1E0CC6BB0], "texture2DDescriptorWithPixelFormat:width:height:mipmapped:", 70, 2, 2, 0);
  v2 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v2, "setUsage:", 3);
  v3 = (void *)objc_msgSend(v1, "newTextureWithDescriptor:", v2);

  v8 = xmmword_1B56AC250;
  memset(v5, 0, sizeof(v5));
  v6 = vdupq_n_s64(2uLL);
  v7 = 1;
  objc_msgSend(v3, "replaceRegion:mipmapLevel:slice:withBytes:bytesPerRow:bytesPerImage:", v5, 0, 0, &v8, 8, 16);

  return v3;
}

void sub_1B567CB50(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B567CB88(uint64_t a1, void *a2)
{
  uint64_t v3;
  uint64_t v4;
  id v5;

  v5 = a2;
  v3 = *(_QWORD *)(a1 + 32);
  std::mutex::lock((std::mutex *)(v3 + 80));
  objc_msgSend(v5, "GPUEndTime");
  if (!*(_BYTE *)(v3 + 56))
    *(_BYTE *)(v3 + 56) = 1;
  *(_QWORD *)(v3 + 64) = v4;
  *(_QWORD *)(v3 + 72) = 0;
  std::mutex::unlock((std::mutex *)(v3 + 80));

}

void sub_1B567CBF0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  std::mutex *v10;

  std::mutex::unlock(v10);

  _Unwind_Resume(a1);
}

void sub_1B567CC14(uint64_t a1)
{
  unint64_t v1;
  uint64_t *v3;
  unint64_t v4;
  unint64_t v5;
  unint64_t v6;
  uint8x8_t v7;
  void **v8;
  unsigned __int8 *v9;
  uint64_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  unint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  _QWORD *v18;
  uint64_t v19;
  float v20;
  float v21;
  _BOOL8 v22;
  unint64_t v23;
  unint64_t v24;
  size_t prime;
  unint64_t v26;
  uint8x8_t v27;
  uint64_t v28;
  uint64_t v29;
  _QWORD *v30;
  unint64_t v31;
  double *v32;
  _QWORD *v33;
  std::__shared_weak_count *v34;
  unint64_t *p_shared_owners;
  unint64_t v36;
  double *v37;
  double *v38;
  uint64_t v39;
  _QWORD *v40;
  double v41;
  double *v42;
  double *v43;
  double *v44;
  double *v45;
  _QWORD *v46;
  double *v47;
  double *v48;
  uint64_t v49;
  double v50;
  double v51;
  double v52;
  double v53;
  double *v54;
  double *v55;
  uint64_t v56;
  __int128 __s2;
  uint64_t v58;
  unsigned __int8 *v59;
  uint64_t v60;
  char v61;

  if (!*(_BYTE *)a1 && !*(_BYTE *)(a1 + 1))
    return;
  std::mutex::lock((std::mutex *)(a1 + 80));
  HIBYTE(v58) = 9;
  strcpy((char *)&__s2, "Total GPU");
  v3 = (uint64_t *)(a1 + 16);
  v4 = sub_1B566A10C((uint64_t *)&__s2, 9uLL);
  v5 = v4;
  v6 = *(_QWORD *)(a1 + 24);
  if (v6)
  {
    v7 = (uint8x8_t)vcnt_s8((int8x8_t)v6);
    v7.i16[0] = vaddlv_u8(v7);
    if (v7.u32[0] > 1uLL)
    {
      v1 = v4;
      if (v4 >= v6)
        v1 = v4 % v6;
    }
    else
    {
      v1 = (v6 - 1) & v4;
    }
    v8 = *(void ***)(*v3 + 8 * v1);
    if (v8)
    {
      v9 = (unsigned __int8 *)*v8;
      if (*v8)
      {
        if (v7.u32[0] < 2uLL)
        {
          while (1)
          {
            v10 = *((_QWORD *)v9 + 1);
            if (v10 == v5)
            {
              v11 = v9[39];
              if ((v11 & 0x80u) == 0)
                v12 = v9[39];
              else
                v12 = *((_QWORD *)v9 + 3);
              if (v12 == 9)
              {
                if ((v11 & 0x80) != 0)
                {
                  if (!memcmp(*((const void **)v9 + 2), &__s2, *((_QWORD *)v9 + 3)))
                    goto LABEL_85;
                }
                else
                {
                  if (!v9[39])
                    goto LABEL_85;
                  v13 = 0;
                  while (v9[v13 + 16] == *((unsigned __int8 *)&__s2 + v13))
                  {
                    if (v11 == ++v13)
                      goto LABEL_85;
                  }
                }
              }
            }
            else if ((v10 & (v6 - 1)) != v1)
            {
              goto LABEL_47;
            }
            v9 = *(unsigned __int8 **)v9;
            if (!v9)
              goto LABEL_47;
          }
        }
        do
        {
          v14 = *((_QWORD *)v9 + 1);
          if (v14 == v5)
          {
            v15 = v9[39];
            if ((v15 & 0x80u) == 0)
              v16 = v9[39];
            else
              v16 = *((_QWORD *)v9 + 3);
            if (v16 == 9)
            {
              if ((v15 & 0x80) != 0)
              {
                if (!memcmp(*((const void **)v9 + 2), &__s2, *((_QWORD *)v9 + 3)))
                  goto LABEL_85;
              }
              else
              {
                if (!v9[39])
                  goto LABEL_85;
                v17 = 0;
                while (v9[v17 + 16] == *((unsigned __int8 *)&__s2 + v17))
                {
                  if (v15 == ++v17)
                    goto LABEL_85;
                }
              }
            }
          }
          else
          {
            if (v14 >= v6)
              v14 %= v6;
            if (v14 != v1)
              break;
          }
          v9 = *(unsigned __int8 **)v9;
        }
        while (v9);
      }
    }
  }
LABEL_47:
  v9 = (unsigned __int8 *)operator new(0x38uLL);
  v18 = (_QWORD *)(a1 + 32);
  v59 = v9;
  v60 = a1 + 32;
  *(_QWORD *)v9 = 0;
  *((_QWORD *)v9 + 1) = v5;
  *((_OWORD *)v9 + 1) = __s2;
  v19 = v58;
  __s2 = 0uLL;
  v58 = 0;
  *((_QWORD *)v9 + 5) = 0;
  *((_QWORD *)v9 + 6) = 0;
  *((_QWORD *)v9 + 4) = v19;
  v61 = 1;
  v20 = (float)(unint64_t)(*(_QWORD *)(a1 + 40) + 1);
  v21 = *(float *)(a1 + 48);
  if (!v6 || (float)(v21 * (float)v6) < v20)
  {
    v22 = 1;
    if (v6 >= 3)
      v22 = (v6 & (v6 - 1)) != 0;
    v23 = v22 | (2 * v6);
    v24 = vcvtps_u32_f32(v20 / v21);
    if (v23 <= v24)
      prime = v24;
    else
      prime = v23;
    if (prime == 1)
    {
      prime = 2;
    }
    else if ((prime & (prime - 1)) != 0)
    {
      prime = std::__next_prime(prime);
      v6 = *(_QWORD *)(a1 + 24);
    }
    if (prime > v6)
      goto LABEL_59;
    if (prime < v6)
    {
      v26 = vcvtps_u32_f32((float)*(unint64_t *)(a1 + 40) / *(float *)(a1 + 48));
      if (v6 < 3 || (v27 = (uint8x8_t)vcnt_s8((int8x8_t)v6), v27.i16[0] = vaddlv_u8(v27), v27.u32[0] > 1uLL))
      {
        v26 = std::__next_prime(v26);
      }
      else
      {
        v28 = 1 << -(char)__clz(v26 - 1);
        if (v26 >= 2)
          v26 = v28;
      }
      if (prime <= v26)
        prime = v26;
      if (prime < v6)
LABEL_59:
        sub_1B567D4D8(a1 + 16, prime);
    }
    v6 = *(_QWORD *)(a1 + 24);
    if ((v6 & (v6 - 1)) != 0)
    {
      if (v5 >= v6)
        v1 = v5 % v6;
      else
        v1 = v5;
    }
    else
    {
      v1 = (v6 - 1) & v5;
    }
  }
  v29 = *v3;
  v30 = *(_QWORD **)(*v3 + 8 * v1);
  if (v30)
  {
    *(_QWORD *)v9 = *v30;
LABEL_83:
    *v30 = v9;
    goto LABEL_84;
  }
  *(_QWORD *)v9 = *v18;
  *v18 = v9;
  *(_QWORD *)(v29 + 8 * v1) = v18;
  if (*(_QWORD *)v9)
  {
    v31 = *(_QWORD *)(*(_QWORD *)v9 + 8);
    if ((v6 & (v6 - 1)) != 0)
    {
      if (v31 >= v6)
        v31 %= v6;
    }
    else
    {
      v31 &= v6 - 1;
    }
    v30 = (_QWORD *)(*v3 + 8 * v31);
    goto LABEL_83;
  }
LABEL_84:
  ++*(_QWORD *)(a1 + 40);
LABEL_85:
  v32 = (double *)*((_QWORD *)v9 + 5);
  if (!v32)
  {
    v33 = operator new(0x68uLL);
    v33[1] = 0;
    v33[2] = 0;
    *v33 = &off_1E6936BA8;
    sub_1B567D2FC(v33 + 3, 100);
    v34 = (std::__shared_weak_count *)*((_QWORD *)v9 + 6);
    *((_QWORD *)v9 + 5) = v33 + 3;
    *((_QWORD *)v9 + 6) = v33;
    if (v34)
    {
      p_shared_owners = (unint64_t *)&v34->__shared_owners_;
      do
        v36 = __ldaxr(p_shared_owners);
      while (__stlxr(v36 - 1, p_shared_owners));
      if (!v36)
      {
        ((void (*)(std::__shared_weak_count *))v34->__on_zero_shared)(v34);
        std::__shared_weak_count::__release_weak(v34);
      }
    }
    v32 = (double *)*((_QWORD *)v9 + 5);
  }
  v38 = *(double **)v32;
  v37 = (double *)*((_QWORD *)v32 + 1);
  v39 = ((uint64_t)v37 - *(_QWORD *)v32) >> 3;
  v40 = (_QWORD *)*((_QWORD *)v32 + 4);
  if ((_QWORD *)v39 != v40)
  {
    v46 = (_QWORD *)*((_QWORD *)v32 + 3);
    *v46 = *(_QWORD *)(a1 + 72);
    v47 = (double *)(v46 + 1);
    if (v47 == v37)
      v48 = v38;
    else
      v48 = v47;
    v49 = (uint64_t)v40 + 1;
    *((_QWORD *)v32 + 3) = v48;
    *((_QWORD *)v32 + 4) = v49;
    v45 = v32 + 6;
    v41 = *(double *)(a1 + 72);
    if (v39 == v49)
      goto LABEL_103;
    v52 = *v45;
    if (*v45 > v41)
    {
      if (v49)
      {
        v54 = &v38[v49];
        if (*((_QWORD *)v32 + 2))
        {
LABEL_117:
          v51 = v52 - (v52 - v41) / (double)(unint64_t)(v54 - v38);
          goto LABEL_122;
        }
      }
      else
      {
        v54 = v38;
      }
      v38 += v49;
      goto LABEL_117;
    }
    if (*v45 >= v41)
      goto LABEL_123;
    if (v49)
    {
      v55 = &v38[v49];
      if (*((_QWORD *)v32 + 2))
      {
LABEL_120:
        v53 = (v41 - v52) / (double)(unint64_t)(v55 - v38);
        goto LABEL_121;
      }
    }
    else
    {
      v55 = v38;
    }
    v38 += v49;
    goto LABEL_120;
  }
  v41 = *(double *)(a1 + 72);
  if (v37 != v38)
  {
    v42 = (double *)*((_QWORD *)v32 + 3);
    *v42 = v41;
    v43 = v42 + 1;
    if (v43 == v37)
      v44 = v38;
    else
      v44 = v43;
    *((_QWORD *)v32 + 2) = v44;
    *((_QWORD *)v32 + 3) = v44;
    v41 = *(double *)(a1 + 72);
  }
  v45 = v32 + 6;
LABEL_103:
  v50 = **((double **)v32 + 2);
  if (v50 > v41)
  {
    v51 = *v45 - (v50 - v41) / (double)(unint64_t)(v39 - 1);
LABEL_122:
    *v45 = v51;
    v41 = *(double *)(a1 + 72);
    goto LABEL_123;
  }
  if (v50 < v41)
  {
    v52 = (v41 - v50) / (double)(unint64_t)(v39 - 1);
    v53 = *v45;
LABEL_121:
    v51 = v52 + v53;
    goto LABEL_122;
  }
LABEL_123:
  ++*((_QWORD *)v32 + 7);
  v32[8] = v41 + v32[8];
  v56 = *((_QWORD *)v9 + 5);
  if (*(_BYTE *)a1)
  {
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("%s = %.1lf ms%s"), "Total GPU", *(double *)(v56 + 48) * 1000.0, "");

  }
  if (*(_BYTE *)(a1 + 1))
  {
    NSLog(CFSTR("> > > CVAPhoto: Profiler: frame %lld: %s = %.1lf ms%s"), *(_QWORD *)(a1 + 8), "Total GPU", v41 * 1000.0, "");
    NSLog(CFSTR("> > > CVAPhoto: Profiler: frame %lld: %s = %.1lf ms (avr. all frames)%s"), *(_QWORD *)(a1 + 8), "Total GPU", *(double *)(v56 + 64) / (double)*(unint64_t *)(v56 + 56) * 1000.0, "");
  }
  std::mutex::unlock((std::mutex *)(a1 + 80));
}

void sub_1B567D2BC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, char a16)
{
  std::mutex *v16;
  std::__shared_weak_count *v17;
  void *v19;

  std::__shared_weak_count::~__shared_weak_count(v17);
  operator delete(v19);
  std::mutex::unlock(v16);
  _Unwind_Resume(a1);
}

void sub_1B567D2FC(_QWORD *a1, int a2)
{
  uint64_t v3;
  void *v4;
  char *v5;
  std::logic_error v6;

  if (a2 <= -2)
  {
    std::logic_error::logic_error(&v6, "circular_buffer");
    v6.__vftable = (std::logic_error_vtbl *)(MEMORY[0x1E0DE5020] + 16);
    abort();
  }
  v3 = a2 + 1;
  if (a2 == -1)
  {
    v4 = 0;
    v5 = 0;
    a1[4] = 0;
  }
  else
  {
    v4 = operator new(8 * (a2 + 1));
    a1[4] = 0;
    v5 = (char *)operator new(8 * v3);
  }
  *a1 = v5;
  a1[1] = &v5[8 * v3];
  a1[2] = v5;
  a1[3] = v5;
  a1[7] = 0;
  a1[8] = 0;
  a1[6] = 0;
  if (v4)
    operator delete(v4);
}

void sub_1B567D3DC(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_list va;

  va_start(va, a2);
  sub_1B567D404((uint64_t)va);
  _Unwind_Resume(a1);
}

uint64_t sub_1B567D404(uint64_t a1)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;

  v3 = *(_QWORD *)(a1 + 8);
  v2 = *(_QWORD *)(a1 + 16);
  v4 = *(_QWORD *)(a1 + 32);
  v5 = *(void **)a1;
  v6 = v3 - v2;
  v7 = (unint64_t)(v3 - (_QWORD)v5) >> 3;
  if (v4 < v6 >> 3)
    v7 = 0;
  *(_QWORD *)(a1 + 16) = v2 + 8 * (v4 - v7);
  if (v5)
    operator delete(v5);
  return a1;
}

void sub_1B567D458(std::__shared_weak_count *this)
{
  this->__vftable = (std::__shared_weak_count_vtbl *)&off_1E6936BA8;
  std::__shared_weak_count::~__shared_weak_count(this);
}

void sub_1B567D468(std::__shared_weak_count *a1)
{
  a1->__vftable = (std::__shared_weak_count_vtbl *)&off_1E6936BA8;
  std::__shared_weak_count::~__shared_weak_count(a1);
  JUMPOUT(0x1B5E4DE7CLL);
}

void sub_1B567D498(_QWORD *a1)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;

  v3 = a1[4];
  v2 = a1[5];
  v4 = a1[7];
  v5 = (void *)a1[3];
  v6 = v3 - v2;
  v7 = (unint64_t)(v3 - (_QWORD)v5) >> 3;
  if (v4 < v6 >> 3)
    v7 = 0;
  a1[5] = v2 + 8 * (v4 - v7);
  if (v5)
    operator delete(v5);
}

void sub_1B567D4D8(uint64_t a1, unint64_t a2)
{
  void *v4;
  void *v5;
  uint64_t v6;
  _QWORD *v7;
  uint64_t v8;
  unint64_t v9;
  unint64_t v10;
  uint64_t v11;
  _QWORD *v12;
  uint64_t v13;
  uint64_t v14;
  void *v15;
  _QWORD *v16;
  uint64_t v17;
  unint64_t v18;

  if (!a2)
  {
    v15 = *(void **)a1;
    *(_QWORD *)a1 = 0;
    if (v15)
      operator delete(v15);
    *(_QWORD *)(a1 + 8) = 0;
    return;
  }
  if (a2 >> 61)
    sub_1B566A9AC();
  v4 = operator new(8 * a2);
  v5 = *(void **)a1;
  *(_QWORD *)a1 = v4;
  if (v5)
    operator delete(v5);
  v6 = 0;
  *(_QWORD *)(a1 + 8) = a2;
  do
    *(_QWORD *)(*(_QWORD *)a1 + 8 * v6++) = 0;
  while (a2 != v6);
  v8 = a1 + 16;
  v7 = *(_QWORD **)(a1 + 16);
  if (v7)
  {
    v9 = v7[1];
    v10 = a2 - 1;
    if ((a2 & (a2 - 1)) == 0)
    {
      v11 = v9 & v10;
      *(_QWORD *)(*(_QWORD *)a1 + 8 * v11) = v8;
      while (1)
      {
        v12 = (_QWORD *)*v7;
        if (!*v7)
          break;
        v13 = v12[1] & v10;
        if (v13 == v11)
        {
          v7 = (_QWORD *)*v7;
        }
        else if (*(_QWORD *)(*(_QWORD *)a1 + 8 * v13))
        {
          *v7 = *v12;
          v14 = 8 * v13;
          *v12 = **(_QWORD **)(*(_QWORD *)a1 + v14);
          **(_QWORD **)(*(_QWORD *)a1 + v14) = v12;
        }
        else
        {
          *(_QWORD *)(*(_QWORD *)a1 + 8 * v13) = v7;
          v7 = v12;
          v11 = v13;
        }
      }
      return;
    }
    if (v9 >= a2)
      v9 %= a2;
    *(_QWORD *)(*(_QWORD *)a1 + 8 * v9) = v8;
    v16 = (_QWORD *)*v7;
    if (*v7)
    {
      do
      {
        v18 = v16[1];
        if (v18 >= a2)
          v18 %= a2;
        if (v18 != v9)
        {
          if (!*(_QWORD *)(*(_QWORD *)a1 + 8 * v18))
          {
            *(_QWORD *)(*(_QWORD *)a1 + 8 * v18) = v7;
            goto LABEL_26;
          }
          *v7 = *v16;
          v17 = 8 * v18;
          *v16 = **(_QWORD **)(*(_QWORD *)a1 + v17);
          **(_QWORD **)(*(_QWORD *)a1 + v17) = v16;
          v16 = v7;
        }
        v18 = v9;
LABEL_26:
        v7 = v16;
        v16 = (_QWORD *)*v16;
        v9 = v18;
      }
      while (v16);
    }
  }
}

uint64_t *sub_1B567D678(uint64_t *a1)
{
  uint64_t v2;
  std::__shared_weak_count *v3;
  unint64_t *p_shared_owners;
  unint64_t v5;

  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    if (*((_BYTE *)a1 + 16))
    {
      v3 = *(std::__shared_weak_count **)(v2 + 48);
      if (v3)
      {
        p_shared_owners = (unint64_t *)&v3->__shared_owners_;
        do
          v5 = __ldaxr(p_shared_owners);
        while (__stlxr(v5 - 1, p_shared_owners));
        if (!v5)
        {
          ((void (*)(std::__shared_weak_count *))v3->__on_zero_shared)(v3);
          std::__shared_weak_count::__release_weak(v3);
          if ((*(char *)(v2 + 39) & 0x80000000) == 0)
            goto LABEL_9;
          goto LABEL_8;
        }
      }
      if (*(char *)(v2 + 39) < 0)
LABEL_8:
        operator delete(*(void **)(v2 + 16));
    }
LABEL_9:
    operator delete((void *)v2);
  }
  return a1;
}

void sub_1B567D710(uint64_t a1, uint64_t a2, double a3)
{
  unint64_t v6;
  _QWORD *v7;
  char v8;
  int v9;
  unint64_t v10;
  uint64_t *v11;
  unint64_t v12;
  unint64_t v13;
  unint64_t v14;
  unint64_t v15;
  uint8x8_t v16;
  _QWORD *v17;
  _QWORD *v18;
  unint64_t v19;
  unint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  int v28;
  _QWORD *v29;
  _QWORD *v30;
  _BYTE *v31;
  float v32;
  float v33;
  _BOOL8 v34;
  unint64_t v35;
  unint64_t v36;
  size_t prime;
  int8x8_t v38;
  unint64_t v39;
  uint8x8_t v40;
  uint64_t v41;
  _QWORD *v42;
  unint64_t v43;
  double v44;
  uint64_t v45;
  double *v46;
  double *v47;
  uint64_t v48;
  uint64_t v49;
  _QWORD *v50;
  double *v51;
  double *v52;
  double *v53;
  double *v54;
  double *v55;
  _QWORD *v56;
  std::__shared_weak_count *v57;
  unint64_t *p_shared_owners;
  unint64_t v59;
  _QWORD *v60;
  double *v61;
  double *v62;
  uint64_t v63;
  double v64;
  double v65;
  double *v66;
  double *v67;
  double *v68;
  uint64_t v69;
  double v70;
  double v71;
  double v72;
  double v73;
  double v74;
  double v75;
  double *v76;
  double *v77;
  double *v78;
  double *v79;
  double v80;
  const char *v81;
  uint64_t v82;
  unint64_t v83;
  uint64_t *__src;

  if (!*(_BYTE *)a1 && !*(_BYTE *)(a1 + 1))
    return;
  v6 = a1 + 80;
  std::mutex::lock((std::mutex *)(a1 + 80));
  v7 = (_QWORD *)(a1 + 16);
  v8 = *(_BYTE *)(a2 + 23);
  v9 = v8;
  v10 = *(_QWORD *)(a2 + 8);
  __src = *(uint64_t **)a2;
  if (v8 >= 0)
    v11 = (uint64_t *)a2;
  else
    v11 = *(uint64_t **)a2;
  if (v8 >= 0)
    v12 = *(unsigned __int8 *)(a2 + 23);
  else
    v12 = *(_QWORD *)(a2 + 8);
  v13 = sub_1B566A10C(v11, v12);
  v14 = v13;
  v15 = *(_QWORD *)(a1 + 24);
  if (v15)
  {
    v16 = (uint8x8_t)vcnt_s8((int8x8_t)v15);
    v16.i16[0] = vaddlv_u8(v16);
    if (v16.u32[0] > 1uLL)
    {
      v6 = v13;
      if (v13 >= v15)
        v6 = v13 % v15;
    }
    else
    {
      v6 = (v15 - 1) & v13;
    }
    v17 = *(_QWORD **)(*v7 + 8 * v6);
    if (v17)
    {
      v18 = (_QWORD *)*v17;
      if (*v17)
      {
        if (v16.u32[0] < 2uLL)
        {
          v19 = v15 - 1;
          while (1)
          {
            v24 = v18[1];
            if (v24 == v14)
            {
              v25 = *((unsigned __int8 *)v18 + 39);
              if ((v25 & 0x80u) == 0)
                v26 = *((unsigned __int8 *)v18 + 39);
              else
                v26 = v18[3];
              if (v26 == v12)
              {
                if ((v25 & 0x80) != 0)
                {
                  v83 = v19;
                  v28 = memcmp((const void *)v18[2], v11, v18[3]);
                  v19 = v83;
                  if (!v28)
                    goto LABEL_93;
                }
                else
                {
                  if (!*((_BYTE *)v18 + 39))
                    goto LABEL_93;
                  v27 = 0;
                  while (*((unsigned __int8 *)v18 + v27 + 16) == *((unsigned __int8 *)v11 + v27))
                  {
                    if (v25 == ++v27)
                      goto LABEL_93;
                  }
                }
              }
            }
            else if ((v24 & v19) != v6)
            {
              goto LABEL_51;
            }
            v18 = (_QWORD *)*v18;
            if (!v18)
              goto LABEL_51;
          }
        }
        do
        {
          v20 = v18[1];
          if (v20 == v14)
          {
            v21 = *((unsigned __int8 *)v18 + 39);
            if ((v21 & 0x80u) == 0)
              v22 = *((unsigned __int8 *)v18 + 39);
            else
              v22 = v18[3];
            if (v22 == v12)
            {
              if ((v21 & 0x80) != 0)
              {
                if (!memcmp((const void *)v18[2], v11, v18[3]))
                  goto LABEL_93;
              }
              else
              {
                if (!*((_BYTE *)v18 + 39))
                  goto LABEL_93;
                v23 = 0;
                while (*((unsigned __int8 *)v18 + v23 + 16) == *((unsigned __int8 *)v11 + v23))
                {
                  if (v21 == ++v23)
                    goto LABEL_93;
                }
              }
            }
          }
          else
          {
            if (v20 >= v15)
              v20 %= v15;
            if (v20 != v6)
              break;
          }
          v18 = (_QWORD *)*v18;
        }
        while (v18);
      }
LABEL_51:
      v7 = (_QWORD *)(a1 + 16);
    }
  }
  v29 = operator new(0x38uLL);
  v30 = (_QWORD *)(a1 + 32);
  v31 = v29 + 2;
  *v29 = 0;
  v29[1] = v14;
  if (v9 < 0)
  {
    sub_1B566A9B8(v31, __src, v10);
  }
  else
  {
    *(_OWORD *)v31 = *(_OWORD *)a2;
    v29[4] = *(_QWORD *)(a2 + 16);
  }
  v29[5] = 0;
  v29[6] = 0;
  v32 = (float)(unint64_t)(*(_QWORD *)(a1 + 40) + 1);
  v33 = *(float *)(a1 + 48);
  if (!v15 || (float)(v33 * (float)v15) < v32)
  {
    v34 = 1;
    if (v15 >= 3)
      v34 = (v15 & (v15 - 1)) != 0;
    v35 = v34 | (2 * v15);
    v36 = vcvtps_u32_f32(v32 / v33);
    if (v35 <= v36)
      prime = v36;
    else
      prime = v35;
    if (prime == 1)
    {
      prime = 2;
    }
    else if ((prime & (prime - 1)) != 0)
    {
      prime = std::__next_prime(prime);
    }
    v38 = *(int8x8_t *)(a1 + 24);
    if (prime > *(_QWORD *)&v38)
      goto LABEL_67;
    if (prime < *(_QWORD *)&v38)
    {
      v39 = vcvtps_u32_f32((float)*(unint64_t *)(a1 + 40) / *(float *)(a1 + 48));
      if (*(_QWORD *)&v38 < 3uLL || (v40 = (uint8x8_t)vcnt_s8(v38), v40.i16[0] = vaddlv_u8(v40), v40.u32[0] > 1uLL))
      {
        v39 = std::__next_prime(v39);
      }
      else
      {
        v41 = 1 << -(char)__clz(v39 - 1);
        if (v39 >= 2)
          v39 = v41;
      }
      if (prime <= v39)
        prime = v39;
      if (prime < *(_QWORD *)&v38)
LABEL_67:
        sub_1B567D4D8((uint64_t)v7, prime);
    }
    v15 = *(_QWORD *)(a1 + 24);
    if ((v15 & (v15 - 1)) != 0)
    {
      if (v14 >= v15)
        v6 = v14 % v15;
      else
        v6 = v14;
    }
    else
    {
      v6 = (v15 - 1) & v14;
    }
  }
  v42 = *(_QWORD **)(*v7 + 8 * v6);
  if (v42)
  {
    *v29 = *v42;
    *v42 = v29;
  }
  else
  {
    *v29 = *v30;
    *v30 = v29;
    *(_QWORD *)(*v7 + 8 * v6) = v30;
    if (*v29)
    {
      v43 = *(_QWORD *)(*v29 + 8);
      if ((v15 & (v15 - 1)) != 0)
      {
        if (v43 >= v15)
          v43 %= v15;
      }
      else
      {
        v43 &= v15 - 1;
      }
      *(_QWORD *)(*v7 + 8 * v43) = v29;
    }
  }
  v18 = v29;
  ++*(_QWORD *)(a1 + 40);
LABEL_93:
  if (!v18[5])
  {
    v56 = operator new(0x68uLL);
    v56[1] = 0;
    v56[2] = 0;
    *v56 = &off_1E6936BA8;
    sub_1B567D2FC(v56 + 3, 100);
    v57 = (std::__shared_weak_count *)v18[6];
    v18[5] = v56 + 3;
    v18[6] = v56;
    if (v57)
    {
      p_shared_owners = (unint64_t *)&v57->__shared_owners_;
      do
        v59 = __ldaxr(p_shared_owners);
      while (__stlxr(v59 - 1, p_shared_owners));
      if (!v59)
      {
        ((void (*)(std::__shared_weak_count *))v57->__on_zero_shared)(v57);
        std::__shared_weak_count::__release_weak(v57);
      }
    }
  }
  if (!*(_BYTE *)(a1 + 56))
  {
    NSLog(CFSTR("> > > CVAPhoto: beginProfiling hasn't been called!"));
    abort();
  }
  v44 = a3 - *(double *)(a1 + 64);
  v45 = v18[5];
  v46 = *(double **)v45;
  v47 = *(double **)(v45 + 8);
  v48 = ((uint64_t)v47 - *(_QWORD *)v45) >> 3;
  v49 = *(_QWORD *)(v45 + 32);
  if (v44 >= 0.0)
  {
    if (v48 == v49)
    {
      if (v47 != v46)
      {
        v53 = *(double **)(v45 + 24);
        *v53 = v44;
        v54 = v53 + 1;
        if (v54 != v47)
          v46 = v54;
        *(_QWORD *)(v45 + 16) = v46;
        *(_QWORD *)(v45 + 24) = v46;
      }
      v55 = (double *)(v45 + 48);
LABEL_123:
      v70 = **(double **)(v45 + 16);
      if (v70 > v44)
      {
        v71 = *v55 - (v70 - v44) / (double)(unint64_t)(v48 - 1);
LABEL_161:
        *v55 = v71;
        goto LABEL_162;
      }
      if (v70 < v44)
      {
        v74 = (v44 - v70) / (double)(unint64_t)(v48 - 1);
        v75 = *v55;
LABEL_160:
        v71 = v74 + v75;
        goto LABEL_161;
      }
LABEL_162:
      ++*(_QWORD *)(v45 + 56);
      *(double *)(v45 + 64) = v44 + *(double *)(v45 + 64);
      *(double *)(a1 + 72) = v44 + *(double *)(a1 + 72);
      if (!*(_BYTE *)(a1 + 56))
        *(_BYTE *)(a1 + 56) = 1;
      *(double *)(a1 + 64) = a3;
      v80 = v44 * 1000.0;
      v81 = "";
      goto LABEL_165;
    }
    v66 = *(double **)(v45 + 24);
    *v66 = v44;
    v67 = v66 + 1;
    if (v67 == v47)
      v68 = v46;
    else
      v68 = v67;
    v69 = v49 + 1;
    *(_QWORD *)(v45 + 24) = v68;
    *(_QWORD *)(v45 + 32) = v69;
    v55 = (double *)(v45 + 48);
    if (v48 == v69)
      goto LABEL_123;
    v74 = *v55;
    if (*v55 > v44)
    {
      if (v69)
      {
        v77 = &v46[v69];
        if (*(_QWORD *)(v45 + 16))
        {
LABEL_150:
          v71 = v74 - (v74 - v44) / (double)(unint64_t)(v77 - v46);
          goto LABEL_161;
        }
      }
      else
      {
        v77 = v46;
      }
      v46 += v69;
      goto LABEL_150;
    }
    if (*v55 >= v44)
      goto LABEL_162;
    if (v69)
    {
      v79 = &v46[v69];
      if (*(_QWORD *)(v45 + 16))
      {
LABEL_159:
        v75 = (v44 - v74) / (double)(unint64_t)(v79 - v46);
        goto LABEL_160;
      }
    }
    else
    {
      v79 = v46;
    }
    v46 += v69;
    goto LABEL_159;
  }
  if (v48 != v49)
  {
    v60 = *(_QWORD **)(v45 + 24);
    *v60 = 0;
    v61 = (double *)(v60 + 1);
    if (v61 == v47)
      v62 = v46;
    else
      v62 = v61;
    v63 = v49 + 1;
    *(_QWORD *)(v45 + 24) = v62;
    *(_QWORD *)(v45 + 32) = v63;
    v52 = (double *)(v45 + 48);
    if (v48 == v63)
      goto LABEL_117;
    v72 = *v52;
    if (*v52 > 0.0)
    {
      if (v63)
      {
        v76 = &v46[v63];
        if (*(_QWORD *)(v45 + 16))
        {
LABEL_147:
          v65 = v72 - v72 / (double)(unint64_t)(v76 - v46);
          goto LABEL_155;
        }
      }
      else
      {
        v76 = v46;
      }
      v46 += v63;
      goto LABEL_147;
    }
    if (*v52 >= 0.0)
      goto LABEL_156;
    if (v63)
    {
      v78 = &v46[v63];
      if (*(_QWORD *)(v45 + 16))
      {
LABEL_153:
        v73 = (0.0 - v72) / (double)(unint64_t)(v78 - v46);
        goto LABEL_154;
      }
    }
    else
    {
      v78 = v46;
    }
    v46 += v63;
    goto LABEL_153;
  }
  if (v47 != v46)
  {
    v50 = *(_QWORD **)(v45 + 24);
    *v50 = 0;
    v51 = (double *)(v50 + 1);
    if (v51 != v47)
      v46 = v51;
    *(_QWORD *)(v45 + 16) = v46;
    *(_QWORD *)(v45 + 24) = v46;
  }
  v52 = (double *)(v45 + 48);
LABEL_117:
  v64 = **(double **)(v45 + 16);
  if (v64 > 0.0)
  {
    v65 = *v52 - v64 / (double)(unint64_t)(v48 - 1);
LABEL_155:
    *v52 = v65;
    goto LABEL_156;
  }
  if (v64 < 0.0)
  {
    v72 = (0.0 - v64) / (double)(unint64_t)(v48 - 1);
    v73 = *v52;
LABEL_154:
    v65 = v72 + v73;
    goto LABEL_155;
  }
LABEL_156:
  ++*(_QWORD *)(v45 + 56);
  v80 = 0.0;
  *(double *)(v45 + 64) = *(double *)(v45 + 64) + 0.0;
  v81 = ", overlapped";
LABEL_165:
  if (*(char *)(a2 + 23) < 0)
    a2 = *(_QWORD *)a2;
  v82 = v18[5];
  if (*(_BYTE *)a1)
  {
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("%s = %.1lf ms%s"), a2, *(double *)(v82 + 48) * 1000.0, v81);

  }
  if (*(_BYTE *)(a1 + 1))
  {
    NSLog(CFSTR("> > > CVAPhoto: Profiler: frame %lld: %s = %.1lf ms%s"), *(_QWORD *)(a1 + 8), a2, *(_QWORD *)&v80, v81);
    NSLog(CFSTR("> > > CVAPhoto: Profiler: frame %lld: %s = %.1lf ms (avr. all frames)%s"), *(_QWORD *)(a1 + 8), a2, *(double *)(v82 + 64) / (double)*(unint64_t *)(v82 + 56) * 1000.0, v81);
  }
  std::mutex::unlock((std::mutex *)(a1 + 80));
}

void sub_1B567DF7C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, std::mutex *a17, uint64_t a18)
{
  sub_1B567D678(&a18);
  std::mutex::unlock(a17);
  _Unwind_Resume(a1);
}

void sub_1B567E21C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  void *v10;
  void *v11;
  void *v12;

  _Unwind_Resume(a1);
}

void sub_1B567E534(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void *a9, void *a10)
{
  void *v10;
  void *v11;

  _Unwind_Resume(a1);
}

void sub_1B567E938(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;

  _Unwind_Resume(a1);
}

void sub_1B567EBB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  void *v10;
  void *v11;
  void *v12;
  void *v13;
  void *v14;
  void *v15;
  void *v16;

  _Unwind_Resume(a1);
}

void sub_1B567F0FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12, void *a13, void *a14)
{
  void *v14;
  void *v15;
  void *v16;
  void *v17;
  void *v18;
  void *v19;

  __cxa_guard_abort(&qword_1EF12D438);
  _Unwind_Resume(a1);
}

void sub_1B567F2CC(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B567F6A4(_Unwind_Exception *a1)
{
  void *v1;

  __cxa_guard_abort(&qword_1EF12D768);
  _Unwind_Resume(a1);
}

void sub_1B567F6C8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, id a12)
{
  void *v12;

  _Unwind_Resume(a1);
}

void sub_1B5680454(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18, void *a19, void *a20)
{
  id *v20;
  void *v21;
  void *v22;
  void *v23;
  void *v24;
  void *v25;
  void *v26;
  id *v27;

  if (v20)
  {
    for (; v27 != v20; v27 -= 3)
    {

    }
    operator delete(v20);
    _Unwind_Resume(a1);
  }
  _Unwind_Resume(a1);
}

void sub_1B5680768(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  v4 = v3;

  _Unwind_Resume(a1);
}

void sub_1B56808B4(_Unwind_Exception *a1)
{
  void *v1;

  __cxa_guard_abort(&qword_1EF12D778);
  _Unwind_Resume(a1);
}

void sub_1B5681D40(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10, void *a11, void *a12, void *a13, void *a14)
{

  _Unwind_Resume(a1);
}

void sub_1B5681F84(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B568235C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5682620(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{

  _Unwind_Resume(a1);
}

void sub_1B56827D0(_Unwind_Exception *a1)
{
  void *v1;

  operator delete(v1);
  _Unwind_Resume(a1);
}

void sub_1B5682B58(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B56848A4(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D820);
  _Unwind_Resume(a1);
}

void sub_1B5684958(_Unwind_Exception *exception_object)
{
  uint64_t v1;

  if (*(char *)(v1 - 153) < 0)
    operator delete(*(void **)(v1 - 176));
  _Unwind_Resume(exception_object);
}

void sub_1B5684998(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B5684DA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19, uint64_t a20,int a21,__int16 a22,char a23,char a24,void *__p,uint64_t a26,int a27,__int16 a28,char a29,char a30,void *a31,uint64_t a32,int a33,__int16 a34,char a35,char a36)
{
  void *v36;

  _Unwind_Resume(a1);
}

void sub_1B5685434(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D870);
  _Unwind_Resume(a1);
}

void sub_1B568544C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12, uint64_t a13, int a14, __int16 a15, char a16, char a17, void *__p, uint64_t a19, int a20,__int16 a21,char a22,char a23,void *a24,uint64_t a25,int a26,__int16 a27,char a28,char a29)
{
  if (a23 < 0)
  {
    operator delete(__p);
    if (a17 < 0)
    {
LABEL_5:
      operator delete(a12);
      if ((a29 & 0x80000000) == 0)
LABEL_9:
        _Unwind_Resume(a1);
LABEL_8:
      operator delete(a24);
      _Unwind_Resume(a1);
    }
  }
  else if (a17 < 0)
  {
    goto LABEL_5;
  }
  if ((a29 & 0x80000000) == 0)
    goto LABEL_9;
  goto LABEL_8;
}

void sub_1B5685620(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;

  _Unwind_Resume(a1);
}

void sub_1B5685A2C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *__p, uint64_t a16, int a17, __int16 a18, char a19, char a20)
{
  void *v20;

  __cxa_guard_abort(&qword_1EF12D888);

  _Unwind_Resume(a1);
}

void sub_1B5685BD0(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5685D3C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5685EC4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B568630C(_Unwind_Exception *a1, void *a2, void *a3, void *a4, void *a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  void *v10;
  void *v11;
  void *v12;
  void *v13;
  va_list va;

  va_start(va, a10);

  sub_1B5658FB4(va);
  _Unwind_Resume(a1);
}

void sub_1B5686570(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5686668(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{

  _Unwind_Resume(a1);
}

void sub_1B5687860(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *a11, void *a12, void *a13, void *a14, void *a15, uint64_t a16, uint64_t a17, void *a18, void *a19, void *a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,void *__p,uint64_t a38,int a39,__int16 a40,char a41,char a42,uint64_t a43,uint64_t a44,uint64_t a45)
{
  void *v45;
  void *v46;
  void *v47;
  void *v48;

  __cxa_guard_abort(&qword_1EF12D948);
  _Unwind_Resume(a1);
}

uint64_t sub_1B5688398(uint64_t result, uint64_t a2)
{
  *(_QWORD *)(result + 40) = *(_QWORD *)(a2 + 40);
  *(_QWORD *)(a2 + 40) = 0;
  return result;
}

void sub_1B56883A8(uint64_t a1)
{

}

void sub_1B56883B0(uint64_t a1, void *a2)
{
  id v3;
  uint64_t v4;
  void *v5;
  void *v6;
  uint64_t v7;
  double v8;
  NSObject *v9;
  id v10;
  uint64_t v11;
  uint64_t v12;
  _QWORD block[4];
  id v14;
  uint64_t v15;
  uint64_t v16;
  void *__p[2];
  char v18;

  v3 = a2;
  if (objc_msgSend((id)qword_1EF12D900, "BOOLValue"))
  {
    v4 = **(_QWORD **)(a1 + 64);
    if (*(_BYTE *)(v4 + 1040))
    {
      if ((byte_1EF12D950 & 1) == 0)
      {
        objc_msgSend(MEMORY[0x1E0CB3620], "defaultManager");
        v5 = (void *)objc_claimAutoreleasedReturnValue();
        objc_msgSend(v5, "createDirectoryAtPath:withIntermediateDirectories:attributes:error:", CFSTR("/tmp/_relit_model"), 1, 0, 0);

        byte_1EF12D950 = 1;
        v4 = **(_QWORD **)(a1 + 64);
      }
      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("/tmp/_relit_model/tc_dot_%04d.png"), *(_QWORD *)(v4 + 376));
      v6 = (void *)objc_claimAutoreleasedReturnValue();
      NSLog(CFSTR("%@\n"), v6);
      objc_msgSend(**(id **)(a1 + 64), "saveTexture:toImage:", *(_QWORD *)(**(_QWORD **)(a1 + 64) + 80), v6);

    }
  }
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 72));
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 80));
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 88));
  v7 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 40) + 40);
  objc_msgSend(v3, "GPUEndTime");
  v18 = 11;
  strcpy((char *)__p, "Relight GPU");
  sub_1B567D710(v7, (uint64_t)__p, v8);
  if (v18 < 0)
  {
    operator delete(__p[0]);
    v9 = *(NSObject **)(a1 + 40);
    if (v9)
      goto LABEL_8;
LABEL_10:
    v9 = *(NSObject **)(*(_QWORD *)(a1 + 32) + 888);
    goto LABEL_8;
  }
  v9 = *(NSObject **)(a1 + 40);
  if (!v9)
    goto LABEL_10;
LABEL_8:
  block[0] = MEMORY[0x1E0C809B0];
  block[1] = 3221225472;
  block[2] = sub_1B56885EC;
  block[3] = &unk_1E6936D90;
  v10 = *(id *)(a1 + 48);
  v11 = *(_QWORD *)(a1 + 96);
  v12 = *(_QWORD *)(a1 + 56);
  v14 = v10;
  v15 = v12;
  v16 = v11;
  dispatch_async(v9, block);

}

void sub_1B56885B4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *__p, uint64_t a19, int a20,__int16 a21,char a22,char a23)
{
  void *v23;
  void *v24;

  _Unwind_Resume(a1);
}

intptr_t sub_1B56885EC(uint64_t a1)
{
  uint64_t v2;

  v2 = *(_QWORD *)(a1 + 32);
  if (v2)
    (*(void (**)(void))(v2 + 16))();
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 48));
  return dispatch_semaphore_signal(*(dispatch_semaphore_t *)(*(_QWORD *)(*(_QWORD *)(a1 + 40) + 8) + 40));
}

void sub_1B568862C()
{
  void *v0;
  void *v1;
  uint64_t (*v2)(void);
  uint64_t v3;
  NSObject *v4;
  const char *v5;
  uint64_t *v6;
  uint64_t *v7;
  uint64_t *v8;
  uint64_t *v9;
  uint64_t *v10;
  uint64_t *v11;
  uint64_t *v12;
  uint64_t *v13;
  uint64_t *v14;
  uint64_t *v15;
  uint64_t *v16;
  uint64_t *v17;
  uint64_t *v18;
  uint64_t *v19;
  uint64_t *v20;
  uint64_t *v21;
  uint64_t *v22;
  uint64_t *v23;
  uint64_t *v24;
  uint8_t buf[16];

  v0 = dlopen("/System/Library/PrivateFrameworks/AppleCVA.framework/AppleCVA", 4);
  if (!v0)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlopen \"/System/Library/PrivateFrameworks/AppleCVA.framework/AppleCVA\"";
    goto LABEL_127;
  }
  v1 = v0;
  v2 = (uint64_t (*)(void))dlsym(v0, "CVAFaceTrackingGetAPIVersion");
  off_1EF12D580 = v2;
  if (!v2)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym func for CVAFaceTrackingGetAPIVersion";
    goto LABEL_127;
  }
  if ((int)v2() <= 14)
  {
    v3 = off_1EF12D580();
    NSLog(CFSTR("CVAFaceTrackingGetAPIVersion - unsupported AppleCVA version. Need at least version %d (got %d) to render face effects."), 15, v3);
    goto LABEL_128;
  }
  v6 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_HoleFilledMesh");
  if (!v6)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_HoleFilledMesh";
    goto LABEL_127;
  }
  qword_1EF12D5A8 = *v6;
  if (!qword_1EF12D5A8)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_HoleFilledMesh";
    goto LABEL_127;
  }
  v7 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_TriangulatedMesh");
  if (!v7)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_TriangulatedMesh";
    goto LABEL_127;
  }
  qword_1EF12D5C8 = *v7;
  if (!qword_1EF12D5C8)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_TriangulatedMesh";
    goto LABEL_127;
  }
  off_1EF12D578 = (uint64_t (*)(_QWORD, _QWORD))dlsym(v1, "CVAFaceTrackingCopySemantics");
  if (!off_1EF12D578)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym func for CVAFaceTrackingCopySemantics";
    goto LABEL_127;
  }
  v8 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_Mesh");
  if (!v8)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_Mesh";
    goto LABEL_127;
  }
  qword_1EF12D538 = *v8;
  if (!qword_1EF12D538)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_Mesh";
    goto LABEL_127;
  }
  v9 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_MeshTriIndices");
  if (!v9)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_MeshTriIndices";
    goto LABEL_127;
  }
  qword_1EF12D5B0 = *v9;
  if (!qword_1EF12D5B0)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_MeshTriIndices";
    goto LABEL_127;
  }
  v10 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_MeshQuadIndices");
  if (!v10)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_MeshQuadIndices";
    goto LABEL_127;
  }
  qword_1EF12D5B8 = *v10;
  if (!qword_1EF12D5B8)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_MeshQuadIndices";
    goto LABEL_127;
  }
  v11 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_MeshTexcoords");
  if (!v11)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_MeshTexcoords";
    goto LABEL_127;
  }
  qword_1EF12D5A0 = *v11;
  if (!qword_1EF12D5A0)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_MeshTexcoords";
    goto LABEL_127;
  }
  v12 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_LandmarkNames");
  if (!v12)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_LandmarkNames";
    goto LABEL_127;
  }
  qword_1EF12D598 = *v12;
  if (!qword_1EF12D598)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_LandmarkNames";
    goto LABEL_127;
  }
  v13 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_TrackedFacesArray");
  if (!v13)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_TrackedFacesArray";
    goto LABEL_127;
  }
  qword_1EF12D5D8 = *v13;
  if (!qword_1EF12D5D8)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_TrackedFacesArray";
    goto LABEL_127;
  }
  v14 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_Confidence");
  if (!v14)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_Confidence";
    goto LABEL_127;
  }
  qword_1EF12D558 = *v14;
  if (!qword_1EF12D558)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_Confidence";
    goto LABEL_127;
  }
  v15 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_CameraColor");
  if (!v15)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_CameraColor";
    goto LABEL_127;
  }
  qword_1EF12D588 = *v15;
  if (!qword_1EF12D588)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_CameraColor";
    goto LABEL_127;
  }
  v16 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_Intrinsics");
  if (!v16)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_Intrinsics";
    goto LABEL_127;
  }
  qword_1EF12D568 = *v16;
  if (!qword_1EF12D568)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_Intrinsics";
    goto LABEL_127;
  }
  v17 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_Extrinsics");
  if (!v17)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_Extrinsics";
    goto LABEL_127;
  }
  qword_1EF12D560 = *v17;
  if (!qword_1EF12D560)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_Extrinsics";
    goto LABEL_127;
  }
  v18 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_Rotation");
  if (!v18)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_Rotation";
    goto LABEL_127;
  }
  qword_1EF12D550 = *v18;
  if (!qword_1EF12D550)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_Rotation";
    goto LABEL_127;
  }
  v19 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_Translation");
  if (!v19)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_Translation";
    goto LABEL_127;
  }
  qword_1EF12D590 = *v19;
  if (!qword_1EF12D590)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_Translation";
    goto LABEL_127;
  }
  v20 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_SmoothData");
  if (!v20)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_SmoothData";
    goto LABEL_127;
  }
  qword_1EF12D570 = *v20;
  if (!qword_1EF12D570)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_SmoothData";
    goto LABEL_127;
  }
  v21 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_Pose");
  if (!v21)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_Pose";
    goto LABEL_127;
  }
  qword_1EF12D540 = *v21;
  if (!qword_1EF12D540)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_Pose";
    goto LABEL_127;
  }
  v22 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_Geometry");
  if (!v22)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_Geometry";
    goto LABEL_127;
  }
  qword_1EF12D548 = *v22;
  if (!qword_1EF12D548)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_Geometry";
    goto LABEL_127;
  }
  v23 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_GeometryVertices");
  if (!v23)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_GeometryVertices";
    goto LABEL_127;
  }
  qword_1EF12D5C0 = *v23;
  if (!qword_1EF12D5C0)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_GeometryVertices";
    goto LABEL_127;
  }
  v24 = (uint64_t *)dlsym(v1, "kCVAFaceTracking_GeometryLandmarks");
  if (!v24)
  {
    if (!os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
      goto LABEL_128;
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dlsym ptr for kCVAFaceTracking_GeometryLandmarks";
    goto LABEL_127;
  }
  qword_1EF12D5D0 = *v24;
  if (qword_1EF12D5D0)
  {
    byte_1EF12D640 = 1;
    return;
  }
  if (os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)buf = 0;
    v4 = MEMORY[0x1E0C81028];
    v5 = "> > > CVAPhoto failed to dereference dlsym ptr for kCVAFaceTracking_GeometryLandmarks";
LABEL_127:
    _os_log_impl(&dword_1B5656000, v4, OS_LOG_TYPE_DEFAULT, v5, buf, 2u);
  }
LABEL_128:
  if ((byte_1EF12D640 & 1) == 0 && os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)buf = 0;
    _os_log_impl(&dword_1B5656000, MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT, "> > > CVAPhoto has detected incompatible CVAFaceTracking's API. Face effects are disabled.", buf, 2u);
  }
}

void sub_1B5689230()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B5689244(uint64_t a1)
{
  _QWORD *result;
  uint64_t v3;

  result = operator new(0x10uLL);
  v3 = *(_QWORD *)(a1 + 8);
  *result = &off_1E6936800;
  result[1] = v3;
  return result;
}

uint64_t sub_1B5689278(uint64_t result, _QWORD *a2)
{
  uint64_t v2;

  v2 = *(_QWORD *)(result + 8);
  *a2 = &off_1E6936800;
  a2[1] = v2;
  return result;
}

void sub_1B5689294(uint64_t a1)
{
  uint64_t *v2;
  uint64_t v3;
  uint64_t v4;
  float v5;
  unint64_t v6;
  _QWORD *v7;
  uint64_t v8;
  _BYTE *v9;
  _BYTE *v10;
  _BYTE *v11;
  _BYTE *v12;
  _BYTE *v13;
  _BYTE *v14;
  _BYTE *v15;
  _BYTE *v16;
  uint64_t *v17;
  uint64_t v18;
  unint64_t v19;
  uint64_t v20;
  uint64_t v21;
  _DWORD *v22;
  _DWORD *v23;
  uint64_t v24;
  uint64_t v25;
  _DWORD *v26;
  _DWORD *v27;
  _DWORD *v28;
  float *v29;
  _BOOL4 v30;
  uint64_t v31;
  int *v32;
  int *v33;
  int64_t v34;
  char *v35;
  _DWORD *v36;
  _DWORD *v37;
  _DWORD *v38;
  uint64_t v39;
  float v40;
  float v41;
  float v42;
  float v43;
  _DWORD *v44;
  char *v45;
  int *v46;
  int *v47;
  int v48;
  char *v50;
  uint64_t v51;
  _DWORD *v52;
  float v53;
  _DWORD *v54;
  _DWORD *v55;
  _DWORD *v56;
  int *v57;
  char *v58;
  int *v59;
  int v60;
  _DWORD *v62;
  unint64_t v63;
  float v64;
  float v65;
  float v66;
  uint64_t v67;
  _QWORD *v68;
  _BYTE *v69;
  _BYTE *v70;
  uint64_t v71;
  uint64_t v72;
  uint64_t v73;
  uint64_t v74;
  unint64_t v75;
  uint64_t v76;
  uint64_t v77;
  uint64_t *v78;
  _BYTE *v79;
  BOOL v80;
  uint64_t v81;
  void *v82;
  void *v83;
  void *v84;
  void *v85;
  void *v86;
  void *v87;
  void *v88;
  int *v89;
  int *v90;
  int *v91;
  int *v92;
  uint64_t v93;
  int v94;
  uint64_t v95;
  std::logic_error v96;
  char v97;
  void *__p;
  char *v99;
  int *v100;
  char *v101;
  uint64_t v102;
  int v103;
  uint64_t v104;
  uint64_t v105;

  v105 = *MEMORY[0x1E0C80C00];
  v2 = *(uint64_t **)(a1 + 8);
  v3 = *v2;
  v4 = *(_QWORD *)(*v2 + 376);
  if (!v4)
  {
    v5 = 0.0;
    if (*(_BYTE *)(v3 + 1041))
      v5 = 1.0;
    *(float *)(v3 + 864) = v5;
    v3 = *v2;
    v4 = *(_QWORD *)(*v2 + 376);
  }
  v6 = 0x1EF12B000uLL;
  if (v4 > 2)
  {
    v7 = (_QWORD *)(v3 + 1048);
    v8 = *(_QWORD *)(v3 + 1048);
    v9 = *(_BYTE **)(v3 + 1056);
    v10 = *(_BYTE **)(v3 + 1080);
    if (&v9[-v8] == v10)
    {
      if (v9 != (_BYTE *)v8)
      {
        v11 = *(_BYTE **)(v3 + 1072);
        *v11 = *(_BYTE *)(v3 + 1041);
        v12 = v11 + 1;
        if (v12 == v9)
          v13 = (_BYTE *)v8;
        else
          v13 = v12;
        v7[2] = v13;
        v7[3] = v13;
      }
    }
    else
    {
      v14 = *(_BYTE **)(v3 + 1072);
      *v14 = *(_BYTE *)(v3 + 1041);
      v15 = v14 + 1;
      if (v15 == v9)
        v16 = (_BYTE *)v8;
      else
        v16 = v15;
      v7[3] = v16;
      v7[4] = v10 + 1;
    }
  }
  v17 = *(uint64_t **)(a1 + 8);
  v18 = *v17;
  v19 = 0x1EF12B000uLL;
  if (*(_BYTE *)(*v17 + 1041))
  {
    v20 = v18 + 1088;
    v21 = v18 + 976;
    v23 = *(_DWORD **)(v20 + 8);
    v22 = *(_DWORD **)(v20 + 16);
    v24 = v22 - v23;
    v25 = *(_QWORD *)(v20 + 40);
    if (v24 == v25)
    {
      if (v22 != v23)
      {
        v26 = *(_DWORD **)(v20 + 32);
        *v26 = *(_DWORD *)(v21 + 56);
        v27 = v26 + 1;
        if (v27 == v22)
          v28 = v23;
        else
          v28 = v27;
        *(_QWORD *)(v20 + 24) = v28;
        *(_QWORD *)(v20 + 32) = v28;
      }
      v29 = (float *)(v20 + 52);
      v30 = 1;
LABEL_31:
      v40 = **(float **)(v20 + 24);
      v41 = *(float *)(v21 + 56);
      if (v40 <= v41)
      {
        if (v40 >= v41)
        {
          v42 = *v29;
          goto LABEL_93;
        }
        v42 = *v29 + (float)((float)(v41 - v40) / (float)(unint64_t)(v24 - 1));
      }
      else
      {
        v42 = *v29 - (float)((float)(v40 - v41) / (float)(unint64_t)(v24 - 1));
      }
      goto LABEL_92;
    }
    v36 = *(_DWORD **)(v20 + 32);
    *v36 = *(_DWORD *)(v21 + 56);
    v37 = v36 + 1;
    if (v37 == v22)
      v38 = v23;
    else
      v38 = v37;
    v39 = v25 + 1;
    *(_QWORD *)(v20 + 32) = v38;
    *(_QWORD *)(v20 + 40) = v25 + 1;
    v29 = (float *)(v20 + 52);
    v30 = v24 == v39;
    if (v24 == v39)
      goto LABEL_31;
    v42 = *v29;
    v41 = *(float *)(v21 + 56);
    if (*v29 > v41)
    {
      v43 = v42 - v41;
      if (v39)
      {
        v44 = &v23[v39];
        if (*(_QWORD *)(v20 + 24))
        {
LABEL_88:
          v42 = v42 - (float)(v43 / (float)(unint64_t)(v44 - v23));
LABEL_92:
          *v29 = v42;
          v41 = *(float *)(v21 + 56);
LABEL_93:
          v64 = *(float *)(v20 + 56);
          v65 = *(float *)(v20 + 60) + (float)((float)(v41 - v42) * (float)(v41 - v64));
          *(float *)(v20 + 60) = v65;
          if (v30)
          {
            v66 = v65 - (float)((float)(**(float **)(v20 + 24) - v42) * (float)(**(float **)(v20 + 24) - v64));
            *(float *)(v20 + 60) = v66;
            if (v66 < 0.0)
              *(_DWORD *)(v20 + 60) = 0;
          }
          *(float *)(v20 + 56) = v42;
          goto LABEL_97;
        }
      }
      else
      {
        v44 = v23;
      }
      v23 += v39;
      goto LABEL_88;
    }
    if (*v29 >= v41)
      goto LABEL_93;
    v53 = v41 - v42;
    if (v39)
    {
      v54 = &v23[v39];
      if (*(_QWORD *)(v20 + 24))
      {
LABEL_91:
        v42 = v42 + (float)(v53 / (float)(unint64_t)(v54 - v23));
        goto LABEL_92;
      }
    }
    else
    {
      v54 = v23;
    }
    v23 += v39;
    goto LABEL_91;
  }
  sub_1B5689974((uint64_t)&v89, 5);
  v97 = 0;
  v31 = v93;
  v102 = v93;
  v32 = v89;
  v33 = v90;
  v34 = (char *)v90 - (char *)v89;
  if ((char *)v90 - (char *)v89 < 0)
  {
    std::logic_error::logic_error(&v96, "circular_buffer");
    v96.__vftable = (std::logic_error_vtbl *)(MEMORY[0x1E0DE5020] + 16);
    abort();
  }
  if (v90 == v89)
    v35 = 0;
  else
    v35 = (char *)operator new((char *)v90 - (char *)v89);
  __p = v35;
  v99 = &v35[4 * (v34 >> 2)];
  v100 = (int *)v35;
  v45 = v35;
  if (v31)
  {
    v46 = v91;
    v45 = v35;
    if (v91)
    {
      v47 = v92;
      v45 = v35;
      do
      {
        v48 = *v46++;
        *(_DWORD *)v45 = v48;
        v45 += 4;
        if (v46 == v33)
          v46 = v32;
      }
      while (v46 != v47 && v46 != 0);
    }
  }
  if (v45 == &v35[4 * (v34 >> 2)])
    v50 = v35;
  else
    v50 = v45;
  v101 = v50;
  v103 = v94;
  v104 = v95;
  v97 = 1;
  v51 = **(_QWORD **)(a1 + 8) + 1088;
  if (!*(_BYTE *)v51)
  {
    *(_QWORD *)(**(_QWORD **)(a1 + 8) + 1128) = v31;
    if (v33 == v32)
      v52 = 0;
    else
      v52 = operator new(v34);
    v55 = &v52[v34 >> 2];
    *(_QWORD *)(v51 + 8) = v52;
    *(_QWORD *)(v51 + 16) = v55;
    *(_QWORD *)(v51 + 24) = v52;
    v56 = v52;
    if (v102)
    {
      v57 = v100;
      v56 = v52;
      if (v100)
      {
        v59 = (int *)__p;
        v58 = v99;
        v56 = v52;
        do
        {
          v60 = *v57++;
          *v56++ = v60;
          if (v57 == (int *)v58)
            v57 = v59;
        }
        while (v57 != (int *)v50 && v57 != 0);
      }
    }
    if (v56 == v55)
      v62 = v52;
    else
      v62 = v56;
    *(_QWORD *)(v51 + 32) = v62;
    *(_DWORD *)(v51 + 52) = v103;
    *(_QWORD *)(v51 + 56) = v104;
    *(_BYTE *)v51 = 1;
    if (!v97)
      goto LABEL_83;
    goto LABEL_78;
  }
  sub_1B5689A7C((void **)(**(_QWORD **)(a1 + 8) + 1096), &__p);
  *(_DWORD *)(v51 + 52) = v103;
  *(_QWORD *)(v51 + 56) = v104;
  if (v97)
  {
LABEL_78:
    v63 = (unint64_t)(v99 - (_BYTE *)__p) >> 2;
    if (v102 < (v99 - (char *)v100) >> 2)
      v63 = 0;
    v100 += v102 - v63;
    if (__p)
      operator delete(__p);
    v97 = 0;
  }
LABEL_83:
  if (v32)
    operator delete(v32);
  v19 = 0x1EF12B000;
  v6 = 0x1EF12B000;
LABEL_97:
  v67 = **(_QWORD **)(a1 + 8);
  v68 = (_QWORD *)(v67 + *(int *)(v6 + 2968));
  v69 = (_BYTE *)v68[1];
  v70 = (_BYTE *)v68[4];
  if (&v69[-*v68] == v70)
  {
    v71 = *(_QWORD *)(v67 + 1128);
    if (v71)
    {
      v72 = *(_QWORD *)(v67 + 1096);
      v73 = v72 + 4 * v71;
      v74 = v72;
      if (*(_QWORD *)(v67 + 1112))
      {
LABEL_103:
        v75 = ((v73 - v74) >> 2) - (v71 == (*(_QWORD *)(v67 + 1104) - v72) >> 2);
        if (v75 >= 2 && (float)(*(float *)(v67 + 1148) / (float)(v75 - 1)) > 0.0049)
          goto LABEL_105;
        goto LABEL_106;
      }
    }
    else
    {
      v72 = *(_QWORD *)(v67 + 1096);
      v73 = v72;
    }
    v74 = v72 + 4 * v71;
    goto LABEL_103;
  }
LABEL_106:
  if (!v70)
    goto LABEL_117;
  v79 = (_BYTE *)v68[2];
  if (!v79)
    goto LABEL_117;
  while (*v79)
  {
    if (v79 + 1 == v69)
      v79 = (_BYTE *)*v68;
    else
      ++v79;
    if (v79)
      v80 = v79 == (_BYTE *)v68[3];
    else
      v80 = 1;
    if (v80)
      goto LABEL_117;
  }
LABEL_105:
  v76 = *(_QWORD *)(v67 + 376);
  v77 = objc_msgSend(*(id *)(v67 + 48), "proxyToFaceEffectLerpNumFrames");
  v78 = *(uint64_t **)(a1 + 8);
  *(_QWORD *)(*v78 + 384) = v77 + v76;
  v67 = *v78;
LABEL_117:
  if (*(_QWORD *)(v67 + 376) >= *(_QWORD *)(v67 + 384))
  {
    *(_QWORD *)(v67 + 384) = 0;
  }
  else
  {
    v81 = v67 + *(int *)(v19 + 3028);
    v82 = *(void **)v81;
    *(_QWORD *)v81 = 0;

    v83 = *(void **)(v81 + 8);
    *(_QWORD *)(v81 + 8) = 0;

    v84 = *(void **)(v81 + 16);
    *(_QWORD *)(v81 + 16) = 0;

    v85 = *(void **)(v81 + 24);
    *(_QWORD *)(v81 + 24) = 0;

    v86 = *(void **)(v81 + 32);
    *(_QWORD *)(v81 + 32) = 0;

    v87 = *(void **)(v81 + 40);
    *(_QWORD *)(v81 + 40) = 0;

    v88 = *(void **)(v81 + 48);
    *(_QWORD *)(v81 + 48) = 0;

    *(_DWORD *)(v81 + 56) = 0;
    *(_BYTE *)(**(_QWORD **)(a1 + 8) + 1040) = 0;
  }
}

void sub_1B5689974(uint64_t a1, int a2)
{
  uint64_t v3;
  void *v4;
  char *v5;
  std::logic_error v6;

  if (a2 <= -2)
  {
    std::logic_error::logic_error(&v6, "circular_buffer");
    v6.__vftable = (std::logic_error_vtbl *)(MEMORY[0x1E0DE5020] + 16);
    abort();
  }
  v3 = a2 + 1;
  if (a2 == -1)
  {
    v4 = 0;
    v5 = 0;
    *(_QWORD *)(a1 + 32) = 0;
  }
  else
  {
    v4 = operator new(4 * (a2 + 1));
    *(_QWORD *)(a1 + 32) = 0;
    v5 = (char *)operator new(4 * v3);
  }
  *(_QWORD *)a1 = v5;
  *(_QWORD *)(a1 + 8) = &v5[4 * v3];
  *(_QWORD *)(a1 + 16) = v5;
  *(_QWORD *)(a1 + 24) = v5;
  *(_DWORD *)(a1 + 44) = 0;
  *(_QWORD *)(a1 + 48) = 0;
  if (v4)
    operator delete(v4);
}

void sub_1B5689A54(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_list va;

  va_start(va, a2);
  sub_1B5689BC0((uint64_t)va);
  _Unwind_Resume(a1);
}

void **sub_1B5689A7C(void **a1, void **a2)
{
  char *v4;
  char *v5;
  uint64_t v6;
  char *v7;
  char *v8;
  int *v9;
  int *v10;
  int v11;
  uint64_t v13;
  _BYTE *v14;
  _BYTE *v15;
  uint64_t v16;
  void *v17;
  uint64_t v18;
  unint64_t v19;
  char *v20;
  char *v21;
  std::logic_error v23;

  if (a1 != a2)
  {
    v5 = (char *)*a2;
    v4 = (char *)a2[1];
    v6 = v4 - (_BYTE *)*a2;
    if (v6 < 0)
    {
      std::logic_error::logic_error(&v23, "circular_buffer");
      v23.__vftable = (std::logic_error_vtbl *)(MEMORY[0x1E0DE5020] + 16);
      abort();
    }
    if (v4 == v5)
      v7 = 0;
    else
      v7 = (char *)operator new(v4 - (_BYTE *)*a2);
    v8 = v7;
    if (a2[4])
    {
      v9 = (int *)a2[2];
      v8 = v7;
      if (v9)
      {
        v10 = (int *)a2[3];
        v8 = v7;
        do
        {
          v11 = *v9++;
          *(_DWORD *)v8 = v11;
          v8 += 4;
          if (v9 == (int *)v4)
            v9 = (int *)v5;
        }
        while (v9 != v10 && v9 != 0);
      }
    }
    v13 = v6 >> 2;
    v15 = a1[1];
    v14 = a1[2];
    v16 = (uint64_t)a1[4];
    v17 = *a1;
    v18 = v15 - v14;
    v19 = (unint64_t)(v15 - (_BYTE *)*a1) >> 2;
    if (v16 < v18 >> 2)
      v19 = 0;
    a1[2] = &v14[4 * (v16 - v19)];
    if (v17)
      operator delete(v17);
    v20 = &v7[4 * v13];
    *a1 = v7;
    a1[1] = v20;
    if (v20 == v8)
      v21 = v7;
    else
      v21 = v8;
    a1[2] = v7;
    a1[3] = v21;
    a1[4] = (void *)((v8 - v7) >> 2);
  }
  return a1;
}

uint64_t sub_1B5689BC0(uint64_t a1)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;

  v3 = *(_QWORD *)(a1 + 8);
  v2 = *(_QWORD *)(a1 + 16);
  v4 = *(_QWORD *)(a1 + 32);
  v5 = *(void **)a1;
  v6 = v3 - v2;
  v7 = (unint64_t)(v3 - (_QWORD)v5) >> 2;
  if (v4 < v6 >> 2)
    v7 = 0;
  *(_QWORD *)(a1 + 16) = v2 + 4 * (v4 - v7);
  if (v5)
    operator delete(v5);
  return a1;
}

void sub_1B5689C14(int a1, void *a2)
{
  free(a2);
}

uint64_t sub_1B5689C1C(uint64_t a1)
{
  uint64_t v2;
  uint64_t v3;
  uint64_t v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;

  if (*(_BYTE *)a1)
  {
    v3 = *(_QWORD *)(a1 + 16);
    v2 = *(_QWORD *)(a1 + 24);
    v4 = *(_QWORD *)(a1 + 40);
    v5 = *(void **)(a1 + 8);
    v6 = v3 - v2;
    v7 = (unint64_t)(v3 - (_QWORD)v5) >> 2;
    if (v4 < v6 >> 2)
      v7 = 0;
    *(_QWORD *)(a1 + 24) = v2 + 4 * (v4 - v7);
    if (v5)
      operator delete(v5);
    *(_BYTE *)a1 = 0;
  }
  return a1;
}

void **sub_1B5689C7C(void **a1)
{
  char *v2;
  char *v3;
  void *v4;
  void *v5;

  v2 = (char *)*a1;
  if (*a1)
  {
    v3 = (char *)a1[1];
    v4 = *a1;
    if (v3 != v2)
    {
      do
      {
        v5 = (void *)*((_QWORD *)v3 - 1);
        v3 -= 8;

      }
      while (v3 != v2);
      v4 = *a1;
    }
    a1[1] = v2;
    operator delete(v4);
  }
  return a1;
}

uint64_t sub_1B5689CD8(uint64_t a1)
{

  return a1;
}

void sub_1B5689D08(uint64_t a1@<X0>, __CVBuffer *a2@<X1>, int a3@<W2>, _QWORD *a4@<X3>, uint64_t a5@<X8>, float a6@<S0>)
{
  __CFString *v12;
  __CFString *v13;
  void *v14;
  const __CFString *v15;
  float v16;
  float v17;
  float v18;
  int Width;
  int Height;
  float v21;
  float v22;
  float v23;
  float v24;
  int v25;
  float v26;
  int v27;
  float v28;
  unsigned int v29;
  unsigned int v30;
  unsigned int v31;
  int v32;
  unint64_t i;
  float v34;
  int v35;
  int v36;
  signed int v37;
  int v38;
  double v39;
  double v40;
  double v41;
  double v42;
  int v43;
  float *v44;
  float v45;
  float v46;
  unsigned int v47;
  float v48;
  void *v49;
  char *v50;
  size_t v51;
  float v52;
  uint64_t v53;
  float *v54;
  float *v55;
  unint64_t v56;
  float v57;
  unint64_t v60;
  char *BaseAddress;
  size_t BytesPerRow;
  uint64_t v63;
  unint64_t v64;
  float *v65;
  float *v66;
  unint64_t v67;
  float v68;
  float v69;
  uint64_t v70;
  double v71;
  float v72;
  uint64_t j;
  unint64_t k;
  char *v75;
  size_t v76;
  int32x2_t v77;
  uint64_t v78;
  unint64_t v79;
  size_t v80;
  float32x4_t *v81;
  char *v82;
  float32x4_t v83;
  float32x4_t *v84;
  float32x4_t v85;
  int8x16_t v86;
  unint64_t v87;
  int32x4_t v88;
  int32x4_t v89;
  float32x4_t *v90;
  unint64_t v91;
  float32x4_t v92;
  int32x4_t v93;
  int32x4_t v94;
  int8x16_t v95;
  int8x16_t v96;
  unint64_t v97;
  float *v98;
  float v99;
  float v100;
  float v101;
  _BYTE *v102;
  _BYTE *v103;
  size_t v104;
  void *v105;
  float32x4_t *v106;
  float32x4_t *v107;
  float *f32;
  float32x4_t v109;
  int8x16_t v110;
  int32x4_t v111;
  int32x4_t v112;
  float32x4_t *v113;
  unint64_t v114;
  float32x4_t v115;
  int8x16_t v116;
  int8x16_t v117;
  int8x16_t v118;
  int8x16_t v119;
  float *v120;
  unint64_t v121;
  float v122;
  float v123;
  _QWORD *v124;
  int v125;
  __int128 *v126;
  __int128 *v127;
  uint64_t (***v128)();
  _QWORD *v129;
  uint64_t v130;
  uint64_t (**v131)();
  uint64_t v132;
  unsigned int v133;
  unsigned int v134;
  _QWORD *v135;
  uint64_t v136;
  uint64_t (***v137)();
  uint64_t v138;
  float *v139;
  float *v140;
  float v141;
  float *v142;
  float v143;
  float *v144;
  float *m;
  float v146;
  float *v147;
  float v148;
  float v149;
  float v150;
  float v151;
  int v152;
  _DWORD *v153;
  unint64_t v154;
  char *v155;
  _DWORD *v156;
  char *v157;
  uint64_t v158;
  unint64_t v159;
  uint64_t v160;
  unint64_t v161;
  _BYTE *v162;
  _DWORD *v163;
  unint64_t v164;
  uint64_t v165;
  _OWORD *v166;
  char *v167;
  uint64_t v168;
  __int128 v169;
  int v170;
  unint64_t v171;
  char *v172;
  char *v173;
  uint64_t v174;
  unint64_t v175;
  uint64_t v176;
  unint64_t v177;
  _BYTE *v178;
  _DWORD *v179;
  unint64_t v180;
  uint64_t v181;
  _OWORD *v182;
  char *v183;
  uint64_t v184;
  __int128 v185;
  int v186;
  int v187;
  int v188;
  float v189;
  int v190;
  uint64_t v191;
  float v192;
  _BYTE *v193;
  _BYTE *v194;
  size_t v195;
  _BYTE *v196;
  _BYTE *v197;
  size_t v198;
  void *v199;
  void *v200;
  _BYTE *v201;
  _BYTE *v202;
  int64_t v203;
  char *v204;
  char *v205;
  _BYTE *v206;
  _BYTE *v207;
  int64_t v208;
  char *v209;
  char *v210;
  _BYTE *v211;
  int v212;
  _QWORD *v213;
  float *v214;
  float *v215;
  uint64_t v216;
  float v217;
  float v218;
  float v219;
  __CVBuffer *v220;
  float **v221;
  __int128 v222;
  _QWORD v223[3];
  _QWORD *v224;
  float v225;
  _QWORD v226[3];
  uint64_t (***v227)();
  uint64_t v228;

  v228 = *MEMORY[0x1E0C80C00];
  if (sub_1B568AFE8())
  {
    if (*(_DWORD *)(a1 + 80))
      v12 = CFSTR("FOCUSMODE_REGION, ");
    else
      v12 = CFSTR("FOCUSMODE_GLOBAL_DISPARITY_HISTOGRAM, ");
    v13 = v12;
    -[__CFString stringByAppendingString:](v13, "stringByAppendingString:", *(&off_1E6936E10 + *(unsigned int *)(a1 + 104)));
    v14 = (void *)objc_claimAutoreleasedReturnValue();

    v15 = CFSTR("no");
    if (a3)
      v15 = CFSTR("yes");
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("facesArray.len=%ld, useFaceAsFocus=%@"), (uint64_t)(a4[1] - *a4) >> 4, v15);

  }
  if (!*(_DWORD *)(a1 + 80))
  {
    for (i = 0; i != 256; ++i)
    {
      if (*(float *)(a1 + 4 * i + 116) > 0.85)
        break;
    }
    v34 = *(float *)(a1 + 1152)
        + (float)((float)((float)i * 0.0039062) * (float)(*(float *)(a1 + 1156) - *(float *)(a1 + 1152)));
    if (*(float *)a1 < 2048.0)
      v34 = *(float *)a1 + (float)((float)(v34 - *(float *)a1) * 0.2);
    *(float *)a1 = v34;
    goto LABEL_254;
  }
  v212 = a3;
  v213 = a4;
  if (sub_1B568AFE8())
  {
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("input._foregroundPercentile = %d%%"), (int)(float)(*(float *)(a1 + 1148) * 100.0));

  }
  v16 = *(float *)(a1 + 1148);
  v17 = *(float *)(a1 + 1152);
  v18 = *(float *)(a1 + 1156);
  Width = CVPixelBufferGetWidth(a2);
  Height = CVPixelBufferGetHeight(a2);
  v21 = *(float *)(a1 + 84);
  v22 = *(float *)(a1 + 88);
  v23 = *(float *)(a1 + 92);
  v24 = (float)Width;
  v25 = (int)(float)(v21 * (float)Width);
  v26 = (float)Height;
  v27 = (int)(float)(v22 * (float)Height);
  if (v23 <= 0.0 || (v28 = *(float *)(a1 + 96), v28 <= 0.0))
  {
    v35 = Height + Width;
    if (Height + Width < 0 != __OFADD__(Height, Width))
      ++v35;
    v36 = (int)((double)(v35 >> 1) * 0.1);
    v29 = (v25 - v36) & ~((v25 - v36) >> 31);
    v37 = v36 + v25;
    if (v37 >= Width)
      v30 = Width;
    else
      v30 = v37;
    v31 = (v27 - v36) & ~((v27 - v36) >> 31);
    v38 = v36 + v27;
    if (v38 >= Height)
      v32 = Height;
    else
      v32 = v38;
    v21 = (float)(int)v29 / v24;
    v22 = (float)(int)v31 / v26;
    v23 = (float)((float)(int)v29 + (float)(int)v30) / v24;
    v28 = (float)((float)(int)v31 + (float)v32) / v26;
  }
  else
  {
    v29 = v25 & ~(v25 >> 31);
    if ((int)(float)((float)(v21 + v23) * v24) >= Width)
      v30 = Width;
    else
      v30 = (int)(float)((float)(v21 + v23) * v24);
    v31 = v27 & ~(v27 >> 31);
    if ((int)(float)((float)(v22 + v28) * v26) >= Height)
      v32 = Height;
    else
      v32 = (int)(float)((float)(v22 + v28) * v26);
  }
  v39 = v28;
  v40 = v23;
  v41 = v22;
  v42 = v21;
  v43 = *(_DWORD *)(a1 + 104);
  if (v43 != 2)
  {
    if (!*(_BYTE *)(a1 + 1216))
    {
      sub_1B568AFE8();
      CVPixelBufferLockBaseAddress(a2, 1uLL);
      BaseAddress = (char *)CVPixelBufferGetBaseAddress(a2);
      CVPixelBufferGetHeight(a2);
      CVPixelBufferGetWidth(a2);
      BytesPerRow = CVPixelBufferGetBytesPerRow(a2);
      v47 = 0;
      v46 = 0.0;
      if ((int)v31 < v32 && (int)v29 < (int)v30)
      {
        v63 = v31;
        v64 = v30 - (unint64_t)v29;
        if (v64 >= 8)
        {
          v47 = 0;
          v106 = (float32x4_t *)&BaseAddress[4 * v29 + BytesPerRow * v31];
          v107 = v106 + 1;
          f32 = v106[2 * (v64 >> 3)].f32;
          v109.i64[0] = 0x4500000045000000;
          v109.i64[1] = 0x4500000045000000;
          v110.i64[0] = 0x8000000080000000;
          v110.i64[1] = 0x8000000080000000;
          do
          {
            v111 = 0uLL;
            v112 = (int32x4_t)v47;
            v113 = v107;
            v114 = v64 & 0xFFFFFFFFFFFFFFF8;
            do
            {
              v115 = v113[-1];
              v116 = (int8x16_t)vcgeq_f32(v115, v109);
              v117 = (int8x16_t)vcgeq_f32(*v113, v109);
              v112 = vsubq_s32(v112, (int32x4_t)vmvnq_s8(v116));
              v111 = vsubq_s32(v111, (int32x4_t)vmvnq_s8(v117));
              v118 = vbslq_s8(v116, v110, (int8x16_t)v115);
              v119 = vbslq_s8(v117, v110, *(int8x16_t *)v113);
              v46 = (float)((float)((float)((float)((float)((float)((float)(v46 + *(float *)v118.i32)
                                                                  + *(float *)&v118.i32[1])
                                                          + *(float *)&v118.i32[2])
                                                  + *(float *)&v118.i32[3])
                                          + *(float *)v119.i32)
                                  + *(float *)&v119.i32[1])
                          + *(float *)&v119.i32[2])
                  + *(float *)&v119.i32[3];
              v113 += 2;
              v114 -= 8;
            }
            while (v114);
            v47 = vaddvq_s32(vaddq_s32(v111, v112));
            if (v64 != (v64 & 0xFFFFFFFFFFFFFFF8))
            {
              v120 = f32;
              v121 = v64 - (v64 & 0xFFFFFFFFFFFFFFF8);
              do
              {
                v122 = *v120++;
                v123 = v122;
                if (v122 >= 2048.0)
                  v123 = -0.0;
                else
                  ++v47;
                v46 = v46 + v123;
                --v121;
              }
              while (v121);
            }
            ++v63;
            v107 = (float32x4_t *)((char *)v107 + BytesPerRow);
            f32 = (float *)((char *)f32 + BytesPerRow);
          }
          while (v63 != v32);
        }
        else
        {
          v47 = 0;
          v65 = (float *)&BaseAddress[4 * v29 + BytesPerRow * v31];
          do
          {
            v66 = v65;
            v67 = v30 - (unint64_t)v29;
            do
            {
              v68 = *v66++;
              v69 = v68;
              if (v68 >= 2048.0)
                v69 = -0.0;
              else
                ++v47;
              v46 = v46 + v69;
              --v67;
            }
            while (v67);
            ++v63;
            v65 = (float *)((char *)v65 + BytesPerRow);
          }
          while (v63 != v32);
        }
      }
      goto LABEL_111;
    }
    if (v43 == 1)
    {
      sub_1B568F4E8((uint64_t)a2, v42, v41, v40, v39);
      v46 = v48;
      if (sub_1B568AFE8())
      {
        objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Portrait.framework focus dist, gray rect: %f (N/A)"), v46);
        v49 = (void *)objc_claimAutoreleasedReturnValue();
LABEL_95:

      }
    }
    else
    {
      sub_1B568F624((uint64_t)a2, a1 + 1220, v42, v41, v40, v39);
      v46 = v101;
      if (sub_1B568AFE8())
      {
        objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Portrait.framework focus dist, gray rect: %f (%f)"), v46, *(float *)(a1 + 1220));
        v49 = (void *)objc_claimAutoreleasedReturnValue();
        goto LABEL_95;
      }
    }
    v47 = 0;
    *(float *)(a1 + 1220) = v46;
    goto LABEL_112;
  }
  if (!*(_BYTE *)(a1 + 1216))
  {
    if (sub_1B568AFE8())
    {
      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("p%d%% of white region"), (int)(float)(v16 * 100.0));

    }
    bzero(v223, 0x400uLL);
    CVPixelBufferLockBaseAddress(a2, 1uLL);
    v50 = (char *)CVPixelBufferGetBaseAddress(a2);
    CVPixelBufferGetHeight(a2);
    CVPixelBufferGetWidth(a2);
    v51 = CVPixelBufferGetBytesPerRow(a2);
    v52 = v18 - v17;
    if ((int)v31 < v32 && (int)v29 < (int)v30)
    {
      v53 = v31;
      v54 = (float *)&v50[4 * v29 + v51 * v31];
      do
      {
        v55 = v54;
        v56 = v30 - (unint64_t)v29;
        do
        {
          v57 = *v55;
          if (*v55 < 2048.0 && v57 >= v17 && v57 < v18)
          {
            v60 = 4 * (unint64_t)(float)((float)((float)(v57 - v17) * 256.0) / v52);
            *(float *)((char *)v223 + v60) = *(float *)((char *)v223 + v60) + 1.0;
          }
          ++v55;
          --v56;
        }
        while (v56);
        ++v53;
        v54 = (float *)((char *)v54 + v51);
      }
      while (v53 != v32);
    }
    CVPixelBufferUnlockBaseAddress(a2, 1uLL);
    v70 = 0;
    v225 = 0.00000011921;
    v71 = 3.18618444e-58;
    do
    {
      *(float *)&v71 = *(float *)&v71 + *(float *)((char *)v223 + v70);
      v225 = *(float *)&v71;
      v70 += 4;
    }
    while (v70 != 1024);
    v72 = *(float *)v223 / *(float *)&v71;
    *(float *)v223 = v72;
    for (j = 4; j != 1024; j += 4)
    {
      v72 = v72 + (float)(*(float *)((char *)v223 + j) / v225);
      *(float *)((char *)v223 + j) = v72;
    }
    *(float *)&v71 = v225;
    if (v225 <= 0.00000011921)
    {
      syslog(7, "Face percentile failed: bad data?", v71);
      v103 = *(_BYTE **)(a1 + 24);
      v102 = *(_BYTE **)(a1 + 32);
      v104 = v102 - v103;
      if (v102 == v103)
      {
        v105 = 0;
      }
      else
      {
        if ((v104 & 0x8000000000000000) != 0)
          abort();
        v105 = operator new(v102 - v103);
        memcpy(v105, v103, v104);
      }
      v197 = *(_BYTE **)(a1 + 48);
      v211 = *(_BYTE **)(a1 + 56);
      v198 = v211 - v197;
      if (v211 == v197)
        goto LABEL_252;
      if ((v198 & 0x8000000000000000) != 0)
        abort();
      v199 = operator new(v211 - v197);
      goto LABEL_251;
    }
    for (k = 0; k != 256; ++k)
    {
      if (*((float *)v223 + k) > v16)
        break;
    }
    CVPixelBufferLockBaseAddress(a2, 1uLL);
    v75 = (char *)CVPixelBufferGetBaseAddress(a2);
    CVPixelBufferGetHeight(a2);
    CVPixelBufferGetWidth(a2);
    v76 = CVPixelBufferGetBytesPerRow(a2);
    v47 = 0;
    v46 = 0.0;
    if ((int)v31 < v32 && (int)v29 < (int)v30)
    {
      v47 = 0;
      *(float *)v77.i32 = v17 + (float)((float)((float)k * 0.0039062) * v52);
      v78 = v31;
      v79 = v30 - (unint64_t)v29;
      v80 = v76 * v31;
      v81 = (float32x4_t *)&v75[4 * v29 + v80];
      v82 = &v75[v80];
      v83 = (float32x4_t)vdupq_lane_s32(v77, 0);
      v84 = v81 + 1;
      v85.i64[0] = 0x4500000045000000;
      v85.i64[1] = 0x4500000045000000;
      v86.i64[0] = 0x8000000080000000;
      v86.i64[1] = 0x8000000080000000;
      while (v79 >= 8)
      {
        v88 = 0uLL;
        v89 = (int32x4_t)v47;
        v90 = v84;
        v91 = v79 & 0xFFFFFFFFFFFFFFF8;
        do
        {
          v92 = v90[-1];
          v93 = (int32x4_t)vbicq_s8((int8x16_t)vcgeq_f32(v92, v83), (int8x16_t)vcgeq_f32(v92, v85));
          v94 = (int32x4_t)vbicq_s8((int8x16_t)vcgeq_f32(*v90, v83), (int8x16_t)vcgeq_f32(*v90, v85));
          v89 = vsubq_s32(v89, v93);
          v88 = vsubq_s32(v88, v94);
          v95 = vbslq_s8((int8x16_t)v93, (int8x16_t)v92, v86);
          v96 = vbslq_s8((int8x16_t)v94, *(int8x16_t *)v90, v86);
          v46 = (float)((float)((float)((float)((float)((float)((float)(v46 + *(float *)v95.i32) + *(float *)&v95.i32[1])
                                                      + *(float *)&v95.i32[2])
                                              + *(float *)&v95.i32[3])
                                      + *(float *)v96.i32)
                              + *(float *)&v96.i32[1])
                      + *(float *)&v96.i32[2])
              + *(float *)&v96.i32[3];
          v90 += 2;
          v91 -= 8;
        }
        while (v91);
        v47 = vaddvq_s32(vaddq_s32(v88, v89));
        v87 = (v79 & 0xFFFFFFFFFFFFFFF8) + v29;
        if (v79 != (v79 & 0xFFFFFFFFFFFFFFF8))
          goto LABEL_88;
LABEL_82:
        ++v78;
        v84 = (float32x4_t *)((char *)v84 + v76);
        v82 += v76;
        if (v78 == v32)
          goto LABEL_111;
      }
      v87 = v29;
LABEL_88:
      v97 = v30 - v87;
      v98 = (float *)&v82[4 * v87];
      do
      {
        v99 = *v98++;
        v100 = v99;
        v47 += v99 < 2048.0 && v99 >= *(float *)v77.i32;
        if (v99 >= 2048.0 || v99 < *(float *)v77.i32)
          v100 = -0.0;
        v46 = v46 + v100;
        --v97;
      }
      while (v97);
      goto LABEL_82;
    }
LABEL_111:
    CVPixelBufferUnlockBaseAddress(a2, 1uLL);
    goto LABEL_112;
  }
  v44 = (float *)(a1 + 1220);
  sub_1B568F624((uint64_t)a2, a1 + 1220, v42, v41, v40, v39);
  v46 = v45;
  if (sub_1B568AFE8())
  {
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Portrait.framework focus dist (gray rect: %f (%f)"), v46, *v44);

  }
  v47 = 0;
  *v44 = v46;
LABEL_112:
  v124 = v213;
  v125 = *(unsigned __int8 *)(a1 + 1216);
  if (!*(_BYTE *)(a1 + 1216))
  {
    if (v47)
      v46 = v46 / (float)(int)v47;
    else
      v46 = *(float *)a1;
  }
  *(_DWORD *)(a1 + 1144) = 1157627904;
  *(_QWORD *)(a1 + 32) = *(_QWORD *)(a1 + 24);
  *(_QWORD *)(a1 + 56) = *(_QWORD *)(a1 + 48);
  v126 = (__int128 *)*v213;
  v127 = (__int128 *)v213[1];
  if (v127 == (__int128 *)*v213)
  {
LABEL_228:
    if (v124[1] == *v124)
    {
      v188 = *(_DWORD *)(a1 + 72);
      if (*(_DWORD *)(a1 + 112) >= v188 + 1)
        v187 = v188 + 1;
      else
        v187 = *(_DWORD *)(a1 + 112);
    }
    else
    {
      v187 = 0;
    }
    *(_DWORD *)(a1 + 72) = v187;
    if (sub_1B568AFE8())
    {
      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("maxFramesWithoutFace = %d"), *(unsigned int *)(a1 + 112));

      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("framesWithoutFace = %d"), *(unsigned int *)(a1 + 72));
    }
    v189 = *(float *)a1;
    if (*(float *)a1 >= 2048.0)
    {
      v191 = a1 + 84;
    }
    else
    {
      v190 = *(_DWORD *)(a1 + 72);
      v191 = a1 + 84;
      if (v190 >= 1 && v190 < *(_DWORD *)(a1 + 112))
        goto LABEL_244;
      v192 = *(float *)(a1 + 108);
      if (*(_BYTE *)(a1 + 1216) && v46 < v189)
      {
        v192 = v192 * 0.1;
        *(float *)(a1 + 108) = v192;
      }
      v46 = v189 + (float)((float)(v46 - v189) * v192);
    }
    *(float *)a1 = v46;
LABEL_244:
    *(_QWORD *)v191 = 0;
    *(_QWORD *)(v191 + 8) = 0;
    *(_DWORD *)(v191 + 24) = 0;
    *(_QWORD *)(v191 + 16) = 0;
    v194 = *(_BYTE **)(a1 + 24);
    v193 = *(_BYTE **)(a1 + 32);
    v195 = v193 - v194;
    if (v193 == v194)
    {
      v105 = 0;
    }
    else
    {
      if ((v195 & 0x8000000000000000) != 0)
        abort();
      v105 = operator new(v193 - v194);
      memcpy(v105, v194, v195);
    }
    v197 = *(_BYTE **)(a1 + 48);
    v196 = *(_BYTE **)(a1 + 56);
    v198 = v196 - v197;
    if (v196 == v197)
      goto LABEL_252;
    if ((v198 & 0x8000000000000000) != 0)
      abort();
    v199 = operator new(v196 - v197);
LABEL_251:
    v200 = v199;
    memcpy(v199, v197, v198);
    operator delete(v200);
LABEL_252:
    if (v105)
      operator delete(v105);
LABEL_254:
    *(_OWORD *)a5 = *(_OWORD *)a1;
    *(_DWORD *)(a5 + 16) = *(_DWORD *)(a1 + 16);
    *(_QWORD *)(a5 + 32) = 0;
    *(_QWORD *)(a5 + 40) = 0;
    *(_QWORD *)(a5 + 24) = 0;
    v202 = *(_BYTE **)(a1 + 24);
    v201 = *(_BYTE **)(a1 + 32);
    v203 = v201 - v202;
    if (v201 != v202)
    {
      if (v203 < 0)
        abort();
      v204 = (char *)operator new(v201 - v202);
      *(_QWORD *)(a5 + 24) = v204;
      v205 = &v204[4 * (v203 >> 2)];
      *(_QWORD *)(a5 + 40) = v205;
      memcpy(v204, v202, v203);
      *(_QWORD *)(a5 + 32) = v205;
    }
    *(_QWORD *)(a5 + 48) = 0;
    *(_QWORD *)(a5 + 56) = 0;
    *(_QWORD *)(a5 + 64) = 0;
    v207 = *(_BYTE **)(a1 + 48);
    v206 = *(_BYTE **)(a1 + 56);
    v208 = v206 - v207;
    if (v206 != v207)
    {
      if (v208 < 0)
        abort();
      v209 = (char *)operator new(v206 - v207);
      *(_QWORD *)(a5 + 48) = v209;
      v210 = &v209[4 * (v208 >> 2)];
      *(_QWORD *)(a5 + 64) = v210;
      memcpy(v209, v207, v208);
      *(_QWORD *)(a5 + 56) = v210;
    }
    *(_DWORD *)(a5 + 72) = *(_DWORD *)(a1 + 72);
    return;
  }
  v220 = a2;
  v218 = v17;
  v219 = v16;
  v217 = v18;
  v128 = (uint64_t (***)())operator new(0x28uLL);
  *v128 = &off_1E6936920;
  v128[1] = (uint64_t (**)())&v220;
  v128[2] = (uint64_t (**)())&v218;
  v128[3] = (uint64_t (**)())&v217;
  v128[4] = (uint64_t (**)())&v219;
  v227 = v128;
  if (!v125)
  {
    v214 = 0;
    v215 = 0;
    v131 = &off_1E6936920;
    v216 = 0;
LABEL_127:
    v132 = v131[2]();
    goto LABEL_128;
  }
  v223[0] = &off_1E69368D8;
  v223[1] = &v220;
  v223[2] = a1;
  v224 = v223;
  sub_1B568B08C(v223, v226);
  v129 = v224;
  if (v224 == v223)
  {
    v130 = 4;
    v129 = v223;
  }
  else
  {
    if (!v224)
      goto LABEL_124;
    v130 = 5;
  }
  (*(void (**)(void))(*v129 + 8 * v130))();
LABEL_124:
  v132 = (uint64_t)v227;
  v215 = 0;
  v216 = 0;
  v214 = 0;
  v126 = (__int128 *)*v213;
  v127 = (__int128 *)v213[1];
  if (!v227)
  {
LABEL_128:
    v224 = (_QWORD *)v132;
    goto LABEL_129;
  }
  if (v227 != v226)
  {
    v131 = *v227;
    goto LABEL_127;
  }
  v224 = v223;
  (*(void (**)(_QWORD *, _QWORD *))(v226[0] + 24))(v226, v223);
LABEL_129:
  v221 = &v214;
  if (v126 == v127)
  {
LABEL_132:
    v135 = v224;
    if (v224 == v223)
    {
      v136 = 4;
      v135 = v223;
    }
    else
    {
      if (!v224)
        goto LABEL_137;
      v136 = 5;
    }
    (*(void (**)(void))(*v135 + 8 * v136))();
LABEL_137:
    v137 = v227;
    if (v227 == v226)
    {
      v138 = 4;
      v137 = (uint64_t (***)())v226;
    }
    else
    {
      if (!v227)
      {
LABEL_142:
        v140 = v214;
        v139 = v215;
        if (v214 == v215)
          goto LABEL_165;
        v141 = 0.0;
        v142 = v214;
        do
        {
          if (v142[2] > v141)
            v141 = v142[2];
          v142 += 3;
        }
        while (v142 != v215);
        v143 = (float)(v141 * a6) + -0.00000011921;
        v144 = v214;
        while (v144[2] >= v143)
        {
          v144 += 3;
          if (v144 == v215)
          {
            v144 = v215;
            goto LABEL_157;
          }
        }
        if (v144 != v215)
        {
          for (m = v144 + 3; m != v139; m += 3)
          {
            if (m[2] >= v143)
            {
              *v144 = *m;
              v144[1] = m[1];
              v144[2] = m[2];
              v144 += 3;
            }
          }
        }
LABEL_157:
        if (v140 == v144)
        {
LABEL_165:
          v151 = *(float *)(a1 + 1144);
          if (v151 < 2048.0)
          {
            v124 = v213;
            v152 = v212;
            if (v151 > 3.4028e38)
            {
              *(_DWORD *)(a1 + 1144) = 2139095039;
              v151 = 3.4028e38;
            }
            goto LABEL_217;
          }
          *(_DWORD *)(a1 + 1144) = 1157627904;
          v151 = 2048.0;
        }
        else
        {
          v146 = 3.4028e38;
          v147 = v140;
          do
          {
            v148 = *v147;
            v147 += 3;
            v149 = v148;
            if (v148 < v146)
              v146 = v149;
          }
          while (v147 != v144);
          v150 = *(float *)(a1 + 1144);
          if (v150 >= 2048.0)
          {
            if (v146 > 1.7014e38)
              v146 = 2048.0;
          }
          else if (v146 >= v150)
          {
            goto LABEL_174;
          }
          *(float *)(a1 + 1144) = v146;
          do
          {
LABEL_174:
            v155 = *(char **)(a1 + 32);
            v154 = *(_QWORD *)(a1 + 40);
            if ((unint64_t)v155 >= v154)
            {
              v157 = *(char **)(a1 + 24);
              v158 = (v155 - v157) >> 2;
              v159 = v158 + 1;
              if ((unint64_t)(v158 + 1) >> 62)
                goto LABEL_266;
              v160 = v154 - (_QWORD)v157;
              if (v160 >> 1 > v159)
                v159 = v160 >> 1;
              if ((unint64_t)v160 >= 0x7FFFFFFFFFFFFFFCLL)
                v161 = 0x3FFFFFFFFFFFFFFFLL;
              else
                v161 = v159;
              if (v161)
              {
                if (v161 >> 62)
                  goto LABEL_267;
                v162 = operator new(4 * v161);
              }
              else
              {
                v162 = 0;
              }
              v163 = &v162[4 * v158];
              *v163 = *(_DWORD *)v140;
              v156 = v163 + 1;
              if (v155 != v157)
              {
                v164 = v155 - 4 - v157;
                if (v164 < 0x2C)
                  goto LABEL_276;
                if ((unint64_t)(v157 - v162) < 0x20)
                  goto LABEL_276;
                v165 = (v164 >> 2) + 1;
                v166 = &v162[4 * v158 - 16];
                v167 = v155 - 16;
                v168 = v165 & 0x7FFFFFFFFFFFFFF8;
                do
                {
                  v169 = *(_OWORD *)v167;
                  *(v166 - 1) = *((_OWORD *)v167 - 1);
                  *v166 = v169;
                  v166 -= 2;
                  v167 -= 32;
                  v168 -= 8;
                }
                while (v168);
                v163 -= v165 & 0x7FFFFFFFFFFFFFF8;
                v155 -= 4 * (v165 & 0x7FFFFFFFFFFFFFF8);
                if (v165 != (v165 & 0x7FFFFFFFFFFFFFF8))
                {
LABEL_276:
                  do
                  {
                    v170 = *((_DWORD *)v155 - 1);
                    v155 -= 4;
                    *--v163 = v170;
                  }
                  while (v155 != v157);
                }
              }
              *(_QWORD *)(a1 + 24) = v163;
              *(_QWORD *)(a1 + 32) = v156;
              *(_QWORD *)(a1 + 40) = &v162[4 * v161];
              if (v157)
                operator delete(v157);
            }
            else
            {
              *(float *)v155 = *v140;
              v156 = v155 + 4;
            }
            *(_QWORD *)(a1 + 32) = v156;
            v172 = *(char **)(a1 + 56);
            v171 = *(_QWORD *)(a1 + 64);
            if ((unint64_t)v172 < v171)
            {
              *(float *)v172 = v140[1];
              v153 = v172 + 4;
            }
            else
            {
              v173 = *(char **)(a1 + 48);
              v174 = (v172 - v173) >> 2;
              v175 = v174 + 1;
              if ((unint64_t)(v174 + 1) >> 62)
LABEL_266:
                abort();
              v176 = v171 - (_QWORD)v173;
              if (v176 >> 1 > v175)
                v175 = v176 >> 1;
              if ((unint64_t)v176 >= 0x7FFFFFFFFFFFFFFCLL)
                v177 = 0x3FFFFFFFFFFFFFFFLL;
              else
                v177 = v175;
              if (v177)
              {
                if (v177 >> 62)
LABEL_267:
                  sub_1B566A9AC();
                v178 = operator new(4 * v177);
              }
              else
              {
                v178 = 0;
              }
              v179 = &v178[4 * v174];
              *v179 = *((_DWORD *)v140 + 1);
              v153 = v179 + 1;
              if (v172 != v173)
              {
                v180 = v172 - 4 - v173;
                if (v180 < 0x2C)
                  goto LABEL_277;
                if ((unint64_t)(v173 - v178) < 0x20)
                  goto LABEL_277;
                v181 = (v180 >> 2) + 1;
                v182 = &v178[4 * v174 - 16];
                v183 = v172 - 16;
                v184 = v181 & 0x7FFFFFFFFFFFFFF8;
                do
                {
                  v185 = *(_OWORD *)v183;
                  *(v182 - 1) = *((_OWORD *)v183 - 1);
                  *v182 = v185;
                  v182 -= 2;
                  v183 -= 32;
                  v184 -= 8;
                }
                while (v184);
                v179 -= v181 & 0x7FFFFFFFFFFFFFF8;
                v172 -= 4 * (v181 & 0x7FFFFFFFFFFFFFF8);
                if (v181 != (v181 & 0x7FFFFFFFFFFFFFF8))
                {
LABEL_277:
                  do
                  {
                    v186 = *((_DWORD *)v172 - 1);
                    v172 -= 4;
                    *--v179 = v186;
                  }
                  while (v172 != v173);
                }
              }
              *(_QWORD *)(a1 + 48) = v179;
              *(_QWORD *)(a1 + 56) = v153;
              *(_QWORD *)(a1 + 64) = &v178[4 * v177];
              if (v173)
                operator delete(v173);
            }
            *(_QWORD *)(a1 + 56) = v153;
            v140 += 3;
          }
          while (v140 != v144);
          v151 = *(float *)(a1 + 1144);
          v140 = v214;
        }
        v124 = v213;
        v152 = v212;
LABEL_217:
        if (v140)
        {
          v215 = v140;
          operator delete(v140);
        }
        if (v152 && v151 < 2048.0)
        {
          if (sub_1B568AFE8())
          {
            if (*(_BYTE *)(a1 + 1216))
              objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Portrait.framework focus dist from black rect: %f"), v151);
            else
              objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Classic focus dist from black rect p%d%% %f"), (int)(float)(v16 * 100.0), v151);

          }
          v46 = v151;
          v124 = v213;
        }
        goto LABEL_228;
      }
      v138 = 5;
    }
    (*v137)[v138]();
    goto LABEL_142;
  }
  while (1)
  {
    v222 = *v126;
    if (!v224)
      break;
    LODWORD(v222) = (*(float (**)(_QWORD *, __int128 *))(*v224 + 48))(v224, &v222);
    *(_QWORD *)((char *)&v222 + 4) = __PAIR64__(v134, v133);
    sub_1B568B1F4((char ***)&v221, (uint64_t *)&v222);
    if (++v126 == v127)
      goto LABEL_132;
  }
  sub_1B5658FA0();
  __break(1u);
}

void sub_1B568AEF8(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *__p, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,char a24,uint64_t a25,uint64_t a26,uint64_t a27)
{
  void *v27;

  if (v27)
  {
    operator delete(v27);
    _Unwind_Resume(exception_object);
  }
  _Unwind_Resume(exception_object);
}

uint64_t sub_1B568AFE8()
{
  unsigned __int8 v0;
  void *v2;
  char v3;

  v0 = atomic_load((unsigned __int8 *)&qword_1EF12D4B8);
  if ((v0 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D4B8))
  {
    +[CVAPreferenceManager defaults](CVAPreferenceManager, "defaults");
    v2 = (void *)objc_claimAutoreleasedReturnValue();
    v3 = objc_msgSend(v2, "BOOLForKey:", CFSTR("CVAPhotoDebugDrawAutofocus"));

    byte_1EF12D2D0 = v3;
    __cxa_guard_release(&qword_1EF12D4B8);
  }
  return byte_1EF12D2D0;
}

void sub_1B568B068(_Unwind_Exception *a1)
{
  void *v1;

  __cxa_guard_abort(&qword_1EF12D4B8);
  _Unwind_Resume(a1);
}

_QWORD *sub_1B568B08C(_QWORD *result, _QWORD *a2)
{
  _QWORD *v3;
  _QWORD *v4;
  _QWORD *v5;
  _QWORD v6[4];

  v6[3] = *MEMORY[0x1E0C80C00];
  if (a2 != result)
  {
    v3 = result;
    v4 = (_QWORD *)result[3];
    v5 = (_QWORD *)a2[3];
    if (v4 == result)
    {
      if (v5 == a2)
      {
        (*(void (**)(_QWORD *, _QWORD *))(*result + 24))(result, v6);
        (*(void (**)(_QWORD))(*(_QWORD *)v3[3] + 32))(v3[3]);
        v3[3] = 0;
        (*(void (**)(_QWORD, _QWORD *))(*(_QWORD *)a2[3] + 24))(a2[3], v3);
        (*(void (**)(_QWORD))(*(_QWORD *)a2[3] + 32))(a2[3]);
        a2[3] = 0;
        v3[3] = v3;
        (*(void (**)(_QWORD *, _QWORD *))(v6[0] + 24))(v6, a2);
        result = (_QWORD *)(*(uint64_t (**)(_QWORD *))(v6[0] + 32))(v6);
      }
      else
      {
        (*(void (**)(_QWORD *, _QWORD *))(*result + 24))(result, a2);
        result = (_QWORD *)(*(uint64_t (**)(_QWORD))(*(_QWORD *)v3[3] + 32))(v3[3]);
        v3[3] = a2[3];
      }
      a2[3] = a2;
    }
    else if (v5 == a2)
    {
      (*(void (**)(_QWORD *, _QWORD *))(*a2 + 24))(a2, result);
      result = (_QWORD *)(*(uint64_t (**)(_QWORD))(*(_QWORD *)a2[3] + 32))(a2[3]);
      a2[3] = v3[3];
      v3[3] = v3;
    }
    else
    {
      result[3] = v5;
      a2[3] = v4;
    }
  }
  return result;
}

char ***sub_1B568B1F4(char ***a1, uint64_t *a2)
{
  char **v4;
  unint64_t v5;
  char *v6;
  uint64_t v7;
  char *v8;
  char *v9;
  unint64_t v10;
  unint64_t v11;
  unint64_t v12;
  unint64_t v13;
  char *v14;
  char *v15;
  uint64_t v16;
  int v17;

  v4 = *a1;
  v6 = (*a1)[1];
  v5 = (unint64_t)(*a1)[2];
  if ((unint64_t)v6 >= v5)
  {
    v9 = *v4;
    v10 = 0xAAAAAAAAAAAAAAABLL * ((v6 - *v4) >> 2);
    v11 = v10 + 1;
    if (v10 + 1 > 0x1555555555555555)
      abort();
    v12 = 0xAAAAAAAAAAAAAAABLL * ((uint64_t)(v5 - (_QWORD)v9) >> 2);
    if (2 * v12 > v11)
      v11 = 2 * v12;
    if (v12 >= 0xAAAAAAAAAAAAAAALL)
      v13 = 0x1555555555555555;
    else
      v13 = v11;
    if (v13)
    {
      if (v13 > 0x1555555555555555)
        sub_1B566A9AC();
      v14 = (char *)operator new(12 * v13);
    }
    else
    {
      v14 = 0;
    }
    v15 = &v14[12 * v10];
    *(_QWORD *)v15 = *a2;
    *((_DWORD *)v15 + 2) = *((_DWORD *)a2 + 2);
    v8 = v15 + 12;
    if (v6 != v9)
    {
      do
      {
        v16 = *(_QWORD *)(v6 - 12);
        v6 -= 12;
        v17 = *((_DWORD *)v6 + 2);
        *(_QWORD *)(v15 - 12) = v16;
        v15 -= 12;
        *((_DWORD *)v15 + 2) = v17;
      }
      while (v6 != v9);
      v6 = *v4;
    }
    *v4 = v15;
    v4[1] = v8;
    v4[2] = &v14[12 * v13];
    if (v6)
      operator delete(v6);
  }
  else
  {
    v7 = *a2;
    *((_DWORD *)v6 + 2) = *((_DWORD *)a2 + 2);
    *(_QWORD *)v6 = v7;
    v8 = v6 + 12;
  }
  v4[1] = v8;
  return a1;
}

void sub_1B568B334()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

__n128 sub_1B568B348(uint64_t a1)
{
  char *v2;
  __n128 result;

  v2 = (char *)operator new(0x18uLL);
  *(_QWORD *)v2 = &off_1E69368D8;
  result = *(__n128 *)(a1 + 8);
  *(__n128 *)(v2 + 8) = result;
  return result;
}

__n128 sub_1B568B380(uint64_t a1, uint64_t a2)
{
  __n128 result;

  *(_QWORD *)a2 = &off_1E69368D8;
  result = *(__n128 *)(a1 + 8);
  *(__n128 *)(a2 + 8) = result;
  return result;
}

void sub_1B568B3A0(uint64_t a1, float *a2)
{
  uint64_t v2;
  int v3;

  v2 = *(_QWORD *)(a1 + 16);
  sub_1B568F624(**(_QWORD **)(a1 + 8), v2 + 1220, *a2, a2[1], a2[2], a2[3]);
  *(_DWORD *)(v2 + 1220) = v3;
}

void sub_1B568B3F8()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

__n128 sub_1B568B40C(uint64_t a1)
{
  char *v2;
  __n128 result;

  v2 = (char *)operator new(0x28uLL);
  *(_QWORD *)v2 = &off_1E6936920;
  *(_OWORD *)(v2 + 8) = *(_OWORD *)(a1 + 8);
  result = *(__n128 *)(a1 + 24);
  *(__n128 *)(v2 + 24) = result;
  return result;
}

__n128 sub_1B568B44C(uint64_t a1, uint64_t a2)
{
  __n128 result;

  *(_QWORD *)a2 = &off_1E6936920;
  result = *(__n128 *)(a1 + 8);
  *(_OWORD *)(a2 + 24) = *(_OWORD *)(a1 + 24);
  *(__n128 *)(a2 + 8) = result;
  return result;
}

uint64_t sub_1B568B474(uint64_t a1, float32x2_t *a2)
{
  float32x2_t v3;
  unsigned int Width;
  unsigned int Height;
  float32x2_t v6;
  char *BaseAddress;
  size_t BytesPerRow;
  uint64_t v9;
  uint64_t v11;
  float v12;
  float v13;
  uint64_t i;
  unint64_t v15;
  float v16;
  float v17;
  char *v18;
  size_t v19;
  float v20;
  int v21;
  int v22;
  float *v23;
  float *v24;
  unint64_t v25;
  float v26;
  float v27;
  float v28;
  int v29;
  BOOL v30;
  float *v31;
  uint64_t v32;
  float *v33;
  unint64_t v34;
  float v35;
  float v36;
  float v37;
  unint64_t v39;
  float32x2_t v41;
  int32x2_t v42;
  int32x2_t v43;
  float v44[256];
  float v45;

  v3 = *a2;
  v41 = a2[1];
  Width = CVPixelBufferGetWidth(**(CVPixelBufferRef **)(a1 + 8));
  Height = CVPixelBufferGetHeight(**(CVPixelBufferRef **)(a1 + 8));
  v6 = vcvt_f32_s32((int32x2_t)__PAIR64__(Height, Width));
  v43 = vmax_s32(vcvt_s32_f32(vmul_f32(v3, v6)), 0);
  v42 = vmin_s32(vcvt_s32_f32(vmul_f32(vadd_f32(v3, v41), v6)), (int32x2_t)__PAIR64__(Height, Width));
  bzero(v44, 0x400uLL);
  CVPixelBufferLockBaseAddress(**(CVPixelBufferRef **)(a1 + 8), 1uLL);
  BaseAddress = (char *)CVPixelBufferGetBaseAddress(**(CVPixelBufferRef **)(a1 + 8));
  CVPixelBufferGetHeight(**(CVPixelBufferRef **)(a1 + 8));
  CVPixelBufferGetWidth(**(CVPixelBufferRef **)(a1 + 8));
  BytesPerRow = CVPixelBufferGetBytesPerRow(**(CVPixelBufferRef **)(a1 + 8));
  v9 = v43.u32[1];
  if (v43.i32[1] < v42.i32[1] && v43.i32[0] < v42.i32[0])
  {
    v31 = (float *)&BaseAddress[4 * v43.u32[0] + BytesPerRow * v43.u32[1]];
    v32 = v43.u32[1];
    do
    {
      v33 = v31;
      v34 = v42.u32[0] - (unint64_t)v43.u32[0];
      do
      {
        v35 = *v33;
        if (*v33 < 2048.0)
        {
          v36 = **(float **)(a1 + 16);
          v37 = **(float **)(a1 + 24);
          if (v35 >= v36 && v35 < v37)
          {
            v39 = (unint64_t)(float)((float)((float)(v35 - v36) * 256.0) / (float)(v37 - v36));
            v44[v39] = v44[v39] + 1.0;
          }
        }
        ++v33;
        --v34;
      }
      while (v34);
      ++v32;
      v31 = (float *)((char *)v31 + BytesPerRow);
    }
    while (v32 != v42.u32[1]);
  }
  CVPixelBufferUnlockBaseAddress(**(CVPixelBufferRef **)(a1 + 8), 1uLL);
  v11 = 0;
  v45 = 0.00000011921;
  v12 = 0.00000011921;
  do
  {
    v12 = v12 + v44[v11];
    v45 = v12;
    ++v11;
  }
  while (v11 != 256);
  v13 = v44[0] / v12;
  v44[0] = v13;
  for (i = 1; i != 256; ++i)
  {
    v13 = v13 + (float)(v44[i] / v45);
    v44[i] = v13;
  }
  v15 = 0;
  v16 = **(float **)(a1 + 16);
  v17 = **(float **)(a1 + 24);
  do
  {
    if (v44[v15] > **(float **)(a1 + 32))
      break;
    ++v15;
  }
  while (v15 != 256);
  CVPixelBufferLockBaseAddress(**(CVPixelBufferRef **)(a1 + 8), 1uLL);
  v18 = (char *)CVPixelBufferGetBaseAddress(**(CVPixelBufferRef **)(a1 + 8));
  CVPixelBufferGetHeight(**(CVPixelBufferRef **)(a1 + 8));
  CVPixelBufferGetWidth(**(CVPixelBufferRef **)(a1 + 8));
  v19 = CVPixelBufferGetBytesPerRow(**(CVPixelBufferRef **)(a1 + 8));
  v20 = 0.0;
  if (v43.i32[1] < v42.i32[1] && v43.i32[0] < v42.i32[0])
  {
    v21 = 0;
    v22 = 0;
    v23 = (float *)&v18[4 * v43.u32[0] + v19 * v43.u32[1]];
    do
    {
      v24 = v23;
      v25 = v42.u32[0] - (unint64_t)v43.u32[0];
      do
      {
        v26 = *v24++;
        v27 = v26;
        v28 = v20 + v26;
        if (v26 < 2048.0)
          v29 = v22;
        else
          v29 = v22 + 1;
        v30 = v27 >= 2048.0 || v27 <= (float)(v16 + (float)((float)((float)v15 * 0.0039062) * (float)(v17 - v16)));
        if (v30)
          v22 = v29;
        if (!v30)
        {
          v20 = v28;
          ++v21;
        }
        --v25;
      }
      while (v25);
      ++v9;
      v23 = (float *)((char *)v23 + v19);
    }
    while (v9 != v42.u32[1]);
  }
  return CVPixelBufferUnlockBaseAddress(**(CVPixelBufferRef **)(a1 + 8), 1uLL);
}

void sub_1B568B82C(uint64_t a1@<X0>, __CVBuffer *a2@<X1>, int a3@<W2>, _QWORD *a4@<X3>, uint64_t a5@<X8>, float a6@<S0>)
{
  __CFString *v12;
  __CFString *v13;
  void *v14;
  const __CFString *v15;
  float v16;
  float v17;
  float v18;
  int Width;
  int Height;
  float v21;
  float v22;
  float v23;
  float v24;
  int v25;
  float v26;
  int v27;
  float v28;
  unsigned int v29;
  unsigned int v30;
  unsigned int v31;
  int v32;
  unint64_t i;
  float v34;
  int v35;
  int v36;
  signed int v37;
  int v38;
  double v39;
  double v40;
  double v41;
  double v42;
  int v43;
  float *v44;
  float v45;
  float v46;
  unsigned int v47;
  float v48;
  void *v49;
  char *v50;
  size_t v51;
  float v52;
  uint64_t v53;
  char *v54;
  char *v55;
  unint64_t v56;
  unint64_t v65;
  char *BaseAddress;
  size_t BytesPerRow;
  uint64_t v68;
  unint64_t v69;
  size_t v70;
  float16x4_t *v71;
  char *v72;
  float16x4_t *v73;
  float32x4_t v74;
  int8x16_t v75;
  int8x16_t v76;
  unint64_t v77;
  int32x4_t v78;
  int32x4_t v79;
  float16x4_t *v80;
  unint64_t v81;
  float32x4_t v82;
  float32x4_t v83;
  int16x4_t v84;
  int16x4_t v85;
  int8x16_t v86;
  int8x16_t v87;
  unint64_t v88;
  char *v89;
  __int16 v90;
  uint64_t v93;
  double v94;
  float v95;
  uint64_t j;
  unint64_t k;
  char *v98;
  size_t v99;
  int32x2_t v100;
  uint64_t v101;
  unint64_t v102;
  float32x4_t v103;
  size_t v104;
  float16x4_t *v105;
  char *v106;
  float16x4_t *v107;
  float32x4_t v108;
  int8x16_t v109;
  int8x16_t v110;
  unint64_t v111;
  int32x4_t v112;
  int32x4_t v113;
  float16x4_t *v114;
  unint64_t v115;
  float32x4_t v116;
  float32x4_t v117;
  int8x8_t v118;
  int8x8_t v119;
  int32x4_t v120;
  int32x4_t v121;
  int8x16_t v122;
  int8x16_t v123;
  unint64_t v124;
  char *v125;
  __int16 v126;
  float v129;
  _QWORD *v130;
  int v131;
  __int128 *v132;
  __int128 *v133;
  uint64_t (***v134)();
  _QWORD *v135;
  uint64_t v136;
  uint64_t (**v137)();
  uint64_t v138;
  unsigned int v139;
  unsigned int v140;
  _QWORD *v141;
  uint64_t v142;
  uint64_t (***v143)();
  uint64_t v144;
  float *v145;
  float *v146;
  float v147;
  float *v148;
  float v149;
  float *v150;
  float *m;
  float v152;
  float *v153;
  float v154;
  float v155;
  float v156;
  float v157;
  int v158;
  _DWORD *v159;
  unint64_t v160;
  char *v161;
  _DWORD *v162;
  char *v163;
  uint64_t v164;
  unint64_t v165;
  uint64_t v166;
  unint64_t v167;
  _BYTE *v168;
  _DWORD *v169;
  unint64_t v170;
  uint64_t v171;
  _OWORD *v172;
  char *v173;
  uint64_t v174;
  __int128 v175;
  int v176;
  unint64_t v177;
  char *v178;
  char *v179;
  uint64_t v180;
  unint64_t v181;
  uint64_t v182;
  unint64_t v183;
  _BYTE *v184;
  _DWORD *v185;
  unint64_t v186;
  uint64_t v187;
  _OWORD *v188;
  char *v189;
  uint64_t v190;
  __int128 v191;
  int v192;
  _BYTE *v193;
  _BYTE *v194;
  size_t v195;
  void *v196;
  int v197;
  int v198;
  float v199;
  int v200;
  uint64_t v201;
  float v202;
  _BYTE *v203;
  _BYTE *v204;
  size_t v205;
  _BYTE *v206;
  _BYTE *v207;
  size_t v208;
  void *v209;
  void *v210;
  _BYTE *v211;
  _BYTE *v212;
  int64_t v213;
  char *v214;
  char *v215;
  _BYTE *v216;
  _BYTE *v217;
  int64_t v218;
  char *v219;
  char *v220;
  _BYTE *v221;
  int v222;
  _QWORD *v223;
  float *v224;
  float *v225;
  uint64_t v226;
  float v227;
  float v228;
  float v229;
  __CVBuffer *v230;
  float **v231;
  __int128 v232;
  _QWORD v233[3];
  _QWORD *v234;
  float v235;
  _QWORD v236[3];
  uint64_t (***v237)();
  uint64_t v238;

  v238 = *MEMORY[0x1E0C80C00];
  if (sub_1B568AFE8())
  {
    if (*(_DWORD *)(a1 + 80))
      v12 = CFSTR("FOCUSMODE_REGION, ");
    else
      v12 = CFSTR("FOCUSMODE_GLOBAL_DISPARITY_HISTOGRAM, ");
    v13 = v12;
    -[__CFString stringByAppendingString:](v13, "stringByAppendingString:", *(&off_1E6936E10 + *(unsigned int *)(a1 + 104)));
    v14 = (void *)objc_claimAutoreleasedReturnValue();

    v15 = CFSTR("no");
    if (a3)
      v15 = CFSTR("yes");
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("facesArray.len=%ld, useFaceAsFocus=%@"), (uint64_t)(a4[1] - *a4) >> 4, v15);

  }
  if (!*(_DWORD *)(a1 + 80))
  {
    for (i = 0; i != 256; ++i)
    {
      if (*(float *)(a1 + 4 * i + 116) > 0.85)
        break;
    }
    v34 = *(float *)(a1 + 1152)
        + (float)((float)((float)i * 0.0039062) * (float)(*(float *)(a1 + 1156) - *(float *)(a1 + 1152)));
    if (*(float *)a1 < 2048.0)
      v34 = *(float *)a1 + (float)((float)(v34 - *(float *)a1) * 0.2);
    *(float *)a1 = v34;
    goto LABEL_247;
  }
  v222 = a3;
  v223 = a4;
  if (sub_1B568AFE8())
  {
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("input._foregroundPercentile = %d%%"), (int)(float)(*(float *)(a1 + 1148) * 100.0));

  }
  v16 = *(float *)(a1 + 1148);
  v17 = *(float *)(a1 + 1152);
  v18 = *(float *)(a1 + 1156);
  Width = CVPixelBufferGetWidth(a2);
  Height = CVPixelBufferGetHeight(a2);
  v21 = *(float *)(a1 + 84);
  v22 = *(float *)(a1 + 88);
  v23 = *(float *)(a1 + 92);
  v24 = (float)Width;
  v25 = (int)(float)(v21 * (float)Width);
  v26 = (float)Height;
  v27 = (int)(float)(v22 * (float)Height);
  if (v23 <= 0.0 || (v28 = *(float *)(a1 + 96), v28 <= 0.0))
  {
    v35 = Height + Width;
    if (Height + Width < 0 != __OFADD__(Height, Width))
      ++v35;
    v36 = (int)((double)(v35 >> 1) * 0.1);
    v29 = (v25 - v36) & ~((v25 - v36) >> 31);
    v37 = v36 + v25;
    if (v37 >= Width)
      v30 = Width;
    else
      v30 = v37;
    v31 = (v27 - v36) & ~((v27 - v36) >> 31);
    v38 = v36 + v27;
    if (v38 >= Height)
      v32 = Height;
    else
      v32 = v38;
    v21 = (float)(int)v29 / v24;
    v22 = (float)(int)v31 / v26;
    v23 = (float)((float)(int)v29 + (float)(int)v30) / v24;
    v28 = (float)((float)(int)v31 + (float)v32) / v26;
  }
  else
  {
    v29 = v25 & ~(v25 >> 31);
    if ((int)(float)((float)(v21 + v23) * v24) >= Width)
      v30 = Width;
    else
      v30 = (int)(float)((float)(v21 + v23) * v24);
    v31 = v27 & ~(v27 >> 31);
    if ((int)(float)((float)(v22 + v28) * v26) >= Height)
      v32 = Height;
    else
      v32 = (int)(float)((float)(v22 + v28) * v26);
  }
  v39 = v28;
  v40 = v23;
  v41 = v22;
  v42 = v21;
  v43 = *(_DWORD *)(a1 + 104);
  if (v43 != 2)
  {
    if (*(_BYTE *)(a1 + 1216))
    {
      if (v43 == 1)
      {
        sub_1B568F4E8((uint64_t)a2, v42, v41, v40, v39);
        v46 = v48;
        if (sub_1B568AFE8())
        {
          objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Portrait.framework focus dist, gray rect: %f (N/A)"), v46);
          v49 = (void *)objc_claimAutoreleasedReturnValue();
LABEL_100:

        }
      }
      else
      {
        sub_1B568F624((uint64_t)a2, a1 + 1220, v42, v41, v40, v39);
        v46 = v129;
        if (sub_1B568AFE8())
        {
          objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Portrait.framework focus dist, gray rect: %f (%f)"), v46, *(float *)(a1 + 1220));
          v49 = (void *)objc_claimAutoreleasedReturnValue();
          goto LABEL_100;
        }
      }
      v47 = 0;
      *(float *)(a1 + 1220) = v46;
      goto LABEL_102;
    }
    sub_1B568AFE8();
    CVPixelBufferLockBaseAddress(a2, 1uLL);
    BaseAddress = (char *)CVPixelBufferGetBaseAddress(a2);
    CVPixelBufferGetHeight(a2);
    CVPixelBufferGetWidth(a2);
    BytesPerRow = CVPixelBufferGetBytesPerRow(a2);
    v47 = 0;
    v46 = 0.0;
    if ((int)v31 >= v32 || (int)v29 >= (int)v30)
      goto LABEL_97;
    v47 = 0;
    v68 = v31;
    v69 = v30 - (unint64_t)v29;
    v70 = BytesPerRow * v31;
    v71 = (float16x4_t *)&BaseAddress[2 * v29 + v70];
    v72 = &BaseAddress[v70];
    v73 = v71 + 1;
    v74.i64[0] = 0x4500000045000000;
    v74.i64[1] = 0x4500000045000000;
    v75.i64[0] = 0x100000001;
    v75.i64[1] = 0x100000001;
    v76.i64[0] = 0x8000000080000000;
    v76.i64[1] = 0x8000000080000000;
    while (v69 >= 8)
    {
      v78 = 0uLL;
      v79 = (int32x4_t)v47;
      v80 = v73;
      v81 = v69 & 0xFFFFFFFFFFFFFFF8;
      do
      {
        v82 = vcvtq_f32_f16(v80[-1]);
        v83 = vcvtq_f32_f16(*v80);
        v84 = (int16x4_t)vmvn_s8((int8x8_t)vmovn_s32(vcgeq_f32(v82, v74)));
        v85 = (int16x4_t)vmvn_s8((int8x8_t)vmovn_s32(vcgeq_f32(v83, v74)));
        v79 = vaddq_s32(v79, (int32x4_t)vandq_s8((int8x16_t)vmovl_u16((uint16x4_t)v84), v75));
        v78 = vaddq_s32(v78, (int32x4_t)vandq_s8((int8x16_t)vmovl_u16((uint16x4_t)v85), v75));
        v86 = vbslq_s8((int8x16_t)vmovl_s16(v84), (int8x16_t)v82, v76);
        v87 = vbslq_s8((int8x16_t)vmovl_s16(v85), (int8x16_t)v83, v76);
        v46 = (float)((float)((float)((float)((float)((float)((float)(v46 + *(float *)v86.i32) + *(float *)&v86.i32[1])
                                                    + *(float *)&v86.i32[2])
                                            + *(float *)&v86.i32[3])
                                    + *(float *)v87.i32)
                            + *(float *)&v87.i32[1])
                    + *(float *)&v87.i32[2])
            + *(float *)&v87.i32[3];
        v80 += 2;
        v81 -= 8;
      }
      while (v81);
      v47 = vaddvq_s32(vaddq_s32(v78, v79));
      v77 = (v69 & 0xFFFFFFFFFFFFFFF8) + v29;
      if (v69 != (v69 & 0xFFFFFFFFFFFFFFF8))
        goto LABEL_69;
LABEL_63:
      ++v68;
      v73 = (float16x4_t *)((char *)v73 + BytesPerRow);
      v72 += BytesPerRow;
      if (v68 == v32)
        goto LABEL_97;
    }
    v77 = v29;
LABEL_69:
    v88 = v30 - v77;
    v89 = &v72[2 * v77];
    do
    {
      v90 = *(_WORD *)v89;
      v89 += 2;
      _H5 = v90;
      __asm { FCVT            S5, H5 }
      if (_S5 >= 2048.0)
        _S5 = -0.0;
      else
        ++v47;
      v46 = v46 + _S5;
      --v88;
    }
    while (v88);
    goto LABEL_63;
  }
  if (!*(_BYTE *)(a1 + 1216))
  {
    if (sub_1B568AFE8())
    {
      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("p%d%% of white region"), (int)(float)(v16 * 100.0));

    }
    bzero(v233, 0x400uLL);
    CVPixelBufferLockBaseAddress(a2, 1uLL);
    v50 = (char *)CVPixelBufferGetBaseAddress(a2);
    CVPixelBufferGetHeight(a2);
    CVPixelBufferGetWidth(a2);
    v51 = CVPixelBufferGetBytesPerRow(a2);
    v52 = v18 - v17;
    if ((int)v31 < v32 && (int)v29 < (int)v30)
    {
      v53 = v31;
      v54 = &v50[2 * v29 + v51 * v31];
      do
      {
        v55 = v54;
        v56 = v30 - (unint64_t)v29;
        do
        {
          _H2 = *(_WORD *)v55;
          __asm { FCVT            S2, H2 }
          if (_S2 < 2048.0 && v17 <= _S2 && v18 > _S2)
          {
            v65 = 4 * (unint64_t)(float)((float)((float)(_S2 - v17) * 256.0) / v52);
            *(float *)((char *)v233 + v65) = *(float *)((char *)v233 + v65) + 1.0;
          }
          v55 += 2;
          --v56;
        }
        while (v56);
        ++v53;
        v54 += v51;
      }
      while (v53 != v32);
    }
    CVPixelBufferUnlockBaseAddress(a2, 1uLL);
    v93 = 0;
    v235 = 0.00000011921;
    v94 = 3.18618444e-58;
    do
    {
      *(float *)&v94 = *(float *)&v94 + *(float *)((char *)v233 + v93);
      v235 = *(float *)&v94;
      v93 += 4;
    }
    while (v93 != 1024);
    v95 = *(float *)v233 / *(float *)&v94;
    *(float *)v233 = v95;
    for (j = 4; j != 1024; j += 4)
    {
      v95 = v95 + (float)(*(float *)((char *)v233 + j) / v235);
      *(float *)((char *)v233 + j) = v95;
    }
    *(float *)&v94 = v235;
    if (v235 <= 0.00000011921)
    {
      syslog(7, "Face percentile failed: bad data?", v94);
      v194 = *(_BYTE **)(a1 + 24);
      v193 = *(_BYTE **)(a1 + 32);
      v195 = v193 - v194;
      if (v193 == v194)
      {
        v196 = 0;
      }
      else
      {
        if ((v195 & 0x8000000000000000) != 0)
          abort();
        v196 = operator new(v193 - v194);
        memcpy(v196, v194, v195);
      }
      v207 = *(_BYTE **)(a1 + 48);
      v221 = *(_BYTE **)(a1 + 56);
      v208 = v221 - v207;
      if (v221 == v207)
        goto LABEL_245;
      if ((v208 & 0x8000000000000000) != 0)
        abort();
      v209 = operator new(v221 - v207);
      goto LABEL_244;
    }
    for (k = 0; k != 256; ++k)
    {
      if (*((float *)v233 + k) > v16)
        break;
    }
    CVPixelBufferLockBaseAddress(a2, 1uLL);
    v98 = (char *)CVPixelBufferGetBaseAddress(a2);
    CVPixelBufferGetHeight(a2);
    CVPixelBufferGetWidth(a2);
    v99 = CVPixelBufferGetBytesPerRow(a2);
    v47 = 0;
    v46 = 0.0;
    if ((int)v31 < v32 && (int)v29 < (int)v30)
    {
      v47 = 0;
      *(float *)v100.i32 = v17 + (float)((float)((float)k * 0.0039062) * v52);
      v101 = v31;
      v102 = v30 - (unint64_t)v29;
      v103 = (float32x4_t)vdupq_lane_s32(v100, 0);
      v104 = v99 * v31;
      v105 = (float16x4_t *)&v98[2 * v29 + v104];
      v106 = &v98[v104];
      v107 = v105 + 1;
      v108.i64[0] = 0x4500000045000000;
      v108.i64[1] = 0x4500000045000000;
      v109.i64[0] = 0x100000001;
      v109.i64[1] = 0x100000001;
      v110.i64[0] = 0x8000000080000000;
      v110.i64[1] = 0x8000000080000000;
      while (v102 >= 8)
      {
        v112 = 0uLL;
        v113 = (int32x4_t)v47;
        v114 = v107;
        v115 = v102 & 0xFFFFFFFFFFFFFFF8;
        do
        {
          v116 = vcvtq_f32_f16(v114[-1]);
          v117 = vcvtq_f32_f16(*v114);
          v118 = (int8x8_t)vmovn_s32(vcgeq_f32(v116, v108));
          v119 = (int8x8_t)vmovn_s32(vcgeq_f32(v117, v108));
          v120 = vcgeq_f32(v116, v103);
          v121 = vcgeq_f32(v117, v103);
          v113 = vaddq_s32(v113, (int32x4_t)vandq_s8((int8x16_t)vmovl_u16((uint16x4_t)vbic_s8((int8x8_t)vmovn_s32(v120), v118)), v109));
          v112 = vaddq_s32(v112, (int32x4_t)vandq_s8((int8x16_t)vmovl_u16((uint16x4_t)vbic_s8((int8x8_t)vmovn_s32(v121), v119)), v109));
          v122 = vbslq_s8(vandq_s8((int8x16_t)vmovl_s16((int16x4_t)vmvn_s8(v118)), (int8x16_t)v120), (int8x16_t)v116, v110);
          v123 = vbslq_s8(vandq_s8((int8x16_t)vmovl_s16((int16x4_t)vmvn_s8(v119)), (int8x16_t)v121), (int8x16_t)v117, v110);
          v46 = (float)((float)((float)((float)((float)((float)((float)(v46 + *(float *)v122.i32)
                                                              + *(float *)&v122.i32[1])
                                                      + *(float *)&v122.i32[2])
                                              + *(float *)&v122.i32[3])
                                      + *(float *)v123.i32)
                              + *(float *)&v123.i32[1])
                      + *(float *)&v123.i32[2])
              + *(float *)&v123.i32[3];
          v114 += 2;
          v115 -= 8;
        }
        while (v115);
        v47 = vaddvq_s32(vaddq_s32(v112, v113));
        v111 = (v102 & 0xFFFFFFFFFFFFFFF8) + v29;
        if (v102 != (v102 & 0xFFFFFFFFFFFFFFF8))
          goto LABEL_92;
LABEL_86:
        ++v101;
        v107 = (float16x4_t *)((char *)v107 + v99);
        v106 += v99;
        if (v101 == v32)
          goto LABEL_97;
      }
      v111 = v29;
LABEL_92:
      v124 = v30 - v111;
      v125 = &v106[2 * v111];
      do
      {
        v126 = *(_WORD *)v125;
        v125 += 2;
        _H7 = v126;
        __asm { FCVT            S7, H7 }
        v47 += _S7 < 2048.0 && *(float *)v100.i32 <= _S7;
        if (_S7 >= 2048.0 || *(float *)v100.i32 > _S7)
          _S7 = -0.0;
        v46 = v46 + _S7;
        --v124;
      }
      while (v124);
      goto LABEL_86;
    }
LABEL_97:
    CVPixelBufferUnlockBaseAddress(a2, 1uLL);
    goto LABEL_102;
  }
  v44 = (float *)(a1 + 1220);
  sub_1B568F624((uint64_t)a2, a1 + 1220, v42, v41, v40, v39);
  v46 = v45;
  if (sub_1B568AFE8())
  {
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Portrait.framework focus dist (gray rect: %f (%f)"), v46, *v44);

  }
  v47 = 0;
  *v44 = v46;
LABEL_102:
  v130 = v223;
  v131 = *(unsigned __int8 *)(a1 + 1216);
  if (!*(_BYTE *)(a1 + 1216))
  {
    if (v47)
      v46 = v46 / (float)(int)v47;
    else
      v46 = *(float *)a1;
  }
  *(_DWORD *)(a1 + 1144) = 1157627904;
  *(_QWORD *)(a1 + 32) = *(_QWORD *)(a1 + 24);
  *(_QWORD *)(a1 + 56) = *(_QWORD *)(a1 + 48);
  v132 = (__int128 *)*v223;
  v133 = (__int128 *)v223[1];
  if (v133 == (__int128 *)*v223)
  {
LABEL_221:
    if (v130[1] == *v130)
    {
      v198 = *(_DWORD *)(a1 + 72);
      if (*(_DWORD *)(a1 + 112) >= v198 + 1)
        v197 = v198 + 1;
      else
        v197 = *(_DWORD *)(a1 + 112);
    }
    else
    {
      v197 = 0;
    }
    *(_DWORD *)(a1 + 72) = v197;
    if (sub_1B568AFE8())
    {
      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("maxFramesWithoutFace = %d"), *(unsigned int *)(a1 + 112));

      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("framesWithoutFace = %d"), *(unsigned int *)(a1 + 72));
    }
    v199 = *(float *)a1;
    if (*(float *)a1 >= 2048.0)
    {
      v201 = a1 + 84;
    }
    else
    {
      v200 = *(_DWORD *)(a1 + 72);
      v201 = a1 + 84;
      if (v200 >= 1 && v200 < *(_DWORD *)(a1 + 112))
        goto LABEL_237;
      v202 = *(float *)(a1 + 108);
      if (*(_BYTE *)(a1 + 1216) && v46 < v199)
      {
        v202 = v202 * 0.1;
        *(float *)(a1 + 108) = v202;
      }
      v46 = v199 + (float)((float)(v46 - v199) * v202);
    }
    *(float *)a1 = v46;
LABEL_237:
    *(_QWORD *)v201 = 0;
    *(_QWORD *)(v201 + 8) = 0;
    *(_DWORD *)(v201 + 24) = 0;
    *(_QWORD *)(v201 + 16) = 0;
    v204 = *(_BYTE **)(a1 + 24);
    v203 = *(_BYTE **)(a1 + 32);
    v205 = v203 - v204;
    if (v203 == v204)
    {
      v196 = 0;
    }
    else
    {
      if ((v205 & 0x8000000000000000) != 0)
        abort();
      v196 = operator new(v203 - v204);
      memcpy(v196, v204, v205);
    }
    v207 = *(_BYTE **)(a1 + 48);
    v206 = *(_BYTE **)(a1 + 56);
    v208 = v206 - v207;
    if (v206 == v207)
      goto LABEL_245;
    if ((v208 & 0x8000000000000000) != 0)
      abort();
    v209 = operator new(v206 - v207);
LABEL_244:
    v210 = v209;
    memcpy(v209, v207, v208);
    operator delete(v210);
LABEL_245:
    if (v196)
      operator delete(v196);
LABEL_247:
    *(_OWORD *)a5 = *(_OWORD *)a1;
    *(_DWORD *)(a5 + 16) = *(_DWORD *)(a1 + 16);
    *(_QWORD *)(a5 + 32) = 0;
    *(_QWORD *)(a5 + 40) = 0;
    *(_QWORD *)(a5 + 24) = 0;
    v212 = *(_BYTE **)(a1 + 24);
    v211 = *(_BYTE **)(a1 + 32);
    v213 = v211 - v212;
    if (v211 != v212)
    {
      if (v213 < 0)
        abort();
      v214 = (char *)operator new(v211 - v212);
      *(_QWORD *)(a5 + 24) = v214;
      v215 = &v214[4 * (v213 >> 2)];
      *(_QWORD *)(a5 + 40) = v215;
      memcpy(v214, v212, v213);
      *(_QWORD *)(a5 + 32) = v215;
    }
    *(_QWORD *)(a5 + 48) = 0;
    *(_QWORD *)(a5 + 56) = 0;
    *(_QWORD *)(a5 + 64) = 0;
    v217 = *(_BYTE **)(a1 + 48);
    v216 = *(_BYTE **)(a1 + 56);
    v218 = v216 - v217;
    if (v216 != v217)
    {
      if (v218 < 0)
        abort();
      v219 = (char *)operator new(v216 - v217);
      *(_QWORD *)(a5 + 48) = v219;
      v220 = &v219[4 * (v218 >> 2)];
      *(_QWORD *)(a5 + 64) = v220;
      memcpy(v219, v217, v218);
      *(_QWORD *)(a5 + 56) = v220;
    }
    *(_DWORD *)(a5 + 72) = *(_DWORD *)(a1 + 72);
    return;
  }
  v230 = a2;
  v228 = v17;
  v229 = v16;
  v227 = v18;
  v134 = (uint64_t (***)())operator new(0x28uLL);
  *v134 = &off_1E6936890;
  v134[1] = (uint64_t (**)())&v230;
  v134[2] = (uint64_t (**)())&v228;
  v134[3] = (uint64_t (**)())&v227;
  v134[4] = (uint64_t (**)())&v229;
  v237 = v134;
  if (!v131)
  {
    v224 = 0;
    v225 = 0;
    v137 = &off_1E6936890;
    v226 = 0;
LABEL_117:
    v138 = v137[2]();
    goto LABEL_118;
  }
  v233[0] = &off_1E6936848;
  v233[1] = &v230;
  v233[2] = a1;
  v234 = v233;
  sub_1B568B08C(v233, v236);
  v135 = v234;
  if (v234 == v233)
  {
    v136 = 4;
    v135 = v233;
  }
  else
  {
    if (!v234)
      goto LABEL_114;
    v136 = 5;
  }
  (*(void (**)(void))(*v135 + 8 * v136))();
LABEL_114:
  v138 = (uint64_t)v237;
  v225 = 0;
  v226 = 0;
  v224 = 0;
  v132 = (__int128 *)*v223;
  v133 = (__int128 *)v223[1];
  if (!v237)
  {
LABEL_118:
    v234 = (_QWORD *)v138;
    goto LABEL_119;
  }
  if (v237 != v236)
  {
    v137 = *v237;
    goto LABEL_117;
  }
  v234 = v233;
  (*(void (**)(_QWORD *, _QWORD *))(v236[0] + 24))(v236, v233);
LABEL_119:
  v231 = &v224;
  if (v132 == v133)
  {
LABEL_122:
    v141 = v234;
    if (v234 == v233)
    {
      v142 = 4;
      v141 = v233;
    }
    else
    {
      if (!v234)
        goto LABEL_127;
      v142 = 5;
    }
    (*(void (**)(void))(*v141 + 8 * v142))();
LABEL_127:
    v143 = v237;
    if (v237 == v236)
    {
      v144 = 4;
      v143 = (uint64_t (***)())v236;
    }
    else
    {
      if (!v237)
      {
LABEL_132:
        v146 = v224;
        v145 = v225;
        if (v224 == v225)
          goto LABEL_155;
        v147 = 0.0;
        v148 = v224;
        do
        {
          if (v148[2] > v147)
            v147 = v148[2];
          v148 += 3;
        }
        while (v148 != v225);
        v149 = (float)(v147 * a6) + -0.00000011921;
        v150 = v224;
        while (v150[2] >= v149)
        {
          v150 += 3;
          if (v150 == v225)
          {
            v150 = v225;
            goto LABEL_147;
          }
        }
        if (v150 != v225)
        {
          for (m = v150 + 3; m != v145; m += 3)
          {
            if (m[2] >= v149)
            {
              *v150 = *m;
              v150[1] = m[1];
              v150[2] = m[2];
              v150 += 3;
            }
          }
        }
LABEL_147:
        if (v146 == v150)
        {
LABEL_155:
          v157 = *(float *)(a1 + 1144);
          if (v157 < 2048.0)
          {
            v130 = v223;
            v158 = v222;
            if (v157 > 3.4028e38)
            {
              *(_DWORD *)(a1 + 1144) = 2139095039;
              v157 = 3.4028e38;
            }
            goto LABEL_207;
          }
          *(_DWORD *)(a1 + 1144) = 1157627904;
          v157 = 2048.0;
        }
        else
        {
          v152 = 3.4028e38;
          v153 = v146;
          do
          {
            v154 = *v153;
            v153 += 3;
            v155 = v154;
            if (v154 < v152)
              v152 = v155;
          }
          while (v153 != v150);
          v156 = *(float *)(a1 + 1144);
          if (v156 >= 2048.0)
          {
            if (v152 > 1.7014e38)
              v152 = 2048.0;
          }
          else if (v152 >= v156)
          {
            goto LABEL_164;
          }
          *(float *)(a1 + 1144) = v152;
          do
          {
LABEL_164:
            v161 = *(char **)(a1 + 32);
            v160 = *(_QWORD *)(a1 + 40);
            if ((unint64_t)v161 >= v160)
            {
              v163 = *(char **)(a1 + 24);
              v164 = (v161 - v163) >> 2;
              v165 = v164 + 1;
              if ((unint64_t)(v164 + 1) >> 62)
                goto LABEL_259;
              v166 = v160 - (_QWORD)v163;
              if (v166 >> 1 > v165)
                v165 = v166 >> 1;
              if ((unint64_t)v166 >= 0x7FFFFFFFFFFFFFFCLL)
                v167 = 0x3FFFFFFFFFFFFFFFLL;
              else
                v167 = v165;
              if (v167)
              {
                if (v167 >> 62)
                  goto LABEL_260;
                v168 = operator new(4 * v167);
              }
              else
              {
                v168 = 0;
              }
              v169 = &v168[4 * v164];
              *v169 = *(_DWORD *)v146;
              v162 = v169 + 1;
              if (v161 != v163)
              {
                v170 = v161 - 4 - v163;
                if (v170 < 0x2C)
                  goto LABEL_269;
                if ((unint64_t)(v163 - v168) < 0x20)
                  goto LABEL_269;
                v171 = (v170 >> 2) + 1;
                v172 = &v168[4 * v164 - 16];
                v173 = v161 - 16;
                v174 = v171 & 0x7FFFFFFFFFFFFFF8;
                do
                {
                  v175 = *(_OWORD *)v173;
                  *(v172 - 1) = *((_OWORD *)v173 - 1);
                  *v172 = v175;
                  v172 -= 2;
                  v173 -= 32;
                  v174 -= 8;
                }
                while (v174);
                v169 -= v171 & 0x7FFFFFFFFFFFFFF8;
                v161 -= 4 * (v171 & 0x7FFFFFFFFFFFFFF8);
                if (v171 != (v171 & 0x7FFFFFFFFFFFFFF8))
                {
LABEL_269:
                  do
                  {
                    v176 = *((_DWORD *)v161 - 1);
                    v161 -= 4;
                    *--v169 = v176;
                  }
                  while (v161 != v163);
                }
              }
              *(_QWORD *)(a1 + 24) = v169;
              *(_QWORD *)(a1 + 32) = v162;
              *(_QWORD *)(a1 + 40) = &v168[4 * v167];
              if (v163)
                operator delete(v163);
            }
            else
            {
              *(float *)v161 = *v146;
              v162 = v161 + 4;
            }
            *(_QWORD *)(a1 + 32) = v162;
            v178 = *(char **)(a1 + 56);
            v177 = *(_QWORD *)(a1 + 64);
            if ((unint64_t)v178 < v177)
            {
              *(float *)v178 = v146[1];
              v159 = v178 + 4;
            }
            else
            {
              v179 = *(char **)(a1 + 48);
              v180 = (v178 - v179) >> 2;
              v181 = v180 + 1;
              if ((unint64_t)(v180 + 1) >> 62)
LABEL_259:
                abort();
              v182 = v177 - (_QWORD)v179;
              if (v182 >> 1 > v181)
                v181 = v182 >> 1;
              if ((unint64_t)v182 >= 0x7FFFFFFFFFFFFFFCLL)
                v183 = 0x3FFFFFFFFFFFFFFFLL;
              else
                v183 = v181;
              if (v183)
              {
                if (v183 >> 62)
LABEL_260:
                  sub_1B566A9AC();
                v184 = operator new(4 * v183);
              }
              else
              {
                v184 = 0;
              }
              v185 = &v184[4 * v180];
              *v185 = *((_DWORD *)v146 + 1);
              v159 = v185 + 1;
              if (v178 != v179)
              {
                v186 = v178 - 4 - v179;
                if (v186 < 0x2C)
                  goto LABEL_270;
                if ((unint64_t)(v179 - v184) < 0x20)
                  goto LABEL_270;
                v187 = (v186 >> 2) + 1;
                v188 = &v184[4 * v180 - 16];
                v189 = v178 - 16;
                v190 = v187 & 0x7FFFFFFFFFFFFFF8;
                do
                {
                  v191 = *(_OWORD *)v189;
                  *(v188 - 1) = *((_OWORD *)v189 - 1);
                  *v188 = v191;
                  v188 -= 2;
                  v189 -= 32;
                  v190 -= 8;
                }
                while (v190);
                v185 -= v187 & 0x7FFFFFFFFFFFFFF8;
                v178 -= 4 * (v187 & 0x7FFFFFFFFFFFFFF8);
                if (v187 != (v187 & 0x7FFFFFFFFFFFFFF8))
                {
LABEL_270:
                  do
                  {
                    v192 = *((_DWORD *)v178 - 1);
                    v178 -= 4;
                    *--v185 = v192;
                  }
                  while (v178 != v179);
                }
              }
              *(_QWORD *)(a1 + 48) = v185;
              *(_QWORD *)(a1 + 56) = v159;
              *(_QWORD *)(a1 + 64) = &v184[4 * v183];
              if (v179)
                operator delete(v179);
            }
            *(_QWORD *)(a1 + 56) = v159;
            v146 += 3;
          }
          while (v146 != v150);
          v157 = *(float *)(a1 + 1144);
          v146 = v224;
        }
        v130 = v223;
        v158 = v222;
LABEL_207:
        if (v146)
        {
          v225 = v146;
          operator delete(v146);
        }
        if (v158 && v157 < 2048.0)
        {
          if (sub_1B568AFE8())
          {
            if (*(_BYTE *)(a1 + 1216))
              objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Portrait.framework focus dist from black rect: %f"), v157);
            else
              objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Classic focus dist from black rect p%d%% %f"), (int)(float)(v16 * 100.0), v157);

          }
          v46 = v157;
          v130 = v223;
        }
        goto LABEL_221;
      }
      v144 = 5;
    }
    (*v143)[v144]();
    goto LABEL_132;
  }
  while (1)
  {
    v232 = *v132;
    if (!v234)
      break;
    LODWORD(v232) = (*(float (**)(_QWORD *, __int128 *))(*v234 + 48))(v234, &v232);
    *(_QWORD *)((char *)&v232 + 4) = __PAIR64__(v140, v139);
    sub_1B568B1F4((char ***)&v231, (uint64_t *)&v232);
    if (++v132 == v133)
      goto LABEL_122;
  }
  sub_1B5658FA0();
  __break(1u);
}

void sub_1B568CA50(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *__p, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,char a24,uint64_t a25,uint64_t a26,uint64_t a27)
{
  void *v27;

  if (v27)
  {
    operator delete(v27);
    _Unwind_Resume(exception_object);
  }
  _Unwind_Resume(exception_object);
}

void sub_1B568CB44()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

__n128 sub_1B568CB58(uint64_t a1)
{
  char *v2;
  __n128 result;

  v2 = (char *)operator new(0x18uLL);
  *(_QWORD *)v2 = &off_1E6936848;
  result = *(__n128 *)(a1 + 8);
  *(__n128 *)(v2 + 8) = result;
  return result;
}

__n128 sub_1B568CB90(uint64_t a1, uint64_t a2)
{
  __n128 result;

  *(_QWORD *)a2 = &off_1E6936848;
  result = *(__n128 *)(a1 + 8);
  *(__n128 *)(a2 + 8) = result;
  return result;
}

void sub_1B568CBB0(uint64_t a1, float *a2)
{
  uint64_t v2;
  int v3;

  v2 = *(_QWORD *)(a1 + 16);
  sub_1B568F624(**(_QWORD **)(a1 + 8), v2 + 1220, *a2, a2[1], a2[2], a2[3]);
  *(_DWORD *)(v2 + 1220) = v3;
}

void sub_1B568CC08()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

__n128 sub_1B568CC1C(uint64_t a1)
{
  char *v2;
  __n128 result;

  v2 = (char *)operator new(0x28uLL);
  *(_QWORD *)v2 = &off_1E6936890;
  *(_OWORD *)(v2 + 8) = *(_OWORD *)(a1 + 8);
  result = *(__n128 *)(a1 + 24);
  *(__n128 *)(v2 + 24) = result;
  return result;
}

__n128 sub_1B568CC5C(uint64_t a1, uint64_t a2)
{
  __n128 result;

  *(_QWORD *)a2 = &off_1E6936890;
  result = *(__n128 *)(a1 + 8);
  *(_OWORD *)(a2 + 24) = *(_OWORD *)(a1 + 24);
  *(__n128 *)(a2 + 8) = result;
  return result;
}

uint64_t sub_1B568CC84(uint64_t a1, float32x2_t *a2)
{
  float32x2_t v3;
  unsigned int Width;
  unsigned int Height;
  float32x2_t v6;
  char *BaseAddress;
  size_t BytesPerRow;
  uint64_t v9;
  uint64_t v11;
  float v12;
  float v13;
  uint64_t i;
  unint64_t v15;
  float v16;
  float v17;
  char *v18;
  size_t v19;
  float v20;
  int v21;
  int v22;
  char *v23;
  char *v24;
  unint64_t v25;
  int v31;
  char *v33;
  uint64_t v34;
  char *v35;
  unint64_t v36;
  float v39;
  float v40;
  unint64_t v42;
  float32x2_t v44;
  int32x2_t v45;
  int32x2_t v46;
  float v47[256];
  float v48;

  v3 = *a2;
  v44 = a2[1];
  Width = CVPixelBufferGetWidth(**(CVPixelBufferRef **)(a1 + 8));
  Height = CVPixelBufferGetHeight(**(CVPixelBufferRef **)(a1 + 8));
  v6 = vcvt_f32_s32((int32x2_t)__PAIR64__(Height, Width));
  v46 = vmax_s32(vcvt_s32_f32(vmul_f32(v3, v6)), 0);
  v45 = vmin_s32(vcvt_s32_f32(vmul_f32(vadd_f32(v3, v44), v6)), (int32x2_t)__PAIR64__(Height, Width));
  bzero(v47, 0x400uLL);
  CVPixelBufferLockBaseAddress(**(CVPixelBufferRef **)(a1 + 8), 1uLL);
  BaseAddress = (char *)CVPixelBufferGetBaseAddress(**(CVPixelBufferRef **)(a1 + 8));
  CVPixelBufferGetHeight(**(CVPixelBufferRef **)(a1 + 8));
  CVPixelBufferGetWidth(**(CVPixelBufferRef **)(a1 + 8));
  BytesPerRow = CVPixelBufferGetBytesPerRow(**(CVPixelBufferRef **)(a1 + 8));
  v9 = v46.u32[1];
  if (v46.i32[1] < v45.i32[1] && v46.i32[0] < v45.i32[0])
  {
    v33 = &BaseAddress[2 * v46.u32[0] + BytesPerRow * v46.u32[1]];
    v34 = v46.u32[1];
    do
    {
      v35 = v33;
      v36 = v45.u32[0] - (unint64_t)v46.u32[0];
      do
      {
        _H2 = *(_WORD *)v35;
        __asm { FCVT            S2, H2 }
        if (_S2 < 2048.0)
        {
          v39 = **(float **)(a1 + 16);
          v40 = **(float **)(a1 + 24);
          if (v39 <= _S2 && v40 > _S2)
          {
            v42 = (unint64_t)(float)((float)((float)(_S2 - v39) * 256.0) / (float)(v40 - v39));
            v47[v42] = v47[v42] + 1.0;
          }
        }
        v35 += 2;
        --v36;
      }
      while (v36);
      ++v34;
      v33 += BytesPerRow;
    }
    while (v34 != v45.u32[1]);
  }
  CVPixelBufferUnlockBaseAddress(**(CVPixelBufferRef **)(a1 + 8), 1uLL);
  v11 = 0;
  v48 = 0.00000011921;
  v12 = 0.00000011921;
  do
  {
    v12 = v12 + v47[v11];
    v48 = v12;
    ++v11;
  }
  while (v11 != 256);
  v13 = v47[0] / v12;
  v47[0] = v13;
  for (i = 1; i != 256; ++i)
  {
    v13 = v13 + (float)(v47[i] / v48);
    v47[i] = v13;
  }
  v15 = 0;
  v16 = **(float **)(a1 + 16);
  v17 = **(float **)(a1 + 24);
  do
  {
    if (v47[v15] > **(float **)(a1 + 32))
      break;
    ++v15;
  }
  while (v15 != 256);
  CVPixelBufferLockBaseAddress(**(CVPixelBufferRef **)(a1 + 8), 1uLL);
  v18 = (char *)CVPixelBufferGetBaseAddress(**(CVPixelBufferRef **)(a1 + 8));
  CVPixelBufferGetHeight(**(CVPixelBufferRef **)(a1 + 8));
  CVPixelBufferGetWidth(**(CVPixelBufferRef **)(a1 + 8));
  v19 = CVPixelBufferGetBytesPerRow(**(CVPixelBufferRef **)(a1 + 8));
  v20 = 0.0;
  if (v46.i32[1] < v45.i32[1] && v46.i32[0] < v45.i32[0])
  {
    v21 = 0;
    v22 = 0;
    v23 = &v18[2 * v46.u32[0] + v19 * v46.u32[1]];
    do
    {
      v24 = v23;
      v25 = v45.u32[0] - (unint64_t)v46.u32[0];
      do
      {
        _H2 = *(_WORD *)v24;
        __asm { FCVT            S2, H2 }
        if (_S2 < 2048.0)
          v31 = v22;
        else
          v31 = v22 + 1;
        if (_S2 < 2048.0 && (float)(v16 + (float)((float)((float)v15 * 0.0039062) * (float)(v17 - v16))) < _S2)
        {
          v20 = v20 + _S2;
          ++v21;
        }
        else
        {
          v22 = v31;
        }
        v24 += 2;
        --v25;
      }
      while (v25);
      ++v9;
      v23 += v19;
    }
    while (v9 != v45.u32[1]);
  }
  return CVPixelBufferUnlockBaseAddress(**(CVPixelBufferRef **)(a1 + 8), 1uLL);
}

void sub_1B568D048(CVPixelBufferRef pixelBuffer@<X1>, float *a2@<X0>, int a3@<W2>, uint64_t a4@<X8>)
{
  float v8;
  float v9;
  size_t Width;
  size_t Height;
  float *BaseAddress;
  size_t BytesPerRow;
  float *v14;
  float v15;
  uint64_t i;
  float *v17;
  size_t v18;
  float v19;
  unint64_t v21;
  float v22;
  uint64_t j;
  float v24;
  uint64_t k;
  unint64_t m;
  float v27;
  float v28;
  float v29;
  float v30;
  float v31;
  double v32;
  float v33;
  float v34;
  float v35;
  float v36;
  float v37;
  unsigned __int8 v38;
  float v39;
  float v40;
  unsigned __int8 v41;
  float v42;
  float v43;
  float v44;
  BOOL v45;
  float v46;
  float v47;
  _BYTE *v48;
  _BYTE *v49;
  int64_t v50;
  char *v51;
  char *v52;
  _BYTE *v53;
  _BYTE *v54;
  int64_t v55;
  char *v56;
  char *v57;
  void *v58;
  char v59;
  double v60;
  void *__p;
  __int128 v62;

  v8 = a2[288];
  v9 = a2[289];
  Width = CVPixelBufferGetWidth(pixelBuffer);
  Height = CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
  BaseAddress = (float *)CVPixelBufferGetBaseAddress(pixelBuffer);
  CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferGetWidth(pixelBuffer);
  BytesPerRow = CVPixelBufferGetBytesPerRow(pixelBuffer);
  v14 = a2 + 29;
  bzero(a2 + 29, 0x400uLL);
  v15 = 0.0;
  if (Height && Width)
  {
    for (i = 0; i != Height; ++i)
    {
      v17 = BaseAddress;
      v18 = Width;
      do
      {
        v19 = *v17;
        if (*v17 < 2048.0)
        {
          if (v19 >= v8 && v19 < v9)
          {
            v21 = (unint64_t)(float)((float)((float)(v19 - v8) * 256.0) / (float)(v9 - v8));
            v14[v21] = v14[v21] + 1.0;
            v19 = *v17;
          }
          v15 = v15 + fmaxf(*a2 - v19, 0.0);
        }
        ++v17;
        --v18;
      }
      while (v18);
      BaseAddress = (float *)((char *)BaseAddress + BytesPerRow);
    }
  }
  CVPixelBufferUnlockBaseAddress(pixelBuffer, 1uLL);
  a2[285] = 0.00000011921;
  v22 = 0.00000011921;
  for (j = 29; j != 285; ++j)
  {
    v22 = v22 + a2[j];
    a2[285] = v22;
  }
  v24 = *v14 / v22;
  *v14 = v24;
  for (k = 30; k != 285; ++k)
  {
    v24 = v24 + (float)(a2[k] / a2[285]);
    a2[k] = v24;
  }
  if (a2[285] <= 0.00000011921)
    bzero(a2 + 29, 0x400uLL);
  for (m = 0; m != 256; ++m)
  {
    if (a2[m + 29] > 0.1)
      break;
  }
  v27 = v8 + (float)((float)((float)m * 0.0039062) * (float)(v9 - v8));
  v28 = a2[2];
  if (v28 < 2048.0)
    v27 = v28 + (float)((float)(v27 - v28) * 0.2);
  a2[2] = v27;
  v29 = v15 / (float)(Height * Width);
  v30 = a2[4];
  if (v30 >= 0.0)
    v29 = (float)(v29 * a2[290]) + (float)((float)(1.0 - a2[290]) * v30);
  a2[4] = v29;
  if (a3 == 1)
  {
    v32 = 1.0 / *a2;
    v33 = a2[299] + a2[298] * v32;
    v34 = v32 + v33;
    v31 = *a2 + (float)(-1.0 / v34);
  }
  else
  {
    v31 = 0.0;
    if (!a3)
      v31 = fmaxf(a2[293], fminf(a2[292], (float)(v29 - a2[295]) * a2[296]))
          + fmaxf(fminf(a2[294] - a2[292], (float)(v29 - a2[297]) * a2[300]), 0.0);
  }
  v35 = *a2;
  v36 = 0.0;
  v37 = fminf(fminf(v27, fmaxf(*a2 + (float)(v31 * -2.0), 0.0)), 0.25);
  a2[1] = v31;
  a2[2] = v37;
  if (v35 < 2048.0 && v35 > 0.0)
  {
    v38 = atomic_load((unsigned __int8 *)&qword_1EF12D4C8);
    if ((v38 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D4C8))
    {
      LODWORD(v60) = 1053609165;
      objc_msgSend(MEMORY[0x1E0CB37E8], "numberWithFloat:", v60);
      qword_1EF12D4D8 = objc_claimAutoreleasedReturnValue();
      __cxa_guard_release(&qword_1EF12D4C8);
    }
    if ((byte_1EF12D4D0 & 1) == 0)
    {
      __p = operator new(0x28uLL);
      v62 = xmmword_1B56AC120;
      strcpy((char *)__p, "disparityMarginDeltaDepthInMeters");
      sub_1B5667F7C((uint64_t)&qword_1EF12D4D8, (uint64_t)&__p);
      if (SHIBYTE(v62) < 0)
        operator delete(__p);
      byte_1EF12D4D0 = 1;
    }
    v39 = 1.0 / *a2;
    objc_msgSend((id)qword_1EF12D4D8, "floatValue");
    v36 = vabds_f32(1.0 / (float)(v39 + v40), 1.0 / v39);
  }
  a2[3] = v36;
  v41 = atomic_load((unsigned __int8 *)&qword_1EF12D4C0);
  if ((v41 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D4C0))
  {
    +[CVAPreferenceManager defaults](CVAPreferenceManager, "defaults");
    v58 = (void *)objc_claimAutoreleasedReturnValue();
    v59 = objc_msgSend(v58, "BOOLForKey:", CFSTR("CVAPhotoDebugDrawAutofocusDisparityCells"));

    byte_1EF12D951 = v59;
    __cxa_guard_release(&qword_1EF12D4C0);
  }
  if (byte_1EF12D951)
  {
    v42 = *a2;
    if (*a2 < 2048.0 || ((v43 = v42 - a2[1], v44 = v42 - a2[3], v43 >= 2048.0) ? (v45 = v44 < 2048.0) : (v45 = 1), v45))
    {
      CVPixelBufferGetWidth(pixelBuffer);
      CVPixelBufferGetHeight(pixelBuffer);
      CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
      CVPixelBufferGetBaseAddress(pixelBuffer);
      CVPixelBufferGetHeight(pixelBuffer);
      CVPixelBufferGetWidth(pixelBuffer);
      CVPixelBufferGetBytesPerRow(pixelBuffer);
      CVPixelBufferUnlockBaseAddress(pixelBuffer, 1uLL);
    }
  }
  if (sub_1B568AFE8())
  {
    v46 = *a2 - a2[1];
    v47 = *a2 - a2[3];
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("canonicalBgDisp = %5.3f"), a2[2]);

    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("canonicalFgDisp = %5.3f"), *a2);
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("nonlinearCanonicalFgDispMargin = %5.3f"), a2[1]);

    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("nonlinearCutoffDisp = %5.3f"), v46);
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("linearZCanonicalFgDispMargin = %5.3f"), a2[3]);

    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("linearZCutoffDisp = %5.3f"), v47);
  }
  *(_OWORD *)a4 = *(_OWORD *)a2;
  *(float *)(a4 + 16) = a2[4];
  *(_QWORD *)(a4 + 32) = 0;
  *(_QWORD *)(a4 + 40) = 0;
  *(_QWORD *)(a4 + 24) = 0;
  v49 = (_BYTE *)*((_QWORD *)a2 + 3);
  v48 = (_BYTE *)*((_QWORD *)a2 + 4);
  v50 = v48 - v49;
  if (v48 != v49)
  {
    if (v50 < 0)
      abort();
    v51 = (char *)operator new(v48 - v49);
    *(_QWORD *)(a4 + 24) = v51;
    v52 = &v51[4 * (v50 >> 2)];
    *(_QWORD *)(a4 + 40) = v52;
    memcpy(v51, v49, v50);
    *(_QWORD *)(a4 + 32) = v52;
  }
  *(_QWORD *)(a4 + 48) = 0;
  *(_QWORD *)(a4 + 56) = 0;
  *(_QWORD *)(a4 + 64) = 0;
  v54 = (_BYTE *)*((_QWORD *)a2 + 6);
  v53 = (_BYTE *)*((_QWORD *)a2 + 7);
  v55 = v53 - v54;
  if (v53 != v54)
  {
    if (v55 < 0)
      abort();
    v56 = (char *)operator new(v53 - v54);
    *(_QWORD *)(a4 + 48) = v56;
    v57 = &v56[4 * (v55 >> 2)];
    *(_QWORD *)(a4 + 64) = v57;
    memcpy(v56, v54, v55);
    *(_QWORD *)(a4 + 56) = v57;
  }
  *(float *)(a4 + 72) = a2[18];
}

void sub_1B568D700(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D4C8);
  _Unwind_Resume(a1);
}

void sub_1B568D734(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
    operator delete(__p);
  _Unwind_Resume(exception_object);
}

void sub_1B568D764(CVPixelBufferRef pixelBuffer@<X1>, float *a2@<X0>, int a3@<W2>, uint64_t a4@<X8>)
{
  float v8;
  float v9;
  size_t Width;
  size_t Height;
  char *BaseAddress;
  size_t BytesPerRow;
  float *v14;
  float v15;
  uint64_t i;
  __int16 *v17;
  size_t v18;
  unint64_t v26;
  float v27;
  uint64_t j;
  float v29;
  uint64_t k;
  unint64_t m;
  float v32;
  float v33;
  float v34;
  float v35;
  float v36;
  double v37;
  float v38;
  float v39;
  float v40;
  float v41;
  float v42;
  unsigned __int8 v43;
  float v44;
  float v45;
  unsigned __int8 v46;
  float v47;
  float v48;
  float v49;
  BOOL v50;
  float v51;
  float v52;
  _BYTE *v53;
  _BYTE *v54;
  int64_t v55;
  char *v56;
  char *v57;
  _BYTE *v58;
  _BYTE *v59;
  int64_t v60;
  char *v61;
  char *v62;
  void *v63;
  char v64;
  double v65;
  void *__p;
  __int128 v67;

  v8 = a2[288];
  v9 = a2[289];
  Width = CVPixelBufferGetWidth(pixelBuffer);
  Height = CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
  BaseAddress = (char *)CVPixelBufferGetBaseAddress(pixelBuffer);
  CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferGetWidth(pixelBuffer);
  BytesPerRow = CVPixelBufferGetBytesPerRow(pixelBuffer);
  v14 = a2 + 29;
  bzero(a2 + 29, 0x400uLL);
  v15 = 0.0;
  if (Height && Width)
  {
    for (i = 0; i != Height; ++i)
    {
      v17 = (__int16 *)BaseAddress;
      v18 = Width;
      do
      {
        _H4 = *v17;
        __asm { FCVT            S4, H4 }
        if (_S4 < 2048.0)
        {
          if (v8 <= _S4 && v9 > _S4)
          {
            v26 = (unint64_t)(float)((float)((float)(_S4 - v8) * 256.0) / (float)(v9 - v8));
            v14[v26] = v14[v26] + 1.0;
          }
          v15 = v15 + fmaxf(*a2 - _S4, 0.0);
        }
        ++v17;
        --v18;
      }
      while (v18);
      BaseAddress += BytesPerRow;
    }
  }
  CVPixelBufferUnlockBaseAddress(pixelBuffer, 1uLL);
  a2[285] = 0.00000011921;
  v27 = 0.00000011921;
  for (j = 29; j != 285; ++j)
  {
    v27 = v27 + a2[j];
    a2[285] = v27;
  }
  v29 = *v14 / v27;
  *v14 = v29;
  for (k = 30; k != 285; ++k)
  {
    v29 = v29 + (float)(a2[k] / a2[285]);
    a2[k] = v29;
  }
  if (a2[285] <= 0.00000011921)
    bzero(a2 + 29, 0x400uLL);
  for (m = 0; m != 256; ++m)
  {
    if (a2[m + 29] > 0.1)
      break;
  }
  v32 = v8 + (float)((float)((float)m * 0.0039062) * (float)(v9 - v8));
  v33 = a2[2];
  if (v33 < 2048.0)
    v32 = v33 + (float)((float)(v32 - v33) * 0.2);
  a2[2] = v32;
  v34 = v15 / (float)(Height * Width);
  v35 = a2[4];
  if (v35 >= 0.0)
    v34 = (float)(v34 * a2[290]) + (float)((float)(1.0 - a2[290]) * v35);
  a2[4] = v34;
  if (a3 == 1)
  {
    v37 = 1.0 / *a2;
    v38 = a2[299] + a2[298] * v37;
    v39 = v37 + v38;
    v36 = *a2 + (float)(-1.0 / v39);
  }
  else
  {
    v36 = 0.0;
    if (!a3)
      v36 = fmaxf(a2[293], fminf(a2[292], (float)(v34 - a2[295]) * a2[296]))
          + fmaxf(fminf(a2[294] - a2[292], (float)(v34 - a2[297]) * a2[300]), 0.0);
  }
  v40 = *a2;
  v41 = 0.0;
  v42 = fminf(fminf(v32, fmaxf(*a2 + (float)(v36 * -2.0), 0.0)), 0.25);
  a2[1] = v36;
  a2[2] = v42;
  if (v40 < 2048.0 && v40 > 0.0)
  {
    v43 = atomic_load((unsigned __int8 *)&qword_1EF12D530);
    if ((v43 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D530))
    {
      LODWORD(v65) = 1053609165;
      objc_msgSend(MEMORY[0x1E0CB37E8], "numberWithFloat:", v65);
      qword_1EF12D658 = objc_claimAutoreleasedReturnValue();
      __cxa_guard_release(&qword_1EF12D530);
    }
    if ((byte_1EF12D650 & 1) == 0)
    {
      __p = operator new(0x28uLL);
      v67 = xmmword_1B56AC120;
      strcpy((char *)__p, "disparityMarginDeltaDepthInMeters");
      sub_1B5667F7C((uint64_t)&qword_1EF12D658, (uint64_t)&__p);
      if (SHIBYTE(v67) < 0)
        operator delete(__p);
      byte_1EF12D650 = 1;
    }
    v44 = 1.0 / *a2;
    objc_msgSend((id)qword_1EF12D658, "floatValue");
    v41 = vabds_f32(1.0 / (float)(v44 + v45), 1.0 / v44);
  }
  a2[3] = v41;
  v46 = atomic_load((unsigned __int8 *)&qword_1EF12D528);
  if ((v46 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D528))
  {
    +[CVAPreferenceManager defaults](CVAPreferenceManager, "defaults");
    v63 = (void *)objc_claimAutoreleasedReturnValue();
    v64 = objc_msgSend(v63, "BOOLForKey:", CFSTR("CVAPhotoDebugDrawAutofocusDisparityCells"));

    byte_1EF12D959 = v64;
    __cxa_guard_release(&qword_1EF12D528);
  }
  if (byte_1EF12D959)
  {
    v47 = *a2;
    if (*a2 < 2048.0 || ((v48 = v47 - a2[1], v49 = v47 - a2[3], v48 >= 2048.0) ? (v50 = v49 < 2048.0) : (v50 = 1), v50))
    {
      CVPixelBufferGetWidth(pixelBuffer);
      CVPixelBufferGetHeight(pixelBuffer);
      CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
      CVPixelBufferGetBaseAddress(pixelBuffer);
      CVPixelBufferGetHeight(pixelBuffer);
      CVPixelBufferGetWidth(pixelBuffer);
      CVPixelBufferGetBytesPerRow(pixelBuffer);
      CVPixelBufferUnlockBaseAddress(pixelBuffer, 1uLL);
    }
  }
  if (sub_1B568AFE8())
  {
    v51 = *a2 - a2[1];
    v52 = *a2 - a2[3];
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("canonicalBgDisp = %5.3f"), a2[2]);

    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("canonicalFgDisp = %5.3f"), *a2);
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("nonlinearCanonicalFgDispMargin = %5.3f"), a2[1]);

    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("nonlinearCutoffDisp = %5.3f"), v51);
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("linearZCanonicalFgDispMargin = %5.3f"), a2[3]);

    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("linearZCutoffDisp = %5.3f"), v52);
  }
  *(_OWORD *)a4 = *(_OWORD *)a2;
  *(float *)(a4 + 16) = a2[4];
  *(_QWORD *)(a4 + 32) = 0;
  *(_QWORD *)(a4 + 40) = 0;
  *(_QWORD *)(a4 + 24) = 0;
  v54 = (_BYTE *)*((_QWORD *)a2 + 3);
  v53 = (_BYTE *)*((_QWORD *)a2 + 4);
  v55 = v53 - v54;
  if (v53 != v54)
  {
    if (v55 < 0)
      abort();
    v56 = (char *)operator new(v53 - v54);
    *(_QWORD *)(a4 + 24) = v56;
    v57 = &v56[4 * (v55 >> 2)];
    *(_QWORD *)(a4 + 40) = v57;
    memcpy(v56, v54, v55);
    *(_QWORD *)(a4 + 32) = v57;
  }
  *(_QWORD *)(a4 + 48) = 0;
  *(_QWORD *)(a4 + 56) = 0;
  *(_QWORD *)(a4 + 64) = 0;
  v59 = (_BYTE *)*((_QWORD *)a2 + 6);
  v58 = (_BYTE *)*((_QWORD *)a2 + 7);
  v60 = v58 - v59;
  if (v58 != v59)
  {
    if (v60 < 0)
      abort();
    v61 = (char *)operator new(v58 - v59);
    *(_QWORD *)(a4 + 48) = v61;
    v62 = &v61[4 * (v60 >> 2)];
    *(_QWORD *)(a4 + 64) = v62;
    memcpy(v61, v59, v60);
    *(_QWORD *)(a4 + 56) = v62;
  }
  *(float *)(a4 + 72) = a2[18];
}

void sub_1B568DE1C(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D530);
  _Unwind_Resume(a1);
}

void sub_1B568DE50(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
    operator delete(__p);
  _Unwind_Resume(exception_object);
}

void sub_1B568DF28(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  a9.super_class = (Class)ImageSaverRegistrator;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B568DFB4(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B568E024(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, objc_super a9)
{
  void *v9;
  void *v10;

  v10 = v9;

  a9.super_class = (Class)FileConfigRegistrator;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B568E060(void *a1)
{
  unsigned __int8 v1;
  void *v2;
  id v3;
  const char *v4;
  size_t v5;
  size_t v6;
  _QWORD *p_dst;
  uint64_t v8;
  uint64_t v9;
  int v10;
  void *v11;
  uint64_t *v12;
  unint64_t v13;
  unint64_t v14;
  unint64_t v15;
  unint64_t v16;
  uint8x8_t v17;
  unint64_t v18;
  uint64_t **v19;
  uint64_t *v20;
  uint64_t v21;
  unint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  id *v30;
  id *v31;
  id WeakRetained;
  id *i;
  id v34;
  id v35;
  uint64_t v36;
  id *v37;
  unint64_t v38;
  unint64_t v39;
  unint64_t v40;
  unint64_t v41;
  uint64_t v42;
  uint64_t v43;
  uint64_t v44;
  unint64_t v45;
  char *v46;
  id *v47;
  char *v48;
  uint64_t v49;
  id *v50;
  char *v51;
  id *v52;
  id *v53;
  id *v54;
  id *v55;
  id *v56;
  uint64_t v57;
  id v58;
  _QWORD *__dst;
  size_t v60;
  int64_t v61;

  v58 = a1;
  if (!v58 || (byte_1EF12D9B9 & 1) != 0)
    goto LABEL_78;
  v1 = atomic_load((unsigned __int8 *)&qword_1EF12D310);
  if ((v1 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D310))
  {
    sub_1B5669E3C();
    __cxa_atexit((void (*)(void *))sub_1B566A020, &xmmword_1EF12D318, &dword_1B5656000);
    __cxa_guard_release(&qword_1EF12D310);
  }
  v2 = v58;
  if (byte_1EF12D3B8)
  {
    NSLog(CFSTR(">>>>>>>>> FileConfig: unregisterNilInstancesOfClass %@"), v58);
    v2 = v58;
  }
  v3 = objc_retainAutorelease(v2);
  v4 = (const char *)objc_msgSend(v3, "UTF8String");
  v5 = strlen(v4);
  if (v5 >= 0x7FFFFFFFFFFFFFF8)
    abort();
  v6 = v5;
  if (v5 >= 0x17)
  {
    v8 = (v5 & 0xFFFFFFFFFFFFFFF8) + 8;
    if ((v5 | 7) != 0x17)
      v8 = v5 | 7;
    v9 = v8 + 1;
    p_dst = operator new(v8 + 1);
    v60 = v6;
    v61 = v9 | 0x8000000000000000;
    __dst = p_dst;
    goto LABEL_13;
  }
  HIBYTE(v61) = v5;
  p_dst = &__dst;
  if (v5)
LABEL_13:
    memmove(p_dst, v4, v6);
  *((_BYTE *)p_dst + v6) = 0;
  v10 = SHIBYTE(v61);
  v11 = __dst;
  if (v61 >= 0)
    v12 = (uint64_t *)&__dst;
  else
    v12 = __dst;
  if (v61 >= 0)
    v13 = HIBYTE(v61);
  else
    v13 = v60;
  v14 = sub_1B566A10C(v12, v13);
  v15 = *((_QWORD *)&xmmword_1EF12D318 + 1);
  if (!*((_QWORD *)&xmmword_1EF12D318 + 1))
    goto LABEL_74;
  v16 = v14;
  v17 = (uint8x8_t)vcnt_s8(*(int8x8_t *)((char *)&xmmword_1EF12D318 + 8));
  v17.i16[0] = vaddlv_u8(v17);
  if (v17.u32[0] > 1uLL)
  {
    v18 = v14;
    if (v14 >= *((_QWORD *)&xmmword_1EF12D318 + 1))
      v18 = v14 % *((_QWORD *)&xmmword_1EF12D318 + 1);
  }
  else
  {
    v18 = (*((_QWORD *)&xmmword_1EF12D318 + 1) - 1) & v14;
  }
  v19 = *(uint64_t ***)(xmmword_1EF12D318 + 8 * v18);
  if (!v19 || (v20 = *v19) == 0)
  {
LABEL_74:
    if (byte_1EF12D3B8)
      NSLog(CFSTR(">>>>>>>>> FileConfig: unregisterNilInstancesOfClass - no class %@ found."), v3);
    goto LABEL_76;
  }
  if (v17.u32[0] < 2uLL)
  {
    v21 = *((_QWORD *)&xmmword_1EF12D318 + 1) - 1;
    while (1)
    {
      v26 = v20[1];
      if (v26 == v16)
      {
        v27 = *((unsigned __int8 *)v20 + 39);
        if ((v27 & 0x80u) == 0)
          v28 = *((unsigned __int8 *)v20 + 39);
        else
          v28 = v20[3];
        if (v28 == v13)
        {
          if ((v27 & 0x80) != 0)
          {
            if (!memcmp((const void *)v20[2], v12, v20[3]))
              goto LABEL_62;
          }
          else
          {
            if (!*((_BYTE *)v20 + 39))
              goto LABEL_62;
            v29 = 0;
            while (*((unsigned __int8 *)v20 + v29 + 16) == *((unsigned __int8 *)v12 + v29))
            {
              if (v27 == ++v29)
                goto LABEL_61;
            }
          }
        }
      }
      else if ((v26 & v21) != v18)
      {
        goto LABEL_74;
      }
      v20 = (uint64_t *)*v20;
      if (!v20)
        goto LABEL_74;
    }
  }
  while (1)
  {
    v22 = v20[1];
    if (v22 != v16)
    {
      if (v22 >= v15)
        v22 %= v15;
      if (v22 != v18)
        goto LABEL_74;
      goto LABEL_30;
    }
    v23 = *((unsigned __int8 *)v20 + 39);
    if ((v23 & 0x80u) == 0)
      v24 = *((unsigned __int8 *)v20 + 39);
    else
      v24 = v20[3];
    if (v24 != v13)
      goto LABEL_30;
    if ((v23 & 0x80) != 0)
      break;
    if (!*((_BYTE *)v20 + 39))
      goto LABEL_62;
    v25 = 0;
    while (*((unsigned __int8 *)v20 + v25 + 16) == *((unsigned __int8 *)v12 + v25))
    {
      if (v23 == ++v25)
      {
LABEL_61:
        if (!v20)
          goto LABEL_74;
        goto LABEL_62;
      }
    }
LABEL_30:
    v20 = (uint64_t *)*v20;
    if (!v20)
      goto LABEL_74;
  }
  if (memcmp((const void *)v20[2], v12, v20[3]))
    goto LABEL_30;
LABEL_62:
  if (byte_1EF12D3B8)
    NSLog(CFSTR(">>>>>>>>> FileConfig: unregisterNilInstancesOfClass: %@ old vector size = %lu "), v3, (v20[6] - v20[5]) >> 3);
  v30 = (id *)v20[5];
  v31 = (id *)v20[6];
  if (v30 != v31)
  {
    while (1)
    {
      WeakRetained = objc_loadWeakRetained(v30);

      if (!WeakRetained)
        break;
      if (++v30 == v31)
      {
        v30 = v31;
        break;
      }
    }
  }
  if (v30 != v31)
  {
    for (i = v30 + 1; i != v31; ++i)
    {
      v34 = objc_loadWeakRetained(i);

      if (v34)
      {
        v35 = objc_loadWeakRetained(i);
        objc_storeWeak(v30, v35);

        ++v30;
      }
    }
  }
  v36 = v20[5];
  v37 = (id *)v20[6];
  v38 = (unint64_t)v30 - v36;
  v39 = ((uint64_t)v30 - v36) >> 3;
  v40 = ((uint64_t)v37 - v36) >> 3;
  v41 = v39 - v40;
  if (v39 <= v40)
  {
    if (v39 < v40)
    {
      v55 = (id *)(v36 + 8 * v39);
      while (v37 != v55)
        objc_destroyWeak(--v37);
      v20[6] = (uint64_t)v55;
    }
  }
  else
  {
    v42 = v20[7];
    if (v41 <= (v42 - (uint64_t)v37) >> 3)
    {
      v56 = &v37[v41];
      v57 = 8 * v39 - 8 * v40;
      do
      {
        *v37++ = 0;
        v57 -= 8;
      }
      while (v57);
      v20[6] = (uint64_t)v56;
    }
    else
    {
      if ((v38 & 0x8000000000000000) != 0)
        abort();
      v43 = v42 - v36;
      v44 = v43 >> 2;
      if (v43 >> 2 <= v39)
        v44 = v39;
      if ((unint64_t)v43 >= 0x7FFFFFFFFFFFFFF8)
        v45 = 0x1FFFFFFFFFFFFFFFLL;
      else
        v45 = v44;
      if (v45 >> 61)
        sub_1B566A9AC();
      v46 = (char *)operator new(8 * v45);
      v47 = (id *)&v46[8 * v40];
      v48 = &v46[8 * v39];
      v49 = 8 * v39 - 8 * v40;
      v50 = v47;
      do
      {
        *v50++ = 0;
        v49 -= 8;
      }
      while (v49);
      v51 = &v46[8 * v45];
      v53 = (id *)v20[5];
      v52 = (id *)v20[6];
      if (v52 == v53)
      {
        v20[5] = (uint64_t)v47;
        v20[6] = (uint64_t)v48;
        v20[7] = (uint64_t)v51;
      }
      else
      {
        do
          objc_moveWeak(--v47, --v52);
        while (v52 != v53);
        v52 = (id *)v20[5];
        v54 = (id *)v20[6];
        v20[5] = (uint64_t)v47;
        v20[6] = (uint64_t)v48;
        v20[7] = (uint64_t)v51;
        while (v54 != v52)
          objc_destroyWeak(--v54);
      }
      if (v52)
        operator delete(v52);
    }
  }
  if (byte_1EF12D3B8)
    NSLog(CFSTR(">>>>>>>>> FileConfig: unregisterNilInstancesOfClass: %@ new vector size = %lu "), v3, (v20[6] - v20[5]) >> 3);
LABEL_76:
  if (v10 < 0)
    operator delete(v11);
LABEL_78:

}

void sub_1B568E5A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, id a11)
{
  __cxa_guard_abort(&qword_1EF12D310);

  _Unwind_Resume(a1);
}

void sub_1B568E5F0(id val)
{
  id v2;
  unsigned __int8 v3;
  id v4;
  objc_class *v5;
  void *v6;
  id v7;
  const char *v8;
  size_t v9;
  void *v10;
  void **v11;
  uint64_t v12;
  uint64_t v13;
  _QWORD *v14;
  _QWORD *v15;
  unint64_t v16;
  unint64_t v17;
  id *v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  char *v24;
  id *v25;
  char *v26;
  id *v27;
  id *v28;
  id *v29;
  id v30;
  _QWORD *v31;
  _QWORD *v32;
  id *v33;
  id *i;
  id WeakRetained;
  void *v36;
  void *__dst[2];
  unint64_t v38;
  id location;

  v2 = objc_initWeak(&location, val);

  if ((byte_1EF12D9B9 & 1) != 0)
    goto LABEL_35;
  v3 = atomic_load((unsigned __int8 *)&qword_1EF12D310);
  if ((v3 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D310))
  {
    sub_1B5669E3C();
    __cxa_atexit((void (*)(void *))sub_1B566A020, &xmmword_1EF12D318, &dword_1B5656000);
    __cxa_guard_release(&qword_1EF12D310);
  }
  v4 = objc_loadWeakRetained(&location);
  v5 = (objc_class *)objc_opt_class();
  NSStringFromClass(v5);
  v6 = (void *)objc_claimAutoreleasedReturnValue();

  v7 = objc_retainAutorelease(v6);
  v8 = (const char *)objc_msgSend(v7, "UTF8String");
  v9 = strlen(v8);
  if (v9 >= 0x7FFFFFFFFFFFFFF8)
    abort();
  v10 = (void *)v9;
  if (v9 >= 0x17)
  {
    v12 = (v9 & 0xFFFFFFFFFFFFFFF8) + 8;
    if ((v9 | 7) != 0x17)
      v12 = v9 | 7;
    v13 = v12 + 1;
    v11 = (void **)operator new(v12 + 1);
    __dst[1] = v10;
    v38 = v13 | 0x8000000000000000;
    __dst[0] = v11;
    goto LABEL_10;
  }
  HIBYTE(v38) = v9;
  v11 = __dst;
  if (v9)
LABEL_10:
    memmove(v11, v8, (size_t)v10);
  *((_BYTE *)v10 + (_QWORD)v11) = 0;
  v14 = sub_1B568E9D4((uint64_t)__dst, (uint64_t)__dst);
  v15 = v14;
  v17 = v14[6];
  v16 = v14[7];
  if (v17 < v16)
  {
    objc_copyWeak((id *)v14[6], &location);
    v18 = (id *)(v17 + 8);
    goto LABEL_29;
  }
  v19 = v14[5];
  v20 = (uint64_t)(v17 - v19) >> 3;
  if ((unint64_t)(v20 + 1) >> 61)
    abort();
  v21 = v16 - v19;
  v22 = v21 >> 2;
  if (v21 >> 2 <= (unint64_t)(v20 + 1))
    v22 = v20 + 1;
  if ((unint64_t)v21 >= 0x7FFFFFFFFFFFFFF8)
    v23 = 0x1FFFFFFFFFFFFFFFLL;
  else
    v23 = v22;
  if (v23)
  {
    if (v23 >> 61)
      sub_1B566A9AC();
    v24 = (char *)operator new(8 * v23);
  }
  else
  {
    v24 = 0;
  }
  v25 = (id *)&v24[8 * v20];
  v26 = &v24[8 * v23];
  objc_copyWeak(v25, &location);
  v18 = v25 + 1;
  v28 = (id *)v15[5];
  v27 = (id *)v15[6];
  if (v27 != v28)
  {
    do
      objc_moveWeak(--v25, --v27);
    while (v27 != v28);
    v27 = (id *)v15[5];
    v29 = (id *)v15[6];
    v15[5] = v25;
    v15[6] = v18;
    v15[7] = v26;
    while (v29 != v27)
      objc_destroyWeak(--v29);
    if (!v27)
      goto LABEL_29;
    goto LABEL_28;
  }
  v15[5] = v25;
  v15[6] = v18;
  v15[7] = v26;
  if (v27)
LABEL_28:
    operator delete(v27);
LABEL_29:
  v15[6] = v18;
  if (byte_1EF12D3B8)
  {
    v30 = objc_loadWeakRetained(&location);
    NSLog(CFSTR(">>>>>>>>> FileConfig: registerObject %@"), v30);

    NSLog(CFSTR(">>>>>>>>> FileConfig:     singleton = %p"), &xmmword_1EF12D318);
    NSLog(CFSTR(">>>>>>>>> FileConfig:     singleton._classNameToObjects.size() = %lu"), qword_1EF12D330);
    NSLog(CFSTR(">>>>>>>>> FileConfig:     className = %@"), v7);
    v31 = sub_1B568E9D4((uint64_t)__dst, (uint64_t)__dst);
    NSLog(CFSTR(">>>>>>>>> FileConfig:     singleton._classNameToObjects[className].size() = %lu"), (uint64_t)(v31[6] - v31[5]) >> 3);
    v32 = sub_1B568E9D4((uint64_t)__dst, (uint64_t)__dst);
    v33 = (id *)v32[5];
    for (i = (id *)v32[6]; v33 != i; ++v33)
    {
      WeakRetained = objc_loadWeakRetained(v33);
      NSLog(CFSTR(">>>>>>>>> FileConfig:         contains %@"), WeakRetained);

    }
  }
  v36 = (void *)qword_1EF12D390;
  qword_1EF12D390 = 0;

  if (SHIBYTE(v38) < 0)
    operator delete(__dst[0]);

LABEL_35:
  objc_destroyWeak(&location);
}

void sub_1B568E96C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *__p, uint64_t a12, int a13, __int16 a14, char a15, char a16, id location)
{
  __cxa_guard_abort(&qword_1EF12D310);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

_QWORD *sub_1B568E9D4(uint64_t a1, uint64_t a2)
{
  unint64_t v2;
  int v4;
  uint64_t *v5;
  unint64_t v6;
  unint64_t v7;
  unint64_t v8;
  unint64_t v9;
  uint8x8_t v10;
  _QWORD *v11;
  _QWORD *v12;
  unint64_t v13;
  uint64_t v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  _QWORD *v21;
  _BYTE *v22;
  float v23;
  _BOOL8 v24;
  unint64_t v25;
  unint64_t v26;
  size_t prime;
  size_t v28;
  unint64_t v29;
  uint8x8_t v30;
  uint64_t v31;
  _QWORD *v32;
  unint64_t v33;

  v4 = *(char *)(a1 + 23);
  if (v4 >= 0)
    v5 = (uint64_t *)a1;
  else
    v5 = *(uint64_t **)a1;
  if (v4 >= 0)
    v6 = *(unsigned __int8 *)(a1 + 23);
  else
    v6 = *(_QWORD *)(a1 + 8);
  v7 = sub_1B566A10C(v5, v6);
  v8 = v7;
  v9 = *((_QWORD *)&xmmword_1EF12D318 + 1);
  if (*((_QWORD *)&xmmword_1EF12D318 + 1))
  {
    v10 = (uint8x8_t)vcnt_s8(*(int8x8_t *)((char *)&xmmword_1EF12D318 + 8));
    v10.i16[0] = vaddlv_u8(v10);
    if (v10.u32[0] > 1uLL)
    {
      v2 = v7;
      if (v7 >= *((_QWORD *)&xmmword_1EF12D318 + 1))
        v2 = v7 % *((_QWORD *)&xmmword_1EF12D318 + 1);
    }
    else
    {
      v2 = (*((_QWORD *)&xmmword_1EF12D318 + 1) - 1) & v7;
    }
    v11 = *(_QWORD **)(xmmword_1EF12D318 + 8 * v2);
    if (v11)
    {
      v12 = (_QWORD *)*v11;
      if (*v11)
      {
        if (v10.u32[0] < 2uLL)
        {
          while (1)
          {
            v17 = v12[1];
            if (v17 == v8)
            {
              v18 = *((unsigned __int8 *)v12 + 39);
              if ((v18 & 0x80u) == 0)
                v19 = *((unsigned __int8 *)v12 + 39);
              else
                v19 = v12[3];
              if (v19 == v6)
              {
                if ((v18 & 0x80) != 0)
                {
                  if (!memcmp((const void *)v12[2], v5, v12[3]))
                    return v12;
                }
                else
                {
                  if (!*((_BYTE *)v12 + 39))
                    return v12;
                  v20 = 0;
                  while (*((unsigned __int8 *)v12 + v20 + 16) == *((unsigned __int8 *)v5 + v20))
                  {
                    if (v18 == ++v20)
                      return v12;
                  }
                }
              }
            }
            else if ((v17 & (v9 - 1)) != v2)
            {
              goto LABEL_49;
            }
            v12 = (_QWORD *)*v12;
            if (!v12)
              goto LABEL_49;
          }
        }
        do
        {
          v13 = v12[1];
          if (v13 == v8)
          {
            v14 = *((unsigned __int8 *)v12 + 39);
            if ((v14 & 0x80u) == 0)
              v15 = *((unsigned __int8 *)v12 + 39);
            else
              v15 = v12[3];
            if (v15 == v6)
            {
              if ((v14 & 0x80) != 0)
              {
                if (!memcmp((const void *)v12[2], v5, v12[3]))
                  return v12;
              }
              else
              {
                if (!*((_BYTE *)v12 + 39))
                  return v12;
                v16 = 0;
                while (*((unsigned __int8 *)v12 + v16 + 16) == *((unsigned __int8 *)v5 + v16))
                {
                  if (v14 == ++v16)
                    return v12;
                }
              }
            }
          }
          else
          {
            if (v13 >= v9)
              v13 %= v9;
            if (v13 != v2)
              break;
          }
          v12 = (_QWORD *)*v12;
        }
        while (v12);
      }
    }
  }
LABEL_49:
  v21 = operator new(0x40uLL);
  *v21 = 0;
  v21[1] = v8;
  v22 = v21 + 2;
  if (*(char *)(a2 + 23) < 0)
  {
    sub_1B566A9B8(v22, *(void **)a2, *(_QWORD *)(a2 + 8));
  }
  else
  {
    *(_OWORD *)v22 = *(_OWORD *)a2;
    v21[4] = *(_QWORD *)(a2 + 16);
  }
  v21[5] = 0;
  v21[6] = 0;
  v21[7] = 0;
  v23 = (float)(unint64_t)(qword_1EF12D330 + 1);
  if (!v9 || (float)(*(float *)&dword_1EF12D338 * (float)v9) < v23)
  {
    v24 = 1;
    if (v9 >= 3)
      v24 = (v9 & (v9 - 1)) != 0;
    v25 = v24 | (2 * v9);
    v26 = vcvtps_u32_f32(v23 / *(float *)&dword_1EF12D338);
    if (v25 <= v26)
      prime = v26;
    else
      prime = v25;
    if (prime == 1)
    {
      prime = 2;
    }
    else if ((prime & (prime - 1)) != 0)
    {
      prime = std::__next_prime(prime);
    }
    v28 = *((_QWORD *)&xmmword_1EF12D318 + 1);
    if (prime > *((_QWORD *)&xmmword_1EF12D318 + 1))
      goto LABEL_64;
    if (prime < *((_QWORD *)&xmmword_1EF12D318 + 1))
    {
      v29 = vcvtps_u32_f32((float)(unint64_t)qword_1EF12D330 / *(float *)&dword_1EF12D338);
      if (*((_QWORD *)&xmmword_1EF12D318 + 1) < 3uLL
        || (v30 = (uint8x8_t)vcnt_s8(*(int8x8_t *)((char *)&xmmword_1EF12D318 + 8)),
            v30.i16[0] = vaddlv_u8(v30),
            v30.u32[0] > 1uLL))
      {
        v29 = std::__next_prime(v29);
      }
      else
      {
        v31 = 1 << -(char)__clz(v29 - 1);
        if (v29 >= 2)
          v29 = v31;
      }
      if (prime <= v29)
        prime = v29;
      if (prime < v28)
LABEL_64:
        sub_1B566A764(prime);
    }
    v9 = *((_QWORD *)&xmmword_1EF12D318 + 1);
    if ((v9 & (v9 - 1)) != 0)
    {
      if (v8 >= *((_QWORD *)&xmmword_1EF12D318 + 1))
        v2 = v8 % *((_QWORD *)&xmmword_1EF12D318 + 1);
      else
        v2 = v8;
    }
    else
    {
      v2 = (*((_QWORD *)&xmmword_1EF12D318 + 1) - 1) & v8;
    }
  }
  v32 = *(_QWORD **)(xmmword_1EF12D318 + 8 * v2);
  if (v32)
  {
    *v21 = *v32;
    *v32 = v21;
  }
  else
  {
    *v21 = qword_1EF12D328;
    qword_1EF12D328 = (uint64_t)v21;
    *(_QWORD *)(xmmword_1EF12D318 + 8 * v2) = &qword_1EF12D328;
    if (*v21)
    {
      v33 = *(_QWORD *)(*v21 + 8);
      if ((v9 & (v9 - 1)) != 0)
      {
        if (v33 >= v9)
          v33 %= v9;
      }
      else
      {
        v33 &= v9 - 1;
      }
      *(_QWORD *)(xmmword_1EF12D318 + 8 * v33) = v21;
    }
  }
  v12 = v21;
  ++qword_1EF12D330;
  return v12;
}

void sub_1B568EDE0(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_list va;

  va_start(va, a2);
  sub_1B566A920((uint64_t *)va);
  _Unwind_Resume(a1);
}

void sub_1B568EE58(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B568EEC8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, objc_super a9)
{
  void *v9;
  void *v10;

  v10 = v9;

  a9.super_class = (Class)ImageSaverAndFileConfigRegistrator;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

uint64_t sub_1B568EF04()
{
  uint64_t v0;
  uint64_t v1;
  uint64_t v3;
  uint64_t v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  uint64_t v10;
  uint64_t *v11;
  uint64_t v12;
  uint64_t v13;
  __int128 v14;
  __int128 v15;
  uint64_t v16;

  v16 = *MEMORY[0x1E0C80C00];
  v10 = 0;
  v11 = &v10;
  v12 = 0x2020000000;
  v0 = qword_1EF12D4E8;
  v13 = qword_1EF12D4E8;
  if (!qword_1EF12D4E8)
  {
    v14 = xmmword_1E6936E30;
    v15 = *(_OWORD *)&off_1E6936E40;
    v1 = _sl_dlopen();
    v11[3] = v1;
    qword_1EF12D4E8 = v1;
    v0 = v1;
  }
  _Block_object_dispose(&v10, 8);
  if (!v0)
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v3 = objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "void *PortraitLibrary(void)");
    v4 = objc_claimAutoreleasedReturnValue();
    v5 = (void *)v3;
    v6 = (void *)v3;
    v7 = (void *)v4;
    objc_msgSend(v5, "handleFailureInFunction:file:lineNumber:description:", v4, CFSTR("PortraitSoftLinking.m"), 11, CFSTR("%s"), 0);
    v8 = v7;
    v0 = (uint64_t)v6;

    __break(1u);
    free(v9);
  }
  return v0;
}

void sub_1B568F040(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_list va;

  va_start(va, a3);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1B568F05C(uint64_t a1)
{
  void *v2;
  void *v3;

  sub_1B568EF04();
  *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24) = objc_getClass("PTTexture");
  if (*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24))
  {
    qword_1EF12D678 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24);
  }
  else
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v2 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "Class getPTTextureClass(void)_block_invoke");
    v3 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, CFSTR("PortraitSoftLinking.m"), 15, CFSTR("Unable to find class %s"), "PTTexture");

    __break(1u);
  }
}

id sub_1B568F120()
{
  void *v0;
  id v1;
  _QWORD v3[5];
  uint64_t v4;
  uint64_t *v5;
  uint64_t v6;
  uint64_t v7;

  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = (void *)qword_1EF12D660;
  v7 = qword_1EF12D660;
  if (!qword_1EF12D660)
  {
    v3[0] = MEMORY[0x1E0C809B0];
    v3[1] = 3221225472;
    v3[2] = sub_1B568F1D8;
    v3[3] = &unk_1E6936E58;
    v3[4] = &v4;
    sub_1B568F1D8((uint64_t)v3);
    v0 = (void *)v5[3];
  }
  v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1B568F1C0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_list va;

  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1B568F1D8(uint64_t a1)
{
  void *v2;
  void *v3;

  sub_1B568EF04();
  *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24) = objc_getClass("PTRenderPipeline");
  if (*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24))
  {
    qword_1EF12D660 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24);
  }
  else
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v2 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "Class getPTRenderPipelineClass(void)_block_invoke");
    v3 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, CFSTR("PortraitSoftLinking.m"), 16, CFSTR("Unable to find class %s"), "PTRenderPipeline");

    __break(1u);
  }
}

void sub_1B568F29C(uint64_t a1)
{
  void *v2;
  void *v3;

  sub_1B568EF04();
  *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24) = objc_getClass("PTRenderRequest");
  if (*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24))
  {
    qword_1EF12D670 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24);
  }
  else
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v2 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "Class getPTRenderRequestClass(void)_block_invoke");
    v3 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, CFSTR("PortraitSoftLinking.m"), 17, CFSTR("Unable to find class %s"), "PTRenderRequest");

    __break(1u);
  }
}

void sub_1B568F360(uint64_t a1)
{
  void *v2;
  void *v3;

  sub_1B568EF04();
  *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24) = objc_getClass("PTRenderPipelineDescriptor");
  if (*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24))
  {
    qword_1EF12D668 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24);
  }
  else
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v2 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "Class getPTRenderPipelineDescriptorClass(void)_block_invoke");
    v3 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, CFSTR("PortraitSoftLinking.m"), 18, CFSTR("Unable to find class %s"), "PTRenderPipelineDescriptor");

    __break(1u);
  }
}

void sub_1B568F424(uint64_t a1)
{
  void *v2;
  void *v3;

  sub_1B568EF04();
  *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24) = objc_getClass("PTTuningParameters");
  if (*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24))
  {
    qword_1EF12D680 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 8) + 24);
  }
  else
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v2 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "Class getPTTuningParametersClass(void)_block_invoke");
    v3 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, CFSTR("PortraitSoftLinking.m"), 19, CFSTR("Unable to find class %s"), "PTTuningParameters");

    __break(1u);
  }
}

void sub_1B568F4E8(uint64_t a1, double a2, double a3, double a4, double a5)
{
  void *v10;
  void *v11;
  void *v12;
  void *v13;
  uint64_t v14;
  uint64_t *v15;
  uint64_t v16;
  void *v17;

  v14 = 0;
  v15 = &v14;
  v16 = 0x2020000000;
  v10 = off_1EF12D960;
  v17 = off_1EF12D960;
  if (!off_1EF12D960)
  {
    v11 = (void *)sub_1B568EF04();
    v10 = dlsym(v11, "PTDisparityInNormalizedRectFromPixelBuffer");
    v15[3] = (uint64_t)v10;
    off_1EF12D960 = v10;
  }
  _Block_object_dispose(&v14, 8);
  if (v10)
  {
    ((void (*)(uint64_t, uint64_t, double, double, double, double))v10)(100, a1, a2, a3, a4, a5);
  }
  else
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v12 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "float soft_PTDisparityInNormalizedRectFromPixelBuffer(PTCinematographyDetectionType, CGRect, CVPixelBufferRef)");
    v13 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v12, "handleFailureInFunction:file:lineNumber:description:", v13, CFSTR("PortraitSoftLinking.m"), 20, CFSTR("%s"), dlerror());

    __break(1u);
  }
}

void sub_1B568F60C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_list va;

  va_start(va, a3);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1B568F624(uint64_t a1, uint64_t a2, double a3, double a4, double a5, double a6)
{
  void *v12;
  void *v13;
  void *v14;
  void *v15;
  uint64_t v16;
  uint64_t *v17;
  uint64_t v18;
  void *v19;

  v16 = 0;
  v17 = &v16;
  v18 = 0x2020000000;
  v12 = off_1EF12D4E0;
  v19 = off_1EF12D4E0;
  if (!off_1EF12D4E0)
  {
    v13 = (void *)sub_1B568EF04();
    v12 = dlsym(v13, "PTDisparityInNormalizedRectFromPixelBufferWithPrior");
    v17[3] = (uint64_t)v12;
    off_1EF12D4E0 = v12;
  }
  _Block_object_dispose(&v16, 8);
  if (v12)
  {
    ((void (*)(uint64_t, uint64_t, uint64_t, double, double, double, double))v12)(100, a1, a2, a3, a4, a5, a6);
  }
  else
  {
    objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
    v14 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "float soft_PTDisparityInNormalizedRectFromPixelBufferWithPrior(PTCinematographyDetectionType, CGRect, CVPixelBufferRef, const float *)");
    v15 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v14, "handleFailureInFunction:file:lineNumber:description:", v15, CFSTR("PortraitSoftLinking.m"), 21, CFSTR("%s"), dlerror());

    __break(1u);
  }
}

void sub_1B568F750(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_list va;

  va_start(va, a3);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t sub_1B568F768(uint64_t a1, CVPixelBufferRef pixelBuffer, int a3, __CVBuffer *a4, float a5, float a6)
{
  unsigned __int16 *BaseAddress;
  size_t Height;
  size_t Width;
  size_t BytesPerRow;
  float *v15;
  size_t v16;
  float *v17;
  size_t v18;
  uint64_t v19;
  unsigned __int16 *v20;
  float *v21;
  float *v22;
  size_t v23;
  float v24;
  unsigned int v25;
  float v26;
  uint64_t result;
  __CVBuffer *v28;
  char *v29;
  size_t v30;
  size_t v31;
  size_t v32;
  char *v33;
  size_t v34;
  _DWORD *v35;
  float *v36;
  float v37;
  float v38;
  float v39;
  uint64_t v40;
  uint64_t v41;
  _DWORD *v42;
  float32x4_t v43;
  char *v44;
  int8x16_t *v45;
  _DWORD *v47;
  unint64_t v48;
  int8x16_t *v49;
  float32x4_t v50;
  int16x4_t v51;
  unint64_t i;
  float v53;

  CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
  CVPixelBufferLockBaseAddress(a4, 0);
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)a1, 0);
  BaseAddress = (unsigned __int16 *)CVPixelBufferGetBaseAddress(pixelBuffer);
  Height = CVPixelBufferGetHeight(pixelBuffer);
  Width = CVPixelBufferGetWidth(pixelBuffer);
  BytesPerRow = CVPixelBufferGetBytesPerRow(pixelBuffer);
  v15 = (float *)CVPixelBufferGetBaseAddress(a4);
  CVPixelBufferGetHeight(a4);
  CVPixelBufferGetWidth(a4);
  v16 = CVPixelBufferGetBytesPerRow(a4);
  v17 = (float *)CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)a1);
  CVPixelBufferGetHeight(*(CVPixelBufferRef *)a1);
  CVPixelBufferGetWidth(*(CVPixelBufferRef *)a1);
  v18 = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)a1);
  if (Height && Width)
  {
    v19 = 0;
    do
    {
      v20 = BaseAddress;
      v21 = v17;
      v22 = v15;
      v23 = Width;
      do
      {
        v25 = *v20++;
        v26 = (float)v25;
        if ((float)a3 <= (float)v25)
        {
          *v21 = 2048.0;
          v24 = 2048.0;
        }
        else
        {
          v24 = (float)(v26 / a5) + a6;
          *v21 = v24;
          if (v24 < 2048.0)
            v24 = fmaxf(*(float *)(a1 + 48) + (float)(v24 / (float)(*(float *)(a1 + 44) * *(float *)(a1 + 40))), 0.0);
        }
        *v22++ = v24;
        ++v21;
        --v23;
      }
      while (v23);
      ++v19;
      v15 = (float *)((char *)v15 + v16);
      v17 = (float *)((char *)v17 + v18);
      BaseAddress = (unsigned __int16 *)((char *)BaseAddress + BytesPerRow);
    }
    while (v19 != Height);
  }
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)a1, 0);
  CVPixelBufferUnlockBaseAddress(a4, 0);
  CVPixelBufferUnlockBaseAddress(pixelBuffer, 1uLL);
  result = sub_1B568FC14(*(__CVBuffer **)a1, *(__CVBuffer **)(a1 + 8), *(float *)(a1 + 52), *(float *)(a1 + 56), *(float *)(a1 + 60), *(float *)(a1 + 64));
  if (*(float *)(a1 + 52) > 0.0 || *(float *)(a1 + 56) > 0.0 || *(float *)(a1 + 60) > 0.0 || *(float *)(a1 + 64) > 0.0)
  {
    v28 = *(__CVBuffer **)(a1 + 8);
    CVPixelBufferLockBaseAddress(v28, 0);
    CVPixelBufferLockBaseAddress(a4, 0);
    v29 = (char *)CVPixelBufferGetBaseAddress(v28);
    v30 = CVPixelBufferGetHeight(v28);
    v31 = CVPixelBufferGetWidth(v28);
    v32 = CVPixelBufferGetBytesPerRow(v28);
    v33 = (char *)CVPixelBufferGetBaseAddress(a4);
    CVPixelBufferGetHeight(a4);
    CVPixelBufferGetWidth(a4);
    v34 = CVPixelBufferGetBytesPerRow(a4);
    if (!v30 || !v31)
    {
LABEL_59:
      CVPixelBufferUnlockBaseAddress(a4, 0);
      return CVPixelBufferUnlockBaseAddress(v28, 0);
    }
    if (v31 < 4)
    {
      v35 = v33 + 8;
      v36 = (float *)(v29 + 8);
      do
      {
        v37 = *(v36 - 2);
        if (v37 >= 100000.0)
          v37 = 0.0;
        *(v36 - 2) = v37;
        if (v37 > 0.0)
          *(v35 - 2) = 1157627904;
        if (v31 != 1)
        {
          v38 = *(v36 - 1);
          if (v38 >= 100000.0)
            v38 = 0.0;
          *(v36 - 1) = v38;
          if (v38 > 0.0)
            *(v35 - 1) = 1157627904;
          if (v31 != 2)
          {
            v39 = *v36;
            if (*v36 >= 100000.0)
              v39 = 0.0;
            *v36 = v39;
            if (v39 > 0.0)
              *v35 = 1157627904;
          }
        }
        v35 = (_DWORD *)((char *)v35 + v34);
        v36 = (float *)((char *)v36 + v32);
        --v30;
      }
      while (v30);
      goto LABEL_59;
    }
    v40 = 0;
    v41 = 4 * v31;
    v42 = v33 + 8;
    v43 = (float32x4_t)vdupq_n_s32(0x47C35000u);
    v44 = v33;
    v45 = (int8x16_t *)v29;
    while (&v29[v40 * v32] < &v33[v41 + v40 * v34] && &v33[v40 * v34] < &v29[v41 + v40 * v32])
    {
      for (i = 0; i != v31; ++i)
      {
LABEL_55:
        v53 = *(float *)&v45->i32[i];
        if (v53 >= 100000.0)
          v53 = 0.0;
        *(float *)&v45->i32[i] = v53;
        if (v53 > 0.0)
          *(_DWORD *)&v44[4 * i] = 1157627904;
      }
LABEL_35:
      ++v40;
      v45 = (int8x16_t *)((char *)v45 + v32);
      v42 = (_DWORD *)((char *)v42 + v34);
      v44 += v34;
      if (v40 == v30)
        goto LABEL_59;
    }
    v47 = v42;
    v48 = v31 & 0xFFFFFFFFFFFFFFFCLL;
    v49 = v45;
    while (1)
    {
      v50 = (float32x4_t)vbicq_s8(*v49, (int8x16_t)vcgeq_f32(*(float32x4_t *)v49, v43));
      *v49 = (int8x16_t)v50;
      v51 = vmovn_s32(vcgtzq_f32(v50));
      if ((v51.i8[0] & 1) != 0)
      {
        *(v47 - 2) = 1157627904;
        if ((v51.i8[2] & 1) == 0)
        {
LABEL_45:
          if ((v51.i8[4] & 1) == 0)
            goto LABEL_46;
          goto LABEL_50;
        }
      }
      else if ((v51.i8[2] & 1) == 0)
      {
        goto LABEL_45;
      }
      *(v47 - 1) = 1157627904;
      if ((v51.i8[4] & 1) == 0)
      {
LABEL_46:
        if ((v51.i8[6] & 1) != 0)
          goto LABEL_51;
        goto LABEL_42;
      }
LABEL_50:
      *v47 = 1157627904;
      if ((v51.i8[6] & 1) != 0)
LABEL_51:
        v47[1] = 1157627904;
LABEL_42:
      ++v49;
      v47 += 4;
      v48 -= 4;
      if (!v48)
      {
        i = v31 & 0xFFFFFFFFFFFFFFFCLL;
        if (v31 == (v31 & 0xFFFFFFFFFFFFFFFCLL))
          goto LABEL_35;
        goto LABEL_55;
      }
    }
  }
  return result;
}

uint64_t sub_1B568FC14(__CVBuffer *a1, __CVBuffer *a2, float a3, float a4, float a5, float a6)
{
  size_t BytesPerRow;
  size_t Height;
  size_t Width;
  size_t v15;
  uint64_t v16;
  BOOL v18;
  BOOL v19;
  char v20;
  float *v21;
  float *v22;
  char *v23;
  float v24;
  uint64_t i;
  float v26;
  uint64_t v27;
  float v28;
  float v29;
  float *v30;
  float *v31;
  size_t v32;
  float v33;
  float v34;
  void *v35;
  uint64_t v36;
  float *v37;
  float *v38;
  float *v39;
  float *v40;
  float *v41;
  size_t v42;
  float v43;
  float v44;
  void *v45;
  uint64_t v46;
  float *v47;
  float *v48;
  float *v49;
  float *v50;
  float *v51;
  size_t v52;
  float v53;
  float v54;
  __CVBuffer *pixelBuffer;
  __CVBuffer *v57;
  float *v58;
  uint64_t __sz;
  float *BaseAddress;

  CVPixelBufferLockBaseAddress(a1, 1uLL);
  CVPixelBufferLockBaseAddress(a2, 0);
  BaseAddress = (float *)CVPixelBufferGetBaseAddress(a2);
  CVPixelBufferGetHeight(a2);
  CVPixelBufferGetWidth(a2);
  pixelBuffer = a2;
  BytesPerRow = CVPixelBufferGetBytesPerRow(a2);
  v58 = (float *)CVPixelBufferGetBaseAddress(a1);
  Height = CVPixelBufferGetHeight(a1);
  Width = CVPixelBufferGetWidth(a1);
  v57 = a1;
  v15 = CVPixelBufferGetBytesPerRow(a1);
  __sz = 4 * Width;
  if (Height)
  {
    v16 = 0;
    v18 = a4 <= 0.0 || Width == 0;
    v19 = a3 <= 0.0 || (int)Width < 1;
    v20 = v19;
    v21 = v58;
    v22 = BaseAddress;
    while (1)
    {
      if (!Width)
        goto LABEL_15;
      bzero((char *)BaseAddress + BytesPerRow * v16, __sz);
      if (!v18)
        break;
LABEL_18:
      if ((v20 & 1) == 0)
      {
        v23 = (char *)v58 + v16 * v15;
        v24 = 100000.0;
        for (i = Width + 1; i > 1; --i)
        {
          v27 = (i - 2);
          v24 = v24 + a3;
          v28 = *(float *)&v23[4 * v27];
          if (v28 >= 2048.0)
          {
            v26 = 100000.0;
          }
          else
          {
            if (v24 >= v28)
            {
              v24 = *(float *)&v23[4 * v27];
              continue;
            }
            v26 = v28 - v24;
          }
          *(float *)((char *)&BaseAddress[v27] + BytesPerRow * v16) = v26;
        }
      }
LABEL_15:
      ++v16;
      v22 = (float *)((char *)v22 + BytesPerRow);
      v21 = (float *)((char *)v21 + v15);
      if (v16 == Height)
        goto LABEL_35;
    }
    v29 = 100000.0;
    v30 = v21;
    v31 = v22;
    v32 = Width;
    while (1)
    {
      v29 = v29 + a4;
      v34 = *v30;
      if (*v30 >= 2048.0)
      {
        v33 = 100000.0;
      }
      else
      {
        if (v29 >= v34)
        {
          v29 = *v30;
          goto LABEL_30;
        }
        v33 = v34 - v29;
      }
      *v31 = v33;
LABEL_30:
      ++v31;
      ++v30;
      if (!--v32)
        goto LABEL_18;
    }
  }
LABEL_35:
  if (a5 > 0.0 && Width)
  {
    if (Width >> 62)
      goto LABEL_64;
    v35 = operator new(__sz);
    memset_pattern16(v35, &unk_1B56AC260, __sz);
    if (Height)
    {
      v36 = 0;
      v37 = v58;
      v38 = BaseAddress;
      do
      {
        v39 = (float *)v35;
        v40 = v37;
        v41 = v38;
        v42 = Width;
        do
        {
          v43 = *v39 + a5;
          *v39 = v43;
          v44 = *v40;
          if (*v40 >= 2048.0)
          {
            *v41 = 100000.0;
          }
          else if (v43 >= v44)
          {
            *v39 = v44;
            *v41 = 0.0;
          }
          else
          {
            *v41 = v44 - v43;
          }
          ++v41;
          ++v40;
          ++v39;
          --v42;
        }
        while (v42);
        ++v36;
        v38 = (float *)((char *)v38 + BytesPerRow);
        v37 = (float *)((char *)v37 + v15);
      }
      while (v36 != Height);
    }
    operator delete(v35);
  }
  if (a6 <= 0.0 || !Width)
    goto LABEL_63;
  if (Width >> 62)
LABEL_64:
    abort();
  v45 = operator new(__sz);
  memset_pattern16(v45, &unk_1B56AC260, __sz);
  if ((int)Height >= 1)
  {
    v46 = (Height - 1);
    v47 = (float *)((char *)BaseAddress + BytesPerRow * v46);
    v48 = (float *)((char *)v58 + v15 * v46);
    do
    {
      v49 = (float *)v45;
      v50 = v48;
      v51 = v47;
      v52 = Width;
      do
      {
        v53 = *v49 + a5;
        *v49 = v53;
        v54 = *v50;
        if (*v50 >= 2048.0)
        {
          *v51 = 100000.0;
        }
        else if (v53 >= v54)
        {
          *v49 = v54;
          *v51 = 0.0;
        }
        else
        {
          *v51 = v54 - v53;
        }
        ++v51;
        ++v50;
        ++v49;
        --v52;
      }
      while (v52);
      v47 = (float *)((char *)v47 - BytesPerRow);
      v48 = (float *)((char *)v48 - v15);
      v19 = v46-- <= 0;
    }
    while (!v19);
  }
  operator delete(v45);
LABEL_63:
  CVPixelBufferUnlockBaseAddress(pixelBuffer, 0);
  return CVPixelBufferUnlockBaseAddress(v57, 1uLL);
}

uint64_t sub_1B569000C(uint64_t a1, CVPixelBufferRef pixelBuffer, int a3, __CVBuffer *a4, float a5, float a6)
{
  unsigned __int16 *BaseAddress;
  size_t Height;
  size_t Width;
  size_t BytesPerRow;
  char *v15;
  size_t v16;
  float *v17;
  size_t v18;
  uint64_t v19;
  unsigned __int16 *v20;
  float *v21;
  _WORD *v22;
  size_t v23;
  unsigned int v28;
  float v29;
  uint64_t result;
  __CVBuffer *v32;
  char *v33;
  size_t v34;
  size_t v35;
  size_t v36;
  char *v37;
  size_t v38;
  _WORD *v39;
  float *v40;
  float v41;
  float v42;
  float v43;
  uint64_t v44;
  _WORD *v45;
  float32x4_t v46;
  char *v47;
  int8x16_t *v48;
  _WORD *v50;
  unint64_t v51;
  int8x16_t *v52;
  float32x4_t v53;
  int16x4_t v54;
  unint64_t i;
  float v56;

  CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
  CVPixelBufferLockBaseAddress(a4, 0);
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)a1, 0);
  BaseAddress = (unsigned __int16 *)CVPixelBufferGetBaseAddress(pixelBuffer);
  Height = CVPixelBufferGetHeight(pixelBuffer);
  Width = CVPixelBufferGetWidth(pixelBuffer);
  BytesPerRow = CVPixelBufferGetBytesPerRow(pixelBuffer);
  v15 = (char *)CVPixelBufferGetBaseAddress(a4);
  CVPixelBufferGetHeight(a4);
  CVPixelBufferGetWidth(a4);
  v16 = CVPixelBufferGetBytesPerRow(a4);
  v17 = (float *)CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)a1);
  CVPixelBufferGetHeight(*(CVPixelBufferRef *)a1);
  CVPixelBufferGetWidth(*(CVPixelBufferRef *)a1);
  v18 = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)a1);
  if (Height && Width)
  {
    v19 = 0;
    do
    {
      v20 = BaseAddress;
      v21 = v17;
      v22 = v15;
      v23 = Width;
      do
      {
        v28 = *v20++;
        v29 = (float)v28;
        if ((float)a3 <= (float)v28)
        {
          *v21 = 2048.0;
          _S3 = 2048.0;
LABEL_7:
          __asm { FCVT            H3, S3 }
          goto LABEL_8;
        }
        _S3 = (float)(v29 / a5) + a6;
        *v21 = _S3;
        if (_S3 >= 2048.0)
          goto LABEL_7;
        _S3 = *(float *)(a1 + 48) + (float)(_S3 / (float)(*(float *)(a1 + 44) * *(float *)(a1 + 40)));
        __asm
        {
          FCVT            H3, S3
          FCVT            S4, H3
        }
        if (_S4 <= 0.0)
          _S3 = 0.0;
LABEL_8:
        *v22++ = LOWORD(_S3);
        ++v21;
        --v23;
      }
      while (v23);
      ++v19;
      v15 += v16;
      v17 = (float *)((char *)v17 + v18);
      BaseAddress = (unsigned __int16 *)((char *)BaseAddress + BytesPerRow);
    }
    while (v19 != Height);
  }
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)a1, 0);
  CVPixelBufferUnlockBaseAddress(a4, 0);
  CVPixelBufferUnlockBaseAddress(pixelBuffer, 1uLL);
  result = sub_1B568FC14(*(__CVBuffer **)a1, *(__CVBuffer **)(a1 + 8), *(float *)(a1 + 52), *(float *)(a1 + 56), *(float *)(a1 + 60), *(float *)(a1 + 64));
  if (*(float *)(a1 + 52) > 0.0 || *(float *)(a1 + 56) > 0.0 || *(float *)(a1 + 60) > 0.0 || *(float *)(a1 + 64) > 0.0)
  {
    v32 = *(__CVBuffer **)(a1 + 8);
    CVPixelBufferLockBaseAddress(v32, 0);
    CVPixelBufferLockBaseAddress(a4, 0);
    v33 = (char *)CVPixelBufferGetBaseAddress(v32);
    v34 = CVPixelBufferGetHeight(v32);
    v35 = CVPixelBufferGetWidth(v32);
    v36 = CVPixelBufferGetBytesPerRow(v32);
    v37 = (char *)CVPixelBufferGetBaseAddress(a4);
    CVPixelBufferGetHeight(a4);
    CVPixelBufferGetWidth(a4);
    v38 = CVPixelBufferGetBytesPerRow(a4);
    if (!v34 || !v35)
    {
LABEL_62:
      CVPixelBufferUnlockBaseAddress(a4, 0);
      return CVPixelBufferUnlockBaseAddress(v32, 0);
    }
    if (v35 < 4)
    {
      v39 = v37 + 4;
      v40 = (float *)(v33 + 8);
      do
      {
        v41 = *(v40 - 2);
        if (v41 >= 100000.0)
          v41 = 0.0;
        *(v40 - 2) = v41;
        if (v41 > 0.0)
          *(v39 - 2) = 26624;
        if (v35 != 1)
        {
          v42 = *(v40 - 1);
          if (v42 >= 100000.0)
            v42 = 0.0;
          *(v40 - 1) = v42;
          if (v42 > 0.0)
            *(v39 - 1) = 26624;
          if (v35 != 2)
          {
            v43 = *v40;
            if (*v40 >= 100000.0)
              v43 = 0.0;
            *v40 = v43;
            if (v43 > 0.0)
              *v39 = 26624;
          }
        }
        v39 = (_WORD *)((char *)v39 + v38);
        v40 = (float *)((char *)v40 + v36);
        --v34;
      }
      while (v34);
      goto LABEL_62;
    }
    v44 = 0;
    v45 = v37 + 4;
    v46 = (float32x4_t)vdupq_n_s32(0x47C35000u);
    v47 = v37;
    v48 = (int8x16_t *)v33;
    while (&v33[v44 * v36] < &v37[2 * v35 + v44 * v38] && &v37[v44 * v38] < &v33[4 * v35 + v44 * v36])
    {
      for (i = 0; i != v35; ++i)
      {
LABEL_58:
        v56 = *(float *)&v48->i32[i];
        if (v56 >= 100000.0)
          v56 = 0.0;
        *(float *)&v48->i32[i] = v56;
        if (v56 > 0.0)
          *(_WORD *)&v47[2 * i] = 26624;
      }
LABEL_38:
      ++v44;
      v48 = (int8x16_t *)((char *)v48 + v36);
      v45 = (_WORD *)((char *)v45 + v38);
      v47 += v38;
      if (v44 == v34)
        goto LABEL_62;
    }
    v50 = v45;
    v51 = v35 & 0xFFFFFFFFFFFFFFFCLL;
    v52 = v48;
    while (1)
    {
      v53 = (float32x4_t)vbicq_s8(*v52, (int8x16_t)vcgeq_f32(*(float32x4_t *)v52, v46));
      *v52 = (int8x16_t)v53;
      v54 = vmovn_s32(vcgtzq_f32(v53));
      if ((v54.i8[0] & 1) != 0)
      {
        *(v50 - 2) = 26624;
        if ((v54.i8[2] & 1) == 0)
          goto LABEL_48;
      }
      else if ((v54.i8[2] & 1) == 0)
      {
LABEL_48:
        if ((v54.i8[4] & 1) != 0)
          goto LABEL_49;
        goto LABEL_53;
      }
      *(v50 - 1) = 26624;
      if ((v54.i8[4] & 1) != 0)
      {
LABEL_49:
        *v50 = 26624;
        if ((v54.i8[6] & 1) != 0)
          goto LABEL_54;
        goto LABEL_45;
      }
LABEL_53:
      if ((v54.i8[6] & 1) != 0)
LABEL_54:
        v50[1] = 26624;
LABEL_45:
      ++v52;
      v50 += 4;
      v51 -= 4;
      if (!v51)
      {
        i = v35 & 0xFFFFFFFFFFFFFFFCLL;
        if (v35 == (v35 & 0xFFFFFFFFFFFFFFFCLL))
          goto LABEL_38;
        goto LABEL_58;
      }
    }
  }
  return result;
}

void sub_1B5690514()
{
  void *v0;
  uint64_t v1;
  void *v2;
  _QWORD v3[47];
  _QWORD v4[48];

  v4[47] = *MEMORY[0x1E0C80C00];
  v3[0] = CFSTR("colorWidth");
  v3[1] = CFSTR("colorHeight");
  v4[0] = &unk_1E6949D78;
  v4[1] = &unk_1E6949D78;
  v3[2] = CFSTR("shiftWidth");
  v3[3] = CFSTR("shiftHeight");
  v4[2] = &unk_1E6949D78;
  v4[3] = &unk_1E6949D78;
  v3[4] = CFSTR("alphaWidth");
  v3[5] = CFSTR("alphaHeight");
  v4[4] = &unk_1E6949D78;
  v4[5] = &unk_1E6949D78;
  v3[6] = CFSTR("kernelSize");
  v3[7] = CFSTR("guidedFilterUnconfidentWeight");
  v4[6] = &unk_1E6949D90;
  v4[7] = &unk_1E694A510;
  v3[8] = CFSTR("guidedFilterMinDistToDeweight");
  v3[9] = CFSTR("referenceShift");
  v4[8] = &unk_1E6949DA8;
  v4[9] = &unk_1E6949DC0;
  v3[10] = CFSTR("alphaMaxLaplacian");
  v3[11] = CFSTR("alphaContrastExponent");
  v4[10] = &unk_1E694A520;
  v4[11] = &unk_1E6949DD8;
  v3[12] = CFSTR("shiftFilterColorStd");
  v3[13] = CFSTR("shiftFilterUpdateRate");
  v4[12] = &unk_1E6949DF0;
  v4[13] = &unk_1E694A530;
  v3[14] = CFSTR("maxShiftFillingInconsistency");
  v3[15] = CFSTR("maxShiftFillingDistFromFg");
  v4[14] = &unk_1E6949E08;
  v4[15] = &unk_1E6949DA8;
  v3[16] = CFSTR("maxDistToPushShiftEdgesFwd");
  v3[17] = CFSTR("maxDistToPushShiftEdgesRev");
  v4[16] = &unk_1E6949E20;
  v4[17] = &unk_1E6949E20;
  v3[18] = CFSTR("shiftPushingBgToFgShiftDifference");
  v3[19] = CFSTR("kCVAVideoMattingProperty_focusMachineVariationThreshold");
  v4[18] = &unk_1E6949E38;
  v4[19] = &unk_1E6949E50;
  v3[20] = CFSTR("kCVAVideoMattingProperty_focusMachineMinFastFrames");
  v3[21] = CFSTR("kCVAVideoMattingDebug_focusMachineState");
  v4[20] = &unk_1E6949E50;
  v4[21] = MEMORY[0x1E0C9AAB0];
  v3[22] = CFSTR("kCVAVideoMattingProperty_focusThresholdHardness");
  v3[23] = CFSTR("width");
  v4[22] = &unk_1E694A540;
  v4[23] = &unk_1E6949D78;
  v3[24] = CFSTR("height");
  v3[25] = CFSTR("kCVAFusionProperty_outputRotation");
  v4[24] = &unk_1E6949D78;
  v4[25] = &unk_1E6949E20;
  v3[26] = CFSTR("bgShiftUpdateRate");
  v3[27] = CFSTR("kCVAFusionProperty_bgShiftStatsWindowSize");
  v4[26] = &unk_1E694A550;
  v4[27] = &unk_1E6949E50;
  v3[28] = CFSTR("kCVAFusionProperty_invalidShiftRatioStatsWindowSize");
  v3[29] = CFSTR("cntDeltaShift");
  v4[28] = &unk_1E6949E50;
  v4[29] = &unk_1E6949E68;
  v3[30] = CFSTR("minDeltaShift");
  v3[31] = CFSTR("maxDeltaShift");
  v4[30] = &unk_1E6949DF0;
  v4[31] = &unk_1E6949E80;
  v3[32] = CFSTR("dsLowThld");
  v3[33] = CFSTR("dsLowScale");
  v4[32] = &unk_1E6949E98;
  v4[33] = &unk_1E694A560;
  v3[34] = CFSTR("dsHighThld");
  v3[35] = CFSTR("dsHighScale");
  v4[34] = &unk_1E6949EB0;
  v4[35] = &unk_1E694A570;
  v3[36] = CFSTR("kCVAFusionProperty_foregroundPercentile");
  v3[37] = CFSTR("kCVAFusionProperty_closeDisparityPercentile");
  v4[36] = &unk_1E694A530;
  v4[37] = &unk_1E694A580;
  v3[38] = CFSTR("kCVAFusionProperty_deltaDepth");
  v3[39] = CFSTR("kCVAFusionProperty_backgroundSeparationLikelihoodTemporalUpdateRate");
  v4[38] = &unk_1E694A530;
  v4[39] = &unk_1E694A550;
  v3[40] = CFSTR("kCVAFusionProperty_backgroundSeparationLikelihoodUpdateRate");
  v3[41] = CFSTR("kCVAFusionProperty_backgroundSeparationLikelihoodUpdateThreshold");
  v4[40] = &unk_1E694A570;
  v4[41] = &unk_1E694A550;
  v3[42] = CFSTR("kCVAFusionProperty_invalidShiftRatioUpdateRate");
  v3[43] = CFSTR("nearSubjectDisparityScalingFactor");
  v4[42] = &unk_1E694A590;
  v4[43] = &unk_1E694A540;
  v3[44] = CFSTR("farSubjectDisparityScalingFactor");
  v3[45] = CFSTR("nearFocusDistanceRatioThreshold");
  v4[44] = &unk_1E694A5A0;
  v4[45] = &unk_1E694A5B0;
  v3[46] = CFSTR("farFocusDistanceRatioThreshold");
  v4[46] = &unk_1E694A5C0;
  objc_msgSend(MEMORY[0x1E0C99D80], "dictionaryWithObjects:forKeys:count:", v4, v3, 47);
  v0 = (void *)objc_claimAutoreleasedReturnValue();
  v1 = objc_msgSend(objc_alloc(MEMORY[0x1E0C99EA0]), "initWithSuiteName:", CFSTR("com.apple.coremedia"));
  v2 = (void *)qword_1EF12D308;
  qword_1EF12D308 = v1;

  objc_msgSend((id)qword_1EF12D308, "registerDefaults:", v0);
}

uint64_t sub_1B569090C(const __CFString *a1, const __CFString *a2, uint64_t a3)
{
  CFPropertyListRef v4;
  void *v5;
  CFTypeID v6;
  id v7;
  CFTypeID v8;
  uint64_t v9;
  CFTypeID v10;

  v4 = CFPreferencesCopyValue(a1, a2, (CFStringRef)*MEMORY[0x1E0C9B260], (CFStringRef)*MEMORY[0x1E0C9B230]);
  if (v4)
  {
    v5 = (void *)v4;
    v6 = CFGetTypeID(v4);
    if (v6 == CFStringGetTypeID())
    {
      v7 = v5;
      if (objc_msgSend(v7, "compare:options:", CFSTR("true"), 1)
        && objc_msgSend(v7, "compare:options:", CFSTR("yes"), 1))
      {
        if (objc_msgSend(v7, "compare:options:", CFSTR("false"), 1)
          && objc_msgSend(v7, "compare:options:", CFSTR("no"), 1)
          && objc_msgSend(v7, "compare:options:", CFSTR("0"), 1))
        {
          if (objc_msgSend(v7, "intValue"))
            a3 = objc_msgSend(v7, "intValue");
        }
        else
        {
          a3 = 0;
        }
      }
      else
      {
        a3 = 1;
      }

      goto LABEL_18;
    }
    v8 = CFGetTypeID(v5);
    if (v8 == CFNumberGetTypeID())
    {
      v9 = objc_msgSend(v5, "intValue");
    }
    else
    {
      v10 = CFGetTypeID(v5);
      if (v10 != CFBooleanGetTypeID())
      {
LABEL_18:
        CFRelease(v5);
        return a3;
      }
      v9 = objc_msgSend(v5, "BOOLValue");
    }
    a3 = v9;
    goto LABEL_18;
  }
  return a3;
}

CVPixelBufferRef *sub_1B5690A68(CVPixelBufferRef *a1)
{
  CVPixelBufferRelease(a1[17]);
  a1[17] = 0;
  CVPixelBufferRelease(a1[18]);
  a1[18] = 0;
  CVPixelBufferRelease(a1[19]);
  a1[19] = 0;
  CVPixelBufferRelease(a1[20]);
  a1[20] = 0;
  CVPixelBufferRelease(a1[21]);
  a1[21] = 0;
  CVPixelBufferRelease(a1[22]);
  a1[22] = 0;
  CVPixelBufferRelease(a1[23]);
  a1[23] = 0;
  CVPixelBufferRelease(a1[24]);
  a1[24] = 0;
  CVPixelBufferRelease(a1[25]);
  a1[25] = 0;
  CVPixelBufferRelease(a1[26]);
  a1[26] = 0;
  CVPixelBufferRelease(a1[27]);
  a1[27] = 0;
  CVPixelBufferRelease(a1[28]);
  a1[28] = 0;
  CVPixelBufferRelease(a1[29]);
  a1[29] = 0;
  return a1;
}

void sub_1B5690B24(unsigned __int16 *a1, unsigned __int16 a2, unsigned __int16 a3, int a4, int a5, int a6, int a7, __int16 a8, float a9, float a10, __int16 a11, unsigned __int16 a12, unsigned __int16 a13, void *a14, __CVBuffer *a15, __CVBuffer *a16, _DWORD *a17)
{
  int v26;
  int v27;
  __CVBuffer *v28;
  __CVBuffer *v29;
  __CVBuffer *v30;
  __CVBuffer *v31;
  id v32;
  float *v33;
  int v34;
  size_t v35;
  __CVBuffer *v36;
  _QWORD *v37;
  uint64_t v38;
  unsigned __int8 v39;
  int v40;
  int v41;
  void *BaseAddress;
  size_t Height;
  size_t BytesPerRow;
  int v45;
  _QWORD *v46;
  uint64_t v47;
  _QWORD *v48;
  uint64_t v49;
  uint64_t (**v50)();
  int16x4_t v51;
  float v52;
  _QWORD *v53;
  uint64_t v54;
  uint64_t v55;
  int v56;
  int v57;
  float v58;
  int v59;
  int v60;
  int v61;
  int v62;
  unsigned int v63;
  int v64;
  unint64_t v65;
  uint64_t v66;
  float v67;
  unint64_t v68;
  char *v69;
  int v70;
  uint64_t v71;
  char *v72;
  int v73;
  int v74;
  unsigned int v75;
  int v76;
  int v77;
  int v78;
  int v79;
  uint64_t v80;
  uint64_t v81;
  char *v82;
  char *v83;
  float v84;
  int v85;
  uint64_t v86;
  char *v87;
  int v88;
  unsigned __int16 *v89;
  float v90;
  int v91;
  unsigned int v92;
  uint64_t v93;
  char v94;
  float v95;
  int v96;
  uint64_t v97;
  uint64_t v98;
  uint64_t v99;
  float v100;
  char v101;
  float v102;
  float v103;
  float *v104;
  float *v105;
  uint64_t v106;
  __CVBuffer *v107;
  float *v108;
  __CVBuffer *v109;
  uint64_t v110;
  float *v111;
  int v112;
  float v113;
  float v114;
  int v116;
  float v117;
  CVPixelBufferRef v118;
  float v119;
  uint64_t i;
  __CVBuffer *v121;
  uint64_t v122;
  float *v123;
  int v124;
  float v125;
  unint64_t v126;
  uint64_t v127;
  float v128;
  uint64_t v129;
  float v130;
  unsigned __int16 *v131;
  CVPixelBufferRef v132;
  unint64_t v133;
  float v134;
  uint64_t v135;
  float v136;
  int v137;
  unsigned int v138;
  float v139;
  float v140;
  int v141;
  unint64_t v142;
  int v143;
  int v144;
  unint64_t v145;
  char *v146;
  char *v147;
  float v148;
  uint64_t v149;
  unint64_t v150;
  uint64_t v151;
  unint64_t v152;
  float v153;
  int v154;
  unsigned int v155;
  char v157;
  float v158;
  char *v159;
  float v160;
  int v161;
  uint64_t v162;
  unsigned __int16 *v163;
  uint64_t v164;
  float v165;
  unsigned int v166;
  char v168;
  uint64_t v169;
  uint64_t v170;
  int v171;
  unsigned int v172;
  char v174;
  uint64_t v175;
  uint64_t v176;
  char *v177;
  int v178;
  uint64_t v179;
  unint64_t v180;
  uint64_t v181;
  unint64_t v182;
  float v183;
  int v184;
  unsigned int v185;
  char v187;
  _QWORD *v188;
  uint64_t v189;
  _QWORD *v190;
  uint64_t v191;
  __CVBuffer *v192;
  __CVBuffer *v193;
  __CVBuffer *v194;
  __CVBuffer *v195;
  __CVBuffer *v196;
  char *v197;
  size_t v198;
  char *v199;
  size_t v200;
  size_t v201;
  char *v202;
  size_t v203;
  char *v204;
  char *v205;
  char *v206;
  uint64_t v207;
  char *v208;
  char *v209;
  char *v210;
  char *v211;
  uint64_t v212;
  char *v213;
  uint64_t v214;
  int v215;
  uint64_t v217;
  uint64_t v218;
  float v219;
  float v220;
  uint64_t v221;
  float v222;
  float v223;
  float v224;
  float v225;
  float v226;
  float v227;
  float v228;
  float v229;
  float v230;
  float v231;
  float v232;
  float v233;
  int v234;
  int v235;
  unsigned __int8 v236;
  void *v237;
  size_t v238;
  size_t v239;
  __CVBuffer *v240;
  __CVBuffer *v241;
  __CVBuffer *v242;
  __CVBuffer *v243;
  __CVBuffer *v244;
  char *v245;
  uint64_t v246;
  char *v247;
  uint64_t v248;
  char *v249;
  uint64_t v250;
  uint64_t v251;
  uint64_t v252;
  char *v253;
  uint64_t v254;
  char *v255;
  float *v256;
  char *v257;
  char *v258;
  int v259;
  char *v261;
  float v262;
  float v263;
  float v264;
  float v265;
  float v266;
  float *v267;
  float v268;
  float v269;
  float v270;
  float v271;
  float *v272;
  unsigned __int8 *v273;
  float v274;
  float v275;
  float v276;
  float v277;
  float v278;
  float v279;
  int v280;
  int v281;
  size_t v282;
  char *v283;
  char *v284;
  char *v285;
  uint64_t v286;
  char *v287;
  char *v288;
  uint64_t v289;
  char *v290;
  uint64_t v291;
  int v292;
  uint64_t v294;
  uint64_t v295;
  float v296;
  float v297;
  uint64_t v298;
  float v299;
  float v300;
  float v301;
  float v302;
  float v303;
  float v304;
  float v305;
  float v306;
  float v307;
  float v308;
  float v309;
  float v310;
  int v311;
  int v312;
  size_t v313;
  char *v314;
  char *v315;
  char *v316;
  uint64_t v317;
  char *v318;
  char *v319;
  size_t v320;
  char *v321;
  size_t v322;
  int v323;
  uint64_t v325;
  float v326;
  float v327;
  size_t v328;
  uint64_t v329;
  float v330;
  float v331;
  float v332;
  float v333;
  float v334;
  float v335;
  float v336;
  float v337;
  float v338;
  float v339;
  float v340;
  float v341;
  int v342;
  uint64_t v343;
  uint64_t v344;
  uint64_t v345;
  uint64_t v346;
  uint64_t v347;
  uint64_t v348;
  uint64_t v349;
  float v350;
  float v351;
  int v352;
  __CVBuffer *v354;
  __CVBuffer *v355;
  float *v356;
  int v357;
  unsigned int v358;
  size_t v359;
  float *v360;
  size_t v361;
  int32x2_t v362;
  uint64_t v363;
  float v364;
  float v365;
  float v366;
  float v367;
  float v368;
  float v369;
  float v370;
  int v371;
  float v372;
  int v373;
  float v374;
  float *v375;
  int v376;
  uint64_t v377;
  int v378;
  float v379;
  float v380;
  int v381;
  int v382;
  float v383;
  float v384;
  uint64_t j;
  float *v386;
  float *v387;
  uint64_t v388;
  float v389;
  uint64_t v390;
  float32x4_t v391;
  uint64_t v392;
  uint64_t v393;
  float32x4_t *v394;
  float32x4_t *v395;
  float *v396;
  float *v397;
  float32x4_t *v399;
  float32x4_t *v400;
  unint64_t v401;
  float32x4_t v402;
  unint64_t v403;
  unint64_t v404;
  uint64_t v405;
  float *v406;
  float *v407;
  float v408;
  __CVBuffer *v409;
  float32x4_t *v410;
  size_t v411;
  size_t v412;
  size_t v413;
  float v414;
  float v415;
  float v416;
  float v417;
  float *v418;
  uint64_t v419;
  float32x4_t v420;
  float32x4_t *v421;
  unint64_t v422;
  unint64_t v423;
  unint64_t v424;
  BOOL v426;
  BOOL v428;
  float32x4_t v430;
  float32x4_t v431;
  float32x4_t v432;
  float v433;
  float32x4_t v434;
  float32x4_t *v435;
  unint64_t v436;
  float *v437;
  char *v438;
  size_t v439;
  float32x4_t *v440;
  int v441;
  int v442;
  size_t v443;
  size_t v444;
  unsigned __int8 *v445;
  size_t v446;
  __int128 v447;
  unsigned int v448;
  unsigned int v449;
  int32x2_t v450;
  int32x2_t v451;
  int32x2_t v452;
  int32x2_t v453;
  unint64_t v454;
  unsigned __int8 *v455;
  unint64_t v456;
  unsigned int v457;
  uint64_t v458;
  int v459;
  unsigned int v460;
  int v461;
  unsigned int v462;
  unint64_t v463;
  char *v464;
  uint64_t v465;
  int v466;
  size_t v467;
  int v468;
  unint64_t v469;
  unint64_t v470;
  unint64_t v471;
  unint64_t v472;
  uint64_t v473;
  unint64_t v474;
  char *v475;
  unint64_t v476;
  unint64_t v477;
  unint64_t v478;
  unint64_t v479;
  unint64_t v480;
  char *v481;
  uint64_t v482;
  int v483;
  size_t v484;
  int v485;
  unint64_t v486;
  unint64_t v487;
  char *v488;
  char *v489;
  int v490;
  float v491;
  float v492;
  float v493;
  float v494;
  float v495;
  int v496;
  float v497;
  float v498;
  int v499;
  float32x4_t v500;
  float32x4_t v501;
  uint32x4_t v502;
  float32x4_t v503;
  float32x4_t v504;
  float32x4_t v505;
  int v509;
  int32x4_t v510;
  uint32x4_t v511;
  int v512;
  unint64_t v513;
  uint64_t v514;
  unsigned int v515;
  float32x4_t v516;
  int32x4_t v517;
  int32x4_t v518;
  int8x16_t v519;
  int v520;
  char *v521;
  float v522;
  float v523;
  uint64_t v524;
  char *v525;
  uint64_t v526;
  float v527;
  unint64_t v528;
  const float *v529;
  int8x16_t v530;
  char *v531;
  size_t v532;
  char *v533;
  float v534;
  float v535;
  int v536;
  float32x4_t *v537;
  int32x2_t v538;
  float32x4_t v539;
  float32x4_t v540;
  float32x4_t v541;
  float32x4_t v542;
  float32x4_t v543;
  float32x4_t v544;
  uint64_t v545;
  uint64_t v546;
  uint64_t v547;
  uint64_t v548;
  uint64_t v549;
  uint64_t v550;
  uint64_t v551;
  uint64_t v552;
  float32x4_t v553;
  float32x4_t v554;
  float32x4_t v555;
  uint32x4_t v556;
  uint64_t v557;
  float32x4_t v558;
  int8x16_t v559;
  float32x4_t v560;
  float32x4_t v561;
  int8x16_t v562;
  uint64_t v563;
  char *v564;
  float v565;
  float v566;
  float v567;
  int v568;
  float v569;
  float v570;
  float v571;
  float v572;
  int v573;
  float v574;
  unsigned int v575;
  float32x4_t *v576;
  float32x4_t *v577;
  float *v578;
  float *v579;
  BOOL v580;
  float32x4_t *v581;
  float32x4_t *v582;
  unint64_t v583;
  float *v584;
  float *v585;
  uint64_t v586;
  float32x4_t v587;
  float v588;
  void *v589;
  char v590;
  void *v591;
  char v592;
  __CVBuffer *v593;
  __CVBuffer *v594;
  id v595;
  size_t v596;
  size_t v597;
  __CVBuffer *v598;
  size_t v599;
  size_t v600;
  int v601;
  int v602;
  __CVBuffer *v603;
  id v604;
  __CVBuffer *v605;
  float *v606;
  __CVBuffer *v607;
  char *v608;
  __CVBuffer *v609;
  uint64_t __dst;
  char *__dsta;
  int v612;
  void *v613;
  size_t v614;
  char *v615;
  uint64_t v616;
  char *v617;
  int v618;
  size_t v619;
  uint64_t v620;
  __CVBuffer *v621;
  char *v622;
  __CVBuffer *v623;
  CVPixelBufferRef v624;
  __CVBuffer *v625;
  int v626;
  CVPixelBufferRef v627;
  __CVBuffer *v628;
  int v629;
  CVPixelBufferRef v630;
  __CVBuffer *v631;
  __CVBuffer *v632;
  CVPixelBufferRef v633;
  __CVBuffer *v634;
  __CVBuffer *v635;
  CVPixelBufferRef v636;
  __CVBuffer *v637;
  char *v638;
  char *v639;
  int v640;
  unint64_t v641;
  char *v642;
  char *v643;
  int v644;
  int v645;
  size_t v646;
  char *v647;
  float v648;
  char *v649;
  char *v650;
  float v651;
  size_t __n;
  int __na;
  int v654;
  size_t v655;
  int v656;
  int v657;
  size_t v658;
  int v659;
  float v660;
  uint64_t v661;
  int v662;
  size_t v663;
  float v664;
  uint64_t v665;
  uint64_t v666;
  size_t v667;
  float v668;
  int v669;
  int v670;
  size_t v671;
  char *v672;
  int v673;
  char *v674;
  unsigned __int8 *v675;
  float v676;
  size_t v677;
  size_t v678;
  size_t v679;
  int __src;
  void *__srca;
  size_t __srcb;
  char *__srcc;
  unsigned __int16 *v685;
  void *v686;
  size_t v687;
  size_t Width;
  size_t v689;
  int v690;
  _BYTE buf[22];
  __int16 v692;
  _BYTE v693[10];
  __int16 v694;
  int v695;
  __int16 v696;
  int v697;
  __int16 v698;
  int v699;
  _QWORD v700[3];
  _QWORD *v701;
  _QWORD v702[3];
  _QWORD *v703;
  uint64_t v704;

  v704 = *MEMORY[0x1E0C80C00];
  v604 = a14;
  *(_DWORD *)a1 = 207622272;
  a1[2] = a2;
  a1[3] = a3;
  a1[4] = a2 - a8;
  a1[5] = a3 - a11;
  a1[6] = a4;
  a1[7] = a5;
  a1[8] = a6;
  a1[9] = a7;
  a1[10] = a12;
  a1[11] = a13;
  *((float *)a1 + 10) = a9;
  v26 = (unsigned __int16)((a4 + a6 - 1) / a4);
  v27 = (a5 + a7 - 1) / a5;
  v685 = a1;
  if (a1[12] != v26 || a1[13] != (unsigned __int16)v27)
  {
    v39 = atomic_load((unsigned __int8 *)&qword_1EF12D970);
    if ((v39 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D970))
    {
      +[CVAPreferenceManager defaults](CVAPreferenceManager, "defaults");
      v589 = (void *)objc_claimAutoreleasedReturnValue();
      v590 = objc_msgSend(v589, "BOOLForKey:", CFSTR("singleCamSDoFPreviewLog"));

      byte_1EF12D968 = v590;
      __cxa_guard_release(&qword_1EF12D970);
    }
    if (byte_1EF12D968 && os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
    {
      v40 = v685[12];
      v41 = v685[13];
      *(_DWORD *)buf = 136316674;
      *(_QWORD *)&buf[4] = "/Library/Caches/com.apple.xbs/Sources/AppleCVAPhoto/module/sdof/src/FocusStatsPostprocessing.mm";
      *(_WORD *)&buf[12] = 2080;
      *(_QWORD *)&buf[14] = "process";
      v692 = 1024;
      *(_DWORD *)v693 = 206;
      *(_WORD *)&v693[4] = 1024;
      *(_DWORD *)&v693[6] = v26;
      v694 = 1024;
      v695 = (unsigned __int16)v27;
      v696 = 1024;
      v697 = v40;
      v698 = 1024;
      v699 = v41;
      _os_log_impl(&dword_1B5656000, MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT, "SingleCamSDoFPreviewLog: %s::%s line %d: numTiles = %dx%d from per-frame parameters don't match per-device parameters %dx%d\n", buf, 0x34u);
    }
    CVPixelBufferLockBaseAddress(a16, 0);
    BaseAddress = CVPixelBufferGetBaseAddress(a16);
    Height = CVPixelBufferGetHeight(a16);
    CVPixelBufferGetWidth(a16);
    BytesPerRow = CVPixelBufferGetBytesPerRow(a16);
    bzero(BaseAddress, BytesPerRow * Height);
    v45 = 0;
    CVPixelBufferUnlockBaseAddress(a16, 0);
    goto LABEL_12;
  }
  v28 = a15;
  v30 = (__CVBuffer *)*((_QWORD *)a1 + 17);
  v29 = (__CVBuffer *)*((_QWORD *)a1 + 18);
  v31 = (__CVBuffer *)*((_QWORD *)a1 + 28);
  v32 = v604;
  CVPixelBufferLockBaseAddress(a15, 1uLL);
  CVPixelBufferLockBaseAddress(v30, 0);
  CVPixelBufferLockBaseAddress(v29, 0);
  CVPixelBufferLockBaseAddress(v31, 0);
  v595 = objc_retainAutorelease(v32);
  v638 = (char *)objc_msgSend(v595, "bytes");
  v686 = CVPixelBufferGetBaseAddress(a15);
  v687 = CVPixelBufferGetHeight(a15);
  Width = CVPixelBufferGetWidth(a15);
  v689 = CVPixelBufferGetBytesPerRow(a15);
  v602 = Width;
  v601 = v687;
  v33 = (float *)CVPixelBufferGetBaseAddress(v30);
  v34 = CVPixelBufferGetHeight(v30);
  v612 = CVPixelBufferGetWidth(v30);
  v35 = CVPixelBufferGetBytesPerRow(v30);
  v36 = (__CVBuffer *)CVPixelBufferGetBaseAddress(v29);
  CVPixelBufferGetHeight(v29);
  CVPixelBufferGetWidth(v29);
  v614 = CVPixelBufferGetBytesPerRow(v29);
  v608 = (char *)CVPixelBufferGetBaseAddress(v31);
  CVPixelBufferGetHeight(v31);
  CVPixelBufferGetWidth(v31);
  v677 = CVPixelBufferGetBytesPerRow(v31);
  v594 = v31;
  *((_QWORD *)v685 + 16) = 4286578687;
  *((_OWORD *)v685 + 7) = xmmword_1B56AC230;
  v703 = 0;
  v701 = 0;
  v598 = v30;
  if (CVPixelBufferGetPixelFormatType(a15) == 1278226488)
  {
    *(_QWORD *)buf = &off_1E69369F8;
    *(_QWORD *)&buf[8] = &v686;
    *(_QWORD *)v693 = buf;
    sub_1B568B08C(buf, v702);
    v37 = *(_QWORD **)v693;
    if (*(_BYTE **)v693 == buf)
    {
      v38 = 4;
      v37 = buf;
    }
    else
    {
      if (!*(_QWORD *)v693)
      {
LABEL_23:
        v50 = &off_1E6936A40;
        goto LABEL_30;
      }
      v38 = 5;
    }
    (*(void (**)(void))(*v37 + 8 * v38))();
    goto LABEL_23;
  }
  if (CVPixelBufferGetPixelFormatType(a15) == 1278226534)
  {
    *(_QWORD *)buf = &off_1E6936A88;
    *(_QWORD *)&buf[8] = &v686;
    *(_QWORD *)v693 = buf;
    sub_1B568B08C(buf, v702);
    v46 = *(_QWORD **)v693;
    if (*(_BYTE **)v693 == buf)
    {
      v47 = 4;
      v46 = buf;
    }
    else
    {
      if (!*(_QWORD *)v693)
      {
LABEL_26:
        v50 = &off_1E6936AD0;
        goto LABEL_30;
      }
      v47 = 5;
    }
    (*(void (**)(void))(*v46 + 8 * v47))();
    goto LABEL_26;
  }
  if (CVPixelBufferGetPixelFormatType(a15) != 1278226536)
    goto LABEL_105;
  *(_QWORD *)buf = &off_1E6936B18;
  *(_QWORD *)&buf[8] = &v686;
  *(_QWORD *)v693 = buf;
  sub_1B568B08C(buf, v702);
  v48 = *(_QWORD **)v693;
  if (*(_BYTE **)v693 == buf)
  {
    v49 = 4;
    v48 = buf;
    goto LABEL_28;
  }
  if (*(_QWORD *)v693)
  {
    v49 = 5;
LABEL_28:
    (*(void (**)(void))(*v48 + 8 * v49))();
  }
  v50 = &off_1E6936B60;
LABEL_30:
  *(_QWORD *)buf = v50;
  *(_QWORD *)v693 = buf;
  sub_1B568B08C(buf, v700);
  v53 = *(_QWORD **)v693;
  if (*(_BYTE **)v693 == buf)
  {
    v54 = 4;
    v53 = buf;
    goto LABEL_34;
  }
  if (*(_QWORD *)v693)
  {
    v54 = 5;
LABEL_34:
    (*(void (**)(void))(*v53 + 8 * v54))();
  }
  v593 = v29;
  if (v34 < 1)
  {
    v28 = a15;
    goto LABEL_105;
  }
  v606 = v33;
  v55 = 0;
  v56 = 0;
  v627 = 0;
  v630 = 0;
  v622 = (char *)(v685 + 120);
  v57 = (__int16)v685[5];
  v58 = (float)v601;
  v59 = v601 - 1;
  v633 = v36;
  __dst = v34 - 1;
  v616 = v34;
  do
  {
    v60 = (__int16)v685[5];
    v61 = v685[9];
    if (v55 < __dst)
    {
      v60 = v685[7];
      v61 = v57;
    }
    v62 = v61 + v60;
    v63 = v685[24];
    LOWORD(v52) = v685[11];
    v52 = (float)LODWORD(v52);
    v618 = v62;
    v64 = (int)(float)((float)((float)((float)v62 + 0.5) * (float)v63) / v52);
    if (v64 >= (int)v63)
      v65 = v685[24];
    else
      v65 = v64;
    v620 = v55;
    if (v612 >= 1)
    {
      v66 = 0;
      v67 = (float)v57 + 0.5;
      *(float *)v51.i32 = (float)(v67 * (float)v63) / v52;
      v68 = (int)*(float *)v51.i32 & ~((int)*(float *)v51.i32 >> 31);
      v649 = (char *)v68;
      __n = (size_t)v606 + v35 * v55;
      v69 = (char *)v36 + v614 * v55;
      v70 = (__int16)v685[4];
      v645 = v65 - v68;
      v71 = v56;
      v624 = (CVPixelBufferRef)&v608[v677 * v68];
      v642 = v69;
      v672 = (char *)v65;
      while (1)
      {
        v72 = &v638[8 * v71];
        v51.i16[0] = *(_WORD *)v72;
        v51 = (int16x4_t)vmovl_s16(v51).u64[0];
        LOWORD(v52) = v685[22];
        *(float *)(__n + 4 * v66) = (float)v51.i32[0] / (float)LODWORD(v52);
        v654 = v72[4];
        v69[v66] = (v654 != 0) << 7;
        v73 = (__int16)v685[4];
        v74 = v685[8];
        if (v66 < v612 - 1)
        {
          v73 = v685[6];
          v74 = v70;
        }
        v75 = v685[23];
        v52 = (float)v75;
        LOWORD(v67) = v685[10];
        v67 = (float)LODWORD(v67);
        v76 = v74 + v73;
        v77 = (int)(float)((float)((float)((float)v70 + 0.5) * (float)v75) / v67) & ~((int)(float)((float)((float)((float)v70 + 0.5) * (float)v75)
                                                                                                 / v67) >> 31);
        *(float *)v51.i32 = (float)((float)((float)v76 + 0.5) * (float)v75) / v67;
        if ((int)*(float *)v51.i32 >= (int)v75)
          v78 = v685[23];
        else
          v78 = (int)*(float *)v51.i32;
        v661 = v71;
        v665 = v66;
        v657 = v76;
        __src = (int)(float)((float)((float)((float)v70 + 0.5) * (float)v75) / v67) & ~((int)(float)((float)((float)((float)v70 + 0.5) * (float)v75) / v67) >> 31);
        if ((int)v65 <= (int)v68)
          goto LABEL_76;
        v79 = v68;
        if (v78 <= v77)
          break;
        v80 = 0;
        v81 = 0;
        v82 = v649;
        v83 = (char *)v624 + v77;
        do
        {
          LOWORD(v52) = v685[24];
          v84 = (float)((float)((float)(int)v82 + 0.5) * v58) / (float)LODWORD(v52);
          v85 = (int)v84 & ~((int)v84 >> 31);
          if (v85 >= v59)
            v85 = v59;
          *(_DWORD *)buf = v85;
          if (!v703)
            goto LABEL_642;
          v86 = (*(uint64_t (**)(_QWORD *, _BYTE *))(*v703 + 48))(v703, buf);
          v87 = v83;
          v88 = __src;
          v89 = v685;
          do
          {
            LOWORD(v52) = v89[23];
            v90 = (float)((float)((float)v88 + 0.5) * (float)v602) / (float)LODWORD(v52);
            v91 = (int)v90 & ~((int)v90 >> 31);
            if (v91 >= v602 - 1)
              v91 = v602 - 1;
            *(_QWORD *)buf = v86;
            v690 = v91;
            if (!v701)
              goto LABEL_642;
            v92 = (*(uint64_t (**)(_QWORD *, _BYTE *, int *))(*v701 + 48))(v701, buf, &v690);
            v89 = v685;
            if (v92 < *((unsigned __int8 *)v685 + 52))
              ++v80;
            v93 = (v92 >= *((unsigned __int8 *)v685 + 52)) & (v92 > *((unsigned __int8 *)v685 + 51));
            if (v92 >= *((unsigned __int8 *)v685 + 52) && v92 > *((unsigned __int8 *)v685 + 51))
              v94 = 64;
            else
              v94 = 32;
            *v87++ = v94;
            v81 += v93;
            ++v88;
          }
          while (v78 > v88);
          ++v82;
          LODWORD(v65) = (_DWORD)v672;
          v83 += v677;
          v59 = v601 - 1;
        }
        while (v82 != v672);
LABEL_77:
        v97 = (v78 - __src) * v645;
        if (v81 == v97)
        {
          v98 = v661;
          v99 = v665;
          v69 = v642;
          v642[v665] |= 0x40u;
          v36 = v633;
          LODWORD(v68) = (_DWORD)v649;
          if (v654)
          {
            v100 = *(float *)(__n + 4 * v665);
            v52 = *((float *)v685 + 28);
            v67 = *((float *)v685 + 29);
            if (v100 >= v52)
              v100 = *((float *)v685 + 28);
            *((float *)v685 + 28) = v100;
            v51.i32[0] = *(_DWORD *)(__n + 4 * v665);
            if (v67 >= *(float *)v51.i32)
              *(float *)v51.i32 = v67;
            *((_DWORD *)v685 + 29) = v51.i32[0];
            v630 = (CVPixelBufferRef)((char *)v630 + 1);
          }
        }
        else
        {
          v98 = v661;
          v99 = v665;
          v69 = v642;
          v101 = v642[v665];
          v36 = v633;
          LODWORD(v68) = (_DWORD)v649;
          if (v80 == v97)
          {
            v642[v665] = v101 | 0x20;
            v70 = v657;
            if (v654)
            {
              v102 = *(float *)(__n + 4 * v665);
              v52 = *((float *)v685 + 31);
              v67 = *((float *)v685 + 32);
              if (v102 >= v52)
                v102 = *((float *)v685 + 31);
              *((float *)v685 + 31) = v102;
              v51.i32[0] = *(_DWORD *)(__n + 4 * v665);
              if (v67 >= *(float *)v51.i32)
                *(float *)v51.i32 = v67;
              *((_DWORD *)v685 + 32) = v51.i32[0];
              v627 = (CVPixelBufferRef)((char *)v627 + 1);
            }
            goto LABEL_48;
          }
          v642[v665] = v101 | 0x10;
        }
        v70 = v657;
LABEL_48:
        v66 = v99 + 1;
        v71 = v98 + 1;
        if (v66 == v612)
        {
          v56 = v71;
          goto LABEL_38;
        }
      }
      do
      {
        LOWORD(v52) = v685[24];
        v95 = (float)((float)((float)v79 + 0.5) * v58) / (float)LODWORD(v52);
        v96 = (int)v95 & ~((int)v95 >> 31);
        if (v96 >= v59)
          v96 = v59;
        *(_DWORD *)buf = v96;
        if (!v703)
          goto LABEL_642;
        (*(void (**)(_QWORD *, _BYTE *))(*v703 + 48))(v703, buf);
        ++v79;
      }
      while ((_DWORD)v65 != v79);
LABEL_76:
      v81 = 0;
      v80 = 0;
      goto LABEL_77;
    }
LABEL_38:
    v55 = v620 + 1;
    v57 = v618;
  }
  while (v620 + 1 != v616);
  if (!v630)
  {
    v104 = (float *)(v685 + 62);
    v30 = v598;
    v29 = v593;
    v28 = a15;
    v105 = v606;
    if (v627)
    {
      v119 = *((float *)v685 + 32);
      goto LABEL_112;
    }
LABEL_105:
    v116 = 0;
    goto LABEL_209;
  }
  bzero(v622, 0x400uLL);
  v104 = (float *)(v685 + 62);
  v30 = v598;
  v29 = v593;
  v28 = a15;
  v105 = v606;
  if (v612 >= 1)
  {
    v106 = 0;
    v107 = v36;
    v108 = v606;
    do
    {
      v109 = v107;
      v110 = v612;
      v111 = v108;
      do
      {
        v112 = *(unsigned __int8 *)v109;
        v109 = (__CVBuffer *)((char *)v109 + 1);
        if (v112 == 192)
        {
          v113 = *v111;
          v114 = *((float *)v685 + 28);
          v103 = *((float *)v685 + 29);
          if (*v111 >= v114 && v113 < v103)
            *(float *)&v622[4 * (unint64_t)(float)((float)((float)(v113 - v114) * 256.0) / (float)(v103 - v114))] = *(float *)&v622[4 * (unint64_t)(float)((float)((float)(v113 - v114) * 256.0) / (float)(v103 - v114))] + 1.0;
        }
        ++v111;
        --v110;
      }
      while (v110);
      ++v106;
      v108 = (float *)((char *)v108 + v35);
      v107 = (__CVBuffer *)((char *)v107 + v614);
    }
    while (v106 != v616);
  }
  *((_DWORD *)v685 + 30) = 0;
  v117 = *((float *)v685 + 28);
  v118 = v627;
  if (!v627)
  {
    *((float *)v685 + 32) = v117;
    *((float *)v685 + 33) = v117;
    *((float *)v685 + 31) = v117;
    v132 = v630;
    goto LABEL_132;
  }
  if (v117 >= *((float *)v685 + 32))
    v119 = *((float *)v685 + 32);
  else
    v119 = *((float *)v685 + 28);
LABEL_112:
  bzero(v622, 0x400uLL);
  if (v612 >= 1)
  {
    for (i = 0; i != v616; ++i)
    {
      v121 = v36;
      v122 = v612;
      v123 = v105;
      do
      {
        v124 = *(unsigned __int8 *)v121;
        v121 = (__CVBuffer *)((char *)v121 + 1);
        if (v124 == 160)
        {
          v125 = *v123;
          if (*v123 < v119 && v125 >= *v104)
          {
            v126 = 4 * (unint64_t)(float)((float)((float)(v125 - *v104) * 256.0) / (float)(v119 - *v104));
            *(float *)&v622[v126] = *(float *)&v622[v126] + 1.0;
          }
        }
        ++v123;
        --v122;
      }
      while (v122);
      v105 = (float *)((char *)v105 + v35);
      v36 = (__CVBuffer *)((char *)v36 + v614);
    }
  }
  v127 = 0;
  *((_DWORD *)v685 + 316) = 872415232;
  v128 = 0.00000011921;
  do
  {
    v128 = v128 + *(float *)&v622[v127];
    *((float *)v685 + 316) = v128;
    v127 += 4;
  }
  while (v127 != 1024);
  v129 = 0;
  v130 = *((float *)v685 + 60) / v128;
  *((float *)v685 + 60) = v130;
  v131 = v685 + 122;
  v132 = v630;
  do
  {
    v130 = v130 + (float)(*(float *)&v131[v129] / *((float *)v685 + 316));
    *(float *)&v131[v129] = v130;
    v129 += 2;
  }
  while (v129 != 510);
  v133 = 0;
  v134 = *((float *)v685 + 31);
  v118 = v627;
  do
  {
    if (*(float *)&v622[4 * v133] > *((float *)v685 + 14))
      break;
    ++v133;
  }
  while (v133 != 256);
  v103 = v119 - v134;
  v117 = v134 + (float)((float)((float)v133 * 0.0039062) * (float)(v119 - v134));
  *((float *)v685 + 33) = v117;
  if (v630)
  {
LABEL_132:
    if (!((unint64_t)v118 | (unint64_t)v132))
      goto LABEL_105;
    goto LABEL_133;
  }
  *((float *)v685 + 29) = v117;
  *((float *)v685 + 30) = v117;
  *((float *)v685 + 28) = v117;
  if ((unint64_t)v627 == (unsigned __int128)0)
    goto LABEL_105;
LABEL_133:
  v135 = v685[23];
  LOWORD(v117) = v685[10];
  v136 = (float)LODWORD(v117);
  v137 = (__int16)v685[5];
  v138 = v685[24];
  v139 = (float)v138;
  LOWORD(v103) = v685[11];
  v140 = (float)LODWORD(v103);
  v141 = (int)(float)((float)((float)((float)v137 + 0.5) * (float)v138) / v140);
  v142 = v141 & ~(v141 >> 31);
  v669 = (__int16)v685[4];
  v143 = (int)(float)((float)((float)((float)(v685[8] + v669) + 0.5) * (float)v135) / (float)LODWORD(v117));
  if (v143 >= (int)v135)
    v144 = v685[23];
  else
    v144 = (int)(float)((float)((float)((float)(v685[8] + v669) + 0.5) * (float)v135)
                      / (float)LODWORD(v117));
  v673 = v144;
  LODWORD(v145) = (int)(float)((float)((float)((float)(v685[9] + v137) + 0.5) * v139) / v140);
  v662 = v145;
  v666 = v685[24];
  if ((int)v145 >= (int)v138)
    v145 = v685[24];
  else
    v145 = v145;
  __srca = (void *)v145;
  if (v141 >= 1)
  {
    v146 = 0;
    v147 = v608;
    do
    {
      LOWORD(v139) = v685[24];
      v148 = (float)((float)((float)(int)v146 + 0.5) * (float)v601) / (float)LODWORD(v139);
      *(_DWORD *)buf = (int)v148 & ~((int)v148 >> 31);
      if (!v703)
        goto LABEL_642;
      v149 = (*(uint64_t (**)(_QWORD *, _BYTE *))(*v703 + 48))(v703, buf);
      LOWORD(v150) = v685[23];
      if ((_WORD)v150)
      {
        v151 = v149;
        v152 = 0;
        do
        {
          v153 = (float)((float)((float)(int)v152 + 0.5) * (float)v602) / (float)(unsigned __int16)v150;
          v154 = (int)v153 & ~((int)v153 >> 31);
          if (v154 >= v602 - 1)
            v154 = v602 - 1;
          *(_QWORD *)buf = v151;
          v690 = v154;
          if (!v701)
            goto LABEL_642;
          v155 = (*(uint64_t (**)(_QWORD *, _BYTE *, int *))(*v701 + 48))(v701, buf, &v690);
          if (v155 > *((unsigned __int8 *)v685 + 51) && v155 >= *((unsigned __int8 *)v685 + 52))
            v157 = 64;
          else
            v157 = 32;
          v147[v152++] = v157;
          v150 = v685[23];
        }
        while (v152 < v150);
      }
      ++v146;
      v147 += v677;
    }
    while (v146 != (char *)v142);
  }
  if ((int)v142 < (int)__srca)
  {
    v670 = (int)(float)((float)((float)((float)v669 + 0.5) * (float)v135) / v136);
    v158 = (float)v602;
    if (v143 < v135)
      v135 = v143;
    v159 = &v608[v677 * v142];
    while (1)
    {
      LOWORD(v139) = v685[24];
      v160 = (float)((float)((float)(int)v142 + 0.5) * (float)v601) / (float)LODWORD(v139);
      v161 = (int)v160 & ~((int)v160 >> 31);
      if (v161 >= v601 - 1)
        v161 = v601 - 1;
      *(_DWORD *)buf = v161;
      if (!v703)
        goto LABEL_642;
      v162 = (*(uint64_t (**)(_QWORD *, _BYTE *))(*v703 + 48))(v703, buf);
      v163 = v685;
      if (v670 >= 1)
        break;
LABEL_174:
      LODWORD(v169) = v163[23];
      v170 = v135;
      if (v673 < (int)v169)
      {
        do
        {
          v171 = (int)(float)((float)((float)((float)(int)v170 + 0.5) * v158) / (float)(unsigned __int16)v169);
          if (v602 - 1 < v171)
            v171 = v602 - 1;
          *(_QWORD *)buf = v162;
          v690 = v171;
          if (!v701)
            goto LABEL_642;
          v172 = (*(uint64_t (**)(_QWORD *, _BYTE *, int *))(*v701 + 48))(v701, buf, &v690);
          if (v172 > *((unsigned __int8 *)v685 + 51) && v172 >= *((unsigned __int8 *)v685 + 52))
            v174 = 64;
          else
            v174 = 32;
          v159[v170++] = v174;
          v169 = v685[23];
        }
        while (v170 < v169);
      }
      ++v142;
      v159 += v677;
      if ((void *)v142 == __srca)
        goto LABEL_186;
    }
    v164 = 0;
    while (1)
    {
      LOWORD(v139) = v163[23];
      v165 = (float)((float)((float)(int)v164 + 0.5) * v158) / (float)LODWORD(v139);
      *(_QWORD *)buf = v162;
      v690 = (int)v165 & ~((int)v165 >> 31);
      if (!v701)
        break;
      v166 = (*(uint64_t (**)(_QWORD *, _BYTE *, int *))(*v701 + 48))(v701, buf, &v690);
      v163 = v685;
      if (v166 > *((unsigned __int8 *)v685 + 51) && v166 >= *((unsigned __int8 *)v685 + 52))
        v168 = 64;
      else
        v168 = 32;
      v159[v164++] = v168;
      if ((v670 & ~(v670 >> 31)) == v164)
        goto LABEL_174;
    }
LABEL_642:
    sub_1B5658FA0();
    __break(1u);
  }
LABEL_186:
  LODWORD(v175) = v685[24];
  if ((int)__srca < (int)v175)
  {
    if (v662 >= v666)
      v176 = v666;
    else
      v176 = v662;
    v177 = &v608[v677 * v176];
    while (1)
    {
      v178 = (int)(float)((float)((float)((float)(int)v176 + 0.5) * (float)v601) / (float)(unsigned __int16)v175);
      if (v601 - 1 < v178)
        v178 = v601 - 1;
      *(_DWORD *)buf = v178;
      if (!v703)
        goto LABEL_642;
      v179 = (*(uint64_t (**)(_QWORD *, _BYTE *))(*v703 + 48))(v703, buf);
      LOWORD(v180) = v685[23];
      if ((_WORD)v180)
        break;
LABEL_191:
      ++v176;
      v175 = v685[24];
      v177 += v677;
      if (v176 >= v175)
        goto LABEL_208;
    }
    v181 = v179;
    v182 = 0;
    while (1)
    {
      v183 = (float)((float)((float)(int)v182 + 0.5) * (float)v602) / (float)(unsigned __int16)v180;
      v184 = (int)v183 & ~((int)v183 >> 31);
      if (v184 >= v602 - 1)
        v184 = v602 - 1;
      *(_QWORD *)buf = v181;
      v690 = v184;
      if (!v701)
        goto LABEL_642;
      v185 = (*(uint64_t (**)(_QWORD *, _BYTE *, int *))(*v701 + 48))(v701, buf, &v690);
      if (v185 > *((unsigned __int8 *)v685 + 51) && v185 >= *((unsigned __int8 *)v685 + 52))
        v187 = 64;
      else
        v187 = 32;
      v177[v182++] = v187;
      v180 = v685[23];
      if (v182 >= v180)
        goto LABEL_191;
    }
  }
LABEL_208:
  v116 = 1;
  v30 = v598;
  v29 = v593;
  v28 = a15;
LABEL_209:
  CVPixelBufferUnlockBaseAddress(v30, 0);
  CVPixelBufferUnlockBaseAddress(v28, 1uLL);
  CVPixelBufferUnlockBaseAddress(v29, 0);
  CVPixelBufferUnlockBaseAddress(v594, 0);
  v188 = v701;
  if (v701 == v700)
  {
    v189 = 4;
    v188 = v700;
LABEL_213:
    (*(void (**)(void))(*v188 + 8 * v189))();
  }
  else if (v701)
  {
    v189 = 5;
    goto LABEL_213;
  }
  v190 = v703;
  if (v703 == v702)
  {
    v191 = 4;
    v190 = v702;
LABEL_218:
    (*(void (**)(void))(*v190 + 8 * v191))();
  }
  else if (v703)
  {
    v191 = 5;
    goto LABEL_218;
  }

  if (v116)
  {
    v625 = (__CVBuffer *)*((_QWORD *)v685 + 22);
    v628 = (__CVBuffer *)*((_QWORD *)v685 + 21);
    v623 = (__CVBuffer *)*((_QWORD *)v685 + 23);
    v192 = (__CVBuffer *)*((_QWORD *)v685 + 25);
    v194 = (__CVBuffer *)*((_QWORD *)v685 + 26);
    v193 = (__CVBuffer *)*((_QWORD *)v685 + 27);
    v195 = (__CVBuffer *)*((_QWORD *)v685 + 19);
    v631 = (__CVBuffer *)*((_QWORD *)v685 + 20);
    v634 = (__CVBuffer *)*((_QWORD *)v685 + 24);
    v196 = (__CVBuffer *)*((_QWORD *)v685 + 17);
    v621 = (__CVBuffer *)*((_QWORD *)v685 + 18);
    CVPixelBufferLockBaseAddress(v621, 0);
    CVPixelBufferLockBaseAddress(v631, 0);
    CVPixelBufferLockBaseAddress(v628, 0);
    CVPixelBufferLockBaseAddress(v625, 0);
    CVPixelBufferLockBaseAddress(v623, 0);
    CVPixelBufferLockBaseAddress(v634, 0);
    CVPixelBufferLockBaseAddress(v192, 0);
    CVPixelBufferLockBaseAddress(v194, 0);
    CVPixelBufferLockBaseAddress(v193, 0);
    CVPixelBufferLockBaseAddress(v195, 0);
    CVPixelBufferLockBaseAddress(v196, 0);
    v197 = (char *)CVPixelBufferGetBaseAddress(v196);
    v619 = CVPixelBufferGetHeight(v196);
    v198 = CVPixelBufferGetWidth(v196);
    v667 = CVPixelBufferGetBytesPerRow(v196);
    v615 = (char *)CVPixelBufferGetBaseAddress(v634);
    v600 = CVPixelBufferGetHeight(v634);
    CVPixelBufferGetWidth(v634);
    v655 = CVPixelBufferGetBytesPerRow(v634);
    v613 = CVPixelBufferGetBaseAddress(v192);
    CVPixelBufferGetHeight(v192);
    CVPixelBufferGetWidth(v192);
    v671 = CVPixelBufferGetBytesPerRow(v192);
    v643 = (char *)CVPixelBufferGetBaseAddress(v194);
    CVPixelBufferGetHeight(v194);
    CVPixelBufferGetWidth(v194);
    v678 = CVPixelBufferGetBytesPerRow(v194);
    v650 = (char *)CVPixelBufferGetBaseAddress(v193);
    CVPixelBufferGetHeight(v193);
    CVPixelBufferGetWidth(v193);
    __srcb = CVPixelBufferGetBytesPerRow(v193);
    v199 = (char *)CVPixelBufferGetBaseAddress(v621);
    CVPixelBufferGetHeight(v621);
    CVPixelBufferGetWidth(v621);
    v663 = CVPixelBufferGetBytesPerRow(v621);
    v617 = (char *)CVPixelBufferGetBaseAddress(v631);
    v200 = CVPixelBufferGetHeight(v631);
    CVPixelBufferGetWidth(v631);
    v658 = CVPixelBufferGetBytesPerRow(v631);
    __dsta = (char *)CVPixelBufferGetBaseAddress(v628);
    CVPixelBufferGetHeight(v628);
    CVPixelBufferGetWidth(v628);
    v596 = CVPixelBufferGetBytesPerRow(v628);
    v639 = (char *)CVPixelBufferGetBaseAddress(v625);
    CVPixelBufferGetHeight(v625);
    CVPixelBufferGetWidth(v625);
    v636 = (CVPixelBufferRef)CVPixelBufferGetBytesPerRow(v625);
    v647 = (char *)CVPixelBufferGetBaseAddress(v623);
    CVPixelBufferGetHeight(v623);
    CVPixelBufferGetWidth(v623);
    v646 = CVPixelBufferGetBytesPerRow(v623);
    v674 = (char *)CVPixelBufferGetBaseAddress(v195);
    v201 = CVPixelBufferGetHeight(v195);
    CVPixelBufferGetWidth(v195);
    v603 = v194;
    v605 = v193;
    v607 = v195;
    v609 = v196;
    v599 = CVPixelBufferGetBytesPerRow(v195);
    bzero(v674, v599 * v201);
    v597 = v658 * v200;
    bzero(v617, v658 * v200);
    if (v619)
    {
      v202 = &v615[v655 + 4];
      v203 = v619;
      v204 = &v617[v658 + 1];
      v205 = v199;
      v206 = v197;
      do
      {
        memcpy(v204, v205, v198);
        memcpy(v202, v206, 4 * v198);
        v202 += v655;
        v204 += v658;
        v206 += v667;
        v205 += v663;
        --v203;
      }
      while (v203);
    }
    memcpy(__dsta, v617, v597);
    memcpy(v639, v617, v597);
    memcpy(v647, v617, v597);
    memcpy(v613, v615, v655 * v600);
    memcpy(v643, v615, v655 * v600);
    memcpy(v650, v615, v655 * v600);
    if (v619 - 1 <= 0xFFFFFFFFFFFFFFFDLL)
    {
      if (v198 + 1 >= 2)
      {
        v207 = 1;
        do
        {
          v208 = &v617[v207 * v658];
          v209 = &v615[v207 * v655];
          v210 = &v617[(v207 - 1) * v658];
          v211 = &v617[(v207 + 1) * v658];
          v212 = 1;
          v213 = &v615[(v207 + 1) * v655];
          do
          {
            v215 = v208[v212];
            _ZF = v215 != 32 && (v215 & 0x10) == 0;
            if (_ZF)
            {
              v214 = v212 + 1;
            }
            else
            {
              v217 = v212 - 1;
              v218 = 4 * (v212 - 1);
              if (v210[v212 - 1] == 160)
                v219 = 1.0;
              else
                v219 = 0.0;
              if (v210[v212] == 160)
                v220 = 1.0;
              else
                v220 = 0.0;
              v214 = v212 + 1;
              v221 = 4 * (v212 + 1);
              if (v210[v212 + 1] == 160)
                v222 = 1.0;
              else
                v222 = 0.0;
              v223 = (float)((float)(*(float *)&v615[4 * v212 + (v207 - 1) * v655] * v220)
                           + (float)(*(float *)&v615[(v207 - 1) * v655 + v218] * v219))
                   + (float)(*(float *)&v615[(v207 - 1) * v655 + v221] * v222);
              if (v208[v217] == 160)
                v224 = 1.0;
              else
                v224 = 0.0;
              v225 = v223 + (float)(*(float *)&v209[v218] * v224);
              if (v208[v214] == 160)
                v226 = 1.0;
              else
                v226 = 0.0;
              v227 = v225 + (float)(*(float *)&v209[v221] * v226);
              if (v211[v217] == 160)
                v228 = 1.0;
              else
                v228 = 0.0;
              v229 = v227 + (float)(*(float *)&v213[v218] * v228);
              if (v211[v212] == 160)
                v230 = 1.0;
              else
                v230 = 0.0;
              v231 = v229 + (float)(*(float *)&v213[4 * v212] * v230);
              if (v211[v214] == 160)
                v232 = 1.0;
              else
                v232 = 0.0;
              v233 = v231 + (float)(*(float *)&v213[v221] * v232);
              *(float *)&v209[4 * v212] = v233;
              v234 = v210[v217] == 160;
              if (v210[v212] == 160)
                ++v234;
              if (v210[v214] == 160)
                ++v234;
              if (v208[v217] == 160)
                ++v234;
              if (v208[v214] == 160)
                ++v234;
              if (v211[v217] == 160)
                v235 = v234 + 1;
              else
                v235 = v234;
              if (v211[v212] == 160)
                ++v235;
              if (v211[v214] == 160)
                ++v235;
              if (v235)
              {
                *(float *)&v209[4 * v212] = v233 / (float)v235;
                v208[v212] = -96;
                ++v674[v207 * v599 + v212];
              }
            }
            v212 = v214;
          }
          while (v214 != v198 + 1);
          _ZF = v207++ == v619;
        }
        while (!_ZF);
      }
      v241 = v607;
      v240 = v609;
      v242 = v605;
      v244 = v192;
      v243 = v603;
      if (v198)
      {
        v245 = &v674[v599];
        v246 = (uint64_t)v613 + 4 * v198 + 4;
        v247 = __dsta + 1;
        v248 = (uint64_t)&__dsta[2 * v596 + 1];
        v249 = &__dsta[v596 + 1];
        v250 = 1;
        do
        {
          v251 = 0;
          v252 = v250++;
          v253 = v249;
          v254 = v248;
          v255 = v247;
          v256 = (float *)v246;
          v257 = v245;
          do
          {
            v258 = &v253[v198];
            v259 = v253[v198 - 1];
            if (v259 == 32 || (v259 & 0x10) != 0)
            {
              v261 = &v255[v198];
              if (v255[v198 - 2] == 160)
                v262 = 1.0;
              else
                v262 = 0.0;
              if (*(v261 - 1) == 160)
                v263 = 1.0;
              else
                v263 = 0.0;
              v264 = (float)(*(v256 - 1) * v263) + (float)(*(v256 - 2) * v262);
              if (*v261 == 160)
                v265 = 1.0;
              else
                v265 = 0.0;
              v266 = v264 + (float)(*v256 * v265);
              v267 = (float *)((char *)v256 + v671);
              if (*(v258 - 2) == 160)
                v268 = 1.0;
              else
                v268 = 0.0;
              v269 = v266 + (float)(*(float *)((char *)v256 + v671 - 8) * v268);
              if (*v258 == 160)
                v270 = 1.0;
              else
                v270 = 0.0;
              v271 = v269 + (float)(*v267 * v270);
              v272 = (float *)((char *)v256 + 2 * v671);
              v273 = (unsigned __int8 *)(v254 + v198);
              if (*(unsigned __int8 *)(v254 + v198 - 2) == 160)
                v274 = 1.0;
              else
                v274 = 0.0;
              v275 = v271 + (float)(*(v272 - 2) * v274);
              if (*(v273 - 1) == 160)
                v276 = 1.0;
              else
                v276 = 0.0;
              v277 = v275 + (float)(*(v272 - 1) * v276);
              if (*v273 == 160)
                v278 = 1.0;
              else
                v278 = 0.0;
              v279 = v277 + (float)(*v272 * v278);
              *(v267 - 1) = v279;
              v280 = *(v261 - 2) == 160;
              if (*(v261 - 1) == 160)
                ++v280;
              if (*v261 == 160)
                v281 = v280 + 1;
              else
                v281 = v280;
              if (*(v258 - 2) == 160)
                ++v281;
              if (*v258 == 160)
                ++v281;
              if (*(v273 - 2) == 160)
                ++v281;
              if (*(v273 - 1) == 160)
                ++v281;
              if (*v273 == 160)
                ++v281;
              if (v281)
              {
                *(v267 - 1) = v279 / (float)v281;
                *(v258 - 1) = -96;
                ++v257[v198];
              }
            }
            --v257;
            ++v251;
            --v256;
            --v255;
            --v254;
            --v253;
          }
          while (v198 != v251);
          v245 += v599;
          v246 += v671;
          v247 += v596;
          v248 += v596;
          v249 += v596;
        }
        while (v252 != v619);
        goto LABEL_330;
      }
LABEL_432:
      v343 = 0;
      v344 = (uint64_t)&v615[v655 + 4];
      v345 = (uint64_t)&v650[__srcb + 4];
      v346 = (uint64_t)&v643[v678 + 4];
      v347 = (uint64_t)v613 + v671 + 4;
      v348 = (uint64_t)&v674[v599 + 1];
      while (!v198)
      {
LABEL_433:
        ++v343;
        v197 += v667;
        v199 += v663;
        v344 += v655;
        v345 += __srcb;
        v346 += v678;
        v347 += v671;
        v348 += v599;
        if (v343 == v619)
          goto LABEL_452;
      }
      v349 = 0;
      while (2)
      {
        if (*(_BYTE *)(v348 + v349))
        {
          v350 = *(float *)(v347 + 4 * v349);
          v351 = *(float *)(v345 + 4 * v349);
          if (v351 >= *(float *)(v346 + 4 * v349))
            v351 = *(float *)(v346 + 4 * v349);
          if (v350 >= *(float *)(v344 + 4 * v349))
            v350 = *(float *)(v344 + 4 * v349);
          if (v351 < v350)
            v350 = v351;
          *(float *)&v197[4 * v349] = v350;
LABEL_443:
          v199[v349] = -96;
        }
        else
        {
          v352 = v199[v349];
          if (v352 == 32 || (v352 & 0x10) != 0)
          {
            *(_DWORD *)&v197[4 * v349] = *((_DWORD *)v685 + 33);
            goto LABEL_443;
          }
          *(_DWORD *)&v197[4 * v349] = *(_DWORD *)(v344 + 4 * v349);
        }
        if (v198 == ++v349)
          goto LABEL_433;
        continue;
      }
    }
LABEL_330:
    v241 = v607;
    v240 = v609;
    v242 = v605;
    v244 = v192;
    v243 = v603;
    if (v619)
    {
      if (v198 + 1 >= 2)
      {
        v282 = v619;
        do
        {
          v283 = &v674[v282 * v599];
          v284 = &v639[v282 * (_QWORD)v636];
          v285 = &v643[v282 * v678];
          v286 = v282-- + 1;
          v287 = &v639[v282 * (_QWORD)v636];
          v288 = &v639[v286 * (_QWORD)v636];
          v289 = 1;
          v290 = &v643[v286 * v678];
          do
          {
            v292 = v284[v289];
            if (v292 != 32 && (v292 & 0x10) == 0)
            {
              v291 = v289 + 1;
            }
            else
            {
              v294 = v289 - 1;
              v295 = 4 * (v289 - 1);
              if (v287[v289 - 1] == 160)
                v296 = 1.0;
              else
                v296 = 0.0;
              if (v287[v289] == 160)
                v297 = 1.0;
              else
                v297 = 0.0;
              v291 = v289 + 1;
              v298 = 4 * (v289 + 1);
              if (v287[v289 + 1] == 160)
                v299 = 1.0;
              else
                v299 = 0.0;
              v300 = (float)((float)(*(float *)&v643[4 * v289 + v282 * v678] * v297)
                           + (float)(*(float *)&v643[v282 * v678 + v295] * v296))
                   + (float)(*(float *)&v643[v282 * v678 + v298] * v299);
              if (v284[v294] == 160)
                v301 = 1.0;
              else
                v301 = 0.0;
              v302 = v300 + (float)(*(float *)&v285[v295] * v301);
              if (v284[v291] == 160)
                v303 = 1.0;
              else
                v303 = 0.0;
              v304 = v302 + (float)(*(float *)&v285[v298] * v303);
              if (v288[v294] == 160)
                v305 = 1.0;
              else
                v305 = 0.0;
              v306 = v304 + (float)(*(float *)&v290[v295] * v305);
              if (v288[v289] == 160)
                v307 = 1.0;
              else
                v307 = 0.0;
              v308 = v306 + (float)(*(float *)&v290[4 * v289] * v307);
              if (v288[v291] == 160)
                v309 = 1.0;
              else
                v309 = 0.0;
              v310 = v308 + (float)(*(float *)&v290[v298] * v309);
              *(float *)&v285[4 * v289] = v310;
              v311 = v287[v294] == 160;
              if (v287[v289] == 160)
                ++v311;
              if (v287[v291] == 160)
                ++v311;
              if (v284[v294] == 160)
                ++v311;
              if (v284[v291] == 160)
                ++v311;
              if (v288[v294] == 160)
                v312 = v311 + 1;
              else
                v312 = v311;
              if (v288[v289] == 160)
                ++v312;
              if (v288[v291] == 160)
                ++v312;
              if (v312)
              {
                *(float *)&v285[4 * v289] = v310 / (float)v312;
                v284[v289] = -96;
                ++v283[v289];
              }
            }
            v289 = v291;
          }
          while (v291 != v198 + 1);
        }
        while (v282);
      }
      if (v198)
      {
        v313 = v619;
        do
        {
          v314 = &v674[v313 * v599];
          v315 = &v647[v313 * v646];
          v316 = &v650[v313 * __srcb];
          v317 = v313-- + 1;
          v318 = &v647[v313 * v646];
          v319 = &v647[v317 * v646];
          v320 = v198;
          v321 = &v650[v317 * __srcb];
          do
          {
            v323 = v315[v320];
            if (v323 != 32 && (v323 & 0x10) == 0)
            {
              v322 = v320 - 1;
            }
            else
            {
              *(_DWORD *)&v316[4 * v320] = 0;
              v322 = v320 - 1;
              v325 = 4 * (v320 - 1);
              if (v318[v320 - 1] == 160)
                v326 = 1.0;
              else
                v326 = 0.0;
              if (v318[v320] == 160)
                v327 = 1.0;
              else
                v327 = 0.0;
              v328 = v320 + 1;
              v329 = 4 * (v320 + 1);
              if (v318[v320 + 1] == 160)
                v330 = 1.0;
              else
                v330 = 0.0;
              v331 = (float)((float)(*(float *)&v650[4 * v320 + v313 * __srcb] * v327)
                           + (float)(*(float *)&v650[v313 * __srcb + v325] * v326))
                   + (float)(*(float *)&v650[v313 * __srcb + v329] * v330);
              if (v315[v322] == 160)
                v332 = 1.0;
              else
                v332 = 0.0;
              v333 = v331 + (float)(*(float *)&v316[v325] * v332);
              if (v315[v328] == 160)
                v334 = 1.0;
              else
                v334 = 0.0;
              v335 = v333 + (float)(*(float *)&v316[v329] * v334);
              if (v319[v322] == 160)
                v336 = 1.0;
              else
                v336 = 0.0;
              v337 = v335 + (float)(*(float *)&v321[v325] * v336);
              if (v319[v320] == 160)
                v338 = 1.0;
              else
                v338 = 0.0;
              v339 = v337 + (float)(*(float *)&v321[4 * v320] * v338);
              if (v319[v328] == 160)
                v340 = 1.0;
              else
                v340 = 0.0;
              v341 = v339 + (float)(*(float *)&v321[v329] * v340);
              *(float *)&v316[4 * v320] = v341;
              v342 = v318[v322] == 160;
              if (v318[v320] == 160)
                ++v342;
              if (v318[v328] == 160)
                ++v342;
              if (v315[v322] == 160)
                ++v342;
              if (v315[v328] == 160)
                ++v342;
              if (v319[v322] == 160)
                ++v342;
              if (v319[v320] == 160)
                ++v342;
              if (v319[v328] == 160)
                ++v342;
              if (v342)
              {
                *(float *)&v316[4 * v320] = v341 / (float)v342;
                v315[v320] = -96;
                ++v314[v320];
              }
            }
            v320 = v322;
          }
          while (v322);
        }
        while (v313);
      }
      goto LABEL_432;
    }
LABEL_452:
    CVPixelBufferUnlockBaseAddress(v621, 0);
    CVPixelBufferUnlockBaseAddress(v631, 0);
    CVPixelBufferUnlockBaseAddress(v628, 0);
    CVPixelBufferUnlockBaseAddress(v625, 0);
    CVPixelBufferUnlockBaseAddress(v623, 0);
    CVPixelBufferUnlockBaseAddress(v634, 0);
    CVPixelBufferUnlockBaseAddress(v244, 0);
    CVPixelBufferUnlockBaseAddress(v243, 0);
    CVPixelBufferUnlockBaseAddress(v242, 0);
    CVPixelBufferUnlockBaseAddress(v241, 0);
    CVPixelBufferUnlockBaseAddress(v240, 0);
    v354 = (__CVBuffer *)*((_QWORD *)v685 + 24);
    v355 = (__CVBuffer *)*((_QWORD *)v685 + 17);
    CVPixelBufferLockBaseAddress(v354, 0);
    CVPixelBufferLockBaseAddress(v355, 0);
    v356 = (float *)CVPixelBufferGetBaseAddress(v355);
    v357 = CVPixelBufferGetHeight(v355);
    v358 = CVPixelBufferGetWidth(v355);
    v359 = CVPixelBufferGetBytesPerRow(v355);
    v360 = (float *)CVPixelBufferGetBaseAddress(v354);
    CVPixelBufferGetHeight(v354);
    CVPixelBufferGetWidth(v354);
    v361 = CVPixelBufferGetBytesPerRow(v354);
    if (v357 >= 1 && (int)v358 >= 1)
    {
      v363 = 0;
      v364 = *((float *)v685 + 27);
      v365 = *((float *)v685 + 24) + (float)((float)(*((float *)v685 + 21) - *((float *)v685 + 24)) * v364);
      v366 = *((float *)v685 + 25) + (float)((float)(*((float *)v685 + 22) - *((float *)v685 + 25)) * v364);
      v367 = *((float *)v685 + 26) + (float)((float)(*((float *)v685 + 23) - *((float *)v685 + 26)) * v364);
      v368 = (float)(*v685 - 1) * 0.5;
      v369 = (float)(v685[1] - 1) * 0.5;
      v370 = sqrtf((float)(v369 * v369) + (float)(v368 * v368));
      v371 = (__int16)v685[3];
      v372 = -v369;
      v373 = (__int16)v685[2];
      v374 = -v368;
      v362.i32[0] = 2139095039;
      v375 = v360;
      v376 = v371;
      do
      {
        v377 = 0;
        v378 = v376;
        v376 += v685[7];
        if (v363 >= v357 - 1)
          v376 = v685[9] + v371;
        v379 = v372 + (float)((float)(v378 + v376 - 1) * 0.5);
        v380 = v379 * v379;
        v381 = v373;
        do
        {
          v382 = v381 + v685[6];
          if (v377 >= (int)(v358 - 1))
            v382 = v685[8] + v373;
          v383 = sqrtf(v380+ (float)((float)(v374 + (float)((float)(v381 + v382 - 1) * 0.5))* (float)(v374 + (float)((float)(v381 + v382 - 1) * 0.5))))/ v370;
          v384 = (float)(v365 + (float)(v366 * v383)) + (float)(v367 * (float)(v383 * v383));
          if (v384 < *(float *)v362.i32)
            *(float *)v362.i32 = v384;
          v375[v377++] = v384;
          v381 = v382;
        }
        while (v358 != v377);
        ++v363;
        v375 = (float *)((char *)v375 + v361);
      }
      while (v363 != v357);
      if (v358 > 7uLL)
      {
        v390 = v358;
        v391 = (float32x4_t)vdupq_lane_s32(v362, 0);
        v392 = v358 & 7;
        if ((v358 & 7) != 0)
        {
          v393 = 0;
          v394 = (float32x4_t *)(v360 + 4);
          v395 = (float32x4_t *)(v356 + 4);
          v396 = v356;
          v397 = v360;
          do
          {
            if ((char *)v356 + v359 * v393 >= (char *)&v360[v390] + v361 * v393
              || (char *)v360 + v361 * v393 >= (char *)&v356[v390] + v359 * v393)
            {
              v399 = v395;
              v400 = v394;
              v401 = v358 - (unint64_t)(v358 & 7);
              do
              {
                v402 = vsubq_f32(vaddq_f32(v391, *v399), *v400);
                v399[-1] = vsubq_f32(vaddq_f32(v391, v399[-1]), v400[-1]);
                *v399 = v402;
                v400 += 2;
                v399 += 2;
                v401 -= 8;
              }
              while (v401);
              v403 = v358 - (unint64_t)(v358 & 7);
            }
            else
            {
              v403 = 0;
            }
            v404 = v358 - v403;
            v405 = v403;
            v406 = &v397[v403];
            v407 = &v396[v405];
            do
            {
              v408 = *v406++;
              *v407 = (float)(*(float *)v362.i32 + *v407) - v408;
              ++v407;
              --v404;
            }
            while (v404);
            ++v393;
            v394 = (float32x4_t *)((char *)v394 + v361);
            v395 = (float32x4_t *)((char *)v395 + v359);
            v397 = (float *)((char *)v397 + v361);
            v396 = (float *)((char *)v396 + v359);
          }
          while (v393 != v357);
        }
        else
        {
          v576 = (float32x4_t *)(v360 + 4);
          v577 = (float32x4_t *)(v356 + 4);
          v578 = v356;
          v579 = v360;
          do
          {
            v580 = (char *)v356 + v359 * v392 >= (char *)&v360[v390] + v361 * v392
                || (char *)v360 + v361 * v392 >= (char *)&v356[v390] + v359 * v392;
            v581 = v577;
            v582 = v576;
            v583 = v358 - (unint64_t)(v358 & 7);
            v584 = v578;
            v585 = v579;
            v586 = v358;
            if (v580)
            {
              do
              {
                v587 = vsubq_f32(vaddq_f32(v391, *v581), *v582);
                v581[-1] = vsubq_f32(vaddq_f32(v391, v581[-1]), v582[-1]);
                *v581 = v587;
                v582 += 2;
                v581 += 2;
                v583 -= 8;
              }
              while (v583);
            }
            else
            {
              do
              {
                v588 = *v585++;
                *v584 = (float)(*(float *)v362.i32 + *v584) - v588;
                ++v584;
                --v586;
              }
              while (v586);
            }
            ++v392;
            v576 = (float32x4_t *)((char *)v576 + v361);
            v577 = (float32x4_t *)((char *)v577 + v359);
            v579 = (float *)((char *)v579 + v361);
            v578 = (float *)((char *)v578 + v359);
          }
          while (v392 != v357);
        }
      }
      else
      {
        for (j = 0; j != v357; ++j)
        {
          v386 = v356;
          v387 = v360;
          v388 = v358;
          do
          {
            v389 = *v387++;
            *v386 = (float)(*(float *)v362.i32 + *v386) - v389;
            ++v386;
            --v388;
          }
          while (v388);
          v360 = (float *)((char *)v360 + v361);
          v356 = (float *)((char *)v356 + v359);
        }
      }
    }
    CVPixelBufferUnlockBaseAddress(v354, 0);
    CVPixelBufferUnlockBaseAddress(v355, 0);
    v409 = (__CVBuffer *)*((_QWORD *)v685 + 17);
    CVPixelBufferLockBaseAddress(v409, 0);
    v410 = (float32x4_t *)CVPixelBufferGetBaseAddress(v409);
    v411 = CVPixelBufferGetHeight(v409);
    v412 = CVPixelBufferGetWidth(v409);
    v413 = CVPixelBufferGetBytesPerRow(v409);
    v414 = *((float *)v685 + 17);
    v415 = *((float *)v685 + 18);
    v416 = v414
         + (float)((float)(v415 - v414)
                 * (float)((float)(a10 - *((float *)v685 + 19)) / (float)(*((float *)v685 + 20) - *((float *)v685 + 19))));
    if (v415 >= v414)
      v417 = *((float *)v685 + 17);
    else
      v417 = *((float *)v685 + 18);
    if (v414 < v415)
      v414 = *((float *)v685 + 18);
    if (v416 < v414)
      v414 = v416;
    if (v416 < v417)
      v414 = v417;
    if (v411 && v412)
    {
      if (v412 < 4)
      {
        v418 = &v410->f32[2];
        do
        {
          *(v418 - 2) = fmaxf(v414* (float)(*((float *)v685 + 16)+ (float)((float)((float)(*(v418 - 2) - *((float *)v685 + 30)) * *((float *)v685 + 8))/ (float)((float)(*((float *)v685 + 15)* (float)((float)(*((float *)v685 + 7) / *((float *)v685 + 9))* 0.5))* (float)(*((float *)v685 + 7) * *((float *)v685 + 10))))), 0.0);
          if (v412 != 1)
          {
            *(v418 - 1) = fmaxf(v414* (float)(*((float *)v685 + 16)+ (float)((float)((float)(*(v418 - 1) - *((float *)v685 + 30)) * *((float *)v685 + 8))/ (float)((float)(*((float *)v685 + 15)* (float)((float)(*((float *)v685 + 7) / *((float *)v685 + 9))* 0.5))* (float)(*((float *)v685 + 7) * *((float *)v685 + 10))))), 0.0);
            if (v412 != 2)
              *v418 = fmaxf(v414* (float)(*((float *)v685 + 16)+ (float)((float)((float)(*v418 - *((float *)v685 + 30)) * *((float *)v685 + 8))/ (float)((float)(*((float *)v685 + 15)* (float)((float)(*((float *)v685 + 7) / *((float *)v685 + 9))* 0.5))* (float)(*((float *)v685 + 7) * *((float *)v685 + 10))))), 0.0);
          }
          v418 = (float *)((char *)v418 + v413);
          --v411;
        }
        while (v411);
        goto LABEL_528;
      }
      v419 = 0;
      v420.i64[0] = 0x3F0000003F000000;
      v420.i64[1] = 0x3F0000003F000000;
      v421 = v410;
      while (2)
      {
        v422 = 0;
        v423 = (unint64_t)v410 + v419 * v413;
        v424 = (unint64_t)v410->u64 + 4 * v412 + v419 * v413;
        v426 = v423 < (unint64_t)(v685 + 22) && (unint64_t)(v685 + 14) < v424;
        v428 = v423 < (unint64_t)(v685 + 34) && (unint64_t)(v685 + 30) < v424;
        if ((unint64_t)(v685 + 60) < v424 && v423 < (unint64_t)(v685 + 62))
        {
          v437 = (float *)v685;
          goto LABEL_526;
        }
        if (v426)
        {
          v437 = (float *)v685;
          goto LABEL_526;
        }
        v437 = (float *)v685;
        if (v428)
          goto LABEL_649;
        v430 = (float32x4_t)vdupq_lane_s32(*(int32x2_t *)(v685 + 60), 0);
        v431 = *(float32x4_t *)(v685 + 14);
        v432 = (float32x4_t)vdupq_lane_s32((int32x2_t)*(_OWORD *)&vmulq_f32(vmulq_f32(*(float32x4_t *)(v685 + 30), vmulq_f32(vdivq_f32(v431, (float32x4_t)vdupq_laneq_s32((int32x4_t)v431, 2)), v420)), vmulq_laneq_f32(v431, v431, 3)), 0);
        LODWORD(v433) = vshrq_n_u64((uint64x2_t)v431, 0x20uLL).u32[0];
        v434 = (float32x4_t)vdupq_lane_s32(*(int32x2_t *)(v685 + 32), 0);
        v435 = v421;
        v436 = v412 & 0xFFFFFFFFFFFFFFFCLL;
        do
        {
          *v435 = vmaxnmq_f32(vmulq_n_f32(vaddq_f32(v434, vdivq_f32(vmulq_n_f32(vsubq_f32(*v435, v430), v433), v432)), v414), (float32x4_t)0);
          ++v435;
          v436 -= 4;
        }
        while (v436);
        v422 = v412 & 0xFFFFFFFFFFFFFFFCLL;
        v437 = (float *)v685;
        if (v412 != (v412 & 0xFFFFFFFFFFFFFFFCLL))
        {
LABEL_649:
          do
          {
LABEL_526:
            v421->f32[v422] = fmaxf(v414* (float)(v437[16]+ (float)((float)((float)(v421->f32[v422] - v437[30]) * v437[8])/ (float)((float)(v437[15] * (float)((float)(v437[7] / v437[9]) * 0.5))* (float)(v437[7] * v437[10])))), 0.0);
            ++v422;
          }
          while (v412 != v422);
        }
        ++v419;
        v421 = (float32x4_t *)((char *)v421 + v413);
        if (v419 == v411)
          break;
        continue;
      }
    }
LABEL_528:
    CVPixelBufferUnlockBaseAddress(v409, 0);
    v635 = (__CVBuffer *)*((_QWORD *)v685 + 29);
    v637 = (__CVBuffer *)*((_QWORD *)v685 + 28);
    v632 = (__CVBuffer *)*((_QWORD *)v685 + 17);
    CVPixelBufferLockBaseAddress(v632, 1uLL);
    CVPixelBufferLockBaseAddress(a16, 0);
    CVPixelBufferLockBaseAddress(v637, 0);
    CVPixelBufferLockBaseAddress(v635, 0);
    v438 = (char *)CVPixelBufferGetBaseAddress(v632);
    v640 = CVPixelBufferGetHeight(v632);
    v629 = CVPixelBufferGetWidth(v632);
    v439 = CVPixelBufferGetBytesPerRow(v632);
    v440 = (float32x4_t *)CVPixelBufferGetBaseAddress(a16);
    v441 = CVPixelBufferGetHeight(a16);
    v442 = CVPixelBufferGetWidth(a16);
    v679 = CVPixelBufferGetBytesPerRow(a16);
    __srcc = (char *)CVPixelBufferGetBaseAddress(v637);
    v443 = CVPixelBufferGetHeight(v637);
    v626 = CVPixelBufferGetWidth(v637);
    v444 = CVPixelBufferGetBytesPerRow(v637);
    v445 = (unsigned __int8 *)CVPixelBufferGetBaseAddress(v635);
    CVPixelBufferGetHeight(v635);
    CVPixelBufferGetWidth(v635);
    v446 = CVPixelBufferGetBytesPerRow(v635);
    v656 = v443;
    v659 = v441;
    memcpy(v445, __srcc, v444 * v443);
    LODWORD(v454) = v685[24];
    v675 = v445;
    if (v685[24])
    {
      v455 = v445;
      v456 = 0;
      v457 = v685[23];
      do
      {
        if (v457 >= 2)
        {
          v458 = 0;
          do
          {
            if (v455[v458] != v455[v458 + 1])
            {
              v459 = *((unsigned __int8 *)v685 + 50);
              v460 = (v458 - v459 + 1) & ~(((int)v458 - v459 + 1) >> 31);
              v461 = v458 + v459;
              v462 = v461 + 1 < v457 ? v461 + 1 : v457;
              if (v460 < v462)
              {
                bzero(&__srcc[v444 * v456 + v460], v462 + ~v460 + 1);
                v457 = v685[23];
              }
            }
            ++v458;
          }
          while (v458 < (int)(v457 - 1));
          LODWORD(v454) = v685[24];
        }
        ++v456;
        v455 += v446;
      }
      while (v456 < v454);
    }
    else
    {
      v457 = v685[23];
    }
    if (v457)
    {
      if (v444 == 1)
      {
        v463 = 0;
        v447 = 0uLL;
        v464 = __srcc;
        while (v454 < 2)
        {
LABEL_546:
          ++v463;
          ++v464;
          if (v463 >= v457)
            goto LABEL_588;
        }
        v465 = 0;
        v466 = 1;
        while (2)
        {
          v467 = v446 * v465++;
          if (v675[v463 + v467] != v675[v463 + v446 * v465])
          {
            v468 = *((unsigned __int8 *)v685 + 50);
            LODWORD(v469) = v465 + v468;
            v469 = (int)v465 + v468 >= v454 ? v454 : v469;
            if ((((_DWORD)v465 - v468) & ~(((int)v465 - v468) >> 31)) < v469)
            {
              v470 = (v466 - v468) & ~((v466 - v468) >> 31);
              v471 = v469 - v470;
              if (v469 - v470 <= 7)
              {
                do
LABEL_572:
                  v464[v470++] = 0;
                while (v470 < v469);
              }
              else
              {
                if (v471 < 0x20)
                {
                  v472 = 0;
                  goto LABEL_565;
                }
                v472 = v471 & 0xFFFFFFFFFFFFFFE0;
                v473 = v454;
                if (v454 >= (unint64_t)(v466 + v468))
                  v473 = (v466 + v468);
                v474 = (v473 - v470) & 0xFFFFFFFFFFFFFFE0;
                v475 = &v464[v470];
                do
                {
                  *(_OWORD *)v475 = 0uLL;
                  *((_OWORD *)v475 + 1) = 0uLL;
                  v475 += 32;
                  v474 -= 32;
                }
                while (v474);
                if (v471 != v472)
                {
                  if ((v471 & 0x18) == 0)
                  {
                    v470 += v472;
                    goto LABEL_572;
                  }
LABEL_565:
                  v476 = v471 & 0xFFFFFFFFFFFFFFF8;
                  v454 = v454;
                  v477 = (v466 + v468);
                  if (v454 >= v477)
                    v454 = v477;
                  v478 = v472 - ((v454 - v470) & 0xFFFFFFFFFFFFFFF8);
                  v479 = v472 + v470;
                  do
                  {
                    *(_QWORD *)&v464[v479] = 0;
                    v479 += 8;
                    v478 += 8;
                  }
                  while (v478);
                  if (v471 != v476)
                  {
                    v470 += v476;
                    goto LABEL_572;
                  }
                }
              }
              LODWORD(v454) = v685[24];
            }
          }
          ++v466;
          if (v465 >= (int)v454 - 1)
          {
            v457 = v685[23];
            goto LABEL_546;
          }
          continue;
        }
      }
      v480 = 0;
      v481 = __srcc;
      do
      {
        if (v454 >= 2)
        {
          v482 = 0;
          v483 = 1;
          do
          {
            v484 = v446 * v482++;
            if (v675[v480 + v484] != v675[v480 + v446 * v482])
            {
              v485 = *((unsigned __int8 *)v685 + 50);
              LODWORD(v486) = v482 + v485;
              v486 = (int)v482 + v485 >= v454 ? v454 : v486;
              if ((((_DWORD)v482 - v485) & ~(((int)v482 - v485) >> 31)) < v486)
              {
                v487 = (v483 - v485) & ~((v483 - v485) >> 31);
                v488 = &v481[v444 * v487];
                do
                {
                  *v488 = 0;
                  ++v487;
                  v488 += v444;
                }
                while (v487 < v486);
                LODWORD(v454) = v685[24];
              }
            }
            ++v483;
          }
          while (v482 < (int)v454 - 1);
          v457 = v685[23];
        }
        ++v480;
        ++v481;
      }
      while (v480 < v457);
    }
LABEL_588:
    if (v659 >= 1)
    {
      v489 = 0;
      v490 = (__int16)v685[5];
      v491 = 0.5;
      v492 = (float)v659;
      LOWORD(v448) = v685[11];
      v493 = (float)v448;
      v494 = -0.5;
      v495 = (float)((float)((float)((float)v490 + 0.5) * (float)v659) / v493) + -0.5;
      v676 = (float)((float)((float)((float)((float)(v685[9] + v490) + 0.5) * (float)v659) / v493) + -0.5) - v495;
      v496 = (__int16)v685[4];
      LOWORD(v449) = v685[10];
      v497 = (float)v449;
      *(float *)&v447 = (float)((float)((float)((float)(v685[8] + v496) + 0.5) * (float)v442) / v497) + -0.5;
      v498 = (float)((float)((float)((float)v496 + 0.5) * (float)v442) / v497) + -0.5;
      v668 = (float)v640;
      v664 = (float)(v640 - 1);
      v499 = v656 - 1;
      *(float *)v450.i32 = (float)v626 / (float)v442;
      *(float *)v451.i32 = *(float *)v450.i32 * 0.5;
      *(float *)v452.i32 = (float)v629 / (float)(*(float *)&v447 - v498);
      *(float *)v453.i32 = (float)((float)(0.5 - v498) * *(float *)v452.i32) + -0.5;
      v500 = (float32x4_t)vdupq_lane_s32(v450, 0);
      v501 = (float32x4_t)vdupq_lane_s32(v451, 0);
      v502 = (uint32x4_t)vdupq_n_s32((float)((float)v626 + -1.0));
      v503 = (float32x4_t)vdupq_lane_s32(v452, 0);
      v504 = (float32x4_t)vdupq_lane_s32(v453, 0);
      *(float *)&v447 = (float)v629 + -1.0;
      v505 = (float32x4_t)vdupq_lane_s32(*(int32x2_t *)&v447, 0);
      v644 = v442 / 4;
      __asm { FMOV            V28.4S, #1.0 }
      v509 = (unsigned __int16)v640 - 1;
      v510 = (int32x4_t)vcvtq_u32_f32(_Q28);
      v511 = vcvtq_u32_f32(v505);
      v512 = (unsigned __int16)v629 - 1;
      v513 = v659;
      v514 = v442;
      v515 = (unsigned __int16)(v640 - 1);
      v516 = 0uLL;
      __na = v442;
      v651 = (float)v659;
      v648 = v495;
      v641 = v659;
      v517.i64[0] = 0x4000000040;
      v517.i64[1] = 0x4000000040;
      v518.i64[0] = 0x2000000020;
      v518.i64[1] = 0x2000000020;
      v519.i64[0] = 0x4500000045000000;
      v519.i64[1] = 0x4500000045000000;
      do
      {
        v520 = (int)(float)((float)((float)((float)(int)v489 + v491) * (float)v656) / v492) & ~((int)(float)((float)((float)((float)(int)v489 + v491) * (float)v656) / v492) >> 31);
        if (v520 >= v499)
          v520 = v499;
        v521 = &__srcc[v444 * v520];
        v522 = fmaxf((float)((float)((float)((float)((float)(int)v489 - v495) + v491) * v668) / v676) + v494, 0.0);
        if (v522 >= v664)
          v523 = v664;
        else
          v523 = v522;
        v524 = (int)v523;
        v525 = &v438[v439 * v524];
        if ((unsigned __int16)(v524 + 1) >= v515)
          v526 = v515;
        else
          v526 = (unsigned __int16)(v524 + 1);
        v527 = (float)v524;
        if (v442 < 4)
        {
          v528 = 0;
          if (v442 > 0)
            goto LABEL_605;
        }
        else
        {
          v528 = 0;
          v529 = (const float *)(v685 + 32);
          v530 = (int8x16_t)vld1q_dup_f32(v529);
          v531 = v438;
          v532 = v439;
          v533 = &v438[v439 * v526];
          v534 = (float)(v527 + 1.0) - v523;
          v660 = v523;
          v535 = v523 - v527;
          v536 = v644;
          v537 = v440;
          do
          {
            v538.i32[0] = v528;
            v538.i32[1] = v528 + 1;
            v539 = vcvtq_f32_s32(vmovn_hight_s64(v538, (int64x2_t)vorrq_s8((int8x16_t)vdupq_n_s64(v528), (int8x16_t)xmmword_1B56AC240)));
            v540 = vminq_f32(v505, vmaxq_f32(vmlaq_f32(v504, v503, v539), v516));
            v541 = (float32x4_t)vcvtq_u32_f32(v540);
            v542 = (float32x4_t)vminq_u32(v511, (uint32x4_t)vaddq_s32(v510, (int32x4_t)v541));
            v543 = vcvtq_f32_u32((uint32x4_t)v541);
            v544 = (float32x4_t)vzip2q_s32((int32x4_t)v541, (int32x4_t)v542);
            v545 = 4 * v541.u32[0];
            v546 = 4 * v542.u32[0];
            v547 = 4 * v541.u32[1];
            v548 = 4 * v542.u32[1];
            v549 = 4 * v544.u32[0];
            v541.i32[0] = *(_DWORD *)&v525[v545];
            v550 = 4 * v544.u32[2];
            v541.i32[1] = *(_DWORD *)&v525[v547];
            v541.i32[2] = *(_DWORD *)&v525[v549];
            v551 = 4 * v544.u32[1];
            v541.i32[3] = *(_DWORD *)&v525[v550];
            v542.i32[0] = *(_DWORD *)&v525[v546];
            v542.i32[1] = *(_DWORD *)&v525[v548];
            v544.i32[0] = *(_DWORD *)&v533[v545];
            v552 = 4 * v544.u32[3];
            v544.i32[1] = *(_DWORD *)&v533[v547];
            v544.i32[2] = *(_DWORD *)&v533[v549];
            v544.i32[3] = *(_DWORD *)&v533[v550];
            v553.i32[0] = *(_DWORD *)&v533[v546];
            v553.i32[1] = *(_DWORD *)&v533[v548];
            v554 = vsubq_f32(v540, v543);
            v555 = vsubq_f32(_Q28, v554);
            v542.i32[2] = *(_DWORD *)&v525[v551];
            v553.i32[2] = *(_DWORD *)&v533[v551];
            v556 = vminq_u32(v502, vcvtq_u32_f32(vmlaq_f32(v501, v500, v539)));
            v542.i32[3] = *(_DWORD *)&v525[v552];
            v557 = v556.u32[0];
            v553.i32[3] = *(_DWORD *)&v533[v552];
            v556.i32[0] = v556.i32[2];
            LODWORD(v547) = v521[v556.u32[1]];
            v556.i8[0] = v521[v556.u32[2]];
            v556.i32[1] = v521[v556.u32[3]];
            v558 = vmlaq_f32(vmlaq_f32(vmulq_f32(vmulq_n_f32(v555, v534), v541), v542, vmulq_n_f32(v554, v534)), v544, vmulq_n_f32(v555, v535));
            v542.i32[0] = v521[v557];
            v542.i32[1] = v547;
            *(int8x8_t *)&v542.u32[2] = vand_s8(*(int8x8_t *)v556.i8, (int8x8_t)0xFF000000FFLL);
            v559 = (int8x16_t)vmlaq_f32(v558, v553, vmulq_n_f32(v554, v535));
            v560 = (float32x4_t)vandq_s8(v530, (int8x16_t)vceqq_s32((int32x4_t)v542, v517));
            v561 = (float32x4_t)vandq_s8(v559, (int8x16_t)vceqq_s32((int32x4_t)v542, v518));
            v562 = (int8x16_t)vceqzq_s32((int32x4_t)v542);
            v516 = 0uLL;
            *v537++ = vaddq_f32(vaddq_f32(v561, v560), (float32x4_t)vandq_s8(v562, v519));
            v528 += 4;
            --v536;
          }
          while (v536);
          v528 = v528;
          v438 = v531;
          v439 = v532;
          v442 = __na;
          v491 = 0.5;
          v492 = v651;
          v494 = -0.5;
          v495 = v648;
          v499 = v656 - 1;
          v513 = v641;
          v523 = v660;
          v527 = (float)v524;
          if ((int)v528 < __na)
          {
LABEL_605:
            v563 = (v524 + 1);
            v564 = &v438[v439 * v563];
            v565 = (float)(int)v563 - v523;
            v566 = v523 - v527;
            do
            {
              if (((int)(float)(*(float *)v451.i32 + (float)((float)(int)v528 * *(float *)v450.i32)) & ~((int)(float)(*(float *)v451.i32 + (float)((float)(int)v528 * *(float *)v450.i32)) >> 31)) >= v626 - 1)
                v573 = v626 - 1;
              else
                v573 = (int)(float)(*(float *)v451.i32 + (float)((float)(int)v528 * *(float *)v450.i32)) & ~((int)(float)(*(float *)v451.i32 + (float)((float)(int)v528 * *(float *)v450.i32)) >> 31);
              v574 = fmaxf(*(float *)v453.i32 + (float)((float)(int)v528 * *(float *)v452.i32), 0.0);
              if (v574 >= (float)(v629 - 1))
                v574 = (float)(v629 - 1);
              v575 = (int)v574;
              if (v509 == (_DWORD)v524)
              {
                if (v512 == v575)
                  v567 = *(float *)&v525[4 * v575];
                else
                  v567 = (float)((float)(v574 - (float)v575) * *(float *)&v525[4 * v575 + 4])
                       + (float)((float)((float)(int)(v575 + 1) - v574) * *(float *)&v525[4 * v575]);
              }
              else if (v512 == v575)
              {
                v567 = (float)(v566 * *(float *)&v564[4 * (int)v574]) + (float)(v565 * *(float *)&v525[4 * (int)v574]);
              }
              else
              {
                v516 = 0uLL;
                v567 = (float)((float)((float)((float)(v565 * (float)(v574 - (float)v575))
                                             * *(float *)&v525[4 * v575 + 4])
                                     + (float)((float)(v565 * (float)((float)(int)(v575 + 1) - v574))
                                             * *(float *)&v525[4 * v575]))
                             + (float)((float)(v566 * (float)((float)(int)(v575 + 1) - v574)) * *(float *)&v564[4 * v575]))
                     + (float)((float)(v566 * (float)(v574 - (float)v575)) * *(float *)&v564[4 * v575 + 4]);
              }
              v568 = v521[v573];
              if (v568 == 64)
                v569 = 1.0;
              else
                v569 = 0.0;
              if (v568 == 32)
                v570 = 1.0;
              else
                v570 = 0.0;
              v571 = (float)(v567 * v570) + (float)(v569 * *((float *)v685 + 16));
              if (v521[v573])
                v572 = 0.0;
              else
                v572 = 1.0;
              v440->f32[v528++] = v571 + (float)(v572 * 2048.0);
            }
            while (v514 != v528);
          }
        }
        ++v489;
        v440 = (float32x4_t *)((char *)v440 + v679);
      }
      while (v489 != (char *)v513);
    }
    CVPixelBufferUnlockBaseAddress(v632, 1uLL);
    CVPixelBufferUnlockBaseAddress(a16, 0);
    CVPixelBufferUnlockBaseAddress(v637, 0);
    CVPixelBufferUnlockBaseAddress(v635, 0);
    v45 = *((_DWORD *)v685 + 16);
  }
  else
  {
    v236 = atomic_load((unsigned __int8 *)&qword_1EF12D980);
    if ((v236 & 1) == 0 && __cxa_guard_acquire(&qword_1EF12D980))
    {
      +[CVAPreferenceManager defaults](CVAPreferenceManager, "defaults");
      v591 = (void *)objc_claimAutoreleasedReturnValue();
      v592 = objc_msgSend(v591, "BOOLForKey:", CFSTR("singleCamSDoFPreviewLog"));

      byte_1EF12D978 = v592;
      __cxa_guard_release(&qword_1EF12D980);
    }
    if (byte_1EF12D978 && os_log_type_enabled(MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT))
    {
      *(_DWORD *)buf = 136315650;
      *(_QWORD *)&buf[4] = "/Library/Caches/com.apple.xbs/Sources/AppleCVAPhoto/module/sdof/src/FocusStatsPostprocessing.mm";
      *(_WORD *)&buf[12] = 2080;
      *(_QWORD *)&buf[14] = "process";
      v692 = 1024;
      *(_DWORD *)v693 = 345;
      _os_log_impl(&dword_1B5656000, MEMORY[0x1E0C81028], OS_LOG_TYPE_DEFAULT, "SingleCamSDoFPreviewLog: %s::%s line %d: Neither foreground nor background detected. Set uniform disparity.\n", buf, 0x1Cu);
    }
    CVPixelBufferLockBaseAddress(a16, 0);
    v237 = CVPixelBufferGetBaseAddress(a16);
    v238 = CVPixelBufferGetHeight(a16);
    CVPixelBufferGetWidth(a16);
    v239 = CVPixelBufferGetBytesPerRow(a16);
    bzero(v237, v239 * v238);
    v45 = 0;
    CVPixelBufferUnlockBaseAddress(a16, 0);
  }
LABEL_12:
  *a17 = v45;

}

void sub_1B5693C9C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19)
{
  void *v19;

  __cxa_guard_abort(&qword_1EF12D980);
  _Unwind_Resume(a1);
}

void sub_1B5693DF0()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B5693E04()
{
  _QWORD *result;

  result = operator new(0x10uLL);
  *result = &off_1E6936B60;
  return result;
}

void sub_1B5693E28(uint64_t a1, _QWORD *a2)
{
  *a2 = &off_1E6936B60;
}

unsigned int sub_1B5693E40(uint64_t a1, _QWORD *a2, int *a3)
{
  _H0 = *(_WORD *)(*a2 + 2 * *a3);
  __asm { FCVT            S0, H0 }
  return llroundf(_S0 * 255.0);
}

void sub_1B5693E68()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B5693E7C(uint64_t a1)
{
  _QWORD *result;
  uint64_t v3;

  result = operator new(0x10uLL);
  v3 = *(_QWORD *)(a1 + 8);
  *result = &off_1E6936B18;
  result[1] = v3;
  return result;
}

uint64_t sub_1B5693EB0(uint64_t result, _QWORD *a2)
{
  uint64_t v2;

  v2 = *(_QWORD *)(result + 8);
  *a2 = &off_1E6936B18;
  a2[1] = v2;
  return result;
}

uint64_t sub_1B5693ECC(uint64_t a1, int *a2)
{
  return **(_QWORD **)(a1 + 8) + *(_QWORD *)(*(_QWORD *)(a1 + 8) + 24) * *a2;
}

void sub_1B5693EE8()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B5693EFC()
{
  _QWORD *result;

  result = operator new(0x10uLL);
  *result = &off_1E6936AD0;
  return result;
}

void sub_1B5693F20(uint64_t a1, _QWORD *a2)
{
  *a2 = &off_1E6936AD0;
}

unsigned int sub_1B5693F38(uint64_t a1, _QWORD *a2, int *a3)
{
  return llroundf(*(float *)(*a2 + 4 * *a3) * 255.0);
}

void sub_1B5693F5C()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B5693F70(uint64_t a1)
{
  _QWORD *result;
  uint64_t v3;

  result = operator new(0x10uLL);
  v3 = *(_QWORD *)(a1 + 8);
  *result = &off_1E6936A88;
  result[1] = v3;
  return result;
}

uint64_t sub_1B5693FA4(uint64_t result, _QWORD *a2)
{
  uint64_t v2;

  v2 = *(_QWORD *)(result + 8);
  *a2 = &off_1E6936A88;
  a2[1] = v2;
  return result;
}

uint64_t sub_1B5693FC0(uint64_t a1, int *a2)
{
  return **(_QWORD **)(a1 + 8) + *(_QWORD *)(*(_QWORD *)(a1 + 8) + 24) * *a2;
}

void sub_1B5693FDC()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B5693FF0()
{
  _QWORD *result;

  result = operator new(0x10uLL);
  *result = &off_1E6936A40;
  return result;
}

void sub_1B5694014(uint64_t a1, _QWORD *a2)
{
  *a2 = &off_1E6936A40;
}

uint64_t sub_1B569402C(uint64_t a1, _QWORD *a2, int *a3)
{
  return *(unsigned __int8 *)(*a2 + *a3);
}

void sub_1B5694040()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B5694054(uint64_t a1)
{
  _QWORD *result;
  uint64_t v3;

  result = operator new(0x10uLL);
  v3 = *(_QWORD *)(a1 + 8);
  *result = &off_1E69369F8;
  result[1] = v3;
  return result;
}

uint64_t sub_1B5694088(uint64_t result, _QWORD *a2)
{
  uint64_t v2;

  v2 = *(_QWORD *)(result + 8);
  *a2 = &off_1E69369F8;
  a2[1] = v2;
  return result;
}

uint64_t sub_1B56940A4(uint64_t a1, int *a2)
{
  return **(_QWORD **)(a1 + 8) + *(_QWORD *)(*(_QWORD *)(a1 + 8) + 24) * *a2;
}

void sub_1B5695F68(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,void *__p,uint64_t a25,uint64_t a26,void *a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44)
{
  void *v44;

  if (__p)
    operator delete(__p);
  sub_1B569EFF8(&a27);

  _Unwind_Resume(a1);
}

void sub_1B5696408(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, objc_super a9)
{
  a9.super_class = (Class)VideoMattingMetal;
  -[_Unwind_Exception dealloc](&a9, sel_dealloc);
  _Unwind_Resume(a1);
}

void sub_1B56965F0(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B56966D0(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B5696764(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{

  _Unwind_Resume(a1);
}

void sub_1B56967FC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{

  _Unwind_Resume(a1);
}

void sub_1B5696874(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;

  _Unwind_Resume(a1);
}

void sub_1B5696988(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;

  _Unwind_Resume(a1);
}

void sub_1B5696A80(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5696BFC(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5696D6C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B5696F38(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5697198(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B5697668(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  void *v14;
  void *v15;
  void *v16;
  void *v17;

  _Unwind_Resume(a1);
}

void sub_1B5697790(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B56979AC(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B5697AD0(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5697CB4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B5697EF4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;

  _Unwind_Resume(a1);
}

void sub_1B5698044(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B5698228(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B56984F8(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B5698668(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B569882C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B56989EC(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B56994A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14, void *a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19)
{
  void *v19;

  _Unwind_Resume(a1);
}

void sub_1B5699C94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14, uint64_t a15, void *a16, void *a17, void *a18, void *a19, uint64_t a20,uint64_t a21,uint64_t a22,void *a23,void *a24)
{
  void *v24;

  __cxa_guard_abort(&qword_1EF12D2D8);
  _Unwind_Resume(a1);
}

void sub_1B5699E7C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{

  _Unwind_Resume(a1);
}

void sub_1B569A044(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B569A154(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B569A3D4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{

  _Unwind_Resume(a1);
}

void sub_1B569A77C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;

  _Unwind_Resume(a1);
}

void sub_1B569A944(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B569AB48(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *a11, id a12)
{
  void *v12;
  void *v13;
  void *v14;
  void *v15;
  void *v16;

  _Unwind_Resume(a1);
}

void sub_1B569AD48(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B569B2B4(_Unwind_Exception *a1)
{
  __cxa_guard_abort(&qword_1EF12D4F0);
  _Unwind_Resume(a1);
}

void sub_1B569B2E8(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
    operator delete(__p);
  _Unwind_Resume(exception_object);
}

void sub_1B569B640(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B569B7A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  void *v7;
  void *v8;
  va_list va;

  va_start(va, a7);
  _Block_object_dispose(va, 8);

  _Unwind_Resume(a1);
}

void sub_1B569BA88(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;
  void *v11;
  void *v12;
  void *v13;
  void *v14;

  _Unwind_Resume(a1);
}

void sub_1B569C7B0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20,void *a21,uint64_t a22,void *a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,void *a41,void *a42,void *__p,uint64_t a44,int a45,__int16 a46,char a47,char a48,uint64_t a49,uint64_t a50,uint64_t a51)
{
  void *v51;
  void *v52;

  __cxa_guard_abort(&qword_1EF12D9B0);

  _Unwind_Resume(a1);
}

void sub_1B569CD28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, void *a11, void *a12)
{
  void *v12;

  _Unwind_Resume(a1);
}

void sub_1B569CF9C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;

  _Unwind_Resume(a1);
}

void sub_1B569D268(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B569D658(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void *a9, void *a10, void *a11, void *a12, void *a13, void *a14)
{
  void *v14;
  void *v15;
  void *v16;

  _Unwind_Resume(a1);
}

void sub_1B569D9C4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;

  _Unwind_Resume(a1);
}

void sub_1B569DB68(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B569E624(uint64_t a1, uint64_t a2)
{
  NSLog(CFSTR("HW-scaler return status: %d"), a2);
}

void sub_1B569E64C(uint64_t a1)
{
  NSObject *v2;
  id v3;
  uint64_t v4;
  _QWORD block[5];
  id v6;
  uint64_t v7;

  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 56));
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 64));
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 72));
  v2 = *(NSObject **)(a1 + 32);
  if (!v2)
    v2 = *(NSObject **)(*(_QWORD *)(a1 + 40) + 1024);
  block[0] = MEMORY[0x1E0C809B0];
  block[1] = 3221225472;
  block[2] = sub_1B569E6F8;
  block[3] = &unk_1E69370B0;
  v3 = *(id *)(a1 + 48);
  v4 = *(_QWORD *)(a1 + 80);
  v6 = v3;
  v7 = v4;
  block[4] = *(_QWORD *)(a1 + 40);
  dispatch_async(v2, block);

}

intptr_t sub_1B569E6F8(uint64_t a1)
{
  uint64_t v2;

  v2 = *(_QWORD *)(a1 + 40);
  if (v2)
    (*(void (**)(void))(v2 + 16))();
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 48));
  return dispatch_semaphore_signal(*(dispatch_semaphore_t *)(*(_QWORD *)(a1 + 32) + 1032));
}

void sub_1B569E73C(uint64_t a1, void *a2)
{
  id v3;
  uint64_t v4;
  double v5;
  NSObject *v6;
  id v7;
  uint64_t v8;
  _QWORD v9[5];
  id v10;
  uint64_t v11;
  void *__p[2];
  char v13;

  v3 = a2;
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 56));
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 64));
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 72));
  v4 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 40) + 40);
  objc_msgSend(v3, "GPUEndTime");
  v13 = 8;
  strcpy((char *)__p, "SDoF GPU");
  sub_1B567D710(v4, (uint64_t)__p, v5);
  if (v13 < 0)
  {
    operator delete(__p[0]);
    v6 = *(NSObject **)(a1 + 40);
    if (v6)
      goto LABEL_3;
LABEL_5:
    v6 = *(NSObject **)(*(_QWORD *)(a1 + 32) + 1024);
    goto LABEL_3;
  }
  v6 = *(NSObject **)(a1 + 40);
  if (!v6)
    goto LABEL_5;
LABEL_3:
  v9[0] = MEMORY[0x1E0C809B0];
  v9[1] = 3221225472;
  v9[2] = sub_1B569E888;
  v9[3] = &unk_1E69370B0;
  v7 = *(id *)(a1 + 48);
  v8 = *(_QWORD *)(a1 + 80);
  v10 = v7;
  v11 = v8;
  v9[4] = *(_QWORD *)(a1 + 32);
  dispatch_async(v6, v9);

}

void sub_1B569E860(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *__p, uint64_t a17, int a18, __int16 a19, char a20,char a21)
{
  void *v21;

  if (a21 < 0)
    operator delete(__p);

  _Unwind_Resume(a1);
}

intptr_t sub_1B569E888(uint64_t a1)
{
  uint64_t v2;

  v2 = *(_QWORD *)(a1 + 40);
  if (v2)
    (*(void (**)(void))(v2 + 16))();
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 48));
  return dispatch_semaphore_signal(*(dispatch_semaphore_t *)(*(_QWORD *)(a1 + 32) + 1032));
}

void sub_1B569E8CC()
{
  const __CFAllocator *v0;
  __CFString *Mutable;
  const __CFString *v2;
  CFIndex Length;
  CFIndex v4;
  CFRange v5;
  void *v6;
  size_t v7;
  char cStr[16];
  __int128 v9;
  __int128 v10;
  __int128 v11;
  uint64_t v12;

  v12 = *MEMORY[0x1E0C80C00];
  v10 = 0u;
  v11 = 0u;
  *(_OWORD *)cStr = 0u;
  v9 = 0u;
  v7 = 64;
  sysctlbyname("hw.model", cStr, &v7, 0, 0);
  v0 = (const __CFAllocator *)*MEMORY[0x1E0C9AE00];
  Mutable = CFStringCreateMutable((CFAllocatorRef)*MEMORY[0x1E0C9AE00], 0);
  if (Mutable)
  {
    v2 = Mutable;
    CFStringAppendCString(Mutable, cStr, 0);
    Length = CFStringGetLength(v2);
    if (CFStringHasSuffix(v2, CFSTR("AP")))
      v4 = Length - 2;
    else
      v4 = 0;
    if (CFStringHasSuffix(v2, CFSTR("DEV")))
      v5.length = Length - 3;
    else
      v5.length = v4;
    if (v5.length < 1)
    {
      v6 = (void *)CFRetain(v2);
    }
    else
    {
      v5.location = 0;
      v6 = (void *)CFStringCreateWithSubstring(v0, v2, v5);
    }
    qword_1EF12D630 = (uint64_t)v6;
    CFRelease(v2);
  }
  if (!qword_1EF12D630)
    qword_1EF12D630 = (uint64_t)CFSTR("N51");
}

void sub_1B569EA10(uint64_t a1, void *a2)
{
  id v3;
  uint64_t v4;
  double v5;
  NSObject *v6;
  id v7;
  uint64_t v8;
  _QWORD v9[5];
  id v10;
  uint64_t v11;
  void *__p[2];
  char v13;

  v3 = a2;
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 56));
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 64));
  v4 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 40) + 40);
  objc_msgSend(v3, "GPUEndTime");
  v13 = 14;
  strcpy((char *)__p, "AlphaMatte GPU");
  sub_1B567D710(v4, (uint64_t)__p, v5);
  if (v13 < 0)
  {
    operator delete(__p[0]);
    v6 = *(NSObject **)(a1 + 40);
    if (v6)
      goto LABEL_3;
LABEL_5:
    v6 = *(NSObject **)(*(_QWORD *)(a1 + 32) + 1040);
    goto LABEL_3;
  }
  v6 = *(NSObject **)(a1 + 40);
  if (!v6)
    goto LABEL_5;
LABEL_3:
  v9[0] = MEMORY[0x1E0C809B0];
  v9[1] = 3221225472;
  v9[2] = sub_1B569EB58;
  v9[3] = &unk_1E69370B0;
  v7 = *(id *)(a1 + 48);
  v8 = *(_QWORD *)(a1 + 72);
  v10 = v7;
  v11 = v8;
  v9[4] = *(_QWORD *)(a1 + 32);
  dispatch_async(v6, v9);

}

void sub_1B569EB30(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *__p, uint64_t a17, int a18, __int16 a19, char a20,char a21)
{
  void *v21;

  if (a21 < 0)
    operator delete(__p);

  _Unwind_Resume(a1);
}

intptr_t sub_1B569EB58(uint64_t a1)
{
  uint64_t v2;

  v2 = *(_QWORD *)(a1 + 40);
  if (v2)
    (*(void (**)(void))(v2 + 16))();
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 48));
  return dispatch_semaphore_signal(*(dispatch_semaphore_t *)(*(_QWORD *)(a1 + 32) + 1048));
}

void sub_1B569EB9C(uint64_t a1, void *a2)
{
  id v3;
  uint64_t v4;
  double v5;
  NSObject *v6;
  id v7;
  uint64_t v8;
  _QWORD v9[5];
  id v10;
  uint64_t v11;
  void *__p[2];
  char v13;

  v3 = a2;
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 56));
  v4 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 40) + 40);
  objc_msgSend(v3, "GPUEndTime");
  v13 = 15;
  strcpy((char *)__p, "DisparityPP GPU");
  sub_1B567D710(v4, (uint64_t)__p, v5);
  if (v13 < 0)
  {
    operator delete(__p[0]);
    v6 = *(NSObject **)(a1 + 40);
    if (v6)
      goto LABEL_3;
LABEL_5:
    v6 = *(NSObject **)(*(_QWORD *)(a1 + 32) + 1040);
    goto LABEL_3;
  }
  v6 = *(NSObject **)(a1 + 40);
  if (!v6)
    goto LABEL_5;
LABEL_3:
  v9[0] = MEMORY[0x1E0C809B0];
  v9[1] = 3221225472;
  v9[2] = sub_1B569ECDC;
  v9[3] = &unk_1E69370B0;
  v7 = *(id *)(a1 + 48);
  v8 = *(_QWORD *)(a1 + 64);
  v10 = v7;
  v11 = v8;
  v9[4] = *(_QWORD *)(a1 + 32);
  dispatch_async(v6, v9);

}

void sub_1B569ECB4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *__p, uint64_t a17, int a18, __int16 a19, char a20,char a21)
{
  void *v21;

  if (a21 < 0)
    operator delete(__p);

  _Unwind_Resume(a1);
}

intptr_t sub_1B569ECDC(uint64_t a1)
{
  uint64_t v2;

  v2 = *(_QWORD *)(a1 + 40);
  if (v2)
    (*(void (**)(void))(v2 + 16))();
  CVPixelBufferRelease(*(CVPixelBufferRef *)(a1 + 48));
  return dispatch_semaphore_signal(*(dispatch_semaphore_t *)(*(_QWORD *)(a1 + 32) + 1048));
}

void sub_1B569ED20(uint64_t a1, void *a2)
{
  uint64_t v3;
  double v4;
  double v5;
  uint64_t v6;
  NSObject *v7;
  _QWORD block[4];
  id v9;
  uint64_t v10;
  void *__p;
  __int128 v12;

  v3 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 32) + 40) + 40);
  objc_msgSend(a2, "GPUEndTime");
  v5 = v4;
  __p = operator new(0x19uLL);
  v12 = xmmword_1B56AC1D0;
  strcpy((char *)__p, "personSegmentationRatio");
  sub_1B567D710(v3, (uint64_t)&__p, v5);
  if (SHIBYTE(v12) < 0)
    operator delete(__p);
  v6 = objc_msgSend(*(id *)(*(_QWORD *)(a1 + 32) + 1096), "contents");
  block[0] = MEMORY[0x1E0C809B0];
  block[1] = 3221225472;
  block[2] = sub_1B569EE48;
  block[3] = &unk_1E6937060;
  v7 = *(NSObject **)(a1 + 40);
  v9 = *(id *)(a1 + 48);
  v10 = v6;
  dispatch_async(v7, block);

}

void sub_1B569EE2C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *__p, uint64_t a17, int a18, __int16 a19, char a20,char a21)
{
  if (a21 < 0)
    operator delete(__p);
  _Unwind_Resume(exception_object);
}

uint64_t sub_1B569EE48(uint64_t a1)
{
  uint64_t result;

  result = *(_QWORD *)(a1 + 32);
  if (result)
    return (*(uint64_t (**)(float))(result + 16))(**(float **)(a1 + 40));
  return result;
}

id sub_1B569EE68(id **a1, void *a2, char a3)
{
  id v5;
  void *v6;
  char v8;

  v5 = a2;
  v8 = a3;
  v6 = (void *)objc_msgSend(**a1, "copy");
  objc_msgSend(v6, "setConstantValue:type:withName:", &v8, 53, v5);

  return v6;
}

void sub_1B569EECC(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

_QWORD *sub_1B569EEE8(_QWORD *a1, uint64_t a2, unint64_t a3)
{
  uint64_t v5;
  _QWORD *v6;
  uint64_t v7;
  void *v8;

  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  if (a3)
  {
    if (a3 >= 0xAAAAAAAAAAAAAABLL)
      sub_1B566A9AC();
    v5 = 3 * a3;
    v6 = operator new(24 * a3);
    *a1 = v6;
    a1[1] = v6;
    a1[2] = &v6[v5];
    v7 = a2 + v5 * 8;
    do
    {
      v8 = *(void **)(a2 + 8);
      *v6 = *(_QWORD *)a2;
      v6[1] = v8;
      v6[2] = *(id *)(a2 + 16);
      v6 += 3;
      a2 += 24;
    }
    while (a2 != v7);
    a1[1] = v6;
  }
  return a1;
}

_QWORD *sub_1B569EF8C(_QWORD *a1, const void *a2, unint64_t a3)
{
  size_t v5;
  char *v6;
  char *v7;

  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  if (a3)
  {
    if (a3 >> 59)
      abort();
    v5 = 32 * a3;
    v6 = (char *)operator new(32 * a3);
    *a1 = v6;
    a1[1] = v6;
    v7 = &v6[v5];
    a1[2] = &v6[v5];
    memmove(v6, a2, v5);
    a1[1] = v7;
  }
  return a1;
}

void **sub_1B569EFF8(void **a1)
{
  id *v2;
  id *v3;
  void *v4;

  v2 = (id *)*a1;
  if (*a1)
  {
    v3 = (id *)a1[1];
    v4 = *a1;
    if (v3 != v2)
    {
      do
      {

        v3 -= 3;
      }
      while (v3 != v2);
      v4 = *a1;
    }
    a1[1] = v2;
    operator delete(v4);
  }
  return a1;
}

void sub_1B569F218(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;

  _Unwind_Resume(a1);
}

void sub_1B569F4C4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B569F744(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B569FA08(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;

  _Unwind_Resume(a1);
}

void sub_1B569FAB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{

  _Unwind_Resume(a1);
}

void sub_1B569FC20(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B569FD6C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  void *v10;
  void *v11;
  void *v12;
  void *v13;

  _Unwind_Resume(a1);
}

void sub_1B56A017C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, void *a11, void *a12, void *a13)
{
  void *v13;

  _Unwind_Resume(a1);
}

void sub_1B56A0304(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B56A049C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B56A05DC(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B56A06F8(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B56A093C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B56A0BFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, void *a13)
{
  void *v13;
  void *v14;
  void *v15;
  void *v16;
  void *v17;
  void *v19;

  v19 = v16;

  _Unwind_Resume(a1);
}

id *sub_1B56A0D9C(id *a1)
{

  return a1;
}

uint64_t sub_1B56A0DFC(uint64_t a1, CVPixelBufferRef pixelBuffer, __CVBuffer *a3)
{
  char *BaseAddress;
  size_t BytesPerRow;
  char *v8;
  size_t Height;
  size_t v10;
  uint64_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  size_t v15;
  uint64_t v16;
  char *v17;
  int *v18;
  char *v19;
  uint64_t v20;
  int v21;
  int v22;
  __CVBuffer *v23;
  char *v24;
  size_t v25;
  size_t Width;
  size_t v27;
  char *v28;
  size_t v29;
  size_t v30;
  size_t v31;
  unint64_t i;
  unint64_t j;
  char *v34;
  size_t v35;
  size_t v36;
  uint64_t v37;
  uint64_t v38;
  int v39;
  uint64_t v40;
  uint64_t v41;
  uint64_t v42;
  int v43;
  uint64_t v44;
  char *v45;
  _DWORD *v46;
  char *v47;
  _DWORD *v48;
  char *v49;
  uint64_t v50;
  char *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  int v55;
  char *v56;
  int v57;
  char *v58;
  char *v59;
  uint64_t v61;
  char *v62;
  uint64_t v63;
  __int128 *v64;
  char *v65;
  char *v66;
  uint64_t v67;
  __int128 *v68;
  _OWORD *v69;
  unint64_t v70;
  __int128 v71;
  uint64_t v72;
  uint64_t v73;
  char *v74;
  char *v75;
  int v76;
  vImage_Buffer v77;
  vImage_Buffer src;

  CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 48), 0);
  BaseAddress = (char *)CVPixelBufferGetBaseAddress(pixelBuffer);
  CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferGetWidth(pixelBuffer);
  BytesPerRow = CVPixelBufferGetBytesPerRow(pixelBuffer);
  v8 = (char *)CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 48));
  Height = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 48));
  CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 48));
  v10 = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 48));
  if ((uint64_t)(v10 * Height) >= 1)
    memset_pattern16(v8, &unk_1B56AC270, 4 * (((v10 * Height) >> 2) - (v10 * Height > 3)) + 4);
  v11 = *(int *)(a1 + 32);
  v12 = *(int *)(a1 + 8);
  if ((int)v11 < (int)v12)
  {
    v13 = *(int *)(a1 + 28);
    v14 = *(int *)(a1 + 4);
    if ((int)v13 < (int)v14)
    {
      v15 = v10 * v11;
      v16 = v14 - v13;
      if ((unint64_t)(v14 - v13) >= 8)
      {
        v61 = 0;
        v62 = &v8[4 * v13 + v15];
        v63 = (uint64_t)&v8[4 * v13 + 16 + v15];
        v64 = (__int128 *)(BaseAddress + 16);
        v65 = &v8[v15];
        v66 = &BaseAddress[-4 * v13];
        do
        {
          v67 = v13;
          if ((unint64_t)(&v62[v10 * v61] - &BaseAddress[BytesPerRow * v61]) < 0x20)
            goto LABEL_42;
          v68 = v64;
          v69 = (_OWORD *)v63;
          v70 = v16 & 0xFFFFFFFFFFFFFFF8;
          do
          {
            v71 = *v68;
            *(v69 - 1) = *(v68 - 1);
            *v69 = v71;
            v69 += 2;
            v68 += 2;
            v70 -= 8;
          }
          while (v70);
          v67 = (v16 & 0xFFFFFFFFFFFFFFF8) + v13;
          if (v16 != (v16 & 0xFFFFFFFFFFFFFFF8))
          {
LABEL_42:
            v72 = v14 - v67;
            v73 = 4 * v67;
            v74 = &v65[4 * v67];
            v75 = &v66[v73];
            do
            {
              v76 = *(_DWORD *)v75;
              v75 += 4;
              *(_DWORD *)v74 = v76;
              v74 += 4;
              --v72;
            }
            while (v72);
          }
          ++v11;
          ++v61;
          v63 += v10;
          v64 = (__int128 *)((char *)v64 + BytesPerRow);
          v65 += v10;
          v66 += BytesPerRow;
        }
        while (v11 != v12);
      }
      else
      {
        v17 = &v8[4 * v13 + v15];
        do
        {
          v18 = (int *)BaseAddress;
          v19 = v17;
          v20 = v16;
          do
          {
            v21 = *v18++;
            *(_DWORD *)v19 = v21;
            v19 += 4;
            --v20;
          }
          while (v20);
          ++v11;
          v17 += v10;
          BaseAddress += BytesPerRow;
        }
        while (v11 != v12);
      }
    }
  }
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 48), 0);
  CVPixelBufferUnlockBaseAddress(pixelBuffer, 1uLL);
  if (*(_DWORD *)(a1 + 12) == *(_DWORD *)(a1 + 20) && *(_DWORD *)(a1 + 16) == *(_DWORD *)(a1 + 24))
  {
    v22 = 0;
    v23 = a3;
  }
  else
  {
    v23 = *(__CVBuffer **)(a1 + 56);
    v22 = 1;
  }
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 48), 1uLL);
  CVPixelBufferLockBaseAddress(v23, 0);
  src.data = CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 48));
  src.height = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 48));
  src.width = CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 48));
  src.rowBytes = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 48));
  v77.data = CVPixelBufferGetBaseAddress(v23);
  v77.height = CVPixelBufferGetHeight(v23);
  v77.width = CVPixelBufferGetWidth(v23);
  v77.rowBytes = CVPixelBufferGetBytesPerRow(v23);
  vImageRotate90_PlanarF(&src, &v77, *(_BYTE *)(a1 + 44), 0.0, 0);
  CVPixelBufferUnlockBaseAddress(v23, 0);
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 48), 1uLL);
  if (v22)
  {
    CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 56), 1uLL);
    CVPixelBufferLockBaseAddress(a3, 0);
    v24 = (char *)CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 56));
    v25 = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 56));
    Width = CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 56));
    v27 = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 56));
    v28 = (char *)CVPixelBufferGetBaseAddress(a3);
    v29 = CVPixelBufferGetHeight(a3);
    v30 = CVPixelBufferGetWidth(a3);
    v31 = CVPixelBufferGetBytesPerRow(a3);
    if (v29 && v30)
    {
      for (i = 0; i != v29; ++i)
      {
        for (j = 0; j != v30; ++j)
          *(_DWORD *)&v28[4 * j] = *(_DWORD *)&v24[4
                                                 * (unint64_t)(float)((float)((float)Width / (float)v30)
                                                                           * (float)j)
                                                 + v27
                                                 * (unint64_t)(float)((float)((float)v25 / (float)v29) * (float)i)];
        v28 += v31;
      }
    }
    CVPixelBufferUnlockBaseAddress(a3, 0);
    CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 56), 1uLL);
  }
  CVPixelBufferLockBaseAddress(a3, 0);
  v34 = (char *)CVPixelBufferGetBaseAddress(a3);
  CVPixelBufferGetHeight(a3);
  CVPixelBufferGetWidth(a3);
  v35 = CVPixelBufferGetBytesPerRow(a3);
  v36 = v35;
  v37 = *(unsigned int *)(a1 + 16);
  if ((int)v37 >= 1)
  {
    v38 = *(int *)(a1 + 36);
    v39 = *(_DWORD *)(a1 + 12);
    v40 = v39 + ~(_DWORD)v38;
    v41 = v40 - 1;
    if ((int)v38 <= 0)
    {
      v51 = v34;
      v52 = *(unsigned int *)(a1 + 16);
      do
      {
        *(_DWORD *)&v51[4 * v40] = *(_DWORD *)&v51[4 * v41];
        v51 += v35;
        --v52;
      }
      while (v52);
    }
    else
    {
      v42 = 0;
      v43 = v39 - 1;
      v44 = v39 - 1 + ~(_DWORD)v38;
      v45 = &v34[4 * v43];
      v46 = v34;
      do
      {
        v47 = &v34[v36 * v42];
        v48 = v46;
        v49 = v45;
        v50 = v38;
        do
        {
          *v48++ = *(_DWORD *)&v47[4 * v38];
          *(_DWORD *)v49 = *(_DWORD *)&v47[4 * v44];
          v49 -= 4;
          --v50;
        }
        while (v50);
        *(_DWORD *)&v47[4 * v40] = *(_DWORD *)&v47[4 * v41];
        ++v42;
        v45 += v36;
        v46 = (_DWORD *)((char *)v46 + v36);
      }
      while (v42 != v37);
    }
  }
  LODWORD(v53) = *(_DWORD *)(a1 + 40);
  if ((int)v53 >= 1)
  {
    v54 = 0;
    v55 = -1;
    v56 = v34;
    do
    {
      v57 = *(_DWORD *)(a1 + 16);
      v58 = &v34[v36 * (v55 + v57)];
      v59 = &v34[v36 * (v57 - (int)v53 - 2)];
      memcpy(v56, &v34[v36 * (int)v53], v36);
      memcpy(v58, v59, v36);
      ++v54;
      v53 = *(int *)(a1 + 40);
      v56 += v36;
      --v55;
    }
    while (v54 < v53);
    LODWORD(v37) = *(_DWORD *)(a1 + 16);
  }
  memcpy(&v34[v36 * ((int)v37 + ~(_DWORD)v53)], &v34[v36 * ((int)v37 + ~(_DWORD)v53 - 1)], v36);
  return CVPixelBufferUnlockBaseAddress(a3, 0);
}

uint64_t sub_1B56A1388(uint64_t a1, CVPixelBufferRef pixelBuffer, __CVBuffer *a3)
{
  char *BaseAddress;
  size_t BytesPerRow;
  char *v8;
  size_t Height;
  size_t v10;
  size_t v11;
  uint64_t v12;
  uint64_t v13;
  uint64_t v14;
  uint64_t v15;
  size_t v16;
  uint64_t v17;
  char *v18;
  __int16 *v19;
  char *v20;
  uint64_t v21;
  __int16 v22;
  int v23;
  __CVBuffer *v24;
  char *v25;
  size_t v26;
  size_t Width;
  size_t v28;
  char *v29;
  size_t v30;
  size_t v31;
  size_t v32;
  unint64_t i;
  unint64_t j;
  char *v35;
  size_t v36;
  size_t v37;
  uint64_t v38;
  uint64_t v39;
  int v40;
  uint64_t v41;
  uint64_t v42;
  uint64_t v43;
  int v44;
  uint64_t v45;
  char *v46;
  _WORD *v47;
  char *v48;
  _WORD *v49;
  char *v50;
  uint64_t v51;
  char *v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  int v56;
  char *v57;
  int v58;
  char *v59;
  char *v60;
  uint64_t v62;
  char *v63;
  uint64_t v64;
  __int128 *v65;
  char *v66;
  char *v67;
  uint64_t v68;
  __int128 *v69;
  _OWORD *v70;
  unint64_t v71;
  __int128 v72;
  uint64_t v73;
  uint64_t v74;
  char *v75;
  char *v76;
  __int16 v77;
  vImage_Buffer v78;
  vImage_Buffer src;

  CVPixelBufferLockBaseAddress(pixelBuffer, 1uLL);
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 48), 0);
  BaseAddress = (char *)CVPixelBufferGetBaseAddress(pixelBuffer);
  CVPixelBufferGetHeight(pixelBuffer);
  CVPixelBufferGetWidth(pixelBuffer);
  BytesPerRow = CVPixelBufferGetBytesPerRow(pixelBuffer);
  v8 = (char *)CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 48));
  Height = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 48));
  CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 48));
  v10 = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 48));
  v11 = v10;
  if ((uint64_t)(v10 * Height) >= 1)
    memset_pattern16(v8, &unk_1B56AC280, 2 * (((v10 * Height) >> 1) - (v10 * Height != 1)) + 2);
  v12 = *(int *)(a1 + 32);
  v13 = *(int *)(a1 + 8);
  if ((int)v12 < (int)v13)
  {
    v14 = *(int *)(a1 + 28);
    v15 = *(int *)(a1 + 4);
    if ((int)v14 < (int)v15)
    {
      v16 = v11 * v12;
      v17 = v15 - v14;
      if ((unint64_t)(v15 - v14) >= 0x10)
      {
        v62 = 0;
        v63 = &v8[2 * v14 + v16];
        v64 = (uint64_t)&v8[2 * v14 + 16 + v16];
        v65 = (__int128 *)(BaseAddress + 16);
        v66 = &v8[v16];
        v67 = &BaseAddress[-2 * v14];
        do
        {
          v68 = v14;
          if ((unint64_t)(&v63[v11 * v62] - &BaseAddress[BytesPerRow * v62]) < 0x20)
            goto LABEL_42;
          v69 = v65;
          v70 = (_OWORD *)v64;
          v71 = v17 & 0xFFFFFFFFFFFFFFF0;
          do
          {
            v72 = *v69;
            *(v70 - 1) = *(v69 - 1);
            *v70 = v72;
            v70 += 2;
            v69 += 2;
            v71 -= 16;
          }
          while (v71);
          v68 = (v17 & 0xFFFFFFFFFFFFFFF0) + v14;
          if (v17 != (v17 & 0xFFFFFFFFFFFFFFF0))
          {
LABEL_42:
            v73 = v15 - v68;
            v74 = 2 * v68;
            v75 = &v66[2 * v68];
            v76 = &v67[v74];
            do
            {
              v77 = *(_WORD *)v76;
              v76 += 2;
              *(_WORD *)v75 = v77;
              v75 += 2;
              --v73;
            }
            while (v73);
          }
          ++v12;
          ++v62;
          v64 += v11;
          v65 = (__int128 *)((char *)v65 + BytesPerRow);
          v66 += v11;
          v67 += BytesPerRow;
        }
        while (v12 != v13);
      }
      else
      {
        v18 = &v8[2 * v14 + v16];
        do
        {
          v19 = (__int16 *)BaseAddress;
          v20 = v18;
          v21 = v17;
          do
          {
            v22 = *v19++;
            *(_WORD *)v20 = v22;
            v20 += 2;
            --v21;
          }
          while (v21);
          ++v12;
          v18 += v11;
          BaseAddress += BytesPerRow;
        }
        while (v12 != v13);
      }
    }
  }
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 48), 0);
  CVPixelBufferUnlockBaseAddress(pixelBuffer, 1uLL);
  if (*(_DWORD *)(a1 + 12) == *(_DWORD *)(a1 + 20) && *(_DWORD *)(a1 + 16) == *(_DWORD *)(a1 + 24))
  {
    v23 = 0;
    v24 = a3;
  }
  else
  {
    v24 = *(__CVBuffer **)(a1 + 56);
    v23 = 1;
  }
  CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 48), 1uLL);
  CVPixelBufferLockBaseAddress(v24, 0);
  src.data = CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 48));
  src.height = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 48));
  src.width = CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 48));
  src.rowBytes = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 48));
  v78.data = CVPixelBufferGetBaseAddress(v24);
  v78.height = CVPixelBufferGetHeight(v24);
  v78.width = CVPixelBufferGetWidth(v24);
  v78.rowBytes = CVPixelBufferGetBytesPerRow(v24);
  vImageRotate90_Planar16F(&src, &v78, *(_BYTE *)(a1 + 44), 0, 0);
  CVPixelBufferUnlockBaseAddress(v24, 0);
  CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 48), 1uLL);
  if (v23)
  {
    CVPixelBufferLockBaseAddress(*(CVPixelBufferRef *)(a1 + 56), 1uLL);
    CVPixelBufferLockBaseAddress(a3, 0);
    v25 = (char *)CVPixelBufferGetBaseAddress(*(CVPixelBufferRef *)(a1 + 56));
    v26 = CVPixelBufferGetHeight(*(CVPixelBufferRef *)(a1 + 56));
    Width = CVPixelBufferGetWidth(*(CVPixelBufferRef *)(a1 + 56));
    v28 = CVPixelBufferGetBytesPerRow(*(CVPixelBufferRef *)(a1 + 56));
    v29 = (char *)CVPixelBufferGetBaseAddress(a3);
    v30 = CVPixelBufferGetHeight(a3);
    v31 = CVPixelBufferGetWidth(a3);
    v32 = CVPixelBufferGetBytesPerRow(a3);
    if (v30 && v31)
    {
      for (i = 0; i != v30; ++i)
      {
        for (j = 0; j != v31; ++j)
          *(_WORD *)&v29[2 * j] = *(_WORD *)&v25[2
                                               * (unint64_t)(float)((float)((float)Width / (float)v31) * (float)j)
                                               + v28
                                               * (unint64_t)(float)((float)((float)v26 / (float)v30) * (float)i)];
        v29 += v32;
      }
    }
    CVPixelBufferUnlockBaseAddress(a3, 0);
    CVPixelBufferUnlockBaseAddress(*(CVPixelBufferRef *)(a1 + 56), 1uLL);
  }
  CVPixelBufferLockBaseAddress(a3, 0);
  v35 = (char *)CVPixelBufferGetBaseAddress(a3);
  CVPixelBufferGetHeight(a3);
  CVPixelBufferGetWidth(a3);
  v36 = CVPixelBufferGetBytesPerRow(a3);
  v37 = v36;
  v38 = *(unsigned int *)(a1 + 16);
  if ((int)v38 >= 1)
  {
    v39 = *(int *)(a1 + 36);
    v40 = *(_DWORD *)(a1 + 12);
    v41 = v40 + ~(_DWORD)v39;
    v42 = v41 - 1;
    if ((int)v39 <= 0)
    {
      v52 = v35;
      v53 = *(unsigned int *)(a1 + 16);
      do
      {
        *(_WORD *)&v52[2 * v41] = *(_WORD *)&v52[2 * v42];
        v52 += v36;
        --v53;
      }
      while (v53);
    }
    else
    {
      v43 = 0;
      v44 = v40 - 1;
      v45 = v40 - 1 + ~(_DWORD)v39;
      v46 = &v35[2 * v44];
      v47 = v35;
      do
      {
        v48 = &v35[v37 * v43];
        v49 = v47;
        v50 = v46;
        v51 = v39;
        do
        {
          *v49++ = *(_WORD *)&v48[2 * v39];
          *(_WORD *)v50 = *(_WORD *)&v48[2 * v45];
          v50 -= 2;
          --v51;
        }
        while (v51);
        *(_WORD *)&v48[2 * v41] = *(_WORD *)&v48[2 * v42];
        ++v43;
        v46 += v37;
        v47 = (_WORD *)((char *)v47 + v37);
      }
      while (v43 != v38);
    }
  }
  LODWORD(v54) = *(_DWORD *)(a1 + 40);
  if ((int)v54 >= 1)
  {
    v55 = 0;
    v56 = -1;
    v57 = v35;
    do
    {
      v58 = *(_DWORD *)(a1 + 16);
      v59 = &v35[v37 * (v56 + v58)];
      v60 = &v35[v37 * (v58 - (int)v54 - 2)];
      memcpy(v57, &v35[v37 * (int)v54], v37);
      memcpy(v59, v60, v37);
      ++v55;
      v54 = *(int *)(a1 + 40);
      v57 += v37;
      --v56;
    }
    while (v55 < v54);
    LODWORD(v38) = *(_DWORD *)(a1 + 16);
  }
  memcpy(&v35[v37 * ((int)v38 + ~(_DWORD)v54)], &v35[v37 * ((int)v38 + ~(_DWORD)v54 - 1)], v37);
  return CVPixelBufferUnlockBaseAddress(a3, 0);
}

void sub_1B56A1B1C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void *a9, void *a10)
{
  void *v10;
  void *v11;
  void *v12;

  _Unwind_Resume(a1);
}

void sub_1B56A1EAC(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

void sub_1B56A20C4(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B56A2230(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B56A22B8(uint64_t *a1, void *a2)
{
  uint64_t v3;
  unint64_t v4;
  unint64_t v5;
  id v6;

  v6 = a2;
  v3 = objc_msgSend(v6, "threadExecutionWidth");
  v4 = objc_msgSend(v6, "maxTotalThreadsPerThreadgroup");
  v5 = objc_msgSend(v6, "threadExecutionWidth");
  *a1 = v3;
  a1[1] = v4 / v5;
  a1[2] = 1;

}

void sub_1B56A231C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{

  _Unwind_Resume(a1);
}

id sub_1B56A2330(void *a1, void *a2, void *a3, _QWORD *a4, void *a5)
{
  id v9;
  id v10;
  id v11;
  id v12;
  void *v13;
  id v14;
  void *v15;
  void *v16;
  void *v17;
  id v18;
  void *v19;
  void *v20;
  void *v21;
  id v22;
  id v24;

  v9 = a1;
  v10 = a2;
  v11 = a3;
  v12 = a5;
  if (v12)
  {
    v24 = 0;
    v13 = (void *)objc_msgSend(v9, "newFunctionWithName:constantValues:pipelineLibrary:error:", v11, v12, v10, &v24);
    v14 = v24;
    v15 = (void *)MEMORY[0x1E0CB3940];
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Unable to create function (%@): %@"), v11, v14);
    v16 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v15, "stringWithFormat:", CFSTR("Assertion failure in %s at %s:%d -- %@"), "id<MTLFunction> functionFromLibrary(__strong id<MTLLibrary> _Nonnull, __strong id<MTLPipelineLibrarySPI> _Nonnull, NSString *__strong _Nonnull, NSError *__autoreleasing * _Nullable, MTLFunctionConstantValues * _Nullable __strong)", "/Library/Caches/com.apple.xbs/Sources/AppleCVAPhoto/module/sdof/src/metal/MetalHelpers.mm", 71, v16);
    v17 = (void *)objc_claimAutoreleasedReturnValue();
    sub_1B5658D40(v13 == 0, a4, v14, 4294944382, v17);

    if (!v13)
    {
      v22 = 0;
      goto LABEL_8;
    }
    if (v14)
    {
      objc_msgSend(v14, "description");
      v18 = objc_retainAutorelease((id)objc_claimAutoreleasedReturnValue());
      syslog(4, "Metal shader compilation warnings: %s", (const char *)objc_msgSend(v18, "UTF8String"));

    }
    goto LABEL_6;
  }
  v13 = (void *)objc_msgSend(v9, "newFunctionWithName:", v11);
  v19 = (void *)MEMORY[0x1E0CB3940];
  objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Unable to create function (%@)"), v11);
  v20 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v19, "stringWithFormat:", CFSTR("Assertion failure in %s at %s:%d -- %@"), "id<MTLFunction> functionFromLibrary(__strong id<MTLLibrary> _Nonnull, __strong id<MTLPipelineLibrarySPI> _Nonnull, NSString *__strong _Nonnull, NSError *__autoreleasing * _Nullable, MTLFunctionConstantValues * _Nullable __strong)", "/Library/Caches/com.apple.xbs/Sources/AppleCVAPhoto/module/sdof/src/metal/MetalHelpers.mm", 88, v20);
  v21 = (void *)objc_claimAutoreleasedReturnValue();
  sub_1B5658D40(v13 == 0, a4, 0, 4294944382, v21);

  v14 = 0;
  v22 = 0;
  if (v13)
LABEL_6:
    v22 = v13;
LABEL_8:

  return v22;
}

void sub_1B56A256C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;

  _Unwind_Resume(a1);
}

id sub_1B56A25D0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  void *v3;

  objc_msgSend(MEMORY[0x1E0CC6BB0], "texture2DDescriptorWithPixelFormat:width:height:mipmapped:", a1, a2, a3, 0);
  v3 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v3, "setUsage:", 3);
  objc_msgSend(v3, "setResourceOptions:", 0);
  return v3;
}

void sub_1B56A2624(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

id sub_1B56A2634(__CVBuffer *a1)
{
  uint64_t PixelFormatType;
  uint64_t v3;
  uint64_t v4;
  void *v5;
  void *v6;
  char v7;
  size_t Width;
  void *v9;
  void *v11;
  void *v12;
  void *v13;

  PixelFormatType = CVPixelBufferGetPixelFormatType(a1);
  v3 = PixelFormatType;
  if ((int)PixelFormatType > 1278226535)
  {
    if ((_DWORD)PixelFormatType == 1751411059 || (_DWORD)PixelFormatType == 1278226536)
    {
      v4 = 25;
      goto LABEL_11;
    }
  }
  else
  {
    if ((_DWORD)PixelFormatType == 1278226488)
    {
      v4 = 10;
      goto LABEL_11;
    }
    if ((_DWORD)PixelFormatType == 1278226534)
    {
      v4 = 55;
      goto LABEL_11;
    }
  }
  +[CVAVideoPipelineProperties_Impl allSupportedYCbCrPixelFormats](CVAVideoPipelineProperties_Impl, "allSupportedYCbCrPixelFormats");
  v5 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(MEMORY[0x1E0CB37E8], "numberWithUnsignedInt:", v3);
  v6 = (void *)objc_claimAutoreleasedReturnValue();
  v7 = objc_msgSend(v5, "containsObject:", v6);

  if ((v7 & 1) == 0)
  {
    v11 = (void *)MEMORY[0x1E0CB3940];
    objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("Unsupported pixel format type: %i"), CVPixelBufferGetPixelFormatType(a1));
    v12 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v11, "stringWithFormat:", CFSTR("Assertion failure in %s at %s:%d -- %@"), "MTLTextureDescriptor *getMTLTextureDescriptor(CVPixelBufferRef _Nonnull)", "/Library/Caches/com.apple.xbs/Sources/AppleCVAPhoto/module/sdof/src/metal/MetalHelpers.mm", 178, v12);
    v13 = (void *)objc_claimAutoreleasedReturnValue();
    sub_1B5658D40(1, 0, 0, 4294944390, v13);

    v9 = 0;
    return v9;
  }
  v4 = 500;
LABEL_11:
  Width = CVPixelBufferGetWidth(a1);
  objc_msgSend(MEMORY[0x1E0CC6BB0], "texture2DDescriptorWithPixelFormat:width:height:mipmapped:", v4, Width, CVPixelBufferGetHeight(a1), 0);
  v9 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v9, "setUsage:", 3);
  objc_msgSend(v9, "setResourceOptions:", 0);
  return v9;
}

void sub_1B56A27F4(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

id sub_1B56A281C(__CVBuffer *a1, void *a2)
{
  id v3;
  void *v4;
  void *v5;

  v3 = a2;
  sub_1B56A2634(a1);
  v4 = (void *)objc_claimAutoreleasedReturnValue();
  v5 = (void *)objc_msgSend(v3, "newTextureWithDescriptor:iosurface:plane:", v4, CVPixelBufferGetIOSurface(a1), 0);

  return v5;
}

void sub_1B56A2884(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B56A28A0(uint64_t *a1, __CVBuffer *a2, __CVBuffer *a3, void *a4)
{
  uint64_t PixelFormatType;
  void *v8;
  void *v9;
  int v10;
  void *v11;
  void *v12;
  void *v13;
  void *v14;
  uint64_t v15;
  uint64_t v16;
  id v17;

  v17 = a4;
  PixelFormatType = CVPixelBufferGetPixelFormatType(a2);
  +[CVAVideoPipelineProperties_Impl allSupportedYCbCrPixelFormats](CVAVideoPipelineProperties_Impl, "allSupportedYCbCrPixelFormats");
  v8 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(MEMORY[0x1E0CB37E8], "numberWithUnsignedInt:", PixelFormatType);
  v9 = (void *)objc_claimAutoreleasedReturnValue();
  v10 = objc_msgSend(v8, "containsObject:", v9);
  v11 = (void *)MEMORY[0x1E0CB3940];
  +[CVAVideoPipelineProperties_Impl allSupportedYCbCrPixelFormats](CVAVideoPipelineProperties_Impl, "allSupportedYCbCrPixelFormats");
  v12 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v11, "stringWithFormat:", CFSTR("Source format should be either of %@ but is %d"), v12, PixelFormatType);
  v13 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v11, "stringWithFormat:", CFSTR("Assertion failure in %s at %s:%d -- %@"), "std::pair<id<MTLTexture>, id<MTLTexture>> getMTLTextureColorAlpha(const CVPixelBufferRef _Nonnull, const CVPixelBufferRef _Nonnull, __strong id<MTLDevice> _Nonnull)", "/Library/Caches/com.apple.xbs/Sources/AppleCVAPhoto/module/sdof/src/metal/MetalHelpers.mm", 205, v13);
  v14 = (void *)objc_claimAutoreleasedReturnValue();
  sub_1B5658D40(v10 ^ 1u, 0, 0, 4294944390, v14);

  if ((v10 & 1) != 0)
  {
    sub_1B56A281C(a2, v17);
    v15 = objc_claimAutoreleasedReturnValue();
    sub_1B56A281C(a3, v17);
    v16 = objc_claimAutoreleasedReturnValue();
    *a1 = v15;
    a1[1] = v16;
  }
  else
  {
    *a1 = 0;
    a1[1] = 0;
  }

}

void sub_1B56A2A08(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id a14)
{
  void *v14;

  _Unwind_Resume(a1);
}

id sub_1B56A2A64(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _QWORD *a6)
{
  id v11;
  void *v12;
  void *v13;
  void *v14;
  void *v15;
  void *v16;

  v11 = a1;
  objc_msgSend(MEMORY[0x1E0CC6BB0], "texture2DDescriptorWithPixelFormat:width:height:mipmapped:", a2, a3, a4, 0);
  v12 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v12, "setUsage:", 3);
  objc_msgSend(v12, "setResourceOptions:", a5);
  v13 = (void *)objc_msgSend(v11, "newTextureWithDescriptor:", v12);

  v14 = (void *)MEMORY[0x1E0CB3940];
  objc_msgSend(MEMORY[0x1E0CB3940], "stringWithFormat:", CFSTR("[_Nonnull id<MTLDeviceSPI newTextureWithDescriptor:textureDescriptor(%lu, %lu, %lu)] is nil"), a2, a3, a4);
  v15 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v14, "stringWithFormat:", CFSTR("Assertion failure in %s at %s:%d -- %@"), "id<MTLTexture> metalTexture(__strong id<MTLDeviceSPI> _Nonnull, MTLPixelFormat, NSUInteger, NSUInteger, MTLResourceOptions, NSError *__autoreleasing * _Nullable)", "/Library/Caches/com.apple.xbs/Sources/AppleCVAPhoto/module/sdof/src/metal/MetalHelpers.mm", 237, v15);
  v16 = (void *)objc_claimAutoreleasedReturnValue();
  sub_1B5658D40(v13 == 0, a6, 0, 4294944382, v16);

  return v13;
}

void sub_1B56A2B8C(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

id sub_1B56A2BD0(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, _QWORD *a5)
{
  sub_1B56A2A64(a1, a2, a3, a4, 0, a5);
  return (id)objc_claimAutoreleasedReturnValue();
}

id sub_1B56A2BF0(void *a1, void *a2)
{
  id v3;
  id v4;
  unint64_t v5;
  int v6;
  id v7;
  void *v8;
  id v9;
  void *v11;
  void *v12;
  void *v13;
  void *v14;
  void *v15;
  void *v16;
  _QWORD v17[6];

  v3 = a1;
  v4 = a2;
  if (v3)
  {
    if (!objc_msgSend(v3, "length"))
    {
      objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
      v11 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "id<MTLTexture> lutTextureFromData(NSData *__strong _Nonnull, __strong id<MTLDeviceSPI> _Nonnull)");
      v12 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(v11, "handleFailureInFunction:file:lineNumber:description:", v12, CFSTR("MetalHelpers.mm"), 331, CFSTR("Cube data length must not be zero"));

    }
    if ((objc_msgSend(v3, "length") & 3) != 0)
    {
      objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
      v13 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "id<MTLTexture> lutTextureFromData(NSData *__strong _Nonnull, __strong id<MTLDeviceSPI> _Nonnull)");
      v14 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(v13, "handleFailureInFunction:file:lineNumber:description:", v14, CFSTR("MetalHelpers.mm"), 333, CFSTR("Cube data length must be a multiple of 4 bytes (rgba8)"));

    }
    v5 = (unint64_t)objc_msgSend(v3, "length") >> 2;
    v6 = (int)cbrt((double)(int)v5);
    if (v6 * v6 * v6 != (_DWORD)v5)
    {
      objc_msgSend(MEMORY[0x1E0CB3488], "currentHandler");
      v15 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(MEMORY[0x1E0CB3940], "stringWithUTF8String:", "id<MTLTexture> lutTextureFromData(NSData *__strong _Nonnull, __strong id<MTLDeviceSPI> _Nonnull)");
      v16 = (void *)objc_claimAutoreleasedReturnValue();
      objc_msgSend(v15, "handleFailureInFunction:file:lineNumber:description:", v16, CFSTR("MetalHelpers.mm"), 338, CFSTR("Cube data number of entries must be a perfect cube"));

    }
    v7 = objc_alloc_init(MEMORY[0x1E0CC6BB0]);
    objc_msgSend(v7, "setTextureType:", 7);
    objc_msgSend(v7, "setHeight:", v6);
    objc_msgSend(v7, "setWidth:", v6);
    objc_msgSend(v7, "setDepth:", v6);
    objc_msgSend(v7, "setPixelFormat:", 70);
    objc_msgSend(v7, "setArrayLength:", 1);
    objc_msgSend(v7, "setMipmapLevelCount:", 1);
    v8 = (void *)objc_msgSend(v4, "newTextureWithDescriptor:", v7);
    memset(v17, 0, 24);
    v17[3] = v6;
    v17[4] = v6;
    v17[5] = v6;
    objc_msgSend(v8, "replaceRegion:mipmapLevel:slice:withBytes:bytesPerRow:bytesPerImage:", v17, 0, 0, objc_msgSend(objc_retainAutorelease(v3), "bytes", 0, 0, 0, v6, v6, v6), 4 * v6, 4 * v6 * v6);
    v9 = v8;

  }
  else
  {
    v9 = 0;
  }

  return v9;
}

void sub_1B56A2E88(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;
  void *v3;
  void *v4;

  _Unwind_Resume(a1);
}

_QWORD *sub_1B56A2EE4(_QWORD *result, uint64_t a2, int a3)
{
  _QWORD *v3;
  void *v5;
  void *v6;
  char v7;

  v3 = result;
  if (*(_BYTE *)(a2 + 48))
  {
    result[3] = result;
    *result = &off_1E6936968;
  }
  else
  {
    if (a3)
    {
      if (++dword_1EF12D9C4 == a3)
      {
        v5 = (void *)objc_opt_new();
        objc_msgSend(v5, "setCaptureObject:", *(_QWORD *)(a2 + 32));
        objc_msgSend(MEMORY[0x1E0CC6A48], "sharedCaptureManager");
        v6 = (void *)objc_claimAutoreleasedReturnValue();
        objc_msgSend(v6, "startCaptureWithDescriptor:error:", v5, 0);

      }
    }
    result = (_QWORD *)objc_msgSend(*(id *)(a2 + 32), "beginScope");
    *(_BYTE *)(a2 + 48) = 1;
    *v3 = &off_1E69369B0;
    v3[1] = a2;
    v3[2] = &v7;
    v3[3] = v3;
  }
  return result;
}

void sub_1B56A2FB0(_Unwind_Exception *a1)
{
  void *v1;
  void *v2;

  _Unwind_Resume(a1);
}

void sub_1B56A2FD0()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

__n128 sub_1B56A2FE4(uint64_t a1)
{
  char *v2;
  __n128 result;

  v2 = (char *)operator new(0x18uLL);
  *(_QWORD *)v2 = &off_1E69369B0;
  result = *(__n128 *)(a1 + 8);
  *(__n128 *)(v2 + 8) = result;
  return result;
}

__n128 sub_1B56A301C(uint64_t a1, uint64_t a2)
{
  __n128 result;

  *(_QWORD *)a2 = &off_1E69369B0;
  result = *(__n128 *)(a1 + 8);
  *(__n128 *)(a2 + 8) = result;
  return result;
}

void sub_1B56A303C(uint64_t a1)
{
  uint64_t v2;
  void *v3;

  v2 = *(_QWORD *)(a1 + 8);
  objc_msgSend(*(id *)(v2 + 32), "endScope");
  if (dword_1EF12D9C4 == **(_DWORD **)(a1 + 16))
  {
    objc_msgSend(MEMORY[0x1E0CC6A48], "sharedCaptureManager");
    v3 = (void *)objc_claimAutoreleasedReturnValue();
    objc_msgSend(v3, "stopCapture");

  }
  *(_BYTE *)(v2 + 48) = 0;
}

void sub_1B56A309C(_Unwind_Exception *a1)
{
  void *v1;

  _Unwind_Resume(a1);
}

void sub_1B56A30B0()
{
  JUMPOUT(0x1B5E4DE7CLL);
}

_QWORD *sub_1B56A30C4()
{
  _QWORD *result;

  result = operator new(0x10uLL);
  *result = &off_1E6936968;
  return result;
}

void sub_1B56A30E8(uint64_t a1, _QWORD *a2)
{
  *a2 = &off_1E6936968;
}

void sub_1B56A3104(void *a1, void *a2, void *a3, uint64_t a4)
{
  id v7;
  id v8;
  void *v9;
  void *v10;
  void *v11;
  void *v12;
  id v13;

  v13 = a1;
  v7 = a2;
  v8 = a3;
  objc_msgSend(MEMORY[0x1E0CC6BB0], "texture2DDescriptorWithPixelFormat:width:height:mipmapped:", a4, 16, 12, 0);
  v9 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(MEMORY[0x1E0CC6BB0], "texture2DDescriptorWithPixelFormat:width:height:mipmapped:", a4, 16, 12, 0);
  v10 = (void *)objc_claimAutoreleasedReturnValue();
  objc_msgSend(v10, "setUsage:", 3);
  v11 = (void *)objc_msgSend(v7, "newTextureWithDescriptor:", v9);
  v12 = (void *)objc_msgSend(v7, "newTextureWithDescriptor:", v10);
  objc_msgSend(v13, "encodeToCommandBuffer:sourceTexture:destinationTexture:", v8, v11, v12);

}

void sub_1B56A31F4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  void *v10;
  void *v11;
  void *v12;
  void *v13;
  void *v14;
  void *v15;
  void *v16;

  v16 = v14;

  _Unwind_Resume(a1);
}

void sub_1B56A3240()
{
  JUMPOUT(0x1B56A3228);
}

uint64_t sub_1B56A3248(uint64_t a1, float *a2, float a3)
{
  uint64_t v3;
  int v4;

  if (vabds_f32(*(float *)(a1 + 4), a3) >= *a2)
  {
    v4 = 0;
    *(float *)(a1 + 4) = a3;
    v3 = 1;
  }
  else
  {
    v3 = 0;
    v4 = *(_DWORD *)a1 + 1;
  }
  *(_DWORD *)a1 = v4;
  return v3;
}

uint64_t sub_1B56A3284(uint64_t a1, float *a2, float a3)
{
  if (vabds_f32(*(float *)(a1 + 4), a3) >= *a2)
  {
    *(_DWORD *)a1 = 0;
    *(float *)(a1 + 4) = a3;
    return 1;
  }
  else if (a2[1] <= (float)*(unsigned int *)a1)
  {
    *(_DWORD *)a1 = 0;
    return 0;
  }
  else
  {
    ++*(_DWORD *)a1;
    return 1;
  }
}

CFTypeID CFBooleanGetTypeID(void)
{
  return MEMORY[0x1E0C97FC8]();
}

CFMutableDictionaryRef CFDictionaryCreateMutable(CFAllocatorRef allocator, CFIndex capacity, const CFDictionaryKeyCallBacks *keyCallBacks, const CFDictionaryValueCallBacks *valueCallBacks)
{
  return (CFMutableDictionaryRef)MEMORY[0x1E0C98550](allocator, capacity, keyCallBacks, valueCallBacks);
}

void CFDictionarySetValue(CFMutableDictionaryRef theDict, const void *key, const void *value)
{
  MEMORY[0x1E0C98610](theDict, key, value);
}

CFTypeID CFGetTypeID(CFTypeRef cf)
{
  return MEMORY[0x1E0C98738](cf);
}

CFTypeID CFNumberGetTypeID(void)
{
  return MEMORY[0x1E0C989B8]();
}

CFPropertyListRef CFPreferencesCopyValue(CFStringRef key, CFStringRef applicationID, CFStringRef userName, CFStringRef hostName)
{
  return (CFPropertyListRef)MEMORY[0x1E0C98A60](key, applicationID, userName, hostName);
}

void CFRelease(CFTypeRef cf)
{
  MEMORY[0x1E0C98BC0](cf);
}

CFTypeRef CFRetain(CFTypeRef cf)
{
  return (CFTypeRef)MEMORY[0x1E0C98BD0](cf);
}

void CFStringAppendCString(CFMutableStringRef theString, const char *cStr, CFStringEncoding encoding)
{
  MEMORY[0x1E0C98EE0](theString, cStr, *(_QWORD *)&encoding);
}

CFMutableStringRef CFStringCreateMutable(CFAllocatorRef alloc, CFIndex maxLength)
{
  return (CFMutableStringRef)MEMORY[0x1E0C98F90](alloc, maxLength);
}

CFStringRef CFStringCreateWithSubstring(CFAllocatorRef alloc, CFStringRef str, CFRange range)
{
  return (CFStringRef)MEMORY[0x1E0C99030](alloc, str, range.location, range.length);
}

CFIndex CFStringGetLength(CFStringRef theString)
{
  return MEMORY[0x1E0C99100](theString);
}

CFTypeID CFStringGetTypeID(void)
{
  return MEMORY[0x1E0C99170]();
}

Boolean CFStringHasSuffix(CFStringRef theString, CFStringRef suffix)
{
  return MEMORY[0x1E0C99190](theString, suffix);
}

CGColorSpaceRef CGColorSpaceCreateDeviceRGB(void)
{
  return (CGColorSpaceRef)MEMORY[0x1E0C9BDF0]();
}

CGDataProviderRef CGDataProviderCreateWithData(void *info, const void *data, size_t size, CGDataProviderReleaseDataCallback releaseData)
{
  return (CGDataProviderRef)MEMORY[0x1E0C9C600](info, data, size, releaseData);
}

CGImageRef CGImageCreate(size_t width, size_t height, size_t bitsPerComponent, size_t bitsPerPixel, size_t bytesPerRow, CGColorSpaceRef space, CGBitmapInfo bitmapInfo, CGDataProviderRef provider, const CGFloat *decode, BOOL shouldInterpolate, CGColorRenderingIntent intent)
{
  return (CGImageRef)MEMORY[0x1E0C9CB80](width, height, bitsPerComponent, bitsPerPixel, bytesPerRow, space, *(_QWORD *)&bitmapInfo, provider);
}

uint64_t CGImageWriteToFile()
{
  return MEMORY[0x1E0C9CE28]();
}

BOOL CGRectIsEmpty(CGRect rect)
{
  return MEMORY[0x1E0C9D608]((__n128)rect.origin, *(__n128 *)&rect.origin.y, (__n128)rect.size, *(__n128 *)&rect.size.height);
}

BOOL CGRectIsNull(CGRect rect)
{
  return MEMORY[0x1E0C9D618]((__n128)rect.origin, *(__n128 *)&rect.origin.y, (__n128)rect.size, *(__n128 *)&rect.size.height);
}

CVReturn CVMetalTextureCacheCreate(CFAllocatorRef allocator, CFDictionaryRef cacheAttributes, id metalDevice, CFDictionaryRef textureAttributes, CVMetalTextureCacheRef *cacheOut)
{
  return MEMORY[0x1E0CA8A30](allocator, cacheAttributes, metalDevice, textureAttributes, cacheOut);
}

CVReturn CVMetalTextureCacheCreateTextureFromImage(CFAllocatorRef allocator, CVMetalTextureCacheRef textureCache, CVImageBufferRef sourceImage, CFDictionaryRef textureAttributes, MTLPixelFormat pixelFormat, size_t width, size_t height, size_t planeIndex, CVMetalTextureRef *textureOut)
{
  return MEMORY[0x1E0CA8A38](allocator, textureCache, sourceImage, textureAttributes, pixelFormat, width, height, planeIndex);
}

id CVMetalTextureGetTexture(CVMetalTextureRef image)
{
  return (id)MEMORY[0x1E0CA8A50](image);
}

CVReturn CVPixelBufferCreate(CFAllocatorRef allocator, size_t width, size_t height, OSType pixelFormatType, CFDictionaryRef pixelBufferAttributes, CVPixelBufferRef *pixelBufferOut)
{
  return MEMORY[0x1E0CA8A98](allocator, width, height, *(_QWORD *)&pixelFormatType, pixelBufferAttributes, pixelBufferOut);
}

void *__cdecl CVPixelBufferGetBaseAddress(CVPixelBufferRef pixelBuffer)
{
  return (void *)MEMORY[0x1E0CA8AE0](pixelBuffer);
}

void *__cdecl CVPixelBufferGetBaseAddressOfPlane(CVPixelBufferRef pixelBuffer, size_t planeIndex)
{
  return (void *)MEMORY[0x1E0CA8AE8](pixelBuffer, planeIndex);
}

size_t CVPixelBufferGetBytesPerRow(CVPixelBufferRef pixelBuffer)
{
  return MEMORY[0x1E0CA8AF8](pixelBuffer);
}

size_t CVPixelBufferGetBytesPerRowOfPlane(CVPixelBufferRef pixelBuffer, size_t planeIndex)
{
  return MEMORY[0x1E0CA8B00](pixelBuffer, planeIndex);
}

size_t CVPixelBufferGetHeight(CVPixelBufferRef pixelBuffer)
{
  return MEMORY[0x1E0CA8B20](pixelBuffer);
}

size_t CVPixelBufferGetHeightOfPlane(CVPixelBufferRef pixelBuffer, size_t planeIndex)
{
  return MEMORY[0x1E0CA8B28](pixelBuffer, planeIndex);
}

IOSurfaceRef CVPixelBufferGetIOSurface(CVPixelBufferRef pixelBuffer)
{
  return (IOSurfaceRef)MEMORY[0x1E0CA8B30](pixelBuffer);
}

OSType CVPixelBufferGetPixelFormatType(CVPixelBufferRef pixelBuffer)
{
  return MEMORY[0x1E0CA8B38](pixelBuffer);
}

size_t CVPixelBufferGetWidth(CVPixelBufferRef pixelBuffer)
{
  return MEMORY[0x1E0CA8B50](pixelBuffer);
}

size_t CVPixelBufferGetWidthOfPlane(CVPixelBufferRef pixelBuffer, size_t planeIndex)
{
  return MEMORY[0x1E0CA8B58](pixelBuffer, planeIndex);
}

CVReturn CVPixelBufferLockBaseAddress(CVPixelBufferRef pixelBuffer, CVPixelBufferLockFlags lockFlags)
{
  return MEMORY[0x1E0CA8B70](pixelBuffer, lockFlags);
}

CVReturn CVPixelBufferPoolCreate(CFAllocatorRef allocator, CFDictionaryRef poolAttributes, CFDictionaryRef pixelBufferAttributes, CVPixelBufferPoolRef *poolOut)
{
  return MEMORY[0x1E0CA8B78](allocator, poolAttributes, pixelBufferAttributes, poolOut);
}

CVReturn CVPixelBufferPoolCreatePixelBuffer(CFAllocatorRef allocator, CVPixelBufferPoolRef pixelBufferPool, CVPixelBufferRef *pixelBufferOut)
{
  return MEMORY[0x1E0CA8B80](allocator, pixelBufferPool, pixelBufferOut);
}

void CVPixelBufferPoolRelease(CVPixelBufferPoolRef pixelBufferPool)
{
  MEMORY[0x1E0CA8BC8](pixelBufferPool);
}

void CVPixelBufferRelease(CVPixelBufferRef texture)
{
  MEMORY[0x1E0CA8BF0](texture);
}

CVPixelBufferRef CVPixelBufferRetain(CVPixelBufferRef texture)
{
  return (CVPixelBufferRef)MEMORY[0x1E0CA8BF8](texture);
}

CVReturn CVPixelBufferUnlockBaseAddress(CVPixelBufferRef pixelBuffer, CVPixelBufferLockFlags unlockFlags)
{
  return MEMORY[0x1E0CA8C00](pixelBuffer, unlockFlags);
}

uint64_t IOSurfaceAcceleratorCreate()
{
  return MEMORY[0x1E0D3A1D0]();
}

uint64_t IOSurfaceAcceleratorTransformSurface()
{
  return MEMORY[0x1E0D3A200]();
}

id MTLCreateSystemDefaultDevice(void)
{
  return (id)MEMORY[0x1E0CC6980]();
}

void NSLog(NSString *format, ...)
{
  MEMORY[0x1E0CB2D88](format);
}

SEL NSSelectorFromString(NSString *aSelectorName)
{
  return (SEL)MEMORY[0x1E0CB3190](aSelectorName);
}

NSString *__cdecl NSStringFromClass(Class aClass)
{
  return (NSString *)MEMORY[0x1E0CB3200](aClass);
}

void _Block_object_dispose(const void *a1, const int a2)
{
  MEMORY[0x1E0C80948](a1, *(_QWORD *)&a2);
}

void _Unwind_Resume(_Unwind_Exception *exception_object)
{
  MEMORY[0x1E0C80A20](exception_object);
}

std::logic_error *__cdecl std::logic_error::logic_error(std::logic_error *this, const char *a2)
{
  return (std::logic_error *)MEMORY[0x1E0DE4288](this, a2);
}

void std::length_error::~length_error(std::length_error *this)
{
  MEMORY[0x1E0DE42D0](this);
}

size_t std::__next_prime(size_t __n)
{
  return MEMORY[0x1E0DE43E8](__n);
}

std::string *__cdecl std::string::append(std::string *this, const std::string::value_type *__s, std::string::size_type __n)
{
  return (std::string *)MEMORY[0x1E0DE4428](this, __s, __n);
}

std::string *__cdecl std::string::insert(std::string *this, std::string::size_type __pos, const std::string::value_type *__s, std::string::size_type __n)
{
  return (std::string *)MEMORY[0x1E0DE4470](this, __pos, __s, __n);
}

void std::__shared_weak_count::__release_weak(std::__shared_weak_count *this)
{
  MEMORY[0x1E0DE48F0](this);
}

void std::__shared_weak_count::~__shared_weak_count(std::__shared_weak_count *this)
{
  MEMORY[0x1E0DE4900](this);
}

void std::__libcpp_verbose_abort(const char *__format, ...)
{
  MEMORY[0x1E0DE4930](__format);
}

void std::mutex::lock(std::mutex *this)
{
  MEMORY[0x1E0DE4AA0](this);
}

void std::mutex::unlock(std::mutex *this)
{
  MEMORY[0x1E0DE4AA8](this);
}

void std::mutex::~mutex(std::mutex *this)
{
  MEMORY[0x1E0DE4AB8](this);
}

std::chrono::system_clock::time_point std::chrono::system_clock::now(void)
{
  return (std::chrono::system_clock::time_point)MEMORY[0x1E0DE4B48]();
}

std::string *__cdecl std::to_string(std::string *__return_ptr retstr, unint64_t __val)
{
  return (std::string *)MEMORY[0x1E0DE4D70](retstr, __val);
}

void std::terminate(void)
{
  MEMORY[0x1E0DE4E18]();
}

uint64_t operator delete[]()
{
  return off_1E6936280();
}

void operator delete(void *__p)
{
  off_1E6936288(__p);
}

uint64_t operator delete()
{
  return off_1E6936290();
}

uint64_t operator new[]()
{
  return off_1E6936298();
}

void *__cdecl operator new(size_t __sz)
{
  return (void *)off_1E69362A0(__sz);
}

uint64_t operator new()
{
  return off_1E69362A8();
}

int __cxa_atexit(void (*lpfunc)(void *), void *obj, void *lpdso_handle)
{
  return MEMORY[0x1E0C80A98](lpfunc, obj, lpdso_handle);
}

void *__cxa_begin_catch(void *a1)
{
  return (void *)MEMORY[0x1E0DE5080](a1);
}

void __cxa_guard_abort(__guard *a1)
{
  MEMORY[0x1E0DE50B0](a1);
}

int __cxa_guard_acquire(__guard *a1)
{
  return MEMORY[0x1E0DE50B8](a1);
}

void __cxa_guard_release(__guard *a1)
{
  MEMORY[0x1E0DE50C0](a1);
}

__float2 __sincosf_stret(float a1)
{
  float v1;
  float v2;
  __float2 result;

  MEMORY[0x1E0C80BD0](a1);
  result.__cosval = v2;
  result.__sinval = v1;
  return result;
}

void _os_log_error_impl(void *dso, os_log_t log, os_log_type_t type, const char *format, uint8_t *buf, uint32_t size)
{
  MEMORY[0x1E0C81038](dso, log, type, format, buf, *(_QWORD *)&size);
}

void _os_log_fault_impl(void *dso, os_log_t log, os_log_type_t type, const char *format, uint8_t *buf, uint32_t size)
{
  MEMORY[0x1E0C81040](dso, log, type, format, buf, *(_QWORD *)&size);
}

void _os_log_impl(void *dso, os_log_t log, os_log_type_t type, const char *format, uint8_t *buf, uint32_t size)
{
  MEMORY[0x1E0C81048](dso, log, type, format, buf, *(_QWORD *)&size);
}

uint64_t _sl_dlopen()
{
  return MEMORY[0x1E0DA88F0]();
}

void abort(void)
{
  MEMORY[0x1E0C813A8]();
}

float acosf(float a1)
{
  float result;

  MEMORY[0x1E0C81508](a1);
  return result;
}

long double atan(long double __x)
{
  long double result;

  MEMORY[0x1E0C81618](__x);
  return result;
}

float atan2f(float a1, float a2)
{
  float result;

  MEMORY[0x1E0C81628](a1, a2);
  return result;
}

void bzero(void *a1, size_t a2)
{
  MEMORY[0x1E0C81758](a1, a2);
}

long double cbrt(long double __x)
{
  long double result;

  MEMORY[0x1E0C81850](__x);
  return result;
}

void dispatch_async(dispatch_queue_t queue, dispatch_block_t block)
{
  MEMORY[0x1E0C82C00](queue, block);
}

void dispatch_once(dispatch_once_t *predicate, dispatch_block_t block)
{
  MEMORY[0x1E0C82E08](predicate, block);
}

dispatch_queue_attr_t dispatch_queue_attr_make_with_qos_class(dispatch_queue_attr_t attr, dispatch_qos_class_t qos_class, int relative_priority)
{
  return (dispatch_queue_attr_t)MEMORY[0x1E0C82E38](attr, *(_QWORD *)&qos_class, *(_QWORD *)&relative_priority);
}

dispatch_queue_t dispatch_queue_create(const char *label, dispatch_queue_attr_t attr)
{
  return (dispatch_queue_t)MEMORY[0x1E0C82E48](label, attr);
}

dispatch_semaphore_t dispatch_semaphore_create(intptr_t value)
{
  return (dispatch_semaphore_t)MEMORY[0x1E0C82EB8](value);
}

intptr_t dispatch_semaphore_signal(dispatch_semaphore_t dsema)
{
  return MEMORY[0x1E0C82EC8](dsema);
}

intptr_t dispatch_semaphore_wait(dispatch_semaphore_t dsema, dispatch_time_t timeout)
{
  return MEMORY[0x1E0C82ED8](dsema, timeout);
}

char *dlerror(void)
{
  return (char *)MEMORY[0x1E0C83038]();
}

void *__cdecl dlopen(const char *__path, int __mode)
{
  return (void *)MEMORY[0x1E0C83040](__path, *(_QWORD *)&__mode);
}

void *__cdecl dlsym(void *__handle, const char *__symbol)
{
  return (void *)MEMORY[0x1E0C83050](__handle, __symbol);
}

float exp2f(float a1)
{
  float result;

  MEMORY[0x1E0C83290](a1);
  return result;
}

int fclose(FILE *a1)
{
  return MEMORY[0x1E0C832F8](a1);
}

float fmodf(float a1, float a2)
{
  float result;

  MEMORY[0x1E0C83448](a1, a2);
  return result;
}

FILE *__cdecl fopen(const char *__filename, const char *__mode)
{
  return (FILE *)MEMORY[0x1E0C83460](__filename, __mode);
}

size_t fread(void *__ptr, size_t __size, size_t __nitems, FILE *__stream)
{
  return MEMORY[0x1E0C834A0](__ptr, __size, __nitems, __stream);
}

void free(void *a1)
{
  MEMORY[0x1E0C834A8](a1);
}

size_t fwrite(const void *__ptr, size_t __size, size_t __nitems, FILE *__stream)
{
  return MEMORY[0x1E0C835E0](__ptr, __size, __nitems, __stream);
}

float log2f(float a1)
{
  float result;

  MEMORY[0x1E0C83BF0](a1);
  return result;
}

void *__cdecl malloc_type_malloc(size_t size, malloc_type_id_t type_id)
{
  return (void *)MEMORY[0x1E0C83F00](size, type_id);
}

int memcmp(const void *__s1, const void *__s2, size_t __n)
{
  return MEMORY[0x1E0C84078](__s1, __s2, __n);
}

void *__cdecl memcpy(void *__dst, const void *__src, size_t __n)
{
  return (void *)MEMORY[0x1E0C84088](__dst, __src, __n);
}

void *__cdecl memmove(void *__dst, const void *__src, size_t __len)
{
  return (void *)MEMORY[0x1E0C84098](__dst, __src, __len);
}

void *__cdecl memset(void *__b, int __c, size_t __len)
{
  return (void *)MEMORY[0x1E0C840B0](__b, *(_QWORD *)&__c, __len);
}

void memset_pattern16(void *__b, const void *__pattern16, size_t __len)
{
  MEMORY[0x1E0C840B8](__b, __pattern16, __len);
}

id objc_alloc(Class a1)
{
  return (id)MEMORY[0x1E0DE7BA8](a1);
}

uint64_t objc_alloc_init()
{
  return MEMORY[0x1E0DE7BB8]();
}

id objc_autorelease(id a1)
{
  return (id)MEMORY[0x1E0DE7BD0](a1);
}

void objc_autoreleasePoolPop(void *context)
{
  MEMORY[0x1E0DE7BD8](context);
}

void *objc_autoreleasePoolPush(void)
{
  return (void *)MEMORY[0x1E0DE7BE0]();
}

id objc_autoreleaseReturnValue(id a1)
{
  return (id)MEMORY[0x1E0DE7BE8](a1);
}

id objc_begin_catch(void *exc_buf)
{
  return (id)MEMORY[0x1E0DE7BF0](exc_buf);
}

uint64_t objc_claimAutoreleasedReturnValue()
{
  return MEMORY[0x1E0DE7BF8]();
}

void objc_copyStruct(void *dest, const void *src, ptrdiff_t size, BOOL atomic, BOOL hasStrong)
{
  MEMORY[0x1E0DE7C30](dest, src, size, atomic, hasStrong);
}

void objc_copyWeak(id *to, id *from)
{
  MEMORY[0x1E0DE7C38](to, from);
}

void objc_destroyWeak(id *location)
{
  MEMORY[0x1E0DE7C60](location);
}

void objc_end_catch(void)
{
  MEMORY[0x1E0DE7C80]();
}

void objc_enumerationMutation(id obj)
{
  MEMORY[0x1E0DE7C90](obj);
}

void objc_exception_rethrow(void)
{
  MEMORY[0x1E0DE7C98]();
}

void objc_exception_throw(id exception)
{
  MEMORY[0x1E0DE7CA0](exception);
}

Class objc_getClass(const char *name)
{
  return (Class)MEMORY[0x1E0DE7CB0](name);
}

id objc_getProperty(id self, SEL _cmd, ptrdiff_t offset, BOOL atomic)
{
  return (id)MEMORY[0x1E0DE7CD0](self, _cmd, offset, atomic);
}

id objc_initWeak(id *location, id val)
{
  return (id)MEMORY[0x1E0DE7CE0](location, val);
}

id objc_loadWeakRetained(id *location)
{
  return (id)MEMORY[0x1E0DE7D08](location);
}

void objc_moveWeak(id *to, id *from)
{
  MEMORY[0x1E0DE7D18](to, from);
}

id objc_msgSendSuper2(objc_super *a1, SEL a2, ...)
{
  return (id)MEMORY[0x1E0DE7D30](a1, a2);
}

uint64_t objc_opt_class()
{
  return MEMORY[0x1E0DE7D38]();
}

uint64_t objc_opt_isKindOfClass()
{
  return MEMORY[0x1E0DE7D40]();
}

uint64_t objc_opt_new()
{
  return MEMORY[0x1E0DE7D48]();
}

uint64_t objc_opt_respondsToSelector()
{
  return MEMORY[0x1E0DE7D50]();
}

void objc_release(id a1)
{
  MEMORY[0x1E0DE7D78](a1);
}

id objc_retain(id a1)
{
  return (id)MEMORY[0x1E0DE7E50](a1);
}

id objc_retainAutorelease(id a1)
{
  return (id)MEMORY[0x1E0DE7E58](a1);
}

id objc_retainAutoreleaseReturnValue(id a1)
{
  return (id)MEMORY[0x1E0DE7E60](a1);
}

id objc_retainAutoreleasedReturnValue(id a1)
{
  return (id)MEMORY[0x1E0DE7E68](a1);
}

id objc_retainBlock(id a1)
{
  return (id)MEMORY[0x1E0DE7E70](a1);
}

void objc_setProperty_atomic(id self, SEL _cmd, id newValue, ptrdiff_t offset)
{
  MEMORY[0x1E0DE7F88](self, _cmd, newValue, offset);
}

void objc_storeStrong(id *location, id obj)
{
  MEMORY[0x1E0DE7FB0](location, obj);
}

id objc_storeWeak(id *location, id obj)
{
  return (id)MEMORY[0x1E0DE7FB8](location, obj);
}

id objc_unsafeClaimAutoreleasedReturnValue(id a1)
{
  return (id)MEMORY[0x1E0DE7FE0](a1);
}

BOOL os_log_type_enabled(os_log_t oslog, os_log_type_t type)
{
  return MEMORY[0x1E0C84780](oslog, type);
}

long double pow(long double __x, long double __y)
{
  long double result;

  MEMORY[0x1E0C84BB8](__x, __y);
  return result;
}

float powf(float a1, float a2)
{
  float result;

  MEMORY[0x1E0C84BC0](a1, a2);
  return result;
}

size_t strlen(const char *__s)
{
  return MEMORY[0x1E0C85578](__s);
}

int sysctlbyname(const char *a1, void *a2, size_t *a3, void *a4, size_t a5)
{
  return MEMORY[0x1E0C857A0](a1, a2, a3, a4, a5);
}

void syslog(int a1, const char *a2, ...)
{
  MEMORY[0x1E0C857D0](*(_QWORD *)&a1, a2);
}

float tanf(float a1)
{
  float result;

  MEMORY[0x1E0C857F0](a1);
  return result;
}

vImage_Error vImageMin_Planar8(const vImage_Buffer *src, const vImage_Buffer *dest, void *tempBuffer, vImagePixelCount srcOffsetToROI_X, vImagePixelCount srcOffsetToROI_Y, vImagePixelCount kernel_height, vImagePixelCount kernel_width, vImage_Flags flags)
{
  return MEMORY[0x1E0C8D470](src, dest, tempBuffer, srcOffsetToROI_X, srcOffsetToROI_Y, kernel_height, kernel_width, *(_QWORD *)&flags);
}

vImage_Error vImageRotate90_Planar16F(const vImage_Buffer *src, const vImage_Buffer *dest, uint8_t rotationConstant, const Pixel_16F backColor, vImage_Flags flags)
{
  return MEMORY[0x1E0C8D678](src, dest, rotationConstant, backColor, *(_QWORD *)&flags);
}

vImage_Error vImageRotate90_PlanarF(const vImage_Buffer *src, const vImage_Buffer *dest, uint8_t rotationConstant, Pixel_F backColor, vImage_Flags flags)
{
  return MEMORY[0x1E0C8D690](src, dest, rotationConstant, *(_QWORD *)&flags, backColor);
}

