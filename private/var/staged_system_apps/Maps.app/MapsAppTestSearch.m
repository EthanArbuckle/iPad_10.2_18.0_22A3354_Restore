@implementation MapsAppTestSearch

- (void)willBeginMSGPPTTest_Insights_ACRanking_MapItems:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459AD8;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)didEndMSGPPTTest_Insights_ACRanking_MapItems:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459B48;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)willBeginMSGPPTTest_Insights_ACRanking_Contacts:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459BB0;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)didEndMSGPPTTest_Insights_ACRanking_Contacts:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459C20;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)willBeginMSGPPTTest_Insights_ACRanking_Tourist:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459C88;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)didEndMSGPPTTest_Insights_ACRanking_Tourist:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459CF8;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)willBeginMSGPPTTest_Insights_ACRanking_PortraitCall:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459D60;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)didEndMSGPPTTest_Insights_ACRanking_PortraitCall:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459DD0;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)willBeginMSGPPTTest_Insights_ACRanking_RoutineCall:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459E38;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)didEndMSGPPTTest_Insights_ACRanking_RoutineCall:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459EA8;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)willBeginMSGPPTTest_Insights_ACRanking_PreLoad:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459F10;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)didEndMSGPPTTest_Insights_ACRanking_PreLoad:(id)a3
{
  _QWORD block[5];

  block[0] = _NSConcreteStackBlock;
  block[1] = 3221225472;
  block[2] = sub_100459F80;
  block[3] = &unk_1011AC860;
  block[4] = self;
  dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
}

- (void)startedSubTest:(id)a3
{
  id v4;
  _QWORD v5[4];
  id v6;
  MapsAppTestSearch *v7;

  v5[0] = _NSConcreteStackBlock;
  v5[1] = 3221225472;
  v5[2] = sub_10045A008;
  v5[3] = &unk_1011AC8B0;
  v6 = a3;
  v7 = self;
  v4 = v6;
  -[MapsAppTestSearch performOnMainQueue:](self, "performOnMainQueue:", v5);

}

- (void)finishedSubTest:(id)a3
{
  id v4;
  _QWORD v5[4];
  id v6;
  MapsAppTestSearch *v7;

  v5[0] = _NSConcreteStackBlock;
  v5[1] = 3221225472;
  v5[2] = sub_10045A0B8;
  v5[3] = &unk_1011AC8B0;
  v6 = a3;
  v7 = self;
  v4 = v6;
  -[MapsAppTestSearch performOnMainQueue:](self, "performOnMainQueue:", v5);

}

- (void)startedSubTest:(id)a3 withMetrics:(id)a4
{
  id v6;
  id v7;
  _QWORD v8[4];
  id v9;
  id v10;
  MapsAppTestSearch *v11;

  v8[0] = _NSConcreteStackBlock;
  v8[1] = 3221225472;
  v8[2] = sub_10045A194;
  v8[3] = &unk_1011AD238;
  v9 = a3;
  v10 = a4;
  v11 = self;
  v6 = v10;
  v7 = v9;
  -[MapsAppTestSearch performOnMainQueue:](self, "performOnMainQueue:", v8);

}

- (void)performOnMainQueue:(id)a3
{
  void (**v3)(void);
  _QWORD block[4];
  void (**v5)(void);

  v3 = (void (**)(void))a3;
  if (+[NSThread isMainThread](NSThread, "isMainThread"))
  {
    v3[2]();
  }
  else
  {
    block[0] = _NSConcreteStackBlock;
    block[1] = 3221225472;
    block[2] = sub_10045A264;
    block[3] = &unk_1011ADA00;
    v5 = v3;
    dispatch_sync((dispatch_queue_t)&_dispatch_main_q, block);

  }
}

- (BOOL)runTest
{
  void *v3;
  id v4;
  void *v5;
  void *v6;

  v3 = (void *)objc_claimAutoreleasedReturnValue(+[UIDevice currentDevice](UIDevice, "currentDevice"));
  v4 = objc_msgSend(v3, "userInterfaceIdiom");

  if (v4 == (id)5)
  {
    -[MapsAppTestSearch _runTestNow](self, "_runTestNow");
  }
  else
  {
    if (-[MapsAppTest isRunningOnCarPlay](self, "isRunningOnCarPlay"))
    {
      v5 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest options](self, "options"));
      v6 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v5, "objectForKeyedSubscript:", CFSTR("testName")));
      if ((objc_msgSend(v6, "isEqualToString:", CFSTR("searchScrollBrowseCategoriesInCarPlay")) & 1) != 0
        || (objc_msgSend(v6, "isEqualToString:", CFSTR("searchScrollBrowseCategoryResultsInCarPlay")) & 1) != 0
        || objc_msgSend(v6, "isEqualToString:", CFSTR("searchEmbarcadero")))
      {
        -[MapsAppTestSearch runScrollBrowseCategoriesInCarPlay](self, "runScrollBrowseCategoriesInCarPlay");
      }

    }
    else
    {
      v5 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
      objc_msgSend(v5, "addObserver:selector:name:object:", self, "searchKeyboardWillShow", UIKeyboardWillShowNotification, 0);
      objc_msgSend(v5, "addObserver:selector:name:object:", self, "searchKeyboardDidShow", UIKeyboardDidShowNotification, 0);
      objc_msgSend(v5, "addObserver:selector:name:object:", self, "searchKeyboardDidHide", UIKeyboardDidHideNotification, 0);
      -[MapsAppTestSearch _startPrewarmingKeyboard](self, "_startPrewarmingKeyboard");
    }

  }
  return 1;
}

- (void)runScrollBrowseCategoriesInCarPlay
{
  _QWORD v3[4];
  id v4;
  id location;

  -[MapsAppTest startedTest](self, "startedTest");
  objc_initWeak(&location, self);
  v3[0] = _NSConcreteStackBlock;
  v3[1] = 3221225472;
  v3[2] = sub_10045A478;
  v3[3] = &unk_1011AD260;
  objc_copyWeak(&v4, &location);
  -[MapsAppTest addFullyDrawnCallback:](self, "addFullyDrawnCallback:", v3);
  objc_destroyWeak(&v4);
  objc_destroyWeak(&location);
}

- (void)_runTestNow
{
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  void *v10;
  void *v11;
  void *v12;
  void *v13;
  void *v14;
  void *v15;
  unint64_t v16;
  void *v17;
  char *v18;
  id v19;
  uint64_t v20;
  unint64_t v21;
  NSMutableArray *v22;
  unint64_t v23;
  void *v24;
  uint64_t v25;
  NSMutableArray *autoCompleteQueries;
  NSString *v27;
  NSString *query;
  void *v29;
  unsigned int v30;
  NSString *v31;
  NSString *selectACSuggestionMatchingAddress;
  void *v33;
  id v34;
  void *v35;
  void *v36;
  _QWORD v37[4];
  id v38;
  id location;

  v3 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v3, "addObserver:selector:name:object:", self, "willBeginMSGPPTTest_Insights_ACRanking_PortraitCall:", CFSTR("MSGPPTTest_Insights_ACRanking_PortraitCallBEGIN"), 0);

  v4 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v4, "addObserver:selector:name:object:", self, "didEndMSGPPTTest_Insights_ACRanking_PortraitCall:", CFSTR("MSGPPTTest_Insights_ACRanking_PortraitCallEND"), 0);

  v5 = (void *)objc_claimAutoreleasedReturnValue(+[GEONotificationPreferenceManager sharedManager](GEONotificationPreferenceManager, "sharedManager"));
  objc_msgSend(v5, "setEnabled:forSubTestWithName:", 1, CFSTR("MSGPPTTest_Insights_ACRanking_PortraitCall"));

  v6 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v6, "addObserver:selector:name:object:", self, "willBeginMSGPPTTest_Insights_ACRanking_RoutineCall:", CFSTR("MSGPPTTest_Insights_ACRanking_RoutineCallBEGIN"), 0);

  v7 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v7, "addObserver:selector:name:object:", self, "didEndMSGPPTTest_Insights_ACRanking_RoutineCall:", CFSTR("MSGPPTTest_Insights_ACRanking_RoutineCallEND"), 0);

  v8 = (void *)objc_claimAutoreleasedReturnValue(+[GEONotificationPreferenceManager sharedManager](GEONotificationPreferenceManager, "sharedManager"));
  objc_msgSend(v8, "setEnabled:forSubTestWithName:", 1, CFSTR("MSGPPTTest_Insights_ACRanking_RoutineCall"));

  v9 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v9, "addObserver:selector:name:object:", self, "willBeginMSGPPTTest_Insights_ACRanking_PreLoad:", CFSTR("MSGPPTTest_Insights_ACRanking_PreLoadBEGIN"), 0);

  v10 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v10, "addObserver:selector:name:object:", self, "didEndMSGPPTTest_Insights_ACRanking_PreLoad:", CFSTR("MSGPPTTest_Insights_ACRanking_PreLoadEND"), 0);

  v11 = (void *)objc_claimAutoreleasedReturnValue(+[GEONotificationPreferenceManager sharedManager](GEONotificationPreferenceManager, "sharedManager"));
  objc_msgSend(v11, "setEnabled:forSubTestWithName:", 1, CFSTR("MSGPPTTest_Insights_ACRanking_PreLoad"));

  v12 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest options](self, "options"));
  v13 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v12, "objectForKeyedSubscript:", CFSTR("testName")));
  if (objc_msgSend(v13, "containsString:", CFSTR("Nearby")))
  {
    self->_isNearbyTest = 1;
    v14 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v12, "objectForKeyedSubscript:", CFSTR("categoryIndex")));
    v15 = v14;
    if (v14)
      v16 = (unint64_t)objc_msgSend(v14, "integerValue");
    else
      v16 = arc4random() & 7;
    self->_nearbyCategoryIndex = v16;
  }
  else
  {
    self->_searchTestACMode = objc_msgSend(v12, "_mapstest_searchTestACMode");
    self->_directionIntentTestType = (int64_t)objc_msgSend(v12, "_mapstest_directionIntentType");
    v15 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v12, "objectForKeyedSubscript:", CFSTR("searchQuery")));
    v17 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v12, "objectForKeyedSubscript:", CFSTR("searchQueryPrefix")));
    v18 = (char *)objc_msgSend(v17, "length");
    v19 = objc_msgSend(v15, "length");
    v20 = 5;
    if (&v18[(_QWORD)v19] < (char *)5)
      v20 = (uint64_t)&v18[(_QWORD)v19];
    if (self->_directionIntentTestType)
      v21 = (unint64_t)&v18[(_QWORD)v19];
    else
      v21 = v20;
    self->_maxACSearchQueryLength = v21;
    if (self->_searchTestACMode != 2)
    {
      v22 = (NSMutableArray *)objc_alloc_init((Class)NSMutableArray);
      if (objc_msgSend(v15, "length"))
      {
        v23 = 0;
        do
        {
          v24 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v15, "substringToIndex:", ++v23));
          if (objc_msgSend(v17, "length"))
          {
            v25 = objc_claimAutoreleasedReturnValue(objc_msgSend(v17, "stringByAppendingString:", v24));

            v24 = (void *)v25;
          }
          -[NSMutableArray addObject:](v22, "addObject:", v24);

        }
        while (v23 < (unint64_t)objc_msgSend(v15, "length"));
      }
      autoCompleteQueries = self->_autoCompleteQueries;
      self->_autoCompleteQueries = v22;

    }
    if (objc_msgSend(v17, "length"))
      v27 = (NSString *)objc_claimAutoreleasedReturnValue(objc_msgSend(v17, "stringByAppendingString:", v15));
    else
      v27 = v15;
    query = self->_query;
    self->_query = v27;

  }
  v29 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v12, "objectForKeyedSubscript:", CFSTR("isShowcase")));
  v30 = objc_msgSend(v29, "BOOLValue");

  if (v30)
  {
    self->_isShowcaseTest = 1;
    v31 = (NSString *)objc_claimAutoreleasedReturnValue(objc_msgSend(v12, "objectForKeyedSubscript:", CFSTR("selectACSuggestionMatchingAddress")));
    selectACSuggestionMatchingAddress = self->_selectACSuggestionMatchingAddress;
    self->_selectACSuggestionMatchingAddress = v31;

  }
  if (-[MapsAppTest isRunningOnCarPlay](self, "isRunningOnCarPlay"))
  {
    -[MapsAppTestSearch startSearchAutoCompleteTest](self, "startSearchAutoCompleteTest");
  }
  else
  {
    v33 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
    objc_msgSend(v33, "pptTestResetForLaunchURL");

    v34 = objc_msgSend(v12, "_mapstest_mapType");
    v35 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v12, "_mapstest_mapRegion"));
    -[MapsAppTest switchToMapType:](self, "switchToMapType:", v34);
    v36 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest mainVKMapView](self, "mainVKMapView"));
    objc_msgSend(v36, "setMapRegion:pitch:yaw:", v35, 0.0, 0.0);

    objc_initWeak(&location, self);
    v37[0] = _NSConcreteStackBlock;
    v37[1] = 3221225472;
    v37[2] = sub_10045AAE8;
    v37[3] = &unk_1011AD260;
    objc_copyWeak(&v38, &location);
    -[MapsAppTest addFullyDrawnCallback:](self, "addFullyDrawnCallback:", v37);
    objc_destroyWeak(&v38);
    objc_destroyWeak(&location);

  }
}

- (void)_startPrewarmingKeyboard
{
  id v2;

  self->_isPrewarmingKeyboard = 1;
  v2 = (id)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
  objc_msgSend(v2, "pptTestEnterSearchMode");

}

- (void)_prewarmingKeyboardCompleted
{
  self->_isPrewarmingKeyboard = 0;
  -[MapsAppTestSearch _runTestNow](self, "_runTestNow");
}

- (void)didDisplayCarplayBrowseCategories
{
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;
  unsigned int v8;
  void *v9;
  double v10;
  _QWORD v11[5];
  __CFString *v12;
  _QWORD v13[4];
  id v14;
  _QWORD v15[5];
  __CFString *v16;
  id v17;
  id v18;
  id location;

  v3 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest options](self, "options"));
  v4 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "objectForKeyedSubscript:", CFSTR("testName")));
  v5 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
  v6 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v5, "pptTestScrollView"));

  if (v6)
  {
    if (objc_msgSend(v4, "isEqualToString:", CFSTR("searchScrollBrowseCategoryResultsInCarPlay")))
    {
      -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("enterSearchMode"));
      objc_initWeak(&location, self);
      v15[0] = _NSConcreteStackBlock;
      v15[1] = 3221225472;
      v15[2] = sub_10045AF98;
      v15[3] = &unk_1011B7480;
      v15[4] = self;
      v16 = CFSTR("scrollBrowseCategoryResultsInCarPlay");
      v17 = v6;
      objc_copyWeak(&v18, &location);
      +[PPTNotificationCenter addOnceObserverForName:object:usingBlock:](PPTNotificationCenter, "addOnceObserverForName:object:usingBlock:", CFSTR("PPTTest_CarSearchResultsModeController_DidDisplaySearchResults"), 0, v15);
      v7 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
      objc_msgSend(v7, "pptTestSearchNearbyCategoryWithIndex:", 0);

      objc_destroyWeak(&v18);
    }
    else
    {
      v8 = objc_msgSend(v4, "isEqualToString:", CFSTR("searchEmbarcadero"));
      -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("enterSearchMode"));
      if (!v8)
      {
        -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("scrollBrowseCategoriesInCarPlay"));
        objc_msgSend(v6, "contentSize");
        v11[0] = _NSConcreteStackBlock;
        v11[1] = 3221225472;
        v11[2] = sub_10045B154;
        v11[3] = &unk_1011B74A8;
        v11[4] = self;
        v12 = CFSTR("scrollBrowseCategoriesInCarPlay");
        objc_msgSend(v6, "_performScrollTest:iterations:delta:length:scrollAxis:extraResultsBlock:completionBlock:", 0, 10, 20, (int)v10, 2, 0, v11);

        goto LABEL_9;
      }
      -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("displayCarPlayKeyboard"));
      objc_initWeak(&location, self);
      v13[0] = _NSConcreteStackBlock;
      v13[1] = 3221225472;
      v13[2] = sub_10045B100;
      v13[3] = &unk_1011AD288;
      objc_copyWeak(&v14, &location);
      +[PPTNotificationCenter addOnceObserverForName:object:usingBlock:](PPTNotificationCenter, "addOnceObserverForName:object:usingBlock:", CFSTR("PPTTest_CarKeyboardModeController_DidDisplayKeyboard"), 0, v13);
      v9 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
      objc_msgSend(v9, "pptSelectKeyboardInteractionModel");

      objc_destroyWeak(&v14);
    }
    objc_destroyWeak(&location);
  }
  else
  {
    -[MapsAppTest failedTest](self, "failedTest");
  }
LABEL_9:

}

- (void)searchUILayoutDone
{
  void *v3;

  v3 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v3, "removeObserver:name:object:", self, CFSTR("PPTTestTrayLayoutDidUpdateNotification"), 0);

  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("presentSearchUI"));
}

- (void)searchKeyboardWillShow
{
  if (!self->_isPrewarmingKeyboard)
    -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("showSearchKeyboard"));
}

- (void)searchKeyboardDidShow
{
  id v3;

  if (self->_isPrewarmingKeyboard)
  {
    v3 = (id)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
    objc_msgSend(v3, "pptTestSearchCancel");

  }
  else
  {
    -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("showSearchKeyboard"));
    -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("enterSearchMode"));
    -[MapsAppTestSearch startAutocompleteOrNearbySearchTest](self, "startAutocompleteOrNearbySearchTest");
  }
}

- (void)searchKeyboardDidHide
{
  if (self->_isPrewarmingKeyboard)
    -[MapsAppTestSearch _prewarmingKeyboardCompleted](self, "_prewarmingKeyboardCompleted");
}

- (void)startAutocompleteOrNearbySearchTest
{
  if (self->_isNearbyTest)
    -[MapsAppTestSearch startNearbyTest](self, "startNearbyTest");
  else
    -[MapsAppTestSearch startSearchAutoCompleteTest](self, "startSearchAutoCompleteTest");
}

- (void)startNearbyTest
{
  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("nearby"));
  -[MapsAppTestSearch startNearbyTestCategory](self, "startNearbyTestCategory");
}

- (void)startNearbyTestCategory
{
  void *v3;
  id v4;

  v3 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v3, "addObserver:selector:name:object:", self, "endNearbyTestCategory:", CFSTR("SearchSessionDidChangeSearchResultsNotification"), 0);

  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("nearby - category"));
  v4 = (id)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
  objc_msgSend(v4, "pptTestSearchNearbyCategoryWithIndex:", self->_nearbyCategoryIndex);

}

- (void)endNearbyTestCategory:(id)a3
{
  id v4;
  void *v5;
  id v6;

  v4 = a3;
  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("nearby - category"));
  v5 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v5, "removeObserver:name:object:", self, CFSTR("SearchSessionDidChangeSearchResultsNotification"), 0);

  v6 = (id)objc_claimAutoreleasedReturnValue(objc_msgSend(v4, "object"));
  if (v6)
    -[MapsAppTestSearch continueToAnnotationsTestsWithSearchSession:](self, "continueToAnnotationsTestsWithSearchSession:", v6);
  else
    -[MapsAppTest failedTest](self, "failedTest");

}

- (void)startScrollNearbyTestCategory
{
  void *v3;
  void *v4;
  double v5;
  double v6;
  double v7;
  double v8;
  double v9;
  id v10;
  void *v11;
  id v12;
  void **v13;
  uint64_t v14;
  void (*v15)(uint64_t);
  void *v16;
  MapsAppTestSearch *v17;
  __CFString *v18;
  id v19;
  id location;
  id v21;

  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("nearby search results list - scroll"));
  objc_initWeak(&location, self);
  v3 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
  v4 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "pptTestScrollView"));

  v5 = RPTContentSizeInDirection(v4, 1);
  v6 = RPTGetBoundsForView(v4);
  v10 = objc_msgSend(objc_alloc((Class)RPTScrollViewTestParameters), "initWithTestName:scrollBounds:scrollContentLength:direction:completionHandler:", CFSTR("nearby search results list - scroll"), 1, &stru_1011B74C8, v6, v7, v8, v9, v5);
  v21 = v10;
  v11 = (void *)objc_claimAutoreleasedReturnValue(+[NSArray arrayWithObjects:count:](NSArray, "arrayWithObjects:count:", &v21, 1));
  v13 = _NSConcreteStackBlock;
  v14 = 3221225472;
  v15 = sub_10045B630;
  v16 = &unk_1011AFF10;
  objc_copyWeak(&v19, &location);
  v17 = self;
  v18 = CFSTR("nearby search results list - scroll");
  v12 = +[RPTGroupScrollTestParameters newWithTestName:parameters:completionHandler:](RPTGroupScrollTestParameters, "newWithTestName:parameters:completionHandler:", CFSTR("nearby search results list - scroll"), v11, &v13);

  +[RPTTestRunner runTestWithParameters:](RPTTestRunner, "runTestWithParameters:", v12, v13, v14, v15, v16);
  objc_destroyWeak(&v19);

  objc_destroyWeak(&location);
}

- (void)startSearchAutoCompleteTest
{
  void *v3;
  void *v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  void *v10;
  void *v11;
  void *v12;

  v3 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v3, "addObserver:selector:name:object:", self, "willBeginMSGPPTTest_Insights_ACRanking_MapItems:", CFSTR("MSGPPTTest_Insights_ACRanking_MapItemsBEGIN"), 0);

  v4 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v4, "addObserver:selector:name:object:", self, "didEndMSGPPTTest_Insights_ACRanking_MapItems:", CFSTR("MSGPPTTest_Insights_ACRanking_MapItemsEND"), 0);

  v5 = (void *)objc_claimAutoreleasedReturnValue(+[GEONotificationPreferenceManager sharedManager](GEONotificationPreferenceManager, "sharedManager"));
  objc_msgSend(v5, "setEnabled:forSubTestWithName:", 1, CFSTR("MSGPPTTest_Insights_ACRanking_MapItems"));

  v6 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v6, "addObserver:selector:name:object:", self, "willBeginMSGPPTTest_Insights_ACRanking_Contacts:", CFSTR("MSGPPTTest_Insights_ACRanking_ContactsBEGIN"), 0);

  v7 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v7, "addObserver:selector:name:object:", self, "didEndMSGPPTTest_Insights_ACRanking_Contacts:", CFSTR("MSGPPTTest_Insights_ACRanking_ContactsEND"), 0);

  v8 = (void *)objc_claimAutoreleasedReturnValue(+[GEONotificationPreferenceManager sharedManager](GEONotificationPreferenceManager, "sharedManager"));
  objc_msgSend(v8, "setEnabled:forSubTestWithName:", 1, CFSTR("MSGPPTTest_Insights_ACRanking_Contacts"));

  v9 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v9, "addObserver:selector:name:object:", self, "willBeginMSGPPTTest_Insights_ACRanking_Tourist:", CFSTR("MSGPPTTest_Insights_ACRanking_TouristBEGIN"), 0);

  v10 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v10, "addObserver:selector:name:object:", self, "didEndMSGPPTTest_Insights_ACRanking_Tourist:", CFSTR("MSGPPTTest_Insights_ACRanking_TouristEND"), 0);

  v11 = (void *)objc_claimAutoreleasedReturnValue(+[GEONotificationPreferenceManager sharedManager](GEONotificationPreferenceManager, "sharedManager"));
  objc_msgSend(v11, "setEnabled:forSubTestWithName:", 1, CFSTR("MSGPPTTest_Insights_ACRanking_Tourist"));

  v12 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v12, "addObserver:selector:name:object:", self, "searchAutoCompleteTestReceiveHandlesOrAddresses:", CFSTR("SearchDidFinishFetchingFindMyHandlesOrAddressBookAddresses"), 0);

  if (self->_searchTestACMode != 2)
    -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("autoComplete"));
  -[MapsAppTestSearch searchAutoCompleteTestSendQuery](self, "searchAutoCompleteTestSendQuery");
}

- (void)searchAutoCompleteTestReceiveHandlesOrAddresses:(id)a3
{
  void *v4;
  id v5;

  v5 = (id)objc_claimAutoreleasedReturnValue(-[NSMutableArray firstObject](self->_autoCompleteQueries, "firstObject", a3));
  v4 = (void *)objc_claimAutoreleasedReturnValue(+[NSString stringWithFormat:](NSString, "stringWithFormat:", CFSTR("collecting handles or contacts - Letter number %lu"), objc_msgSend(v5, "length")));
  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", v4);

}

- (void)searchAutoCompleteTestSendQuery
{
  void *v3;
  SearchFieldItem *v4;
  id v5;
  unint64_t v6;
  void *v7;
  void *v8;
  void *v9;
  void *v10;
  dispatch_time_t v11;
  _QWORD block[5];

  v3 = (void *)objc_claimAutoreleasedReturnValue(-[NSMutableArray firstObject](self->_autoCompleteQueries, "firstObject"));
  if (!v3)
    -[MapsAppTestSearch searchAutoCompleteTestDidFinish](self, "searchAutoCompleteTestDidFinish");
  v4 = objc_alloc_init(SearchFieldItem);
  -[SearchFieldItem setSearchString:](v4, "setSearchString:", v3);
  v5 = objc_msgSend(v3, "length");
  v6 = (unint64_t)v5;
  if (self->_searchTestACMode != 1 || v5 == (id)self->_maxACSearchQueryLength)
  {
    v7 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
    objc_msgSend(v7, "addObserver:selector:name:object:", self, "searchAutoCompleteTestReceiveResponse:", CFSTR("SearchDataProviderDidChangeDataNotification"), 0);

    if (v6 < 6 || self->_directionIntentTestType)
    {
      v8 = (void *)objc_claimAutoreleasedReturnValue(+[NSString stringWithFormat:](NSString, "stringWithFormat:", CFSTR("autoCompleteSubTest - Letter number %lu"), v6));
      -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", v8);

      v9 = (void *)objc_claimAutoreleasedReturnValue(+[NSString stringWithFormat:](NSString, "stringWithFormat:", CFSTR("collecting handles or contacts - Letter number %lu"), v6));
      -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", v9);

    }
  }
  v10 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
  objc_msgSend(v10, "pptTestAutocompleteSearchForFieldItem:", v4);

  if (-[NSMutableArray count](self->_autoCompleteQueries, "count")
    && self->_searchTestACMode == 1
    && v6 != self->_maxACSearchQueryLength)
  {
    v11 = dispatch_time(0, 500000000);
    block[0] = _NSConcreteStackBlock;
    block[1] = 3221225472;
    block[2] = sub_10045BB0C;
    block[3] = &unk_1011AC860;
    block[4] = self;
    dispatch_after(v11, (dispatch_queue_t)&_dispatch_main_q, block);
  }

}

- (void)searchAutoCompleteTestReceiveResponse:(id)a3
{
  id v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  id v10;
  id v11;
  uint64_t v12;
  uint64_t v13;
  void *v14;
  void *v15;
  BOOL v16;
  id v17;
  void *v18;
  void *v19;
  _QWORD block[5];
  __int128 v21;
  __int128 v22;
  __int128 v23;
  __int128 v24;
  _BYTE v25[128];

  v4 = a3;
  v5 = (void *)objc_claimAutoreleasedReturnValue(-[NSMutableArray firstObject](self->_autoCompleteQueries, "firstObject"));
  v6 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v4, "userInfo"));
  v7 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v6, "objectForKeyedSubscript:", CFSTR("SearchDataProviderQueryKey")));

  v8 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v4, "userInfo"));
  v9 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v8, "objectForKeyedSubscript:", CFSTR("SearchDataProviderQueryResultGroupsKey")));

  v23 = 0u;
  v24 = 0u;
  v21 = 0u;
  v22 = 0u;
  v10 = v9;
  v11 = objc_msgSend(v10, "countByEnumeratingWithState:objects:count:", &v21, v25, 16);
  if (v11)
  {
    v12 = 0;
    v13 = *(_QWORD *)v22;
    do
    {
      v14 = 0;
      do
      {
        if (*(_QWORD *)v22 != v13)
          objc_enumerationMutation(v10);
        v15 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(*(id *)(*((_QWORD *)&v21 + 1) + 8 * (_QWORD)v14), "items"));
        v12 += (uint64_t)objc_msgSend(v15, "count");

        v14 = (char *)v14 + 1;
      }
      while (v11 != v14);
      v11 = objc_msgSend(v10, "countByEnumeratingWithState:objects:count:", &v21, v25, 16);
    }
    while (v11);
    LODWORD(v11) = v12 != 0;
  }

  if (objc_msgSend(v7, "isEqualToString:", v5))
    v16 = (_DWORD)v11 == 0;
  else
    v16 = 1;
  if (!v16)
  {
    v17 = objc_msgSend(v5, "length");
    if ((unint64_t)v17 < 6 || self->_directionIntentTestType)
    {
      v18 = (void *)objc_claimAutoreleasedReturnValue(+[NSString stringWithFormat:](NSString, "stringWithFormat:", CFSTR("autoCompleteSubTest - Letter number %lu"), v17));
      -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", v18);

    }
    v19 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
    objc_msgSend(v19, "removeObserver:name:object:", self, CFSTR("SearchDataProviderDidChangeDataNotification"), 0);

    block[0] = _NSConcreteStackBlock;
    block[1] = 3221225472;
    block[2] = sub_10045BDC0;
    block[3] = &unk_1011AC860;
    block[4] = self;
    dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
  }

}

- (void)searchAutoCompleteTestDidFinish
{
  void *v3;
  void *v4;
  id v5;
  _QWORD block[5];
  _QWORD v7[5];
  _QWORD v8[5];
  _QWORD v9[5];
  _QWORD v10[5];

  if (self->_searchTestACMode != 2)
    -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("autoComplete"));
  if (self->_isShowcaseTest)
  {
    if (self->_selectACSuggestionMatchingAddress)
    {
      v3 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
      objc_msgSend(v3, "pptSelectACSuggestionMatchingAddress:", self->_selectACSuggestionMatchingAddress);

      -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("displayPlacecard"));
      -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("fetchPlaceEnrichment"));
      v10[0] = _NSConcreteStackBlock;
      v10[1] = 3221225472;
      v10[2] = sub_10045C044;
      v10[3] = &unk_1011AD1C0;
      v10[4] = self;
      +[PPTNotificationCenter addOnceObserverForName:object:usingBlock:](PPTNotificationCenter, "addOnceObserverForName:object:usingBlock:", MKPlaceViewControllerDidShowNotification, 0, v10);
      v9[0] = _NSConcreteStackBlock;
      v9[1] = 3221225472;
      v9[2] = sub_10045C054;
      v9[3] = &unk_1011AD1C0;
      v9[4] = self;
      +[PPTNotificationCenter addOnceObserverForName:object:usingBlock:](PPTNotificationCenter, "addOnceObserverForName:object:usingBlock:", MUPlaceEnrichmentSectionControllerDidFetchEnrichmentNotification, 0, v9);
      v8[0] = _NSConcreteStackBlock;
      v8[1] = 3221225472;
      v8[2] = sub_10045C064;
      v8[3] = &unk_1011AD1C0;
      v8[4] = self;
      +[PPTNotificationCenter addOnceObserverForName:object:usingBlock:](PPTNotificationCenter, "addOnceObserverForName:object:usingBlock:", MUPlaceEnrichmentSectionControllerDidStartLoadingNotification, 0, v8);
      v7[0] = _NSConcreteStackBlock;
      v7[1] = 3221225472;
      v7[2] = sub_10045C074;
      v7[3] = &unk_1011AD1C0;
      v7[4] = self;
      +[PPTNotificationCenter addOnceObserverForName:object:usingBlock:](PPTNotificationCenter, "addOnceObserverForName:object:usingBlock:", MUPlaceEnrichmentSectionControllerDidFinishLoadingNotification, 0, v7);
    }
    else
    {
      v5 = (id)objc_claimAutoreleasedReturnValue(+[NSString stringWithFormat:](NSString, "stringWithFormat:", CFSTR("Does not know which AC suggestions to select. Add selectACSuggestionMatchingAddress key value in the testDefinitions.plist.")));
      -[MapsAppTest failedTestWithReason:](self, "failedTestWithReason:", v5);

    }
  }
  else
  {
    v4 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
    objc_msgSend(v4, "pptTestSearchEndEditing");

    block[0] = _NSConcreteStackBlock;
    block[1] = 3221225472;
    block[2] = sub_10045C0A4;
    block[3] = &unk_1011AC860;
    block[4] = self;
    dispatch_async((dispatch_queue_t)&_dispatch_main_q, block);
  }
}

- (void)willBeginGEOPPTTest_PlaceRequestTicket_PlaceDataRequest:(id)a3
{
  void *v4;
  uint64_t v5;
  char isKindOfClass;
  void *v7;
  void *v8;
  void *v9;
  void *v10;
  id v11;

  v11 = a3;
  v4 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v11, "object"));
  v5 = objc_opt_class(GEOPDPlaceRequest);
  isKindOfClass = objc_opt_isKindOfClass(v4, v5);

  if ((isKindOfClass & 1) != 0)
  {
    v7 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v11, "object"));
    v8 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v7, "data"));
    v9 = (void *)objc_claimAutoreleasedReturnValue(+[NSNumber numberWithUnsignedInteger:](NSNumber, "numberWithUnsignedInteger:", objc_msgSend(v8, "length")));
    v10 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest results](self, "results"));
    objc_msgSend(v10, "setObject:forKeyedSubscript:", v9, CFSTR("extras:searchRequestSize:bytes"));

  }
}

- (void)didEndGEOPPTTest_PlaceRequestTicket_PlaceDataRequest:(id)a3
{
  void *v4;
  uint64_t v5;
  char isKindOfClass;
  void *v7;
  void *v8;
  void *v9;
  void *v10;
  void *v11;
  double v12;
  void *v13;
  void *v14;
  id v15;

  v15 = a3;
  v4 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v15, "object"));
  v5 = objc_opt_class(GEOPDPlaceResponse);
  isKindOfClass = objc_opt_isKindOfClass(v4, v5);

  v7 = v15;
  if ((isKindOfClass & 1) != 0)
  {
    v8 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v15, "object"));
    v9 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v8, "data"));
    v10 = (void *)objc_claimAutoreleasedReturnValue(+[NSNumber numberWithUnsignedInteger:](NSNumber, "numberWithUnsignedInteger:", objc_msgSend(v9, "length")));
    v11 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest results](self, "results"));
    objc_msgSend(v11, "setObject:forKeyedSubscript:", v10, CFSTR("extras:searchResponseSize:bytes"));

    if (objc_msgSend(v8, "hasDebugLatencyMs"))
    {
      *(float *)&v12 = (float)(unint64_t)objc_msgSend(v8, "debugLatencyMs") / 1000.0;
      v13 = (void *)objc_claimAutoreleasedReturnValue(+[NSNumber numberWithFloat:](NSNumber, "numberWithFloat:", v12));
      v14 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest results](self, "results"));
      objc_msgSend(v14, "setObject:forKeyedSubscript:", v13, CFSTR("extras:searchResponseServerLatency:time"));

    }
    v7 = v15;
  }

}

- (void)sendSearchRequest
{
  void *v3;
  unint64_t v4;
  void *v5;
  SearchFieldItem *v6;

  v3 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v3, "addObserver:selector:name:object:", self, "searchRequestSent:", CFSTR("SearchManagerSearchForStringRequestSentNotification"), 0);

  v6 = objc_alloc_init(SearchFieldItem);
  -[SearchFieldItem setSearchString:](v6, "setSearchString:", self->_query);
  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("searchRequestSent"));
  v4 = self->_directionIntentTestType - 1;
  if (v4 <= 2)
    -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", off_1011B7508[v4]);
  v5 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest testCoordinator](self, "testCoordinator"));
  objc_msgSend(v5, "pptTestSearchForFieldItem:", v6);

}

- (void)searchRequestSent:(id)a3
{
  void *v4;
  id v5;

  v4 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter", a3));
  objc_msgSend(v4, "removeObserver:name:object:", self, CFSTR("SearchManagerSearchForStringRequestSentNotification"), 0);

  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("searchRequestSent"));
  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("searchResultReceived"));
  v5 = (id)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v5, "addObserver:selector:name:object:", self, "searchSessionDidChangeSearchResults:", CFSTR("SearchSessionDidChangeSearchResultsNotification"), 0);

}

- (void)searchSessionDidChangeSearchResults:(id)a3
{
  id v4;
  void *v5;
  void *v6;
  void *v7;
  void *v8;
  void *v9;
  id v10;

  v4 = a3;
  v10 = v4;
  if (!self->_isNearbyTest)
  {
    v5 = (void *)objc_claimAutoreleasedReturnValue(+[GEONotificationPreferenceManager sharedManager](GEONotificationPreferenceManager, "sharedManager"));
    objc_msgSend(v5, "setEnabled:forSubTestWithName:", 0, CFSTR("GEOPPTTest_PlaceRequestTicket_PlaceDataRequest"));

    v6 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
    objc_msgSend(v6, "removeObserver:name:object:", self, CFSTR("GEOPPTTest_PlaceRequestTicket_PlaceDataRequestBEGIN"), 0);

    v7 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
    objc_msgSend(v7, "removeObserver:name:object:", self, CFSTR("GEOPPTTest_PlaceRequestTicket_PlaceDataRequestEND"), 0);

    v8 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
    objc_msgSend(v8, "removeObserver:name:object:", self, CFSTR("SearchSessionDidChangeSearchResultsNotification"), 0);

    v4 = v10;
  }
  v9 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v4, "object"));
  if (v9)
  {
    if (!self->_isNearbyTest)
      -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("searchResultReceived"));
    -[MapsAppTestSearch continueToAnnotationsTestsWithSearchSession:](self, "continueToAnnotationsTestsWithSearchSession:", v9);
  }
  else
  {
    -[MapsAppTest failedTest](self, "failedTest");
  }

}

- (void)continueToAnnotationsTestsWithSearchSession:(id)a3
{
  id v4;
  void *v5;
  void *v6;
  id v7;
  void *v8;
  void *v9;
  void *v10;
  const __CFString *v11;
  void *v12;

  v4 = a3;
  v5 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v4, "searchInfo"));
  v6 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v5, "results"));
  v7 = objc_msgSend(v6, "count");

  v8 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v4, "searchInfo"));
  v9 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v8, "directionIntent"));

  if (v9)
  {
    -[MapsAppTestSearch continueDirectionIntentTest](self, "continueDirectionIntentTest");
  }
  else if (v7)
  {
    if (v7 == (id)1)
    {
      v10 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
      objc_msgSend(v10, "addObserver:selector:name:object:", self, "annotationPinDroppedForAResult:", CFSTR("MapsPinsDroppedForSearchResultsNotification"), 0);

      v11 = CFSTR("annotationsDroppedAndSelected");
    }
    else
    {
      v12 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
      objc_msgSend(v12, "addObserver:selector:name:object:", self, "annotationPinDroppedForResults:", CFSTR("MapsPinsDroppedForSearchResultsNotification"), 0);

      v11 = CFSTR("annotationsDropped");
    }
    -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", v11);
  }
  else
  {
    if (self->_isNearbyTest)
      -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("nearby"));
    -[MapsAppTest finishedTest](self, "finishedTest");
  }
}

- (void)annotationPinDroppedForAResult:(id)a3
{
  id v4;
  void *v5;
  _QWORD v6[4];
  id v7;
  id location;

  v4 = a3;
  v5 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v5, "removeObserver:name:object:", self, CFSTR("MapsPinsDroppedForSearchResultsNotification"), 0);
  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("annotationsDroppedAndSelected"));
  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("mapViewFullyDrawn"));
  objc_initWeak(&location, self);
  v6[0] = _NSConcreteStackBlock;
  v6[1] = 3221225472;
  v6[2] = sub_10045C89C;
  v6[3] = &unk_1011AD260;
  objc_copyWeak(&v7, &location);
  -[MapsAppTest addFullyDrawnCallback:](self, "addFullyDrawnCallback:", v6);
  objc_destroyWeak(&v7);
  objc_destroyWeak(&location);

}

- (void)annotationPinDroppedForResults:(id)a3
{
  id v4;
  void *v5;
  _QWORD v6[4];
  id v7;
  id location;

  v4 = a3;
  v5 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v5, "removeObserver:name:object:", self, CFSTR("MapsPinsDroppedForSearchResultsNotification"), 0);
  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("annotationsDropped"));
  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("mapViewFullyDrawn"));
  objc_initWeak(&location, self);
  v6[0] = _NSConcreteStackBlock;
  v6[1] = 3221225472;
  v6[2] = sub_10045C9D4;
  v6[3] = &unk_1011AD260;
  objc_copyWeak(&v7, &location);
  -[MapsAppTest addFullyDrawnCallback:](self, "addFullyDrawnCallback:", v6);
  objc_destroyWeak(&v7);
  objc_destroyWeak(&location);

}

- (void)continueToNearbyScrollTests
{
  void *v3;
  void *v4;
  dispatch_time_t v5;
  id v6;
  _QWORD v7[4];
  id v8;
  MapsAppTestSearch *v9;

  v3 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest options](self, "options"));
  v4 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "objectForKeyedSubscript:", CFSTR("testName")));

  v5 = dispatch_time(0, 1000000000);
  v7[0] = _NSConcreteStackBlock;
  v7[1] = 3221225472;
  v7[2] = sub_10045CAE8;
  v7[3] = &unk_1011AC8B0;
  v8 = v4;
  v9 = self;
  v6 = v4;
  dispatch_after(v5, (dispatch_queue_t)&_dispatch_main_q, v7);

}

- (void)finishSearchTest:(id)a3
{
  dispatch_time_t v4;
  _QWORD block[5];

  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("mapViewFullyDrawn"));
  if (self->_isNearbyTest)
  {
    v4 = dispatch_time(0, 2000000000);
    block[0] = _NSConcreteStackBlock;
    block[1] = 3221225472;
    block[2] = sub_10045CC54;
    block[3] = &unk_1011AC860;
    block[4] = self;
    dispatch_after(v4, (dispatch_queue_t)&_dispatch_main_q, block);
  }
  else
  {
    -[MapsAppTest finishedTest](self, "finishedTest");
  }
}

- (void)startRefreshSearchTestIfNeeded
{
  void *v3;
  uint64_t v4;
  void *v5;
  uint64_t v6;
  void *v7;
  uint64_t v8;
  void *v9;
  void *v10;
  void *v11;
  GEOMapRegion *v12;
  void *v13;
  void *v14;
  void *v15;
  void *v16;
  void *v17;
  _QWORD v18[5];

  v3 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest options](self, "options"));
  v4 = objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "valueForKey:", CFSTR("refreshWestLng")));
  if (!v4)
    goto LABEL_8;
  v5 = (void *)v4;
  v6 = objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "valueForKey:", CFSTR("refreshEastLng")));
  if (!v6)
    goto LABEL_7;
  v7 = (void *)v6;
  v8 = objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "valueForKey:", CFSTR("refreshSouthLat")));
  if (!v8)
  {

LABEL_7:
    goto LABEL_8;
  }
  v9 = (void *)v8;
  v10 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "valueForKey:", CFSTR("refreshNorthLat")));

  if (!v10)
  {
LABEL_8:
    -[MapsAppTest finishedTest](self, "finishedTest");
    goto LABEL_9;
  }
  v11 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v11, "removeObserver:name:object:", self, CFSTR("SearchSessionDidChangeSearchResultsNotification"), 0);

  v12 = objc_opt_new(GEOMapRegion);
  v13 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "valueForKey:", CFSTR("refreshWestLng")));
  objc_msgSend(v13, "doubleValue");
  -[GEOMapRegion setWestLng:](v12, "setWestLng:");

  v14 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "valueForKey:", CFSTR("refreshEastLng")));
  objc_msgSend(v14, "doubleValue");
  -[GEOMapRegion setEastLng:](v12, "setEastLng:");

  v15 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "valueForKey:", CFSTR("refreshSouthLat")));
  objc_msgSend(v15, "doubleValue");
  -[GEOMapRegion setSouthLat:](v12, "setSouthLat:");

  v16 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v3, "valueForKey:", CFSTR("refreshNorthLat")));
  objc_msgSend(v16, "doubleValue");
  -[GEOMapRegion setNorthLat:](v12, "setNorthLat:");

  v17 = (void *)objc_claimAutoreleasedReturnValue(-[MapsAppTest mainVKMapView](self, "mainVKMapView"));
  v18[0] = _NSConcreteStackBlock;
  v18[1] = 3221225472;
  v18[2] = sub_10045CE6C;
  v18[3] = &unk_1011AE8F8;
  v18[4] = self;
  objc_msgSend(v17, "setMapRegion:pitch:yaw:duration:completion:", v12, v18, 0.0, 0.0, 2.0);

LABEL_9:
}

- (void)refreshSearchRequestSent:(id)a3
{
  void *v4;
  void *v5;
  void *v6;

  v4 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter", a3));
  objc_msgSend(v4, "removeObserver:name:object:", self, CFSTR("SearchManagerSearchForStringRequestSentNotification"), 0);

  v5 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v5, "addObserver:selector:name:object:", self, "refreshSearchAnnotationPinDroppedForResults:", CFSTR("MapsPinsDroppedForSearchResultsNotification"), 0);

  v6 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v6, "addObserver:selector:name:object:", self, "refreshSearchSessionDidChangeSearchResults:", CFSTR("SearchSessionDidChangeSearchResultsNotification"), 0);

  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("refreshSearch - searchRequestSent"));
  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("refreshSearch - searchResultReceived"));
}

- (void)refreshSearchSessionDidChangeSearchResults:(id)a3
{
  id v4;
  void *v5;
  void *v6;
  void *v7;
  id v8;
  void *v9;
  id v10;

  v4 = a3;
  v5 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v5, "removeObserver:name:object:", self, CFSTR("SearchSessionDidChangeSearchResultsNotification"), 0);

  v10 = (id)objc_claimAutoreleasedReturnValue(objc_msgSend(v4, "object"));
  if (v10)
  {
    -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("refreshSearch - searchResultReceived"));
    v6 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v10, "searchInfo"));
    v7 = (void *)objc_claimAutoreleasedReturnValue(objc_msgSend(v6, "results"));
    v8 = objc_msgSend(v7, "count");

    if ((unint64_t)v8 < 2)
    {
      v9 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
      objc_msgSend(v9, "removeObserver:name:object:", self, CFSTR("MapsPinsDroppedForSearchResultsNotification"), 0);

      -[MapsAppTest finishedTest](self, "finishedTest");
    }
    else
    {
      -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("refreshSearch - annotationsDropped"));
    }
  }
  else
  {
    -[MapsAppTest failedTest](self, "failedTest");
  }

}

- (void)refreshSearchAnnotationPinDroppedForResults:(id)a3
{
  id v4;
  void *v5;
  _QWORD v6[4];
  id v7;
  id location;

  v4 = a3;
  v5 = (void *)objc_claimAutoreleasedReturnValue(+[NSNotificationCenter defaultCenter](NSNotificationCenter, "defaultCenter"));
  objc_msgSend(v5, "removeObserver:name:object:", self, CFSTR("MapsPinsDroppedForSearchResultsNotification"), 0);
  -[MapsAppTestSearch finishedSubTest:](self, "finishedSubTest:", CFSTR("refreshSearch - annotationsDropped"));
  -[MapsAppTestSearch startedSubTest:](self, "startedSubTest:", CFSTR("refreshSearch - mapViewFullyDrawn"));
  objc_initWeak(&location, self);
  v6[0] = _NSConcreteStackBlock;
  v6[1] = 3221225472;
  v6[2] = sub_10045D1E8;
  v6[3] = &unk_1011AD260;
  objc_copyWeak(&v7, &location);
  -[MapsAppTest addFullyDrawnCallback:](self, "addFullyDrawnCallback:", v6);
  objc_destroyWeak(&v7);
  objc_destroyWeak(&location);

}

- (void)continueDirectionIntentTest
{
  int64_t directionIntentTestType;
  const __CFString *v3;
  void ***v4;
  void **v5;
  uint64_t v6;
  id (*v7)(uint64_t);
  void *v8;
  MapsAppTestSearch *v9;
  void **v10;
  uint64_t v11;
  id (*v12)(uint64_t);
  void *v13;
  MapsAppTestSearch *v14;

  directionIntentTestType = self->_directionIntentTestType;
  if ((unint64_t)(directionIntentTestType - 2) >= 2)
  {
    if (directionIntentTestType != 1)
      return;
    v3 = CFSTR("RouteSearchViewControllerDidAppear");
    v10 = _NSConcreteStackBlock;
    v11 = 3221225472;
    v12 = sub_10045D310;
    v13 = &unk_1011AD1C0;
    v14 = self;
    v4 = &v10;
  }
  else
  {
    v3 = CFSTR("MapsRoutePlanningShowingRoutesNotification");
    v5 = _NSConcreteStackBlock;
    v6 = 3221225472;
    v7 = sub_10045D340;
    v8 = &unk_1011AD1C0;
    v9 = self;
    v4 = &v5;
  }
  +[PPTNotificationCenter addOnceObserverForName:object:usingBlock:](PPTNotificationCenter, "addOnceObserverForName:object:usingBlock:", v3, 0, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14);
}

- (void).cxx_destruct
{
  objc_storeStrong((id *)&self->_selectACSuggestionMatchingAddress, 0);
  objc_storeStrong((id *)&self->_autoCompleteQueries, 0);
  objc_storeStrong((id *)&self->_query, 0);
}

@end
